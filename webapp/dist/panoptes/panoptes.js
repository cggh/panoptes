!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="/panoptes/",e(0)}(function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(typeof t[e]){case"function":break;case"object":t[e]=function(e){var n=e.slice(1),r=t[e[0]];return function(t,e,o){r.apply(this,[t,e,o].concat(n))}}(t[e]);break;default:t[e]=t[t[e]]}return t}([function(t,e,n){t.exports=n(298)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function i(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){m&&h&&(m=!1,h.length?d=h.concat(d):y=-1,d.length&&s())}function s(){if(!m){var t=o(a);m=!0;for(var e=d.length;e;){for(h=d,d=[];++y<e;)h&&h[y].run();y=-1,e=d.length}h=null,m=!1,i(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,f,p=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var h,d=[],m=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new l(t,e)),1!==d.length||m||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e={session:{components:{FirstTab:{type:"StartTab",props:{}}},tabs:{components:["FirstTab"],selectedTab:"FirstTab",unclosableTab:"FirstTab"},popups:{components:[],state:{}},modal:{},foundGenes:[],usedTableQueries:[]}};t=t.pathname.split("/"),t=(0,W["default"])(t);var n=Math.max(0,t.length-2),r=Math.min(n+2,t.length);if(t=t.slice(n,r),"panoptes"===t[0]&&t.shift(),0===t.length)return{};if(1===t.length)return{dataset:t[0],state:e};var o=V.exec(t[1]);return o?{dataset:t[0],state:j["default"].fetchData(o[0]).then(function(t){return t||e})}:{dataset:t[1],state:e}}var i=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(299),s=r(a),l=n(307),u=r(l),c=n(316),f=r(c),p=n(345),h=r(p),d=n(477),m=r(d),y=n(574),v=r(y),g=n(575),b=r(g),_=n(1241),x=r(_),w=n(1616),T=r(w),E=n(1621),C=r(E),k=n(1622),S=r(k),P=n(1623),M=r(P),A=n(1624),O=r(A),D=n(1625),L=r(D),I=n(933),j=r(I),F=n(1626),R=r(F),N=n(1627),z=r(N),B=n(1631),U=(r(B),n(768)),W=r(U);n(1639),n(1640);var q=(0,u["default"])();(0,z["default"])(),h["default"].render(f["default"].createElement("div",null,f["default"].createElement(x["default"],{status:"loading-hide"})),document.getElementById("main"));var V=/\w{8}-\w{4}-\w{4}-\w{4}-\w{12}$/;Promise.prototype.done=function(t,e){this.then(t,e)["catch"](function(t){setTimeout(function(){throw console.log(t.stack),t})})};var H=o(window.location),G=H.dataset,Y=H.state;G?Promise.all([(0,R["default"])(G),Y]).then(function(t){var e=i(t,2),n=e[0],r=e[1],a={PanoptesStore:new C["default"]({storedSubsets:{}}),SessionStore:new T["default"](r.session),ConfigStore:new S["default"](n)},l=function(){var t=v["default"].Map();return t=t.set("session",a.SessionStore.getState().set("modal",v["default"].Map()))},u=l(),c=null,p=function(){if(c)return void(c=!1);c=!1;var t=l();u.equals(t)||(u=t,j["default"].storeData(t.toJS()).then(function(e){var n=V.exec(window.location.pathname)||"/"===window.location.pathname[window.location.pathname.length-1]?e:G+"/"+e;q.push(n,t.toJS())}))};p=(0,s["default"])(p,250),a.SessionStore.on("change",p),q.listen(function(t,e){if("POP"===e){var n=v["default"].fromJS((t.state?t.state.session:null)||o(t.pathname).session);n.equals(a.SessionStore.state)||(a.SessionStore.state=n,c=!0,a.SessionStore.emit("change"))}});var d={session:M["default"],panoptes:(0,O["default"])(n),api:L["default"]},y=new m["default"].Flux(a,d);y.setDispatchInterceptor(function(t,e){return h["default"].unstable_batchedUpdates(function(){return e(t)})}),h["default"].render(f["default"].createElement("div",null,f["default"].createElement(x["default"],{status:"done"}),f["default"].createElement(b["default"],{flux:y})),document.getElementById("main"))})["catch"](function(t){throw h["default"].render(f["default"].createElement("div",null,f["default"].createElement(x["default"],{status:"error"},t.responseText||t.message||"Error")),document.getElementById("main")),t}).done():h["default"].render(f["default"].createElement("div",null,f["default"].createElement(x["default"],{status:"error"},"No dataset selected, append an ID of one to your URL")),document.getElementById("main"))},function(t,e,n){function r(t,e,n){function r(e){var n=g,r=b;return g=b=void 0,E=e,x=t.apply(r,n)}function c(t){return E=t,w=setTimeout(h,e),C?r(t):x}function f(t){var n=t-T,r=t-E,o=e-n;return k?u(o,_-r):o}function p(t){var n=t-T,r=t-E;return void 0===T||n>=e||n<0||k&&r>=_}function h(){var t=i();return p(t)?d(t):void(w=setTimeout(h,f(t)))}function d(t){return w=void 0,S&&g?r(t):(g=b=void 0,x)}function m(){void 0!==w&&clearTimeout(w),E=0,g=T=b=w=void 0}function y(){return void 0===w?x:d(i())}function v(){var t=i(),n=p(t);if(g=arguments,b=this,T=t,n){if(void 0===w)return c(T);if(k)return w=setTimeout(h,e),r(T)}return void 0===w&&(w=setTimeout(h,e)),x}var g,b,_,x,w,T,E=0,C=!1,k=!1,S=!0;if("function"!=typeof t)throw new TypeError(s);return e=a(e)||0,o(n)&&(C=!!n.leading,k="maxWait"in n,_=k?l(a(n.maxWait)||0,e):_,S="trailing"in n?!!n.trailing:S),v.cancel=m,v.flush=y,v}var o=n(300),i=n(301),a=n(304),s="Expected a function",l=Math.max,u=Math.min;t.exports=r},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){var r=n(302),o=function(){return r.Date.now()};t.exports=o},function(t,e,n){var r=n(303),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){function r(t){if("number"==typeof t)return t;if(i(t))return a;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=u.test(t);return n||c.test(t)?f(t.slice(2),n?2:8):l.test(t)?a:+t}var o=n(300),i=n(305),a=NaN,s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;t.exports=r},function(t,e,n){function r(t){return"symbol"==typeof t||o(t)&&s.call(t)==i}var o=n(306),i="[object Symbol]",a=Object.prototype,s=a.toString;t.exports=r},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),i=n(308),a=(r(i),n(309)),s=r(a),l=n(310),u=n(312),c=n(313),f=r(c),p=n(314),h=n(315),d="popstate",m="hashchange",y=function(){try{return window.history.state||{}}catch(t){return{}}},v=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];p.canUseDOM?void 0:(0,s["default"])(!1);var e=window.history,n=(0,h.supportsHistory)(),r=!(0,h.supportsPopStateOnHashChange)(),i=t.basename,a=void 0===i?"":i,c=t.forceRefresh,v=void 0!==c&&c,g=t.getUserConfirmation,b=void 0===g?h.getConfirmation:g,_=t.keyLength,x=void 0===_?6:_,w=function(t){var e=t||{},n=e.key,r=e.state,i=window.location,s=i.pathname,l=i.search,c=i.hash,f=s+l+c;return a&&(f=(0,u.stripPrefix)(f,a)),o({},(0,u.parsePath)(f),{state:r,key:n})},T=function(){return Math.random().toString(36).substr(2,x)},E=(0,f["default"])(),C=function(t){o(q,t),q.length=e.length,E.notifyListeners(q.location,q.action)},k=function(t){void 0!==t.state&&M(w(t.state))},S=function(){M(w(y()))},P=!1,M=function(t){P?(P=!1,C()):!function(){var e="POP";E.confirmTransitionTo(t,e,b,function(n){n?C({action:e,location:t}):A(t)})}()},A=function(t){var e=q.location,n=D.indexOf(e.key);n===-1&&(n=0);var r=D.indexOf(t.key);r===-1&&(r=0);var o=n-r;o&&(P=!0,j(o))},O=w(y()),D=[O.key],L=function(t,r){var o="PUSH",i=(0,l.createLocation)(t,r,T(),q.location);E.confirmTransitionTo(i,o,b,function(t){if(t){var r=a+(0,u.createPath)(i),s=i.key,l=i.state;if(n)if(e.pushState({key:s,state:l},null,r),v)window.location.href=r;else{var c=D.indexOf(q.location.key),f=D.slice(0,c===-1?0:c+1);f.push(i.key),D=f,C({action:o,location:i})}else window.location.href=r}})},I=function(t,r){var o="REPLACE",i=(0,l.createLocation)(t,r,T(),q.location);E.confirmTransitionTo(i,o,b,function(t){if(t){var r=a+(0,u.createPath)(i),s=i.key,l=i.state;if(n)if(e.replaceState({key:s,state:l},null,r),v)window.location.replace(r);else{var c=D.indexOf(q.location.key);c!==-1&&(D[c]=i.key),C({action:o,location:i})}else window.location.replace(r)}})},j=function(t){e.go(t)},F=function(){return j(-1)},R=function(){return j(1)},N=0,z=function(t){N+=t,1===N?((0,h.addEventListener)(window,d,k),r&&(0,h.addEventListener)(window,m,S)):0===N&&((0,h.removeEventListener)(window,d,k),r&&(0,h.removeEventListener)(window,m,S))},B=!1,U=function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=E.setPrompt(t);return B||(z(1),B=!0),function(){return B&&(B=!1,z(-1)),e()}},W=function(t){var e=E.appendListener(t);return z(1),function(){return z(-1),e()}},q={length:e.length,action:"POP",location:O,push:L,replace:I,go:j,goBack:F,goForward:R,block:U,listen:W};return q};e["default"]=v},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){"use strict";var r=function(t,e,n,r,o,i,a,s){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;l=new Error(e.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.locationsAreEqual=e.createLocation=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(311),s=r(a),l=n(312),u=(e.createLocation=function(t,e,n,r){var o=void 0;return"string"==typeof t?(o=(0,l.parsePath)(t),o.state=e):(o=i({},t),void 0===o.pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e)),o.key=n,r&&(o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=(0,s["default"])(o.pathname,r.pathname)):o.pathname=r.pathname),o},function c(t,e){if(null==t)return t==e;var n="undefined"==typeof t?"undefined":o(t),r="undefined"==typeof e?"undefined":o(e);if(n!==r)return!1;if(Array.isArray(t))return!(!Array.isArray(e)||t.length!==e.length)&&t.every(function(t,n){return c(t,e[n])});if("object"===n){var i=Object.keys(t),a=Object.keys(e);return i.length===a.length&&i.every(function(n){return c(t[n],e[n])})}return t===e});e.locationsAreEqual=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&u(t.state,e.state)}},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){"use strict";var n=function(t){return"/"===t.charAt(0)},r=function(t,e){for(var n=e,r=n+1,o=t.length;o>r;n+=1,r+=1)t[n]=t[r];t.pop()},o=function(t){var e=arguments.length<=1||void 0===arguments[1]?"":arguments[1],o=t&&t.split("/")||[],i=e&&e.split("/")||[],a=t&&n(t),s=e&&n(e),l=a||s;if(t&&n(t)?i=o:o.length&&(i.pop(),i=i.concat(o)),!i.length)return"/";var u=void 0;if(i.length){var c=i[i.length-1];u="."===c||".."===c||""===c}else u=!1;for(var f=0,p=i.length;p>=0;p--){var h=i[p];"."===h?r(i,p):".."===h?(r(i,p),f++):f&&(r(i,p),f--)}if(!l)for(;f--;f)i.unshift("..");!l||""===i[0]||i[0]&&n(i[0])||i.unshift("");var d=i.join("/");return u&&"/"!==d.substr(-1)&&(d+="/"),d};t.exports=o}])})},function(t,e){"use strict";e.__esModule=!0;e.addLeadingSlash=function(t){return"/"===t.charAt(0)?t:"/"+t},e.stripLeadingSlash=function(t){return"/"===t.charAt(0)?t.substr(1):t},e.stripPrefix=function(t,e){return 0===t.indexOf(e)?t.substr(e.length):t},e.parsePath=function(t){var e=t||"/",n="",r="",o=e.indexOf("#");o!==-1&&(r=e.substr(o),e=e.substr(0,o));var i=e.indexOf("?");return i!==-1&&(n=e.substr(i),e=e.substr(0,i)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}},e.createPath=function(t){var e=t.pathname,n=t.search,r=t.hash,o=e||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(308),i=(r(o),function(){var t=null,e=function(e){return t=e,function(){t===e&&(t=null)}},n=function(e,n,r,o){if(null!=t){var i="function"==typeof t?t(e,n):t;"string"==typeof i?"function"==typeof r?r(i,o):o(!0):o(i!==!1)}else o(!0)},r=[],o=function(t){return r.push(t),function(){r=r.filter(function(e){return e!==t})}},i=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.forEach(function(t){return t.apply(void 0,e)})};return{setPrompt:e,confirmTransitionTo:n,appendListener:o,notifyListeners:i}});e["default"]=i},function(t,e){"use strict";e.__esModule=!0;e.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(t,e){"use strict";e.__esModule=!0;e.addEventListener=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},e.removeEventListener=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},e.getConfirmation=function(t,e){return e(window.confirm(t))},e.supportsHistory=function(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")===-1&&t.indexOf("Android 4.0")===-1||t.indexOf("Mobile Safari")===-1||t.indexOf("Chrome")!==-1||t.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)},e.supportsPopStateOnHashChange=function(){return window.navigator.userAgent.indexOf("Trident")===-1},e.supportsGoWithoutReloadUsingHash=function(){return window.navigator.userAgent.indexOf("Firefox")===-1}},function(t,e,n){"use strict";t.exports=n(317)},function(t,e,n){"use strict";var r=n(318),o=n(319),i=n(331),a=n(334),s=n(335),l=n(340),u=n(323),c=n(341),f=n(343),p=n(344),h=(n(325),u.createElement),d=u.createFactory,m=u.cloneElement,y=r,v={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:p},Component:i,PureComponent:a,createElement:h,cloneElement:m,isValidElement:u.isValidElement,PropTypes:c,createClass:s.createClass,createFactory:d,createMixin:function(t){return t},DOM:l,version:f,__spread:y};t.exports=v},function(t,e){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function r(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(i){return!1}}var o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=r()?Object.assign:function(t,e){for(var r,a,s=n(t),l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var u in r)o.call(r,u)&&(s[u]=r[u]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(r);for(var c=0;c<a.length;c++)i.call(r,a[c])&&(s[a[c]]=r[a[c]])}}return s}},function(t,e,n){"use strict";function r(t){return(""+t).replace(_,"$&/")}function o(t,e){this.func=t,this.context=e,this.count=0}function i(t,e,n){var r=t.func,o=t.context;r.call(o,e,t.count++)}function a(t,e,n){if(null==t)return t;var r=o.getPooled(e,n);v(t,i,r),o.release(r)}function s(t,e,n,r){this.result=t,this.keyPrefix=e,this.func=n,this.context=r,this.count=0}function l(t,e,n){var o=t.result,i=t.keyPrefix,a=t.func,s=t.context,l=a.call(s,e,t.count++);Array.isArray(l)?u(l,o,n,y.thatReturnsArgument):null!=l&&(m.isValidElement(l)&&(l=m.cloneAndReplaceKey(l,i+(!l.key||e&&e.key===l.key?"":r(l.key)+"/")+n)),o.push(l))}function u(t,e,n,o,i){var a="";null!=n&&(a=r(n)+"/");var u=s.getPooled(e,a,o,i);v(t,l,u),s.release(u)}function c(t,e,n){if(null==t)return t;var r=[];return u(t,r,null,e,n),r}function f(t,e,n){return null}function p(t,e){return v(t,f,null)}function h(t){var e=[];return u(t,e,null,y.thatReturnsArgument),e}var d=n(320),m=n(323),y=n(326),v=n(328),g=d.twoArgumentPooler,b=d.fourArgumentPooler,_=/\/+/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},d.addPoolingTo(o,g),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},d.addPoolingTo(s,b);var x={forEach:a,map:c,mapIntoWithKeyPrefixInternal:u,count:p,toArray:h};t.exports=x},function(t,e,n){"use strict";var r=n(321),o=(n(322),function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)}),i=function(t,e){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,t,e),r}return new n(t,e)},a=function(t,e,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,t,e,n),o}return new r(t,e,n)},s=function(t,e,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,t,e,n,r),i}return new o(t,e,n,r)},l=function(t,e,n,r,o){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();return i.call(a,t,e,n,r,o),a}return new i(t,e,n,r,o)},u=function(t){var e=this;t instanceof e?void 0:r("25"),t.destructor(),e.instancePool.length<e.poolSize&&e.instancePool.push(t)},c=10,f=o,p=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||f,n.poolSize||(n.poolSize=c),n.release=u,n},h={addPoolingTo:p,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:l};t.exports=h},function(t,e){"use strict";function n(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}t.exports=n},function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;l=new Error(e.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}t.exports=r},function(t,e,n){"use strict";function r(t){return void 0!==t.ref}function o(t){return void 0!==t.key}var i=n(318),a=n(324),s=(n(325),n(327),Object.prototype.hasOwnProperty),l="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,u={key:!0,ref:!0,__self:!0,__source:!0},c=function(t,e,n,r,o,i,a){var s={$$typeof:l,type:t,key:e,ref:n,props:a,_owner:i};return s};c.createElement=function(t,e,n){var i,l={},f=null,p=null,h=null,d=null;if(null!=e){r(e)&&(p=e.ref),o(e)&&(f=""+e.key),h=void 0===e.__self?null:e.__self,d=void 0===e.__source?null:e.__source;for(i in e)s.call(e,i)&&!u.hasOwnProperty(i)&&(l[i]=e[i])}var m=arguments.length-2;if(1===m)l.children=n;else if(m>1){for(var y=Array(m),v=0;v<m;v++)y[v]=arguments[v+2];l.children=y}if(t&&t.defaultProps){var g=t.defaultProps;for(i in g)void 0===l[i]&&(l[i]=g[i])}return c(t,f,p,h,d,a.current,l)},c.createFactory=function(t){var e=c.createElement.bind(null,t);return e.type=t,e},c.cloneAndReplaceKey=function(t,e){var n=c(t.type,e,t.ref,t._self,t._source,t._owner,t.props);return n},c.cloneElement=function(t,e,n){var l,f=i({},t.props),p=t.key,h=t.ref,d=t._self,m=t._source,y=t._owner;if(null!=e){r(e)&&(h=e.ref,y=a.current),o(e)&&(p=""+e.key);var v;t.type&&t.type.defaultProps&&(v=t.type.defaultProps);for(l in e)s.call(e,l)&&!u.hasOwnProperty(l)&&(void 0===e[l]&&void 0!==v?f[l]=v[l]:f[l]=e[l])}var g=arguments.length-2;if(1===g)f.children=n;else if(g>1){for(var b=Array(g),_=0;_<g;_++)b[_]=arguments[_+2];f.children=b}return c(t.type,p,h,d,m,y,f)},c.isValidElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===l},c.REACT_ELEMENT_TYPE=l,t.exports=c},function(t,e){"use strict";var n={current:null};t.exports=n},function(t,e,n){"use strict";var r=n(326),o=r;t.exports=o},function(t,e){"use strict";function n(t){return function(){return t}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e,n){"use strict";var r=!1;t.exports=r},function(t,e,n){"use strict";function r(t,e){return t&&"object"==typeof t&&null!=t.key?u.escape(t.key):e.toString(36)}function o(t,e,n,i){var p=typeof t;if("undefined"!==p&&"boolean"!==p||(t=null),null===t||"string"===p||"number"===p||s.isValidElement(t))return n(i,t,""===e?c+r(t,0):e),1;var h,d,m=0,y=""===e?c:e+f;if(Array.isArray(t))for(var v=0;v<t.length;v++)h=t[v],d=y+r(h,v),m+=o(h,d,n,i);else{var g=l(t);if(g){var b,_=g.call(t);if(g!==t.entries)for(var x=0;!(b=_.next()).done;)h=b.value,d=y+r(h,x++),m+=o(h,d,n,i);else for(;!(b=_.next()).done;){var w=b.value;w&&(h=w[1],d=y+u.escape(w[0])+f+r(h,0),m+=o(h,d,n,i))}}else if("object"===p){var T="",E=String(t);a("31","[object Object]"===E?"object with keys {"+Object.keys(t).join(", ")+"}":E,T)}}return m}function i(t,e,n){return null==t?0:o(t,"",e,n)}var a=n(321),s=(n(324),n(323)),l=n(329),u=(n(322),n(330)),c=(n(325),"."),f=":";t.exports=i},function(t,e){"use strict";function n(t){var e=t&&(r&&t[r]||t[o]);if("function"==typeof e)return e}var r="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";t.exports=n},function(t,e){"use strict";function n(t){var e=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+t).replace(e,function(t){return n[t]});return"$"+r}function r(t){var e=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===t[0]&&"$"===t[1]?t.substring(2):t.substring(1);return(""+r).replace(e,function(t){return n[t]})}var o={escape:n,unescape:r};t.exports=o},function(t,e,n){"use strict";function r(t,e,n){this.props=t,this.context=e,this.refs=a,this.updater=n||i}var o=n(321),i=n(332),a=(n(327),n(333));n(322),n(325);r.prototype.isReactComponent={},r.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t?o("85"):void 0,this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e,"setState")},r.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t,"forceUpdate")};t.exports=r},function(t,e,n){"use strict";function r(t,e){}var o=(n(325),{isMounted:function(t){return!1},enqueueCallback:function(t,e){},enqueueForceUpdate:function(t){r(t,"forceUpdate")},enqueueReplaceState:function(t,e){r(t,"replaceState")},enqueueSetState:function(t,e){r(t,"setState")}});t.exports=o},function(t,e,n){"use strict";var r={};t.exports=r},function(t,e,n){"use strict";function r(t,e,n){this.props=t,this.context=e,this.refs=l,this.updater=n||s}function o(){}var i=n(318),a=n(331),s=n(332),l=n(333);o.prototype=a.prototype,r.prototype=new o,r.prototype.constructor=r,i(r.prototype,a.prototype),r.prototype.isPureReactComponent=!0,t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=w.hasOwnProperty(e)?w[e]:null;E.hasOwnProperty(e)&&(n!==_.OVERRIDE_BASE?f("73",e):void 0),t&&(n!==_.DEFINE_MANY&&n!==_.DEFINE_MANY_MERGED?f("74",e):void 0)}function o(t,e){if(e){"function"==typeof e?f("75"):void 0,d.isValidElement(e)?f("76"):void 0;var n=t.prototype,o=n.__reactAutoBindPairs;e.hasOwnProperty(b)&&T.mixins(t,e.mixins);for(var i in e)if(e.hasOwnProperty(i)&&i!==b){var a=e[i],u=n.hasOwnProperty(i);if(r(u,i),T.hasOwnProperty(i))T[i](t,a);else{var c=w.hasOwnProperty(i),p="function"==typeof a,h=p&&!c&&!u&&e.autobind!==!1;if(h)o.push(i,a),n[i]=a;else if(u){var m=w[i];!c||m!==_.DEFINE_MANY_MERGED&&m!==_.DEFINE_MANY?f("77",m,i):void 0,m===_.DEFINE_MANY_MERGED?n[i]=s(n[i],a):m===_.DEFINE_MANY&&(n[i]=l(n[i],a))}else n[i]=a}}}else;}function i(t,e){if(e)for(var n in e){var r=e[n];if(e.hasOwnProperty(n)){var o=n in T;o?f("78",n):void 0;var i=n in t;i?f("79",n):void 0,t[n]=r}}}function a(t,e){t&&e&&"object"==typeof t&&"object"==typeof e?void 0:f("80");for(var n in e)e.hasOwnProperty(n)&&(void 0!==t[n]?f("81",n):void 0,t[n]=e[n]);return t}function s(t,e){return function(){var n=t.apply(this,arguments),r=e.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return a(o,n),a(o,r),o}}function l(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function u(t,e){var n=e.bind(t);return n}function c(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];t[r]=u(t,o)}}var f=n(321),p=n(318),h=n(331),d=n(323),m=(n(336),n(338),n(332)),y=n(333),v=(n(322),n(337)),g=n(339),b=(n(325),g({mixins:null})),_=v({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),x=[],w={mixins:_.DEFINE_MANY,statics:_.DEFINE_MANY,propTypes:_.DEFINE_MANY,contextTypes:_.DEFINE_MANY,childContextTypes:_.DEFINE_MANY,getDefaultProps:_.DEFINE_MANY_MERGED,getInitialState:_.DEFINE_MANY_MERGED,getChildContext:_.DEFINE_MANY_MERGED,render:_.DEFINE_ONCE,componentWillMount:_.DEFINE_MANY,componentDidMount:_.DEFINE_MANY,componentWillReceiveProps:_.DEFINE_MANY,shouldComponentUpdate:_.DEFINE_ONCE,componentWillUpdate:_.DEFINE_MANY,componentDidUpdate:_.DEFINE_MANY,componentWillUnmount:_.DEFINE_MANY,updateComponent:_.OVERRIDE_BASE},T={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)o(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=p({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=p({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=s(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=p({},t.propTypes,e)},statics:function(t,e){i(t,e)},autobind:function(){}},E={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t),e&&this.updater.enqueueCallback(this,e,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},C=function(){};p(C.prototype,h.prototype,E);var k={createClass:function(t){var e=function(t,n,r){this.__reactAutoBindPairs.length&&c(this),this.props=t,this.context=n,this.refs=y,this.updater=r||m,this.state=null;var o=this.getInitialState?this.getInitialState():null;"object"!=typeof o||Array.isArray(o)?f("82",e.displayName||"ReactCompositeComponent"):void 0,this.state=o};e.prototype=new C,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],x.forEach(o.bind(null,e)),o(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),e.prototype.render?void 0:f("83");for(var n in w)e.prototype[n]||(e.prototype[n]=null);return e},injection:{injectMixin:function(t){x.push(t)}}};t.exports=k},function(t,e,n){"use strict";var r=n(337),o=r({prop:null,context:null,childContext:null});t.exports=o},function(t,e,n){"use strict";var r=n(322),o=function(t){var e,n={};t instanceof Object&&!Array.isArray(t)?void 0:r(!1);for(e in t)t.hasOwnProperty(e)&&(n[e]=e);return n};t.exports=o},function(t,e,n){"use strict";var r={};t.exports=r},function(t,e){"use strict";var n=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};t.exports=n},function(t,e,n){"use strict";var r=n(323),o=r.createFactory,i={a:o("a"),abbr:o("abbr"),address:o("address"),area:o("area"),article:o("article"),aside:o("aside"),audio:o("audio"),b:o("b"),base:o("base"),bdi:o("bdi"),bdo:o("bdo"),big:o("big"),blockquote:o("blockquote"),body:o("body"),br:o("br"),button:o("button"),canvas:o("canvas"),caption:o("caption"),cite:o("cite"),code:o("code"),col:o("col"),colgroup:o("colgroup"),data:o("data"),datalist:o("datalist"),dd:o("dd"),del:o("del"),details:o("details"),dfn:o("dfn"),dialog:o("dialog"),div:o("div"),dl:o("dl"),dt:o("dt"),em:o("em"),embed:o("embed"),fieldset:o("fieldset"),figcaption:o("figcaption"),figure:o("figure"),footer:o("footer"),form:o("form"),h1:o("h1"),h2:o("h2"),h3:o("h3"),h4:o("h4"),h5:o("h5"),h6:o("h6"),head:o("head"),header:o("header"),hgroup:o("hgroup"),hr:o("hr"),html:o("html"),i:o("i"),iframe:o("iframe"),img:o("img"),input:o("input"),ins:o("ins"),kbd:o("kbd"),keygen:o("keygen"),label:o("label"),legend:o("legend"),li:o("li"),link:o("link"),main:o("main"),map:o("map"),mark:o("mark"),menu:o("menu"),menuitem:o("menuitem"),meta:o("meta"),meter:o("meter"),nav:o("nav"),noscript:o("noscript"),object:o("object"),ol:o("ol"),optgroup:o("optgroup"),option:o("option"),output:o("output"),p:o("p"),param:o("param"),picture:o("picture"),pre:o("pre"),progress:o("progress"),q:o("q"),rp:o("rp"),rt:o("rt"),ruby:o("ruby"),s:o("s"),samp:o("samp"),script:o("script"),section:o("section"),select:o("select"),small:o("small"),source:o("source"),span:o("span"),strong:o("strong"),style:o("style"),sub:o("sub"),summary:o("summary"),sup:o("sup"),table:o("table"),tbody:o("tbody"),td:o("td"),textarea:o("textarea"),tfoot:o("tfoot"),th:o("th"),thead:o("thead"),time:o("time"),title:o("title"),tr:o("tr"),track:o("track"),u:o("u"),ul:o("ul"),"var":o("var"),video:o("video"),wbr:o("wbr"),circle:o("circle"),clipPath:o("clipPath"),defs:o("defs"),ellipse:o("ellipse"),g:o("g"),image:o("image"),line:o("line"),linearGradient:o("linearGradient"),mask:o("mask"),path:o("path"),pattern:o("pattern"),polygon:o("polygon"),polyline:o("polyline"),radialGradient:o("radialGradient"),rect:o("rect"),stop:o("stop"),svg:o("svg"),text:o("text"),tspan:o("tspan")};t.exports=i},function(t,e,n){"use strict";function r(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e;
}function o(t){this.message=t,this.stack=""}function i(t){function e(e,n,r,i,a,s,l){i=i||k,s=s||r;if(null==n[r]){var u=w[a];return e?new o("Required "+u+" `"+s+"` was not specified in "+("`"+i+"`.")):null}return t(n,r,i,a,s)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function a(t){function e(e,n,r,i,a,s){var l=e[n],u=g(l);if(u!==t){var c=w[i],f=b(l);return new o("Invalid "+c+" `"+a+"` of type "+("`"+f+"` supplied to `"+r+"`, expected ")+("`"+t+"`."))}return null}return i(e)}function s(){return i(E.thatReturns(null))}function l(t){function e(e,n,r,i,a){if("function"!=typeof t)return new o("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=e[n];if(!Array.isArray(s)){var l=w[i],u=g(s);return new o("Invalid "+l+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an array."))}for(var c=0;c<s.length;c++){var f=t(s,c,r,i,a+"["+c+"]",T);if(f instanceof Error)return f}return null}return i(e)}function u(){function t(t,e,n,r,i){var a=t[e];if(!x.isValidElement(a)){var s=w[r],l=g(a);return new o("Invalid "+s+" `"+i+"` of type "+("`"+l+"` supplied to `"+n+"`, expected a single ReactElement."))}return null}return i(t)}function c(t){function e(e,n,r,i,a){if(!(e[n]instanceof t)){var s=w[i],l=t.name||k,u=_(e[n]);return new o("Invalid "+s+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected ")+("instance of `"+l+"`."))}return null}return i(e)}function f(t){function e(e,n,i,a,s){for(var l=e[n],u=0;u<t.length;u++)if(r(l,t[u]))return null;var c=w[a],f=JSON.stringify(t);return new o("Invalid "+c+" `"+s+"` of value `"+l+"` "+("supplied to `"+i+"`, expected one of "+f+"."))}return Array.isArray(t)?i(e):E.thatReturnsNull}function p(t){function e(e,n,r,i,a){if("function"!=typeof t)return new o("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=e[n],l=g(s);if("object"!==l){var u=w[i];return new o("Invalid "+u+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected an object."))}for(var c in s)if(s.hasOwnProperty(c)){var f=t(s,c,r,i,a+"."+c,T);if(f instanceof Error)return f}return null}return i(e)}function h(t){function e(e,n,r,i,a){for(var s=0;s<t.length;s++){var l=t[s];if(null==l(e,n,r,i,a,T))return null}var u=w[i];return new o("Invalid "+u+" `"+a+"` supplied to "+("`"+r+"`."))}return Array.isArray(t)?i(e):E.thatReturnsNull}function d(){function t(t,e,n,r,i){if(!y(t[e])){var a=w[r];return new o("Invalid "+a+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return i(t)}function m(t){function e(e,n,r,i,a){var s=e[n],l=g(s);if("object"!==l){var u=w[i];return new o("Invalid "+u+" `"+a+"` of type `"+l+"` "+("supplied to `"+r+"`, expected `object`."))}for(var c in t){var f=t[c];if(f){var p=f(s,c,r,i,a+"."+c,T);if(p)return p}}return null}return i(e)}function y(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(y);if(null===t||x.isValidElement(t))return!0;var e=C(t);if(!e)return!1;var n,r=e.call(t);if(e!==t.entries){for(;!(n=r.next()).done;)if(!y(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!y(o[1]))return!1}return!0;default:return!1}}function v(t,e){return"symbol"===t||("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}function g(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":v(e,t)?"symbol":e}function b(t){var e=g(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function _(t){return t.constructor&&t.constructor.name?t.constructor.name:k}var x=n(323),w=n(338),T=n(342),E=n(326),C=n(329),k=(n(325),"<<anonymous>>"),S={array:a("array"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),symbol:a("symbol"),any:s(),arrayOf:l,element:u(),instanceOf:c,node:d(),objectOf:p,oneOf:f,oneOfType:h,shape:m};o.prototype=Error.prototype,t.exports=S},function(t,e){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=n},function(t,e){"use strict";t.exports="15.3.2"},function(t,e,n){"use strict";function r(t){return i.isValidElement(t)?void 0:o("143"),t}var o=n(321),i=n(323);n(322);t.exports=r},function(t,e,n){"use strict";t.exports=n(346)},function(t,e,n){"use strict";var r=n(347),o=n(350),i=n(469),a=n(370),s=n(367),l=n(343),u=n(474),c=n(475),f=n(476);n(325);o.inject();var p={findDOMNode:u,render:i.render,unmountComponentAtNode:i.unmountComponentAtNode,version:l,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:f};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(t){return t._renderedComponent&&(t=c(t)),t?r.getNodeFromInstance(t):null}},Mount:i,Reconciler:a});t.exports=p},function(t,e,n){"use strict";function r(t){for(var e;e=t._renderedComponent;)t=e;return t}function o(t,e){var n=r(t);n._hostNode=e,e[m]=n}function i(t){var e=t._hostNode;e&&(delete e[m],t._hostNode=null)}function a(t,e){if(!(t._flags&d.hasCachedChildNodes)){var n=t._renderedChildren,i=e.firstChild;t:for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],l=r(s)._domID;if(0!==l){for(;null!==i;i=i.nextSibling)if(1===i.nodeType&&i.getAttribute(h)===String(l)||8===i.nodeType&&i.nodeValue===" react-text: "+l+" "||8===i.nodeType&&i.nodeValue===" react-empty: "+l+" "){o(s,i);continue t}c("32",l)}}t._flags|=d.hasCachedChildNodes}}function s(t){if(t[m])return t[m];for(var e=[];!t[m];){if(e.push(t),!t.parentNode)return null;t=t.parentNode}for(var n,r;t&&(r=t[m]);t=e.pop())n=r,e.length&&a(r,t);return n}function l(t){var e=s(t);return null!=e&&e._hostNode===t?e:null}function u(t){if(void 0===t._hostNode?c("33"):void 0,t._hostNode)return t._hostNode;for(var e=[];!t._hostNode;)e.push(t),t._hostParent?void 0:c("34"),t=t._hostParent;for(;e.length;t=e.pop())a(t,t._hostNode);return t._hostNode}var c=n(321),f=n(348),p=n(349),h=(n(322),f.ID_ATTRIBUTE_NAME),d=p,m="__reactInternalInstance$"+Math.random().toString(36).slice(2),y={getClosestInstanceFromNode:s,getInstanceFromNode:l,getNodeFromInstance:u,precacheChildNodes:a,precacheNode:o,uncacheNode:i};t.exports=y},function(t,e,n){"use strict";function r(t,e){return(t&e)===e}var o=n(321),i=(n(322),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(t){var e=i,n=t.Properties||{},a=t.DOMAttributeNamespaces||{},l=t.DOMAttributeNames||{},u=t.DOMPropertyNames||{},c=t.DOMMutationMethods||{};t.isCustomAttribute&&s._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var f in n){s.properties.hasOwnProperty(f)?o("48",f):void 0;var p=f.toLowerCase(),h=n[f],d={attributeName:p,attributeNamespace:null,propertyName:f,mutationMethod:null,mustUseProperty:r(h,e.MUST_USE_PROPERTY),hasBooleanValue:r(h,e.HAS_BOOLEAN_VALUE),hasNumericValue:r(h,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(h,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(h,e.HAS_OVERLOADED_BOOLEAN_VALUE)};if(d.hasBooleanValue+d.hasNumericValue+d.hasOverloadedBooleanValue<=1?void 0:o("50",f),l.hasOwnProperty(f)){var m=l[f];d.attributeName=m}a.hasOwnProperty(f)&&(d.attributeNamespace=a[f]),u.hasOwnProperty(f)&&(d.propertyName=u[f]),c.hasOwnProperty(f)&&(d.mutationMethod=c[f]),s.properties[f]=d}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<s._isCustomAttributeFunctions.length;e++){var n=s._isCustomAttributeFunctions[e];if(n(t))return!0}return!1},injection:i};t.exports=s},function(t,e){"use strict";var n={hasCachedChildNodes:1};t.exports=n},function(t,e,n){"use strict";function r(){w||(w=!0,v.EventEmitter.injectReactEventListener(y),v.EventPluginHub.injectEventPluginOrder(a),v.EventPluginUtils.injectComponentTree(f),v.EventPluginUtils.injectTreeTraversal(h),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:x,EnterLeaveEventPlugin:s,ChangeEventPlugin:i,SelectEventPlugin:_,BeforeInputEventPlugin:o}),v.HostComponent.injectGenericComponentClass(c),v.HostComponent.injectTextComponentClass(d),v.DOMProperty.injectDOMPropertyConfig(l),v.DOMProperty.injectDOMPropertyConfig(b),v.EmptyComponent.injectEmptyComponentFactory(function(t){return new p(t)}),v.Updates.injectReconcileTransaction(g),v.Updates.injectBatchingStrategy(m),v.Component.injectEnvironment(u))}var o=n(351),i=n(366),a=n(378),s=n(379),l=n(384),u=n(385),c=n(399),f=n(347),p=n(440),h=n(441),d=n(442),m=n(443),y=n(444),v=n(447),g=n(448),b=n(456),_=n(457),x=n(458),w=!1;t.exports={inject:r}},function(t,e,n){"use strict";function r(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}function o(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function i(t){switch(t){case P.topCompositionStart:return M.compositionStart;case P.topCompositionEnd:return M.compositionEnd;case P.topCompositionUpdate:return M.compositionUpdate}}function a(t,e){return t===P.topKeyDown&&e.keyCode===x}function s(t,e){switch(t){case P.topKeyUp:return _.indexOf(e.keyCode)!==-1;case P.topKeyDown:return e.keyCode!==x;case P.topKeyPress:case P.topMouseDown:case P.topBlur:return!0;default:return!1}}function l(t){var e=t.detail;return"object"==typeof e&&"data"in e?e.data:null}function u(t,e,n,r){var o,u;if(w?o=i(t):O?s(t,n)&&(o=M.compositionEnd):a(t,n)&&(o=M.compositionStart),!o)return null;C&&(O||o!==M.compositionStart?o===M.compositionEnd&&O&&(u=O.getData()):O=y.getPooled(r));var c=v.getPooled(o,e,n,r);if(u)c.data=u;else{var f=l(n);null!==f&&(c.data=f)}return d.accumulateTwoPhaseDispatches(c),c}function c(t,e){switch(t){case P.topCompositionEnd:return l(e);case P.topKeyPress:var n=e.which;return n!==k?null:(A=!0,S);case P.topTextInput:var r=e.data;return r===S&&A?null:r;default:return null}}function f(t,e){if(O){if(t===P.topCompositionEnd||!w&&s(t,e)){var n=O.getData();return y.release(O),O=null,n}return null}switch(t){case P.topPaste:return null;case P.topKeyPress:return e.which&&!o(e)?String.fromCharCode(e.which):null;case P.topCompositionEnd:return C?null:e.data;default:return null}}function p(t,e,n,r){var o;if(o=E?c(t,n):f(t,n),!o)return null;var i=g.getPooled(M.beforeInput,e,n,r);return i.data=o,d.accumulateTwoPhaseDispatches(i),i}var h=n(352),d=n(353),m=n(360),y=n(361),v=n(363),g=n(365),b=n(339),_=[9,13,27,32],x=229,w=m.canUseDOM&&"CompositionEvent"in window,T=null;m.canUseDOM&&"documentMode"in document&&(T=document.documentMode);var E=m.canUseDOM&&"TextEvent"in window&&!T&&!r(),C=m.canUseDOM&&(!w||T&&T>8&&T<=11),k=32,S=String.fromCharCode(k),P=h.topLevelTypes,M={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[P.topCompositionEnd,P.topKeyPress,P.topTextInput,P.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[P.topBlur,P.topCompositionEnd,P.topKeyDown,P.topKeyPress,P.topKeyUp,P.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[P.topBlur,P.topCompositionStart,P.topKeyDown,P.topKeyPress,P.topKeyUp,P.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[P.topBlur,P.topCompositionUpdate,P.topKeyDown,P.topKeyPress,P.topKeyUp,P.topMouseDown]}},A=!1,O=null,D={eventTypes:M,extractEvents:function(t,e,n,r){return[u(t,e,n,r),p(t,e,n,r)]}};t.exports=D},function(t,e,n){"use strict";var r=n(337),o=r({bubbled:null,captured:null}),i=r({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:i,PropagationPhases:o};t.exports=a},function(t,e,n){"use strict";function r(t,e,n){var r=e.dispatchConfig.phasedRegistrationNames[n];return b(t,r)}function o(t,e,n){var o=e?g.bubbled:g.captured,i=r(t,n,o);i&&(n._dispatchListeners=y(n._dispatchListeners,i),n._dispatchInstances=y(n._dispatchInstances,t))}function i(t){t&&t.dispatchConfig.phasedRegistrationNames&&m.traverseTwoPhase(t._targetInst,o,t)}function a(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst,n=e?m.getParentInstance(e):null;m.traverseTwoPhase(n,o,t)}}function s(t,e,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=b(t,r);o&&(n._dispatchListeners=y(n._dispatchListeners,o),n._dispatchInstances=y(n._dispatchInstances,t))}}function l(t){t&&t.dispatchConfig.registrationName&&s(t._targetInst,null,t)}function u(t){v(t,i)}function c(t){v(t,a)}function f(t,e,n,r){m.traverseEnterLeave(n,r,s,t,e)}function p(t){v(t,l)}var h=n(352),d=n(354),m=n(356),y=n(358),v=n(359),g=(n(325),h.PropagationPhases),b=d.getListener,_={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:p,accumulateEnterLeaveDispatches:f};t.exports=_},function(t,e,n){"use strict";var r=n(321),o=n(355),i=n(356),a=n(357),s=n(358),l=n(359),u=(n(322),{}),c=null,f=function(t,e){t&&(i.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t))},p=function(t){return f(t,!0)},h=function(t){return f(t,!1)},d=function(t){return"."+t._rootNodeID},m={injection:{injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},putListener:function(t,e,n){"function"!=typeof n?r("94",e,typeof n):void 0;var i=d(t),a=u[e]||(u[e]={});a[i]=n;var s=o.registrationNameModules[e];s&&s.didPutListener&&s.didPutListener(t,e,n)},getListener:function(t,e){var n=u[e],r=d(t);return n&&n[r]},deleteListener:function(t,e){var n=o.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e);var r=u[e];if(r){var i=d(t);delete r[i]}},deleteAllListeners:function(t){var e=d(t);for(var n in u)if(u.hasOwnProperty(n)&&u[n][e]){var r=o.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(t,n),delete u[n][e]}},extractEvents:function(t,e,n,r){for(var i,a=o.plugins,l=0;l<a.length;l++){var u=a[l];if(u){var c=u.extractEvents(t,e,n,r);c&&(i=s(i,c))}}return i},enqueueEvents:function(t){t&&(c=s(c,t))},processEventQueue:function(t){var e=c;c=null,t?l(e,p):l(e,h),c?r("95"):void 0,a.rethrowCaughtError()},__purge:function(){u={}},__getListenerBank:function(){return u}};t.exports=m},function(t,e,n){"use strict";function r(){if(s)for(var t in l){var e=l[t],n=s.indexOf(t);if(n>-1?void 0:a("96",t),!u.plugins[n]){e.extractEvents?void 0:a("97",t),u.plugins[n]=e;var r=e.eventTypes;for(var i in r)o(r[i],e,i)?void 0:a("98",i,t)}}}function o(t,e,n){u.eventNameDispatchConfigs.hasOwnProperty(n)?a("99",n):void 0,u.eventNameDispatchConfigs[n]=t;var r=t.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];i(s,e,n)}return!0}return!!t.registrationName&&(i(t.registrationName,e,n),!0)}function i(t,e,n){u.registrationNameModules[t]?a("100",t):void 0,u.registrationNameModules[t]=e,u.registrationNameDependencies[t]=e.eventTypes[n].dependencies}var a=n(321),s=(n(322),null),l={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(t){s?a("101"):void 0,s=Array.prototype.slice.call(t),r()},injectEventPluginsByName:function(t){var e=!1;for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];l.hasOwnProperty(n)&&l[n]===o||(l[n]?a("102",n):void 0,l[n]=o,e=!0)}e&&r()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return u.registrationNameModules[e.registrationName]||null;for(var n in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(n)){var r=u.registrationNameModules[e.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var t in l)l.hasOwnProperty(t)&&delete l[t];u.plugins.length=0;var e=u.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var r=u.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};t.exports=u},function(t,e,n){"use strict";function r(t){return t===g.topMouseUp||t===g.topTouchEnd||t===g.topTouchCancel}function o(t){return t===g.topMouseMove||t===g.topTouchMove}function i(t){return t===g.topMouseDown||t===g.topTouchStart}function a(t,e,n,r){var o=t.type||"unknown-event";t.currentTarget=b.getNodeFromInstance(r),e?y.invokeGuardedCallbackWithCatch(o,n,t):y.invokeGuardedCallback(o,n,t),t.currentTarget=null}function s(t,e){var n=t._dispatchListeners,r=t._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!t.isPropagationStopped();o++)a(t,e,n[o],r[o]);else n&&a(t,e,n,r);t._dispatchListeners=null,t._dispatchInstances=null}function l(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e)){for(var r=0;r<e.length&&!t.isPropagationStopped();r++)if(e[r](t,n[r]))return n[r]}else if(e&&e(t,n))return n;return null}function u(t){var e=l(t);return t._dispatchInstances=null,t._dispatchListeners=null,e}function c(t){var e=t._dispatchListeners,n=t._dispatchInstances;Array.isArray(e)?d("103"):void 0,t.currentTarget=e?b.getNodeFromInstance(n):null;var r=e?e(t):null;return t.currentTarget=null,t._dispatchListeners=null,t._dispatchInstances=null,r}function f(t){return!!t._dispatchListeners}var p,h,d=n(321),m=n(352),y=n(357),v=(n(322),n(325),{injectComponentTree:function(t){p=t},injectTreeTraversal:function(t){h=t}}),g=m.topLevelTypes,b={isEndish:r,isMoveish:o,isStartish:i,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:u,hasDispatches:f,getInstanceFromNode:function(t){return p.getInstanceFromNode(t)},getNodeFromInstance:function(t){return p.getNodeFromInstance(t)},isAncestor:function(t,e){return h.isAncestor(t,e)},getLowestCommonAncestor:function(t,e){return h.getLowestCommonAncestor(t,e)},getParentInstance:function(t){return h.getParentInstance(t)},traverseTwoPhase:function(t,e,n){return h.traverseTwoPhase(t,e,n)},traverseEnterLeave:function(t,e,n,r,o){return h.traverseEnterLeave(t,e,n,r,o)},injection:v};t.exports=b},function(t,e,n){"use strict";function r(t,e,n,r){try{return e(n,r)}catch(i){return void(null===o&&(o=i))}}var o=null,i={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(o){var t=o;throw o=null,t}}};t.exports=i},function(t,e,n){"use strict";function r(t,e){return null==e?o("30"):void 0,null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}var o=n(321);n(322);t.exports=r},function(t,e){"use strict";function n(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}t.exports=n},function(t,e){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=r},function(t,e,n){"use strict";function r(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var o=n(318),i=n(320),a=n(362);o(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(t=0;t<r&&n[t]===o[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===o[i-e];e++);var s=e>1?1-e:void 0;return this._fallbackText=o.slice(t,s),this._fallbackText}}),i.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";function r(){return!i&&o.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var o=n(360),i=null;t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(364),i={data:null};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];s?this[i]=s(n):"target"===i?this.target=r:this[i]=n[i]}var l=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return l?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var o=n(318),i=n(320),a=n(326),s=(n(325),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),l={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=l,r.augmentClass=function(t,e){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;o(a,t.prototype),t.prototype=a,t.prototype.constructor=t,t.Interface=o({},n.Interface,e),t.augmentClass=n.augmentClass,i.addPoolingTo(t,i.fourArgumentPooler)},i.addPoolingTo(r,i.fourArgumentPooler),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(364),i={data:null};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.nodeName&&t.nodeName.toLowerCase();return"select"===e||"input"===e&&"file"===t.type}function o(t){var e=E.getPooled(A.change,D,t,C(t));_.accumulateTwoPhaseDispatches(e),T.batchedUpdates(i,e)}function i(t){b.enqueueEvents(t),b.processEventQueue(!1)}function a(t,e){O=t,D=e,O.attachEvent("onchange",o)}function s(){O&&(O.detachEvent("onchange",o),O=null,D=null)}function l(t,e){if(t===M.topChange)return e}function u(t,e,n){t===M.topFocus?(s(),a(e,n)):t===M.topBlur&&s()}function c(t,e){O=t,D=e,L=t.value,I=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(O,"value",R),O.attachEvent?O.attachEvent("onpropertychange",p):O.addEventListener("propertychange",p,!1)}function f(){O&&(delete O.value,O.detachEvent?O.detachEvent("onpropertychange",p):O.removeEventListener("propertychange",p,!1),O=null,D=null,L=null,I=null)}function p(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==L&&(L=e,o(t))}}function h(t,e){if(t===M.topInput)return e}function d(t,e,n){t===M.topFocus?(f(),c(e,n)):t===M.topBlur&&f()}function m(t,e){if((t===M.topSelectionChange||t===M.topKeyUp||t===M.topKeyDown)&&O&&O.value!==L)return L=O.value,D}function y(t){return t.nodeName&&"input"===t.nodeName.toLowerCase()&&("checkbox"===t.type||"radio"===t.type)}function v(t,e){if(t===M.topClick)return e}var g=n(352),b=n(354),_=n(353),x=n(360),w=n(347),T=n(367),E=n(364),C=n(375),k=n(376),S=n(377),P=n(339),M=g.topLevelTypes,A={change:{phasedRegistrationNames:{bubbled:P({onChange:null}),captured:P({onChangeCapture:null})},dependencies:[M.topBlur,M.topChange,M.topClick,M.topFocus,M.topInput,M.topKeyDown,M.topKeyUp,M.topSelectionChange]}},O=null,D=null,L=null,I=null,j=!1;x.canUseDOM&&(j=k("change")&&(!document.documentMode||document.documentMode>8));var F=!1;x.canUseDOM&&(F=k("input")&&(!document.documentMode||document.documentMode>11));var R={get:function(){return I.get.call(this)},set:function(t){L=""+t,I.set.call(this,t)}},N={eventTypes:A,extractEvents:function(t,e,n,o){var i,a,s=e?w.getNodeFromInstance(e):window;if(r(s)?j?i=l:a=u:S(s)?F?i=h:(i=m,a=d):y(s)&&(i=v),i){var c=i(t,e);if(c){var f=E.getPooled(A.change,c,n,o);return f.type="change",_.accumulateTwoPhaseDispatches(f),f}}a&&a(t,s,e)}};t.exports=N},function(t,e,n){"use strict";function r(){S.ReactReconcileTransaction&&x?void 0:c("123")}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=p.getPooled(),this.reconcileTransaction=S.ReactReconcileTransaction.getPooled(!0)}function i(t,e,n,o,i,a){r(),x.batchedUpdates(t,e,n,o,i,a)}function a(t,e){return t._mountOrder-e._mountOrder}function s(t){var e=t.dirtyComponentsLength;e!==v.length?c("124",e,v.length):void 0,v.sort(a),g++;for(var n=0;n<e;n++){var r=v[n],o=r._pendingCallbacks;r._pendingCallbacks=null;var i;if(d.logTopLevelRenders){var s=r;r._currentElement.props===r._renderedComponent._currentElement&&(s=r._renderedComponent),i="React update: "+s.getName(),console.time(i)}if(m.performUpdateIfNecessary(r,t.reconcileTransaction,g),i&&console.timeEnd(i),o)for(var l=0;l<o.length;l++)t.callbackQueue.enqueue(o[l],r.getPublicInstance())}}function l(t){return r(),x.isBatchingUpdates?(v.push(t),void(null==t._updateBatchNumber&&(t._updateBatchNumber=g+1))):void x.batchedUpdates(l,t)}function u(t,e){x.isBatchingUpdates?void 0:c("125"),b.enqueue(t,e),_=!0}var c=n(321),f=n(318),p=n(368),h=n(320),d=n(369),m=n(370),y=n(374),v=(n(322),[]),g=0,b=p.getPooled(),_=!1,x=null,w={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),C()):v.length=0}},T={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},E=[w,T];f(o.prototype,y.Mixin,{getTransactionWrappers:function(){return E},destructor:function(){this.dirtyComponentsLength=null,p.release(this.callbackQueue),this.callbackQueue=null,S.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return y.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),h.addPoolingTo(o);var C=function(){for(;v.length||_;){if(v.length){var t=o.getPooled();t.perform(s,null,t),o.release(t)}if(_){_=!1;var e=b;b=p.getPooled(),e.notifyAll(),p.release(e)}}},k={injectReconcileTransaction:function(t){t?void 0:c("126"),S.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){t?void 0:c("127"),"function"!=typeof t.batchedUpdates?c("128"):void 0,"boolean"!=typeof t.isBatchingUpdates?c("129"):void 0,x=t}},S={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:l,flushBatchedUpdates:C,injection:k,asap:u};t.exports=S},function(t,e,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var o=n(321),i=n(318),a=n(320);n(322);i(r.prototype,{enqueue:function(t,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(e)},notifyAll:function(){var t=this._callbacks,e=this._contexts;if(t){t.length!==e.length?o("24"):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<t.length;n++)t[n].call(e[n]);t.length=0,e.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(t){this._callbacks&&(this._callbacks.length=t,this._contexts.length=t)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),a.addPoolingTo(r),t.exports=r},function(t,e){"use strict";var n={logTopLevelRenders:!1};t.exports=n},function(t,e,n){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=n(371),i=(n(373),n(325),{mountComponent:function(t,e,n,o,i,a){var s=t.mountComponent(e,n,o,i,a);return t._currentElement&&null!=t._currentElement.ref&&e.getReactMountReady().enqueue(r,t),s},getHostNode:function(t){return t.getHostNode()},unmountComponent:function(t,e){o.detachRefs(t,t._currentElement),t.unmountComponent(e)},receiveComponent:function(t,e,n,i){var a=t._currentElement;if(e!==a||i!==t._context){var s=o.shouldUpdateRefs(a,e);s&&o.detachRefs(t,a),t.receiveComponent(e,n,i),s&&t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(r,t)}},performUpdateIfNecessary:function(t,e,n){t._updateBatchNumber===n&&t.performUpdateIfNecessary(e)}});t.exports=i},function(t,e,n){"use strict";function r(t,e,n){"function"==typeof t?t(e.getPublicInstance()):i.addComponentAsRefTo(e,t,n)}function o(t,e,n){"function"==typeof t?t(null):i.removeComponentAsRefFrom(e,t,n)}var i=n(372),a={};a.attachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&r(n,t,e._owner)}},a.shouldUpdateRefs=function(t,e){var n=null===t||t===!1,r=null===e||e===!1;return n||r||e.ref!==t.ref||"string"==typeof e.ref&&e._owner!==t._owner},a.detachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&o(n,t,e._owner)}},t.exports=a},function(t,e,n){"use strict";var r=n(321),o=(n(322),{isValidOwner:function(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)},addComponentAsRefTo:function(t,e,n){o.isValidOwner(n)?void 0:r("119"),n.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,n){o.isValidOwner(n)?void 0:r("120");var i=n.getPublicInstance();i&&i.refs[e]===t.getPublicInstance()&&n.detachRef(e)}});t.exports=o},function(t,e,n){"use strict";var r=null;t.exports={debugTool:r}},function(t,e,n){"use strict";var r=n(321),o=(n(322),{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,e,n,o,i,a,s,l){this.isInTransaction()?r("27"):void 0;var u,c;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=t.call(e,n,o,i,a,s,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(f){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var r=e[n];try{this.wrapperInitData[n]=i.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(o){}}}},closeAll:function(t){this.isInTransaction()?void 0:r("28");for(var e=this.transactionWrappers,n=t;n<e.length;n++){var o,a=e[n],s=this.wrapperInitData[n];try{o=!0,s!==i.OBSERVED_ERROR&&a.close&&a.close.call(this,s),o=!1}finally{
if(o)try{this.closeAll(n+1)}catch(l){}}}this.wrapperInitData.length=0}}),i={Mixin:o,OBSERVED_ERROR:{}};t.exports=i},function(t,e){"use strict";function n(t){var e=t.target||t.srcElement||window;return e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}t.exports=n},function(t,e,n){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function r(t,e){if(!i.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&o&&"wheel"===t&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=n(360);i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=r},function(t,e){"use strict";function n(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!r[t.type]:"textarea"===e}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=n},function(t,e,n){"use strict";var r=n(339),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];t.exports=o},function(t,e,n){"use strict";var r=n(352),o=n(353),i=n(347),a=n(380),s=n(339),l=r.topLevelTypes,u={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},c={eventTypes:u,extractEvents:function(t,e,n,r){if(t===l.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(t!==l.topMouseOut&&t!==l.topMouseOver)return null;var s;if(r.window===r)s=r;else{var c=r.ownerDocument;s=c?c.defaultView||c.parentWindow:window}var f,p;if(t===l.topMouseOut){f=e;var h=n.relatedTarget||n.toElement;p=h?i.getClosestInstanceFromNode(h):null}else f=null,p=e;if(f===p)return null;var d=null==f?s:i.getNodeFromInstance(f),m=null==p?s:i.getNodeFromInstance(p),y=a.getPooled(u.mouseLeave,f,n,r);y.type="mouseleave",y.target=d,y.relatedTarget=m;var v=a.getPooled(u.mouseEnter,p,n,r);return v.type="mouseenter",v.target=m,v.relatedTarget=d,o.accumulateEnterLeaveDispatches(y,v,f,p),[y,v]}};t.exports=c},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(381),i=n(382),a=n(383),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+i.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+i.currentScrollTop}};o.augmentClass(r,s),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(364),i=n(375),a={view:function(t){if(t.view)return t.view;var e=i(t);if(e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};o.augmentClass(r,a),t.exports=r},function(t,e){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){n.currentScrollLeft=t.x,n.currentScrollTop=t.y}};t.exports=n},function(t,e){"use strict";function n(t){var e=this,n=e.nativeEvent;if(n.getModifierState)return n.getModifierState(t);var r=o[t];return!!r&&!!n[r]}function r(t){return n}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=r},function(t,e,n){"use strict";var r=n(348),o=r.injection.MUST_USE_PROPERTY,i=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,l=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,u={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,as:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|i,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,coords:0,crossOrigin:0,data:0,dateTime:0,"default":i,defer:i,dir:0,disabled:i,download:l,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|i,muted:o|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,playsInline:i,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,referrerPolicy:0,rel:0,required:i,reversed:i,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:o|i,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,"typeof":0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};t.exports=u},function(t,e,n){"use strict";var r=n(386),o=n(398),i={processChildrenUpdates:o.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};t.exports=i},function(t,e,n){"use strict";function r(t,e){return Array.isArray(e)&&(e=e[1]),e?e.nextSibling:t.firstChild}function o(t,e,n){c.insertTreeBefore(t,e,n)}function i(t,e,n){Array.isArray(e)?s(t,e[0],e[1],n):y(t,e,n)}function a(t,e){if(Array.isArray(e)){var n=e[1];e=e[0],l(t,e,n),t.removeChild(n)}t.removeChild(e)}function s(t,e,n,r){for(var o=e;;){var i=o.nextSibling;if(y(t,o,r),o===n)break;o=i}}function l(t,e,n){for(;;){var r=e.nextSibling;if(r===n)break;t.removeChild(r)}}function u(t,e,n){var r=t.parentNode,o=t.nextSibling;o===e?n&&y(r,document.createTextNode(n),o):n?(m(o,n),l(r,o,e)):l(r,t,e)}var c=n(387),f=n(393),p=n(397),h=(n(347),n(373),n(390)),d=n(389),m=n(391),y=h(function(t,e,n){t.insertBefore(e,n)}),v=f.dangerouslyReplaceNodeWithMarkup,g={dangerouslyReplaceNodeWithMarkup:v,replaceDelimitedText:u,processUpdates:function(t,e){for(var n=0;n<e.length;n++){var s=e[n];switch(s.type){case p.INSERT_MARKUP:o(t,s.content,r(t,s.afterNode));break;case p.MOVE_EXISTING:i(t,s.fromNode,r(t,s.afterNode));break;case p.SET_MARKUP:d(t,s.content);break;case p.TEXT_CONTENT:m(t,s.content);break;case p.REMOVE_NODE:a(t,s.fromNode)}}}};t.exports=g},function(t,e,n){"use strict";function r(t){if(y){var e=t.node,n=t.children;if(n.length)for(var r=0;r<n.length;r++)v(e,n[r],null);else null!=t.html?f(e,t.html):null!=t.text&&h(e,t.text)}}function o(t,e){t.parentNode.replaceChild(e.node,t),r(e)}function i(t,e){y?t.children.push(e):t.node.appendChild(e.node)}function a(t,e){y?t.html=e:f(t.node,e)}function s(t,e){y?t.text=e:h(t.node,e)}function l(){return this.node.nodeName}function u(t){return{node:t,children:[],html:null,text:null,toString:l}}var c=n(388),f=n(389),p=n(390),h=n(391),d=1,m=11,y="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),v=p(function(t,e,n){e.node.nodeType===m||e.node.nodeType===d&&"object"===e.node.nodeName.toLowerCase()&&(null==e.node.namespaceURI||e.node.namespaceURI===c.html)?(r(e),t.insertBefore(e.node,n)):(t.insertBefore(e.node,n),r(e))});u.insertTreeBefore=v,u.replaceChildWithTree=o,u.queueChild=i,u.queueHTML=a,u.queueText=s,t.exports=u},function(t,e){"use strict";var n={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};t.exports=n},function(t,e,n){"use strict";var r,o=n(360),i=n(388),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,l=n(390),u=l(function(t,e){if(t.namespaceURI!==i.svg||"innerHTML"in t)t.innerHTML=e;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+e+"</svg>";for(var n=r.firstChild;n.firstChild;)t.appendChild(n.firstChild)}});if(o.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(u=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),a.test(e)||"<"===e[0]&&s.test(e)){t.innerHTML=String.fromCharCode(65279)+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e}),c=null}t.exports=u},function(t,e){"use strict";var n=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t};t.exports=n},function(t,e,n){"use strict";var r=n(360),o=n(392),i=n(389),a=function(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e};r.canUseDOM&&("textContent"in document.documentElement||(a=function(t,e){i(t,o(e))})),t.exports=a},function(t,e){"use strict";function n(t){var e=""+t,n=o.exec(e);if(!n)return e;var r,i="",a=0,s=0;for(a=n.index;a<e.length;a++){switch(e.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(i+=e.substring(s,a)),s=a+1,i+=r}return s!==a?i+e.substring(s,a):i}function r(t){return"boolean"==typeof t||"number"==typeof t?""+t:n(t)}var o=/["'&<>]/;t.exports=r},function(t,e,n){"use strict";var r=n(321),o=n(387),i=n(360),a=n(394),s=n(326),l=(n(322),{dangerouslyReplaceNodeWithMarkup:function(t,e){if(i.canUseDOM?void 0:r("56"),e?void 0:r("57"),"HTML"===t.nodeName?r("58"):void 0,"string"==typeof e){var n=a(e,s)[0];t.parentNode.replaceChild(n,t)}else o.replaceChildWithTree(t,e)}});t.exports=l},function(t,e,n){"use strict";function r(t){var e=t.match(c);return e&&e[1].toLowerCase()}function o(t,e){var n=u;u?void 0:l(!1);var o=r(t),i=o&&s(o);if(i){n.innerHTML=i[1]+t+i[2];for(var c=i[0];c--;)n=n.lastChild}else n.innerHTML=t;var f=n.getElementsByTagName("script");f.length&&(e?void 0:l(!1),a(f).forEach(e));for(var p=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return p}var i=n(360),a=n(395),s=n(396),l=n(322),u=i.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=o},function(t,e,n){"use strict";function r(t){var e=t.length;if(Array.isArray(t)||"object"!=typeof t&&"function"!=typeof t?a(!1):void 0,"number"!=typeof e?a(!1):void 0,0===e||e-1 in t?void 0:a(!1),"function"==typeof t.callee?a(!1):void 0,t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(n){}for(var r=Array(e),o=0;o<e;o++)r[o]=t[o];return r}function o(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function i(t){return o(t)?Array.isArray(t)?t.slice():r(t):[t]}var a=n(322);t.exports=i},function(t,e,n){"use strict";function r(t){return a?void 0:i(!1),p.hasOwnProperty(t)||(t="*"),s.hasOwnProperty(t)||("*"===t?a.innerHTML="<link />":a.innerHTML="<"+t+"></"+t+">",s[t]=!a.firstChild),s[t]?p[t]:null}var o=n(360),i=n(322),a=o.canUseDOM?document.createElement("div"):null,s={},l=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],f=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c},h=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];h.forEach(function(t){p[t]=f,s[t]=!0}),t.exports=r},function(t,e,n){"use strict";var r=n(337),o=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=o},function(t,e,n){"use strict";var r=n(386),o=n(347),i={dangerouslyProcessChildrenUpdates:function(t,e){var n=o.getNodeFromInstance(t);r.processUpdates(n,e)}};t.exports=i},function(t,e,n){"use strict";function r(t){if(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function o(t,e){e&&(Q[t._tag]&&(null!=e.children||null!=e.dangerouslySetInnerHTML?m("137",t._tag,t._currentElement._owner?" Check the render method of "+t._currentElement._owner.getName()+".":""):void 0),null!=e.dangerouslySetInnerHTML&&(null!=e.children?m("60"):void 0,"object"==typeof e.dangerouslySetInnerHTML&&H in e.dangerouslySetInnerHTML?void 0:m("61")),null!=e.style&&"object"!=typeof e.style?m("62",r(t)):void 0)}function i(t,e,n,r){if(!(r instanceof j)){var o=t._hostContainerInfo,i=o._node&&o._node.nodeType===Y,s=i?o._node:o._ownerDocument;U(e,s),r.getReactMountReady().enqueue(a,{inst:t,registrationName:e,listener:n})}}function a(){var t=this;E.putListener(t.inst,t.registrationName,t.listener)}function s(){var t=this;A.postMountWrapper(t)}function l(){var t=this;L.postMountWrapper(t)}function u(){var t=this;O.postMountWrapper(t)}function c(){var t=this;t._rootNodeID?void 0:m("63");var e=B(t);switch(e?void 0:m("64"),t._tag){case"iframe":case"object":t._wrapperState.listeners=[k.trapBubbledEvent(T.topLevelTypes.topLoad,"load",e)];break;case"video":case"audio":t._wrapperState.listeners=[];for(var n in Z)Z.hasOwnProperty(n)&&t._wrapperState.listeners.push(k.trapBubbledEvent(T.topLevelTypes[n],Z[n],e));break;case"source":t._wrapperState.listeners=[k.trapBubbledEvent(T.topLevelTypes.topError,"error",e)];break;case"img":t._wrapperState.listeners=[k.trapBubbledEvent(T.topLevelTypes.topError,"error",e),k.trapBubbledEvent(T.topLevelTypes.topLoad,"load",e)];break;case"form":t._wrapperState.listeners=[k.trapBubbledEvent(T.topLevelTypes.topReset,"reset",e),k.trapBubbledEvent(T.topLevelTypes.topSubmit,"submit",e)];break;case"input":case"select":case"textarea":t._wrapperState.listeners=[k.trapBubbledEvent(T.topLevelTypes.topInvalid,"invalid",e)]}}function f(){D.postUpdateWrapper(this)}function p(t){tt.call($,t)||(J.test(t)?void 0:m("65",t),$[t]=!0)}function h(t,e){return t.indexOf("-")>=0||null!=e.is}function d(t){var e=t.type;p(e),this._currentElement=t,this._tag=e.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var m=n(321),y=n(318),v=n(400),g=n(402),b=n(387),_=n(388),x=n(348),w=n(410),T=n(352),E=n(354),C=n(355),k=n(412),S=n(415),P=n(349),M=n(347),A=n(417),O=n(419),D=n(420),L=n(421),I=(n(373),n(422)),j=n(436),F=(n(326),n(392)),R=(n(322),n(376),n(339)),N=(n(431),n(439),n(325),P),z=E.deleteListener,B=M.getNodeFromInstance,U=k.listenTo,W=C.registrationNameModules,q={string:!0,number:!0},V=R({style:null}),H=R({__html:null}),G={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},Y=11,Z={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},X={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},K={listing:!0,pre:!0,textarea:!0},Q=y({menuitem:!0},X),J=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,$={},tt={}.hasOwnProperty,et=1;d.displayName="ReactDOMComponent",d.Mixin={mountComponent:function(t,e,n,r){this._rootNodeID=et++,this._domID=n._idCounter++,this._hostParent=e,this._hostContainerInfo=n;var i=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(c,this);break;case"button":i=S.getHostProps(this,i,e);break;case"input":A.mountWrapper(this,i,e),i=A.getHostProps(this,i),t.getReactMountReady().enqueue(c,this);break;case"option":O.mountWrapper(this,i,e),i=O.getHostProps(this,i);break;case"select":D.mountWrapper(this,i,e),i=D.getHostProps(this,i),t.getReactMountReady().enqueue(c,this);break;case"textarea":L.mountWrapper(this,i,e),i=L.getHostProps(this,i),t.getReactMountReady().enqueue(c,this)}o(this,i);var a,f;null!=e?(a=e._namespaceURI,f=e._tag):n._tag&&(a=n._namespaceURI,f=n._tag),(null==a||a===_.svg&&"foreignobject"===f)&&(a=_.html),a===_.html&&("svg"===this._tag?a=_.svg:"math"===this._tag&&(a=_.mathml)),this._namespaceURI=a;var p;if(t.useCreateElement){var h,d=n._ownerDocument;if(a===_.html)if("script"===this._tag){var m=d.createElement("div"),y=this._currentElement.type;m.innerHTML="<"+y+"></"+y+">",h=m.removeChild(m.firstChild)}else h=i.is?d.createElement(this._currentElement.type,i.is):d.createElement(this._currentElement.type);else h=d.createElementNS(a,this._currentElement.type);M.precacheNode(this,h),this._flags|=N.hasCachedChildNodes,this._hostParent||w.setAttributeForRoot(h),this._updateDOMProperties(null,i,t);var g=b(h);this._createInitialChildren(t,i,r,g),p=g}else{var x=this._createOpenTagMarkupAndPutListeners(t,i),T=this._createContentMarkup(t,i,r);p=!T&&X[this._tag]?x+"/>":x+">"+T+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(s,this),i.autoFocus&&t.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"textarea":t.getReactMountReady().enqueue(l,this),i.autoFocus&&t.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"select":i.autoFocus&&t.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"button":i.autoFocus&&t.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"option":t.getReactMountReady().enqueue(u,this)}return p},_createOpenTagMarkupAndPutListeners:function(t,e){var n="<"+this._currentElement.type;for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(null!=o)if(W.hasOwnProperty(r))o&&i(this,r,o,t);else{r===V&&(o&&(o=this._previousStyleCopy=y({},e.style)),o=g.createMarkupForStyles(o,this));var a=null;null!=this._tag&&h(this._tag,e)?G.hasOwnProperty(r)||(a=w.createMarkupForCustomAttribute(r,o)):a=w.createMarkupForProperty(r,o),a&&(n+=" "+a)}}return t.renderToStaticMarkup?n:(this._hostParent||(n+=" "+w.createMarkupForRoot()),n+=" "+w.createMarkupForID(this._domID))},_createContentMarkup:function(t,e,n){var r="",o=e.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var i=q[typeof e.children]?e.children:null,a=null!=i?null:e.children;if(null!=i)r=F(i);else if(null!=a){var s=this.mountChildren(a,t,n);r=s.join("")}}return K[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(t,e,n,r){var o=e.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&b.queueHTML(r,o.__html);else{var i=q[typeof e.children]?e.children:null,a=null!=i?null:e.children;if(null!=i)b.queueText(r,i);else if(null!=a)for(var s=this.mountChildren(a,t,n),l=0;l<s.length;l++)b.queueChild(r,s[l])}},receiveComponent:function(t,e,n){var r=this._currentElement;this._currentElement=t,this.updateComponent(e,r,t,n)},updateComponent:function(t,e,n,r){var i=e.props,a=this._currentElement.props;switch(this._tag){case"button":i=S.getHostProps(this,i),a=S.getHostProps(this,a);break;case"input":i=A.getHostProps(this,i),a=A.getHostProps(this,a);break;case"option":i=O.getHostProps(this,i),a=O.getHostProps(this,a);break;case"select":i=D.getHostProps(this,i),a=D.getHostProps(this,a);break;case"textarea":i=L.getHostProps(this,i),a=L.getHostProps(this,a)}switch(o(this,a),this._updateDOMProperties(i,a,t),this._updateDOMChildren(i,a,t,r),this._tag){case"input":A.updateWrapper(this);break;case"textarea":L.updateWrapper(this);break;case"select":t.getReactMountReady().enqueue(f,this)}},_updateDOMProperties:function(t,e,n){var r,o,a;for(r in t)if(!e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&null!=t[r])if(r===V){var s=this._previousStyleCopy;for(o in s)s.hasOwnProperty(o)&&(a=a||{},a[o]="");this._previousStyleCopy=null}else W.hasOwnProperty(r)?t[r]&&z(this,r):h(this._tag,t)?G.hasOwnProperty(r)||w.deleteValueForAttribute(B(this),r):(x.properties[r]||x.isCustomAttribute(r))&&w.deleteValueForProperty(B(this),r);for(r in e){var l=e[r],u=r===V?this._previousStyleCopy:null!=t?t[r]:void 0;if(e.hasOwnProperty(r)&&l!==u&&(null!=l||null!=u))if(r===V)if(l?l=this._previousStyleCopy=y({},l):this._previousStyleCopy=null,u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(a=a||{},a[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(a=a||{},a[o]=l[o])}else a=l;else if(W.hasOwnProperty(r))l?i(this,r,l,n):u&&z(this,r);else if(h(this._tag,e))G.hasOwnProperty(r)||w.setValueForAttribute(B(this),r,l);else if(x.properties[r]||x.isCustomAttribute(r)){var c=B(this);null!=l?w.setValueForProperty(c,r,l):w.deleteValueForProperty(c,r)}}a&&g.setValueForStyles(B(this),a,this)},_updateDOMChildren:function(t,e,n,r){var o=q[typeof t.children]?t.children:null,i=q[typeof e.children]?e.children:null,a=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,s=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,l=null!=o?null:t.children,u=null!=i?null:e.children,c=null!=o||null!=a,f=null!=i||null!=s;null!=l&&null==u?this.updateChildren(null,n,r):c&&!f&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=s?a!==s&&this.updateMarkup(""+s):null!=u&&this.updateChildren(u,n,r)},getHostNode:function(){return B(this)},unmountComponent:function(t){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var e=this._wrapperState.listeners;if(e)for(var n=0;n<e.length;n++)e[n].remove();break;case"html":case"head":case"body":m("66",this._tag)}this.unmountChildren(t),M.uncacheNode(this),E.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return B(this)}},y(d.prototype,d.Mixin,I.Mixin),t.exports=d},function(t,e,n){"use strict";var r=n(347),o=n(401),i={focusDOMComponent:function(){o(r.getNodeFromInstance(this))}};t.exports=i},function(t,e){"use strict";function n(t){try{t.focus()}catch(e){}}t.exports=n},function(t,e,n){"use strict";var r=n(403),o=n(360),i=(n(373),n(404),n(406)),a=n(407),s=n(409),l=(n(325),s(function(t){return a(t)})),u=!1,c="cssFloat";if(o.canUseDOM){var f=document.createElement("div").style;try{f.font=""}catch(p){u=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var h={createMarkupForStyles:function(t,e){var n="";for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];null!=o&&(n+=l(r)+":",n+=i(r,o,e)+";")}return n||null},setValueForStyles:function(t,e,n){var o=t.style;for(var a in e)if(e.hasOwnProperty(a)){var s=i(a,e[a],n);if("float"!==a&&"cssFloat"!==a||(a=c),s)o[a]=s;else{var l=u&&r.shorthandPropertyExpansions[a];if(l)for(var f in l)o[f]="";else o[a]=""}}}};t.exports=h},function(t,e){"use strict";function n(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(t){o.forEach(function(e){r[n(e,t)]=r[t]})});var i={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:r,shorthandPropertyExpansions:i};t.exports=a},function(t,e,n){"use strict";function r(t){return o(t.replace(i,"ms-"))}var o=n(405),i=/^-ms-/;t.exports=r},function(t,e){"use strict";function n(t){return t.replace(r,function(t,e){return e.toUpperCase()})}var r=/-(.)/g;t.exports=n},function(t,e,n){"use strict";function r(t,e,n){var r=null==e||"boolean"==typeof e||""===e;if(r)return"";var o=isNaN(e);if(o||0===e||i.hasOwnProperty(t)&&i[t])return""+e;if("string"==typeof e){e=e.trim()}return e+"px"}var o=n(403),i=(n(325),o.isUnitlessNumber);t.exports=r},function(t,e,n){"use strict";function r(t){return o(t).replace(i,"-ms-")}var o=n(408),i=/^ms-/;t.exports=r},function(t,e){"use strict";function n(t){return t.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;t.exports=n},function(t,e){"use strict";function n(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}t.exports=n},function(t,e,n){"use strict";function r(t){return!!u.hasOwnProperty(t)||!l.hasOwnProperty(t)&&(s.test(t)?(u[t]=!0,!0):(l[t]=!0,!1))}function o(t,e){return null==e||t.hasBooleanValue&&!e||t.hasNumericValue&&isNaN(e)||t.hasPositiveNumericValue&&e<1||t.hasOverloadedBooleanValue&&e===!1}var i=n(348),a=(n(347),n(373),n(411)),s=(n(325),new RegExp("^["+i.ATTRIBUTE_NAME_START_CHAR+"]["+i.ATTRIBUTE_NAME_CHAR+"]*$")),l={},u={},c={createMarkupForID:function(t){return i.ID_ATTRIBUTE_NAME+"="+a(t)},setAttributeForID:function(t,e){t.setAttribute(i.ID_ATTRIBUTE_NAME,e)},createMarkupForRoot:function(){return i.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(t){t.setAttribute(i.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(t,e){var n=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(n){if(o(n,e))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&e===!0?r+'=""':r+"="+a(e)}return i.isCustomAttribute(t)?null==e?"":t+"="+a(e):null},createMarkupForCustomAttribute:function(t,e){return r(t)&&null!=e?t+"="+a(e):""},setValueForProperty:function(t,e,n){var r=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(r){var a=r.mutationMethod;if(a)a(t,n);else{if(o(r,n))return void this.deleteValueForProperty(t,e);if(r.mustUseProperty)t[r.propertyName]=n;else{var s=r.attributeName,l=r.attributeNamespace;l?t.setAttributeNS(l,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?t.setAttribute(s,""):t.setAttribute(s,""+n)}}}else if(i.isCustomAttribute(e))return void c.setValueForAttribute(t,e,n)},setValueForAttribute:function(t,e,n){if(r(e)){null==n?t.removeAttribute(e):t.setAttribute(e,""+n)}},deleteValueForAttribute:function(t,e){t.removeAttribute(e)},deleteValueForProperty:function(t,e){var n=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(n){var r=n.mutationMethod;if(r)r(t,void 0);else if(n.mustUseProperty){var o=n.propertyName;n.hasBooleanValue?t[o]=!1:t[o]=""}else t.removeAttribute(n.attributeName)}else i.isCustomAttribute(e)&&t.removeAttribute(e)}};t.exports=c},function(t,e,n){"use strict";function r(t){return'"'+o(t)+'"'}var o=n(392);t.exports=r},function(t,e,n){"use strict";function r(t){return Object.prototype.hasOwnProperty.call(t,y)||(t[y]=d++,p[t[y]]={}),p[t[y]]}var o,i=n(318),a=n(352),s=n(355),l=n(413),u=n(382),c=n(414),f=n(376),p={},h=!1,d=0,m={topAbort:"abort",topAnimationEnd:c("animationend")||"animationend",topAnimationIteration:c("animationiteration")||"animationiteration",topAnimationStart:c("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:c("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},y="_reactListenersID"+String(Math.random()).slice(2),v=i({},l,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=t}},setEnabled:function(t){v.ReactEventListener&&v.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,o=r(n),i=s.registrationNameDependencies[t],l=a.topLevelTypes,u=0;u<i.length;u++){var c=i[u];o.hasOwnProperty(c)&&o[c]||(c===l.topWheel?f("wheel")?v.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",n):f("mousewheel")?v.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",n):v.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",n):c===l.topScroll?f("scroll",!0)?v.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",n):v.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",v.ReactEventListener.WINDOW_HANDLE):c===l.topFocus||c===l.topBlur?(f("focus",!0)?(v.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",n),v.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",n)):f("focusin")&&(v.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",n),v.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",n)),o[l.topBlur]=!0,o[l.topFocus]=!0):m.hasOwnProperty(c)&&v.ReactEventListener.trapBubbledEvent(c,m[c],n),o[c]=!0)}},trapBubbledEvent:function(t,e,n){return v.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return v.ReactEventListener.trapCapturedEvent(t,e,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var t=document.createEvent("MouseEvent");return null!=t&&"pageX"in t},ensureScrollValueMonitoring:function(){if(void 0===o&&(o=v.supportsEventPageXY()),!o&&!h){var t=u.refreshScrollValues;v.ReactEventListener.monitorScrollValue(t),h=!0}}});t.exports=v},function(t,e,n){"use strict";function r(t){o.enqueueEvents(t),o.processEventQueue(!1)}var o=n(354),i={handleTopLevel:function(t,e,n,i){var a=o.extractEvents(t,e,n,i);r(a)}};t.exports=i},function(t,e,n){"use strict";function r(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n["ms"+t]="MS"+e,n["O"+t]="o"+e.toLowerCase(),n}function o(t){if(s[t])return s[t];
if(!a[t])return t;var e=a[t];for(var n in e)if(e.hasOwnProperty(n)&&n in l)return s[t]=e[n];return""}var i=n(360),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},l={};i.canUseDOM&&(l=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),t.exports=o},function(t,e,n){"use strict";var r=n(416),o={getHostProps:r.getHostProps};t.exports=o},function(t,e){"use strict";var n={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},r={getHostProps:function(t,e){if(!e.disabled)return e;var r={};for(var o in e)!n[o]&&e.hasOwnProperty(o)&&(r[o]=e[o]);return r}};t.exports=r},function(t,e,n){"use strict";function r(){this._rootNodeID&&p.updateWrapper(this)}function o(t){var e=this._currentElement.props,n=u.executeOnChange(e,t);f.asap(r,this);var o=e.name;if("radio"===e.type&&null!=o){for(var a=c.getNodeFromInstance(this),s=a;s.parentNode;)s=s.parentNode;for(var l=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),p=0;p<l.length;p++){var h=l[p];if(h!==a&&h.form===a.form){var d=c.getInstanceFromNode(h);d?void 0:i("90"),f.asap(r,d)}}}return n}var i=n(321),a=n(318),s=n(416),l=n(410),u=n(418),c=n(347),f=n(367),p=(n(322),n(325),{getHostProps:function(t,e){var n=u.getValue(e),r=u.getChecked(e),o=a({type:void 0,step:void 0,min:void 0,max:void 0},s.getHostProps(t,e),{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:t._wrapperState.initialValue,checked:null!=r?r:t._wrapperState.initialChecked,onChange:t._wrapperState.onChange});return o},mountWrapper:function(t,e){var n=e.defaultValue;t._wrapperState={initialChecked:null!=e.checked?e.checked:e.defaultChecked,initialValue:null!=e.value?e.value:n,listeners:null,onChange:o.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=e.checked;null!=n&&l.setValueForProperty(c.getNodeFromInstance(t),"checked",n||!1);var r=c.getNodeFromInstance(t),o=u.getValue(e);if(null!=o){var i=""+o;i!==r.value&&(r.value=i)}else null==e.value&&null!=e.defaultValue&&(r.defaultValue=""+e.defaultValue),null==e.checked&&null!=e.defaultChecked&&(r.defaultChecked=!!e.defaultChecked)},postMountWrapper:function(t){var e=t._currentElement.props,n=c.getNodeFromInstance(t);switch(e.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});t.exports=p},function(t,e,n){"use strict";function r(t){null!=t.checkedLink&&null!=t.valueLink?s("87"):void 0}function o(t){r(t),null!=t.value||null!=t.onChange?s("88"):void 0}function i(t){r(t),null!=t.checked||null!=t.onChange?s("89"):void 0}function a(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}var s=n(321),l=n(341),u=n(336),c=n(342),f=(n(322),n(325),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),p={value:function(t,e,n){return!t[e]||f[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e,n){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:l.func},h={},d={checkPropTypes:function(t,e,n){for(var r in p){if(p.hasOwnProperty(r))var o=p[r](e,r,t,u.prop,null,c);if(o instanceof Error&&!(o.message in h)){h[o.message]=!0;a(n)}}},getValue:function(t){return t.valueLink?(o(t),t.valueLink.value):t.value},getChecked:function(t){return t.checkedLink?(i(t),t.checkedLink.value):t.checked},executeOnChange:function(t,e){return t.valueLink?(o(t),t.valueLink.requestChange(e.target.value)):t.checkedLink?(i(t),t.checkedLink.requestChange(e.target.checked)):t.onChange?t.onChange.call(void 0,e):void 0}};t.exports=d},function(t,e,n){"use strict";function r(t){var e="";return i.forEach(t,function(t){null!=t&&("string"==typeof t||"number"==typeof t?e+=t:l||(l=!0))}),e}var o=n(318),i=n(319),a=n(347),s=n(420),l=(n(325),!1),u={mountWrapper:function(t,e,n){var o=null;if(null!=n){var i=n;"optgroup"===i._tag&&(i=i._hostParent),null!=i&&"select"===i._tag&&(o=s.getSelectValueContext(i))}var a=null;if(null!=o){var l;if(l=null!=e.value?e.value+"":r(e.children),a=!1,Array.isArray(o)){for(var u=0;u<o.length;u++)if(""+o[u]===l){a=!0;break}}else a=""+o===l}t._wrapperState={selected:a}},postMountWrapper:function(t){var e=t._currentElement.props;if(null!=e.value){var n=a.getNodeFromInstance(t);n.setAttribute("value",e.value)}},getHostProps:function(t,e){var n=o({selected:void 0,children:void 0},e);null!=t._wrapperState.selected&&(n.selected=t._wrapperState.selected);var i=r(e.children);return i&&(n.children=i),n}};t.exports=u},function(t,e,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var t=this._currentElement.props,e=l.getValue(t);null!=e&&o(this,Boolean(t.multiple),e)}}function o(t,e,n){var r,o,i=u.getNodeFromInstance(t).options;if(e){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<i.length;o++){var a=r.hasOwnProperty(i[o].value);i[o].selected!==a&&(i[o].selected=a)}}else{for(r=""+n,o=0;o<i.length;o++)if(i[o].value===r)return void(i[o].selected=!0);i.length&&(i[0].selected=!0)}}function i(t){var e=this._currentElement.props,n=l.executeOnChange(e,t);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),c.asap(r,this),n}var a=n(318),s=n(416),l=n(418),u=n(347),c=n(367),f=(n(325),!1),p={getHostProps:function(t,e){return a({},s.getHostProps(t,e),{onChange:t._wrapperState.onChange,value:void 0})},mountWrapper:function(t,e){var n=l.getValue(e);t._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:e.defaultValue,listeners:null,onChange:i.bind(t),wasMultiple:Boolean(e.multiple)},void 0===e.value||void 0===e.defaultValue||f||(f=!0)},getSelectValueContext:function(t){return t._wrapperState.initialValue},postUpdateWrapper:function(t){var e=t._currentElement.props;t._wrapperState.initialValue=void 0;var n=t._wrapperState.wasMultiple;t._wrapperState.wasMultiple=Boolean(e.multiple);var r=l.getValue(e);null!=r?(t._wrapperState.pendingUpdate=!1,o(t,Boolean(e.multiple),r)):n!==Boolean(e.multiple)&&(null!=e.defaultValue?o(t,Boolean(e.multiple),e.defaultValue):o(t,Boolean(e.multiple),e.multiple?[]:""))}};t.exports=p},function(t,e,n){"use strict";function r(){this._rootNodeID&&f.updateWrapper(this)}function o(t){var e=this._currentElement.props,n=l.executeOnChange(e,t);return c.asap(r,this),n}var i=n(321),a=n(318),s=n(416),l=n(418),u=n(347),c=n(367),f=(n(322),n(325),{getHostProps:function(t,e){null!=e.dangerouslySetInnerHTML?i("91"):void 0;var n=a({},s.getHostProps(t,e),{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue,onChange:t._wrapperState.onChange});return n},mountWrapper:function(t,e){var n=l.getValue(e),r=n;if(null==n){var a=e.defaultValue,s=e.children;null!=s&&(null!=a?i("92"):void 0,Array.isArray(s)&&(s.length<=1?void 0:i("93"),s=s[0]),a=""+s),null==a&&(a=""),r=a}t._wrapperState={initialValue:""+r,listeners:null,onChange:o.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=u.getNodeFromInstance(t),r=l.getValue(e);if(null!=r){var o=""+r;o!==n.value&&(n.value=o),null==e.defaultValue&&(n.defaultValue=o)}null!=e.defaultValue&&(n.defaultValue=e.defaultValue)},postMountWrapper:function(t){var e=u.getNodeFromInstance(t);e.value=e.textContent}});t.exports=f},function(t,e,n){"use strict";function r(t,e,n){return{type:p.INSERT_MARKUP,content:t,fromIndex:null,fromNode:null,toIndex:n,afterNode:e}}function o(t,e,n){return{type:p.MOVE_EXISTING,content:null,fromIndex:t._mountIndex,fromNode:h.getHostNode(t),toIndex:n,afterNode:e}}function i(t,e){return{type:p.REMOVE_NODE,content:null,fromIndex:t._mountIndex,fromNode:e,toIndex:null,afterNode:null}}function a(t){return{type:p.SET_MARKUP,content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(t){return{type:p.TEXT_CONTENT,content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function l(t,e){return e&&(t=t||[],t.push(e)),t}function u(t,e){f.processChildrenUpdates(t,e)}var c=n(321),f=n(423),p=(n(424),n(373),n(397)),h=(n(324),n(370)),d=n(425),m=(n(326),n(435)),y=(n(322),{Mixin:{_reconcilerInstantiateChildren:function(t,e,n){return d.instantiateChildren(t,e,n)},_reconcilerUpdateChildren:function(t,e,n,r,o,i){var a,s=0;return a=m(e,s),d.updateChildren(t,a,n,r,o,this,this._hostContainerInfo,i,s),a},mountChildren:function(t,e,n){var r=this._reconcilerInstantiateChildren(t,e,n);this._renderedChildren=r;var o=[],i=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],l=0,u=h.mountComponent(s,e,this,this._hostContainerInfo,n,l);s._mountIndex=i++,o.push(u)}return o},updateTextContent:function(t){var e=this._renderedChildren;d.unmountChildren(e,!1);for(var n in e)e.hasOwnProperty(n)&&c("118");var r=[s(t)];u(this,r)},updateMarkup:function(t){var e=this._renderedChildren;d.unmountChildren(e,!1);for(var n in e)e.hasOwnProperty(n)&&c("118");var r=[a(t)];u(this,r)},updateChildren:function(t,e,n){this._updateChildren(t,e,n)},_updateChildren:function(t,e,n){var r=this._renderedChildren,o={},i=[],a=this._reconcilerUpdateChildren(r,t,i,o,e,n);if(a||r){var s,c=null,f=0,p=0,d=0,m=null;for(s in a)if(a.hasOwnProperty(s)){var y=r&&r[s],v=a[s];y===v?(c=l(c,this.moveChild(y,m,f,p)),p=Math.max(y._mountIndex,p),y._mountIndex=f):(y&&(p=Math.max(y._mountIndex,p)),c=l(c,this._mountChildAtIndex(v,i[d],m,f,e,n)),d++),f++,m=h.getHostNode(v)}for(s in o)o.hasOwnProperty(s)&&(c=l(c,this._unmountChild(r[s],o[s])));c&&u(this,c),this._renderedChildren=a}},unmountChildren:function(t){var e=this._renderedChildren;d.unmountChildren(e,t),this._renderedChildren=null},moveChild:function(t,e,n,r){if(t._mountIndex<r)return o(t,e,n)},createChild:function(t,e,n){return r(n,e,t._mountIndex)},removeChild:function(t,e){return i(t,e)},_mountChildAtIndex:function(t,e,n,r,o,i){return t._mountIndex=r,this.createChild(t,n,e)},_unmountChild:function(t,e){var n=this.removeChild(t,e);return t._mountIndex=null,n}}});t.exports=y},function(t,e,n){"use strict";var r=n(321),o=(n(322),!1),i={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){o?r("104"):void 0,i.replaceNodeWithMarkup=t.replaceNodeWithMarkup,i.processChildrenUpdates=t.processChildrenUpdates,o=!0}}};t.exports=i},function(t,e){"use strict";var n={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};t.exports=n},function(t,e,n){(function(e){"use strict";function r(t,e,n,r){var o=void 0===t[n];null!=e&&o&&(t[n]=i(e,!0))}var o=n(370),i=n(426),a=(n(330),n(432)),s=n(328),l=(n(325),{instantiateChildren:function(t,e,n,o){if(null==t)return null;var i={};return s(t,r,i),i},updateChildren:function(t,e,n,r,s,l,u,c,f){if(e||t){var p,h;for(p in e)if(e.hasOwnProperty(p)){h=t&&t[p];var d=h&&h._currentElement,m=e[p];if(null!=h&&a(d,m))o.receiveComponent(h,m,s,c),e[p]=h;else{h&&(r[p]=o.getHostNode(h),o.unmountComponent(h,!1));var y=i(m,!0);e[p]=y;var v=o.mountComponent(y,s,l,u,c,f);n.push(v)}}for(p in t)!t.hasOwnProperty(p)||e&&e.hasOwnProperty(p)||(h=t[p],r[p]=o.getHostNode(h),o.unmountComponent(h,!1))}},unmountChildren:function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];o.unmountComponent(r,e)}}});t.exports=l}).call(e,n(294))},function(t,e,n){"use strict";function r(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}function o(t){return"function"==typeof t&&"undefined"!=typeof t.prototype&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function i(t,e){var n;if(null===t||t===!1)n=u.create(i);else if("object"==typeof t){var s=t;!s||"function"!=typeof s.type&&"string"!=typeof s.type?a("130",null==s.type?s.type:typeof s.type,r(s._owner)):void 0,"string"==typeof s.type?n=c.createInternalComponent(s):o(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new f(s)}else"string"==typeof t||"number"==typeof t?n=c.createInstanceForText(t):a("131",typeof t);return n._mountIndex=0,n._mountImage=null,n}var a=n(321),s=n(318),l=n(427),u=n(433),c=n(434),f=(n(322),n(325),function(t){this.construct(t)});s(f.prototype,l.Mixin,{_instantiateReactComponent:i});t.exports=i},function(t,e,n){"use strict";function r(t){}function o(t,e){}function i(t){return!(!t.prototype||!t.prototype.isReactComponent)}function a(t){return!(!t.prototype||!t.prototype.isPureReactComponent)}var s=n(321),l=n(318),u=n(423),c=n(324),f=n(323),p=n(357),h=n(424),d=(n(373),n(428)),m=(n(336),n(370)),y=n(429),v=n(333),g=(n(322),n(431)),b=n(432),_=(n(325),{ImpureClass:0,PureClass:1,StatelessFunctional:2});r.prototype.render=function(){var t=h.get(this)._currentElement.type,e=t(this.props,this.context,this.updater);return o(t,e),e};var x=1,w={construct:function(t){this._currentElement=t,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(t,e,n,l){this._context=l,this._mountOrder=x++,this._hostParent=e,this._hostContainerInfo=n;var u,c=this._currentElement.props,p=this._processContext(l),d=this._currentElement.type,m=t.getUpdateQueue(),y=i(d),g=this._constructComponent(y,c,p,m);y||null!=g&&null!=g.render?a(d)?this._compositeType=_.PureClass:this._compositeType=_.ImpureClass:(u=g,o(d,u),null===g||g===!1||f.isValidElement(g)?void 0:s("105",d.displayName||d.name||"Component"),g=new r(d),this._compositeType=_.StatelessFunctional);g.props=c,g.context=p,g.refs=v,g.updater=m,this._instance=g,h.set(g,this);var b=g.state;void 0===b&&(g.state=b=null),"object"!=typeof b||Array.isArray(b)?s("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var w;return w=g.unstable_handleError?this.performInitialMountWithErrorHandling(u,e,n,t,l):this.performInitialMount(u,e,n,t,l),g.componentDidMount&&t.getReactMountReady().enqueue(g.componentDidMount,g),w},_constructComponent:function(t,e,n,r){return this._constructComponentWithoutOwner(t,e,n,r)},_constructComponentWithoutOwner:function(t,e,n,r){var o=this._currentElement.type;return t?new o(e,n,r):o(e,n,r)},performInitialMountWithErrorHandling:function(t,e,n,r,o){var i,a=r.checkpoint();try{i=this.performInitialMount(t,e,n,r,o)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),i=this.performInitialMount(t,e,n,r,o)}return i},performInitialMount:function(t,e,n,r,o){var i=this._instance,a=0;i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===t&&(t=this._renderValidatedComponent());var s=d.getType(t);this._renderedNodeType=s;var l=this._instantiateReactComponent(t,s!==d.EMPTY);this._renderedComponent=l;var u=m.mountComponent(l,r,e,n,this._processChildContext(o),a);return u},getHostNode:function(){return m.getHostNode(this._renderedComponent)},unmountComponent:function(t){if(this._renderedComponent){var e=this._instance;if(e.componentWillUnmount&&!e._calledComponentWillUnmount)if(e._calledComponentWillUnmount=!0,t){var n=this.getName()+".componentWillUnmount()";p.invokeGuardedCallback(n,e.componentWillUnmount.bind(e))}else e.componentWillUnmount();this._renderedComponent&&(m.unmountComponent(this._renderedComponent,t),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,h.remove(e)}},_maskContext:function(t){var e=this._currentElement.type,n=e.contextTypes;if(!n)return v;var r={};for(var o in n)r[o]=t[o];return r},_processContext:function(t){var e=this._maskContext(t);return e},_processChildContext:function(t){var e,n=this._currentElement.type,r=this._instance;if(r.getChildContext&&(e=r.getChildContext()),e){"object"!=typeof n.childContextTypes?s("107",this.getName()||"ReactCompositeComponent"):void 0;for(var o in e)o in n.childContextTypes?void 0:s("108",this.getName()||"ReactCompositeComponent",o);return l({},t,e)}return t},_checkContextTypes:function(t,e,n){y(t,e,n,this.getName(),null,this._debugID)},receiveComponent:function(t,e,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(e,r,t,o,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement?m.receiveComponent(this,this._pendingElement,t,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(t,e,n,r,o){var i=this._instance;null==i?s("136",this.getName()||"ReactCompositeComponent"):void 0;var a,l=!1;this._context===o?a=i.context:(a=this._processContext(o),l=!0);var u=e.props,c=n.props;e!==n&&(l=!0),l&&i.componentWillReceiveProps&&i.componentWillReceiveProps(c,a);var f=this._processPendingState(c,a),p=!0;this._pendingForceUpdate||(i.shouldComponentUpdate?p=i.shouldComponentUpdate(c,f,a):this._compositeType===_.PureClass&&(p=!g(u,c)||!g(i.state,f))),this._updateBatchNumber=null,p?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,f,a,t,o)):(this._currentElement=n,this._context=o,i.props=c,i.state=f,i.context=a)},_processPendingState:function(t,e){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=l({},o?r[0]:n.state),a=o?1:0;a<r.length;a++){var s=r[a];l(i,"function"==typeof s?s.call(n,i,t,e):s)}return i},_performComponentUpdate:function(t,e,n,r,o,i){var a,s,l,u=this._instance,c=Boolean(u.componentDidUpdate);c&&(a=u.props,s=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(e,n,r),this._currentElement=t,this._context=i,u.props=e,u.state=n,u.context=r,this._updateRenderedComponent(o,i),c&&o.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,a,s,l),u)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent(),i=0;if(b(r,o))m.receiveComponent(n,o,t,this._processChildContext(e));else{var a=m.getHostNode(n);m.unmountComponent(n,!1);var s=d.getType(o);this._renderedNodeType=s;var l=this._instantiateReactComponent(o,s!==d.EMPTY);this._renderedComponent=l;var u=m.mountComponent(l,t,this._hostParent,this._hostContainerInfo,this._processChildContext(e),i);this._replaceNodeWithMarkup(a,u,n)}},_replaceNodeWithMarkup:function(t,e,n){u.replaceNodeWithMarkup(t,e,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t,e=this._instance;return t=e.render()},_renderValidatedComponent:function(){var t;if(this._compositeType!==_.StatelessFunctional){c.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{c.current=null}}else t=this._renderValidatedComponentWithoutOwnerOrContext();return null===t||t===!1||f.isValidElement(t)?void 0:s("109",this.getName()||"ReactCompositeComponent"),t},attachRef:function(t,e){var n=this.getPublicInstance();null==n?s("110"):void 0;var r=e.getPublicInstance(),o=n.refs===v?n.refs={}:n.refs;o[t]=r},detachRef:function(t){var e=this.getPublicInstance().refs;delete e[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){var t=this._instance;return this._compositeType===_.StatelessFunctional?null:t},_instantiateReactComponent:null},T={Mixin:w};t.exports=T},function(t,e,n){"use strict";var r=n(321),o=n(323),i=(n(322),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(t){return null===t||t===!1?i.EMPTY:o.isValidElement(t)?"function"==typeof t.type?i.COMPOSITE:i.HOST:void r("26",t)}});t.exports=i},function(t,e,n){(function(e){"use strict";function r(t,e,n,r,l,u){for(var c in t)if(t.hasOwnProperty(c)){var f;try{"function"!=typeof t[c]?o("84",r||"React class",i[n],c):void 0,f=t[c](e,c,r,n,null,a)}catch(p){f=p}if(f instanceof Error&&!(f.message in s)){s[f.message]=!0}}}var o=n(321),i=n(338),a=n(342),s=(n(322),n(325),{});t.exports=r}).call(e,n(294))},function(t,e,n){"use strict";function r(t){var e=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp("^"+e.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var o=e.call(t);return r.test(o)}catch(i){return!1}}function o(t){return"."+t}function i(t){return parseInt(t.substr(1),10)}function a(t){if(T)return v.get(t);var e=o(t);return b[e]}function s(t){if(T)v["delete"](t);else{var e=o(t);delete b[e]}}function l(t,e,n){var r={element:e,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0};if(T)v.set(t,r);else{var i=o(t);b[i]=r}}function u(t){if(T)g.add(t);else{var e=o(t);_[e]=!0}}function c(t){if(T)g["delete"](t);else{var e=o(t);delete _[e]}}function f(){return T?Array.from(v.keys()):Object.keys(b).map(i)}function p(){return T?Array.from(g.keys()):Object.keys(_).map(i)}function h(t){var e=a(t);if(e){var n=e.childIDs;s(t),n.forEach(h)}}function d(t,e,n){return"\n    in "+t+(e?" (at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+")":n?" (created by "+n+")":"")}function m(t){return null==t?"#empty":"string"==typeof t||"number"==typeof t?"#text":"string"==typeof t.type?t.type:t.type.displayName||t.type.name||"Unknown"}function y(t){var e,n=C.getDisplayName(t),r=C.getElement(t),o=C.getOwnerID(t);return o&&(e=C.getDisplayName(o)),d(n,r&&r._source,e)}var v,g,b,_,x=n(321),w=n(324),T=(n(322),n(325),"function"==typeof Array.from&&"function"==typeof Map&&r(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&r(Map.prototype.keys)&&"function"==typeof Set&&r(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&r(Set.prototype.keys));T?(v=new Map,g=new Set):(b={},_={});var E=[],C={onSetChildren:function(t,e){var n=a(t);n.childIDs=e;for(var r=0;r<e.length;r++){var o=e[r],i=a(o);i?void 0:x("140"),null==i.childIDs&&"object"==typeof i.element&&null!=i.element?x("141"):void 0,i.isMounted?void 0:x("71"),null==i.parentID&&(i.parentID=t),i.parentID!==t?x("142",o,i.parentID,t):void 0}},onBeforeMountComponent:function(t,e,n){l(t,e,n)},onBeforeUpdateComponent:function(t,e){var n=a(t);n&&n.isMounted&&(n.element=e)},onMountComponent:function(t){var e=a(t);e.isMounted=!0;var n=0===e.parentID;n&&u(t)},onUpdateComponent:function(t){var e=a(t);e&&e.isMounted&&e.updateCount++},onUnmountComponent:function(t){var e=a(t);if(e){e.isMounted=!1;var n=0===e.parentID;n&&c(t)}E.push(t)},purgeUnmountedComponents:function(){if(!C._preventPurging){for(var t=0;t<E.length;t++){var e=E[t];h(e)}E.length=0}},isMounted:function(t){var e=a(t);return!!e&&e.isMounted},getCurrentStackAddendum:function(t){var e="";if(t){var n=t.type,r="function"==typeof n?n.displayName||n.name:n,o=t._owner;e+=d(r||"Unknown",t._source,o&&o.getName())}var i=w.current,a=i&&i._debugID;return e+=C.getStackAddendumByID(a)},getStackAddendumByID:function(t){for(var e="";t;)e+=y(t),t=C.getParentID(t);return e},getChildIDs:function(t){var e=a(t);return e?e.childIDs:[]},getDisplayName:function(t){var e=C.getElement(t);return e?m(e):null},getElement:function(t){var e=a(t);return e?e.element:null},getOwnerID:function(t){var e=C.getElement(t);return e&&e._owner?e._owner._debugID:null},getParentID:function(t){var e=a(t);return e?e.parentID:null},getSource:function(t){var e=a(t),n=e?e.element:null,r=null!=n?n._source:null;return r},getText:function(t){var e=C.getElement(t);return"string"==typeof e?e:"number"==typeof e?""+e:null},getUpdateCount:function(t){var e=a(t);return e?e.updateCount:0},getRegisteredIDs:f,getRootIDs:p};t.exports=C},function(t,e){"use strict";function n(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function r(t,e){if(n(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(!o.call(e,r[a])||!n(t[r[a]],e[r[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;t.exports=r},function(t,e){"use strict";function n(t,e){var n=null===t||t===!1,r=null===e||e===!1;if(n||r)return n===r;var o=typeof t,i=typeof e;return"string"===o||"number"===o?"string"===i||"number"===i:"object"===i&&t.type===e.type&&t.key===e.key}t.exports=n},function(t,e){"use strict";var n,r={injectEmptyComponentFactory:function(t){n=t}},o={create:function(t){return n(t)}};o.injection=r,t.exports=o},function(t,e,n){"use strict";function r(t){return l?void 0:a("111",t.type),new l(t)}function o(t){return new c(t)}function i(t){return t instanceof c}var a=n(321),s=n(318),l=(n(322),null),u={},c=null,f={injectGenericComponentClass:function(t){l=t},injectTextComponentClass:function(t){c=t},injectComponentClasses:function(t){s(u,t)}},p={createInternalComponent:r,createInstanceForText:o,isTextComponent:i,injection:f};t.exports=p},function(t,e,n){(function(e){"use strict";function r(t,e,n,r){if(t&&"object"==typeof t){var o=t,i=void 0===o[n];i&&null!=e&&(o[n]=e)}}function o(t,e){if(null==t)return t;var n={};return i(t,r,n),n}var i=(n(330),n(328));n(325);t.exports=o}).call(e,n(294))},function(t,e,n){"use strict";function r(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.useCreateElement=!1,this.updateQueue=new s(this)}var o=n(318),i=n(320),a=n(374),s=(n(373),n(437)),l=[],u={enqueue:function(){}},c={getTransactionWrappers:function(){return l},getReactMountReady:function(){return u},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};o(r.prototype,a.Mixin,c),i.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){}var i=n(438),a=(n(374),n(325),function(){function t(e){r(this,t),this.transaction=e}return t.prototype.isMounted=function(t){return!1},t.prototype.enqueueCallback=function(t,e,n){this.transaction.isInTransaction()&&i.enqueueCallback(t,e,n)},t.prototype.enqueueForceUpdate=function(t){this.transaction.isInTransaction()?i.enqueueForceUpdate(t):o(t,"forceUpdate")},t.prototype.enqueueReplaceState=function(t,e){this.transaction.isInTransaction()?i.enqueueReplaceState(t,e):o(t,"replaceState")},t.prototype.enqueueSetState=function(t,e){this.transaction.isInTransaction()?i.enqueueSetState(t,e):o(t,"setState")},t}());t.exports=a},function(t,e,n){"use strict";function r(t){l.enqueueUpdate(t)}function o(t){var e=typeof t;if("object"!==e)return e;var n=t.constructor&&t.constructor.name||e,r=Object.keys(t);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function i(t,e){var n=s.get(t);if(!n){return null}return n}var a=n(321),s=(n(324),n(424)),l=(n(373),n(367)),u=(n(322),n(325),{isMounted:function(t){var e=s.get(t);return!!e&&!!e._renderedComponent},enqueueCallback:function(t,e,n){u.validateCallback(e,n);var o=i(t);return o?(o._pendingCallbacks?o._pendingCallbacks.push(e):o._pendingCallbacks=[e],void r(o)):null},enqueueCallbackInternal:function(t,e){t._pendingCallbacks?t._pendingCallbacks.push(e):t._pendingCallbacks=[e],r(t)},enqueueForceUpdate:function(t){var e=i(t,"forceUpdate");e&&(e._pendingForceUpdate=!0,r(e))},enqueueReplaceState:function(t,e){var n=i(t,"replaceState");n&&(n._pendingStateQueue=[e],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(t,e){var n=i(t,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(e),r(n)}},enqueueElementInternal:function(t,e,n){t._pendingElement=e,t._context=n,r(t)},validateCallback:function(t,e){t&&"function"!=typeof t?a("122",e,o(t)):void 0}});t.exports=u},function(t,e,n){"use strict";var r=(n(318),n(326)),o=(n(325),r);t.exports=o},function(t,e,n){"use strict";var r=n(318),o=n(387),i=n(347),a=function(t){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(t,e,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=e,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(t.useCreateElement){var l=n._ownerDocument,u=l.createComment(s);return i.precacheNode(this,u),o(u)}return t.renderToStaticMarkup?"":"<!--"+s+"-->"},receiveComponent:function(){},getHostNode:function(){return i.getNodeFromInstance(this)},unmountComponent:function(){i.uncacheNode(this)}}),t.exports=a},function(t,e,n){"use strict";function r(t,e){"_hostNode"in t?void 0:l("33"),"_hostNode"in e?void 0:l("33");for(var n=0,r=t;r;r=r._hostParent)n++;for(var o=0,i=e;i;i=i._hostParent)o++;for(;n-o>0;)t=t._hostParent,n--;for(;o-n>0;)e=e._hostParent,o--;for(var a=n;a--;){if(t===e)return t;t=t._hostParent,e=e._hostParent}return null}function o(t,e){"_hostNode"in t?void 0:l("35"),"_hostNode"in e?void 0:l("35");for(;e;){if(e===t)return!0;e=e._hostParent}return!1}function i(t){return"_hostNode"in t?void 0:l("36"),t._hostParent}function a(t,e,n){for(var r=[];t;)r.push(t),t=t._hostParent;var o;for(o=r.length;o-- >0;)e(r[o],!1,n);for(o=0;o<r.length;o++)e(r[o],!0,n)}function s(t,e,n,o,i){for(var a=t&&e?r(t,e):null,s=[];t&&t!==a;)s.push(t),t=t._hostParent;for(var l=[];e&&e!==a;)l.push(e),e=e._hostParent;var u;for(u=0;u<s.length;u++)n(s[u],!0,o);for(u=l.length;u-- >0;)n(l[u],!1,i)}var l=n(321);n(322);t.exports={isAncestor:o,getLowestCommonAncestor:r,getParentInstance:i,traverseTwoPhase:a,traverseEnterLeave:s}},function(t,e,n){"use strict";var r=n(321),o=n(318),i=n(386),a=n(387),s=n(347),l=n(392),u=(n(322),n(439),function(t){this._currentElement=t,this._stringText=""+t,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});o(u.prototype,{mountComponent:function(t,e,n,r){var o=n._idCounter++,i=" react-text: "+o+" ",u=" /react-text ";if(this._domID=o,this._hostParent=e,t.useCreateElement){var c=n._ownerDocument,f=c.createComment(i),p=c.createComment(u),h=a(c.createDocumentFragment());return a.queueChild(h,a(f)),this._stringText&&a.queueChild(h,a(c.createTextNode(this._stringText))),a.queueChild(h,a(p)),s.precacheNode(this,f),this._closingComment=p,h}var d=l(this._stringText);return t.renderToStaticMarkup?d:"<!--"+i+"-->"+d+"<!--"+u+"-->"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();i.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var t=this._commentNodes;if(t)return t;
if(!this._closingComment)for(var e=s.getNodeFromInstance(this),n=e.nextSibling;;){if(null==n?r("67",this._domID):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return t=[this._hostNode,this._closingComment],this._commentNodes=t,t},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),t.exports=u},function(t,e,n){"use strict";function r(){this.reinitializeTransaction()}var o=n(318),i=n(367),a=n(374),s=n(326),l={initialize:s,close:function(){p.isBatchingUpdates=!1}},u={initialize:s,close:i.flushBatchedUpdates.bind(i)},c=[u,l];o(r.prototype,a.Mixin,{getTransactionWrappers:function(){return c}});var f=new r,p={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,r,o,i){var a=p.isBatchingUpdates;p.isBatchingUpdates=!0,a?t(e,n,r,o,i):f.perform(t,null,e,n,r,o,i)}};t.exports=p},function(t,e,n){"use strict";function r(t){for(;t._hostParent;)t=t._hostParent;var e=f.getNodeFromInstance(t),n=e.parentNode;return f.getClosestInstanceFromNode(n)}function o(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function i(t){var e=h(t.nativeEvent),n=f.getClosestInstanceFromNode(e),o=n;do t.ancestors.push(o),o=o&&r(o);while(o);for(var i=0;i<t.ancestors.length;i++)n=t.ancestors[i],m._handleTopLevel(t.topLevelType,n,t.nativeEvent,h(t.nativeEvent))}function a(t){var e=d(window);t(e)}var s=n(318),l=n(445),u=n(360),c=n(320),f=n(347),p=n(367),h=n(375),d=n(446);s(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(o,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(t){m._handleTopLevel=t},setEnabled:function(t){m._enabled=!!t},isEnabled:function(){return m._enabled},trapBubbledEvent:function(t,e,n){var r=n;return r?l.listen(r,e,m.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){var r=n;return r?l.capture(r,e,m.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=a.bind(null,t);l.listen(window,"scroll",e)},dispatchEvent:function(t,e){if(m._enabled){var n=o.getPooled(t,e);try{p.batchedUpdates(i,n)}finally{o.release(n)}}}};t.exports=m},function(t,e,n){"use strict";var r=n(326),o={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=o},function(t,e){"use strict";function n(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}t.exports=n},function(t,e,n){"use strict";var r=n(348),o=n(354),i=n(356),a=n(423),s=n(335),l=n(433),u=n(412),c=n(434),f=n(367),p={Component:a.injection,Class:s.injection,DOMProperty:r.injection,EmptyComponent:l.injection,EventPluginHub:o.injection,EventPluginUtils:i.injection,EventEmitter:u.injection,HostComponent:c.injection,Updates:f.injection};t.exports=p},function(t,e,n){"use strict";function r(t){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=t}var o=n(318),i=n(368),a=n(320),s=n(412),l=n(449),u=(n(373),n(374)),c=n(438),f={initialize:l.getSelectionInformation,close:l.restoreSelection},p={initialize:function(){var t=s.isEnabled();return s.setEnabled(!1),t},close:function(t){s.setEnabled(t)}},h={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},d=[f,p,h],m={getTransactionWrappers:function(){return d},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(t){this.reactMountReady.rollback(t)},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};o(r.prototype,u.Mixin,m),a.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";function r(t){return i(document.documentElement,t)}var o=n(450),i=n(452),a=n(401),s=n(455),l={hasSelectionCapabilities:function(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)},getSelectionInformation:function(){var t=s();return{focusedElem:t,selectionRange:l.hasSelectionCapabilities(t)?l.getSelection(t):null}},restoreSelection:function(t){var e=s(),n=t.focusedElem,o=t.selectionRange;e!==n&&r(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,o),a(n))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart("character",-t.value.length),end:-n.moveEnd("character",-t.value.length)})}else e=o.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,r=e.end;if(void 0===r&&(r=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(r,t.value.length);else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var i=t.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()}else o.setOffsets(t,e)}};t.exports=l},function(t,e,n){"use strict";function r(t,e,n,r){return t===n&&e===r}function o(t){var e=document.selection,n=e.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(t),o.setEndPoint("EndToStart",n);var i=o.text.length,a=i+r;return{start:i,end:a}}function i(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,o=e.anchorOffset,i=e.focusNode,a=e.focusOffset,s=e.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(l){return null}var u=r(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),c=u?0:s.toString().length,f=s.cloneRange();f.selectNodeContents(t),f.setEnd(s.startContainer,s.startOffset);var p=r(f.startContainer,f.startOffset,f.endContainer,f.endOffset),h=p?0:f.toString().length,d=h+c,m=document.createRange();m.setStart(n,o),m.setEnd(i,a);var y=m.collapsed;return{start:y?d:h,end:y?h:d}}function a(t,e){var n,r,o=document.selection.createRange().duplicate();void 0===e.end?(n=e.start,r=n):e.start>e.end?(n=e.end,r=e.start):(n=e.start,r=e.end),o.moveToElementText(t),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function s(t,e){if(window.getSelection){var n=window.getSelection(),r=t[c()].length,o=Math.min(e.start,r),i=void 0===e.end?o:Math.min(e.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var s=u(t,o),l=u(t,i);if(s&&l){var f=document.createRange();f.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(f),n.extend(l.node,l.offset)):(f.setEnd(l.node,l.offset),n.addRange(f))}}}var l=n(360),u=n(451),c=n(362),f=l.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:f?o:i,setOffsets:f?a:s};t.exports=p},function(t,e){"use strict";function n(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function o(t,e){for(var o=n(t),i=0,a=0;o;){if(3===o.nodeType){if(a=i+o.textContent.length,i<=e&&a>=e)return{node:o,offset:e-i};i=a}o=n(r(o))}}t.exports=o},function(t,e,n){"use strict";function r(t,e){return!(!t||!e)&&(t===e||!o(t)&&(o(e)?r(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}var o=n(453);t.exports=r},function(t,e,n){"use strict";function r(t){return o(t)&&3==t.nodeType}var o=n(454);t.exports=r},function(t,e){"use strict";function n(t){return!(!t||!("function"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}t.exports=n},function(t,e){"use strict";function n(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(t){return document.body}}t.exports=n},function(t,e){"use strict";var n={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},r={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering","in":0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},o={Properties:{},DOMAttributeNamespaces:{xlinkActuate:n.xlink,xlinkArcrole:n.xlink,xlinkHref:n.xlink,xlinkRole:n.xlink,xlinkShow:n.xlink,xlinkTitle:n.xlink,xlinkType:n.xlink,xmlBase:n.xml,xmlLang:n.xml,xmlSpace:n.xml},DOMAttributeNames:{}};Object.keys(r).forEach(function(t){o.Properties[t]=0,r[t]&&(o.DOMAttributeNames[t]=r[t])}),t.exports=o},function(t,e,n){"use strict";function r(t){if("selectionStart"in t&&u.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(t,e){if(x||null==g||g!==f())return null;var n=r(g);if(!_||!d(_,n)){_=n;var o=c.getPooled(v.select,b,t,e);return o.type="select",o.target=g,a.accumulateTwoPhaseDispatches(o),o}return null}var i=n(352),a=n(353),s=n(360),l=n(347),u=n(449),c=n(364),f=n(455),p=n(377),h=n(339),d=n(431),m=i.topLevelTypes,y=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,v={select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[m.topBlur,m.topContextMenu,m.topFocus,m.topKeyDown,m.topKeyUp,m.topMouseDown,m.topMouseUp,m.topSelectionChange]}},g=null,b=null,_=null,x=!1,w=!1,T=h({onSelect:null}),E={eventTypes:v,extractEvents:function(t,e,n,r){if(!w)return null;var i=e?l.getNodeFromInstance(e):window;switch(t){case m.topFocus:(p(i)||"true"===i.contentEditable)&&(g=i,b=e,_=null);break;case m.topBlur:g=null,b=null,_=null;break;case m.topMouseDown:x=!0;break;case m.topContextMenu:case m.topMouseUp:return x=!1,o(n,r);case m.topSelectionChange:if(y)break;case m.topKeyDown:case m.topKeyUp:return o(n,r)}return null},didPutListener:function(t,e,n){e===T&&(w=!0)}};t.exports=E},function(t,e,n){"use strict";function r(t){return"."+t._rootNodeID}var o=n(321),i=n(352),a=n(445),s=n(353),l=n(347),u=n(459),c=n(460),f=n(364),p=n(461),h=n(462),d=n(380),m=n(465),y=n(466),v=n(467),g=n(381),b=n(468),_=n(326),x=n(463),w=(n(322),n(339)),T=i.topLevelTypes,E={abort:{phasedRegistrationNames:{bubbled:w({onAbort:!0}),captured:w({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:w({onAnimationEnd:!0}),captured:w({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:w({onAnimationIteration:!0}),captured:w({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:w({onAnimationStart:!0}),captured:w({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:w({onBlur:!0}),captured:w({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:w({onCanPlay:!0}),captured:w({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:w({onCanPlayThrough:!0}),captured:w({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:w({onClick:!0}),captured:w({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:w({onContextMenu:!0}),captured:w({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:w({onCopy:!0}),captured:w({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:w({onCut:!0}),captured:w({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:w({onDoubleClick:!0}),captured:w({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:w({onDrag:!0}),captured:w({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:w({onDragEnd:!0}),captured:w({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:w({onDragEnter:!0}),captured:w({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:w({onDragExit:!0}),captured:w({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:w({onDragLeave:!0}),captured:w({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:w({onDragOver:!0}),captured:w({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:w({onDragStart:!0}),captured:w({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:w({onDrop:!0}),captured:w({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:w({onDurationChange:!0}),captured:w({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:w({onEmptied:!0}),captured:w({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:w({onEncrypted:!0}),captured:w({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:w({onEnded:!0}),captured:w({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:w({onError:!0}),captured:w({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:w({onFocus:!0}),captured:w({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:w({onInput:!0}),captured:w({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:w({onInvalid:!0}),captured:w({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:w({onKeyDown:!0}),captured:w({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:w({onKeyPress:!0}),captured:w({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:w({onKeyUp:!0}),captured:w({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:w({onLoad:!0}),captured:w({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:w({onLoadedData:!0}),captured:w({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:w({onLoadedMetadata:!0}),captured:w({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:w({onLoadStart:!0}),captured:w({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:w({onMouseDown:!0}),captured:w({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:w({onMouseMove:!0}),captured:w({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:w({onMouseOut:!0}),captured:w({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:w({onMouseOver:!0}),captured:w({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:w({onMouseUp:!0}),captured:w({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:w({onPaste:!0}),captured:w({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:w({onPause:!0}),captured:w({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:w({onPlay:!0}),captured:w({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:w({onPlaying:!0}),captured:w({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:w({onProgress:!0}),captured:w({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:w({onRateChange:!0}),captured:w({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:w({onReset:!0}),captured:w({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:w({onScroll:!0}),captured:w({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:w({onSeeked:!0}),captured:w({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:w({onSeeking:!0}),captured:w({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:w({onStalled:!0}),captured:w({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:w({onSubmit:!0}),captured:w({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:w({onSuspend:!0}),captured:w({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:w({onTimeUpdate:!0}),captured:w({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:w({onTouchCancel:!0}),captured:w({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:w({onTouchEnd:!0}),captured:w({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:w({onTouchMove:!0}),captured:w({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:w({onTouchStart:!0}),captured:w({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:w({onTransitionEnd:!0}),captured:w({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:w({onVolumeChange:!0}),captured:w({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:w({onWaiting:!0}),captured:w({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:w({onWheel:!0}),captured:w({onWheelCapture:!0})}}},C={topAbort:E.abort,topAnimationEnd:E.animationEnd,topAnimationIteration:E.animationIteration,topAnimationStart:E.animationStart,topBlur:E.blur,topCanPlay:E.canPlay,topCanPlayThrough:E.canPlayThrough,topClick:E.click,topContextMenu:E.contextMenu,topCopy:E.copy,topCut:E.cut,topDoubleClick:E.doubleClick,topDrag:E.drag,topDragEnd:E.dragEnd,topDragEnter:E.dragEnter,topDragExit:E.dragExit,topDragLeave:E.dragLeave,topDragOver:E.dragOver,topDragStart:E.dragStart,topDrop:E.drop,topDurationChange:E.durationChange,topEmptied:E.emptied,topEncrypted:E.encrypted,topEnded:E.ended,topError:E.error,topFocus:E.focus,topInput:E.input,topInvalid:E.invalid,topKeyDown:E.keyDown,topKeyPress:E.keyPress,topKeyUp:E.keyUp,topLoad:E.load,topLoadedData:E.loadedData,topLoadedMetadata:E.loadedMetadata,topLoadStart:E.loadStart,topMouseDown:E.mouseDown,topMouseMove:E.mouseMove,topMouseOut:E.mouseOut,topMouseOver:E.mouseOver,topMouseUp:E.mouseUp,topPaste:E.paste,topPause:E.pause,topPlay:E.play,topPlaying:E.playing,topProgress:E.progress,topRateChange:E.rateChange,topReset:E.reset,topScroll:E.scroll,topSeeked:E.seeked,topSeeking:E.seeking,topStalled:E.stalled,topSubmit:E.submit,topSuspend:E.suspend,topTimeUpdate:E.timeUpdate,topTouchCancel:E.touchCancel,topTouchEnd:E.touchEnd,topTouchMove:E.touchMove,topTouchStart:E.touchStart,topTransitionEnd:E.transitionEnd,topVolumeChange:E.volumeChange,topWaiting:E.waiting,topWheel:E.wheel};for(var k in C)C[k].dependencies=[k];var S=w({onClick:null}),P={},M={eventTypes:E,extractEvents:function(t,e,n,r){var i=C[t];if(!i)return null;var a;switch(t){case T.topAbort:case T.topCanPlay:case T.topCanPlayThrough:case T.topDurationChange:case T.topEmptied:case T.topEncrypted:case T.topEnded:case T.topError:case T.topInput:case T.topInvalid:case T.topLoad:case T.topLoadedData:case T.topLoadedMetadata:case T.topLoadStart:case T.topPause:case T.topPlay:case T.topPlaying:case T.topProgress:case T.topRateChange:case T.topReset:case T.topSeeked:case T.topSeeking:case T.topStalled:case T.topSubmit:case T.topSuspend:case T.topTimeUpdate:case T.topVolumeChange:case T.topWaiting:a=f;break;case T.topKeyPress:if(0===x(n))return null;case T.topKeyDown:case T.topKeyUp:a=h;break;case T.topBlur:case T.topFocus:a=p;break;case T.topClick:if(2===n.button)return null;case T.topContextMenu:case T.topDoubleClick:case T.topMouseDown:case T.topMouseMove:case T.topMouseOut:case T.topMouseOver:case T.topMouseUp:a=d;break;case T.topDrag:case T.topDragEnd:case T.topDragEnter:case T.topDragExit:case T.topDragLeave:case T.topDragOver:case T.topDragStart:case T.topDrop:a=m;break;case T.topTouchCancel:case T.topTouchEnd:case T.topTouchMove:case T.topTouchStart:a=y;break;case T.topAnimationEnd:case T.topAnimationIteration:case T.topAnimationStart:a=u;break;case T.topTransitionEnd:a=v;break;case T.topScroll:a=g;break;case T.topWheel:a=b;break;case T.topCopy:case T.topCut:case T.topPaste:a=c}a?void 0:o("86",t);var l=a.getPooled(i,e,n,r);return s.accumulateTwoPhaseDispatches(l),l},didPutListener:function(t,e,n){if(e===S){var o=r(t),i=l.getNodeFromInstance(t);P[o]||(P[o]=a.listen(i,"click",_))}},willDeleteListener:function(t,e){if(e===S){var n=r(t);P[n].remove(),delete P[n]}}};t.exports=M},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(364),i={animationName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(364),i={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(381),i={relatedTarget:null};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(381),i=n(463),a=n(464),s=n(383),l={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(t){return"keypress"===t.type?i(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?i(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};o.augmentClass(r,l),t.exports=r},function(t,e){"use strict";function n(t){var e,n=t.keyCode;return"charCode"in t?(e=t.charCode,0===e&&13===n&&(e=13)):e=n,e>=32||13===e?e:0}t.exports=n},function(t,e,n){"use strict";function r(t){if(t.key){var e=i[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var n=o(t);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===t.type||"keyup"===t.type?a[t.keyCode]||"Unidentified":""}var o=n(463),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(380),i={dataTransfer:null};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(381),i=n(383),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};o.augmentClass(r,a),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(364),i={propertyName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(380),i={deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++)if(t.charAt(r)!==e.charAt(r))return r;return t.length===e.length?-1:n}function o(t){return t?t.nodeType===I?t.documentElement:t.firstChild:null}function i(t){return t.getAttribute&&t.getAttribute(O)||""}function a(t,e,n,r,o){var i;if(x.logTopLevelRenders){var a=t._currentElement.props,s=a.type;i="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(i)}var l=E.mountComponent(t,n,null,g(t,e),o,0);i&&console.timeEnd(i),t._renderedComponent._topLevelWrapper=t,z._mountImageIntoNode(l,e,t,r,n)}function s(t,e,n,r){var o=k.ReactReconcileTransaction.getPooled(!n&&b.useCreateElement);o.perform(a,null,t,e,o,n,r),k.ReactReconcileTransaction.release(o)}function l(t,e,n){for(E.unmountComponent(t,n),e.nodeType===I&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)}function u(t){var e=o(t);if(e){var n=v.getInstanceFromNode(e);return!(!n||!n._hostParent)}}function c(t){return!(!t||t.nodeType!==L&&t.nodeType!==I&&t.nodeType!==j)}function f(t){var e=o(t),n=e&&v.getInstanceFromNode(e);return n&&!n._hostParent?n:null}function p(t){var e=f(t);return e?e._hostContainerInfo._topLevelWrapper:null}var h=n(321),d=n(387),m=n(348),y=n(412),v=(n(324),n(347)),g=n(470),b=n(471),_=n(323),x=n(369),w=n(424),T=(n(373),n(472)),E=n(370),C=n(438),k=n(367),S=n(333),P=n(426),M=(n(322),n(389)),A=n(432),O=(n(325),m.ID_ATTRIBUTE_NAME),D=m.ROOT_ATTRIBUTE_NAME,L=1,I=9,j=11,F={},R=1,N=function(){this.rootID=R++};N.prototype.isReactComponent={},N.prototype.render=function(){return this.props};var z={TopLevelWrapper:N,_instancesByReactRootID:F,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,e,n,r,o){return z.scrollMonitor(r,function(){C.enqueueElementInternal(t,e,n),o&&C.enqueueCallbackInternal(t,o)}),t},_renderNewRootComponent:function(t,e,n,r){c(e)?void 0:h("37"),y.ensureScrollValueMonitoring();var o=P(t,!1);k.batchedUpdates(s,o,e,n,r);var i=o._instance.rootID;return F[i]=o,o},renderSubtreeIntoContainer:function(t,e,n,r){return null!=t&&w.has(t)?void 0:h("38"),z._renderSubtreeIntoContainer(t,e,n,r)},_renderSubtreeIntoContainer:function(t,e,n,r){C.validateCallback(r,"ReactDOM.render"),_.isValidElement(e)?void 0:h("39","string"==typeof e?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof e?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=e&&void 0!==e.props?" This may be caused by unintentionally loading two independent copies of React.":"");var a,s=_(N,null,null,null,null,null,e);if(t){var l=w.get(t);a=l._processChildContext(l._context)}else a=S;var c=p(n);if(c){var f=c._currentElement,d=f.props;if(A(d,e)){var m=c._renderedComponent.getPublicInstance(),y=r&&function(){r.call(m)};return z._updateRootComponent(c,s,a,n,y),m}z.unmountComponentAtNode(n)}var v=o(n),g=v&&!!i(v),b=u(n),x=g&&!c&&!b,T=z._renderNewRootComponent(s,n,x,a)._renderedComponent.getPublicInstance();return r&&r.call(T),T},render:function(t,e,n){return z._renderSubtreeIntoContainer(null,t,e,n)},unmountComponentAtNode:function(t){c(t)?void 0:h("40");var e=p(t);if(!e){u(t),1===t.nodeType&&t.hasAttribute(D);return!1}return delete F[e._instance.rootID],k.batchedUpdates(l,e,t,!1),!0},_mountImageIntoNode:function(t,e,n,i,a){if(c(e)?void 0:h("41"),i){var s=o(e);if(T.canReuseMarkup(t,s))return void v.precacheNode(n,s);var l=s.getAttribute(T.CHECKSUM_ATTR_NAME);s.removeAttribute(T.CHECKSUM_ATTR_NAME);var u=s.outerHTML;s.setAttribute(T.CHECKSUM_ATTR_NAME,l);var f=t,p=r(f,u),m=" (client) "+f.substring(p-20,p+20)+"\n (server) "+u.substring(p-20,p+20);e.nodeType===I?h("42",m):void 0}if(e.nodeType===I?h("43"):void 0,a.useCreateElement){for(;e.lastChild;)e.removeChild(e.lastChild);d.insertTreeBefore(e,t,null)}else M(e,t),v.precacheNode(n,e.firstChild)}};t.exports=z},function(t,e,n){"use strict";function r(t,e){var n={_topLevelWrapper:t,_idCounter:1,_ownerDocument:e?e.nodeType===o?e:e.ownerDocument:null,_node:e,_tag:e?e.nodeName.toLowerCase():null,_namespaceURI:e?e.namespaceURI:null
};return n}var o=(n(439),9);t.exports=r},function(t,e){"use strict";var n={useCreateElement:!0};t.exports=n},function(t,e,n){"use strict";var r=n(473),o=/\/?>/,i=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=r(t);return i.test(t)?t:t.replace(o," "+a.CHECKSUM_ATTR_NAME+'="'+e+'"$&')},canReuseMarkup:function(t,e){var n=e.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=r(t);return o===n}};t.exports=a},function(t,e){"use strict";function n(t){for(var e=1,n=0,o=0,i=t.length,a=i&-4;o<a;){for(var s=Math.min(o+4096,a);o<s;o+=4)n+=(e+=t.charCodeAt(o))+(e+=t.charCodeAt(o+1))+(e+=t.charCodeAt(o+2))+(e+=t.charCodeAt(o+3));e%=r,n%=r}for(;o<i;o++)n+=e+=t.charCodeAt(o);return e%=r,n%=r,e|n<<16}var r=65521;t.exports=n},function(t,e,n){"use strict";function r(t){if(null==t)return null;if(1===t.nodeType)return t;var e=a.get(t);return e?(e=s(e),e?i.getNodeFromInstance(e):null):void("function"==typeof t.render?o("44"):o("45",Object.keys(t)))}var o=n(321),i=(n(324),n(347)),a=n(424),s=n(475);n(322),n(325);t.exports=r},function(t,e,n){"use strict";function r(t){for(var e;(e=t._renderedNodeType)===o.COMPOSITE;)t=t._renderedComponent;return e===o.HOST?t._renderedComponent:e===o.EMPTY?null:void 0}var o=n(428);t.exports=r},function(t,e,n){"use strict";var r=n(469);t.exports=r.renderSubtreeIntoContainer},function(t,e,n){var r=n(478),o=n(559),i=n(568),a=n(569),s=n(570),l=n(571),u={Dispatcher:r,Flux:o,FluxMixin:i,FluxChildMixin:a,StoreWatchMixin:s,createStore:l,version:n(573)};t.exports=u},function(t,e,n){var r=n(479),o=n(511),i=n(535),a=n(537),s=n(485),l=n(545),u=n(550),c=n(552),f=n(553),p=n(556),h=function(t,e){e(t)},d=function(t){this.stores={},this.currentDispatch=null,this.currentActionType=null,this.waitingToDispatch=[],this.dispatchInterceptor=h,this._boundDispatch=this._dispatch.bind(this);for(var e in t)t.hasOwnProperty(e)&&this.addStore(e,t[e])};d.prototype.addStore=function(t,e){e.dispatcher=this,this.stores[t]=e},d.prototype.dispatch=function(t){this.dispatchInterceptor(t,this._boundDispatch)},d.prototype._dispatch=function(t){if(!t||!t.type)throw new Error("Can only dispatch actions with a 'type' property");if(this.currentDispatch){var e="Cannot dispatch an action ('"+t.type+"') while another action ('"+this.currentActionType+"') is being dispatched";throw new Error(e)}this.waitingToDispatch=r(this.stores),this.currentActionType=t.type,this.currentDispatch=o(this.stores,function(){return{resolved:!1,waitingOn:[],waitCallback:null}});try{this.doDispatchLoop(t)}finally{this.currentActionType=null,this.currentDispatch=null}},d.prototype.doDispatchLoop=function(t){var e,n,r=!1,o=[],f=[];if(i(this.waitingToDispatch,function(i,u){if(e=this.currentDispatch[u],n=!e.waitingOn.length||!a(e.waitingOn,s(this.waitingToDispatch)).length){if(e.waitCallback){var c=l(e.waitingOn,function(t){return this.stores[t]},this),p=e.waitCallback;e.waitCallback=null,e.waitingOn=[],e.resolved=!0,p.apply(null,c),r=!0}else{e.resolved=!0;var h=this.stores[u].__handleAction__(t);h&&(r=!0)}f.push(u),this.currentDispatch[u].resolved&&o.push(u)}},this),s(this.waitingToDispatch).length&&!f.length){var p=s(this.waitingToDispatch).join(", ");throw new Error("Indirect circular wait detected among: "+p)}u(o,function(t){delete this.waitingToDispatch[t]},this),c(this.waitingToDispatch)&&this.doDispatchLoop(t),!r&&console&&console.warn&&console.warn("An action of type "+t.type+" was dispatched, but no store handled it")},d.prototype.waitForStores=function(t,e,n){if(!this.currentDispatch)throw new Error("Cannot wait unless an action is being dispatched");var r=f(this.stores,function(e){return e===t});if(e.indexOf(r)>-1)throw new Error("A store cannot wait on itself");var o=this.currentDispatch[r];if(o.waitingOn.length)throw new Error(r+" already waiting on stores");u(e,function(t){var e=this.currentDispatch[t];if(!this.stores[t])throw new Error("Cannot wait for non-existent store "+t);if(e.waitingOn.indexOf(r)>-1)throw new Error("Circular wait detected between "+r+" and "+t)},this),o.resolved=!1,o.waitingOn=p(o.waitingOn.concat(e)),o.waitCallback=n},d.prototype.setDispatchInterceptor=function(t){t?this.dispatchInterceptor=t:this.dispatchInterceptor=h},t.exports=d},function(t,e,n){function r(t,e,n,r){return e&&"boolean"!=typeof e&&a(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?o(t,e,i(n,r,3)):o(t,e)}var o=n(480),i=n(508),a=n(510);t.exports=r},function(t,e,n){function r(t,e,n,d,m,y,v){var b;if(n&&(b=m?n(t,d,m):n(t)),void 0!==b)return b;if(!p(t))return t;var _=f(t);if(_){if(b=l(t),!e)return o(t,b)}else{var w=N.call(t),T=w==g;if(w!=x&&w!=h&&(!T||m))return F[w]?u(t,w,e):m?t:{};if(b=c(T?{}:t),!e)return a(b,t)}y||(y=[]),v||(v=[]);for(var E=y.length;E--;)if(y[E]==t)return v[E];return y.push(t),v.push(b),(_?i:s)(t,function(o,i){b[i]=r(o,e,n,i,t,y,v)}),b}var o=n(481),i=n(482),a=n(483),s=n(500),l=n(504),u=n(505),c=n(507),f=n(497),p=n(489),h="[object Arguments]",d="[object Array]",m="[object Boolean]",y="[object Date]",v="[object Error]",g="[object Function]",b="[object Map]",_="[object Number]",x="[object Object]",w="[object RegExp]",T="[object Set]",E="[object String]",C="[object WeakMap]",k="[object ArrayBuffer]",S="[object Float32Array]",P="[object Float64Array]",M="[object Int8Array]",A="[object Int16Array]",O="[object Int32Array]",D="[object Uint8Array]",L="[object Uint8ClampedArray]",I="[object Uint16Array]",j="[object Uint32Array]",F={};F[h]=F[d]=F[k]=F[m]=F[y]=F[S]=F[P]=F[M]=F[A]=F[O]=F[_]=F[x]=F[w]=F[E]=F[D]=F[L]=F[I]=F[j]=!0,F[v]=F[g]=F[b]=F[T]=F[C]=!1;var R=Object.prototype,N=R.toString;t.exports=r},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e,n){function r(t,e){return null==e?t:o(e,i(e),t)}var o=n(484),i=n(485);t.exports=r},function(t,e){function n(t,e,n){n||(n={});for(var r=-1,o=e.length;++r<o;){var i=e[r];n[i]=t[i]}return n}t.exports=n},function(t,e,n){var r=n(486),o=n(491),i=n(489),a=n(495),s=r(Object,"keys"),l=s?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&o(t)?a(t):i(t)?s(t):[]}:a;t.exports=l},function(t,e,n){function r(t,e){var n=null==t?void 0:t[e];return o(n)?n:void 0}var o=n(487);t.exports=r},function(t,e,n){function r(t){return null!=t&&(o(t)?c.test(l.call(t)):i(t)&&a.test(t))}var o=n(488),i=n(490),a=/^\[object .+?Constructor\]$/,s=Object.prototype,l=Function.prototype.toString,u=s.hasOwnProperty,c=RegExp("^"+l.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return o(t)&&s.call(t)==i}var o=n(489),i="[object Function]",a=Object.prototype,s=a.toString;t.exports=r},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){function r(t){return null!=t&&i(o(t))}var o=n(492),i=n(494);t.exports=r},function(t,e,n){var r=n(493),o=r("length");t.exports=o},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e,n){function r(t){for(var e=l(t),n=e.length,r=n&&t.length,u=!!r&&s(r)&&(i(t)||o(t)),f=-1,p=[];++f<n;){var h=e[f];(u&&a(h,r)||c.call(t,h))&&p.push(h)}return p}var o=n(496),i=n(497),a=n(498),s=n(494),l=n(499),u=Object.prototype,c=u.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){return i(t)&&o(t)&&s.call(t,"callee")&&!l.call(t,"callee")}var o=n(491),i=n(490),a=Object.prototype,s=a.hasOwnProperty,l=a.propertyIsEnumerable;t.exports=r},function(t,e,n){var r=n(486),o=n(494),i=n(490),a="[object Array]",s=Object.prototype,l=s.toString,u=r(Array,"isArray"),c=u||function(t){return i(t)&&o(t.length)&&l.call(t)==a};t.exports=c},function(t,e){function n(t,e){return t="number"==typeof t||r.test(t)?+t:-1,e=null==e?o:e,t>-1&&t%1==0&&t<e}var r=/^\d+$/,o=9007199254740991;t.exports=n},function(t,e,n){function r(t){if(null==t)return[];l(t)||(t=Object(t));var e=t.length;e=e&&s(e)&&(i(t)||o(t))&&e||0;for(var n=t.constructor,r=-1,u="function"==typeof n&&n.prototype===t,f=Array(e),p=e>0;++r<e;)f[r]=r+"";for(var h in t)p&&a(h,e)||"constructor"==h&&(u||!c.call(t,h))||f.push(h);return f}var o=n(496),i=n(497),a=n(498),s=n(494),l=n(489),u=Object.prototype,c=u.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){return o(t,e,i)}var o=n(501),i=n(485);t.exports=r},function(t,e,n){var r=n(502),o=r();t.exports=o},function(t,e,n){function r(t){return function(e,n,r){for(var i=o(e),a=r(e),s=a.length,l=t?s:-1;t?l--:++l<s;){var u=a[l];if(n(i[u],u,i)===!1)break}return e}}var o=n(503);t.exports=r},function(t,e,n){function r(t){return o(t)?t:Object(t)}var o=n(489);t.exports=r},function(t,e){function n(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&o.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var r=Object.prototype,o=r.hasOwnProperty;t.exports=n},function(t,e,n){function r(t,e,n){var r=t.constructor;switch(e){case c:return o(t);case i:case a:return new r((+t));case f:case p:case h:case d:case m:case y:case v:case g:case b:var x=t.buffer;return new r(n?o(x):x,t.byteOffset,t.length);case s:case u:return new r(t);case l:var w=new r(t.source,_.exec(t));w.lastIndex=t.lastIndex}return w}var o=n(506),i="[object Boolean]",a="[object Date]",s="[object Number]",l="[object RegExp]",u="[object String]",c="[object ArrayBuffer]",f="[object Float32Array]",p="[object Float64Array]",h="[object Int8Array]",d="[object Int16Array]",m="[object Int32Array]",y="[object Uint8Array]",v="[object Uint8ClampedArray]",g="[object Uint16Array]",b="[object Uint32Array]",_=/\w*$/;t.exports=r},function(t,e){(function(e){function n(t){var e=new r(t.byteLength),n=new o(e);return n.set(new o(t)),e}var r=e.ArrayBuffer,o=e.Uint8Array;t.exports=n}).call(e,function(){return this}())},function(t,e){function n(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Object),new e}t.exports=n},function(t,e,n){function r(t,e,n){if("function"!=typeof t)return o;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,a){return t.call(e,n,r,o,i,a)}}return function(){return t.apply(e,arguments)}}var o=n(509);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t,e,n){if(!a(n))return!1;var r=typeof e;if("number"==r?o(n)&&i(e,n.length):"string"==r&&e in n){var s=n[e];return t===t?t===s:s!==s}return!1}var o=n(491),i=n(498),a=n(489);t.exports=r},function(t,e,n){var r=n(512),o=r();t.exports=o},function(t,e,n){function r(t){return function(e,n,r){var a={};return n=o(n,r,3),i(e,function(e,r,o){var i=n(e,r,o);r=t?i:r,e=t?e:i,a[r]=e}),a}}var o=n(513),i=n(500);t.exports=r},function(t,e,n){function r(t,e,n){var r=typeof t;return"function"==r?void 0===e?t:a(t,e,n):null==t?s:"object"==r?o(t):void 0===e?l(t):i(t,e)}var o=n(514),i=n(526),a=n(508),s=n(509),l=n(533);t.exports=r},function(t,e,n){function r(t){var e=i(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null!=t&&(t[n]===r&&(void 0!==r||n in a(t)))}}return function(t){return o(t,e)}}var o=n(515),i=n(523),a=n(503);t.exports=r},function(t,e,n){function r(t,e,n){var r=e.length,a=r,s=!n;if(null==t)return!a;for(t=i(t);r--;){var l=e[r];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++r<a;){l=e[r];var u=l[0],c=t[u],f=l[1];if(s&&l[2]){if(void 0===c&&!(u in t))return!1}else{var p=n?n(c,f,u):void 0;if(!(void 0===p?o(f,c,n,!0):p))return!1}}return!0}var o=n(516),i=n(503);t.exports=r},function(t,e,n){function r(t,e,n,s,l,u){return t===e||(null==t||null==e||!i(t)&&!a(e)?t!==t&&e!==e:o(t,e,r,n,s,l,u))}var o=n(517),i=n(489),a=n(490);t.exports=r},function(t,e,n){function r(t,e,n,r,p,m,y){var v=s(t),g=s(e),b=c,_=c;v||(b=d.call(t),b==u?b=f:b!=f&&(v=l(t))),g||(_=d.call(e),_==u?_=f:_!=f&&(g=l(e)));var x=b==f,w=_==f,T=b==_;if(T&&!v&&!x)return i(t,e,b);if(!p){var E=x&&h.call(t,"__wrapped__"),C=w&&h.call(e,"__wrapped__");if(E||C)return n(E?t.value():t,C?e.value():e,r,p,m,y)}if(!T)return!1;m||(m=[]),y||(y=[]);for(var k=m.length;k--;)if(m[k]==t)return y[k]==e;m.push(t),y.push(e);var S=(v?o:a)(t,e,n,r,p,m,y);return m.pop(),y.pop(),S}var o=n(518),i=n(520),a=n(521),s=n(497),l=n(522),u="[object Arguments]",c="[object Array]",f="[object Object]",p=Object.prototype,h=p.hasOwnProperty,d=p.toString;t.exports=r},function(t,e,n){function r(t,e,n,r,i,a,s){var l=-1,u=t.length,c=e.length;if(u!=c&&!(i&&c>u))return!1;for(;++l<u;){var f=t[l],p=e[l],h=r?r(i?p:f,i?f:p,l):void 0;if(void 0!==h){if(h)continue;return!1}if(i){if(!o(e,function(t){return f===t||n(f,t,r,i,a,s)}))return!1}else if(f!==p&&!n(f,p,r,i,a,s))return!1}return!0}var o=n(519);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e){function n(t,e,n){switch(n){case r:case o:return+t==+e;case i:return t.name==e.name&&t.message==e.message;case a:return t!=+t?e!=+e:t==+e;case s:case l:return t==e+""}return!1}var r="[object Boolean]",o="[object Date]",i="[object Error]",a="[object Number]",s="[object RegExp]",l="[object String]";t.exports=n},function(t,e,n){function r(t,e,n,r,i,s,l){var u=o(t),c=u.length,f=o(e),p=f.length;if(c!=p&&!i)return!1;for(var h=c;h--;){var d=u[h];if(!(i?d in e:a.call(e,d)))return!1}for(var m=i;++h<c;){d=u[h];var y=t[d],v=e[d],g=r?r(i?v:y,i?y:v,d):void 0;if(!(void 0===g?n(y,v,r,i,s,l):g))return!1;m||(m="constructor"==d)}if(!m){var b=t.constructor,_=e.constructor;if(b!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _))return!1}return!0}var o=n(485),i=Object.prototype,a=i.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){return i(t)&&o(t.length)&&!!M[O.call(t)]}var o=n(494),i=n(490),a="[object Arguments]",s="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Function]",p="[object Map]",h="[object Number]",d="[object Object]",m="[object RegExp]",y="[object Set]",v="[object String]",g="[object WeakMap]",b="[object ArrayBuffer]",_="[object Float32Array]",x="[object Float64Array]",w="[object Int8Array]",T="[object Int16Array]",E="[object Int32Array]",C="[object Uint8Array]",k="[object Uint8ClampedArray]",S="[object Uint16Array]",P="[object Uint32Array]",M={};M[_]=M[x]=M[w]=M[T]=M[E]=M[C]=M[k]=M[S]=M[P]=!0,M[a]=M[s]=M[b]=M[l]=M[u]=M[c]=M[f]=M[p]=M[h]=M[d]=M[m]=M[y]=M[v]=M[g]=!1;var A=Object.prototype,O=A.toString;t.exports=r},function(t,e,n){function r(t){for(var e=i(t),n=e.length;n--;)e[n][2]=o(e[n][1]);return e}var o=n(524),i=n(525);t.exports=r},function(t,e,n){function r(t){return t===t&&!o(t)}var o=n(489);t.exports=r},function(t,e,n){function r(t){t=i(t);for(var e=-1,n=o(t),r=n.length,a=Array(r);++e<r;){var s=n[e];a[e]=[s,t[s]]}return a}var o=n(485),i=n(503);t.exports=r},function(t,e,n){function r(t,e){var n=s(t),r=l(t)&&u(e),h=t+"";return t=p(t),function(s){if(null==s)return!1;var l=h;if(s=f(s),(n||!r)&&!(l in s)){if(s=1==t.length?s:o(s,a(t,0,-1)),null==s)return!1;l=c(t),s=f(s)}return s[l]===e?void 0!==e||l in s:i(e,s[l],void 0,!0)}}var o=n(527),i=n(516),a=n(528),s=n(497),l=n(529),u=n(524),c=n(530),f=n(503),p=n(531);t.exports=r},function(t,e,n){function r(t,e,n){if(null!=t){void 0!==n&&n in o(t)&&(e=[n]);for(var r=0,i=e.length;null!=t&&r<i;)t=t[e[r++]];return r&&r==i?t:void 0}}var o=n(503);t.exports=r},function(t,e){function n(t,e,n){var r=-1,o=t.length;e=null==e?0:+e||0,e<0&&(e=-e>o?0:o+e),n=void 0===n||n>o?o:+n||0,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}t.exports=n},function(t,e,n){function r(t,e){var n=typeof t;if("string"==n&&s.test(t)||"number"==n)return!0;if(o(t))return!1;var r=!a.test(t);return r||null!=e&&t in i(e)}var o=n(497),i=n(503),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=r},function(t,e){function n(t){var e=t?t.length:0;return e?t[e-1]:void 0}t.exports=n},function(t,e,n){function r(t){if(i(t))return t;var e=[];return o(t).replace(a,function(t,n,r,o){e.push(r?o.replace(s,"$1"):n||t)}),e}var o=n(532),i=n(497),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,s=/\\(\\)?/g;t.exports=r},function(t,e){function n(t){return null==t?"":t+""}t.exports=n},function(t,e,n){function r(t){return a(t)?o(t):i(t)}var o=n(493),i=n(534),a=n(529);t.exports=r},function(t,e,n){function r(t){var e=t+"";return t=i(t),function(n){return o(n,t,e)}}var o=n(527),i=n(531);t.exports=r},function(t,e,n){var r=n(500),o=n(536),i=o(r);t.exports=i},function(t,e,n){function r(t){return function(e,n,r){return"function"==typeof n&&void 0===r||(n=o(n,r,3)),t(e,n)}}var o=n(508);t.exports=r},function(t,e,n){var r=n(538),o=n(540),i=n(541),a=n(491),s=n(544),l=s(function(t){for(var e=t.length,n=e,s=Array(d),l=r,u=!0,c=[];n--;){var f=t[n]=a(f=t[n])?f:[];s[n]=u&&f.length>=120?i(n&&f):null}var p=t[0],h=-1,d=p?p.length:0,m=s[0];t:for(;++h<d;)if(f=p[h],(m?o(m,f):l(c,f,0))<0){for(var n=e;--n;){var y=s[n];if((y?o(y,f):l(t[n],f,0))<0)continue t}m&&m.push(f),c.push(f)}return c});t.exports=l},function(t,e,n){function r(t,e,n){if(e!==e)return o(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var o=n(539);t.exports=r},function(t,e){function n(t,e,n){for(var r=t.length,o=e+(n?0:-1);n?o--:++o<r;){var i=t[o];if(i!==i)return o}return-1}t.exports=n},function(t,e,n){function r(t,e){var n=t.data,r="string"==typeof e||o(e)?n.set.has(e):n.hash[e];return r?0:-1}var o=n(489);t.exports=r},function(t,e,n){(function(e){function r(t){return s&&a?new o(t):null}var o=n(542),i=n(486),a=i(e,"Set"),s=i(Object,"create");t.exports=r}).call(e,function(){return this}())},function(t,e,n){(function(e){function r(t){var e=t?t.length:0;for(this.data={hash:s(null),set:new a};e--;)this.push(t[e])}var o=n(543),i=n(486),a=i(e,"Set"),s=i(Object,"create");r.prototype.push=o,t.exports=r}).call(e,function(){return this}())},function(t,e,n){function r(t){var e=this.data;"string"==typeof t||o(t)?e.set.add(t):e.hash[t]=!0}var o=n(489);t.exports=r},function(t,e){function n(t,e){if("function"!=typeof t)throw new TypeError(r);return e=o(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,i=o(n.length-e,0),a=Array(i);++r<i;)a[r]=n[e+r];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}var s=Array(e+1);for(r=-1;++r<e;)s[r]=n[r];return s[e]=a,t.apply(this,s)}}var r="Expected a function",o=Math.max;t.exports=n},function(t,e,n){function r(t,e,n){var r=s(t)?o:a;return e=i(e,n,3),r(t,e)}var o=n(546),i=n(513),a=n(547),s=n(497);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}t.exports=n},function(t,e,n){function r(t,e){var n=-1,r=i(t)?Array(t.length):[];return o(t,function(t,o,i){r[++n]=e(t,o,i)}),r}var o=n(548),i=n(491);t.exports=r},function(t,e,n){var r=n(500),o=n(549),i=o(r);t.exports=i},function(t,e,n){function r(t,e){return function(n,r){var s=n?o(n):0;if(!i(s))return t(n,r);for(var l=e?s:-1,u=a(n);(e?l--:++l<s)&&r(u[l],l,u)!==!1;);return n}}var o=n(492),i=n(494),a=n(503);t.exports=r},function(t,e,n){var r=n(482),o=n(548),i=n(551),a=i(r,o);t.exports=a},function(t,e,n){function r(t,e){return function(n,r,a){return"function"==typeof r&&void 0===a&&i(n)?t(n,r):e(n,o(r,a,3))}}var o=n(508),i=n(497);t.exports=r},function(t,e,n){function r(t){var e=t?o(t):0;return i(e)?e:a(t).length}var o=n(492),i=n(494),a=n(485);t.exports=r},function(t,e,n){var r=n(500),o=n(554),i=o(r);t.exports=i},function(t,e,n){function r(t){return function(e,n,r){return n=o(n,r,3),i(e,n,t,!0)}}var o=n(513),i=n(555);t.exports=r},function(t,e){function n(t,e,n,r){var o;return n(t,function(t,n,i){if(e(t,n,i))return o=r?n:t,!1}),o}t.exports=n},function(t,e,n){function r(t,e,n,r){var l=t?t.length:0;return l?(null!=e&&"boolean"!=typeof e&&(r=n,n=a(t,e,r)?void 0:e,e=!1),n=null==n?n:o(n,r,3),e?s(t,n):i(t,n)):[]}var o=n(513),i=n(557),a=n(510),s=n(558);t.exports=r},function(t,e,n){function r(t,e){var n=-1,r=o,l=t.length,u=!0,c=u&&l>=s,f=c?a():null,p=[];f?(r=i,u=!1):(c=!1,f=e?[]:p);t:for(;++n<l;){var h=t[n],d=e?e(h,n,t):h;if(u&&h===h){for(var m=f.length;m--;)if(f[m]===d)continue t;e&&f.push(d),p.push(h)}else r(f,d,0)<0&&((e||c)&&f.push(d),p.push(h))}return p}var o=n(538),i=n(540),a=n(541),s=200;t.exports=r},function(t,e){function n(t,e){for(var n,r=-1,o=t.length,i=-1,a=[];++r<o;){var s=t[r],l=e?e(s,r,t):s;r&&n===l||(n=l,a[++i]=s)}return a}t.exports=n},function(t,e,n){var r=n(560),o=n(561),i=n(562),a=n(550),s=n(563),l=n(488),u=n(567),c=n(478),f=function(t,e,n){e=e||[];for(var r in t)t.hasOwnProperty(r)&&(l(t[r])?n(e.concat(r),t[r]):f(t[r],e.concat(r),n))},p=function(t,e){r.call(this),this.dispatcher=new c(t),this.actions={},this.stores={};var n=this.dispatcher,o=this;this.dispatchBinder={flux:o,dispatch:function(t,e){try{o.emit("dispatch",t,e)}finally{n.dispatch({type:t,payload:e})}}},this.addActions(e),this.addStores(t)};o(p,r),p.prototype.addActions=function(t){f(t,[],this.addAction.bind(this))},p.prototype.addAction=function(){if(arguments.length<2)throw new Error("addAction requires at least two arguments, a string (or array of strings) and a function");var t=Array.prototype.slice.call(arguments);if(!l(t[t.length-1]))throw new Error("The last argument to addAction must be a function");var e=t.pop().bind(this.dispatchBinder);u(t[0])||(t=t[0]);var n=s(t,function(t,e){if(t){var n=t[t.length-1].concat([e]);return t.concat([n])}return[[e]]},null);if(a(n,function(e){if(l(i.get(this.actions,e)))throw new Error("An action named "+t.join(".")+" already exists")},this),i.get(this.actions,t))throw new Error("A namespace named "+t.join(".")+" already exists");i.set(this.actions,t,e,!0)},p.prototype.store=function(t){return this.stores[t]},p.prototype.getAllStores=function(){return this.stores},p.prototype.addStore=function(t,e){if(t in this.stores)throw new Error("A store named '"+t+"' already exists");e.flux=this,this.stores[t]=e,this.dispatcher.addStore(t,e)},p.prototype.addStores=function(t){for(var e in t)t.hasOwnProperty(e)&&this.addStore(e,t[e])},p.prototype.setDispatchInterceptor=function(t){this.dispatcher.setDispatchInterceptor(t)},t.exports=p},function(t,e){"use strict";function n(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function r(){}r.prototype._events=void 0,r.prototype.listeners=function(t){if(!this._events||!this._events[t])return[];if(this._events[t].fn)return[this._events[t].fn];for(var e=0,n=this._events[t].length,r=new Array(n);e<n;e++)r[e]=this._events[t][e].fn;return r},r.prototype.emit=function(t,e,n,r,o,i){if(!this._events||!this._events[t])return!1;var a,s,l=this._events[t],u=arguments.length;if("function"==typeof l.fn){switch(l.once&&this.removeListener(t,l.fn,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,o),!0;case 6:return l.fn.call(l.context,e,n,r,o,i),!0}for(s=1,a=new Array(u-1);s<u;s++)a[s-1]=arguments[s];l.fn.apply(l.context,a)}else{var c,f=l.length;for(s=0;s<f;s++)switch(l[s].once&&this.removeListener(t,l[s].fn,!0),u){case 1:l[s].fn.call(l[s].context);break;case 2:l[s].fn.call(l[s].context,e);break;case 3:l[s].fn.call(l[s].context,e,n);break;default:if(!a)for(c=1,a=new Array(u-1);c<u;c++)a[c-1]=arguments[c];l[s].fn.apply(l[s].context,a)}}return!0},r.prototype.on=function(t,e,r){var o=new n(e,r||this);return this._events||(this._events={}),this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],o]:this._events[t].push(o):this._events[t]=o,this},r.prototype.once=function(t,e,r){var o=new n(e,r||this,(!0));return this._events||(this._events={}),this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],o]:this._events[t].push(o):this._events[t]=o,this},r.prototype.removeListener=function(t,e,n){if(!this._events||!this._events[t])return this;var r=this._events[t],o=[];if(e&&(r.fn&&(r.fn!==e||n&&!r.once)&&o.push(r),!r.fn))for(var i=0,a=r.length;i<a;i++)(r[i].fn!==e||n&&!r[i].once)&&o.push(r[i]);return o.length?this._events[t]=1===o.length?o[0]:o:delete this._events[t],this},r.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[t]:this._events={},this):this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.EventEmitter=r,r.EventEmitter2=r,r.EventEmitter3=r,t.exports=r},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var r,o,i;!function(n,a){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=a():(o=[],r=a,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(this,function(){"use strict";function t(t){if(!t)return!0;if(i(t)&&0===t.length)return!0;for(var e in t)if(f.call(t,e))return!1;return!0}function e(t){return c.call(t)}function n(t){return"number"==typeof t||"[object Number]"===e(t)}function r(t){return"string"==typeof t||"[object String]"===e(t)}function o(t){return"object"==typeof t&&"[object Object]"===e(t)}function i(t){return"object"==typeof t&&"number"==typeof t.length&&"[object Array]"===e(t)}function a(t){return"boolean"==typeof t||"[object Boolean]"===e(t)}function s(t){var e=parseInt(t);return e.toString()===t?e:t}function l(e,o,i,a){if(n(o)&&(o=[o]),t(o))return e;if(r(o))return l(e,o.split("."),i,a);var u=s(o[0]);if(1===o.length){var c=e[u];return void 0!==c&&a||(e[u]=i),c}return void 0===e[u]&&(n(u)?e[u]=[]:e[u]={}),l(e[u],o.slice(1),i,a)}function u(e,o){if(n(o)&&(o=[o]),!t(e)){if(t(o))return e;if(r(o))return u(e,o.split("."));var a=s(o[0]),l=e[a];if(1===o.length)void 0!==l&&(i(e)?e.splice(a,1):delete e[a]);else if(void 0!==e[a])return u(e[a],o.slice(1));return e}}var c=Object.prototype.toString,f=Object.prototype.hasOwnProperty,p={};return p.ensureExists=function(t,e,n){return l(t,e,n,!0)},p.set=function(t,e,n,r){return l(t,e,n,r)},p.insert=function(t,e,n,r){var o=p.get(t,e);r=~~r,i(o)||(o=[],p.set(t,e,o)),o.splice(r,0,n)},p.empty=function(e,s){if(t(s))return e;if(!t(e)){var l,u;if(!(l=p.get(e,s)))return e;if(r(l))return p.set(e,s,"");if(a(l))return p.set(e,s,!1);if(n(l))return p.set(e,s,0);if(i(l))l.length=0;else{if(!o(l))return p.set(e,s,null);for(u in l)f.call(l,u)&&delete l[u]}}},p.push=function(t,e){var n=p.get(t,e);i(n)||(n=[],p.set(t,e,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},p.coalesce=function(t,e,n){for(var r,o=0,i=e.length;o<i;o++)if(void 0!==(r=p.get(t,e[o])))return r;return n},p.get=function(e,o,i){if(n(o)&&(o=[o]),t(o))return e;if(t(e))return i;if(r(o))return p.get(e,o.split("."),i);var a=s(o[0]);return 1===o.length?void 0===e[a]?i:e[a]:p.get(e[a],o.slice(1),i)},p.del=function(t,e){return u(t,e)},p})},function(t,e,n){var r=n(564),o=n(548),i=n(565),a=i(r,o);t.exports=a},function(t,e){function n(t,e,n,r){var o=-1,i=t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}t.exports=n},function(t,e,n){function r(t,e){return function(n,r,s,l){var u=arguments.length<3;return"function"==typeof r&&void 0===l&&a(n)?t(n,r,s,u):i(n,o(r,l,4),s,u,e)}}var o=n(513),i=n(566),a=n(497);t.exports=r},function(t,e){function n(t,e,n,r,o){return o(t,function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)}),n}t.exports=n},function(t,e,n){function r(t){return"string"==typeof t||o(t)&&s.call(t)==i}var o=n(490),i="[object String]",a=Object.prototype,s=a.toString;t.exports=r},function(t,e){var n=function(t){return{componentWillMount:function(){if(!(this.props.flux||this.context&&this.context.flux)){var t=this.constructor.displayName?" of "+this.constructor.displayName:"";throw new Error("Could not find flux on this.props or this.context"+t)}},childContextTypes:{flux:t.PropTypes.object},contextTypes:{flux:t.PropTypes.object},getChildContext:function(){return{flux:this.getFlux()}},getFlux:function(){return this.props.flux||this.context&&this.context.flux}}};n.componentWillMount=function(){throw new Error("Fluxxor.FluxMixin is a function that takes React as a parameter and returns the mixin, e.g.: mixins: [Fluxxor.FluxMixin(React)]")},t.exports=n},function(t,e){var n=function(t){return{componentWillMount:function(){if(console&&console.warn){var t=this.constructor.displayName?" in "+this.constructor.displayName:"",e="Fluxxor.FluxChildMixin was found in use"+t+", but has been deprecated. Use Fluxxor.FluxMixin instead.";console.warn(e)}},contextTypes:{flux:t.PropTypes.object},getFlux:function(){return this.context.flux}}};n.componentWillMount=function(){throw new Error("Fluxxor.FluxChildMixin is a function that takes React as a parameter and returns the mixin, e.g.: mixins[Fluxxor.FluxChildMixin(React)]")},t.exports=n},function(t,e,n){var r=n(550),o=function(){var t=Array.prototype.slice.call(arguments);return{componentDidMount:function(){var e=this.props.flux||this.context.flux;this.mounted=!0,this._setStateFromFlux=function(){this.mounted&&this.setState(this.getStateFromFlux())}.bind(this),r(t,function(t){e.store(t).on("change",this._setStateFromFlux)},this)},componentWillUnmount:function(){var e=this.props.flux||this.context.flux;this.mounted=!1,r(t,function(t){e.store(t).removeListener("change",this._setStateFromFlux)},this)},getInitialState:function(){return this.getStateFromFlux()}}};o.componentWillMount=function(){throw new Error('Fluxxor.StoreWatchMixin is a function that takes one or more store names as parameters and returns the mixin, e.g.: mixins: [Fluxxor.StoreWatchMixin("Store1", "Store2")]')},t.exports=o},function(t,e,n){var r=n(550),o=n(488),i=n(572),a=n(561),s=["flux","waitFor"],l=function(t){r(s,function(e){if(t[e])throw new Error("Reserved key '"+e+"' found in store definition")});var e=function(e){e=e||{},i.call(this);for(var n in t)"actions"===n?this.bindActions(t[n]):"initialize"===n||(o(t[n])?this[n]=t[n].bind(this):this[n]=t[n]);t.initialize&&t.initialize.call(this,e)};return a(e,i),e};t.exports=l},function(t,e,n){function r(t){this.dispatcher=t,this.__actions__={},o.call(this)}var o=n(560),i=n(561),a=n(488),s=n(489);i(r,o),r.prototype.__handleAction__=function(t){var e;if(e=this.__actions__[t.type]){if(a(e))e.call(this,t.payload,t.type);else{if(!e||!a(this[e]))throw new Error("The handler for action type "+t.type+" is not a function");this[e].call(this,t.payload,t.type)}return!0}return!1},r.prototype.bindActions=function(){var t=Array.prototype.slice.call(arguments);if(t.length>1&&t.length%2!==0)throw new Error("bindActions must take an even number of arguments.");var e=function(t,e){if(!e)throw new Error("The handler for action type "+t+" is falsy");this.__actions__[t]=e}.bind(this);if(1===t.length&&s(t[0])){t=t[0];for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}else for(var r=0;r<t.length;r+=2){var o=t[r],i=t[r+1];if(!o)throw new Error("Argument "+(r+1)+" to bindActions is a falsy value");e(o,i)}},r.prototype.waitFor=function(t,e){this.dispatcher.waitForStores(this,t,e.bind(this))},t.exports=r},function(t,e){t.exports="1.7.3"},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return i(t)?t:M(t)}function n(t){return a(t)?t:A(t)}function r(t){return s(t)?t:O(t)}function o(t){return i(t)&&!l(t)?t:D(t)}function i(t){return!(!t||!t[un])}function a(t){return!(!t||!t[cn])}function s(t){return!(!t||!t[fn])}function l(t){return a(t)||s(t)}function u(t){
return!(!t||!t[pn])}function c(t){return t.value=!1,t}function f(t){t&&(t.value=!0)}function p(){}function h(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),o=0;o<n;o++)r[o]=t[o+e];return r}function d(t){return void 0===t.size&&(t.size=t.__iterate(y)),t.size}function m(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?d(t)+e:e}function y(){return!0}function v(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function g(t,e){return _(t,e,0)}function b(t,e){return _(t,e,e)}function _(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function x(t){this.next=t}function w(t,e,n,r){var o=0===t?e:1===t?n:[e,n];return r?r.value=o:r={value:o,done:!1},r}function T(){return{value:void 0,done:!0}}function E(t){return!!S(t)}function C(t){return t&&"function"==typeof t.next}function k(t){var e=S(t);return e&&e.call(t)}function S(t){var e=t&&(Tn&&t[Tn]||t[En]);if("function"==typeof e)return e}function P(t){return t&&"number"==typeof t.length}function M(t){return null===t||void 0===t?N():i(t)?t.toSeq():U(t)}function A(t){return null===t||void 0===t?N().toKeyedSeq():i(t)?a(t)?t.toSeq():t.fromEntrySeq():z(t)}function O(t){return null===t||void 0===t?N():i(t)?a(t)?t.entrySeq():t.toIndexedSeq():B(t)}function D(t){return(null===t||void 0===t?N():i(t)?a(t)?t.entrySeq():t:B(t)).toSetSeq()}function L(t){this._array=t,this.size=t.length}function I(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function j(t){this._iterable=t,this.size=t.length||t.size}function F(t){this._iterator=t,this._iteratorCache=[]}function R(t){return!(!t||!t[kn])}function N(){return Sn||(Sn=new L([]))}function z(t){var e=Array.isArray(t)?new L(t).fromEntrySeq():C(t)?new F(t).fromEntrySeq():E(t)?new j(t).fromEntrySeq():"object"==typeof t?new I(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function B(t){var e=W(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function U(t){var e=W(t)||"object"==typeof t&&new I(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function W(t){return P(t)?new L(t):C(t)?new F(t):E(t)?new j(t):void 0}function q(t,e,n,r){var o=t._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(e(s[1],r?s[0]:a,t)===!1)return a+1}return a}return t.__iterateUncached(e,n)}function V(t,e,n,r){var o=t._cache;if(o){var i=o.length-1,a=0;return new x(function(){var t=o[n?i-a:a];return a++>i?T():w(e,r?t[0]:a-1,t[1])})}return t.__iteratorUncached(e,n)}function H(t,e){return e?G(e,t,"",{"":t}):Y(t)}function G(t,e,n,r){return Array.isArray(e)?t.call(r,n,O(e).map(function(n,r){return G(t,n,r,e)})):Z(e)?t.call(r,n,A(e).map(function(n,r){return G(t,n,r,e)})):e}function Y(t){return Array.isArray(t)?O(t).map(Y).toList():Z(t)?A(t).map(Y).toMap():t}function Z(t){return t&&(t.constructor===Object||void 0===t.constructor)}function X(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function K(t,e){if(t===e)return!0;if(!i(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||a(t)!==a(e)||s(t)!==s(e)||u(t)!==u(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!l(t);if(u(t)){var r=t.entries();return e.every(function(t,e){var o=r.next().value;return o&&X(o[1],t)&&(n||X(o[0],e))})&&r.next().done}var o=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{o=!0;var c=t;t=e,e=c}var f=!0,p=e.__iterate(function(e,r){if(n?!t.has(e):o?!X(e,t.get(r,vn)):!X(t.get(r,vn),e))return f=!1,!1});return f&&t.size===p}function Q(t,e){if(!(this instanceof Q))return new Q(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(Pn)return Pn;Pn=this}}function J(t,e){if(!t)throw new Error(e)}function $(t,e,n){if(!(this instanceof $))return new $(t,e,n);if(J(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(Mn)return Mn;Mn=this}}function tt(){throw TypeError("Abstract")}function et(){}function nt(){}function rt(){}function ot(t){return t>>>1&1073741824|3221225471&t}function it(t){if(t===!1||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&(t=t.valueOf(),t===!1||null===t||void 0===t))return 0;if(t===!0)return 1;var e=typeof t;if("number"===e){if(t!==t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)t/=4294967295,n^=t;return ot(n)}if("string"===e)return t.length>Rn?at(t):st(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return lt(t);if("function"==typeof t.toString)return st(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function at(t){var e=Bn[t];return void 0===e&&(e=st(t),zn===Nn&&(zn=0,Bn={}),zn++,Bn[t]=e),e}function st(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return ot(e)}function lt(t){var e;if(In&&(e=An.get(t),void 0!==e))return e;if(e=t[Fn],void 0!==e)return e;if(!Ln){if(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Fn],void 0!==e)return e;if(e=ut(t),void 0!==e)return e}if(e=++jn,1073741824&jn&&(jn=0),In)An.set(t,e);else{if(void 0!==Dn&&Dn(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Ln)Object.defineProperty(t,Fn,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Fn]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Fn]=e}}return e}function ut(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function ct(t){J(t!==1/0,"Cannot perform this action with an infinite size.")}function ft(t){return null===t||void 0===t?wt():pt(t)&&!u(t)?t:wt().withMutations(function(e){var r=n(t);ct(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function pt(t){return!(!t||!t[Un])}function ht(t,e){this.ownerID=t,this.entries=e}function dt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function mt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function yt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function vt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function gt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&_t(t._root)}function bt(t,e){return w(t,e[0],e[1])}function _t(t,e){return{node:t,index:0,__prev:e}}function xt(t,e,n,r){var o=Object.create(Wn);return o.size=t,o._root=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function wt(){return qn||(qn=xt(0))}function Tt(t,e,n){var r,o;if(t._root){var i=c(gn),a=c(bn);if(r=Et(t._root,t.__ownerID,0,void 0,e,n,i,a),!a.value)return t;o=t.size+(i.value?n===vn?-1:1:0)}else{if(n===vn)return t;o=1,r=new ht(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=o,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?xt(o,r):wt()}function Et(t,e,n,r,o,i,a,s){return t?t.update(e,n,r,o,i,a,s):i===vn?t:(f(s),f(a),new vt(e,r,[o,i]))}function Ct(t){return t.constructor===vt||t.constructor===yt}function kt(t,e,n,r,o){if(t.keyHash===r)return new yt(e,r,[t.entry,o]);var i,a=(0===n?t.keyHash:t.keyHash>>>n)&yn,s=(0===n?r:r>>>n)&yn,l=a===s?[kt(t,e,n+dn,r,o)]:(i=new vt(e,r,o),a<s?[t,i]:[i,t]);return new dt(e,1<<a|1<<s,l)}function St(t,e,n,r){t||(t=new p);for(var o=new vt(t,it(n),[n,r]),i=0;i<e.length;i++){var a=e[i];o=o.update(t,0,void 0,a[0],a[1])}return o}function Pt(t,e,n,r){for(var o=0,i=0,a=new Array(n),s=0,l=1,u=e.length;s<u;s++,l<<=1){var c=e[s];void 0!==c&&s!==r&&(o|=l,a[i++]=c)}return new dt(t,o,a)}function Mt(t,e,n,r,o){for(var i=0,a=new Array(mn),s=0;0!==n;s++,n>>>=1)a[s]=1&n?e[i++]:void 0;return a[r]=o,new mt(t,i+1,a)}function At(t,e,r){for(var o=[],a=0;a<r.length;a++){var s=r[a],l=n(s);i(s)||(l=l.map(function(t){return H(t)})),o.push(l)}return Lt(t,e,o)}function Ot(t,e,n){return t&&t.mergeDeep&&i(e)?t.mergeDeep(e):X(t,e)?t:e}function Dt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&i(n))return e.mergeDeepWith(t,n);var o=t(e,n,r);return X(e,o)?e:o}}function Lt(t,e,n){return n=n.filter(function(t){return 0!==t.size}),0===n.length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,vn,function(t){return t===vn?n:e(t,n,r)})}:function(e,n){t.set(n,e)},o=0;o<n.length;o++)n[o].forEach(r)}):t.constructor(n[0])}function It(t,e,n,r){var o=t===vn,i=e.next();if(i.done){var a=o?n:t,s=r(a);return s===a?t:s}J(o||t&&t.set,"invalid keyPath");var l=i.value,u=o?vn:t.get(l,vn),c=It(u,e,n,r);return c===u?t:c===vn?t.remove(l):(o?wt():t).set(l,c)}function jt(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t}function Ft(t,e,n,r){var o=r?t:h(t);return o[e]=n,o}function Rt(t,e,n,r){var o=t.length+1;if(r&&e+1===o)return t[e]=n,t;for(var i=new Array(o),a=0,s=0;s<o;s++)s===e?(i[s]=n,a=-1):i[s]=t[s+a];return i}function Nt(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var o=new Array(r),i=0,a=0;a<r;a++)a===e&&(i=1),o[a]=t[a+i];return o}function zt(t){var e=Vt();if(null===t||void 0===t)return e;if(Bt(t))return t;var n=r(t),o=n.size;return 0===o?e:(ct(o),o>0&&o<mn?qt(0,o,dn,null,new Ut(n.toArray())):e.withMutations(function(t){t.setSize(o),n.forEach(function(e,n){return t.set(n,e)})}))}function Bt(t){return!(!t||!t[Yn])}function Ut(t,e){this.array=t,this.ownerID=e}function Wt(t,e){function n(t,e,n){return 0===e?r(t,n):o(t,e,n)}function r(t,n){var r=n===s?l&&l.array:t&&t.array,o=n>i?0:i-n,u=a-n;return u>mn&&(u=mn),function(){if(o===u)return Kn;var t=e?--u:o++;return r&&r[t]}}function o(t,r,o){var s,l=t&&t.array,u=o>i?0:i-o>>r,c=(a-o>>r)+1;return c>mn&&(c=mn),function(){for(;;){if(s){var t=s();if(t!==Kn)return t;s=null}if(u===c)return Kn;var i=e?--c:u++;s=n(l&&l[i],r-dn,o+(i<<r))}}}var i=t._origin,a=t._capacity,s=Qt(a),l=t._tail;return n(t._root,t._level,0)}function qt(t,e,n,r,o,i,a){var s=Object.create(Zn);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function Vt(){return Xn||(Xn=qt(0,0,dn))}function Ht(t,e,n){if(e=m(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?Xt(t,e).set(0,n):Xt(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,o=t._root,i=c(bn);return e>=Qt(t._capacity)?r=Gt(r,t.__ownerID,0,e,n,i):o=Gt(o,t.__ownerID,t._level,e,n,i),i.value?t.__ownerID?(t._root=o,t._tail=r,t.__hash=void 0,t.__altered=!0,t):qt(t._origin,t._capacity,t._level,o,r):t}function Gt(t,e,n,r,o,i){var a=r>>>n&yn,s=t&&a<t.array.length;if(!s&&void 0===o)return t;var l;if(n>0){var u=t&&t.array[a],c=Gt(u,e,n-dn,r,o,i);return c===u?t:(l=Yt(t,e),l.array[a]=c,l)}return s&&t.array[a]===o?t:(f(i),l=Yt(t,e),void 0===o&&a===l.array.length-1?l.array.pop():l.array[a]=o,l)}function Yt(t,e){return e&&t&&e===t.ownerID?t:new Ut(t?t.array.slice():[],e)}function Zt(t,e){if(e>=Qt(t._capacity))return t._tail;if(e<1<<t._level+dn){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&yn],r-=dn;return n}}function Xt(t,e,n){void 0!==e&&(e=0|e),void 0!==n&&(n=0|n);var r=t.__ownerID||new p,o=t._origin,i=t._capacity,a=o+e,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return t;if(a>=s)return t.clear();for(var l=t._level,u=t._root,c=0;a+c<0;)u=new Ut(u&&u.array.length?[void 0,u]:[],r),l+=dn,c+=1<<l;c&&(a+=c,o+=c,s+=c,i+=c);for(var f=Qt(i),h=Qt(s);h>=1<<l+dn;)u=new Ut(u&&u.array.length?[u]:[],r),l+=dn;var d=t._tail,m=h<f?Zt(t,s-1):h>f?new Ut([],r):d;if(d&&h>f&&a<i&&d.array.length){u=Yt(u,r);for(var y=u,v=l;v>dn;v-=dn){var g=f>>>v&yn;y=y.array[g]=Yt(y.array[g],r)}y.array[f>>>dn&yn]=d}if(s<i&&(m=m&&m.removeAfter(r,0,s)),a>=h)a-=h,s-=h,l=dn,u=null,m=m&&m.removeBefore(r,0,a);else if(a>o||h<f){for(c=0;u;){var b=a>>>l&yn;if(b!==h>>>l&yn)break;b&&(c+=(1<<l)*b),l-=dn,u=u.array[b]}u&&a>o&&(u=u.removeBefore(r,l,a-c)),u&&h<f&&(u=u.removeAfter(r,l,h-c)),c&&(a-=c,s-=c)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=l,t._root=u,t._tail=m,t.__hash=void 0,t.__altered=!0,t):qt(a,s,l,u,m)}function Kt(t,e,n){for(var o=[],a=0,s=0;s<n.length;s++){var l=n[s],u=r(l);u.size>a&&(a=u.size),i(l)||(u=u.map(function(t){return H(t)})),o.push(u)}return a>t.size&&(t=t.setSize(a)),Lt(t,e,o)}function Qt(t){return t<mn?0:t-1>>>dn<<dn}function Jt(t){return null===t||void 0===t?ee():$t(t)?t:ee().withMutations(function(e){var r=n(t);ct(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function $t(t){return pt(t)&&u(t)}function te(t,e,n,r){var o=Object.create(Jt.prototype);return o.size=t?t.size:0,o._map=t,o._list=e,o.__ownerID=n,o.__hash=r,o}function ee(){return Qn||(Qn=te(wt(),Vt()))}function ne(t,e,n){var r,o,i=t._map,a=t._list,s=i.get(e),l=void 0!==s;if(n===vn){if(!l)return t;a.size>=mn&&a.size>=2*i.size?(o=a.filter(function(t,e){return void 0!==t&&s!==e}),r=o.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=o.__ownerID=t.__ownerID)):(r=i.remove(e),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(l){if(n===a.get(s)[1])return t;r=i,o=a.set(s,[e,n])}else r=i.set(e,a.size),o=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=o,t.__hash=void 0,t):te(r,o)}function re(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function oe(t){this._iter=t,this.size=t.size}function ie(t){this._iter=t,this.size=t.size}function ae(t){this._iter=t,this.size=t.size}function se(t){var e=Pe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Me,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return e(n,t,r)!==!1},n)},e.__iteratorUncached=function(e,n){if(e===wn){var r=t.__iterator(e,n);return new x(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===xn?_n:xn,n)},e}function le(t,e,n){var r=Pe(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,o){var i=t.get(r,vn);return i===vn?o:e.call(n,i,r,t)},r.__iterateUncached=function(r,o){var i=this;return t.__iterate(function(t,o,a){return r(e.call(n,t,o,a),o,i)!==!1},o)},r.__iteratorUncached=function(r,o){var i=t.__iterator(wn,o);return new x(function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return w(r,s,e.call(n,a[1],s,t),o)})},r}function ue(t,e){var n=Pe(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=se(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Me,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function ce(t,e,n,r){var o=Pe(t);return r&&(o.has=function(r){var o=t.get(r,vn);return o!==vn&&!!e.call(n,o,r,t)},o.get=function(r,o){var i=t.get(r,vn);return i!==vn&&e.call(n,i,r,t)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return t.__iterate(function(t,i,l){if(e.call(n,t,i,l))return s++,o(t,r?i:s-1,a)},i),s},o.__iteratorUncached=function(o,i){var a=t.__iterator(wn,i),s=0;return new x(function(){for(;;){var i=a.next();if(i.done)return i;var l=i.value,u=l[0],c=l[1];if(e.call(n,c,u,t))return w(o,r?u:s++,c,i)}})},o}function fe(t,e,n){var r=ft().asMutable();return t.__iterate(function(o,i){r.update(e.call(n,o,i,t),0,function(t){return t+1})}),r.asImmutable()}function pe(t,e,n){var r=a(t),o=(u(t)?Jt():ft()).asMutable();t.__iterate(function(i,a){o.update(e.call(n,i,a,t),function(t){return t=t||[],t.push(r?[a,i]:i),t})});var i=Se(t);return o.map(function(e){return Ee(t,i(e))})}function he(t,e,n,r){var o=t.size;if(void 0!==e&&(e=0|e),void 0!==n&&(n=n===1/0?o:0|n),v(e,n,o))return t;var i=g(e,o),a=b(n,o);if(i!==i||a!==a)return he(t.toSeq().cacheResult(),e,n,r);var s,l=a-i;l===l&&(s=l<0?0:l);var u=Pe(t);return u.size=0===s?s:t.size&&s||void 0,!r&&R(t)&&s>=0&&(u.get=function(e,n){return e=m(this,e),e>=0&&e<s?t.get(e+i,n):n}),u.__iterateUncached=function(e,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,l=!0,u=0;return t.__iterate(function(t,n){if(!l||!(l=a++<i))return u++,e(t,r?n:u-1,o)!==!1&&u!==s}),u},u.__iteratorUncached=function(e,n){if(0!==s&&n)return this.cacheResult().__iterator(e,n);var o=0!==s&&t.__iterator(e,n),a=0,l=0;return new x(function(){for(;a++<i;)o.next();if(++l>s)return T();var t=o.next();return r||e===xn?t:e===_n?w(e,l-1,void 0,t):w(e,l-1,t.value[1],t)})},u}function de(t,e,n){var r=Pe(t);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return t.__iterate(function(t,o,s){return e.call(n,t,o,s)&&++a&&r(t,o,i)}),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=t.__iterator(wn,o),s=!0;return new x(function(){if(!s)return T();var t=a.next();if(t.done)return t;var o=t.value,l=o[0],u=o[1];return e.call(n,u,l,i)?r===wn?t:w(r,l,u,t):(s=!1,T())})},r}function me(t,e,n,r){var o=Pe(t);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,l=0;return t.__iterate(function(t,i,u){if(!s||!(s=e.call(n,t,i,u)))return l++,o(t,r?i:l-1,a)}),l},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=t.__iterator(wn,i),l=!0,u=0;return new x(function(){var t,i,c;do{if(t=s.next(),t.done)return r||o===xn?t:o===_n?w(o,u++,void 0,t):w(o,u++,t.value[1],t);var f=t.value;i=f[0],c=f[1],l&&(l=e.call(n,c,i,a))}while(l);return o===wn?t:w(o,i,c,t)})},o}function ye(t,e){var r=a(t),o=[t].concat(e).map(function(t){return i(t)?r&&(t=n(t)):t=r?z(t):B(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===o.length)return t;if(1===o.length){var l=o[0];if(l===t||r&&a(l)||s(t)&&s(l))return l}var u=new L(o);return r?u=u.toKeyedSeq():s(t)||(u=u.toSetSeq()),u=u.flatten(!0),u.size=o.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),u}function ve(t,e,n){var r=Pe(t);return r.__iterateUncached=function(r,o){function a(t,u){var c=this;t.__iterate(function(t,o){return(!e||u<e)&&i(t)?a(t,u+1):r(t,n?o:s++,c)===!1&&(l=!0),!l},o)}var s=0,l=!1;return a(t,0),s},r.__iteratorUncached=function(r,o){var a=t.__iterator(r,o),s=[],l=0;return new x(function(){for(;a;){var t=a.next();if(t.done===!1){var u=t.value;if(r===wn&&(u=u[1]),e&&!(s.length<e)||!i(u))return n?t:w(r,l++,u,t);s.push(a),a=u.__iterator(r,o)}else a=s.pop()}return T()})},r}function ge(t,e,n){var r=Se(t);return t.toSeq().map(function(o,i){return r(e.call(n,o,i,t))}).flatten(!0)}function be(t,e){var n=Pe(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return t.__iterate(function(t,r){return(!i||n(e,i++,o)!==!1)&&n(t,i++,o)!==!1},r),i},n.__iteratorUncached=function(n,r){var o,i=t.__iterator(xn,r),a=0;return new x(function(){return(!o||a%2)&&(o=i.next(),o.done)?o:a%2?w(n,a++,e):w(n,a++,o.value,o)})},n}function _e(t,e,n){e||(e=Ae);var r=a(t),o=0,i=t.toSeq().map(function(e,r){return[r,e,o++,n?n(e,r,t):e]}).toArray();return i.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){i[e].length=2}:function(t,e){i[e]=t[1]}),r?A(i):s(t)?O(i):D(i)}function xe(t,e,n){if(e||(e=Ae),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return we(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return we(e,t,n)?n:t})}function we(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function Te(t,n,r){var o=Pe(t);return o.size=new L(r).map(function(t){return t.size}).min(),o.__iterate=function(t,e){for(var n,r=this.__iterator(xn,e),o=0;!(n=r.next()).done&&t(n.value,o++,this)!==!1;);return o},o.__iteratorUncached=function(t,o){var i=r.map(function(t){return t=e(t),k(o?t.reverse():t)}),a=0,s=!1;return new x(function(){var e;return s||(e=i.map(function(t){return t.next()}),s=e.some(function(t){return t.done})),s?T():w(t,a++,n.apply(null,e.map(function(t){return t.value})))})},o}function Ee(t,e){return R(t)?e:t.constructor(e)}function Ce(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function ke(t){return ct(t.size),d(t)}function Se(t){return a(t)?n:s(t)?r:o}function Pe(t){return Object.create((a(t)?A:s(t)?O:D).prototype)}function Me(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):M.prototype.cacheResult.call(this)}function Ae(t,e){return t>e?1:t<e?-1:0}function Oe(t){var n=k(t);if(!n){if(!P(t))throw new TypeError("Expected iterable or array-like: "+t);n=k(e(t))}return n}function De(t,e){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(t);je(o,a),o.size=a.length,o._name=e,o._keys=a,o._defaultValues=t}this._map=ft(i)},o=r.prototype=Object.create(Jn);return o.constructor=r,r}function Le(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function Ie(t){return t._name||t.constructor.name||"Record"}function je(t,e){try{e.forEach(Fe.bind(void 0,t))}catch(n){}}function Fe(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){J(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Re(t){return null===t||void 0===t?Ue():Ne(t)&&!u(t)?t:Ue().withMutations(function(e){var n=o(t);ct(n.size),n.forEach(function(t){return e.add(t)})})}function Ne(t){return!(!t||!t[$n])}function ze(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Be(t,e){var n=Object.create(tr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Ue(){return er||(er=Be(wt()))}function We(t){return null===t||void 0===t?He():qe(t)?t:He().withMutations(function(e){var n=o(t);ct(n.size),n.forEach(function(t){return e.add(t)})})}function qe(t){return Ne(t)&&u(t)}function Ve(t,e){var n=Object.create(nr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function He(){return rr||(rr=Ve(ee()))}function Ge(t){return null===t||void 0===t?Xe():Ye(t)?t:Xe().unshiftAll(t)}function Ye(t){return!(!t||!t[or])}function Ze(t,e,n,r){var o=Object.create(ir);return o.size=t,o._head=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Xe(){return ar||(ar=Ze(0))}function Ke(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Qe(t,e){return e}function Je(t,e){return[e,t]}function $e(t){return function(){return!t.apply(this,arguments)}}function tn(t){return function(){return-t.apply(this,arguments)}}function en(t){return"string"==typeof t?JSON.stringify(t):String(t)}function nn(){return h(arguments)}function rn(t,e){return t<e?1:t>e?-1:0}function on(t){if(t.size===1/0)return 0;var e=u(t),n=a(t),r=e?1:0,o=t.__iterate(n?e?function(t,e){r=31*r+sn(it(t),it(e))|0}:function(t,e){r=r+sn(it(t),it(e))|0}:e?function(t){r=31*r+it(t)|0}:function(t){r=r+it(t)|0});return an(o,r)}function an(t,e){return e=On(e,3432918353),e=On(e<<15|e>>>-15,461845907),e=On(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=On(e^e>>>16,2246822507),e=On(e^e>>>13,3266489909),e=ot(e^e>>>16)}function sn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var ln=Array.prototype.slice;t(n,e),t(r,e),t(o,e),e.isIterable=i,e.isKeyed=a,e.isIndexed=s,e.isAssociative=l,e.isOrdered=u,e.Keyed=n,e.Indexed=r,e.Set=o;var un="@@__IMMUTABLE_ITERABLE__@@",cn="@@__IMMUTABLE_KEYED__@@",fn="@@__IMMUTABLE_INDEXED__@@",pn="@@__IMMUTABLE_ORDERED__@@",hn="delete",dn=5,mn=1<<dn,yn=mn-1,vn={},gn={value:!1},bn={value:!1},_n=0,xn=1,wn=2,Tn="function"==typeof Symbol&&Symbol.iterator,En="@@iterator",Cn=Tn||En;x.prototype.toString=function(){return"[Iterator]"},x.KEYS=_n,x.VALUES=xn,x.ENTRIES=wn,x.prototype.inspect=x.prototype.toSource=function(){return this.toString()},x.prototype[Cn]=function(){return this},t(M,e),M.of=function(){return M(arguments)},M.prototype.toSeq=function(){return this},M.prototype.toString=function(){return this.__toString("Seq {","}")},M.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},M.prototype.__iterate=function(t,e){return q(this,t,e,!0)},M.prototype.__iterator=function(t,e){return V(this,t,e,!0)},t(A,M),A.prototype.toKeyedSeq=function(){return this},t(O,M),O.of=function(){return O(arguments)},O.prototype.toIndexedSeq=function(){return this},O.prototype.toString=function(){return this.__toString("Seq [","]")},O.prototype.__iterate=function(t,e){return q(this,t,e,!1)},O.prototype.__iterator=function(t,e){return V(this,t,e,!1)},t(D,M),D.of=function(){return D(arguments)},D.prototype.toSetSeq=function(){return this},M.isSeq=R,M.Keyed=A,M.Set=D,M.Indexed=O;var kn="@@__IMMUTABLE_SEQ__@@";M.prototype[kn]=!0,t(L,O),L.prototype.get=function(t,e){return this.has(t)?this._array[m(this,t)]:e},L.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(t(n[e?r-o:o],o,this)===!1)return o+1;return o},L.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,o=0;return new x(function(){return o>r?T():w(t,o,n[e?r-o++:o++])})},t(I,A),I.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},I.prototype.has=function(t){return this._object.hasOwnProperty(t)},I.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[e?o-i:i];if(t(n[a],a,this)===!1)return i+1}return i},I.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,o=r.length-1,i=0;return new x(function(){var a=r[e?o-i:i];return i++>o?T():w(t,a,n[a])})},I.prototype[pn]=!0,t(j,O),j.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,r=k(n),o=0;if(C(r))for(var i;!(i=r.next()).done&&t(i.value,o++,this)!==!1;);return o},j.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=k(n);if(!C(r))return new x(T);var o=0;return new x(function(){var e=r.next();return e.done?e:w(t,o++,e.value)})},t(F,O),F.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n=this._iterator,r=this._iteratorCache,o=0;o<r.length;)if(t(r[o],o++,this)===!1)return o;for(var i;!(i=n.next()).done;){var a=i.value;if(r[o]=a,t(a,o++,this)===!1)break}return o},F.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,o=0;return new x(function(){if(o>=r.length){var e=n.next();if(e.done)return e;r[o]=e.value}return w(t,o,r[o++])})};var Sn;t(Q,O),Q.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Q.prototype.get=function(t,e){return this.has(t)?this._value:e},Q.prototype.includes=function(t){return X(this._value,t)},Q.prototype.slice=function(t,e){var n=this.size;return v(t,e,n)?this:new Q(this._value,b(e,n)-g(t,n))},Q.prototype.reverse=function(){return this},Q.prototype.indexOf=function(t){return X(this._value,t)?0:-1},Q.prototype.lastIndexOf=function(t){return X(this._value,t)?this.size:-1},Q.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(t(this._value,n,this)===!1)return n+1;return n},Q.prototype.__iterator=function(t,e){var n=this,r=0;return new x(function(){return r<n.size?w(t,r++,n._value):T()})},Q.prototype.equals=function(t){return t instanceof Q?X(this._value,t._value):K(t)};var Pn;t($,O),$.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},$.prototype.get=function(t,e){return this.has(t)?this._start+m(this,t)*this._step:e},$.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},$.prototype.slice=function(t,e){return v(t,e,this.size)?this:(t=g(t,this.size),e=b(e,this.size),e<=t?new $(0,0):new $(this.get(t,this._end),this.get(e,this._end),this._step))},$.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},$.prototype.lastIndexOf=function(t){return this.indexOf(t)},$.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;i<=n;i++){if(t(o,i,this)===!1)return i+1;o+=e?-r:r}return i},$.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;return new x(function(){var a=o;return o+=e?-r:r,i>n?T():w(t,i++,a)})},$.prototype.equals=function(t){return t instanceof $?this._start===t._start&&this._end===t._end&&this._step===t._step:K(this,t)};var Mn;t(tt,e),t(et,tt),t(nt,tt),t(rt,tt),tt.Keyed=et,tt.Indexed=nt,tt.Set=rt;var An,On="function"==typeof Math.imul&&Math.imul(4294967295,2)===-2?Math.imul:function(t,e){t=0|t,e=0|e;var n=65535&t,r=65535&e;return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0},Dn=Object.isExtensible,Ln=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),In="function"==typeof WeakMap;In&&(An=new WeakMap);var jn=0,Fn="__immutablehash__";"function"==typeof Symbol&&(Fn=Symbol(Fn));var Rn=16,Nn=255,zn=0,Bn={};t(ft,et),ft.of=function(){var t=ln.call(arguments,0);return wt().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},ft.prototype.toString=function(){return this.__toString("Map {","}")},ft.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},ft.prototype.set=function(t,e){return Tt(this,t,e)},ft.prototype.setIn=function(t,e){return this.updateIn(t,vn,function(){return e})},ft.prototype.remove=function(t){return Tt(this,t,vn)},ft.prototype.deleteIn=function(t){return this.updateIn(t,function(){return vn})},ft.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},ft.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=It(this,Oe(t),e,n);return r===vn?void 0:r},ft.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):wt()},ft.prototype.merge=function(){return At(this,void 0,arguments)},ft.prototype.mergeWith=function(t){var e=ln.call(arguments,1);return At(this,t,e)},ft.prototype.mergeIn=function(t){var e=ln.call(arguments,1);return this.updateIn(t,wt(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},ft.prototype.mergeDeep=function(){return At(this,Ot,arguments)},ft.prototype.mergeDeepWith=function(t){var e=ln.call(arguments,1);return At(this,Dt(t),e)},ft.prototype.mergeDeepIn=function(t){var e=ln.call(arguments,1);return this.updateIn(t,wt(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},ft.prototype.sort=function(t){return Jt(_e(this,t))},ft.prototype.sortBy=function(t,e){return Jt(_e(this,e,t))},ft.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},ft.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new p)},ft.prototype.asImmutable=function(){return this.__ensureOwner()},ft.prototype.wasAltered=function(){return this.__altered},ft.prototype.__iterator=function(t,e){return new gt(this,t,e)},ft.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){
return r++,t(e[1],e[0],n)},e),r},ft.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?xt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},ft.isMap=pt;var Un="@@__IMMUTABLE_MAP__@@",Wn=ft.prototype;Wn[Un]=!0,Wn[hn]=Wn.remove,Wn.removeIn=Wn.deleteIn,ht.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(X(n,o[i][0]))return o[i][1];return r},ht.prototype.update=function(t,e,n,r,o,i,a){for(var s=o===vn,l=this.entries,u=0,c=l.length;u<c&&!X(r,l[u][0]);u++);var p=u<c;if(p?l[u][1]===o:s)return this;if(f(a),(s||!p)&&f(i),!s||1!==l.length){if(!p&&!s&&l.length>=Vn)return St(t,l,r,o);var d=t&&t===this.ownerID,m=d?l:h(l);return p?s?u===c-1?m.pop():m[u]=m.pop():m[u]=[r,o]:m.push([r,o]),d?(this.entries=m,this):new ht(t,m)}},dt.prototype.get=function(t,e,n,r){void 0===e&&(e=it(n));var o=1<<((0===t?e:e>>>t)&yn),i=this.bitmap;return 0===(i&o)?r:this.nodes[jt(i&o-1)].get(t+dn,e,n,r)},dt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=it(r));var s=(0===e?n:n>>>e)&yn,l=1<<s,u=this.bitmap,c=0!==(u&l);if(!c&&o===vn)return this;var f=jt(u&l-1),p=this.nodes,h=c?p[f]:void 0,d=Et(h,t,e+dn,n,r,o,i,a);if(d===h)return this;if(!c&&d&&p.length>=Hn)return Mt(t,p,u,s,d);if(c&&!d&&2===p.length&&Ct(p[1^f]))return p[1^f];if(c&&d&&1===p.length&&Ct(d))return d;var m=t&&t===this.ownerID,y=c?d?u:u^l:u|l,v=c?d?Ft(p,f,d,m):Nt(p,f,m):Rt(p,f,d,m);return m?(this.bitmap=y,this.nodes=v,this):new dt(t,y,v)},mt.prototype.get=function(t,e,n,r){void 0===e&&(e=it(n));var o=(0===t?e:e>>>t)&yn,i=this.nodes[o];return i?i.get(t+dn,e,n,r):r},mt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=it(r));var s=(0===e?n:n>>>e)&yn,l=o===vn,u=this.nodes,c=u[s];if(l&&!c)return this;var f=Et(c,t,e+dn,n,r,o,i,a);if(f===c)return this;var p=this.count;if(c){if(!f&&(p--,p<Gn))return Pt(t,u,p,s)}else p++;var h=t&&t===this.ownerID,d=Ft(u,s,f,h);return h?(this.count=p,this.nodes=d,this):new mt(t,p,d)},yt.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(X(n,o[i][0]))return o[i][1];return r},yt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=it(r));var s=o===vn;if(n!==this.keyHash)return s?this:(f(a),f(i),kt(this,t,e,n,[r,o]));for(var l=this.entries,u=0,c=l.length;u<c&&!X(r,l[u][0]);u++);var p=u<c;if(p?l[u][1]===o:s)return this;if(f(a),(s||!p)&&f(i),s&&2===c)return new vt(t,this.keyHash,l[1^u]);var d=t&&t===this.ownerID,m=d?l:h(l);return p?s?u===c-1?m.pop():m[u]=m.pop():m[u]=[r,o]:m.push([r,o]),d?(this.entries=m,this):new yt(t,this.keyHash,m)},vt.prototype.get=function(t,e,n,r){return X(n,this.entry[0])?this.entry[1]:r},vt.prototype.update=function(t,e,n,r,o,i,a){var s=o===vn,l=X(r,this.entry[0]);return(l?o===this.entry[1]:s)?this:(f(a),s?void f(i):l?t&&t===this.ownerID?(this.entry[1]=o,this):new vt(t,this.keyHash,[r,o]):(f(i),kt(this,t,e,it(r),[r,o])))},ht.prototype.iterate=yt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(t(n[e?o-r:r])===!1)return!1},dt.prototype.iterate=mt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[e?o-r:r];if(i&&i.iterate(t,e)===!1)return!1}},vt.prototype.iterate=function(t,e){return t(this.entry)},t(gt,x),gt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,o=e.index++;if(r.entry){if(0===o)return bt(t,r.entry)}else if(r.entries){if(n=r.entries.length-1,o<=n)return bt(t,r.entries[this._reverse?n-o:o])}else if(n=r.nodes.length-1,o<=n){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return bt(t,i.entry);e=this._stack=_t(i,e)}continue}e=this._stack=this._stack.__prev}return T()};var qn,Vn=mn/4,Hn=mn/2,Gn=mn/4;t(zt,nt),zt.of=function(){return this(arguments)},zt.prototype.toString=function(){return this.__toString("List [","]")},zt.prototype.get=function(t,e){if(t=m(this,t),t>=0&&t<this.size){t+=this._origin;var n=Zt(this,t);return n&&n.array[t&yn]}return e},zt.prototype.set=function(t,e){return Ht(this,t,e)},zt.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},zt.prototype.insert=function(t,e){return this.splice(t,0,e)},zt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=dn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Vt()},zt.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){Xt(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},zt.prototype.pop=function(){return Xt(this,0,-1)},zt.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Xt(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},zt.prototype.shift=function(){return Xt(this,1)},zt.prototype.merge=function(){return Kt(this,void 0,arguments)},zt.prototype.mergeWith=function(t){var e=ln.call(arguments,1);return Kt(this,t,e)},zt.prototype.mergeDeep=function(){return Kt(this,Ot,arguments)},zt.prototype.mergeDeepWith=function(t){var e=ln.call(arguments,1);return Kt(this,Dt(t),e)},zt.prototype.setSize=function(t){return Xt(this,0,t)},zt.prototype.slice=function(t,e){var n=this.size;return v(t,e,n)?this:Xt(this,g(t,n),b(e,n))},zt.prototype.__iterator=function(t,e){var n=0,r=Wt(this,e);return new x(function(){var e=r();return e===Kn?T():w(t,n++,e)})},zt.prototype.__iterate=function(t,e){for(var n,r=0,o=Wt(this,e);(n=o())!==Kn&&t(n,r++,this)!==!1;);return r},zt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?qt(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},zt.isList=Bt;var Yn="@@__IMMUTABLE_LIST__@@",Zn=zt.prototype;Zn[Yn]=!0,Zn[hn]=Zn.remove,Zn.setIn=Wn.setIn,Zn.deleteIn=Zn.removeIn=Wn.removeIn,Zn.update=Wn.update,Zn.updateIn=Wn.updateIn,Zn.mergeIn=Wn.mergeIn,Zn.mergeDeepIn=Wn.mergeDeepIn,Zn.withMutations=Wn.withMutations,Zn.asMutable=Wn.asMutable,Zn.asImmutable=Wn.asImmutable,Zn.wasAltered=Wn.wasAltered,Ut.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&yn;if(r>=this.array.length)return new Ut([],t);var o,i=0===r;if(e>0){var a=this.array[r];if(o=a&&a.removeBefore(t,e-dn,n),o===a&&i)return this}if(i&&!o)return this;var s=Yt(this,t);if(!i)for(var l=0;l<r;l++)s.array[l]=void 0;return o&&(s.array[r]=o),s},Ut.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r=n-1>>>e&yn;if(r>=this.array.length)return this;var o;if(e>0){var i=this.array[r];if(o=i&&i.removeAfter(t,e-dn,n),o===i&&r===this.array.length-1)return this}var a=Yt(this,t);return a.array.splice(r+1),o&&(a.array[r]=o),a};var Xn,Kn={};t(Jt,ft),Jt.of=function(){return this(arguments)},Jt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Jt.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Jt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},Jt.prototype.set=function(t,e){return ne(this,t,e)},Jt.prototype.remove=function(t){return ne(this,t,vn)},Jt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Jt.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Jt.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Jt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?te(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Jt.isOrderedMap=$t,Jt.prototype[pn]=!0,Jt.prototype[hn]=Jt.prototype.remove;var Qn;t(re,A),re.prototype.get=function(t,e){return this._iter.get(t,e)},re.prototype.has=function(t){return this._iter.has(t)},re.prototype.valueSeq=function(){return this._iter.valueSeq()},re.prototype.reverse=function(){var t=this,e=ue(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},re.prototype.map=function(t,e){var n=this,r=le(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},re.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?ke(this):0,function(o){return t(o,e?--n:n++,r)}),e)},re.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(xn,e),r=e?ke(this):0;return new x(function(){var o=n.next();return o.done?o:w(t,e?--r:r++,o.value,o)})},re.prototype[pn]=!0,t(oe,O),oe.prototype.includes=function(t){return this._iter.includes(t)},oe.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},oe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(xn,e),r=0;return new x(function(){var e=n.next();return e.done?e:w(t,r++,e.value,e)})},t(ie,D),ie.prototype.has=function(t){return this._iter.includes(t)},ie.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(xn,e);return new x(function(){var e=n.next();return e.done?e:w(t,e.value,e.value,e)})},t(ae,A),ae.prototype.entrySeq=function(){return this._iter.toSeq()},ae.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){Ce(e);var r=i(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},ae.prototype.__iterator=function(t,e){var n=this._iter.__iterator(xn,e);return new x(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Ce(r);var o=i(r);return w(t,o?r.get(0):r[0],o?r.get(1):r[1],e)}}})},oe.prototype.cacheResult=re.prototype.cacheResult=ie.prototype.cacheResult=ae.prototype.cacheResult=Me,t(De,et),De.prototype.toString=function(){return this.__toString(Ie(this)+" {","}")},De.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},De.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},De.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Le(this,wt()))},De.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+Ie(this));if(this._map&&!this._map.has(t)){var n=this._defaultValues[t];if(e===n)return this}var r=this._map&&this._map.set(t,e);return this.__ownerID||r===this._map?this:Le(this,r)},De.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Le(this,e)},De.prototype.wasAltered=function(){return this._map.wasAltered()},De.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},De.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},De.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Le(this,e,t):(this.__ownerID=t,this._map=e,this)};var Jn=De.prototype;Jn[hn]=Jn.remove,Jn.deleteIn=Jn.removeIn=Wn.removeIn,Jn.merge=Wn.merge,Jn.mergeWith=Wn.mergeWith,Jn.mergeIn=Wn.mergeIn,Jn.mergeDeep=Wn.mergeDeep,Jn.mergeDeepWith=Wn.mergeDeepWith,Jn.mergeDeepIn=Wn.mergeDeepIn,Jn.setIn=Wn.setIn,Jn.update=Wn.update,Jn.updateIn=Wn.updateIn,Jn.withMutations=Wn.withMutations,Jn.asMutable=Wn.asMutable,Jn.asImmutable=Wn.asImmutable,t(Re,rt),Re.of=function(){return this(arguments)},Re.fromKeys=function(t){return this(n(t).keySeq())},Re.prototype.toString=function(){return this.__toString("Set {","}")},Re.prototype.has=function(t){return this._map.has(t)},Re.prototype.add=function(t){return ze(this,this._map.set(t,!0))},Re.prototype.remove=function(t){return ze(this,this._map.remove(t))},Re.prototype.clear=function(){return ze(this,this._map.clear())},Re.prototype.union=function(){var t=ln.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Re.prototype.intersect=function(){var t=ln.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return o(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.every(function(t){return t.includes(e)})||n.remove(e)})})},Re.prototype.subtract=function(){var t=ln.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return o(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&n.remove(e)})})},Re.prototype.merge=function(){return this.union.apply(this,arguments)},Re.prototype.mergeWith=function(t){var e=ln.call(arguments,1);return this.union.apply(this,e)},Re.prototype.sort=function(t){return We(_e(this,t))},Re.prototype.sortBy=function(t,e){return We(_e(this,e,t))},Re.prototype.wasAltered=function(){return this._map.wasAltered()},Re.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},Re.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},Re.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Re.isSet=Ne;var $n="@@__IMMUTABLE_SET__@@",tr=Re.prototype;tr[$n]=!0,tr[hn]=tr.remove,tr.mergeDeep=tr.merge,tr.mergeDeepWith=tr.mergeWith,tr.withMutations=Wn.withMutations,tr.asMutable=Wn.asMutable,tr.asImmutable=Wn.asImmutable,tr.__empty=Ue,tr.__make=Be;var er;t(We,Re),We.of=function(){return this(arguments)},We.fromKeys=function(t){return this(n(t).keySeq())},We.prototype.toString=function(){return this.__toString("OrderedSet {","}")},We.isOrderedSet=qe;var nr=We.prototype;nr[pn]=!0,nr.__empty=He,nr.__make=Ve;var rr;t(Ge,nt),Ge.of=function(){return this(arguments)},Ge.prototype.toString=function(){return this.__toString("Stack [","]")},Ge.prototype.get=function(t,e){var n=this._head;for(t=m(this,t);n&&t--;)n=n.next;return n?n.value:e},Ge.prototype.peek=function(){return this._head&&this._head.value},Ge.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Ze(t,e)},Ge.prototype.pushAll=function(t){if(t=r(t),0===t.size)return this;ct(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Ze(e,n)},Ge.prototype.pop=function(){return this.slice(1)},Ge.prototype.unshift=function(){return this.push.apply(this,arguments)},Ge.prototype.unshiftAll=function(t){return this.pushAll(t)},Ge.prototype.shift=function(){return this.pop.apply(this,arguments)},Ge.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Xe()},Ge.prototype.slice=function(t,e){if(v(t,e,this.size))return this;var n=g(t,this.size),r=b(e,this.size);if(r!==this.size)return nt.prototype.slice.call(this,t,e);for(var o=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):Ze(o,i)},Ge.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ze(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Ge.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&t(r.value,n++,this)!==!1;)r=r.next;return n},Ge.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new x(function(){if(r){var e=r.value;return r=r.next,w(t,n++,e)}return T()})},Ge.isStack=Ye;var or="@@__IMMUTABLE_STACK__@@",ir=Ge.prototype;ir[or]=!0,ir.withMutations=Wn.withMutations,ir.asMutable=Wn.asMutable,ir.asImmutable=Wn.asImmutable,ir.wasAltered=Wn.wasAltered;var ar;e.Iterator=x,Ke(e,{toArray:function(){ct(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new oe(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new re(this,(!0))},toMap:function(){return ft(this.toKeyedSeq())},toObject:function(){ct(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Jt(this.toKeyedSeq())},toOrderedSet:function(){return We(a(this)?this.valueSeq():this)},toSet:function(){return Re(a(this)?this.valueSeq():this)},toSetSeq:function(){return new ie(this)},toSeq:function(){return s(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ge(a(this)?this.valueSeq():this)},toList:function(){return zt(a(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var t=ln.call(arguments,0);return Ee(this,ye(this,t))},includes:function(t){return this.some(function(e){return X(e,t)})},entries:function(){return this.__iterator(wn)},every:function(t,e){ct(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!t.call(e,r,o,i))return n=!1,!1}),n},filter:function(t,e){return Ee(this,ce(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return ct(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){ct(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""}),e},keys:function(){return this.__iterator(_n)},map:function(t,e){return Ee(this,le(this,t,e))},reduce:function(t,e,n){ct(this.size);var r,o;return arguments.length<2?o=!0:r=e,this.__iterate(function(e,i,a){o?(o=!1,r=e):r=t.call(n,r,e,i,a)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Ee(this,ue(this,!0))},slice:function(t,e){return Ee(this,he(this,t,e,!0))},some:function(t,e){return!this.every($e(t),e)},sort:function(t){return Ee(this,_e(this,t))},values:function(){return this.__iterator(xn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return d(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return fe(this,t,e)},equals:function(t){return K(this,t)},entrySeq:function(){var t=this;if(t._cache)return new L(t._cache);var e=t.toSeq().map(Je).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter($e(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate(function(n,o,i){if(t.call(e,n,o,i))return r=[o,n],!1}),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(y)},flatMap:function(t,e){return Ee(this,ge(this,t,e))},flatten:function(t){return Ee(this,ve(this,t,!0))},fromEntrySeq:function(){return new ae(this)},get:function(t,e){return this.find(function(e,n){return X(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,o=Oe(t);!(n=o.next()).done;){var i=n.value;if(r=r&&r.get?r.get(i,vn):vn,r===vn)return e}return r},groupBy:function(t,e){return pe(this,t,e)},has:function(t){return this.get(t,vn)!==vn},hasIn:function(t){return this.getIn(t,vn)!==vn},isSubset:function(t){return t="function"==typeof t.includes?t:e(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t="function"==typeof t.isSubset?t:e(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(e){return X(e,t)})},keySeq:function(){return this.toSeq().map(Qe).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return xe(this,t)},maxBy:function(t,e){return xe(this,e,t)},min:function(t){return xe(this,t?tn(t):rn)},minBy:function(t,e){return xe(this,e?tn(e):rn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Ee(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Ee(this,me(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile($e(t),e)},sortBy:function(t,e){return Ee(this,_e(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Ee(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Ee(this,de(this,t,e))},takeUntil:function(t,e){return this.takeWhile($e(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var sr=e.prototype;sr[un]=!0,sr[Cn]=sr.values,sr.__toJS=sr.toArray,sr.__toStringMapper=en,sr.inspect=sr.toSource=function(){return this.toString()},sr.chain=sr.flatMap,sr.contains=sr.includes,Ke(n,{flip:function(){return Ee(this,se(this))},mapEntries:function(t,e){var n=this,r=0;return Ee(this,this.toSeq().map(function(o,i){return t.call(e,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Ee(this,this.toSeq().flip().map(function(r,o){return t.call(e,r,o,n)}).flip())}});var lr=n.prototype;lr[cn]=!0,lr[Cn]=sr.entries,lr.__toJS=sr.toObject,lr.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+en(t)},Ke(r,{toKeyedSeq:function(){return new re(this,(!1))},filter:function(t,e){return Ee(this,ce(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Ee(this,ue(this,!1))},slice:function(t,e){return Ee(this,he(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=g(t,t<0?this.count():this.size);var r=this.slice(0,t);return Ee(this,1===n?r:r.concat(h(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Ee(this,ve(this,t,!1))},get:function(t,e){return t=m(this,t),t<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return t=m(this,t),t>=0&&(void 0!==this.size?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return Ee(this,be(this,t))},interleave:function(){var t=[this].concat(h(arguments)),e=Te(this.toSeq(),O.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Ee(this,n)},keySeq:function(){return $(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Ee(this,me(this,t,e,!1))},zip:function(){var t=[this].concat(h(arguments));return Ee(this,Te(this,nn,t))},zipWith:function(t){var e=h(arguments);return e[0]=this,Ee(this,Te(this,t,e))}}),r.prototype[fn]=!0,r.prototype[pn]=!0,Ke(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=sr.includes,o.prototype.contains=o.prototype.includes,Ke(A,n.prototype),Ke(O,r.prototype),Ke(D,o.prototype),Ke(et,n.prototype),Ke(nt,r.prototype),Ke(rt,o.prototype);var ur={Iterable:e,Seq:M,Collection:tt,Map:ft,OrderedMap:Jt,List:zt,Stack:Ge,Set:Re,OrderedSet:We,Record:De,Range:$,Repeat:Q,is:X,fromJS:H};return ur})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(576),s=r(a),l=n(582),u=r(l),c=n(583),f=r(c),p=n(584),h=r(p),d=n(590),m=r(d),y=n(652),v=r(y),g=n(771),b=r(g),_=n(772),x=r(_),w=n(773),T=r(w),E=n(783),C=r(E),k=n(796),S=r(k),P=n(822),M=r(P),A=n(898),O=r(A),D=n(859),L=n(899),I=r(L);n(901),n(909),n(911);var j=n(913),F=r(j),R=n(915),N=function(t){return R("./"+t)},z=(0,M["default"])({palette:{primary1Color:D.blue500,primary2Color:D.blue700,accent1Color:D.pinkA200}}),B=i["default"].createClass({displayName:"Panoptes",mixins:[u["default"],f["default"],h["default"],(0,m["default"])("SessionStore","PanoptesStore")],componentDidMount:function(){var t=this,e=this.getFlux().store("SessionStore");e.on("notify",function(){return t.refs.notificationSystem.addNotification(Object.assign(e.getLastNotification(),{position:"tc"}))})},getStateFromFlux:function(){return{session:this.getFlux().store("SessionStore").getState(),panoptes:this.getFlux().store("PanoptesStore").getState()}},handleResize:function(){this.getFlux().actions.session.appResize()},render:function(){var t=this,e=this.getFlux().actions.session,n=this.state.session.toObject(),r=n.tabs,o=n.popups,a=n.modal,l=n.components;a=a.toObject();var u=this.state.panoptes.getIn(["user","id"]),c=this.config;return i["default"].createElement(I["default"],{onResize:this.handleResize},i["default"].createElement(O["default"],{muiTheme:z},i["default"].createElement("div",null,i["default"].createElement("div",{className:"loading-container"},i["default"].createElement("div",{className:"spinner"})),i["default"].createElement("div",{className:"page"},i["default"].createElement(U,{name:c.settings.name,userID:u,logo:c.logo}),i["default"].createElement("div",{className:"body"},i["default"].createElement(v["default"],{activeTab:r.get("selectedTab"),unclosableTab:r.get("unclosableTab"),onSwitch:e.tabSwitch,onClose:e.tabClose,onAddTab:e.tabOpen,onDragAway:e.tabPopOut},r.get("components").map(function(t){var n=l.get(t);return i["default"].createElement(b["default"],{compId:t,key:t},(0,F["default"])(n,[t],{setProps:e.componentSetProps,replaceSelf:e.componentReplace}))}).toArray()))),i["default"].createElement(x["default"],null,o.get("components").map(function(n){var r=l.get(n),a=o.getIn(["state",n]),s=void 0,u=void 0;return a&&(s=a.get("position"),u=a.get("size")),i["default"].createElement(T["default"],{initialPosition:s,initialSize:u,compId:n,key:n,onMoveStop:e.popupMove.bind(t,n),onResizeStop:e.popupResize.bind(t,n),onClose:e.popupClose.bind(t,n),onMaximise:e.popupToTab.bind(t,n),onClick:e.popupFocus.bind(t,n)},(0,F["default"])(r,[n],{setProps:e.componentSetProps,replaceSelf:e.componentReplace}))}).toArray()),i["default"].createElement(C["default"],{visible:!!a.component,onClose:e.modalClose},a.component?i["default"].createElement(N(a.component),a.props.toObject()):null),i["default"].createElement(s["default"],{ref:"notificationSystem"}))))}}),U=i["default"].createClass({displayName:"Header",mixins:[h["default"],u["default"]],propTypes:{name:i["default"].PropTypes.string,userID:i["default"].PropTypes.string,logo:i["default"].PropTypes.string},render:function(){var t=this.props,e=t.name,n=t.userID,r=t.logo,o=this.getFlux().actions;return i["default"].createElement("div",{className:"header"},i["default"].createElement("div",{className:"title"},e),i["default"].createElement("div",{className:"username"},n),i["default"].createElement("img",{className:"logo",src:r}),i["default"].createElement(S["default"],{tooltip:"Help",iconClassName:"fa fa-question-circle"}),i["default"].createElement(S["default"],{tooltip:"Find",iconClassName:"fa fa-search",onClick:function(){return o.session.modalOpen("containers/Finder",{})}}),i["default"].createElement(S["default"],{tooltip:"Link",iconClassName:"fa fa-link"}))}});t.exports=B},function(t,e,n){var r=n(316),o=n(318),i=n(577),a=n(579),s=n(581),l=r.createClass({displayName:"NotificationSystem",uid:3400,_isMounted:!1,_getStyles:{overrideStyle:{},overrideWidth:null,setOverrideStyle:function(t){this.overrideStyle=t},wrapper:function(){return this.overrideStyle?o({},s.Wrapper,this.overrideStyle.Wrapper):{}},container:function(t){var e=this.overrideStyle.Containers||{};return this.overrideStyle?(this.overrideWidth=s.Containers.DefaultStyle.width,e.DefaultStyle&&e.DefaultStyle.width&&(this.overrideWidth=e.DefaultStyle.width),e[t]&&e[t].width&&(this.overrideWidth=e[t].width),o({},s.Containers.DefaultStyle,s.Containers[t],e.DefaultStyle,e[t])):{}},elements:{notification:"NotificationItem",title:"Title",messageWrapper:"MessageWrapper",dismiss:"Dismiss",action:"Action",actionWrapper:"ActionWrapper"},byElement:function(t){var e=this;return function(n){var r=e.elements[t],i=e.overrideStyle[r]||{};return e.overrideStyle?o({},s[r].DefaultStyle,s[r][n],i.DefaultStyle,i[n]):{}}}},_didNotificationRemoved:function(t){var e,n=this.state.notifications.filter(function(n){return n.uid===t&&(e=n),n.uid!==t});e&&e.onRemove&&e.onRemove(e),this._isMounted&&this.setState({notifications:n})},getInitialState:function(){return{notifications:[]}},propTypes:{style:r.PropTypes.oneOfType([r.PropTypes.bool,r.PropTypes.object]),noAnimation:r.PropTypes.bool,allowHTML:r.PropTypes.bool},getDefaultProps:function(){return{style:{},noAnimation:!1,allowHTML:!1}},addNotification:function(t){var e,n=o({},a.notification,t),r=this.state.notifications;if(!n.level)throw new Error("notification level is required.");if(Object.keys(a.levels).indexOf(n.level)===-1)throw new Error("'"+n.level+"' is not a valid level.");if(isNaN(n.autoDismiss))throw new Error("'autoDismiss' must be a number.");if(Object.keys(a.positions).indexOf(n.position)===-1)throw new Error("'"+n.position+"' is not a valid position.");for(n.position=n.position.toLowerCase(),n.level=n.level.toLowerCase(),n.autoDismiss=parseInt(n.autoDismiss,10),n.uid=n.uid||this.uid,n.ref="notification-"+n.uid,this.uid+=1,e=0;e<r.length;e++)if(r[e].uid===n.uid)return!1;return r.push(n),"function"==typeof n.onAdd&&t.onAdd(n),this.setState({notifications:r}),n},removeNotification:function(t){var e=this;Object.keys(this.refs).forEach(function(n){n.indexOf("container")>-1&&Object.keys(e.refs[n].refs).forEach(function(r){var o=t.uid?t.uid:t;r==="notification-"+o&&e.refs[n].refs[r]._hideNotification()})})},componentDidMount:function(){this._getStyles.setOverrideStyle(this.props.style),this._isMounted=!0},componentWillUnmount:function(){this._isMounted=!1},render:function(){var t=this,e=null,n=this.state.notifications;return n.length&&(e=Object.keys(a.positions).map(function(e){var o=n.filter(function(t){return e===t.position});if(o.length)return r.createElement(i,{ref:"container-"+e,key:e,position:e,notifications:o,getStyles:t._getStyles,onRemove:t._didNotificationRemoved,noAnimation:t.props.noAnimation,allowHTML:t.props.allowHTML})})),r.createElement("div",{className:"notifications-wrapper",style:this._getStyles.wrapper()},e)}});t.exports=l},function(t,e,n){var r=n(316),o=n(578),i=n(579),a=r.createClass({displayName:"NotificationContainer",propTypes:{position:r.PropTypes.string.isRequired,notifications:r.PropTypes.array.isRequired,getStyles:r.PropTypes.object},_style:{},componentWillMount:function(){this._style=this.props.getStyles.container(this.props.position),!this.props.getStyles.overrideWidth||this.props.position!==i.positions.tc&&this.props.position!==i.positions.bc||(this._style.marginLeft=-(this.props.getStyles.overrideWidth/2))},render:function(){var t,e=this;return[i.positions.bl,i.positions.br,i.positions.bc].indexOf(this.props.position)>-1&&this.props.notifications.reverse(),t=this.props.notifications.map(function(t){return r.createElement(o,{ref:"notification-"+t.uid,key:t.uid,notification:t,getStyles:e.props.getStyles,onRemove:e.props.onRemove,noAnimation:e.props.noAnimation,allowHTML:e.props.allowHTML,
children:e.props.children})}),r.createElement("div",{className:"notifications-"+this.props.position,style:this._style},t)}});t.exports=a},function(t,e,n){var r=n(316),o=n(345),i=n(579),a=n(580),s=n(318),l=function(){var t,e=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t]},u=r.createClass({displayName:"NotificationItem",propTypes:{notification:r.PropTypes.object,getStyles:r.PropTypes.object,onRemove:r.PropTypes.func,allowHTML:r.PropTypes.bool,noAnimation:r.PropTypes.bool,children:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.element])},getDefaultProps:function(){return{noAnimation:!1,onRemove:function(){},allowHTML:!1}},getInitialState:function(){return{visible:!1,removed:!1}},componentWillMount:function(){var t=this.props.getStyles,e=this.props.notification.level;this._noAnimation=this.props.noAnimation,this._styles={notification:t.byElement("notification")(e),title:t.byElement("title")(e),dismiss:t.byElement("dismiss")(e),messageWrapper:t.byElement("messageWrapper")(e),actionWrapper:t.byElement("actionWrapper")(e),action:t.byElement("action")(e)},this.props.notification.dismissible||(this._styles.notification.cursor="default")},_styles:{},_notificationTimer:null,_height:0,_noAnimation:null,_isMounted:!1,_removeCount:0,_getCssPropertyByPosition:function(){var t=this.props.notification.position,e={};switch(t){case i.positions.tl:case i.positions.bl:e={property:"left",value:-200};break;case i.positions.tr:case i.positions.br:e={property:"right",value:-200};break;case i.positions.tc:e={property:"top",value:-100};break;case i.positions.bc:e={property:"bottom",value:-100}}return e},_defaultAction:function(t){var e=this.props.notification;t.preventDefault(),this._hideNotification(),"function"==typeof e.action.callback&&e.action.callback()},_hideNotification:function(){this._notificationTimer&&this._notificationTimer.clear(),this._isMounted&&this.setState({visible:!1,removed:!0}),this._noAnimation&&this._removeNotification()},_removeNotification:function(){this.props.onRemove(this.props.notification.uid)},_dismiss:function(){this.props.notification.dismissible&&this._hideNotification()},_showNotification:function(){var t=this;setTimeout(function(){t._isMounted&&t.setState({visible:!0})},50)},_onTransitionEnd:function(){this._removeCount>0||this.state.removed&&(this._removeCount++,this._removeNotification())},componentDidMount:function(){var t=this,e=l(),n=this.props.notification,r=o.findDOMNode(this);this._height=r.offsetHeight,this._isMounted=!0,this._noAnimation||(e?r.addEventListener(e,this._onTransitionEnd):this._noAnimation=!0),n.autoDismiss&&(this._notificationTimer=new a.Timer(function(){t._hideNotification()},1e3*n.autoDismiss)),this._showNotification()},_handleMouseEnter:function(){var t=this.props.notification;t.autoDismiss&&this._notificationTimer.pause()},_handleMouseLeave:function(){var t=this.props.notification;t.autoDismiss&&this._notificationTimer.resume()},componentWillUnmount:function(){var t=o.findDOMNode(this),e=l();t.removeEventListener(e,this._onTransitionEnd),this._isMounted=!1},_allowHTML:function(t){return{__html:t}},render:function(){var t=this.props.notification,e="notification notification-"+t.level,n=s({},this._styles.notification),o=this._getCssPropertyByPosition(),i=null,a=null,l=null,u=null;return e+=this.state.visible?" notification-visible":" notification-hidden",t.dismissible||(e+=" notification-not-dismissible"),this.props.getStyles.overrideStyle&&(this.state.visible||this.state.removed||(n[o.property]=o.value),this.state.visible&&!this.state.removed&&(n.height=this._height,n[o.property]=0),this.state.removed&&(n.overlay="hidden",n.height=0,n.marginTop=0,n.paddingTop=0,n.paddingBottom=0),n.opacity=this.state.visible?this._styles.notification.isVisible.opacity:this._styles.notification.isHidden.opacity),t.title&&(l=r.createElement("h4",{className:"notification-title",style:this._styles.title},t.title)),t.message&&(u=this.props.allowHTML?r.createElement("div",{className:"notification-message",style:this._styles.messageWrapper,dangerouslySetInnerHTML:this._allowHTML(t.message)}):r.createElement("div",{className:"notification-message",style:this._styles.messageWrapper},t.message)),t.dismissible&&(i=r.createElement("span",{className:"notification-dismiss",style:this._styles.dismiss},"")),t.action&&(a=r.createElement("div",{className:"notification-action-wrapper",style:this._styles.actionWrapper},r.createElement("button",{className:"notification-action-button",onClick:this._defaultAction,style:this._styles.action},t.action.label))),t.children&&(a=t.children),r.createElement("div",{className:e,onClick:this._dismiss,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave,style:n},l,u,i,a)}});t.exports=u},function(t,e){var n={positions:{tl:"tl",tr:"tr",tc:"tc",bl:"bl",br:"br",bc:"bc"},levels:{success:"success",error:"error",warning:"warning",info:"info"},notification:{title:null,message:null,level:null,position:"tr",autoDismiss:5,dismissible:!0,action:null}};t.exports=n},function(t,e){var n={Timer:function(t,e){var n,r,o=e;this.pause=function(){clearTimeout(n),o-=new Date-r},this.resume=function(){r=new Date,clearTimeout(n),n=setTimeout(t,o)},this.clear=function(){clearTimeout(n)},this.resume()}};t.exports=n},function(t,e){var n=320,r={success:{rgb:"94, 164, 0",hex:"#5ea400"},error:{rgb:"236, 61, 61",hex:"#ec3d3d"},warning:{rgb:"235, 173, 23",hex:"#ebad1a"},info:{rgb:"54, 156, 199",hex:"#369cc7"}},o="0.9",i={Wrapper:{},Containers:{DefaultStyle:{fontFamily:"inherit",position:"fixed",width:n,padding:"0 10px 10px 10px",zIndex:9998,WebkitBoxSizing:"border-box",MozBoxSizing:"border-box",boxSizing:"border-box",height:"auto"},tl:{top:"0px",bottom:"auto",left:"0px",right:"auto"},tr:{top:"0px",bottom:"auto",left:"auto",right:"0px"},tc:{top:"0px",bottom:"auto",margin:"0 auto",left:"50%",marginLeft:-(n/2)},bl:{top:"auto",bottom:"0px",left:"0px",right:"auto"},br:{top:"auto",bottom:"0px",left:"auto",right:"0px"},bc:{top:"auto",bottom:"0px",margin:"0 auto",left:"50%",marginLeft:-(n/2)}},NotificationItem:{DefaultStyle:{position:"relative",width:"100%",cursor:"pointer",borderRadius:"2px",fontSize:"13px",margin:"10px 0 0",padding:"10px",display:"block",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box",boxSizing:"border-box",opacity:0,transition:"0.3s ease-in-out",WebkitTransform:"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)",willChange:"transform, opacity",isHidden:{opacity:0},isVisible:{opacity:1}},success:{borderTop:"2px solid "+r.success.hex,backgroundColor:"#f0f5ea",color:"#4b583a",WebkitBoxShadow:"0 0 1px rgba("+r.success.rgb+","+o+")",MozBoxShadow:"0 0 1px rgba("+r.success.rgb+","+o+")",boxShadow:"0 0 1px rgba("+r.success.rgb+","+o+")"},error:{borderTop:"2px solid "+r.error.hex,backgroundColor:"#f4e9e9",color:"#412f2f",WebkitBoxShadow:"0 0 1px rgba("+r.error.rgb+","+o+")",MozBoxShadow:"0 0 1px rgba("+r.error.rgb+","+o+")",boxShadow:"0 0 1px rgba("+r.error.rgb+","+o+")"},warning:{borderTop:"2px solid "+r.warning.hex,backgroundColor:"#f9f6f0",color:"#5a5343",WebkitBoxShadow:"0 0 1px rgba("+r.warning.rgb+","+o+")",MozBoxShadow:"0 0 1px rgba("+r.warning.rgb+","+o+")",boxShadow:"0 0 1px rgba("+r.warning.rgb+","+o+")"},info:{borderTop:"2px solid "+r.info.hex,backgroundColor:"#e8f0f4",color:"#41555d",WebkitBoxShadow:"0 0 1px rgba("+r.info.rgb+","+o+")",MozBoxShadow:"0 0 1px rgba("+r.info.rgb+","+o+")",boxShadow:"0 0 1px rgba("+r.info.rgb+","+o+")"}},Title:{DefaultStyle:{fontSize:"14px",margin:"0 0 5px 0",padding:0,fontWeight:"bold"},success:{color:r.success.hex},error:{color:r.error.hex},warning:{color:r.warning.hex},info:{color:r.info.hex}},MessageWrapper:{DefaultStyle:{margin:0,padding:0}},Dismiss:{DefaultStyle:{fontFamily:"Arial",fontSize:"17px",position:"absolute",top:"4px",right:"5px",lineHeight:"15px",backgroundColor:"#dededf",color:"#ffffff",borderRadius:"50%",width:"14px",height:"14px",fontWeight:"bold",textAlign:"center"},success:{color:"#f0f5ea",backgroundColor:"#b0ca92"},error:{color:"#f4e9e9",backgroundColor:"#e4bebe"},warning:{color:"#f9f6f0",backgroundColor:"#e1cfac"},info:{color:"#e8f0f4",backgroundColor:"#a4becb"}},Action:{DefaultStyle:{background:"#ffffff",borderRadius:"2px",padding:"6px 20px",fontWeight:"bold",margin:"10px 0 0 0",border:0},success:{backgroundColor:r.success.hex,color:"#ffffff"},error:{backgroundColor:r.error.hex,color:"#ffffff"},warning:{backgroundColor:r.warning.hex,color:"#ffffff"},info:{backgroundColor:r.info.hex,color:"#ffffff"}},ActionWrapper:{DefaultStyle:{margin:0,padding:0}}};t.exports=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(477),i=r(o),a=n(316),s=r(a),l=i["default"].FluxMixin(s["default"]);l.componentWillMount=function(){this.flux=this.getFlux()},t.exports=l},function(t,e){"use strict";var n={componentWillMount:function(){var t=this;if(!(this.props.flux||this.context&&this.context.flux)){var e=this.constructor.displayName?" of "+this.constructor.displayName:"";throw new Error("Could not find flux on this.props or this.context"+e)}var n=this.props.flux||this.context&&this.context.flux;n.store("ConfigStore").on("change",this._setConfigFromFlux),this.tableConfig=function(){return t.config.tablesById[t.props.table]},this._setConfigFromFlux()},componentWillUnmount:function(){var t=this.props.flux||this.context&&this.context.flux;t.store("ConfigStore").removeListener("change",this._setStateFromFlux)},_setConfigFromFlux:function(){var t=this.props.flux||this.context&&this.context.flux;this.config=t.store("ConfigStore").getState(),this.forceUpdate()}};t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(585),i=r(o);t.exports=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.shallowEqualImmutable=e.shouldComponentUpdate=e.immutableRenderDecorator=e["default"]=void 0;var o=n(586),i=r(o),a=n(587),s=r(a),l=n(588),u=r(l),c=n(589),f=r(c);e["default"]=u["default"],e.immutableRenderDecorator=f["default"],e.shouldComponentUpdate=i["default"],e.shallowEqualImmutable=s["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){return!(0,a["default"])(this.props,t)||!(0,a["default"])(this.state,e)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var i=n(587),a=r(i)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(t===e||l(t,e))return!0;if("object"!==("undefined"==typeof t?"undefined":i(t))||null===t||"object"!==("undefined"==typeof e?"undefined":i(e))||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(e),a=0;a<n.length;a++)if(!o(n[a])||!l(t[n[a]],e[n[a]]))return!1;return!0}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e["default"]=o;var a=n(574),s=r(a),l=s["default"].is.bind(s["default"])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(586),i=r(o);e["default"]={shouldComponentUpdate:i["default"]}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){var e=function(e){function n(){return o(this,n),i(this,Object.getPrototypeOf(n).apply(this,arguments))}return a(n,e),l(n,[{key:"render",value:function(){return c["default"].createElement(t,this.props,this.props.children)}}]),n}(u.Component);return e.prototype.shouldComponentUpdate=p["default"],e}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e["default"]=s;var u=n(316),c=r(u),f=n(586),p=r(f)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(591),i=r(o),a=function(){var t=Array.prototype.slice.call(arguments);return{componentDidMount:function(){if(!(this.props.flux||this.context&&this.context.flux)){var e=this.constructor.displayName?" of "+this.constructor.displayName:"";throw new Error("Could not find flux on this.props or this.context"+e)}var n=this.props.flux||this.context&&this.context.flux;t.forEach((0,i["default"])(function(t){n.store(t).on("change",this._setStateFromFlux)},this))},componentWillUnmount:function(){var e=this.props.flux||this.context&&this.context.flux;t.forEach((0,i["default"])(function(t){e.store(t).removeListener("change",this._setStateFromFlux)},this))},_setStateFromFlux:function(){this.setState(this.getStateFromFlux())},getInitialState:function(){return this.getStateFromFlux()}}};a.componentWillMount=function(){throw new Error('StoreWatchMixin is a function that takes one or more store names as parameters and returns the mixin, e.g.: mixins: [StoreWatchMixin("Store1", "Store2")]')},t.exports=a},function(t,e,n){var r=n(592),o=n(608),i=n(644),a=n(647),s=1,l=32,u=r(function(t,e,n){var r=s;if(n.length){var c=a(n,i(u));r|=l}return o(t,r,e,n,c)});u.placeholder={},t.exports=u},function(t,e,n){function r(t,e){return a(i(t,e,o),t+"")}var o=n(593),i=n(594),a=n(596);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,s=i(r.length-e,0),l=Array(s);++a<s;)l[a]=r[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=r[a];return u[e]=n(l),o(t,this,u)}}var o=n(595),i=Math.max;t.exports=r},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e,n){var r=n(597),o=n(607),i=o(r);t.exports=i},function(t,e,n){var r=n(598),o=n(593),i=n(599),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e,n){var r=n(600),o=r(Object,"defineProperty");t.exports=o},function(t,e,n){function r(t,e){var n=i(t,e);return o(n)?n:void 0}var o=n(601),i=n(606);t.exports=r},function(t,e,n){function r(t){if(!a(t)||i(t))return!1;var e=o(t)?d:u;return e.test(s(t))}var o=n(602),i=n(603),a=n(300),s=n(605),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,p=c.toString,h=f.hasOwnProperty,d=RegExp("^"+p.call(h).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){var e=o(t)?l.call(t):"";return e==i||e==a}var o=n(300),i="[object Function]",a="[object GeneratorFunction]",s=Object.prototype,l=s.toString;t.exports=r},function(t,e,n){function r(t){return!!i&&i in t}var o=n(604),i=function(){var t=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e,n){var r=n(302),o=r["__core-js_shared__"];t.exports=o},function(t,e){function n(t){if(null!=t){try{return o.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var r=Function.prototype,o=r.toString;t.exports=n},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e){function n(t){var e=0,n=0;return function(){var a=i(),s=o-(a-n);if(n=a,s>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var r=500,o=16,i=Date.now;t.exports=n},function(t,e,n){function r(t,e,n,r,w,T,E,C){var k=e&y;if(!k&&"function"!=typeof t)throw new TypeError(d);var S=r?r.length:0;if(S||(e&=~(b|_),r=w=void 0),E=void 0===E?E:x(h(E),0),C=void 0===C?C:h(C),S-=w?w.length:0,e&_){var P=r,M=w;r=w=void 0}var A=k?void 0:u(t),O=[t,e,n,r,w,P,M,T,E,C];if(A&&c(O,A),t=O[0],e=O[1],n=O[2],r=O[3],w=O[4],C=O[9]=null==O[9]?k?0:t.length:x(O[9]-S,0),!C&&e&(v|g)&&(e&=~(v|g)),e&&e!=m)D=e==v||e==g?a(t,e,C):e!=b&&e!=(m|b)||w.length?s.apply(void 0,O):l(t,e,n,r);else var D=i(t,e,n);var L=A?o:f;return p(L(D,O),t,e)}var o=n(609),i=n(612),a=n(615),s=n(616),l=n(648),u=n(624),c=n(649),f=n(633),p=n(634),h=n(650),d="Expected a function",m=1,y=2,v=8,g=16,b=32,_=64,x=Math.max;t.exports=r},function(t,e,n){var r=n(593),o=n(610),i=o?function(t,e){return o.set(t,e),t}:r;t.exports=i},function(t,e,n){var r=n(611),o=r&&new r;t.exports=o},function(t,e,n){var r=n(600),o=n(302),i=r(o,"WeakMap");t.exports=i},function(t,e,n){function r(t,e,n){function r(){var e=this&&this!==i&&this instanceof r?l:t;return e.apply(s?n:this,arguments)}var s=e&a,l=o(t);return r}var o=n(613),i=n(302),a=1;t.exports=r},function(t,e,n){function r(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=o(t.prototype),r=t.apply(n,e);return i(r)?r:n}}var o=n(614),i=n(300);t.exports=r},function(t,e,n){var r=n(300),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=prototype;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){function r(t,e,n){function r(){for(var i=arguments.length,p=Array(i),h=i,d=l(r);h--;)p[h]=arguments[h];var m=i<3&&p[0]!==d&&p[i-1]!==d?[]:u(p,d);if(i-=m.length,i<n)return s(t,e,a,r.placeholder,void 0,p,m,void 0,void 0,n-i);var y=this&&this!==c&&this instanceof r?f:t;return o(y,this,p)}var f=i(t);return r}var o=n(595),i=n(613),a=n(616),s=n(620),l=n(644),u=n(647),c=n(302);t.exports=r},function(t,e,n){function r(t,e,n,b,_,x,w,T,E,C){function k(){for(var h=arguments.length,d=Array(h),m=h;m--;)d[m]=arguments[m];if(A)var y=u(k),v=a(d,y);if(b&&(d=o(d,b,_,A)),x&&(d=i(d,x,w,A)),h-=v,A&&h<C){var g=f(d,y);return l(t,e,r,k.placeholder,n,d,g,T,E,C-h)}var L=P?n:this,I=M?L[t]:t;return h=d.length,T?d=c(d,T):O&&h>1&&d.reverse(),S&&E<h&&(d.length=E),this&&this!==p&&this instanceof k&&(I=D||s(I)),I.apply(L,d)}var S=e&v,P=e&h,M=e&d,A=e&(m|y),O=e&g,D=M?void 0:s(t);return k}var o=n(617),i=n(618),a=n(619),s=n(613),l=n(620),u=n(644),c=n(645),f=n(647),p=n(302),h=1,d=2,m=8,y=16,v=128,g=512;t.exports=r},function(t,e){function n(t,e,n,o){for(var i=-1,a=t.length,s=n.length,l=-1,u=e.length,c=r(a-s,0),f=Array(u+c),p=!o;++l<u;)f[l]=e[l];for(;++i<s;)(p||i<a)&&(f[n[i]]=t[i]);for(;c--;)f[l++]=t[i++];return f}var r=Math.max;t.exports=n},function(t,e){function n(t,e,n,o){for(var i=-1,a=t.length,s=-1,l=n.length,u=-1,c=e.length,f=r(a-l,0),p=Array(f+c),h=!o;++i<f;)p[i]=t[i];for(var d=i;++u<c;)p[d+u]=e[u];for(;++s<l;)(h||i<a)&&(p[d+n[s]]=t[i++]);return p}var r=Math.max;t.exports=n},function(t,e){function n(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}t.exports=n},function(t,e,n){function r(t,e,n,r,h,d,m,y,v,g){var b=e&c,_=b?m:void 0,x=b?void 0:m,w=b?d:void 0,T=b?void 0:d;e|=b?f:p,e&=~(b?p:f),e&u||(e&=~(s|l));var E=[t,e,h,w,_,T,x,y,v,g],C=n.apply(void 0,E);return o(t)&&i(C,E),C.placeholder=r,a(C,t,e)}var o=n(621),i=n(633),a=n(634),s=1,l=2,u=4,c=8,f=32,p=64;t.exports=r},function(t,e,n){function r(t){var e=a(t),n=s[e];if("function"!=typeof n||!(e in o.prototype))return!1;if(t===n)return!0;var r=i(n);return!!r&&t===r[0]}var o=n(622),i=n(624),a=n(626),s=n(628);t.exports=r},function(t,e,n){function r(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=a,this.__views__=[]}var o=n(614),i=n(623),a=4294967295;r.prototype=o(i.prototype),r.prototype.constructor=r,t.exports=r},function(t,e){function n(){}t.exports=n},function(t,e,n){var r=n(610),o=n(625),i=r?function(t){return r.get(t)}:o;t.exports=i},function(t,e){function n(){}t.exports=n},function(t,e,n){function r(t){for(var e=t.name+"",n=o[e],r=a.call(o,e)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==t)return i.name}return e}var o=n(627),i=Object.prototype,a=i.hasOwnProperty;t.exports=r},function(t,e){var n={};t.exports=n},function(t,e,n){function r(t){if(l(t)&&!s(t)&&!(t instanceof o)){if(t instanceof i)return t;if(f.call(t,"__wrapped__"))return u(t)}return new i(t)}var o=n(622),i=n(629),a=n(623),s=n(630),l=n(306),u=n(631),c=Object.prototype,f=c.hasOwnProperty;r.prototype=a.prototype,r.prototype.constructor=r,t.exports=r},function(t,e,n){function r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}var o=n(614),i=n(623);r.prototype=o(i.prototype),r.prototype.constructor=r,t.exports=r},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){function r(t){if(t instanceof o)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=a(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var o=n(622),i=n(629),a=n(632);t.exports=r},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e,n){var r=n(609),o=n(607),i=o(r);t.exports=i},function(t,e,n){function r(t,e,n){var r=e+"";return a(t,i(r,s(o(r),n)))}var o=n(635),i=n(636),a=n(596),s=n(637);t.exports=r},function(t,e){function n(t){var e=t.match(r);return e?e[1].split(o):[]}var r=/\{\n\/\* \[wrapped with (.+)\] \*/,o=/,? & /;t.exports=n},function(t,e){function n(t,e){var n=e.length;if(!n)return t;var o=n-1;return e[o]=(n>1?"& ":"")+e[o],e=e.join(n>2?", ":" "),t.replace(r,"{\n/* [wrapped with "+e+"] */\n")}var r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=n},function(t,e,n){function r(t,e){return o(m,function(n){var r="_."+n[0];e&n[1]&&!i(t,r)&&t.push(r)}),t.sort()}var o=n(638),i=n(639),a=1,s=2,l=8,u=16,c=32,f=64,p=128,h=256,d=512,m=[["ary",p],["bind",a],["bindKey",s],["curry",l],["curryRight",u],["flip",d],["partial",c],["partialRight",f],["rearg",h]];t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t?t.length:0;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e,n){function r(t,e){var n=t?t.length:0;return!!n&&o(t,e,0)>-1}var o=n(640);t.exports=r},function(t,e,n){function r(t,e,n){return e===e?a(t,e,n):o(t,i,n)}var o=n(641),i=n(642),a=n(643);t.exports=r},function(t,e){function n(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}t.exports=n},function(t,e){function n(t){return t!==t}t.exports=n},function(t,e){function n(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}t.exports=n},function(t,e){function n(t){var e=t;return e.placeholder}t.exports=n},function(t,e,n){function r(t,e){for(var n=t.length,r=a(e.length,n),s=o(t);r--;){var l=e[r];t[r]=i(l,n)?s[l]:void 0}return t}var o=n(632),i=n(646),a=Math.min;t.exports=r},function(t,e){function n(t,e){return e=null==e?r:e,!!e&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e){function n(t,e){for(var n=-1,o=t.length,i=0,a=[];++n<o;){var s=t[n];s!==e&&s!==r||(t[n]=r,a[i++]=n)}return a}var r="__lodash_placeholder__";t.exports=n},function(t,e,n){function r(t,e,n,r){function l(){for(var e=-1,i=arguments.length,s=-1,f=r.length,p=Array(f+i),h=this&&this!==a&&this instanceof l?c:t;++s<f;)p[s]=r[s];for(;i--;)p[s++]=arguments[++e];return o(h,u?n:this,p)}var u=e&s,c=i(t);return l}var o=n(595),i=n(613),a=n(302),s=1;t.exports=r},function(t,e,n){function r(t,e){var n=t[1],r=e[1],m=n|r,y=m<(l|u|p),v=r==p&&n==f||r==p&&n==h&&t[7].length<=e[8]||r==(p|h)&&e[7].length<=e[8]&&n==f;if(!y&&!v)return t;r&l&&(t[2]=e[2],m|=n&l?0:c);var g=e[3];if(g){var b=t[3];t[3]=b?o(b,g,e[4]):g,t[4]=b?a(t[3],s):e[4]}return g=e[5],g&&(b=t[5],t[5]=b?i(b,g,e[6]):g,t[6]=b?a(t[5],s):e[6]),g=e[7],g&&(t[7]=g),r&p&&(t[8]=null==t[8]?e[8]:d(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=m,t}var o=n(617),i=n(618),a=n(647),s="__lodash_placeholder__",l=1,u=2,c=4,f=8,p=128,h=256,d=Math.min;t.exports=r},function(t,e,n){function r(t){var e=o(t),n=e%1;return e===e?n?e-n:e:0}var o=n(651);t.exports=r},function(t,e,n){function r(t){if(!t)return 0===t?t:0;if(t=o(t),t===i||t===-i){var e=t<0?-1:1;return e*a}return t===t?t:0}var o=n(304),i=1/0,a=1.7976931348623157e308;t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(653),l=r(s),u=n(654),c=r(u),f=n(655),p=r(f),h=n(721),d=r(h),m=n(584),y=r(m),v=n(750),g=r(v),b=n(760),_=r(b),x=n(761),w=r(x),T=a["default"].createClass({displayName:"TabbedArea",mixins:[y["default"]],propTypes:{activeTab:a["default"].PropTypes.string,unclosableTab:a["default"].PropTypes.string,onSwitch:a["default"].PropTypes.func,onClose:a["default"].PropTypes.func,onDragAway:a["default"].PropTypes.func,onAddTab:a["default"].PropTypes.func,children:a["default"].PropTypes.node},getInitialState:function(){return{icons:{},titles:{},dragging:!1}},componentDidMount:function(){this.componentDidUpdate()},componentDidUpdate:function(){var t={},e={};(0,d["default"])(this.refs,function(n,r){n.icon?t[r]=n.icon():null,n.title?e[r]=n.title():null}),(0,p["default"])(this.state.icons,t)&&(0,p["default"])(this.state.titles,e)||this.setState({icons:t,titles:e})},handleClick:function(t,e){this.props.onSwitch&&(e.preventDefault(),this.props.onSwitch(t))},handleClose:function(t,e){this.props.onClose&&(e.preventDefault(),e.stopPropagation(),this.props.onClose(t))},handleAddTab:function(){this.props.onAddTab&&(event.preventDefault(),event.stopPropagation(),this.props.onAddTab())},handleDragStop:function(t){var e=this.refs["drag_"+t].state,n=Math.sqrt(e.y*e.y+e.x*e.x);return n>100&&e.y>50&&this.props.onDragAway?(this.props.onDragAway(t,{x:e.x,y:e.y}),!1):(this.refs["drag_"+t].setState({dragging:!1,x:0,y:0}),void this.setState({dragging:!1}))},renderTab:function(t){var e=this,n=this.state,r=n.icons,o=n.titles,i=t.props.compId,s={tab:!0,active:i===this.props.activeTab,inactive:i!==this.props.activeTab,dragging:i===this.state.dragging},l="";this.props.onClose&&(l=a["default"].createElement(g["default"],{className:"action close",name:"close",onClick:this.handleClose.bind(this,i)}));var u=a["default"].createElement("div",{className:(0,c["default"])(s),onClick:this.handleClick.bind(this,i)},r[i]?a["default"].createElement(g["default"],{name:r[i]}):null,a["default"].createElement("div",{className:"title"},o[i]),this.props.unclosableTab!==i?l:null);return this.props.onDragAway&&this.props.unclosableTab!==i&&(u=a["default"].createElement(_["default"],{ref:"drag_"+i,key:i,defaultPosition:{x:0,y:0},onStop:function(){return e.handleDragStop(i)},onDrag:function(){return e.setState({dragging:i})}},u)),u},renderPane:function(t){return a["default"].cloneElement(t,{active:t.props.compId===this.props.activeTab,key:t.props.compId,ref:t.props.compId})},render:function(){var t=Object.assign({},this.props);delete t.unclosableTab,delete t.activeTab,delete t.onSwitch,delete t.onClose,delete t.onAddTab,delete t.onDragAway;var e=(0,w["default"])(this,this.props.children);return a["default"].createElement("div",o({},t,{className:"tabbed-area"}),a["default"].createElement("div",{className:"tabs"},l["default"].map(e,this.renderTab,this),this.props.onAddTab?a["default"].createElement(g["default"],{name:"plus-circle",onClick:this.handleAddTab}):null),a["default"].createElement("div",{className:"tab-content"},l["default"].map(e,this.renderPane,this)))}});t.exports=T},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return a["default"].Children.map(t,function(t,r){return a["default"].isValidElement(t)?e.call(n,t,r):t})}var i=n(316),a=r(i);t.exports={map:o}},function(t,e,n){var r,o;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r))t.push(n.apply(null,r));else if("object"===o)for(var a in r)i.call(r,a)&&r[a]&&t.push(a)}}return t.join(" ")}var i={}.hasOwnProperty;"undefined"!=typeof t&&t.exports?t.exports=n:(r=[],o=function(){return n}.apply(e,r),!(void 0!==o&&(t.exports=o)))}()},function(t,e,n){function r(t,e){return o(t,e)}var o=n(656);t.exports=r},function(t,e,n){function r(t,e,n,s,l){return t===e||(null==t||null==e||!i(t)&&!a(e)?t!==t&&e!==e:o(t,e,r,n,s,l))}var o=n(657),i=n(300),a=n(306);t.exports=r},function(t,e,n){function r(t,e,n,r,m,v){var g=u(t),b=u(e),_=h,x=h;g||(_=l(t),_=_==p?d:_),b||(x=l(e),x=x==p?d:x);var w=_==d,T=x==d,E=_==x;if(E&&!w)return v||(v=new o),g||c(t)?i(t,e,n,r,m,v):a(t,e,_,n,r,m,v);if(!(m&f)){var C=w&&y.call(t,"__wrapped__"),k=T&&y.call(e,"__wrapped__");if(C||k){var S=C?t.value():t,P=k?e.value():e;return v||(v=new o),n(S,P,r,m,v)}}return!!E&&(v||(v=new o),s(t,e,n,r,m,v))}var o=n(658),i=n(688),a=n(694),s=n(699),l=n(711),u=n(630),c=n(716),f=2,p="[object Arguments]",h="[object Array]",d="[object Object]",m=Object.prototype,y=m.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=this.__data__=new o(t);this.size=e.size}var o=n(659),i=n(667),a=n(668),s=n(669),l=n(670),u=n(671);r.prototype.clear=i,r.prototype["delete"]=a,r.prototype.get=s,r.prototype.has=l,r.prototype.set=u,t.exports=r},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var o=n(660),i=n(661),a=n(664),s=n(665),l=n(666);r.prototype.clear=o,r.prototype["delete"]=i,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,t.exports=r},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=o(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():a.call(e,n,1),--this.size,!0}var o=n(662),i=Array.prototype,a=i.splice;t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(o(t[n][0],e))return n;return-1}var o=n(663);t.exports=r},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]}var o=n(662);t.exports=r},function(t,e,n){function r(t){return o(this.__data__,t)>-1}var o=n(662);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=o(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var o=n(662);t.exports=r},function(t,e,n){function r(){this.__data__=new o,this.size=0}var o=n(659);t.exports=r},function(t,e){function n(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){function r(t,e){var n=this.__data__;if(n instanceof o){var r=n.__data__;if(!i||r.length<s-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(t,e),this.size=n.size,this}var o=n(659),i=n(672),a=n(673),s=200;t.exports=r},function(t,e,n){var r=n(600),o=n(302),i=r(o,"Map");t.exports=i},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var o=n(674),i=n(682),a=n(685),s=n(686),l=n(687);r.prototype.clear=o,r.prototype["delete"]=i,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,t.exports=r},function(t,e,n){function r(){this.size=0,this.__data__={hash:new o,map:new(a||i),string:new o}}var o=n(675),i=n(659),a=n(672);t.exports=r},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var o=n(676),i=n(678),a=n(679),s=n(680),l=n(681);r.prototype.clear=o,r.prototype["delete"]=i,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,t.exports=r},function(t,e,n){function r(){this.__data__=o?o(null):{},this.size=0}var o=n(677);t.exports=r},function(t,e,n){var r=n(600),o=r(Object,"create");t.exports=o},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,n){function r(t){var e=this.__data__;if(o){var n=e[t];return n===i?void 0:n}return s.call(e,t)?e[t]:void 0}var o=n(677),i="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return o?void 0!==e[t]:a.call(e,t)}var o=n(677),i=Object.prototype,a=i.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=o&&void 0===e?i:e,this}var o=n(677),i="__lodash_hash_undefined__";t.exports=r},function(t,e,n){function r(t){var e=o(this,t)["delete"](t);return this.size-=e?1:0,e}var o=n(683);t.exports=r},function(t,e,n){function r(t,e){var n=t.__data__;return o(e)?n["string"==typeof e?"string":"hash"]:n.map}var o=n(684);t.exports=r},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){function r(t){return o(this,t).get(t)}var o=n(683);t.exports=r},function(t,e,n){function r(t){return o(this,t).has(t)}var o=n(683);t.exports=r},function(t,e,n){function r(t,e){var n=o(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var o=n(683);t.exports=r},function(t,e,n){function r(t,e,n,r,u,c){var f=u&l,p=t.length,h=e.length;if(p!=h&&!(f&&h>p))return!1;var d=c.get(t);if(d&&c.get(e))return d==e;var m=-1,y=!0,v=u&s?new o:void 0;for(c.set(t,e),c.set(e,t);++m<p;){var g=t[m],b=e[m];if(r)var _=f?r(b,g,m,e,t,c):r(g,b,m,t,e,c);if(void 0!==_){if(_)continue;y=!1;break}if(v){if(!i(e,function(t,e){if(!a(v,e)&&(g===t||n(g,t,r,u,c)))return v.push(e)})){y=!1;break}}else if(g!==b&&!n(g,b,r,u,c)){y=!1;break}}return c["delete"](t),c["delete"](e),y}var o=n(689),i=n(692),a=n(693),s=1,l=2;t.exports=r},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.__data__=new o;++e<n;)this.add(t[e])}var o=n(673),i=n(690),a=n(691);r.prototype.add=r.prototype.push=i,r.prototype.has=a,t.exports=r},function(t,e){function n(t){return this.__data__.set(t,r),this}var r="__lodash_hash_undefined__";t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e){function n(t,e){return t.has(e)}t.exports=n},function(t,e,n){function r(t,e,n,r,o,T,C){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!r(new i(t),new i(e)));case p:case h:case y:return a(+t,+e);case d:return t.name==e.name&&t.message==e.message;case v:case b:return t==e+"";case m:var k=l;case g:var S=T&f;if(k||(k=u),t.size!=e.size&&!S)return!1;var P=C.get(t);if(P)return P==e;T|=c,C.set(t,e);var M=s(k(t),k(e),r,o,T,C);return C["delete"](t),M;case _:if(E)return E.call(t)==E.call(e)}return!1}var o=n(695),i=n(696),a=n(663),s=n(688),l=n(697),u=n(698),c=1,f=2,p="[object Boolean]",h="[object Date]",d="[object Error]",m="[object Map]",y="[object Number]",v="[object RegExp]",g="[object Set]",b="[object String]",_="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",T=o?o.prototype:void 0,E=T?T.valueOf:void 0;t.exports=r},function(t,e,n){var r=n(302),o=r.Symbol;t.exports=o},function(t,e,n){var r=n(302),o=r.Uint8Array;t.exports=o},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}t.exports=n},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e,n){function r(t,e,n,r,a,l){var u=a&i,c=o(t),f=c.length,p=o(e),h=p.length;if(f!=h&&!u)return!1;for(var d=f;d--;){var m=c[d];if(!(u?m in e:s.call(e,m)))return!1}var y=l.get(t);if(y&&l.get(e))return y==e;var v=!0;l.set(t,e),l.set(e,t);for(var g=u;++d<f;){m=c[d];var b=t[m],_=e[m];if(r)var x=u?r(_,b,m,e,t,l):r(b,_,m,t,e,l);if(!(void 0===x?b===_||n(b,_,r,a,l):x)){v=!1;break}g||(g="constructor"==m)}if(v&&!g){var w=t.constructor,T=e.constructor;w!=T&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof T&&T instanceof T)&&(v=!1)}return l["delete"](t),l["delete"](e),v}var o=n(700),i=2,a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){return a(t)?o(t):i(t)}var o=n(701),i=n(707),a=n(705);t.exports=r},function(t,e,n){function r(t,e){var n=a(t)||i(t)?o(t.length,String):[],r=n.length,l=!!r;for(var c in t)!e&&!u.call(t,c)||l&&("length"==c||s(c,r))||n.push(c);return n}var o=n(702),i=n(703),a=n(630),s=n(646),l=Object.prototype,u=l.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){function r(t){return o(t)&&s.call(t,"callee")&&(!u.call(t,"callee")||l.call(t)==i)}var o=n(704),i="[object Arguments]",a=Object.prototype,s=a.hasOwnProperty,l=a.toString,u=a.propertyIsEnumerable;t.exports=r},function(t,e,n){function r(t){return i(t)&&o(t)}var o=n(705),i=n(306);t.exports=r},function(t,e,n){function r(t){return null!=t&&i(t.length)&&!o(t)}var o=n(602),i=n(706);t.exports=r},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e,n){function r(t){if(!o(t))return i(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}var o=n(708),i=n(709),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e){function n(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||r;return t===n}var r=Object.prototype;t.exports=n},function(t,e,n){var r=n(710),o=r(Object.keys,Object);t.exports=o},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e,n){var r=n(712),o=n(672),i=n(713),a=n(714),s=n(611),l=n(715),u=n(605),c="[object Map]",f="[object Object]",p="[object Promise]",h="[object Set]",d="[object WeakMap]",m="[object DataView]",y=Object.prototype,v=y.toString,g=u(r),b=u(o),_=u(i),x=u(a),w=u(s),T=l;(r&&T(new r(new ArrayBuffer(1)))!=m||o&&T(new o)!=c||i&&T(i.resolve())!=p||a&&T(new a)!=h||s&&T(new s)!=d)&&(T=function(t){var e=v.call(t),n=e==f?t.constructor:void 0,r=n?u(n):void 0;if(r)switch(r){case g:return m;case b:return c;case _:return p;case x:return h;case w:return d}return e}),t.exports=T},function(t,e,n){var r=n(600),o=n(302),i=r(o,"DataView");t.exports=i},function(t,e,n){var r=n(600),o=n(302),i=r(o,"Promise");t.exports=i},function(t,e,n){var r=n(600),o=n(302),i=r(o,"Set");t.exports=i},function(t,e){function n(t){return o.call(t)}var r=Object.prototype,o=r.toString;t.exports=n},function(t,e,n){var r=n(717),o=n(718),i=n(719),a=i&&i.isTypedArray,s=a?o(a):r;t.exports=s},function(t,e,n){function r(t){return i(t)&&o(t.length)&&!!A[D.call(t)]}var o=n(706),i=n(306),a="[object Arguments]",s="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Function]",p="[object Map]",h="[object Number]",d="[object Object]",m="[object RegExp]",y="[object Set]",v="[object String]",g="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",T="[object Int8Array]",E="[object Int16Array]",C="[object Int32Array]",k="[object Uint8Array]",S="[object Uint8ClampedArray]",P="[object Uint16Array]",M="[object Uint32Array]",A={};A[x]=A[w]=A[T]=A[E]=A[C]=A[k]=A[S]=A[P]=A[M]=!0,A[a]=A[s]=A[b]=A[l]=A[_]=A[u]=A[c]=A[f]=A[p]=A[h]=A[d]=A[m]=A[y]=A[v]=A[g]=!1;var O=Object.prototype,D=O.toString;t.exports=r},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){(function(t){var r=n(303),o="object"==typeof e&&e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o,s=a&&r.process,l=function(){try{return s&&s.binding("util")}catch(t){}}();t.exports=l}).call(e,n(720)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){function r(t,e){var n=s(t)?o:i;return n(t,a(e,3))}var o=n(638),i=n(722),a=n(727),s=n(630);t.exports=r},function(t,e,n){var r=n(723),o=n(726),i=o(r);t.exports=i},function(t,e,n){function r(t,e){return t&&o(t,e,i)}var o=n(724),i=n(700);t.exports=r},function(t,e,n){var r=n(725),o=r();t.exports=o},function(t,e){function n(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++o];if(n(i[l],l,i)===!1)break}return e}}t.exports=n},function(t,e,n){function r(t,e){return function(n,r){if(null==n)return n;if(!o(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var o=n(705);t.exports=r},function(t,e,n){function r(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?s(t)?i(t[0],t[1]):o(t):l(t)}var o=n(728),i=n(733),a=n(593),s=n(630),l=n(747);t.exports=r},function(t,e,n){function r(t){var e=i(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(n){return n===t||o(n,t,e)}}var o=n(729),i=n(730),a=n(732);t.exports=r},function(t,e,n){function r(t,e,n,r){var l=n.length,u=l,c=!r;if(null==t)return!u;for(t=Object(t);l--;){var f=n[l];if(c&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++l<u;){f=n[l];var p=f[0],h=t[p],d=f[1];if(c&&f[2]){if(void 0===h&&!(p in t))return!1}else{var m=new o;if(r)var y=r(h,d,p,t,e,m);if(!(void 0===y?i(d,h,r,a|s,m):y))return!1}}return!0}var o=n(658),i=n(656),a=1,s=2;t.exports=r},function(t,e,n){function r(t){for(var e=i(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,o(a)]}return e}var o=n(731),i=n(700);t.exports=r},function(t,e,n){function r(t){return t===t&&!o(t)}var o=n(300);t.exports=r},function(t,e){function n(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}t.exports=n},function(t,e,n){function r(t,e){return s(t)&&l(e)?u(c(t),e):function(n){var r=i(n,t);return void 0===r&&r===e?a(n,t):o(e,r,void 0,f|p)}}var o=n(656),i=n(734),a=n(744),s=n(742),l=n(731),u=n(732),c=n(743),f=1,p=2;t.exports=r},function(t,e,n){function r(t,e,n){var r=null==t?void 0:o(t,e);return void 0===r?n:r}var o=n(735);t.exports=r},function(t,e,n){function r(t,e){e=i(e,t)?[e]:o(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[a(e[n++])];return n&&n==r?t:void 0}var o=n(736),i=n(742),a=n(743);t.exports=r},function(t,e,n){function r(t){return o(t)?t:i(t)}var o=n(630),i=n(737);t.exports=r},function(t,e,n){var r=n(738),o=n(740),i=/^\./,a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,l=r(function(t){t=o(t);var e=[];return i.test(t)&&e.push(""),t.replace(a,function(t,n,r,o){e.push(r?o.replace(s,"$1"):n||t)}),e});t.exports=l},function(t,e,n){function r(t){var e=o(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}var o=n(739),i=500;t.exports=r},function(t,e,n){function r(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(r.Cache||o),n}var o=n(673),i="Expected a function";r.Cache=o,t.exports=r},function(t,e,n){function r(t){return null==t?"":o(t)}var o=n(741);t.exports=r},function(t,e,n){function r(t){if("string"==typeof t)return t;if(i(t))return l?l.call(t):"";var e=t+"";return"0"==e&&1/t==-a?"-0":e}var o=n(695),i=n(305),a=1/0,s=o?o.prototype:void 0,l=s?s.toString:void 0;t.exports=r},function(t,e,n){function r(t,e){if(o(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(s.test(t)||!a.test(t)||null!=e&&t in Object(e))}var o=n(630),i=n(305),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=r},function(t,e,n){function r(t){if("string"==typeof t||o(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}var o=n(305),i=1/0;t.exports=r},function(t,e,n){function r(t,e){return null!=t&&i(t,e,o)}var o=n(745),i=n(746);t.exports=r},function(t,e){function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,n){function r(t,e,n){e=l(e,t)?[e]:o(e);for(var r=-1,f=e.length,p=!1;++r<f;){var h=c(e[r]);if(!(p=null!=t&&n(t,h)))break;t=t[h]}return p||++r!=f?p:(f=t?t.length:0,!!f&&u(f)&&s(h,f)&&(a(t)||i(t)))}var o=n(736),i=n(703),a=n(630),s=n(646),l=n(742),u=n(706),c=n(743);t.exports=r},function(t,e,n){function r(t){return a(t)?o(s(t)):i(t)}var o=n(748),i=n(749),a=n(742),s=n(743);t.exports=r},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){function r(t){return function(e){return o(e,t)}}var o=n(735);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(316),s=r(a),l=n(584),u=r(l),c=n(751),f=r(c),p=s["default"].PropTypes,h=n(753),d=function(t){return h("./"+t)},m=s["default"].createClass({displayName:"Icon",mixins:[u["default"]],propTypes:{name:p.string.isRequired,size:p.oneOf(["lg","2x","3x","4x","5x"]),rotate:p.oneOf(["90","180","270"]),flip:p.oneOf(["horizontal","vertical"]),fixedWidth:p.bool,spin:p.bool,stack:s["default"].PropTypes.oneOf(["1x","2x"]),inverse:s["default"].PropTypes.bool,className:s["default"].PropTypes.string,children:s["default"].PropTypes.element},render:function(){var t=this.props,e=t.name,n=t.size,r=t.rotate,a=t.flip,l=t.spin,u=t.fixedWidth,c=t.stack,p=t.inverse,h=t.className,m=o(t,["name","size","rotate","flip","spin","fixedWidth","stack","inverse","className"]);if(e){var y="";return y+=(0,f["default"])(e,"bitmap:")?"icon":"fa fa-"+e+" icon",n&&(y+=" fa-"+n),r&&(y+=" fa-rotate-"+r),a&&(y+=" fa-flip-"+a),u&&(y+=" fa-fw"),l&&(y+=" fa-spin"),c&&(y+=" fa-stack-"+c),p&&(y+=" fa-inverse",(0,f["default"])(e,"bitmap:")&&(y+=" inverted-bitmap")),h&&(y+=" "+h),(0,f["default"])(e,"bitmap:")?s["default"].createElement("span",i({},m,{className:y}),s["default"].createElement("img",{className:"bitmap",src:d(e.substring(7))})):s["default"].createElement("span",i({},m,{className:y})," ",this.props.children," ")}}});t.exports=m},function(t,e,n){function r(t,e,n){return t=s(t),n=o(a(n),0,t.length),e=i(e),t.slice(n,n+e.length)==e}var o=n(752),i=n(741),a=n(650),s=n(740);t.exports=r},function(t,e){function n(t,e,n){return t===t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}t.exports=n},function(t,e,n){function r(t){return n(o(t))}function o(t){return i[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var i={"./error.svg":754,"./genomebrowser.png":755,"./layers-2x.png":756,"./layers.png":757,"./panoptes-logo.png":758,"./spinner.svg":759};r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=753},function(t,e,n){t.exports=n.p+"43159b383933d36c20b00405971cd4eb.svg"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAuCAYAAAC4e0AJAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQffCREOJwFtVfkoAAAJnUlEQVRo3tWZe3BV1RXGf2ufe5NwIYEAEl7hoSBEsZbHFJXR3HMTMcpYLFO1INjWovhAKg9BdOxMEWtHZNQRHC10piN0rFOpM1B1KpBzo0WQWl+jEor1UUBeAU1CE8g9Z6/+cc5NLk77R4CbtufOnruTuXuftb+19lrft7eoKv+vT6yzA0RivcD2BBP+Cf/Qgm5KvyHC1wditAFxIBN9k9PPAAUCQSJoPLQrWLRwIWvXrO2naDcAwbRa9Q/nzXigAszIsKs9BVbbk80qiV6j8YMEYGhDMAptQGDBMdAmYFBOOgGmqbGkuMffhwwZClANxgFQbCOwMY/G21Yw/cEC0t1CfxnuHqC4/HMa95dCEP3OCZ1jglOHq8KAcQ3Sb4zUjB+qivQHG4s82ZTXsAEOAAMEIwpW0GvmTf322oEDB7YuWbK0FNSCYABrABvtKSNRX3hkTk3b4cOHefzxJ4aBlEeGA7zbqRDu7IatcqupTaefACL0aakYXXFLfX39ctBxioiAo6gRRJX2+RUkcoNuqRhdsbK+fve9ih0fGm8BM1/VP5A35FUA+BPYe0P0re6q3zUbzAsgPQQdCKZBCA6CAIpgUOxg0F6COaDIS7vqd40Ec3W4UUUU3nfd5IF8hw2um3zV82pnKnZA9K8ZArsnXjLxnkmTLmPlk0/FINYd1ACiGB8/03zPPXfrju3b2fHWWwkwL0VoowQKZmVn7TCdN12jxv25wxWW79ixfer1N9yAZk74FHUfjymqwsSriRdfpJrRmpoadr61c4xgXgyTZ3u4rE65yb3S2bTd2ZhPparb+56XniSwHAQVVdQmBPOKOoWvIaaRgngRxvicsC34xxPgXyyYuSrSgmazkHnBdZPPZuesrd2ST+RPCZ9til2kBE2hM0yzYr9L0Poz/JZv0dK8n5bmL4zfNEoIlgE/VWwTEWCCeSbXcLoS+WzAeF5db7B3AlcIxlFsAZhuYAsFiQMtijaCsWAFTD2wyk1WfoycGiydQT7GWXhcN3kMdLnneZco9udhUicTbkabRVk0TD9rXLfyeRA4Q15lOCuPkvbqLgV+CCYmHXMnwCTAGCWb8M0kz/MmolFFaE8A7Ymga433PO8nCg8L5jxBe4GWCboRuAqYLOhGQQcAxcBI4BEv7d16pu81Z8HwJWBuAhuADgB5Q41znTqxJykoaaKgpFmdwicFZwrYbYIOBnww02u99P1da7xqe0t76YVgrgJrBVMKulpjBSvpVdFCYfcaCKZDMJ3Cosl28ISvwPmFwBNAaZTgqz3PWyp0fLoE+XS67nrFThEIBNNT0eeeWrXqGc207KXli2FkgiKMtmG0DT8o4mj9uaqZw6ueXr1GkN8ilID1BTPZ89LTT2+rqXaqpdwqBGcQSC3IVnC2gyzdsOElGHypUFYm0N+QKI/RZ3DYEn1jlJUZKBNGXC0bNvwBMAsFZ1s4j1MLMtR1U52yJXZai8UuiBznCHrwxQ0bHpk27TqY+ePvoUEf4oFPxgnIWIkogHLMxIlj2Lvj4LRpr2x6evXqlXfeddeVQEHEThcC8/JKzNLpusGCGachwYwr+uhlkyZF+qPoGJmTbcQdgx8JEoKQxsRQEMWJHwUYfu4wgBXAAxEQY9Je3VDgi/xRYrg8VBUGhWbBvLtk8RImTJgALV+9jc0omGg3ZY0HfCdMSAgrHl3Bm9u3A/I6yHyB7opVhSuAdXmjByKxB8BWRWi9V5VKLait3fqgQpWEMi7oYJ9CVoxEmUQ1lOA9FFl3ZXX1rzdveW0lmLECorBV1V+eT3pQFJV6BZuxNkDRkSFvobijkiqCRDbZaBHtFFiBc/3Aj84WLOE4U5hvMfJ1Tqm/MJ2uiwvOLYqeo9iSUGwZNAyrf5eRjWIbXDfV4HlpAVORI+6P5/fcBvtXxUyJEEwo9juum9rmeekZYIaGrPE/VRurEep/CWPbXhZShvbFvZNX4xX+DLY54imAuQV0G9hKMMWC9NeQCgehh5RoMTFwmiBoEEwBsE4wt4fesQAngHRei5TrphBkclRYsm1xZWUSwbkQTFl4rmOGYmJDIDYk9Ig5h7C4XZCsdAFnfs74WpApbrJzRcp0PmwE10299g0X17xe98a8RYsWfqQaHKJvuU9x31IKS3rTraQ38dISxl/TrOrvnzXr5o/TdXV3gL02OpUC+MBNui/nnZjlsO6lYA7kTDPjscdWzhSJl6P0wQ+Go5lx+JmxxGUYe4+UiMRK169bPxtkBh3hcghY0uUyMO2lSxS7Ijy7tD5IH9C/gfwSE/+QWDwMd79NsZnRgiwCLtAwqxjgU2CB67pNHTJwa9fw+WSyskkwtwObww2pxwRTDvobbNvdtLUmpK2lSGxmnsDzih2p0AzGCKYWzG2um2o63fefmQDPjhXwPO9SwfxAsRdlMREoiEKtLSdMPgLWua67syOjKl2EfI7elFwR7m5X+OzUX9q20HCbNRxgn+umdoZTnJkAPyunB55X54K9G+j1DWy+BFqAETneqPG82pRg1iaTlb//72rYtHcr2AdDw7Opz74Odq7rVs503eRtYGYBL0feUDBxhTu8tPfQmbz7NGK+Kld8zweujXCwAkWKfRj4DMxEgX4aXhzsA/uqwCjgPoVuYEwUSu+4bmpRNu7zHPMhdfG8uu+HhhsEE0h4+Hjj5MmTXxVkKehi0B8BNwn2AUFunTr1um0K04Gj0QkCwDjPq53fJRrWdasApyynrG8G8zZI7z17PuHIkQZCVM3FYMaCGW8wY9Y9t56m5mbq63cjOI5gNoNsyaEZFZ3VsKd39AG3dfjBFAF3ptPpYyNGnMc5g84fQnH/MhKlx0j0PkKi9yEbL/lq1tz7BpT0Lh8+atT5vPfB+wGYO+QU/m7m0smjj9NQUqYHmLVZiitI0+zZs+f8as2zSKLvWGxmPKqFWGwOPQ6loehxCovfbG34/JMbrr+RP27auAzk/A5maRao+l/mMVWaEWCPZO9hFV2fqs6qQudDrOwh7hhQyGSiu9joEtaJBQTBiaLCApJukk2bNm4UuDlcoAHshcCX+UQ+CeaKMGS0RJDFlsuVxIeDOHmyG7HwjhMCxXckhCcIxbgPOMQo7HGUhG3g0GED8jBoSyhS7B5V+7t85vmTwOGo7V/20DKr6ilBUExMywjs4LBJOdLeD7/FDkK1L62tJXrwoM6ZMycQzKForiNgTuS5wprdYBuidQf79u/nxMk2EPspfrAPCqNd50MsZ3rfz14nKrHEicbGJo7/8zhKsDHMTgC2Ja8b9n/p+RdRP/MwtKDObQAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAbrwAAG68BXhqRHAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAArPSURBVGiB3Zp7TFvXHce/916/eBhCDInJwDjGBhvjQHi5SclaKRL5Z1Wl/rEq/WNr11TJmkpMw900pLVrplJ1cadFarp0zdZmmpZpf3SqNrUKfSnKgwI2sQPGBmNjAsUOxCW8bGzfe8/+SEAkMfa1A5m075/2+f3O+Z7X595zLkUIwf+T6EdRSWdnp7izs1P8KOqitnqE3n///QMajeYZAPD7/R8fPXr00lbWt2WGTp48qdRoNC/s2bNHXVhYyALA/Py86Pr16wG/3//hq6++GtqKejfdUGdnJ6XT6Q4bDIZWjUaTNLnf76fcbvdlr9d7vqura1MbsKmGTp8+XadWqw/v3bu3UCQS8anKsixLX7t2bT4QCJw/fvy4c7PasCmGTpw4Ia+qqnrRZDIZSkpK2ExiZ2dnRYODg+7R0dE/v/baa4sP25aHNnT27Nkf6HS6QwaD4aF2TLfbzXu93gtHjhz5z8PkydrQqVOnKtVq9Y/q6uqUubm5GY3KRopEIiKn0xkKBAJ/bW9v92WTI2NDnZ2dYoPB8ILRaGwoKyvjsqk0naamphiXyzXgdrs/7OrqSmQSm5GhM2fOHNBoNM/U1dVJKYoSFEgIEcVisWYAkEql/RRFCRpNQgjldDpjfr//42PHjglmlyBDJ0+eVO7evfsndXV1FatMEaJEIqGOx+MHCCFyAKAoalEikVwSi8UBoTnm5+dFTqdzYnx8/C9C2JXS0CpT9Hr9gcrKypTb8HrxPJ+/srJygOf53cn+p2l6XCaTXaJpekloTp/PR3s8nkvp2LWhoXfffbderVYfbmhoKEjHlPVtjcVidSzLNhFCUj67URSVEIlENqlU6gQgKD/LsvTAwMBCIBA4/8orrziS5r3f0IkTJ+Q6ne6IyWQy7NixQ/CCZFm2NB6PP8Hz/HahMQBA0/R3EonkokgkCgqNmZmZEQ8ODrq9Xu/Z+9l1j6EPPvjgKZ1Od6impoYSmpzneVksFtvHcZxBaEwyMQzjlkqlPTRNrwiNGR4eJl6v98JLL73079XfKEIITp06VVlRUfHj+vr6nZkwJR6P6xOJxH5CiCxTA8lEUdSKWCy+KpFIPEJjIpGIyOFw3JyYmDjX3t7uo86dO3fUaDQ2lJeXCzbCcdz2WCz2BM/zpdk1PbVomg5KpdKLDMN8JzRmcnJS5HK5Bhi9Xv9RcXHx7V27dqUd6rtMMcfj8YOEkIKHa3bKeuQsy9bwPC9mGCZEUVTaTWNsbKzQbrc/RXV0dBAAMYVCcfnpp5+eKC4uTmrsfqY8KqVj161bt2SffPJJRTgcbgUgZVpbW3sIIQei0Wij0+ksmZubW9DpdEsUdWdf4Hk+PxqNHmRZtgWA9NFZWZOU4zgdy7LFd0crDgCEEHz66aelX3zxxfcjkUg9gAmapg8zV65c8fX09PwpHo/zhJC22dnZ2oGBARQUFCwVFBTUxOPxQ4QQxf/AyD0ihBSxLFtDCCFerzdy/vz5PcFg8CAhRAqgSy6XP/fmm2+O3LNtd3R0VFEU9R6AgyKRiNfr9fS+ffsgFj+S8420SiQS6Onpgcfj4VmWpQF8SQh5+Z133hldLSNaH/Dss8+GGYYJ3Lhxg9jtdnpoaAiTk5NoampCdXX1IzewXiMjI7DZbJifn4dMJqPNZjNRqVQBjuPC68utjhA1MDDwPIDfASgG7vSGw+HA2NgYAEClUmH//v0oKip6pEbm5uZw9epV3LhxAwCg1WpRX1+/ftbcAvCLhoaGjwAQyuFwGDmOOwOgNVnCcDiMvr4+zM3NQSaTwWg0orm5GTS9tUd6PM+jv78fLpcLKysrKCoqQktLCxSKDZfzZYZhjjFarfYfKpWqmabppAslNzcXWq0WMpkMwWAQU1NTCAQCyM/Px7Zt27bEzMTEBD7//HP4fD5QFIWGhgaYzWbk5uZuGMNxXPHXX39tYkwm07nh4eGZ3Nxcz/bt27+XrDBFUVAoFNBoNIhEIggGg/D5fLh9+zaUSuWmbRqRSAQXL15EX18flpeXoVKp8OSTT0KpVGIVI8nk8/n6uru7xYuLi3WrHDr07bffmvx+f295eTktkUiSwlMsFkOlUqGkpAQzMzMIBoPwer0AAKVS+VBmHA4HvvrqK4RCIeTl5aG1tRU1NTUpO2t5eXn6s88+Gx4fHzcDmKVp+jBFCMEbb7whW1xc/BWAXwJgKysrbS0tLY9TFCXaKBnP8xgaGoLb7QbHcSgtLcW+ffsyNhYKhdDT04NgMAiGYWAwGFBbW5tyjRJC2L6+vis+n68Jd3bqt+Vy+Vuvv/76yoYcysvLi5nNZmm6Bi4sLMBmsyEUCkEsFkOv1+Oxxx5LOw0TiQS++eYbeDweJBIJKJVKNDU1oaAg9SNiKBRCb28vu7y8LEISDt1jqLu7ezuAt0Oh0IsjIyNUPB5HeXk5mpubIZWmfuqZmJiA3W7HysoKCgsLU7LrPqagsbERFRUVKfPHYjH09/djcnISEokE1dXVUCqV/wLQ3tbWNvmAoe7u7ucBnMRdDrEsC6/Xu5bAZDKhqqoq5eJMxy4BTHlAhBCMjo5icHAQqx2s0+kgEq2thiUAvwFwqq2tjaUuXLhQA+CPAL6fLOHCwgJcLhcWFxeFsADAg+yqra0FAAwNDQllygN55HI5jEZjqil5HcBPmerq6r/t2LFjL8MwOclKSaVSlJWVQSKRIBQKwefzIRqNYufOnRsu3GTsmp6eFswUlmVht9ths9mQSCRQVVUFo9EImWzjF2OO4+ROp1NPdXR0JAAsaLVat0ajeXzDCNyZxx6PBzdv3kROTg727t0LtVqdKgTRaBR2ux0A0NjYiJycpP22pkAggGvXrq11ml6vT7t+p6en+10uVykhpIzq6OhoA/AegEqxWOxsamrKl8vllakShMNhDA8Pr1VqNpuRn5+fstJ0WlpaQm9v71pn1dTUpJ2S0Wh02mazTUajUTMAH4CXKUIILBaLDMAqh+iSkpIre/bsaWEYZsN5wfM8/H4/AoEAKIqCwWCAyWRKuWkkEyEEg4ODcLvdIIRArVZDo9Gk5ZDb7b4yNTW1xiEAb1mt1ns5ZLFYqnBntA5SFDVlNBqDu3btak7VoOXlZXg8HoTDYeTn56OlpUUwXEOhEPr6+rC0tASFQgG9Xo+8vLyUMeFweNDhcEg5jqsC8CWAl61Wa3IOrTP2HIDfA9iZk5PT29TUVJ6Tk7MrXeNGRkYghF0bMCWlkUQiMWe324cWFhZaAcwA+LnVav37/eU2PAq2WCyFALoAHAMQLSsrsxkMhpSPQ+nYJYApSeX3+y+PjY3VANgG4AyATqvVOp+sbNrbB4vF0nw3SQPDMKP19fUxhUJhShWTjF0AMmEKAGBxcdFns9mWEolEHYABAMesVmt/qhhB1ykWi4UBcBzAbwHICwoKLjc2NtaKxeINX18JIZicnMTY2Bh4/s6xGk3T0Gq1KC8vT7l5cBwXuX79et/s7OzjAKIAfg3gtNVqTXvBltGFl8ViKQXwBwA/BPCdVqsd1mg0Sd90V7XKLgAZMwXAPwH8zGq1Cj7Iz+qO1WKxZMyudErGFKvV2p1pnqwvjbNhVzKlYko27Xroa/1s2LWqdEzJRpv2JUkm7BLKlGy0qZ/GCGFXJkzJRlvyNVYydkkkktxMmZKNtuzzsvvZBYADEEEGTMlGW/4B4Dp2ARkyJRv9F9vsxWD/43R9AAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAVbSURBVEiJrZZfSFt3FMe/v3tvbmLUZleNKSHE/LGRiNbGRovTtrA9lcFkpcOnMvawwhhjrb3soQ8djGFhXMQNRqEvY3R9kJVuPpRRWQebcdKYxkaHqcHchKJ2rVo1WhNz//z2UOLUadVuv9fvOedzfuec3x9CKcV+1qVLlwgAdHV17cuR7AfU29tb43a73wWAVCr1Q0dHx8T/Curu7i5ubGw843K5ms1mMwBgdXUV6XQ6HI1Gb3Z2dj7/z6C+vr6T1dXVp6xWa+l2+uzs7PLk5OTP7e3tv70S6Pr1647q6uoOt9vtYRjmpcnouo5UKiVPTk72nj17dmpPIEmS+IaGhnaPx3O8tLSU3ahRSotyudzrAGAymf4ghGQ36svLy5osywOxWKxPFMX8jqBbt241ejyed+x2e9nWjPL5fK2iKC2UUiMAEELWDAbDEM/z41ttZ2Zmnsmy/OPp06ejm0DXrl2rqK2tPeNyuQ7zPL9pi5qmVaytrZ3Qdf3gdiVhGOYvo9H4O8uyc1sSI+l0enR8fPzmuXPn5sjt27ff8nq9bwiCYNpSJsPa2lqzqqr1AF7eJEDnOG7MaDSGCSHKRmFhYSGXTCZ/Zd1u93dOp3NJEAS9ICqK4snlcm/puu4EQHaBAADRdf2gqqo1hJBllmUXCsLjx4+L7t69e4Ztamqaffjw4QepVOr5oUOHDKqqvqkoShAAvwfA1sVrmlataVqlqqqzvb29lnA43KwoymeEUoqenp7XdF3vW11dPX7s2DHi9XpfgfHPSiaTuHfvHjWbzQMMw7SfP39+kUSj0ZOU0qsA/EtLSwiHwygpKUFraysOHDiwL0Amk8Hg4CBWVlbQ3NwMi8UCAHFCyIesw+H43uFwuAwGg9lkMsHj8SCfzyMUCkFRFNhsNux2YDVNQzQaRSgUgsvlwtGjR2EyvZitbDbL9Pf3H2YDgcD8xMREk67rCZvN5iSEkLKyMrjdbsiyjJGREVgslh13NzU1hf7+fui6jra2NlitVhBCQCmlo6OjoYGBASWbzX5BKKW4cuWKhRDyk67rJ4LBIFNRUbEeaHZ2FpFIBDabDS0tLSgqKipkiqGhITx58gTBYBBWq3XdZ25uDpFIhLIsO8jzfPuFCxeekTt37rQCuAqgfmVlBfF4HOXl5Thy5Ah4/sXgUUoRj8chyzIaGhoAALFYDB6PB36/H4S8OAH5fB4PHjzA/Pw8/H4/SkpKACAB4CPW6/XeqKysrOI4rpjnedjtdmSzWUSjURgMBgiCAEIIrFYrHA4HxsfHsbi4iNbWVtjt9nWILMsYGhpCeXk5ampqYDQaC3AyPDxcSy5evPg2IaTL6XTO+3y+NkIIAwCKoiCRSEBVVTQ1Ne3Yo0wmg+HhYXAcB5/PB4PBUJBoMpkclGW5lFJ6mVBKIYpiMYDLHMedCgQCnCAI/oL1wsICEokEHA4H6uvr1ydQ13WMjY1hamoKPp8PgiBshE/ev38/oyjKLwA+lyTp+abbWxTFOgDfCIKAQCAQ4DiutNCjdDqNp0+fIhAIAABGRkZQWVkJl8u1Xj5N01Zjsdjw3NwcBfCxJEl/FmL/6z0SRZEAeJ8QIvp8vsWqqqqWgpbL5RCPxwEAfr9//awAwPT0dDgejxfput4D4FtJkjYF3vGFFUWxHMCXRqPxcDAYtBYXF1dtZ5fNZmcikcijbDY7DuBTSZLmt7Pb9c8gimIbIeQrm82Wqaura2EYxggAlFI1Ho8PTk9PmymlnZIkhV4WZ0+/IFEUOQCdDMO8V19fn2NZ1hCLxaimaTcAdEuSpO4WY1//OlEUnQC+BkABfCJJ0qO9+v4NmO9xnZob3WcAAAAASUVORK5CYII="},function(t,e,n){t.exports=n.p+"a239f00c1c044ecbb6878e0cba0ee8fb.png";
},function(t,e,n){t.exports=n.p+"c0bcb26dadc1d1cecb06ce656ac08591.svg"},function(t,e,n){!function(e,r){t.exports=r(n(316),n(345))}(this,function(t,e){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";t.exports=n(1)["default"],t.exports.DraggableCore=n(9)["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(2),p=r(f),h=n(3),d=r(h),m=n(4),y=r(m),v=n(5),g=n(8),b=n(6),_=n(9),x=r(_),w=n(11),T=r(w),E=function(t){function e(t){i(this,e);var n=a(this,Object.getPrototypeOf(e).call(this,t));return n.onDragStart=function(t,e){(0,T["default"])("Draggable: onDragStart: %j",e);var r=n.props.onStart(t,(0,g.createDraggableData)(n,e));return r!==!1&&void n.setState({dragging:!0,dragged:!0})},n.onDrag=function(t,e){if(!n.state.dragging)return!1;(0,T["default"])("Draggable: onDrag: %j",e);var r=(0,g.createDraggableData)(n,e),o={x:r.x,y:r.y};if(n.props.bounds){var i=o.x,a=o.y;o.x+=n.state.slackX,o.y+=n.state.slackY;var s=(0,g.getBoundPosition)(n,o.x,o.y),l=u(s,2);o.x=l[0],o.y=l[1],o.slackX=n.state.slackX+(i-o.x),o.slackY=n.state.slackY+(a-o.y),r.x=i,r.y=a,r.deltaX=o.x-n.state.x,r.deltaY=o.y-n.state.y}var c=n.props.onDrag(t,r);return c!==!1&&void n.setState(o)},n.onDragStop=function(t,e){if(!n.state.dragging)return!1;var r=n.props.onStop(t,(0,g.createDraggableData)(n,e));if(r===!1)return!1;(0,T["default"])("Draggable: onDragStop: %j",e);var o={dragging:!1,slackX:0,slackY:0},i=Boolean(n.props.position);if(i){var a=n.props.position,s=a.x,l=a.y;o.x=s,o.y=l}n.setState(o)},n.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},n}return s(e,t),c(e,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){"undefined"!=typeof SVGElement&&d["default"].findDOMNode(this)instanceof SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(t){!t.position||this.props.position&&t.position.x===this.props.position.x&&t.position.y===this.props.position.y||this.setState({x:t.position.x,y:t.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var t,e={},n=null,r=Boolean(this.props.position),i=!r||this.state.dragging,a=this.props.position||this.props.defaultPosition,s={x:(0,g.canDragX)(this)&&i?this.state.x:a.x,y:(0,g.canDragY)(this)&&i?this.state.y:a.y};this.state.isElementSVG?n=(0,v.createSVGTransform)(s):e=(0,v.createCSSTransform)(s);var u=this.props,c=u.defaultClassName,f=u.defaultClassNameDragging,h=u.defaultClassNameDragged,d=(0,y["default"])(this.props.children.props.className||"",c,(t={},o(t,f,this.state.dragging),o(t,h,this.state.dragged),t));return p["default"].createElement(x["default"],l({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),p["default"].cloneElement(p["default"].Children.only(this.props.children),{className:d,style:l({},this.props.children.props.style,e),transform:n}))}}]),e}(p["default"].Component);E.displayName="Draggable",E.propTypes=l({},x["default"].propTypes,{axis:f.PropTypes.oneOf(["both","x","y","none"]),bounds:f.PropTypes.oneOfType([f.PropTypes.shape({left:f.PropTypes.number,right:f.PropTypes.number,top:f.PropTypes.number,bottom:f.PropTypes.number}),f.PropTypes.string,f.PropTypes.oneOf([!1])]),defaultClassName:f.PropTypes.string,defaultClassNameDragging:f.PropTypes.string,defaultClassNameDragged:f.PropTypes.string,defaultPosition:f.PropTypes.shape({x:f.PropTypes.number,y:f.PropTypes.number}),position:f.PropTypes.shape({x:f.PropTypes.number,y:f.PropTypes.number}),className:b.dontSetMe,style:b.dontSetMe,transform:b.dontSetMe}),E.defaultProps=l({},x["default"].defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null}),e["default"]=E},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){var r,o;/*!
		  Copyright (c) 2016 Jed Watson.
		  Licensed under the MIT License (MIT), see
		  http://jedwatson.github.io/classnames
		*/
!function(){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r))t.push(n.apply(null,r));else if("object"===o)for(var a in r)i.call(r,a)&&r[a]&&t.push(a)}}return t.join(" ")}var i={}.hasOwnProperty;"undefined"!=typeof t&&t.exports?t.exports=n:(r=[],o=function(){return n}.apply(e,r),!(void 0!==o&&(t.exports=o)))}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){return C||(C=(0,w.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(e){return(0,w.isFunction)(t[e])})),t[C].call(t,e)}function a(t,e,n){var r=t;do{if(i(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function s(t,e,n){t&&(t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener?t.addEventListener(e,n,!0):t["on"+e]=n)}function l(t,e,n){t&&(t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener?t.removeEventListener(e,n,!0):t["on"+e]=null)}function u(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,w["int"])(n.borderTopWidth),e+=(0,w["int"])(n.borderBottomWidth)}function c(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,w["int"])(n.borderLeftWidth),e+=(0,w["int"])(n.borderRightWidth)}function f(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,w["int"])(n.paddingTop),e-=(0,w["int"])(n.paddingBottom)}function p(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,w["int"])(n.paddingLeft),e-=(0,w["int"])(n.paddingRight)}function h(t,e){var n=e===e.ownerDocument.body,r=n?{left:0,top:0}:e.getBoundingClientRect(),o=t.clientX+e.scrollLeft-r.left,i=t.clientY+e.scrollTop-r.top;return{x:o,y:i}}function d(t){var e=t.x,n=t.y;return o({},(0,T.browserPrefixToKey)("transform",E["default"]),"translate("+e+"px,"+n+"px)")}function m(t){var e=t.x,n=t.y;return"translate("+e+","+n+")"}function y(t,e){return t.targetTouches&&(0,w.findInArray)(t.targetTouches,function(t){return e===t.identifier})||t.changedTouches&&(0,w.findInArray)(t.changedTouches,function(t){return e===t.identifier})}function v(t){return t.targetTouches&&t.targetTouches[0]?t.targetTouches[0].identifier:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0].identifier:void 0}function g(t){var e=t.getAttribute("style")||"";t.setAttribute("style",e+P)}function b(t){var e=t.getAttribute("style")||"";t.setAttribute("style",e.replace(P,""))}function _(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return x({touchAction:"none"},t)}Object.defineProperty(e,"__esModule",{value:!0});var x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.matchesSelector=i,e.matchesSelectorAndParentsTo=a,e.addEvent=s,e.removeEvent=l,e.outerHeight=u,e.outerWidth=c,e.innerHeight=f,e.innerWidth=p,e.offsetXYFromParent=h,e.createCSSTransform=d,e.createSVGTransform=m,e.getTouch=y,e.getTouchIdentifier=v,e.addUserSelectStyles=g,e.removeUserSelectStyles=b,e.styleHacks=_;var w=n(6),T=n(7),E=r(T),C="",k=(0,T.getPrefix)("user-select"),S=(0,T.browserPrefixToStyle)("user-select",k),P=";"+S+": none;"},function(t,e){"use strict";function n(t,e){for(var n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function r(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)}function o(t){return"number"==typeof t&&!isNaN(t)}function i(t){return parseInt(t,10)}function a(t,e,n){if(t[e])return new Error("Invalid prop "+e+" passed to "+n+" - do not set this, set it on the child.")}Object.defineProperty(e,"__esModule",{value:!0}),e.findInArray=n,e.isFunction=r,e.isNum=o,e["int"]=i,e.dontSetMe=a},function(t,e){"use strict";function n(){var t=arguments.length<=0||void 0===arguments[0]?"transform":arguments[0];if("undefined"==typeof window||"undefined"==typeof window.document)return"";var e=window.document.documentElement.style;if(t in e)return"";for(var n=0;n<a.length;n++)if(r(t,a[n])in e)return a[n];return""}function r(t,e){return e?""+e+i(t):t}function o(t,e){return e?"-"+e.toLowerCase()+"-"+t:t}function i(t){for(var e="",n=!0,r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):"-"===t[r]?n=!0:e+=t[r];return e}Object.defineProperty(e,"__esModule",{value:!0}),e.getPrefix=n,e.browserPrefixToKey=r,e.browserPrefixToStyle=o;var a=["Moz","Webkit","O","ms"];e["default"]=n()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){if(!t.props.bounds)return[e,n];var r=t.props.bounds;r="string"==typeof r?r:f(r);var o=d["default"].findDOMNode(t);if("string"==typeof r){var i=o.ownerDocument,a=i.defaultView,s=void 0;if("parent"===r)s=o.parentNode;else if(s=i.querySelector(r),!s)throw new Error('Bounds selector "'+r+'" could not find an element.');var l=a.getComputedStyle(o),u=a.getComputedStyle(s);r={left:-o.offsetLeft+(0,p["int"])(u.paddingLeft)+(0,p["int"])(l.borderLeftWidth)+(0,p["int"])(l.marginLeft),top:-o.offsetTop+(0,p["int"])(u.paddingTop)+(0,p["int"])(l.borderTopWidth)+(0,p["int"])(l.marginTop),right:(0,m.innerWidth)(s)-(0,m.outerWidth)(o)-o.offsetLeft,bottom:(0,m.innerHeight)(s)-(0,m.outerHeight)(o)-o.offsetTop}}return(0,p.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,p.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,p.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,p.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function i(t,e,n){var r=Math.round(e/t[0])*t[0],o=Math.round(n/t[1])*t[1];return[r,o]}function a(t){return"both"===t.props.axis||"x"===t.props.axis}function s(t){return"both"===t.props.axis||"y"===t.props.axis}function l(t,e,n){var r="number"==typeof e?(0,m.getTouch)(t,e):null;if("number"==typeof e&&!r)return null;var o=d["default"].findDOMNode(n),i=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,m.offsetXYFromParent)(r||t,i)}function u(t,e,n){var r=t._pendingState||t.state,o=!(0,p.isNum)(r.lastX);return o?{node:d["default"].findDOMNode(t),deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:d["default"].findDOMNode(t),deltaX:e-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:e,y:n}}function c(t,e){return{node:e.node,x:t.state.x+e.deltaX,y:t.state.y+e.deltaY,deltaX:e.deltaX,deltaY:e.deltaY,lastX:t.state.x,lastY:t.state.y}}function f(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}Object.defineProperty(e,"__esModule",{value:!0}),e.getBoundPosition=o,e.snapToGrid=i,e.canDragX=a,e.canDragY=s,e.getControlPosition=l,e.createCoreData=u,e.createDraggableData=c;var p=n(6),h=n(3),d=r(h),m=n(5)},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(2),c=r(u),f=n(3),p=r(f),h=n(5),d=n(8),m=n(6),y=n(11),v=r(y),g={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},b=g.mouse,_=function(t){function e(){var t,n,r,a;o(this,e);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=r=i(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},r.handleDragStart=function(t){if(r.props.onMouseDown(t),!r.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var e=p["default"].findDOMNode(r),n=e.ownerDocument;if(!(r.props.disabled||!(t.target instanceof n.defaultView.Node)||r.props.handle&&!(0,h.matchesSelectorAndParentsTo)(t.target,r.props.handle,e)||r.props.cancel&&(0,h.matchesSelectorAndParentsTo)(t.target,r.props.cancel,e))){var o=(0,h.getTouchIdentifier)(t);r.setState({touchIdentifier:o});var i=(0,d.getControlPosition)(t,o,r);if(null!=i){var a=i.x,s=i.y,l=(0,d.createCoreData)(r,a,s);(0,v["default"])("DraggableCore: handleDragStart: %j",l),(0,v["default"])("calling",r.props.onStart);var u=r.props.onStart(t,l);u!==!1&&(r.props.enableUserSelectHack&&(0,h.addUserSelectStyles)(n.body),r.setState({dragging:!0,lastX:a,lastY:s}),(0,h.addEvent)(n,b.move,r.handleDrag),(0,h.addEvent)(n,b.stop,r.handleDragStop))}}},r.handleDrag=function(t){var e=(0,d.getControlPosition)(t,r.state.touchIdentifier,r);if(null!=e){var n=e.x,o=e.y;if(Array.isArray(r.props.grid)){var i=n-r.state.lastX,a=o-r.state.lastY,l=(0,d.snapToGrid)(r.props.grid,i,a),u=s(l,2);if(i=u[0],a=u[1],!i&&!a)return;n=r.state.lastX+i,o=r.state.lastY+a}var c=(0,d.createCoreData)(r,n,o);(0,v["default"])("DraggableCore: handleDrag: %j",c);var f=r.props.onDrag(t,c);if(f!==!1)r.setState({lastX:n,lastY:o});else try{r.handleDragStop(new MouseEvent("mouseup"))}catch(p){var h=document.createEvent("MouseEvents");h.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(h)}}},r.handleDragStop=function(t){if(r.state.dragging){var e=(0,d.getControlPosition)(t,r.state.touchIdentifier,r);if(null!=e){var n=e.x,o=e.y,i=(0,d.createCoreData)(r,n,o),a=p["default"].findDOMNode(r),s=a.ownerDocument;r.props.enableUserSelectHack&&(0,h.removeUserSelectStyles)(s.body),(0,v["default"])("DraggableCore: handleDragStop: %j",i),r.setState({dragging:!1,lastX:NaN,lastY:NaN}),r.props.onStop(t,i),(0,v["default"])("DraggableCore: Removing handlers"),(0,h.removeEvent)(s,b.move,r.handleDrag),(0,h.removeEvent)(s,b.stop,r.handleDragStop)}}},r.onMouseDown=function(t){return b=g.mouse,r.handleDragStart(t)},r.onMouseUp=function(t){return b=g.mouse,r.handleDragStop(t)},r.onTouchStart=function(t){return b=g.touch,r.handleDragStart(t)},r.onTouchEnd=function(t){return b=g.touch,r.handleDragStop(t)},a=n,i(r,a)}return a(e,t),l(e,[{key:"componentWillUnmount",value:function(){var t=p["default"].findDOMNode(this),e=t.ownerDocument;(0,h.removeEvent)(e,g.mouse.move,this.handleDrag),(0,h.removeEvent)(e,g.touch.move,this.handleDrag),(0,h.removeEvent)(e,g.mouse.stop,this.handleDragStop),(0,h.removeEvent)(e,g.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&(0,h.removeUserSelectStyles)(e.body)}},{key:"render",value:function(){return c["default"].cloneElement(c["default"].Children.only(this.props.children),{style:(0,h.styleHacks)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),e}(c["default"].Component);_.displayName="DraggableCore",_.propTypes={allowAnyClick:u.PropTypes.bool,disabled:u.PropTypes.bool,enableUserSelectHack:u.PropTypes.bool,offsetParent:function(e,n){if(t.browser&&e[n]&&1!==e[n].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:u.PropTypes.arrayOf(u.PropTypes.number),handle:u.PropTypes.string,cancel:u.PropTypes.string,onStart:u.PropTypes.func,onDrag:u.PropTypes.func,onStop:u.PropTypes.func,onMouseDown:u.PropTypes.func,className:m.dontSetMe,style:m.dontSetMe,transform:m.dontSetMe},_.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}},e["default"]=_}).call(e,n(10))},function(t,e){function n(){f&&u&&(f=!1,u.length?c=u.concat(c):p=-1,c.length&&r())}function r(){if(!f){var t=a(n);f=!0;for(var e=c.length;e;){for(u=c,c=[];++p<e;)u&&u[p].run();p=-1,e=c.length}u=null,f=!1,s(t)}}function o(t,e){this.fun=t,this.array=e}function i(){}var a,s,l=t.exports={};!function(){try{a=setTimeout}catch(t){a=function(){throw new Error("setTimeout is not defined")}}try{s=clearTimeout}catch(t){s=function(){throw new Error("clearTimeout is not defined")}}}();var u,c=[],f=!1,p=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new o(t,e)),1!==c.length||f||a(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=i,l.addListener=i,l.once=i,l.off=i,l.removeListener=i,l.removeAllListeners=i,l.emit=i,l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(t,e,n){"use strict";function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r}])})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){function r(e){if(!e)return!1;if((0,c["default"])(e)){if(""!==e.trim())throw Error("Text is not a valid child of "+(0,a["default"])(t.constructor));return!1}var r=(0,a["default"])(e.type);if("Component"===r)throw Error("Can't get name for child of "+(0,a["default"])(t.constructor));if(!n||(0,l["default"])(n,r))return!0;throw Error(r+" cannot be a child of "+(0,a["default"])(t.constructor))}return e&&0!==e.length?(0,p["default"])(e)?(e=(0,d["default"])(e,r),0===e.length?null:1===e.length?e[0]:e):r(e)?e:null:null}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var i=n(762),a=r(i),s=n(763),l=r(s),u=n(764),c=r(u),f=n(630),p=r(f),h=n(768),d=r(h)},function(t,e){"use strict";e.__esModule=!0;var n=function(t){return t.displayName||t.name||("string"==typeof t?t:"Component")};e["default"]=n},function(t,e,n){function r(t,e,n,r){t=i(t)?t:l(t),n=n&&!r?s(n):0;var c=t.length;return n<0&&(n=u(c+n,0)),a(t)?n<=c&&t.indexOf(e,n)>-1:!!c&&o(t,e,n)>-1}var o=n(640),i=n(705),a=n(764),s=n(650),l=n(765),u=Math.max;t.exports=r},function(t,e,n){function r(t){return"string"==typeof t||!o(t)&&i(t)&&l.call(t)==a}var o=n(630),i=n(306),a="[object String]",s=Object.prototype,l=s.toString;t.exports=r},function(t,e,n){function r(t){return t?o(t,i(t)):[]}var o=n(766),i=n(700);t.exports=r},function(t,e,n){function r(t,e){return o(e,function(e){return t[e]})}var o=n(767);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}t.exports=n},function(t,e,n){function r(t,e){var n=s(t)?o:i;return n(t,a(e,3))}var o=n(769),i=n(770),a=n(727),s=n(630);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t?t.length:0,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}t.exports=n},function(t,e,n){function r(t,e){var n=[];return o(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}var o=n(722);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(654),l=r(s),u=n(584),c=r(u),f=a["default"].createClass({displayName:"TabPane",mixins:[c["default"]],propTypes:{title:a["default"].PropTypes.string,active:a["default"].PropTypes.bool,children:a["default"].PropTypes.element,className:a["default"].PropTypes.string},icon:function(){if(this.child.icon)return this.child.icon();var t=a["default"].Children.only(this.props.children);return t.props.icon?t.props.icon:null},title:function(){if(this.child.title)return this.child.title();var t=a["default"].Children.only(this.props.children);return t.props.title?t.props.title:"Untitled"},render:function(){var t=this,e=Object.assign({},this.props);delete e.active,delete e.compId;var n={"tab-pane":!0,active:this.props.active};return a["default"].createElement("div",o({},e,{className:(0,l["default"])(this.props.className,n)}),a["default"].cloneElement(this.props.children,{ref:function(e){return t.child=e}}))}});t.exports=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(653),l=r(s),u=n(584),c=r(u),f=a["default"].createClass({displayName:"Popups",mixins:[c["default"]],propTypes:{children:a["default"].PropTypes.node},renderPopup:function(t){return t},render:function(){return a["default"].createElement("div",o({},this.props,{className:"popups"}),l["default"].map(this.props.children,this.renderPopup,this))}});t.exports=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(574),l=r(s),u=n(774),c=r(u),f=n(760),p=r(f),h=n(775);n(779);var d=n(584),m=r(d),y=n(582),v=r(y),g=n(590),b=r(g),_=n(750),x=r(_),w=n(655),T=r(w),E=a["default"].createClass({displayName:"Popup",mixins:[m["default"],v["default"],(0,b["default"])("SessionStore")],propTypes:{className:a["default"].PropTypes.string,style:a["default"].PropTypes.object,initialPosition:c["default"].shape({x:a["default"].PropTypes.number,y:a["default"].PropTypes.number}),initialSize:c["default"].shape({width:a["default"].PropTypes.number,height:a["default"].PropTypes.number}),onMoveStop:a["default"].PropTypes.func,onResizeStop:a["default"].PropTypes.func,onClose:a["default"].PropTypes.func,onMaximise:a["default"].PropTypes.func,onClick:a["default"].PropTypes.func,children:a["default"].PropTypes.element,cascadePositionOffset:c["default"].shape({x:a["default"].PropTypes.number,y:a["default"].PropTypes.number})},getDefaultProps:function(){return{initialPosition:l["default"].Map({x:100,y:100}),initialSize:l["default"].Map({width:700,height:500}),cascadePositionOffset:l["default"].Map({x:20,y:20})}},getInitialState:function(){return{position:this.props.initialPosition,size:this.props.initialSize,icon:null,title:null}},getStateFromFlux:function(){return{numberOfPopups:this.getFlux().store("SessionStore").getState().get("popups").getIn(["components"]).size}},setPosition:function(){var t=this.props.initialPosition.toJS(),e=this.props.initialSize.toJS(),n=this.props.cascadePositionOffset.toJS(),r=Math.floor((window.innerHeight-t.y-e.height)/n.y),o=Math.floor((window.innerWidth-t.x-e.width)/n.x),i=(this.state.numberOfPopups-1)%Math.min(r,o),a=t.x+i*n.x,s=t.y+i*n.y;this.setState({position:l["default"].Map({x:a,y:s})}),this.props.onMoveStop&&this.props.onMoveStop({x:a,y:s})},componentWillMount:function(){this.setPosition(),this.props.onMoveStop&&this.props.onMoveStop({x:this.state.position.get("x"),y:this.state.position.get("y")}),this.props.onResizeStop&&this.props.onResizeStop({width:this.state.size.get("width"),height:this.state.size.get("height")})},componentDidMount:function(){this.componentDidUpdate()},componentWillReceiveProps:function(t){(0,T["default"])(t.initialPosition,this.props.initialPosition)||this.setState({position:t.initialPosition}),(0,T["default"])(t.initialSize,this.props.initialSize)||this.setState({size:t.initialSize})},componentDidUpdate:function(){var t=this.refs.child;t&&(t.icon?this.setState({icon:t.icon()}):null,t.title?this.setState({title:t.title()}):null)},handleResize:function(t,e){var n=(e.element,e.size);this.setState(function(t){return{size:t.size.merge(n)}})},handleResizeStop:function(t,e){var n=(e.element,e.size);this.props.onResizeStop&&this.props.onResizeStop(n)},handleMoveStop:function(t,e){var n=e.x,r=e.y;this.props.onMoveStop&&this.props.onMoveStop({x:n,y:r})},handleClose:function(t){this.props.onClose&&(t.preventDefault(),t.stopPropagation(),this.props.onClose())},handleMaximise:function(t){this.props.onMaximise&&(t.preventDefault(),t.stopPropagation(),this.props.onMaximise())},handleClick:function(t){this.props.onClick&&this.props.onClick(t)},render:function(){var t=this.props,e=t.children,n=t.className,r=t.style,i=this.state,s=i.icon,l=i.title,u=i.position,c=i.size;return e?a["default"].createElement(p["default"],{handle:".popup-drag",defaultPosition:u.toObject(),onStart:this.handleClick,onStop:this.handleMoveStop},a["default"].createElement(h.Resizable,{width:c.get("width"),height:c.get("height"),minConstraints:[50,50],handleSize:[20,20],onResize:this.handleResize,onResizeStop:this.handleResizeStop},a["default"].createElement("div",{className:"popup "+n,style:o({},r,c.toObject())},a["default"].createElement("div",{className:"popup-header"},s?a["default"].createElement(x["default"],{name:s}):null,a["default"].createElement("div",{className:"title"},l),a["default"].createElement(x["default"],{className:"pointer close",name:"folder-o",onClick:this.handleMaximise}),a["default"].createElement(x["default"],{className:"pointer close",name:"close",onClick:this.handleClose})),a["default"].createElement("div",{className:"popup-body"},a["default"].cloneElement(e,{ref:"child"})),a["default"].createElement("div",{className:"popup-drag"})))):null}});t.exports=E},function(t,e,n){"use strict";function r(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":t instanceof _.Iterable?"Immutable."+t.toSource().split(" ")[0]:e}function o(t){function e(e,n,r,o,i,a){for(var s=arguments.length,l=Array(s>6?s-6:0),u=6;u<s;u++)l[u-6]=arguments[u];if(a=a||r,o=o||x,null!=n[r])return t.apply(void 0,[n,r,o,i,a].concat(l));var c=i;return e?new Error("Required "+c+" `"+a+"` was not specified in "+("`"+o+"`.")):void 0}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function i(t,e){function n(n,o,i,a,s){var l=n[o];if(!e(l)){var u=r(l);return new Error("Invalid "+a+" `"+s+"` of type `"+u+"` "+("supplied to `"+i+"`, expected `"+t+"`."))}return null}return o(n)}function a(t,e,n){function i(o,i,a,s,l){for(var u=arguments.length,c=Array(u>5?u-5:0),f=5;f<u;f++)c[f-5]=arguments[f];var p=o[i];if(!n(p)){var h=s,d=r(p);return new Error("Invalid "+h+" `"+l+"` of type "+("`"+d+"` supplied to `"+a+"`, expected an Immutable.js "+e+"."))}if("function"!=typeof t)return new Error("Invalid typeChecker supplied to `"+a+"` "+("for propType `"+l+"`, expected a function."));for(var m=p.toArray(),y=0,v=m.length;y<v;y++){var g=t.apply(void 0,[m,y,a,s,""+l+"["+y+"]"].concat(c));if(g instanceof Error)return g}}return o(i)}function s(t){function e(e,n,r,o,i){for(var a=arguments.length,s=Array(a>5?a-5:0),l=5;l<a;l++)s[l-5]=arguments[l];var u=e[n];if("function"!=typeof t)return new Error("Invalid keysTypeChecker (optional second argument) supplied to `"+r+"` "+("for propType `"+i+"`, expected a function."));for(var c=u.keySeq().toArray(),f=0,p=c.length;f<p;f++){var h=t.apply(void 0,[c,f,r,o,""+i+" -> key("+c[f]+")"].concat(s));if(h instanceof Error)return h}}return o(e)}function l(t){return a(t,"List",_.List.isList)}function u(t,e,n,r){function i(){for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a(t,n,r).apply(void 0,i)||e&&s(e).apply(void 0,i)}return o(i)}function c(t,e){return u(t,e,"Map",_.Map.isMap)}function f(t,e){return u(t,e,"OrderedMap",_.OrderedMap.isOrderedMap)}function p(t){return a(t,"Set",_.Set.isSet)}function h(t){return a(t,"OrderedSet",_.OrderedSet.isOrderedSet)}function d(t){return a(t,"Stack",_.Stack.isStack)}function m(t){return a(t,"Iterable",_.Iterable.isIterable)}function y(t){function e(e,n,o,i,a){for(var s=arguments.length,l=Array(s>5?s-5:0),u=5;u<s;u++)l[u-5]=arguments[u];var c=e[n];if(!(c instanceof _.Record)){var f=r(c),p=i;return new Error("Invalid "+p+" `"+a+"` of type `"+f+"` "+("supplied to `"+o+"`, expected an Immutable.js Record."))}for(var h in t){var d=t[h];if(d){var m=c.toObject(),y=d.apply(void 0,[m,h,o,i,""+a+"."+h].concat(l));if(y)return y}}}return o(e)}function v(t){function e(e,o,a,s,l){for(var u=arguments.length,c=Array(u>5?u-5:0),f=5;f<u;f++)c[f-5]=arguments[f];var p=e[o];if(!i(p)){var h=r(p),d=s;return new Error("Invalid "+d+" `"+l+"` of type `"+h+"` "+("supplied to `"+a+"`, expected an Immutable.js "+n+"."))}var m=p.toObject();for(var y in t){var v=t[y];if(v){var g=v.apply(void 0,[m,y,a,s,""+l+"."+y].concat(c));if(g)return g}}}var n=void 0===arguments[1]?"Iterable":arguments[1],i=void 0===arguments[2]?_.Iterable.isIterable:arguments[2];return o(e)}function g(t){return v(t)}function b(t){return v(t,"Map",_.Map.isMap)}var _=n(574),x="<<anonymous>>",w={listOf:l,mapOf:c,orderedMapOf:f,setOf:p,orderedSetOf:h,stackOf:d,iterableOf:m,recordOf:y,shape:g,contains:g,mapContains:b,list:i("List",_.List.isList),map:i("Map",_.Map.isMap),orderedMap:i("OrderedMap",_.OrderedMap.isOrderedMap),set:i("Set",_.Set.isSet),orderedSet:i("OrderedSet",_.OrderedSet.isOrderedSet),stack:i("Stack",_.Stack.isStack),seq:i("Seq",_.Seq.isSeq),record:i("Record",function(t){return t instanceof _.Record}),iterable:i("Iterable",_.Iterable.isIterable)};t.exports=w},function(t,e,n){"use strict";t.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},t.exports.Resizable=n(776)["default"],t.exports.ResizableBox=n(778)["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(316),c=r(u),f=n(760),p=n(777),h=r(p),d=function(t){function e(){var n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,t.call.apply(t,[this].concat(l))),r.state={resizing:!1,width:r.props.width,height:r.props.height,slackW:0,slackH:0},o=n,a(r,o)}return s(e,t),e.prototype.componentWillReceiveProps=function(t){this.state.resizing||t.width===this.props.width&&t.height===this.props.height||this.setState({width:t.width,height:t.height})},e.prototype.lockAspectRatio=function(t,e,n){return e=t/n,t=e*n,[t,e]},e.prototype.runConstraints=function(t,e){var n=this.props.minConstraints,r=this.props.maxConstraints;if(this.props.lockAspectRatio){var o=this.state.width/this.state.height;e=t/o,t=e*o}if(!n&&!r)return[t,e];var i=t,a=e,s=this.state,l=s.slackW,u=s.slackH;return t+=l,e+=u,n&&(t=Math.max(n[0],t),e=Math.max(n[1],e)),r&&(t=Math.min(r[0],t),e=Math.min(r[1],e)),l+=i-t,u+=a-e,l===this.state.slackW&&u===this.state.slackH||this.setState({slackW:l,slackH:u}),[t,e]},e.prototype.resizeHandler=function(t){var e=this;return function(n,r){var o=r.node,i=r.deltaX,a=r.deltaY,s=e.state.width+i,l=e.state.height+a,u=s!==e.state.width,c=l!==e.state.height;if("onResize"!==t||u||c){var f=e.runConstraints(s,l);s=f[0],l=f[1];var p={};if("onResizeStart"===t)p.resizing=!0;else if("onResizeStop"===t)p.resizing=!1,p.slackW=p.slackH=0;else{if(s===e.state.width&&l===e.state.height)return;p.width=s,p.height=l}e.setState(p,function(){e.props[t]&&e.props[t](n,{node:o,size:{width:s,height:l}})})}}},e.prototype.render=function(){var t=this.props,e=t.children,n=t.draggableOpts,r=(t.width,t.height,t.handleSize,t.lockAspectRatio,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,o(t,["children","draggableOpts","width","height","handleSize","lockAspectRatio","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart"])),i=r.className?r.className+" react-resizable":"react-resizable";return(0,h["default"])(e,l({},r,{className:i,children:[e.props.children,c["default"].createElement(f.DraggableCore,l({},n,{key:"resizableHandle",ref:"draggable",onStop:this.resizeHandler("onResizeStop"),onStart:this.resizeHandler("onResizeStart"),onDrag:this.resizeHandler("onResize")}),c["default"].createElement("span",{className:"react-resizable-handle"}))]}))},e}(c["default"].Component);d.propTypes={children:u.PropTypes.element.isRequired,width:u.PropTypes.number.isRequired,height:u.PropTypes.number.isRequired,handleSize:u.PropTypes.array,lockAspectRatio:u.PropTypes.bool,minConstraints:u.PropTypes.arrayOf(u.PropTypes.number),maxConstraints:u.PropTypes.arrayOf(u.PropTypes.number),onResizeStop:u.PropTypes.func,onResizeStart:u.PropTypes.func,onResize:u.PropTypes.func,draggableOpts:u.PropTypes.object},d.defaultProps={handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0]},e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i);t.exports=function(t,e){return e.style&&t.props.style&&(e.style=o({},t.props.style,e.style)),e.className&&t.props.className&&(e.className=t.props.className+" "+e.className),a["default"].cloneElement(t,e)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(316),c=r(u),f=n(776),p=r(f),h=function(t){function e(){var n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,t.call.apply(t,[this].concat(l))),r.state={width:r.props.width,height:r.props.height},r.onResize=function(t,e){var n=e.element,o=e.size;o.width,o.height;r.setState(o,function(){r.props.onResize&&r.props.onResize(t,{element:n,size:o})})},o=n,a(r,o)}return s(e,t),e.prototype.render=function(){var t=this.props,e=t.handleSize,n=(t.onResize,t.onResizeStart),r=t.onResizeStop,i=t.draggableOpts,a=t.minConstraints,s=t.maxConstraints,u=t.lockAspectRatio,f=(t.width,t.height,o(t,["handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","width","height"]));
return c["default"].createElement(p["default"],{handleSize:e,width:this.state.width,height:this.state.height,onResizeStart:n,onResize:this.onResize,onResizeStop:r,draggableOpts:i,minConstraints:a,maxConstraints:s,lockAspectRatio:u},c["default"].createElement("div",l({style:{width:this.state.width+"px",height:this.state.height+"px"}},f)))},e}(c["default"].Component);h.propTypes={height:u.PropTypes.number,width:u.PropTypes.number},h.defaultProps={handleSize:[20,20]},e["default"]=h},function(t,e,n){var r=n(780);"string"==typeof r&&(r=[[t.id,r,""]]);n(782)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(781)(),e.push([t.id,".react-resizable{position:relative}.react-resizable-handle{position:absolute;width:20px;height:20px;bottom:0;right:0;background:url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pg08IS0tIEdlbmVyYXRvcjogQWRvYmUgRmlyZXdvcmtzIENTNiwgRXhwb3J0IFNWRyBFeHRlbnNpb24gYnkgQWFyb24gQmVhbGwgKGh0dHA6Ly9maXJld29ya3MuYWJlYWxsLmNvbSkgLiBWZXJzaW9uOiAwLjYuMSAgLS0+DTwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DTxzdmcgaWQ9IlVudGl0bGVkLVBhZ2UlMjAxIiB2aWV3Qm94PSIwIDAgNiA2IiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjojZmZmZmZmMDAiIHZlcnNpb249IjEuMSINCXhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiDQl4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjZweCIgaGVpZ2h0PSI2cHgiDT4NCTxnIG9wYWNpdHk9IjAuMzAyIj4NCQk8cGF0aCBkPSJNIDYgNiBMIDAgNiBMIDAgNC4yIEwgNCA0LjIgTCA0LjIgNC4yIEwgNC4yIDAgTCA2IDAgTCA2IDYgTCA2IDYgWiIgZmlsbD0iIzAwMDAwMCIvPg0JPC9nPg08L3N2Zz4=');background-position:100% 100%;padding:0 3px 3px 0;background-repeat:no-repeat;background-origin:content-box;box-sizing:border-box;cursor:se-resize}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=h[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(u(r.parts[i],e))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(u(r.parts[i],e));h[r.id]={id:r.id,refs:1,parts:a}}}}function o(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r],i=o[0],a=o[1],s=o[2],l=o[3],u={css:a,media:s,sourceMap:l};n[i]?n[i].parts.push(u):e.push(n[i]={id:i,parts:[u]})}return e}function i(t,e){var n=y(),r=b[b.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function l(t){var e=document.createElement("link");return e.rel="stylesheet",i(t,e),e}function u(t,e){var n,r,o;if(e.singleton){var i=g++;n=v||(v=s(e)),r=c.bind(null,n,i,!1),o=c.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(e),r=p.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=f.bind(null,n),o=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function c(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function f(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var h={},d=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},m=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),y=d(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,g=0,b=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=m()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=o(t);return r(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var s=n[a],l=h[s.id];l.refs--,i.push(l)}if(t){var u=o(t);r(u,e)}for(var a=0;a<i.length;a++){var l=i[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete h[l.id]}}}};var _=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(316),s=r(a),l=n(584),u=r(l),c=n(654),f=r(c),p=n(750),h=r(p),d=n(784),m=s["default"].createClass({displayName:"Modal",mixins:[u["default"]],propTypes:{visible:s["default"].PropTypes.bool,uncloseable:s["default"].PropTypes.bool,onClose:s["default"].PropTypes.func,children:s["default"].PropTypes.element},getDefaultProps:function(){return{onClose:function(){},uncloseable:!1,visible:!0}},getInitialState:function(){return{icon:null,title:null}},componentDidMount:function(){this.componentDidUpdate()},componentDidUpdate:function(){var t=this.refs.child;t&&(t.icon?this.setState({icon:t.icon()}):null,t.title?this.setState({title:t.title()}):null)},handleClose:function(t){this.props.uncloseable||(t.preventDefault(),t.stopPropagation(),this.props.onClose())},handleOverlayClick:function(t){t.target!==this.overlay||this.props.uncloseable||(t.preventDefault(),t.stopPropagation(),this.props.onClose&&this.props.onClose())},render:function(){var t=this,e=this.props,n=e.visible,r=e.uncloseable,a=e.children,l=e.onClose,u=o(e,["visible","uncloseable","children","onClose"]),c=this.state,p=c.icon,m=c.title;if(!a)return null;var y={modal:!0,visible:n},v={handleKonami:"up up down down left right left right b a enter",handleClose:["escape"],handleEnter:["enter"]},g={handleKonami:function(t){console.error("kong.am.i")},handleClose:function(t){r?null:l()},handleEnter:function(e){t.child&&t.child.handleEnter?t.child.handleEnter():null}};return s["default"].createElement(d.HotKeys,{keyMap:v,handlers:g},s["default"].createElement("div",{className:(0,f["default"])(y),ref:function(e){return t.overlay=e},onClick:this.handleOverlayClick},s["default"].createElement("div",i({className:"popup"},u),s["default"].createElement("div",{className:"popup-header"},p?s["default"].createElement(h["default"],{name:p}):null,s["default"].createElement("div",{className:"title"},m),r?null:s["default"].createElement(h["default"],{className:"pointer close",name:"close",onClick:this.handleClose})),s["default"].createElement("div",{className:"popup-body"},s["default"].cloneElement(a,{ref:function(e){return t.child=e}})))))}});t.exports=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(785);Object.defineProperty(e,"HotKeys",{enumerable:!0,get:function(){return r(o)["default"]}});var i=n(786);Object.defineProperty(e,"FocusTrap",{enumerable:!0,get:function(){return r(i)["default"]}});var a=n(787);Object.defineProperty(e,"HotKeyMapMixin",{enumerable:!0,get:function(){return r(a)["default"]}})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){var n=t[e];return n?(0,g["default"])(n)?n:[n]:[e]}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(316),l=r(s),u=n(345),c=r(u),f=n(786),p=r(f),h=n(787),d=r(h),m=n(794),y=r(m),v=n(630),g=r(v),b=n(300),_=r(b),x=n(721),w=r(x),T=n(655),E=r(T),C=l["default"].createClass({displayName:"HotKeys",mixins:[(0,d["default"])()],propTypes:{children:l["default"].PropTypes.node,onFocus:l["default"].PropTypes.func,onBlur:l["default"].PropTypes.func,keyMap:l["default"].PropTypes.object,handlers:l["default"].PropTypes.object,focused:l["default"].PropTypes.bool,attach:l["default"].PropTypes.any},contextTypes:{hotKeyParent:l["default"].PropTypes.any},childContextTypes:{hotKeyParent:l["default"].PropTypes.any},getChildContext:function(){return{hotKeyParent:this}},componentDidMount:function(){var t=n(795);this.__mousetrap__=new t(this.props.attach||c["default"].findDOMNode(this)),this.updateHotKeys(!0)},componentDidUpdate:function(t){this.updateHotKeys(!1,t)},componentWillUnmount:function(){this.context.hotKeyParent&&this.context.hotKeyParent.childHandledSequence(null),this.__mousetrap__&&this.__mousetrap__.reset()},updateHotKeys:function(){var t=this,e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=this.props.handlers,o=void 0===r?{}:r,a=n.handlers,s=void 0===a?o:a;if(e||!(0,E["default"])(o,s)||this.updateMap()){var l=this.getMap(),u=[],c=this.__mousetrap__;(0,w["default"])(o,function(e,n){var r=i(l,n);(0,w["default"])(r,function(n){var r=void 0,o=function(n,r){var o=(0,y["default"])(t.props.focused)?t.props.focused:t.__isFocused__;if(o&&r!==t.__lastChildSequence__)return t.context.hotKeyParent&&t.context.hotKeyParent.childHandledSequence(r),e(n,r)};(0,_["default"])(n)&&(r=n.action,n=n.sequence),u.push({callback:o,action:r,sequence:n})})}),c.reset(),(0,w["default"])(u,function(t){return c.bind(t.sequence,t.callback,t.action)})}},childHandledSequence:function(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];this.__lastChildSequence__=t,this.context.hotKeyParent&&this.context.hotKeyParent.childHandledSequence(t)},onFocus:function(){if(this.__isFocused__=!0,this.props.onFocus){var t;(t=this.props).onFocus.apply(t,arguments)}},onBlur:function(){if(this.__isFocused__=!1,this.props.onBlur){var t;(t=this.props).onBlur.apply(t,arguments)}this.context.hotKeyParent&&this.context.hotKeyParent.childHandledSequence(null)},render:function(){var t=this.props,e=t.children,n=(t.keyMap,t.handlers,t.focused,t.attach,o(t,["children","keyMap","handlers","focused","attach"]));return l["default"].createElement(p["default"],a({},n,{onFocus:this.onFocus,onBlur:this.onBlur}),e)}});e["default"]=C},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(316),s=r(a),l=s["default"].createClass({displayName:"FocusTrap",propTypes:{onFocus:s["default"].PropTypes.func,onBlur:s["default"].PropTypes.func,component:s["default"].PropTypes.any,children:s["default"].PropTypes.node},getDefaultProps:function(){return{component:"div"}},render:function(){var t=this.props,e=t.component,n=t.children,r=o(t,["component","children"]);return s["default"].createElement(e,i({tabIndex:"-1"},r),n)}});e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{contextTypes:{hotKeyMap:a["default"].PropTypes.object},childContextTypes:{hotKeyMap:a["default"].PropTypes.object},getChildContext:function(){return{hotKeyMap:this.__hotKeyMap__}},componentWillMount:function(){this.updateMap()},updateMap:function(){var t=this.buildMap();return!(0,c["default"])(t,this.__hotKeyMap__)&&(this.__hotKeyMap__=t,!0)},buildMap:function(){var e=this.context.hotKeyMap||{},n=this.props.keyMap||{};return(0,l["default"])({},e,t,n)},getMap:function(){return this.__hotKeyMap__}}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var i=n(316),a=r(i),s=n(788),l=r(s),u=n(655),c=r(u)},function(t,e,n){var r=n(789),o=n(791),i=n(792),a=n(705),s=n(708),l=n(700),u=Object.prototype,c=u.hasOwnProperty,f=i(function(t,e){if(s(e)||a(e))return void o(e,l(e),t);for(var n in e)c.call(e,n)&&r(t,n,e[n])});t.exports=f},function(t,e,n){function r(t,e,n){var r=t[e];s.call(t,e)&&i(r,n)&&(void 0!==n||e in t)||o(t,e,n)}var o=n(790),i=n(663),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e){function n(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var r=Object.defineProperty;t.exports=n},function(t,e,n){function r(t,e,n,r){var a=!n;n||(n={});for(var s=-1,l=e.length;++s<l;){var u=e[s],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),a?i(n,u,c):o(n,u,c)}return n}var o=n(789),i=n(790);t.exports=r},function(t,e,n){function r(t){return o(function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var l=n[r];l&&t(e,l,r,a)}return e})}var o=n(592),i=n(793);t.exports=r},function(t,e,n){function r(t,e,n){if(!s(n))return!1;var r=typeof e;return!!("number"==r?i(n)&&a(e,n.length):"string"==r&&e in n)&&o(n[e],t)}var o=n(663),i=n(705),a=n(646),s=n(300);t.exports=r},function(t,e,n){function r(t){return t===!0||t===!1||o(t)&&s.call(t)==i}var o=n(306),i="[object Boolean]",a=Object.prototype,s=a.toString;t.exports=r},function(t,e,n){var r;!function(o,i,a){function s(t,e,n){return t.addEventListener?void t.addEventListener(e,n,!1):void t.attachEvent("on"+e,n)}function l(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return x[t.which]?x[t.which]:w[t.which]?w[t.which]:String.fromCharCode(t.which).toLowerCase()}function u(t,e){return t.sort().join(",")===e.sort().join(",")}function c(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function f(t){return t.preventDefault?void t.preventDefault():void(t.returnValue=!1)}function p(t){return t.stopPropagation?void t.stopPropagation():void(t.cancelBubble=!0)}function h(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function d(){if(!_){_={};for(var t in x)t>95&&t<112||x.hasOwnProperty(t)&&(_[x[t]]=t)}return _}function m(t,e,n){return n||(n=d()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function y(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus"),t.split("+"))}function v(t,e){var n,r,o,i=[];for(n=y(t),o=0;o<n.length;++o)r=n[o],E[r]&&(r=E[r]),e&&"keypress"!=e&&T[r]&&(r=T[r],i.push("shift")),h(r)&&i.push(r);return e=m(r,i,e),{key:r,modifiers:i,action:e}}function g(t,e){return null!==t&&t!==i&&(t===e||g(t.parentNode,e))}function b(t){function e(t){t=t||{};var e,n=!1;for(e in _)t[e]?n=!0:_[e]=0;n||(T=!1)}function n(t,e,n,r,o,i){var a,s,l=[],c=n.type;if(!y._callbacks[t])return[];for("keyup"==c&&h(t)&&(e=[t]),a=0;a<y._callbacks[t].length;++a)if(s=y._callbacks[t][a],(r||!s.seq||_[s.seq]==s.level)&&c==s.action&&("keypress"==c&&!n.metaKey&&!n.ctrlKey||u(e,s.modifiers))){var f=!r&&s.combo==o,p=r&&s.seq==r&&s.level==i;(f||p)&&y._callbacks[t].splice(a,1),l.push(s)}return l}function r(t,e,n,r){y.stopCallback(e,e.target||e.srcElement,n,r)||t(e,n)===!1&&(f(e),p(e))}function o(t){"number"!=typeof t.which&&(t.which=t.keyCode);var e=l(t);if(e)return"keyup"==t.type&&x===e?void(x=!1):void y.handleKey(e,c(t),t)}function a(){clearTimeout(g),g=setTimeout(e,1e3)}function d(t,n,o,i){function s(e){return function(){T=e,++_[t],a()}}function u(n){r(o,n,t),"keyup"!==i&&(x=l(n)),setTimeout(e,10)}_[t]=0;for(var c=0;c<n.length;++c){var f=c+1===n.length,p=f?u:s(i||v(n[c+1]).action);m(n[c],p,i,t,c)}}function m(t,e,r,o,i){y._directMap[t+":"+r]=e,t=t.replace(/\s+/g," ");var a,s=t.split(" ");return s.length>1?void d(t,s,e,r):(a=v(t,r),y._callbacks[a.key]=y._callbacks[a.key]||[],n(a.key,a.modifiers,{type:a.action},o,t,i),void y._callbacks[a.key][o?"unshift":"push"]({callback:e,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:t}))}var y=this;if(t=t||i,!(y instanceof b))return new b(t);y.target=t,y._callbacks={},y._directMap={};var g,_={},x=!1,w=!1,T=!1;y._handleKey=function(t,o,i){var a,s=n(t,o,i),l={},u=0,c=!1;for(a=0;a<s.length;++a)s[a].seq&&(u=Math.max(u,s[a].level));for(a=0;a<s.length;++a)if(s[a].seq){if(s[a].level!=u)continue;c=!0,l[s[a].seq]=1,r(s[a].callback,i,s[a].combo,s[a].seq)}else c||r(s[a].callback,i,s[a].combo);var f="keypress"==i.type&&w;i.type!=T||h(t)||f||e(l),w=c&&"keydown"==i.type},y._bindMultiple=function(t,e,n){for(var r=0;r<t.length;++r)m(t[r],e,n)},s(t,"keypress",o),s(t,"keydown",o),s(t,"keyup",o)}if(o){for(var _,x={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},w={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},T={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},E={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},C=1;C<20;++C)x[111+C]="f"+C;for(C=0;C<=9;++C)x[C+96]=C;b.prototype.bind=function(t,e,n){var r=this;return t=t instanceof Array?t:[t],r._bindMultiple.call(r,t,e,n),r},b.prototype.unbind=function(t,e){var n=this;return n.bind.call(n,t,function(){},e)},b.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},b.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},b.prototype.stopCallback=function(t,e){var n=this;return!((" "+e.className+" ").indexOf(" mousetrap ")>-1)&&(!g(e,n.target)&&("INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable))},b.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},b.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(x[e]=t[e]);_=null},b.init=function(){var t=b(i);for(var e in t)"_"!==e.charAt(0)&&(b[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},b.init(),o.Mousetrap=b,"undefined"!=typeof t&&t.exports&&(t.exports=b),r=function(){return b}.call(e,n,e,t),!(r!==a&&(t.exports=r))}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(797),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=e.muiTheme.baseTheme;return{root:{position:"relative",boxSizing:"border-box",overflow:"visible",transition:y["default"].easeOut(),padding:n.spacing.iconSize/2,width:2*n.spacing.iconSize,height:2*n.spacing.iconSize,fontSize:0},tooltip:{boxSizing:"border-box"},overlay:{position:"relative",top:0,width:"100%",height:"100%",background:n.palette.disabledColor},disabled:{color:n.palette.disabledColor,fill:n.palette.disabledColor,cursor:"not-allowed"}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(799),y=r(m),v=n(800),g=r(v),b=n(801),_=r(b),x=n(819),w=r(x),T=n(821),E=r(T),C=n(802),k=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={tooltipShown:!1},r.handleBlur=function(t){r.hideTooltip(),r.props.onBlur&&r.props.onBlur(t)},r.handleFocus=function(t){r.showTooltip(),r.props.onFocus&&r.props.onFocus(t)},r.handleMouseLeave=function(t){r.refs.button.isKeyboardFocused()||r.hideTooltip(),r.props.onMouseLeave&&r.props.onMouseLeave(t)},r.handleMouseOut=function(t){r.props.disabled&&r.hideTooltip(),r.props.onMouseOut&&r.props.onMouseOut(t)},r.handleMouseEnter=function(t){r.showTooltip(),r.props.onMouseEnter&&r.props.onMouseEnter(t)},r.handleKeyboardFocus=function(t,e){e&&!r.props.disabled?(r.showTooltip(),r.props.onFocus&&r.props.onFocus(t)):r.state.hovered||(r.hideTooltip(),r.props.onBlur&&r.props.onBlur(t)),r.props.onKeyboardFocus&&r.props.onKeyboardFocus(t,e)},o=n,a(r,o)}return s(e,t),c(e,[{key:"setKeyboardFocus",value:function(){this.refs.button.setKeyboardFocus()}},{key:"showTooltip",value:function(){this.props.tooltip&&this.setState({tooltipShown:!0})}},{key:"hideTooltip",value:function(){this.props.tooltip&&this.setState({tooltipShown:!1})}},{key:"render",value:function(){var t=this.props,e=t.disabled,n=t.disableTouchRipple,r=t.children,i=t.iconClassName,a=(t.onKeyboardFocus,t.tooltip),s=t.tooltipPosition,c=t.tooltipStyles,f=t.touch,h=t.iconStyle,m=o(t,["disabled","disableTouchRipple","children","iconClassName","onKeyboardFocus","tooltip","tooltipPosition","tooltipStyles","touch","iconStyle"]),y=void 0,v=l(this.props,this.context),g=s.split("-"),b=a?d["default"].createElement(E["default"],{ref:"tooltip",label:a,show:this.state.tooltipShown,touch:f,style:(0,p["default"])(v.tooltip,c),verticalPosition:g[0],horizontalPosition:g[1]}):null;if(i){var x=h.iconHoverColor,T=o(h,["iconHoverColor"]);y=d["default"].createElement(w["default"],{className:i,hoverColor:e?null:x,style:(0,p["default"])({},e&&v.disabled,T),color:this.context.muiTheme.baseTheme.palette.textColor},r)}var k=e?(0,p["default"])({},h,v.disabled):h;return d["default"].createElement(_["default"],u({},m,{ref:"button",centerRipple:!0,disabled:e,style:(0,p["default"])(v.root,this.props.style),disableTouchRipple:n,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onMouseOut:this.handleMouseOut,onKeyboardFocus:this.handleKeyboardFocus}),b,y,(0,C.extendChildren)(r,{style:k}))}}]),e}(h.Component);k.muiName="IconButton",k.propTypes={children:h.PropTypes.node,className:h.PropTypes.string,disableTouchRipple:h.PropTypes.bool,disabled:h.PropTypes.bool,href:h.PropTypes.string,iconClassName:h.PropTypes.string,iconStyle:h.PropTypes.object,onBlur:h.PropTypes.func,onFocus:h.PropTypes.func,onKeyboardFocus:h.PropTypes.func,onMouseEnter:h.PropTypes.func,onMouseLeave:h.PropTypes.func,onMouseOut:h.PropTypes.func,style:h.PropTypes.object,tooltip:h.PropTypes.node,tooltipPosition:g["default"].cornersAndCenter,tooltipStyles:h.PropTypes.object,touch:h.PropTypes.bool},k.defaultProps={disabled:!1,disableTouchRipple:!1,iconStyle:{},tooltipPosition:"bottom-center",touch:!1},k.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=k},function(t,e){t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={easeOutFunction:"cubic-bezier(0.23, 1, 0.32, 1)",easeInOutFunction:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",easeOut:function(t,e,n,r){if(r=r||this.easeOutFunction,e&&"[object Array]"===Object.prototype.toString.call(e)){for(var o="",i=0;i<e.length;i++)o&&(o+=","),o+=this.create(t,e[i],n,r);return o}return this.create(t,e,n,r)},create:function(t,e,n,r){return t=t||"450ms",e=e||"all",n=n||"0ms",r=r||"linear",e+" "+t+" "+r+" "+n}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(316),o=r.PropTypes.oneOf(["left","middle","right"]),i=r.PropTypes.oneOf(["top","center","bottom"]);e["default"]={corners:r.PropTypes.oneOf(["bottom-left","bottom-right","top-left","top-right"]),horizontal:o,vertical:i,origin:r.PropTypes.shape({horizontal:o,vertical:i}),cornersAndCenter:r.PropTypes.oneOf(["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"]),stringOrNumber:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.number]),zDepth:r.PropTypes.oneOf([0,1,2,3,4,5])}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(){if(!S){var t=document.createElement("style");t.innerHTML="\n      button::-moz-focus-inner,\n      input::-moz-focus-inner {\n        border: 0;\n        padding: 0;\n      }\n    ",document.body.appendChild(t),S=!0}}function u(){P||(g["default"].on(window,"keydown",function(t){M="tab"===(0,_["default"])(t)}),P=!0)}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=n(798),h=r(p),d=n(316),m=r(d),y=n(802),v=n(805),g=r(v),b=n(806),_=r(b),x=n(807),w=r(x),T=n(815),E=r(T),C=n(818),k=r(C),S=!1,P=!1,M=!1,A=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={isKeyboardFocused:!1},r.handleKeyDown=function(t){r.props.disabled||r.props.disableKeyboardFocus||("enter"===(0,_["default"])(t)&&r.state.isKeyboardFocused&&r.handleTouchTap(t),"esc"===(0,_["default"])(t)&&r.state.isKeyboardFocused&&r.removeKeyboardFocus(t)),r.props.onKeyDown(t)},r.handleKeyUp=function(t){r.props.disabled||r.props.disableKeyboardFocus||"space"===(0,_["default"])(t)&&r.state.isKeyboardFocused&&r.handleTouchTap(t),r.props.onKeyUp(t)},r.handleBlur=function(t){r.cancelFocusTimeout(),r.removeKeyboardFocus(t),r.props.onBlur(t)},r.handleFocus=function(t){t&&t.persist(),r.props.disabled||r.props.disableKeyboardFocus||(r.focusTimeout=setTimeout(function(){M&&(r.setKeyboardFocus(t),M=!1)},150),r.props.onFocus(t))},r.handleClick=function(t){r.props.disabled||(M=!1,r.props.onClick(t))},r.handleTouchTap=function(t){r.cancelFocusTimeout(),r.props.disabled||(M=!1,r.removeKeyboardFocus(t),r.props.onTouchTap(t))},o=n,a(r,o)}return s(e,t),f(e,[{key:"componentWillMount",value:function(){var t=this.props,e=t.disabled,n=t.disableKeyboardFocus,r=t.keyboardFocused;e||!r||n||this.setState({isKeyboardFocused:!0})}},{key:"componentDidMount",value:function(){l(),u(),this.state.isKeyboardFocused&&(this.refs.enhancedButton.focus(),this.props.onKeyboardFocus(null,!0))}},{key:"componentWillReceiveProps",value:function(t){(t.disabled||t.disableKeyboardFocus)&&this.state.isKeyboardFocused&&(this.setState({isKeyboardFocused:!1}),t.onKeyboardFocus&&t.onKeyboardFocus(null,!1))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.focusTimeout)}},{key:"isKeyboardFocused",value:function(){return this.state.isKeyboardFocused}},{key:"removeKeyboardFocus",value:function(t){this.state.isKeyboardFocused&&(this.setState({isKeyboardFocused:!1}),this.props.onKeyboardFocus(t,!1))}},{key:"setKeyboardFocus",value:function(t){this.state.isKeyboardFocused||(this.setState({isKeyboardFocused:!0}),this.props.onKeyboardFocus(t,!0))}},{key:"cancelFocusTimeout",value:function(){this.focusTimeout&&(clearTimeout(this.focusTimeout),this.focusTimeout=null)}},{key:"createButtonChildren",value:function(){var t=this.props,e=t.centerRipple,n=t.children,r=t.disabled,o=t.disableFocusRipple,i=t.disableKeyboardFocus,a=t.disableTouchRipple,s=t.focusRippleColor,l=t.focusRippleOpacity,u=t.touchRippleColor,c=t.touchRippleOpacity,f=this.state.isKeyboardFocused,p=!f||r||o||i?void 0:m["default"].createElement(w["default"],{color:s,opacity:l,show:f}),h=r||a?void 0:m["default"].createElement(E["default"],{centerRipple:e,color:u,opacity:c},n);return(0,y.createChildFragment)({focusRipple:p,touchRipple:h,children:h?void 0:n})}},{key:"render",value:function(){var t=this.props,e=(t.centerRipple,t.children),n=t.containerElement,r=t.disabled,i=t.disableFocusRipple,a=(t.disableKeyboardFocus,t.disableTouchRipple),s=(t.focusRippleColor,t.focusRippleOpacity,t.href),l=(t.keyboardFocused,t.linkButton,t.touchRippleColor,t.touchRippleOpacity,t.onBlur,t.onClick,t.onFocus,t.onKeyUp,t.onKeyDown,t.onKeyboardFocus,t.onTouchTap,t.style),u=t.tabIndex,f=t.type,p=o(t,["centerRipple","children","containerElement","disabled","disableFocusRipple","disableKeyboardFocus","disableTouchRipple","focusRippleColor","focusRippleOpacity","href","keyboardFocused","linkButton","touchRippleColor","touchRippleOpacity","onBlur","onClick","onFocus","onKeyUp","onKeyDown","onKeyboardFocus","onTouchTap","style","tabIndex","type"]),d=this.context.muiTheme,y=d.prepareStyles,v=d.enhancedButton,g=(0,h["default"])({border:10,boxSizing:"border-box",display:"inline-block",fontFamily:this.context.muiTheme.baseTheme.fontFamily,WebkitTapHighlightColor:v.tapHighlightColor,cursor:r?"default":"pointer",textDecoration:"none",margin:0,padding:0,outline:"none",fontSize:"inherit",fontWeight:"inherit",transform:a&&i?null:"translate(0, 0)",verticalAlign:s?"middle":null},l);if(g.backgroundColor||g.background||(g.background="none"),r&&s)return m["default"].createElement("span",c({},p,{style:g}),e);var b=c({},p,{style:y(g),ref:"enhancedButton",disabled:r,href:s,onBlur:this.handleBlur,
onClick:this.handleClick,onFocus:this.handleFocus,onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown,onTouchTap:this.handleTouchTap,tabIndex:u,type:f}),_=this.createButtonChildren();return m["default"].isValidElement(n)?m["default"].cloneElement(n,b,_):m["default"].createElement(s?"a":n,b,_)}}]),e}(d.Component);A.propTypes={centerRipple:d.PropTypes.bool,children:d.PropTypes.node,containerElement:d.PropTypes.oneOfType([d.PropTypes.string,d.PropTypes.element]),disableFocusRipple:d.PropTypes.bool,disableKeyboardFocus:d.PropTypes.bool,disableTouchRipple:d.PropTypes.bool,disabled:d.PropTypes.bool,focusRippleColor:d.PropTypes.string,focusRippleOpacity:d.PropTypes.number,href:d.PropTypes.string,keyboardFocused:d.PropTypes.bool,linkButton:(0,k["default"])(d.PropTypes.bool,"LinkButton is no longer required when the `href` property is provided.\n      It will be removed with v0.16.0."),onBlur:d.PropTypes.func,onClick:d.PropTypes.func,onFocus:d.PropTypes.func,onKeyDown:d.PropTypes.func,onKeyUp:d.PropTypes.func,onKeyboardFocus:d.PropTypes.func,onMouseDown:d.PropTypes.func,onMouseEnter:d.PropTypes.func,onMouseLeave:d.PropTypes.func,onMouseUp:d.PropTypes.func,onTouchEnd:d.PropTypes.func,onTouchStart:d.PropTypes.func,onTouchTap:d.PropTypes.func,style:d.PropTypes.object,tabIndex:d.PropTypes.number,touchRippleColor:d.PropTypes.string,touchRippleOpacity:d.PropTypes.number,type:d.PropTypes.string},A.defaultProps={containerElement:"button",onBlur:function(){},onClick:function(){},onFocus:function(){},onKeyDown:function(){},onKeyUp:function(){},onKeyboardFocus:function(){},onMouseDown:function(){},onMouseEnter:function(){},onMouseLeave:function(){},onMouseUp:function(){},onTouchEnd:function(){},onTouchStart:function(){},onTouchTap:function(){},tabIndex:0,type:"button"},A.contextTypes={muiTheme:d.PropTypes.object.isRequired},e["default"]=A},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e={},n=0,r=void 0;for(var o in t){var i=t[o];i&&(0===n&&(r=o),e[o]=i,n++)}if(0!==n)return 1===n?e[r]:(0,u["default"])(e)}function i(t,e,n){return s["default"].isValidElement(t)?s["default"].Children.map(t,function(t){var r="function"==typeof e?e(t):e,o="function"==typeof n?n(t):n?n:t.props.children;return s["default"].cloneElement(t,r,o)}):t}Object.defineProperty(e,"__esModule",{value:!0}),e.createChildFragment=o,e.extendChildren=i;var a=n(316),s=r(a),l=n(803),u=r(l)},function(t,e,n){t.exports=n(804).create},function(t,e,n){"use strict";var r=n(321),o=n(319),i=n(323),a=n(326),s=(n(322),n(325),{create:function(t){if("object"!=typeof t||!t||Array.isArray(t))return t;if(i.isValidElement(t))return t;1===t.nodeType?r("0"):void 0;var e=[];for(var n in t)o.mapIntoWithKeyPrefixInternal(t[n],e,n,a.thatReturnsArgument);return e}});t.exports=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={once:function(t,e,n){for(var r=e?e.split(" "):[],o=function a(t){return t.target.removeEventListener(t.type,a),n(t)},i=r.length-1;i>=0;i--)this.on(t,r[i],o)},on:function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent("on"+e,function(){n.call(t)})},off:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n):t.detachEvent("on"+e,n)},isKeyboard:function(t){return["keydown","keypress","keyup"].indexOf(t.type)!==-1}}},function(t,e){e=t.exports=function(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return i[t];var o=String(t),a=n[o.toLowerCase()];if(a)return a;var a=r[o.toLowerCase()];return a?a:1===o.length?o.charCodeAt(0):void 0};var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,"break":19,caps:20,"return":13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
	 * Programatically add the following
	 */
for(o=97;o<123;o++)n[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)n[o-48]=o;for(o=1;o<13;o++)n["f"+o]=o+111;for(o=0;o<10;o++)n["numpad "+o]=o+96;var i=e.names=e.title={};for(o in n)i[n[o]]=o;for(var a in r)n[a]=r[a]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(798),u=r(l),c=n(316),f=r(c),p=n(345),h=r(p),d=n(808),m=r(d),y=n(809),v=r(y),g=n(799),b=r(g),_=n(810),x=r(_),w=750,T=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.pulsate=function(){var t=h["default"].findDOMNode(r.refs.innerCircle);if(t){var e="scale(1)",n="scale(0.85)",o=t.style.transform||e,i=o===e?n:e;v["default"].set(t.style,"transform",i),r.timeout=setTimeout(r.pulsate,w)}},a=n,i(r,a)}return a(e,t),s(e,[{key:"componentDidMount",value:function(){this.props.show&&(this.setRippleSize(),this.pulsate())}},{key:"shouldComponentUpdate",value:function(t,e){return!(0,m["default"])(this.props,t)||!(0,m["default"])(this.state,e)}},{key:"componentDidUpdate",value:function(){this.props.show?(this.setRippleSize(),this.pulsate()):this.timeout&&clearTimeout(this.timeout)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"getRippleElement",value:function(t){var e=t.color,n=t.innerStyle,r=t.opacity,o=this.context.muiTheme,i=o.prepareStyles,a=o.ripple,s=(0,u["default"])({position:"absolute",height:"100%",width:"100%",borderRadius:"50%",opacity:r?r:.16,backgroundColor:e||a.color,transition:b["default"].easeOut(w+"ms","transform",null,b["default"].easeInOutFunction)},n);return f["default"].createElement("div",{ref:"innerCircle",style:i((0,u["default"])({},s))})}},{key:"setRippleSize",value:function(){var t=h["default"].findDOMNode(this.refs.innerCircle),e=t.offsetHeight,n=t.offsetWidth,r=Math.max(e,n),o=0;t.style.top.indexOf("px",t.style.top.length-2)!==-1&&(o=parseInt(t.style.top)),t.style.height=r+"px",t.style.top=e/2-r/2+o+"px"}},{key:"render",value:function(){var t=this.props,e=t.show,n=t.style,r=(0,u["default"])({height:"100%",width:"100%",position:"absolute",top:0,left:0},n),o=e?this.getRippleElement(this.props):null;return f["default"].createElement(x["default"],{maxScale:.85,style:r},o)}}]),e}(c.Component);T.propTypes={color:c.PropTypes.string,innerStyle:c.PropTypes.object,opacity:c.PropTypes.number,show:c.PropTypes.bool,style:c.PropTypes.object},T.contextTypes={muiTheme:c.PropTypes.object.isRequired},e["default"]=T},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(431),i=r(o);e["default"]=i["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={set:function(t,e,n){t[e]=n}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=n(811),m=r(d),y=n(814),v=r(y),g=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),u(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.childStyle,r=t.enterDelay,i=t.maxScale,a=t.minScale,s=t.style,u=o(t,["children","childStyle","enterDelay","maxScale","minScale","style"]),c=this.context.muiTheme.prepareStyles,p=(0,f["default"])({},{position:"relative",overflow:"hidden",height:"100%"},s),d=h["default"].Children.map(e,function(t){return h["default"].createElement(v["default"],{key:t.key,enterDelay:r,maxScale:i,minScale:a,style:n},t)});return h["default"].createElement(m["default"],l({},u,{style:c(p),component:"div"}),d)}}]),e}(p.Component);g.propTypes={childStyle:p.PropTypes.object,children:p.PropTypes.node,enterDelay:p.PropTypes.number,maxScale:p.PropTypes.number,minScale:p.PropTypes.number,style:p.PropTypes.object},g.defaultProps={enterDelay:0},g.contextTypes={muiTheme:p.PropTypes.object.isRequired},e["default"]=g},function(t,e,n){t.exports=n(812)},function(t,e,n){"use strict";var r=n(318),o=n(317),i=(n(424),n(813)),a=n(326),s=o.createClass({displayName:"ReactTransitionGroup",propTypes:{component:o.PropTypes.any,childFactory:o.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:a.thatReturnsArgument}},getInitialState:function(){return{children:i.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var t=this.state.children;for(var e in t)t[e]&&this.performAppear(e)},componentWillReceiveProps:function(t){var e;e=i.getChildMapping(t.children);var n=this.state.children;this.setState({children:i.mergeChildMappings(n,e)});var r;for(r in e){var o=n&&n.hasOwnProperty(r);!e[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var a=e&&e.hasOwnProperty(r);!n[r]||a||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},componentDidUpdate:function(){var t=this.keysToEnter;this.keysToEnter=[],t.forEach(this.performEnter);var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)},performAppear:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillAppear?e.componentWillAppear(this._handleDoneAppearing.bind(this,t)):this._handleDoneAppearing(t)},_handleDoneAppearing:function(t){var e=this.refs[t];e.componentDidAppear&&e.componentDidAppear(),delete this.currentlyTransitioningKeys[t];var n;n=i.getChildMapping(this.props.children),n&&n.hasOwnProperty(t)||this.performLeave(t)},performEnter:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillEnter?e.componentWillEnter(this._handleDoneEntering.bind(this,t)):this._handleDoneEntering(t)},_handleDoneEntering:function(t){var e=this.refs[t];e.componentDidEnter&&e.componentDidEnter(),delete this.currentlyTransitioningKeys[t];var n;n=i.getChildMapping(this.props.children),n&&n.hasOwnProperty(t)||this.performLeave(t)},performLeave:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillLeave?e.componentWillLeave(this._handleDoneLeaving.bind(this,t)):this._handleDoneLeaving(t)},_handleDoneLeaving:function(t){var e=this.refs[t];e.componentDidLeave&&e.componentDidLeave(),delete this.currentlyTransitioningKeys[t];var n;n=i.getChildMapping(this.props.children),n&&n.hasOwnProperty(t)?this.performEnter(t):this.setState(function(e){var n=r({},e.children);return delete n[t],{children:n}})},render:function(){var t=[];for(var e in this.state.children){var n=this.state.children[e];n&&t.push(o.cloneElement(this.props.childFactory(n),{ref:e,key:e}))}var i=r({},this.props);return delete i.transitionLeave,delete i.transitionName,delete i.transitionAppear,delete i.transitionEnter,delete i.childFactory,delete i.transitionLeaveTimeout,delete i.transitionEnterTimeout,delete i.transitionAppearTimeout,delete i.component,o.createElement(this.props.component,i,t)}});t.exports=s},function(t,e,n){"use strict";var r=n(435),o={getChildMapping:function(t,e){return t?r(t):t},mergeChildMappings:function(t,e){function n(n){return e.hasOwnProperty(n)?e[n]:t[n]}t=t||{},e=e||{};var r={},o=[];for(var i in t)e.hasOwnProperty(i)?o.length&&(r[i]=o,o=[]):o.push(i);var a,s={};for(var l in e){if(r.hasOwnProperty(l))for(a=0;a<r[l].length;a++){var u=r[l][a];s[r[l][a]]=n(u)}s[l]=n(l)}for(a=0;a<o.length;a++)s[o[a]]=n(o[a]);return s}};t.exports=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=n(345),m=r(d),y=n(809),v=r(y),g=n(799),b=r(g),_=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),u(e,[{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimer),clearTimeout(this.leaveTimer)}},{key:"componentWillAppear",value:function(t){this.initializeAnimation(t)}},{key:"componentWillEnter",value:function(t){this.initializeAnimation(t)}},{key:"componentDidAppear",value:function(){this.animate()}},{key:"componentDidEnter",value:function(){this.animate()}},{key:"componentWillLeave",value:function(t){var e=m["default"].findDOMNode(this).style;e.opacity="0",v["default"].set(e,"transform","scale("+this.props.minScale+")"),this.leaveTimer=setTimeout(t,450)}},{key:"animate",value:function(){var t=m["default"].findDOMNode(this).style;t.opacity="1",v["default"].set(t,"transform","scale("+this.props.maxScale+")")}},{key:"initializeAnimation",value:function(t){var e=m["default"].findDOMNode(this).style;e.opacity="0",v["default"].set(e,"transform","scale(0)"),this.enterTimer=setTimeout(t,this.props.enterDelay)}},{key:"render",value:function(){var t=this.props,e=t.children,n=(t.enterDelay,t.maxScale,t.minScale,t.style),r=o(t,["children","enterDelay","maxScale","minScale","style"]),i=this.context.muiTheme.prepareStyles,a=(0,f["default"])({},{position:"absolute",height:"100%",width:"100%",top:0,left:0,transition:b["default"].easeOut(null,["transform","opacity"])},n);return h["default"].createElement("div",l({},r,{style:i(a)}),e)}}]),e}(p.Component);_.propTypes={children:p.PropTypes.node,enterDelay:p.PropTypes.number,maxScale:p.PropTypes.number,minScale:p.PropTypes.number,style:p.PropTypes.object},_.defaultProps={enterDelay:0,maxScale:1,minScale:0},_.contextTypes={muiTheme:p.PropTypes.object.isRequired},e["default"]=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t){return Array.isArray(t)?t:Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=n(345),m=r(d),y=n(811),v=r(y),g=n(816),b=r(g),_=n(817),x=r(_),w=function(t){var e=l(t),n=e.slice(1);return n},T=function(t){function e(t,n){i(this,e);var r=a(this,Object.getPrototypeOf(e).call(this,t,n));return r.handleMouseDown=function(t){0===t.button&&r.start(t,!1)},r.handleMouseUp=function(){r.end()},r.handleMouseLeave=function(){r.end()},r.handleTouchStart=function(t){t.stopPropagation(),r.props.abortOnScroll&&t.touches&&(r.startListeningForScrollAbort(t),r.startTime=Date.now()),r.start(t,!0)},r.handleTouchEnd=function(){r.end()},r.handleTouchMove=function(t){var e=Math.abs(Date.now()-r.startTime);if(e>300)return void r.stopListeningForScrollAbort();var n=Math.abs(t.touches[0].clientY-r.firstTouchY),i=Math.abs(t.touches[0].clientX-r.firstTouchX);if(n>6||i>6){var a=r.state.ripples,s=a[0],l=h["default"].cloneElement(s,{aborted:!0});a=w(a),a=[].concat(o(a),[l]),r.setState({ripples:a},function(){r.end()})}},r.ignoreNextMouseDown=!1,r.state={hasRipples:!1,nextKey:0,ripples:[]},r}return s(e,t),u(e,[{key:"start",value:function(t,e){var n=this.context.muiTheme.ripple;if(this.ignoreNextMouseDown&&!e)return void(this.ignoreNextMouseDown=!1);var r=this.state.ripples;r=[].concat(o(r),[h["default"].createElement(x["default"],{key:this.state.nextKey,style:this.props.centerRipple?{}:this.getRippleStyle(t),color:this.props.color||n.color,opacity:this.props.opacity,touchGenerated:e})]),this.ignoreNextMouseDown=e,this.setState({hasRipples:!0,nextKey:this.state.nextKey+1,ripples:r})}},{key:"end",value:function(){var t=this.state.ripples;this.setState({ripples:w(t)}),this.props.abortOnScroll&&this.stopListeningForScrollAbort()}},{key:"startListeningForScrollAbort",value:function(t){this.firstTouchY=t.touches[0].clientY,this.firstTouchX=t.touches[0].clientX,document.body.addEventListener("touchmove",this.handleTouchMove)}},{key:"stopListeningForScrollAbort",value:function(){document.body.removeEventListener("touchmove",this.handleTouchMove)}},{key:"getRippleStyle",value:function(t){var e={},n=m["default"].findDOMNode(this),r=n.offsetHeight,o=n.offsetWidth,i=b["default"].offset(n),a=t.touches&&t.touches.length,s=a?t.touches[0].pageX:t.pageX,l=a?t.touches[0].pageY:t.pageY,u=s-i.left,c=l-i.top,f=this.calcDiag(u,c),p=this.calcDiag(o-u,c),h=this.calcDiag(o-u,r-c),d=this.calcDiag(u,r-c),y=Math.max(f,p,h,d),v=2*y,g=u-y,_=c-y;return e.height=v+"px",e.width=v+"px",e.top=_+"px",e.left=g+"px",e}},{key:"calcDiag",value:function(t,e){return Math.sqrt(t*t+e*e)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.style,r=this.state,o=r.hasRipples,i=r.ripples,a=this.context.muiTheme.prepareStyles,s=void 0;if(o){var l=(0,f["default"])({height:"100%",width:"100%",position:"absolute",top:0,left:0,overflow:"hidden"},n);s=h["default"].createElement(v["default"],{style:a(l)},i)}return h["default"].createElement("div",{onMouseUp:this.handleMouseUp,onMouseDown:this.handleMouseDown,onMouseLeave:this.handleMouseLeave,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},s,e)}}]),e}(p.Component);T.propTypes={abortOnScroll:p.PropTypes.bool,centerRipple:p.PropTypes.bool,children:p.PropTypes.node,color:p.PropTypes.string,opacity:p.PropTypes.number,style:p.PropTypes.object},T.defaultProps={abortOnScroll:!0},T.contextTypes={muiTheme:p.PropTypes.object.isRequired},e["default"]=T},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={isDescendant:function(t,e){for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1},offset:function(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=n(345),m=r(d),y=n(808),v=r(y),g=n(809),b=r(g),_=n(799),x=r(_),w=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),u(e,[{key:"shouldComponentUpdate",value:function(t){return!(0,v["default"])(this.props,t)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimer),clearTimeout(this.leaveTimer)}},{key:"componentWillAppear",value:function(t){this.initializeAnimation(t)}},{key:"componentWillEnter",value:function(t){this.initializeAnimation(t)}},{key:"componentDidAppear",value:function(){this.animate()}},{key:"componentDidEnter",value:function(){this.animate()}},{key:"componentWillLeave",value:function(t){var e=m["default"].findDOMNode(this).style;e.opacity=0;var n=this.props.aborted?0:2e3;this.enterTimer=setTimeout(t,n)}},{key:"animate",value:function(){var t=m["default"].findDOMNode(this).style,e=x["default"].easeOut("2s","opacity")+", "+x["default"].easeOut("1s","transform");b["default"].set(t,"transition",e),b["default"].set(t,"transform","scale(1)")}},{key:"initializeAnimation",value:function(t){var e=m["default"].findDOMNode(this).style;e.opacity=this.props.opacity,b["default"].set(e,"transform","scale(0)"),this.leaveTimer=setTimeout(t,0)}},{key:"render",value:function(){var t=this.props,e=(t.aborted,t.color),n=(t.opacity,t.style),r=(t.touchGenerated,o(t,["aborted","color","opacity","style","touchGenerated"])),i=this.context.muiTheme.prepareStyles,a=(0,f["default"])({position:"absolute",top:0,left:0,height:"100%",width:"100%",borderRadius:"50%",backgroundColor:e},n);return h["default"].createElement("div",l({},r,{style:i(a)}))}}]),e}(p.Component);w.propTypes={aborted:p.PropTypes.bool,color:p.PropTypes.string,opacity:p.PropTypes.number,style:p.PropTypes.object,touchGenerated:p.PropTypes.bool},w.defaultProps={opacity:.1,aborted:!1},w.contextTypes={muiTheme:p.PropTypes.object.isRequired},e["default"]=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){return function(e,n,r,o,i){if(null!=e[n]){var s=r+"."+n;a[s]=!0}for(var l=arguments.length,u=Array(l>5?l-5:0),c=5;c<l;c++)u[c-5]=arguments[c];return t.apply(void 0,[e,n,r,o,i].concat(u))}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var i=n(308),a=(r(i),{})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(820),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){var r=t.color,o=t.hoverColor,i=e.muiTheme.baseTheme,a=r||i.palette.textColor,s=o||a;return{root:{color:n.hovered?s:a,position:"relative",fontSize:i.spacing.iconSize,display:"inline-block",userSelect:"none",transition:y["default"].easeOut()}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(799),y=r(m),v=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={hovered:!1},r.handleMouseLeave=function(t){void 0!==r.props.hoverColor&&r.setState({hovered:!1}),r.props.onMouseLeave&&r.props.onMouseLeave(t)},r.handleMouseEnter=function(t){void 0!==r.props.hoverColor&&r.setState({hovered:!0}),r.props.onMouseEnter&&r.props.onMouseEnter(t)},o=n,a(r,o)}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=(t.hoverColor,t.onMouseLeave,t.onMouseEnter,t.style),n=o(t,["hoverColor","onMouseLeave","onMouseEnter","style"]),r=this.context.muiTheme.prepareStyles,i=l(this.props,this.context,this.state);return d["default"].createElement("span",u({},n,{onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,style:r((0,p["default"])(i.root,e))}))}}]),e}(h.Component);v.muiName="FontIcon",v.propTypes={color:h.PropTypes.string,hoverColor:h.PropTypes.string,onMouseEnter:h.PropTypes.func,onMouseLeave:h.PropTypes.func,style:h.PropTypes.object},v.defaultProps={onMouseEnter:function(){},onMouseLeave:function(){}},v.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){var r=t.verticalPosition,o=t.horizontalPosition,i=t.touch?10:0,a=t.touch?-20:-10,s="bottom"===r?14+i:-14-i,l=e.muiTheme,u=l.baseTheme,c=l.zIndex,f=l.tooltip,p={root:{position:"absolute",fontFamily:u.fontFamily,fontSize:"10px",lineHeight:"22px",padding:"0 8px",zIndex:c.tooltip,color:f.color,overflow:"hidden",top:-1e4,borderRadius:2,userSelect:"none",opacity:0,right:"left"===o?12:null,left:"center"===o?(n.offsetWidth-48)/2*-1:null,transition:y["default"].easeOut("0ms","top","450ms")+", "+y["default"].easeOut("450ms","transform","0ms")+", "+y["default"].easeOut("450ms","opacity","0ms")},label:{position:"relative",whiteSpace:"nowrap"},ripple:{position:"absolute",left:"center"===o?"50%":"left"===o?"100%":"0%",top:"bottom"===r?0:"100%",transform:"translate(-50%, -50%)",borderRadius:"50%",backgroundColor:"transparent",transition:y["default"].easeOut("0ms","width","450ms")+", "+y["default"].easeOut("0ms","height","450ms")+", "+y["default"].easeOut("450ms","backgroundColor","0ms")},rootWhenShown:{top:"top"===r?a:36,opacity:.9,transform:"translate(0px, "+s+"px)",transition:y["default"].easeOut("0ms","top","0ms")+", "+y["default"].easeOut("450ms","transform","0ms")+", "+y["default"].easeOut("450ms","opacity","0ms")},rootWhenTouched:{fontSize:"14px",lineHeight:"32px",padding:"0 16px"},rippleWhenShown:{backgroundColor:f.rippleBackgroundColor,transition:y["default"].easeOut("450ms","width","0ms")+", "+y["default"].easeOut("450ms","height","0ms")+", "+y["default"].easeOut("450ms","backgroundColor","0ms")}};return p}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(799),y=r(m),v=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={offsetWidth:null},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentDidMount",value:function(){this.setRippleSize(),this.setTooltipPosition()}},{key:"componentWillReceiveProps",value:function(){this.setTooltipPosition()}},{key:"componentDidUpdate",value:function(){this.setRippleSize()}},{key:"setRippleSize",value:function(){var t=this.refs.ripple,e=this.refs.tooltip,n=parseInt(e.offsetWidth,10)/("center"===this.props.horizontalPosition?2:1),r=parseInt(e.offsetHeight,10),o=Math.ceil(2*Math.sqrt(Math.pow(r,2)+Math.pow(n,2)));this.props.show?(t.style.height=o+"px",t.style.width=o+"px"):(t.style.width="0px",t.style.height="0px")}},{key:"setTooltipPosition",value:function(){this.setState({offsetWidth:this.refs.tooltip.offsetWidth})}},{key:"render",value:function(){var t=this.props,e=(t.horizontalPosition,t.label),n=(t.show,t.touch,t.verticalPosition,o(t,["horizontalPosition","label","show","touch","verticalPosition"])),r=this.context.muiTheme.prepareStyles,i=l(this.props,this.context,this.state);return d["default"].createElement("div",u({},n,{ref:"tooltip",style:r((0,p["default"])(i.root,this.props.show&&i.rootWhenShown,this.props.touch&&i.rootWhenTouched,this.props.style))}),d["default"].createElement("div",{ref:"ripple",style:r((0,p["default"])(i.ripple,this.props.show&&i.rippleWhenShown))}),d["default"].createElement("span",{style:r(i.label)},e))}}]),e}(h.Component);v.propTypes={className:h.PropTypes.string,horizontalPosition:h.PropTypes.oneOf(["left","right","center"]),label:h.PropTypes.node.isRequired,show:h.PropTypes.bool,style:h.PropTypes.object,touch:h.PropTypes.bool,verticalPosition:h.PropTypes.oneOf(["top","bottom"])},v.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t=s["default"].apply(void 0,[{zIndex:p["default"],isRtl:!1,userAgent:void 0},c["default"],t].concat(n));var i=t,a=i.spacing,u=i.fontFamily,f=i.palette,h={spacing:a,fontFamily:u,palette:f};t=(0,s["default"])({appBar:{color:f.primary1Color,textColor:f.alternateTextColor,height:a.desktopKeylineIncrement,titleFontWeight:w["default"].fontWeightNormal,padding:a.desktopGutter},avatar:{color:f.canvasColor,backgroundColor:(0,l.emphasize)(f.canvasColor,.26)},badge:{color:f.alternateTextColor,textColor:f.textColor,primaryColor:f.accent1Color,primaryTextColor:f.alternateTextColor,secondaryColor:f.primary1Color,secondaryTextColor:f.alternateTextColor,fontWeight:w["default"].fontWeightMedium},bottomNavigation:{backgroundColor:f.canvasColor,unselectedColor:(0,l.fade)(f.textColor,.54),selectedColor:f.primary1Color,height:56,unselectedFontSize:12,selectedFontSize:14},button:{height:36,minWidth:88,iconButtonSize:2*a.iconSize},card:{titleColor:(0,l.fade)(f.textColor,.87),subtitleColor:(0,l.fade)(f.textColor,.54),fontWeight:w["default"].fontWeightMedium},cardMedia:{color:T.darkWhite,overlayContentBackground:T.lightBlack,titleColor:T.darkWhite,subtitleColor:T.lightWhite},cardText:{textColor:f.textColor},checkbox:{boxColor:f.textColor,checkedColor:f.primary1Color,requiredColor:f.primary1Color,disabledColor:f.disabledColor,labelColor:f.textColor,labelDisabledColor:f.disabledColor},chip:{backgroundColor:(0,l.emphasize)(f.canvasColor,.12),deleteIconColor:(0,l.fade)(f.textColor,.26),textColor:(0,l.fade)(f.textColor,.87),fontSize:14,fontWeight:w["default"].fontWeightNormal,shadow:"0 1px 6px "+(0,l.fade)(f.shadowColor,.12)+",\n        0 1px 4px "+(0,l.fade)(f.shadowColor,.12)},datePicker:{color:f.primary1Color,textColor:f.alternateTextColor,calendarTextColor:f.textColor,selectColor:f.primary2Color,selectTextColor:f.alternateTextColor,calendarYearBackgroundColor:T.white},dialog:{titleFontSize:22,bodyFontSize:16,bodyColor:(0,l.fade)(f.textColor,.6)},dropDownMenu:{accentColor:f.borderColor},enhancedButton:{tapHighlightColor:T.transparent},flatButton:{color:T.transparent,buttonFilterColor:"#999999",disabledTextColor:(0,l.fade)(f.textColor,.3),textColor:f.textColor,primaryTextColor:f.primary1Color,secondaryTextColor:f.accent1Color,fontSize:w["default"].fontStyleButtonFontSize,fontWeight:w["default"].fontWeightMedium},floatingActionButton:{buttonSize:56,miniSize:40,color:f.primary1Color,iconColor:f.alternateTextColor,secondaryColor:f.accent1Color,secondaryIconColor:f.alternateTextColor,disabledTextColor:f.disabledColor,disabledColor:(0,l.emphasize)(f.canvasColor,.12)},gridTile:{textColor:T.white},icon:{color:f.canvasColor,backgroundColor:f.primary1Color},inkBar:{backgroundColor:f.accent1Color},drawer:{width:4*a.desktopKeylineIncrement,color:f.canvasColor},listItem:{nestedLevelDepth:18,secondaryTextColor:f.secondaryTextColor,leftIconColor:T.grey600,rightIconColor:T.grey600},menu:{backgroundColor:f.canvasColor,containerBackgroundColor:f.canvasColor},menuItem:{dataHeight:32,height:48,hoverColor:(0,l.fade)(f.textColor,.035),padding:a.desktopGutter,selectedTextColor:f.accent1Color,rightIconDesktopFill:T.grey600
},menuSubheader:{padding:a.desktopGutter,borderColor:f.borderColor,textColor:f.primary1Color},overlay:{backgroundColor:T.lightBlack},paper:{color:f.textColor,backgroundColor:f.canvasColor,zDepthShadows:[[1,6,.12,1,4,.12],[3,10,.16,3,10,.23],[10,30,.19,6,10,.23],[14,45,.25,10,18,.22],[19,60,.3,15,20,.22]].map(function(t){return"0 "+t[0]+"px "+t[1]+"px "+(0,l.fade)(f.shadowColor,t[2])+",\n         0 "+t[3]+"px "+t[4]+"px "+(0,l.fade)(f.shadowColor,t[5])})},radioButton:{borderColor:f.textColor,backgroundColor:f.alternateTextColor,checkedColor:f.primary1Color,requiredColor:f.primary1Color,disabledColor:f.disabledColor,size:24,labelColor:f.textColor,labelDisabledColor:f.disabledColor},raisedButton:{color:f.alternateTextColor,textColor:f.textColor,primaryColor:f.primary1Color,primaryTextColor:f.alternateTextColor,secondaryColor:f.accent1Color,secondaryTextColor:f.alternateTextColor,disabledColor:(0,l.darken)(f.alternateTextColor,.1),disabledTextColor:(0,l.fade)(f.textColor,.3),fontSize:w["default"].fontStyleButtonFontSize,fontWeight:w["default"].fontWeightMedium},refreshIndicator:{strokeColor:f.borderColor,loadingStrokeColor:f.primary1Color},ripple:{color:(0,l.fade)(f.textColor,.87)},slider:{trackSize:2,trackColor:f.primary3Color,trackColorSelected:f.accent3Color,handleSize:12,handleSizeDisabled:8,handleSizeActive:18,handleColorZero:f.primary3Color,handleFillColor:f.alternateTextColor,selectionColor:f.primary1Color,rippleColor:f.primary1Color},snackbar:{textColor:f.alternateTextColor,backgroundColor:f.textColor,actionColor:f.accent1Color},subheader:{color:(0,l.fade)(f.textColor,.54),fontWeight:w["default"].fontWeightMedium},stepper:{backgroundColor:"transparent",hoverBackgroundColor:(0,l.fade)(T.black,.06),iconColor:f.primary1Color,hoveredIconColor:T.grey700,inactiveIconColor:T.grey500,textColor:(0,l.fade)(T.black,.87),disabledTextColor:(0,l.fade)(T.black,.26),connectorLineColor:T.grey400},svgIcon:{color:f.textColor},table:{backgroundColor:f.canvasColor},tableFooter:{borderColor:f.borderColor,textColor:f.accent3Color},tableHeader:{borderColor:f.borderColor},tableHeaderColumn:{textColor:f.accent3Color,height:56,spacing:24},tableRow:{hoverColor:f.accent2Color,stripeColor:(0,l.fade)((0,l.lighten)(f.primary1Color,.5),.4),selectedColor:f.borderColor,textColor:f.textColor,borderColor:f.borderColor,height:48},tableRowColumn:{height:48,spacing:24},tabs:{backgroundColor:f.primary1Color,textColor:(0,l.fade)(f.alternateTextColor,.7),selectedTextColor:f.alternateTextColor},textField:{textColor:f.textColor,hintColor:f.disabledColor,floatingLabelColor:f.textColor,disabledTextColor:f.disabledColor,errorColor:T.red500,focusColor:f.primary1Color,backgroundColor:"transparent",borderColor:f.borderColor},timePicker:{color:f.alternateTextColor,textColor:f.accent3Color,accentColor:f.primary1Color,clockColor:f.textColor,clockCircleColor:f.clockCircleColor,headerColor:f.pickerHeaderColor||f.primary1Color,selectColor:f.primary2Color,selectTextColor:f.alternateTextColor},toggle:{thumbOnColor:f.primary1Color,thumbOffColor:f.accent2Color,thumbDisabledColor:f.borderColor,thumbRequiredColor:f.primary1Color,trackOnColor:(0,l.fade)(f.primary1Color,.5),trackOffColor:f.primary3Color,trackDisabledColor:f.primary3Color,labelColor:f.textColor,labelDisabledColor:f.disabledColor,trackRequiredColor:(0,l.fade)(f.primary1Color,.5)},toolbar:{color:(0,l.fade)(f.textColor,.54),hoverColor:(0,l.fade)(f.textColor,.87),backgroundColor:(0,l.darken)(f.accent2Color,.05),height:56,titleFontSize:20,iconColor:(0,l.fade)(f.textColor,.4),separatorColor:(0,l.fade)(f.textColor,.175),menuHoverColor:(0,l.fade)(f.textColor,.1)},tooltip:{color:T.white,rippleBackgroundColor:T.grey700}},t,{baseTheme:h,rawTheme:h});var m=[d["default"],g["default"],y["default"]].map(function(e){return e(t)}).filter(function(t){return t});return t.prepareStyles=_["default"].apply(void 0,o(m)),t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var a=n(823),s=r(a),l=n(857),u=n(858),c=r(u),f=n(861),p=r(f),h=n(862),d=r(h),m=n(894),y=r(m),v=n(895),g=r(v),b=n(896),_=r(b),x=n(897),w=r(x),T=n(859)},function(t,e,n){var r=n(824),o=n(792),i=o(function(t,e,n){r(t,e,n)});t.exports=i},function(t,e,n){function r(t,e,n,p,h){if(t!==e){if(!u(e)&&!f(e))var d=s(e);i(d||e,function(i,s){if(d&&(s=i,i=e[s]),c(i))h||(h=new o),l(t,e,s,n,r,p,h);else{var u=p?p(t[s],i,s+"",t,e,h):void 0;void 0===u&&(u=i),a(t,s,u)}})}}var o=n(658),i=n(638),a=n(825),s=n(826),l=n(828),u=n(630),c=n(300),f=n(716);t.exports=r},function(t,e,n){function r(t,e,n){(void 0===n||i(t[e],n))&&("number"!=typeof e||void 0!==n||e in t)||o(t,e,n)}var o=n(790),i=n(663);t.exports=r},function(t,e,n){function r(t){if(!o(t))return a(t);var e=i(t),n=[];for(var r in t)("constructor"!=r||!e&&l.call(t,r))&&n.push(r);return n}var o=n(300),i=n(708),a=n(827),s=Object.prototype,l=s.hasOwnProperty;t.exports=r},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},function(t,e,n){function r(t,e,n,r,m,y,v){var g=t[n],b=e[n],_=v.get(b);if(_)return void o(t,n,_);var x=y?y(g,b,n+"",t,e,v):void 0,w=void 0===x;w&&(x=b,l(b)||h(b)?l(g)?x=g:u(g)?x=a(g):(w=!1,x=i(b,!0)):p(b)||s(b)?s(g)?x=d(g):!f(g)||r&&c(g)?(w=!1,x=i(b,!0)):x=g:w=!1),w&&(v.set(b,x),m(x,b,r,y,v),v["delete"](b)),o(t,n,x)}var o=n(825),i=n(829),a=n(632),s=n(703),l=n(630),u=n(704),c=n(602),f=n(300),p=n(854),h=n(716),d=n(855);t.exports=r},function(t,e,n){function r(t,e,n,x,w,T,E){var S;if(x&&(S=T?x(t,w,T,E):x(t)),void 0!==S)return S;if(!g(t))return t;var P=y(t);if(P){if(S=h(t),!e)return u(t,S)}else{var A=p(t),O=A==C||A==k;if(v(t))return l(t,e);if(A==M||A==_||O&&!T){if(S=m(O?{}:t),!e)return c(t,s(S,t))}else{if(!G[A])return T?t:{};S=d(t,A,r,e)}}E||(E=new o);var D=E.get(t);if(D)return D;if(E.set(t,S),!P)var L=n?f(t):b(t);return i(L||t,function(o,i){L&&(i=o,o=t[i]),a(S,i,r(o,e,n,x,i,t,E))}),S}var o=n(658),i=n(638),a=n(789),s=n(830),l=n(831),u=n(632),c=n(832),f=n(835),p=n(711),h=n(838),d=n(839),m=n(850),y=n(630),v=n(852),g=n(300),b=n(700),_="[object Arguments]",x="[object Array]",w="[object Boolean]",T="[object Date]",E="[object Error]",C="[object Function]",k="[object GeneratorFunction]",S="[object Map]",P="[object Number]",M="[object Object]",A="[object RegExp]",O="[object Set]",D="[object String]",L="[object Symbol]",I="[object WeakMap]",j="[object ArrayBuffer]",F="[object DataView]",R="[object Float32Array]",N="[object Float64Array]",z="[object Int8Array]",B="[object Int16Array]",U="[object Int32Array]",W="[object Uint8Array]",q="[object Uint8ClampedArray]",V="[object Uint16Array]",H="[object Uint32Array]",G={};G[_]=G[x]=G[j]=G[F]=G[w]=G[T]=G[R]=G[N]=G[z]=G[B]=G[U]=G[S]=G[P]=G[M]=G[A]=G[O]=G[D]=G[L]=G[W]=G[q]=G[V]=G[H]=!0,G[E]=G[C]=G[I]=!1,t.exports=r},function(t,e,n){function r(t,e){return t&&o(e,i(e),t)}var o=n(791),i=n(700);t.exports=r},function(t,e,n){(function(t){function r(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}var o=n(302),i="object"==typeof e&&e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===i,l=s?o.Buffer:void 0,u=l?l.allocUnsafe:void 0;t.exports=r}).call(e,n(720)(t))},function(t,e,n){function r(t,e){return o(t,i(t),e)}var o=n(791),i=n(833);t.exports=r},function(t,e,n){var r=n(710),o=n(834),i=Object.getOwnPropertySymbols,a=i?r(i,Object):o;t.exports=a},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){function r(t){return o(t,a,i)}var o=n(836),i=n(833),a=n(700);t.exports=r},function(t,e,n){function r(t,e,n){var r=e(t);return i(t)?r:o(r,n(t))}var o=n(837),i=n(630);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}t.exports=n},function(t,e){function n(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&o.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var r=Object.prototype,o=r.hasOwnProperty;t.exports=n},function(t,e,n){function r(t,e,n,r){var A=t.constructor;switch(e){case b:return o(t);case f:case p:return new A((+t));case _:return i(t,r);case x:case w:case T:case E:case C:case k:case S:case P:case M:return c(t,r);case h:return a(t,r,n);case d:case v:return new A(t);case m:return s(t);case y:return l(t,r,n);case g:return u(t)}}var o=n(840),i=n(841),a=n(842),s=n(845),l=n(846),u=n(848),c=n(849),f="[object Boolean]",p="[object Date]",h="[object Map]",d="[object Number]",m="[object RegExp]",y="[object Set]",v="[object String]",g="[object Symbol]",b="[object ArrayBuffer]",_="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",T="[object Int8Array]",E="[object Int16Array]",C="[object Int32Array]",k="[object Uint8Array]",S="[object Uint8ClampedArray]",P="[object Uint16Array]",M="[object Uint32Array]";t.exports=r},function(t,e,n){function r(t){var e=new t.constructor(t.byteLength);return new o(e).set(new o(t)),e}var o=n(696);t.exports=r},function(t,e,n){function r(t,e){var n=e?o(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var o=n(840);t.exports=r},function(t,e,n){function r(t,e,n){var r=e?n(a(t),!0):a(t);return i(r,o,new t.constructor)}var o=n(843),i=n(844),a=n(697);t.exports=r},function(t,e){function n(t,e){return t.set(e[0],e[1]),t}t.exports=n},function(t,e){function n(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}t.exports=n},function(t,e){function n(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}var r=/\w*$/;t.exports=n},function(t,e,n){function r(t,e,n){var r=e?n(a(t),!0):a(t);return i(r,o,new t.constructor)}var o=n(847),i=n(844),a=n(698);t.exports=r},function(t,e){function n(t,e){return t.add(e),t}t.exports=n},function(t,e,n){function r(t){return a?Object(a.call(t)):{}}var o=n(695),i=o?o.prototype:void 0,a=i?i.valueOf:void 0;t.exports=r},function(t,e,n){function r(t,e){var n=e?o(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var o=n(840);t.exports=r},function(t,e,n){function r(t){return"function"!=typeof t.constructor||a(t)?{}:o(i(t))}var o=n(614),i=n(851),a=n(708);t.exports=r},function(t,e,n){var r=n(710),o=r(Object.getPrototypeOf,Object);t.exports=o},function(t,e,n){(function(t){var r=n(302),o=n(853),i="object"==typeof e&&e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===i,l=s?r.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||o;t.exports=c}).call(e,n(720)(t))},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t){if(!i(t)||p.call(t)!=a)return!1;var e=o(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==f}var o=n(851),i=n(306),a="[object Object]",s=Function.prototype,l=Object.prototype,u=s.toString,c=l.hasOwnProperty,f=u.call(Object),p=l.toString;t.exports=r},function(t,e,n){function r(t){return o(t,i(t))}var o=n(791),i=n(856);t.exports=r},function(t,e,n){function r(t){return a(t)?o(t,!0):i(t)}var o=n(701),i=n(826),a=n(705);t.exports=r},function(t,e){"use strict";function n(t,e,n){return t<e?e:t>n?n:t}function r(t){var e=t.type,n=t.values;if(e.indexOf("rgb")>-1)for(var r=0;r<3;r++)n[r]=parseInt(n[r]);var o=void 0;return o=e.indexOf("hsl")>-1?t.type+"("+n[0]+", "+n[1]+"%, "+n[2]+"%":t.type+"("+n[0]+", "+n[1]+", "+n[2],o+=4===n.length?", "+t.values[3]+")":")"}function o(t){if(4===t.length){for(var e="#",n=1;n<t.length;n++)e+=t.charAt(n)+t.charAt(n);t=e}var r={r:parseInt(t.substr(1,2),16),g:parseInt(t.substr(3,2),16),b:parseInt(t.substr(5,2),16)};return"rgb("+r.r+", "+r.g+", "+r.b+")"}function i(t){if("#"===t.charAt(0))return i(o(t));var e=t.indexOf("("),n=t.substring(0,e),r=t.substring(e+1,t.length-1).split(",");return r=r.map(function(t){return parseFloat(t)}),{type:n,values:r}}function a(t,e){var n=s(t),r=s(e),o=(Math.max(n,r)+.05)/(Math.min(n,r)+.05);return Number(o.toFixed(2))}function s(t){if(t=i(t),t.type.indexOf("rgb")>-1){var e=t.values.map(function(t){return t/=255,t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)});return Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}if(t.type.indexOf("hsl")>-1)return t.values[2]/100}function l(t){var e=arguments.length<=1||void 0===arguments[1]?.15:arguments[1];return s(t)>.5?c(t,e):f(t,e)}function u(t,e){return t=i(t),e=n(e,0,1),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),t.values[3]=e,r(t)}function c(t,e){if(t=i(t),e=n(e,0,1),t.type.indexOf("hsl")>-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")>-1)for(var o=0;o<3;o++)t.values[o]*=1-e;return r(t)}function f(t,e){if(t=i(t),e=n(e,0,1),t.type.indexOf("hsl")>-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")>-1)for(var o=0;o<3;o++)t.values[o]+=(255-t.values[o])*e;return r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.convertColorToString=r,e.convertHexToRGB=o,e.decomposeColor=i,e.getContrastRatio=a,e.getLuminance=s,e.emphasize=l,e.fade=u,e.darken=c,e.lighten=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(859),i=n(857),a=n(860),s=r(a);e["default"]={spacing:s["default"],fontFamily:"Roboto, sans-serif",palette:{primary1Color:o.cyan500,primary2Color:o.cyan700,primary3Color:o.grey400,accent1Color:o.pinkA200,accent2Color:o.grey100,accent3Color:o.grey500,textColor:o.darkBlack,secondaryTextColor:(0,i.fade)(o.darkBlack,.54),alternateTextColor:o.white,canvasColor:o.white,borderColor:o.grey300,disabledColor:(0,i.fade)(o.darkBlack,.3),pickerHeaderColor:o.cyan500,clockCircleColor:(0,i.fade)(o.darkBlack,.07),shadowColor:o.fullBlack}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.red50="#ffebee",e.red100="#ffcdd2",e.red200="#ef9a9a",e.red300="#e57373",e.red400="#ef5350",e.red500="#f44336",e.red600="#e53935",e.red700="#d32f2f",e.red800="#c62828",e.red900="#b71c1c",e.redA100="#ff8a80",e.redA200="#ff5252",e.redA400="#ff1744",e.redA700="#d50000",e.pink50="#fce4ec",e.pink100="#f8bbd0",e.pink200="#f48fb1",e.pink300="#f06292",e.pink400="#ec407a",e.pink500="#e91e63",e.pink600="#d81b60",e.pink700="#c2185b",e.pink800="#ad1457",e.pink900="#880e4f",e.pinkA100="#ff80ab",e.pinkA200="#ff4081",e.pinkA400="#f50057",e.pinkA700="#c51162",e.purple50="#f3e5f5",e.purple100="#e1bee7",e.purple200="#ce93d8",e.purple300="#ba68c8",e.purple400="#ab47bc",e.purple500="#9c27b0",e.purple600="#8e24aa",e.purple700="#7b1fa2",e.purple800="#6a1b9a",e.purple900="#4a148c",e.purpleA100="#ea80fc",e.purpleA200="#e040fb",e.purpleA400="#d500f9",e.purpleA700="#aa00ff",e.deepPurple50="#ede7f6",e.deepPurple100="#d1c4e9",e.deepPurple200="#b39ddb",e.deepPurple300="#9575cd",e.deepPurple400="#7e57c2",e.deepPurple500="#673ab7",e.deepPurple600="#5e35b1",e.deepPurple700="#512da8",e.deepPurple800="#4527a0",e.deepPurple900="#311b92",e.deepPurpleA100="#b388ff",e.deepPurpleA200="#7c4dff",e.deepPurpleA400="#651fff",e.deepPurpleA700="#6200ea",e.indigo50="#e8eaf6",e.indigo100="#c5cae9",e.indigo200="#9fa8da",e.indigo300="#7986cb",e.indigo400="#5c6bc0",e.indigo500="#3f51b5",e.indigo600="#3949ab",e.indigo700="#303f9f",e.indigo800="#283593",e.indigo900="#1a237e",e.indigoA100="#8c9eff",e.indigoA200="#536dfe",e.indigoA400="#3d5afe",e.indigoA700="#304ffe",e.blue50="#e3f2fd",e.blue100="#bbdefb",e.blue200="#90caf9",e.blue300="#64b5f6",e.blue400="#42a5f5",e.blue500="#2196f3",e.blue600="#1e88e5",e.blue700="#1976d2",e.blue800="#1565c0",e.blue900="#0d47a1",e.blueA100="#82b1ff",e.blueA200="#448aff",e.blueA400="#2979ff",e.blueA700="#2962ff",e.lightBlue50="#e1f5fe",e.lightBlue100="#b3e5fc",e.lightBlue200="#81d4fa",e.lightBlue300="#4fc3f7",e.lightBlue400="#29b6f6",e.lightBlue500="#03a9f4",e.lightBlue600="#039be5",e.lightBlue700="#0288d1",e.lightBlue800="#0277bd",e.lightBlue900="#01579b",e.lightBlueA100="#80d8ff",e.lightBlueA200="#40c4ff",e.lightBlueA400="#00b0ff",e.lightBlueA700="#0091ea",e.cyan50="#e0f7fa",e.cyan100="#b2ebf2",e.cyan200="#80deea",e.cyan300="#4dd0e1",e.cyan400="#26c6da",e.cyan500="#00bcd4",e.cyan600="#00acc1",e.cyan700="#0097a7",e.cyan800="#00838f",e.cyan900="#006064",e.cyanA100="#84ffff",e.cyanA200="#18ffff",e.cyanA400="#00e5ff",e.cyanA700="#00b8d4",e.teal50="#e0f2f1",e.teal100="#b2dfdb",e.teal200="#80cbc4",e.teal300="#4db6ac",e.teal400="#26a69a",e.teal500="#009688",e.teal600="#00897b",e.teal700="#00796b",e.teal800="#00695c",e.teal900="#004d40",e.tealA100="#a7ffeb",e.tealA200="#64ffda",e.tealA400="#1de9b6",e.tealA700="#00bfa5",e.green50="#e8f5e9",e.green100="#c8e6c9",e.green200="#a5d6a7",e.green300="#81c784",e.green400="#66bb6a",e.green500="#4caf50",e.green600="#43a047",e.green700="#388e3c",e.green800="#2e7d32",e.green900="#1b5e20",e.greenA100="#b9f6ca",e.greenA200="#69f0ae",e.greenA400="#00e676",e.greenA700="#00c853",e.lightGreen50="#f1f8e9",e.lightGreen100="#dcedc8",e.lightGreen200="#c5e1a5",e.lightGreen300="#aed581",e.lightGreen400="#9ccc65",e.lightGreen500="#8bc34a",e.lightGreen600="#7cb342",e.lightGreen700="#689f38",e.lightGreen800="#558b2f",e.lightGreen900="#33691e",e.lightGreenA100="#ccff90",e.lightGreenA200="#b2ff59",e.lightGreenA400="#76ff03",e.lightGreenA700="#64dd17",e.lime50="#f9fbe7",e.lime100="#f0f4c3",e.lime200="#e6ee9c",e.lime300="#dce775",e.lime400="#d4e157",e.lime500="#cddc39",e.lime600="#c0ca33",e.lime700="#afb42b",e.lime800="#9e9d24",e.lime900="#827717",e.limeA100="#f4ff81",e.limeA200="#eeff41",e.limeA400="#c6ff00",e.limeA700="#aeea00",e.yellow50="#fffde7",e.yellow100="#fff9c4",e.yellow200="#fff59d",e.yellow300="#fff176",e.yellow400="#ffee58",e.yellow500="#ffeb3b",e.yellow600="#fdd835",e.yellow700="#fbc02d",e.yellow800="#f9a825",e.yellow900="#f57f17",e.yellowA100="#ffff8d",e.yellowA200="#ffff00",e.yellowA400="#ffea00",e.yellowA700="#ffd600",e.amber50="#fff8e1",e.amber100="#ffecb3",e.amber200="#ffe082",e.amber300="#ffd54f",e.amber400="#ffca28",e.amber500="#ffc107",e.amber600="#ffb300",e.amber700="#ffa000",e.amber800="#ff8f00",e.amber900="#ff6f00",e.amberA100="#ffe57f",e.amberA200="#ffd740",e.amberA400="#ffc400",e.amberA700="#ffab00",e.orange50="#fff3e0",e.orange100="#ffe0b2",e.orange200="#ffcc80",e.orange300="#ffb74d",e.orange400="#ffa726",e.orange500="#ff9800",e.orange600="#fb8c00",e.orange700="#f57c00",e.orange800="#ef6c00",e.orange900="#e65100",e.orangeA100="#ffd180",e.orangeA200="#ffab40",e.orangeA400="#ff9100",e.orangeA700="#ff6d00",e.deepOrange50="#fbe9e7",e.deepOrange100="#ffccbc",e.deepOrange200="#ffab91",e.deepOrange300="#ff8a65",e.deepOrange400="#ff7043",e.deepOrange500="#ff5722",e.deepOrange600="#f4511e",e.deepOrange700="#e64a19",e.deepOrange800="#d84315",e.deepOrange900="#bf360c",e.deepOrangeA100="#ff9e80",e.deepOrangeA200="#ff6e40",e.deepOrangeA400="#ff3d00",e.deepOrangeA700="#dd2c00",e.brown50="#efebe9",e.brown100="#d7ccc8",e.brown200="#bcaaa4",e.brown300="#a1887f",e.brown400="#8d6e63",e.brown500="#795548",e.brown600="#6d4c41",e.brown700="#5d4037",e.brown800="#4e342e",e.brown900="#3e2723",e.blueGrey50="#eceff1",e.blueGrey100="#cfd8dc",e.blueGrey200="#b0bec5",e.blueGrey300="#90a4ae",e.blueGrey400="#78909c",e.blueGrey500="#607d8b",e.blueGrey600="#546e7a",e.blueGrey700="#455a64",e.blueGrey800="#37474f",e.blueGrey900="#263238",e.grey50="#fafafa",e.grey100="#f5f5f5",e.grey200="#eeeeee",e.grey300="#e0e0e0",e.grey400="#bdbdbd",e.grey500="#9e9e9e",e.grey600="#757575",e.grey700="#616161",e.grey800="#424242",e.grey900="#212121",e.black="#000000",e.white="#ffffff",e.transparent="rgba(0, 0, 0, 0)",e.fullBlack="rgba(0, 0, 0, 1)",e.darkBlack="rgba(0, 0, 0, 0.87)",e.lightBlack="rgba(0, 0, 0, 0.54)",e.minBlack="rgba(0, 0, 0, 0.26)",e.faintBlack="rgba(0, 0, 0, 0.12)",e.fullWhite="rgba(255, 255, 255, 1)",e.darkWhite="rgba(255, 255, 255, 0.87)",e.lightWhite="rgba(255, 255, 255, 0.54)"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={iconSize:24,desktopGutter:24,desktopGutterMore:32,desktopGutterLess:16,desktopGutterMini:8,desktopKeylineIncrement:64,desktopDropDownMenuItemHeight:32,desktopDropDownMenuFontSize:15,desktopDrawerMenuItemHeight:48,desktopSubheaderHeight:48,desktopToolbarHeight:56}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={menu:1e3,appBar:1100,drawerOverlay:1200,drawer:1300,dialogOverlay:1400,dialog:1500,layer:2e3,popover:2100,snackbar:2900,tooltip:3e3}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e["default"]=function(t){var e=t.userAgent;if(void 0===e&&"undefined"!=typeof navigator&&(e=navigator.userAgent),void 0!==e||l||(l=!0),e===!1)return null;if("all"===e||void 0===e)return function(t){return a["default"].prefixAll(t)};var n=function(){var t=new a["default"]({userAgent:e});return{v:function(e){return t.prefix(e)}}}();return"object"===("undefined"==typeof n?"undefined":o(n))?n.v:void 0};var i=n(863),a=r(i),s=n(308),l=(r(s),!1)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments[2],r=arguments[3];Object.keys(e).forEach(function(o){var i=t[o];Array.isArray(i)?[].concat(e[o]).forEach(function(e){t[o].indexOf(e)===-1&&t[o].splice(i.indexOf(n),r?0:1,e)}):t[o]=e[o]})}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(864),l=r(s),u=n(878),c=r(u),f=n(881),p=r(f),h=n(866),d=r(h),m=n(882),y=r(m),v=n(883),g=r(v),b=n(885),_=r(b),x=n(886),w=r(x),T=n(887),E=r(T),C=n(888),k=r(C),S=n(889),P=r(S),M=n(890),A=r(M),O=n(892),D=r(O),L=n(893),I=r(L),j=[g["default"],_["default"],w["default"],k["default"],P["default"],A["default"],D["default"],I["default"],E["default"]],F=function(){function t(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,t);var r="undefined"!=typeof navigator?navigator.userAgent:void 0;if(this._userAgent=n.userAgent||r,this._keepUnprefixed=n.keepUnprefixed||!1,this._browserInfo=(0,c["default"])(this._userAgent),!this._browserInfo||!this._browserInfo.prefix)return this._usePrefixAllFallback=!0,!1;this.cssPrefix=this._browserInfo.prefix.css,this.jsPrefix=this._browserInfo.prefix.inline,this.prefixedKeyframes=(0,p["default"])(this._browserInfo);var i=this._browserInfo.browser&&y["default"][this._browserInfo.browser];i?(this._requiresPrefix=Object.keys(i).filter(function(t){return i[t]>=e._browserInfo.version}).reduce(function(t,e){return t[e]=!0,t},{}),this._hasPropsRequiringPrefix=Object.keys(this._requiresPrefix).length>0):this._usePrefixAllFallback=!0}return a(t,[{key:"prefix",value:function(t){var e=this;return this._usePrefixAllFallback?(0,l["default"])(t):this._hasPropsRequiringPrefix?(Object.keys(t).forEach(function(n){var r=t[n];r instanceof Object&&!Array.isArray(r)?t[n]=e.prefix(r):e._requiresPrefix[n]&&(t[e.jsPrefix+(0,d["default"])(n)]=r,e._keepUnprefixed||delete t[n])}),Object.keys(t).forEach(function(n){[].concat(t[n]).forEach(function(r){j.forEach(function(o){i(t,o({property:n,value:r,styles:t,browserInfo:e._browserInfo,prefix:{js:e.jsPrefix,css:e.cssPrefix,keyframes:e.prefixedKeyframes},keepUnprefixed:e._keepUnprefixed,requiresPrefix:e._requiresPrefix}),r,e._keepUnprefixed)})})}),t):t}}],[{key:"prefixAll",value:function(t){return(0,l["default"])(t)}}]),t}();e["default"]=F,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return Object.keys(t).forEach(function(e){var n=t[e];n instanceof Object&&!Array.isArray(n)?t[e]=o(n):Object.keys(s["default"]).forEach(function(r){var o=s["default"][r];o[e]&&(t[r+(0,u["default"])(e)]=n)})}),Object.keys(t).forEach(function(e){[].concat(t[e]).forEach(function(n,r){k.forEach(function(r){return i(t,r(e,n))})})}),t}function i(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];Object.keys(e).forEach(function(n){var r=t[n];Array.isArray(r)?[].concat(e[n]).forEach(function(e){var o=r.indexOf(e);o>-1&&t[n].splice(o,1),t[n].push(e)}):t[n]=e[n]})}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var a=n(865),s=r(a),l=n(866),u=r(l),c=n(867),f=r(c),p=n(870),h=r(p),d=n(871),m=r(d),y=n(872),v=r(y),g=n(873),b=r(g),_=n(874),x=r(_),w=n(876),T=r(w),E=n(877),C=r(E),k=[f["default"],h["default"],v["default"],b["default"],x["default"],T["default"],C["default"],m["default"]];t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={Webkit:{transform:!0,transformOrigin:!0,transformOriginX:!0,transformOriginY:!0,backfaceVisibility:!0,perspective:!0,perspectiveOrigin:!0,transformStyle:!0,transformOriginZ:!0,animation:!0,animationDelay:!0,animationDirection:!0,animationFillMode:!0,animationDuration:!0,animationIterationCount:!0,animationName:!0,animationPlayState:!0,animationTimingFunction:!0,appearance:!0,userSelect:!0,fontKerning:!0,textEmphasisPosition:!0,textEmphasis:!0,textEmphasisStyle:!0,textEmphasisColor:!0,boxDecorationBreak:!0,clipPath:!0,maskImage:!0,maskMode:!0,maskRepeat:!0,maskPosition:!0,maskClip:!0,maskOrigin:!0,maskSize:!0,maskComposite:!0,mask:!0,maskBorderSource:!0,maskBorderMode:!0,maskBorderSlice:!0,maskBorderWidth:!0,maskBorderOutset:!0,maskBorderRepeat:!0,maskBorder:!0,maskType:!0,textDecorationStyle:!0,textDecorationSkip:!0,textDecorationLine:!0,textDecorationColor:!0,filter:!0,fontFeatureSettings:!0,breakAfter:!0,breakBefore:!0,breakInside:!0,columnCount:!0,columnFill:!0,columnGap:!0,columnRule:!0,columnRuleColor:!0,columnRuleStyle:!0,columnRuleWidth:!0,columns:!0,columnSpan:!0,columnWidth:!0,flex:!0,flexBasis:!0,flexDirection:!0,flexGrow:!0,flexFlow:!0,flexShrink:!0,flexWrap:!0,alignContent:!0,alignItems:!0,alignSelf:!0,justifyContent:!0,order:!0,transition:!0,transitionDelay:!0,transitionDuration:!0,transitionProperty:!0,transitionTimingFunction:!0,backdropFilter:!0,scrollSnapType:!0,scrollSnapPointsX:!0,scrollSnapPointsY:!0,scrollSnapDestination:!0,scrollSnapCoordinate:!0,shapeImageThreshold:!0,shapeImageMargin:!0,shapeImageOutside:!0,hyphens:!0,flowInto:!0,flowFrom:!0,regionFragment:!0,textSizeAdjust:!0},Moz:{appearance:!0,userSelect:!0,boxSizing:!0,textAlignLast:!0,textDecorationStyle:!0,textDecorationSkip:!0,textDecorationLine:!0,textDecorationColor:!0,tabSize:!0,hyphens:!0,fontFeatureSettings:!0,breakAfter:!0,breakBefore:!0,breakInside:!0,columnCount:!0,columnFill:!0,columnGap:!0,columnRule:!0,columnRuleColor:!0,columnRuleStyle:!0,columnRuleWidth:!0,columns:!0,columnSpan:!0,columnWidth:!0},ms:{flex:!0,flexBasis:!1,flexDirection:!0,flexGrow:!1,flexFlow:!0,flexShrink:!1,flexWrap:!0,alignContent:!1,alignItems:!1,alignSelf:!1,justifyContent:!1,order:!1,transform:!0,transformOrigin:!0,transformOriginX:!0,transformOriginY:!0,userSelect:!0,wrapFlow:!0,wrapThrough:!0,wrapMargin:!0,scrollSnapType:!0,scrollSnapPointsX:!0,scrollSnapPointsY:!0,scrollSnapDestination:!0,scrollSnapCoordinate:!0,touchAction:!0,hyphens:!0,flowInto:!0,flowFrom:!0,breakBefore:!0,breakAfter:!0,breakInside:!0,regionFragment:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridTemplate:!0,gridAutoColumns:!0,gridAutoRows:!0,gridAutoFlow:!0,grid:!0,gridRowStart:!0,gridColumnStart:!0,gridRowEnd:!0,gridRow:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridRowGap:!0,gridArea:!0,gridGap:!0,textSizeAdjust:!0}},t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if("string"==typeof e&&!(0,l["default"])(e)&&e.indexOf("calc(")>-1)return(0,a["default"])(t,e,function(t,e){return e.replace(/calc\(/g,t+"calc(")})}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var i=n(868),a=r(i),s=n(869),l=r(s);t.exports=e["default"]},function(t,e){"use strict";function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){var r=arguments.length<=2||void 0===arguments[2]?function(t,e){return t+e}:arguments[2];return n({},t,["-webkit-","-moz-",""].map(function(t){return r(t,e)}))},t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){return Array.isArray(t)&&(t=t.join(",")),null!==t.match(/-webkit-|-moz-|-ms-/)},t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if("cursor"===t&&s[e])return(0,a["default"])(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var i=n(868),a=r(i),s={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};t.exports=e["default"]},function(t,e){"use strict";function n(t,e){if("display"===t&&r[e])return{display:["-webkit-box","-moz-box","-ms-"+e+"box","-webkit-"+e,e]}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n;var r={flex:!0,"inline-flex":!0};t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(s[t]&&l[e])return(0,a["default"])(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var i=n(868),a=r(i),s={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},l={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if("string"==typeof e&&!(0,l["default"])(e)&&null!==e.match(u))return(0,a["default"])(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var i=n(868),a=r(i),s=n(869),l=r(s),u=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if("string"==typeof e&&m[t]){var n,r=a(e),i=r.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(t){return null===t.match(/-moz-|-ms-/)}).join(",");return t.indexOf("Webkit")>-1?o({},t,i):(n={},o(n,"Webkit"+(0,c["default"])(t),i),o(n,t,r),n)}}function a(t){if((0,p["default"])(t))return t;var e=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g);return e.forEach(function(t,n){e[n]=Object.keys(d["default"]).reduce(function(e,n){var r="-"+n.toLowerCase()+"-";return Object.keys(d["default"][n]).forEach(function(n){var o=(0,l["default"])(n);t.indexOf(o)>-1&&"order"!==o&&(e=t.replace(o,r+o)+","+e)}),e},t)}),e.join(",")}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var s=n(875),l=r(s),u=n(866),c=r(u),f=n(869),p=r(f),h=n(865),d=r(h),m={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0};t.exports=e["default"]},function(t,e){"use strict";function n(t){return t.replace(r,"-$&").toLowerCase().replace(o,"-ms-")}var r=/[A-Z]/g,o=/^ms-/;t.exports=n},function(t,e){"use strict";function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){if(i[t])return n({},i[t],o[e]||e)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var o={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end"},i={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msPreferredSize"};t.exports=e["default"]},function(t,e){"use strict";function n(t,e,n){return e in t?Object.defineProperty(t,e,{
value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){return"flexDirection"===t&&"string"==typeof e?{WebkitBoxOrient:e.indexOf("column")>-1?"vertical":"horizontal",WebkitBoxDirection:e.indexOf("reverse")>-1?"reverse":"normal"}:i[t]?n({},i[t],o[e]||e):void 0}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var o={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},i={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(879),i=r(o),a={Webkit:["chrome","safari","ios","android","phantom","opera","webos","blackberry","bada","tizen","chromium","vivaldi"],Moz:["firefox","seamonkey","sailfish"],ms:["msie","msedge"]},s={chrome:[["chrome"],["chromium"]],safari:[["safari"]],firefox:[["firefox"]],edge:[["msedge"]],opera:[["opera"],["vivaldi"]],ios_saf:[["ios","mobile"],["ios","tablet"]],ie:[["msie"]],op_mini:[["opera","mobile"],["opera","tablet"]],and_uc:[["android","mobile"],["android","tablet"]],android:[["android","mobile"],["android","tablet"]]},l=function(t){if(t.firefox)return"firefox";var e="";return Object.keys(s).forEach(function(n){s[n].forEach(function(r){var o=0;r.forEach(function(e){t[e]&&(o+=1)}),r.length===o&&(e=n)})}),e};e["default"]=function(t){if(!t)return!1;var e=i["default"]._detect(t);return Object.keys(a).forEach(function(t){a[t].forEach(function(n){e[n]&&(e.prefix={inline:t,css:"-"+t.toLowerCase()+"-"})})}),e.browser=l(e),e.version=e.version?parseFloat(e.version):parseInt(parseFloat(e.osversion),10),e.osversion=parseFloat(e.osversion),"ios_saf"===e.browser&&e.version>e.osversion&&(e.version=e.osversion,e.safari=!0),"android"===e.browser&&e.chrome&&e.version>37&&(e.browser="and_chr"),"android"===e.browser&&e.osversion<5&&(e.version=e.osversion),e},t.exports=e["default"]},function(t,e,n){/*!
	 * Bowser - a browser detector
	 * https://github.com/ded/bowser
	 * MIT License | (c) Dustin Diaz 2015
	 */
!function(e,r){"undefined"!=typeof t&&t.exports?t.exports=r():n(880)(e,r)}("bowser",function(){function t(t){function e(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function n(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var r,o=e(/(ipod|iphone|ipad)/i).toLowerCase(),i=/like android/i.test(t),s=!i&&/android/i.test(t),l=/nexus\s*[0-6]\s*/i.test(t),u=!l&&/nexus\s*[0-9]+/i.test(t),c=/CrOS/.test(t),f=/silk/i.test(t),p=/sailfish/i.test(t),h=/tizen/i.test(t),d=/(web|hpw)os/i.test(t),m=/windows phone/i.test(t),y=(/SamsungBrowser/i.test(t),!m&&/windows/i.test(t)),v=!o&&!f&&/macintosh/i.test(t),g=!s&&!p&&!h&&!d&&/linux/i.test(t),b=e(/edge\/(\d+(\.\d+)?)/i),_=e(/version\/(\d+(\.\d+)?)/i),x=/tablet/i.test(t),w=!x&&/[^-]mobi/i.test(t),T=/xbox/i.test(t);/opera/i.test(t)?r={name:"Opera",opera:a,version:_||e(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr|opios/i.test(t)?r={name:"Opera",opera:a,version:e(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||_}:/SamsungBrowser/i.test(t)?r={name:"Samsung Internet for Android",samsungBrowser:a,version:_||e(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(t)?r={name:"Opera Coast",coast:a,version:_||e(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(t)?r={name:"Yandex Browser",yandexbrowser:a,version:_||e(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?r={name:"UC Browser",ucbrowser:a,version:e(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?r={name:"Maxthon",maxthon:a,version:e(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?r={name:"Epiphany",epiphany:a,version:e(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?r={name:"Puffin",puffin:a,version:e(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?r={name:"Sleipnir",sleipnir:a,version:e(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?r={name:"K-Meleon",kMeleon:a,version:e(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(r={name:"Windows Phone",windowsphone:a},b?(r.msedge=a,r.version=b):(r.msie=a,r.version=e(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?r={name:"Internet Explorer",msie:a,version:e(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?r={name:"Chrome",chromeos:a,chromeBook:a,chrome:a,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(t)?r={name:"Microsoft Edge",msedge:a,version:b}:/vivaldi/i.test(t)?r={name:"Vivaldi",vivaldi:a,version:e(/vivaldi\/(\d+(\.\d+)?)/i)||_}:p?r={name:"Sailfish",sailfish:a,version:e(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?r={name:"SeaMonkey",seamonkey:a,version:e(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(r={name:"Firefox",firefox:a,version:e(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(r.firefoxos=a)):f?r={name:"Amazon Silk",silk:a,version:e(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?r={name:"PhantomJS",phantom:a,version:e(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?r={name:"SlimerJS",slimer:a,version:e(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?r={name:"BlackBerry",blackberry:a,version:_||e(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:d?(r={name:"WebOS",webos:a,version:_||e(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(r.touchpad=a)):/bada/i.test(t)?r={name:"Bada",bada:a,version:e(/dolfin\/(\d+(\.\d+)?)/i)}:h?r={name:"Tizen",tizen:a,version:e(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_}:/qupzilla/i.test(t)?r={name:"QupZilla",qupzilla:a,version:e(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_}:/chromium/i.test(t)?r={name:"Chromium",chromium:a,version:e(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_}:/chrome|crios|crmo/i.test(t)?r={name:"Chrome",chrome:a,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?r={name:"Android",version:_}:/safari|applewebkit/i.test(t)?(r={name:"Safari",safari:a},_&&(r.version=_)):o?(r={name:"iphone"==o?"iPhone":"ipad"==o?"iPad":"iPod"},_&&(r.version=_)):r=/googlebot/i.test(t)?{name:"Googlebot",googlebot:a,version:e(/googlebot\/(\d+(\.\d+))/i)||_}:{name:e(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(r.name=r.name||"Blink",r.blink=a):(r.name=r.name||"Webkit",r.webkit=a),!r.version&&_&&(r.version=_)):!r.opera&&/gecko\//i.test(t)&&(r.name=r.name||"Gecko",r.gecko=a,r.version=r.version||e(/gecko\/(\d+(\.\d+)?)/i)),r.msedge||!s&&!r.silk?o?(r[o]=a,r.ios=a):v?r.mac=a:T?r.xbox=a:y?r.windows=a:g&&(r.linux=a):r.android=a;var E="";r.windowsphone?E=e(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):o?(E=e(/os (\d+([_\s]\d+)*) like mac os x/i),E=E.replace(/[_\s]/g,".")):s?E=e(/android[ \/-](\d+(\.\d+)*)/i):r.webos?E=e(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?E=e(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?E=e(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(E=e(/tizen[\/\s](\d+(\.\d+)*)/i)),E&&(r.osversion=E);var C=E.split(".")[0];return x||u||"ipad"==o||s&&(3==C||C>=4&&!w)||r.silk?r.tablet=a:(w||"iphone"==o||"ipod"==o||s||l||r.blackberry||r.webos||r.bada)&&(r.mobile=a),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=a:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=a:r.x=a,r}function e(t){return t.split(".").length}function n(t,e){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)r.push(e(t[n]));return r}function r(t){for(var r=Math.max(e(t[0]),e(t[1])),o=n(t,function(t){var o=r-e(t);return t+=new Array(o+1).join(".0"),n(t.split("."),function(t){return new Array(20-t.length).join("0")+t}).reverse()});--r>=0;){if(o[0][r]>o[1][r])return 1;if(o[0][r]!==o[1][r])return-1;if(0===r)return 0}}function o(e,n,o){var i=s;"string"==typeof n&&(o=n,n=void 0),void 0===n&&(n=!1),o&&(i=t(o));var a=""+i.version;for(var l in e)if(e.hasOwnProperty(l)&&i[l])return r([a,e[l]])<0;return n}function i(t,e,n){return!o(t,e,n)}var a=!0,s=t("undefined"!=typeof navigator?navigator.userAgent||"":"");return s.test=function(t){for(var e=0;e<t.length;++e){var n=t[e];if("string"==typeof n&&n in s)return!0}return!1},s.isUnsupportedBrowser=o,s.compareVersions=r,s.check=i,s._detect=t,s})},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e=t.browser,n=t.version,r=t.prefix,o="keyframes";return("chrome"===e&&n<43||("safari"===e||"ios_saf"===e)&&n<9||"opera"===e&&n<30||"android"===e&&n<=4.4||"and_uc"===e)&&(o=r.css+o),o},t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={chrome:{transform:35,transformOrigin:35,transformOriginX:35,transformOriginY:35,backfaceVisibility:35,perspective:35,perspectiveOrigin:35,transformStyle:35,transformOriginZ:35,animation:42,animationDelay:42,animationDirection:42,animationFillMode:42,animationDuration:42,animationIterationCount:42,animationName:42,animationPlayState:42,animationTimingFunction:42,appearance:55,userSelect:55,fontKerning:32,textEmphasisPosition:55,textEmphasis:55,textEmphasisStyle:55,textEmphasisColor:55,boxDecorationBreak:55,clipPath:55,maskImage:55,maskMode:55,maskRepeat:55,maskPosition:55,maskClip:55,maskOrigin:55,maskSize:55,maskComposite:55,mask:55,maskBorderSource:55,maskBorderMode:55,maskBorderSlice:55,maskBorderWidth:55,maskBorderOutset:55,maskBorderRepeat:55,maskBorder:55,maskType:55,textDecorationStyle:55,textDecorationSkip:55,textDecorationLine:55,textDecorationColor:55,filter:52,fontFeatureSettings:47,breakAfter:49,breakBefore:49,breakInside:49,columnCount:49,columnFill:49,columnGap:49,columnRule:49,columnRuleColor:49,columnRuleStyle:49,columnRuleWidth:49,columns:49,columnSpan:49,columnWidth:49},safari:{flex:8,flexBasis:8,flexDirection:8,flexGrow:8,flexFlow:8,flexShrink:8,flexWrap:8,alignContent:8,alignItems:8,alignSelf:8,justifyContent:8,order:8,transition:6,transitionDelay:6,transitionDuration:6,transitionProperty:6,transitionTimingFunction:6,transform:8,transformOrigin:8,transformOriginX:8,transformOriginY:8,backfaceVisibility:8,perspective:8,perspectiveOrigin:8,transformStyle:8,transformOriginZ:8,animation:8,animationDelay:8,animationDirection:8,animationFillMode:8,animationDuration:8,animationIterationCount:8,animationName:8,animationPlayState:8,animationTimingFunction:8,appearance:10,userSelect:10,backdropFilter:10,fontKerning:9,scrollSnapType:10,scrollSnapPointsX:10,scrollSnapPointsY:10,scrollSnapDestination:10,scrollSnapCoordinate:10,textEmphasisPosition:7,textEmphasis:7,textEmphasisStyle:7,textEmphasisColor:7,boxDecorationBreak:10,clipPath:10,maskImage:10,maskMode:10,maskRepeat:10,maskPosition:10,maskClip:10,maskOrigin:10,maskSize:10,maskComposite:10,mask:10,maskBorderSource:10,maskBorderMode:10,maskBorderSlice:10,maskBorderWidth:10,maskBorderOutset:10,maskBorderRepeat:10,maskBorder:10,maskType:10,textDecorationStyle:10,textDecorationSkip:10,textDecorationLine:10,textDecorationColor:10,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:10,flowInto:10,flowFrom:10,breakBefore:8,breakAfter:8,breakInside:8,regionFragment:10,columnCount:8,columnFill:8,columnGap:8,columnRule:8,columnRuleColor:8,columnRuleStyle:8,columnRuleWidth:8,columns:8,columnSpan:8,columnWidth:8},firefox:{appearance:51,userSelect:51,boxSizing:28,textAlignLast:48,textDecorationStyle:35,textDecorationSkip:35,textDecorationLine:35,textDecorationColor:35,tabSize:51,hyphens:42,fontFeatureSettings:33,breakAfter:51,breakBefore:51,breakInside:51,columnCount:51,columnFill:51,columnGap:51,columnRule:51,columnRuleColor:51,columnRuleStyle:51,columnRuleWidth:51,columns:51,columnSpan:51,columnWidth:51},opera:{flex:16,flexBasis:16,flexDirection:16,flexGrow:16,flexFlow:16,flexShrink:16,flexWrap:16,alignContent:16,alignItems:16,alignSelf:16,justifyContent:16,order:16,transform:22,transformOrigin:22,transformOriginX:22,transformOriginY:22,backfaceVisibility:22,perspective:22,perspectiveOrigin:22,transformStyle:22,transformOriginZ:22,animation:29,animationDelay:29,animationDirection:29,animationFillMode:29,animationDuration:29,animationIterationCount:29,animationName:29,animationPlayState:29,animationTimingFunction:29,appearance:41,userSelect:41,fontKerning:19,textEmphasisPosition:41,textEmphasis:41,textEmphasisStyle:41,textEmphasisColor:41,boxDecorationBreak:41,clipPath:41,maskImage:41,maskMode:41,maskRepeat:41,maskPosition:41,maskClip:41,maskOrigin:41,maskSize:41,maskComposite:41,mask:41,maskBorderSource:41,maskBorderMode:41,maskBorderSlice:41,maskBorderWidth:41,maskBorderOutset:41,maskBorderRepeat:41,maskBorder:41,maskType:41,textDecorationStyle:41,textDecorationSkip:41,textDecorationLine:41,textDecorationColor:41,filter:39,fontFeatureSettings:34,breakAfter:36,breakBefore:36,breakInside:36,columnCount:36,columnFill:36,columnGap:36,columnRule:36,columnRuleColor:36,columnRuleStyle:36,columnRuleWidth:36,columns:36,columnSpan:36,columnWidth:36},ie:{flex:10,flexDirection:10,flexFlow:10,flexWrap:10,transform:9,transformOrigin:9,transformOriginX:9,transformOriginY:9,userSelect:11,wrapFlow:11,wrapThrough:11,wrapMargin:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,touchAction:10,hyphens:11,flowInto:11,flowFrom:11,breakBefore:11,breakAfter:11,breakInside:11,regionFragment:11,gridTemplateColumns:11,gridTemplateRows:11,gridTemplateAreas:11,gridTemplate:11,gridAutoColumns:11,gridAutoRows:11,gridAutoFlow:11,grid:11,gridRowStart:11,gridColumnStart:11,gridRowEnd:11,gridRow:11,gridColumn:11,gridColumnEnd:11,gridColumnGap:11,gridRowGap:11,gridArea:11,gridGap:11,textSizeAdjust:11},edge:{userSelect:14,wrapFlow:14,wrapThrough:14,wrapMargin:14,scrollSnapType:14,scrollSnapPointsX:14,scrollSnapPointsY:14,scrollSnapDestination:14,scrollSnapCoordinate:14,hyphens:14,flowInto:14,flowFrom:14,breakBefore:14,breakAfter:14,breakInside:14,regionFragment:14,gridTemplateColumns:14,gridTemplateRows:14,gridTemplateAreas:14,gridTemplate:14,gridAutoColumns:14,gridAutoRows:14,gridAutoFlow:14,grid:14,gridRowStart:14,gridColumnStart:14,gridRowEnd:14,gridRow:14,gridColumn:14,gridColumnEnd:14,gridColumnGap:14,gridRowGap:14,gridArea:14,gridGap:14},ios_saf:{flex:8.1,flexBasis:8.1,flexDirection:8.1,flexGrow:8.1,flexFlow:8.1,flexShrink:8.1,flexWrap:8.1,alignContent:8.1,alignItems:8.1,alignSelf:8.1,justifyContent:8.1,order:8.1,transition:6,transitionDelay:6,transitionDuration:6,transitionProperty:6,transitionTimingFunction:6,transform:8.1,transformOrigin:8.1,transformOriginX:8.1,transformOriginY:8.1,backfaceVisibility:8.1,perspective:8.1,perspectiveOrigin:8.1,transformStyle:8.1,transformOriginZ:8.1,animation:8.1,animationDelay:8.1,animationDirection:8.1,animationFillMode:8.1,animationDuration:8.1,animationIterationCount:8.1,animationName:8.1,animationPlayState:8.1,animationTimingFunction:8.1,appearance:9.3,userSelect:9.3,backdropFilter:9.3,fontKerning:9.3,scrollSnapType:9.3,scrollSnapPointsX:9.3,scrollSnapPointsY:9.3,scrollSnapDestination:9.3,scrollSnapCoordinate:9.3,boxDecorationBreak:9.3,clipPath:9.3,maskImage:9.3,maskMode:9.3,maskRepeat:9.3,maskPosition:9.3,maskClip:9.3,maskOrigin:9.3,maskSize:9.3,maskComposite:9.3,mask:9.3,maskBorderSource:9.3,maskBorderMode:9.3,maskBorderSlice:9.3,maskBorderWidth:9.3,maskBorderOutset:9.3,maskBorderRepeat:9.3,maskBorder:9.3,maskType:9.3,textSizeAdjust:9.3,textDecorationStyle:9.3,textDecorationSkip:9.3,textDecorationLine:9.3,textDecorationColor:9.3,shapeImageThreshold:9.3,shapeImageMargin:9.3,shapeImageOutside:9.3,filter:9,hyphens:9.3,flowInto:9.3,flowFrom:9.3,breakBefore:8.1,breakAfter:8.1,breakInside:8.1,regionFragment:9.3,columnCount:8.1,columnFill:8.1,columnGap:8.1,columnRule:8.1,columnRuleColor:8.1,columnRuleStyle:8.1,columnRuleWidth:8.1,columns:8.1,columnSpan:8.1,columnWidth:8.1},android:{flex:4.2,flexBasis:4.2,flexDirection:4.2,flexGrow:4.2,flexFlow:4.2,flexShrink:4.2,flexWrap:4.2,alignContent:4.2,alignItems:4.2,alignSelf:4.2,justifyContent:4.2,order:4.2,transition:4.2,transitionDelay:4.2,transitionDuration:4.2,transitionProperty:4.2,transitionTimingFunction:4.2,transform:4.4,transformOrigin:4.4,transformOriginX:4.4,transformOriginY:4.4,backfaceVisibility:4.4,perspective:4.4,perspectiveOrigin:4.4,transformStyle:4.4,transformOriginZ:4.4,animation:4.4,animationDelay:4.4,animationDirection:4.4,animationFillMode:4.4,animationDuration:4.4,animationIterationCount:4.4,animationName:4.4,animationPlayState:4.4,animationTimingFunction:4.4,appearance:51,userSelect:51,fontKerning:4.4,textEmphasisPosition:51,textEmphasis:51,textEmphasisStyle:51,textEmphasisColor:51,boxDecorationBreak:51,clipPath:51,maskImage:51,maskMode:51,maskRepeat:51,maskPosition:51,maskClip:51,maskOrigin:51,maskSize:51,maskComposite:51,mask:51,maskBorderSource:51,maskBorderMode:51,maskBorderSlice:51,maskBorderWidth:51,maskBorderOutset:51,maskBorderRepeat:51,maskBorder:51,maskType:51,filter:51,fontFeatureSettings:4.4,breakAfter:51,breakBefore:51,breakInside:51,columnCount:51,columnFill:51,columnGap:51,columnRule:51,columnRuleColor:51,columnRuleStyle:51,columnRuleWidth:51,columns:51,columnSpan:51,columnWidth:51},and_chr:{appearance:51,userSelect:51,textEmphasisPosition:51,textEmphasis:51,textEmphasisStyle:51,textEmphasisColor:51,boxDecorationBreak:51,clipPath:51,maskImage:51,maskMode:51,maskRepeat:51,maskPosition:51,maskClip:51,maskOrigin:51,maskSize:51,maskComposite:51,mask:51,maskBorderSource:51,maskBorderMode:51,maskBorderSlice:51,maskBorderWidth:51,maskBorderOutset:51,maskBorderRepeat:51,maskBorder:51,maskType:51,textDecorationStyle:51,textDecorationSkip:51,textDecorationLine:51,textDecorationColor:51,filter:51},and_uc:{flex:9.9,flexBasis:9.9,flexDirection:9.9,flexGrow:9.9,flexFlow:9.9,flexShrink:9.9,flexWrap:9.9,alignContent:9.9,alignItems:9.9,alignSelf:9.9,justifyContent:9.9,order:9.9,transition:9.9,transitionDelay:9.9,transitionDuration:9.9,transitionProperty:9.9,transitionTimingFunction:9.9,transform:9.9,transformOrigin:9.9,transformOriginX:9.9,transformOriginY:9.9,backfaceVisibility:9.9,perspective:9.9,perspectiveOrigin:9.9,transformStyle:9.9,transformOriginZ:9.9,animation:9.9,animationDelay:9.9,animationDirection:9.9,animationFillMode:9.9,animationDuration:9.9,animationIterationCount:9.9,animationName:9.9,animationPlayState:9.9,animationTimingFunction:9.9,appearance:9.9,userSelect:9.9,fontKerning:9.9,textEmphasisPosition:9.9,textEmphasis:9.9,textEmphasisStyle:9.9,textEmphasisColor:9.9,maskImage:9.9,maskMode:9.9,maskRepeat:9.9,maskPosition:9.9,maskClip:9.9,maskOrigin:9.9,maskSize:9.9,maskComposite:9.9,mask:9.9,maskBorderSource:9.9,maskBorderMode:9.9,maskBorderSlice:9.9,maskBorderWidth:9.9,maskBorderOutset:9.9,maskBorderRepeat:9.9,maskBorder:9.9,maskType:9.9,textSizeAdjust:9.9,filter:9.9,hyphens:9.9,flowInto:9.9,flowFrom:9.9,breakBefore:9.9,breakAfter:9.9,breakInside:9.9,regionFragment:9.9,fontFeatureSettings:9.9,columnCount:9.9,columnFill:9.9,columnGap:9.9,columnRule:9.9,columnRuleColor:9.9,columnRuleStyle:9.9,columnRuleWidth:9.9,columns:9.9,columnSpan:9.9,columnWidth:9.9},op_mini:{}},t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){var e=t.property,n=t.value,r=t.browserInfo,i=r.browser,a=r.version,l=t.prefix.css,u=t.keepUnprefixed;if("string"==typeof n&&n.indexOf("calc(")>-1&&("firefox"===i&&a<15||"chrome"===i&&a<25||"safari"===i&&a<6.1||"ios_saf"===i&&a<7))return o({},e,(0,s["default"])(n.replace(/calc\(/g,l+"calc("),n,u))}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var a=n(884),s=r(a);t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n){return n?[t,e]:t},t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=t.property,n=t.value,r=t.browserInfo,o=r.browser,i=r.version,l=t.prefix.css,u=t.keepUnprefixed;if("cursor"===e&&s[n]&&("firefox"===o&&i<24||"chrome"===o&&i<37||"safari"===o&&i<9||"opera"===o&&i<24))return{cursor:(0,a["default"])(l+n,n,u)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var i=n(884),a=r(i),s={"zoom-in":!0,"zoom-out":!0};t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=t.property,n=t.value,r=t.browserInfo.browser,o=t.prefix.css,i=t.keepUnprefixed;if("cursor"===e&&s[n]&&("firefox"===r||"chrome"===r||"safari"===r||"opera"===r))return{cursor:(0,a["default"])(o+n,n,i)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var i=n(884),a=r(i),s={grab:!0,grabbing:!0};t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=t.property,n=t.value,r=t.browserInfo,o=r.browser,i=r.version,l=t.prefix.css,u=t.keepUnprefixed;if("display"===e&&s[n]&&("chrome"===o&&i<29&&i>20||("safari"===o||"ios_saf"===o)&&i<9&&i>6||"opera"===o&&(15==i||16==i)))return{display:(0,a["default"])(l+n,n,u)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var i=n(884),a=r(i),s={flex:!0,"inline-flex":!0};t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){var e=t.property,n=t.value,r=t.prefix.css,i=t.keepUnprefixed;if(l[e]&&u[n])return o({},e,(0,s["default"])(r+n,n,i))}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var a=n(884),s=r(a),l={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},u={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){var e=t.property,n=t.value,r=t.browserInfo,i=r.browser,a=r.version,u=t.prefix.css,c=t.keepUnprefixed;if("string"==typeof n&&null!==n.match(l)&&("firefox"===i&&a<16||"chrome"===i&&a<26||("safari"===i||"ios_saf"===i)&&a<7||("opera"===i||"op_mini"===i)&&a<12.1||"android"===i&&a<4.4||"and_uc"===i))return o({},e,(0,s["default"])(u+n,n,c))}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var a=n(884),s=r(a),l=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){var e=t.property,n=t.value,r=t.prefix.css,i=t.requiresPrefix,s=t.keepUnprefixed,u=(0,c["default"])(e);if("string"==typeof n&&f[u]){var p=function(){var t=Object.keys(i).map(function(t){return(0,l["default"])(t)}),a=n.split(/,(?![^()]*(?:\([^()]*\))?\))/g);return t.forEach(function(t){a.forEach(function(e,n){e.indexOf(t)>-1&&"order"!==t&&(a[n]=e.replace(t,r+t)+(s?","+e:""))})}),{v:o({},e,a.join(","))}}();if("object"===("undefined"==typeof p?"undefined":a(p)))return p.v}}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e["default"]=i;var s=n(875),l=r(s),u=n(891),c=r(u),f={transition:!0,transitionProperty:!0};t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e=t.replace(/^(ms|Webkit|Moz|O)/,"");return e.charAt(0).toLowerCase()+e.slice(1)},t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){var e=t.property,n=t.value,r=t.styles,i=t.browserInfo,a=i.browser,c=i.version,f=t.prefix.css,p=t.keepUnprefixed;if((u[e]||"display"===e&&"string"==typeof n&&n.indexOf("flex")>-1)&&("ie_mob"===a||"ie"===a)&&10==c){if(p||Array.isArray(r[e])||delete r[e],"display"===e&&l[n])return{display:(0,s["default"])(f+l[n],n,p)};if(u[e])return o({},u[e],l[n]||n)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var a=n(884),s=r(a),l={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end",flex:"flexbox","inline-flex":"inline-flexbox"},u={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msPreferredSize"};t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){var e=t.property,n=t.value,r=t.styles,i=t.browserInfo,a=i.browser,c=i.version,p=t.prefix.css,h=t.keepUnprefixed;if((f.indexOf(e)>-1||"display"===e&&"string"==typeof n&&n.indexOf("flex")>-1)&&("firefox"===a&&c<22||"chrome"===a&&c<21||("safari"===a||"ios_saf"===a)&&c<=6.1||"android"===a&&c<4.4||"and_uc"===a)){if(h||Array.isArray(r[e])||delete r[e],"flexDirection"===e&&"string"==typeof n)return{WebkitBoxOrient:n.indexOf("column")>-1?"vertical":"horizontal",WebkitBoxDirection:n.indexOf("reverse")>-1?"reverse":"normal"};if("display"===e&&l[n])return{display:(0,s["default"])(p+l[n],n,h)};if(u[e])return o({},u[e],l[n]||n)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var a=n(884),s=r(a),l={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},u={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"},c=["alignContent","alignSelf","order","flexGrow","flexShrink","flexBasis","flexDirection"],f=Object.keys(u).concat(c);t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var i=n(308);r(i)},function(t,e){"use strict";function n(t){if(t.isRtl)return function(t){var e={right:"left",left:"right",marginRight:"marginLeft",marginLeft:"marginRight",paddingRight:"paddingLeft",paddingLeft:"paddingRight",borderRight:"borderLeft",borderLeft:"borderRight"},n={};return Object.keys(t).forEach(function(i){var a=t[i],s=i;switch(e.hasOwnProperty(i)&&(s=e[i]),i){case"float":case"textAlign":"right"===a?a="left":"left"===a&&(a="right");break;case"direction":"ltr"===a?a="rtl":"rtl"===a&&(a="ltr");break;case"transform":if(!a)break;var l=void 0;(l=a.match(r))&&(a=a.replace(l[0],l[1]+-parseFloat(l[4]))),(l=a.match(o))&&(a=a.replace(l[0],l[1]+-parseFloat(l[4])+l[5]+l[6]?", "+(-parseFloat(l[7])+l[8]):""));break;case"transformOrigin":if(!a)break;a.indexOf("right")>-1?a=a.replace("right","left"):a.indexOf("left")>-1&&(a=a.replace("left","right"))}n[s]=a}),n}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n;var r=/((^|\s)translate(3d|X)?\()(\-?[\d]+)/,o=/((^|\s)skew(x|y)?\()\s*(\-?[\d]+)(deg|rad|grad)(,\s*(\-?[\d]+)(deg|rad|grad))?/},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};if(1===e.length)return e[0];var r=e[e.length-1];return function(){for(var t=r.apply(void 0,arguments),n=e.length-2;n>=0;n--){var o=e[n];t=o(t)}return t}}e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=n(859),i=function a(){r(this,a),this.textFullBlack=o.fullBlack,this.textDarkBlack=o.darkBlack,this.textLightBlack=o.lightBlack,this.textMinBlack=o.minBlack,this.textFullWhite=o.fullWhite,this.textDarkWhite=o.darkWhite,this.textLightWhite=o.lightWhite,this.fontWeightLight=300,this.fontWeightNormal=400,this.fontWeightMedium=500,this.fontStyleButtonFontSize=14};e["default"]=new i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(316),u=n(822),c=r(u),f=function(t){function e(){return o(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"getChildContext",value:function(){return{muiTheme:this.props.muiTheme||(0,c["default"])()}}},{key:"render",value:function(){return this.props.children}}]),e}(l.Component);f.propTypes={children:l.PropTypes.element,muiTheme:l.PropTypes.object},f.childContextTypes={muiTheme:l.PropTypes.object.isRequired},e["default"]=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(345),s=r(a),l=n(900),u=r(l),c=i["default"].createClass({displayName:"DetectResize",propTypes:{onResize:i["default"].PropTypes.func,children:i["default"].PropTypes.element.isRequired},componentDidMount:function(){this._onResize(),u["default"].addResizeListener(s["default"].findDOMNode(this).parentNode,this._onResize)},componentWillUnmount:function(){u["default"].removeResizeListener(s["default"].findDOMNode(this).parentNode,this._onResize)},_onResize:function(){var t=s["default"].findDOMNode(this);this.props.onResize&&this.props.onResize({width:t.offsetWidth,height:t.offsetHeight})},render:function(){return i["default"].cloneElement(i["default"].Children.only(this.props.children))}});t.exports=c},function(t,e){"use strict";function n(){if(!o){var t=(g?g:"")+".resize-triggers { "+(b?b:"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n),o=!0}}var r=document.attachEvent,o=!1,i={};if(!r){var a=function(){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)};return function(e){return t(e)}}(),s=function(){var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(e){return t(e)}}();i.resetTriggers=function(t){var e=t.__resizeTriggers__,n=e.firstElementChild,r=e.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},i.checkTriggers=function(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height},i.scrollListener=function(t){var e=this;i.resetTriggers(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=a(function(){i.checkTriggers(e)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach(function(n){n.call(e,t)}))})};var l=!1,u="animation",c="",f="animationstart",p="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),d="",m=document.createElement("fakeelement");if(void 0!==m.style.animationName&&(l=!0),l===!1)for(var y=0;y<p.length;y++)if(void 0!==m.style[p[y]+"AnimationName"]){d=p[y],u=d+"Animation",c="-"+d.toLowerCase()+"-",f=h[y],l=!0;break}var v="resizeanim",g="@"+c+"keyframes "+v+" { from { opacity: 0; } to { opacity: 0; } } ",b=c+"animation: 1ms "+v+"; "}var _=function(t,e){r?t.attachEvent("onresize",e):(t.__resizeTriggers__||("static"==getComputedStyle(t).position&&(t.style.position="relative"),n(),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=document.createElement("div")).className="resize-triggers",t.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(t.__resizeTriggers__),i.resetTriggers(t),t.addEventListener("scroll",i.scrollListener,!0),f&&t.__resizeTriggers__.addEventListener(f,function(e){e.animationName==v&&i.resetTriggers(t)})),t.__resizeListeners__.push(e))},x=function(t,e){r?t.detachEvent("onresize",e):(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||(t.removeEventListener("scroll",i.scrollListener),t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)));
};t.exports={addResizeListener:_,removeResizeListener:x}},function(t,e,n){var r=n(902);"string"==typeof r&&(r=[[t.id,r,""]]);n(782)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(781)(),e.push([t.id,"/*!\n *  Font Awesome 4.3.0 by @davegandy - http://fontawesome.io - @fontawesome\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\n */@font-face{font-family:FontAwesome;src:url("+n(903)+");src:url("+n(904)+"?#iefix&v=4.3.0) format('embedded-opentype'),url("+n(905)+") format('woff2'),url("+n(906)+") format('woff'),url("+n(907)+") format('truetype'),url("+n(908)+'#fontawesomeregular) format(\'svg\');font-weight:400;font-style:normal}.fa{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;transform:translate(0)}.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571429em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em;text-align:center}.fa-li.fa-lg{left:-1.85714286em}.fa-border{padding:.2em .25em .15em;border:.08em solid #eee;border-radius:.1em}.pull-right{float:right}.pull-left{float:left}.fa.pull-left{margin-right:.3em}.fa.pull-right{margin-left:.3em}.fa-spin{animation:fa-spin 2s infinite linear}.fa-pulse{animation:fa-spin 1s infinite steps(8)}@keyframes fa-spin{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.fa-rotate-90{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);transform:rotate(90deg)}.fa-rotate-180{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2);transform:rotate(180deg)}.fa-rotate-270{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3);transform:rotate(270deg)}.fa-flip-horizontal{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=0,mirror=1);transform:scaleX(-1)}.fa-flip-vertical{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2,mirror=1);transform:scaleY(-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-90,:root .fa-rotate-180,:root .fa-rotate-270{-webkit-filter:none;filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:"\\F000"}.fa-music:before{content:"\\F001"}.fa-search:before{content:"\\F002"}.fa-envelope-o:before{content:"\\F003"}.fa-heart:before{content:"\\F004"}.fa-star:before{content:"\\F005"}.fa-star-o:before{content:"\\F006"}.fa-user:before{content:"\\F007"}.fa-film:before{content:"\\F008"}.fa-th-large:before{content:"\\F009"}.fa-th:before{content:"\\F00A"}.fa-th-list:before{content:"\\F00B"}.fa-check:before{content:"\\F00C"}.fa-close:before,.fa-remove:before,.fa-times:before{content:"\\F00D"}.fa-search-plus:before{content:"\\F00E"}.fa-search-minus:before{content:"\\F010"}.fa-power-off:before{content:"\\F011"}.fa-signal:before{content:"\\F012"}.fa-cog:before,.fa-gear:before{content:"\\F013"}.fa-trash-o:before{content:"\\F014"}.fa-home:before{content:"\\F015"}.fa-file-o:before{content:"\\F016"}.fa-clock-o:before{content:"\\F017"}.fa-road:before{content:"\\F018"}.fa-download:before{content:"\\F019"}.fa-arrow-circle-o-down:before{content:"\\F01A"}.fa-arrow-circle-o-up:before{content:"\\F01B"}.fa-inbox:before{content:"\\F01C"}.fa-play-circle-o:before{content:"\\F01D"}.fa-repeat:before,.fa-rotate-right:before{content:"\\F01E"}.fa-refresh:before{content:"\\F021"}.fa-list-alt:before{content:"\\F022"}.fa-lock:before{content:"\\F023"}.fa-flag:before{content:"\\F024"}.fa-headphones:before{content:"\\F025"}.fa-volume-off:before{content:"\\F026"}.fa-volume-down:before{content:"\\F027"}.fa-volume-up:before{content:"\\F028"}.fa-qrcode:before{content:"\\F029"}.fa-barcode:before{content:"\\F02A"}.fa-tag:before{content:"\\F02B"}.fa-tags:before{content:"\\F02C"}.fa-book:before{content:"\\F02D"}.fa-bookmark:before{content:"\\F02E"}.fa-print:before{content:"\\F02F"}.fa-camera:before{content:"\\F030"}.fa-font:before{content:"\\F031"}.fa-bold:before{content:"\\F032"}.fa-italic:before{content:"\\F033"}.fa-text-height:before{content:"\\F034"}.fa-text-width:before{content:"\\F035"}.fa-align-left:before{content:"\\F036"}.fa-align-center:before{content:"\\F037"}.fa-align-right:before{content:"\\F038"}.fa-align-justify:before{content:"\\F039"}.fa-list:before{content:"\\F03A"}.fa-dedent:before,.fa-outdent:before{content:"\\F03B"}.fa-indent:before{content:"\\F03C"}.fa-video-camera:before{content:"\\F03D"}.fa-image:before,.fa-photo:before,.fa-picture-o:before{content:"\\F03E"}.fa-pencil:before{content:"\\F040"}.fa-map-marker:before{content:"\\F041"}.fa-adjust:before{content:"\\F042"}.fa-tint:before{content:"\\F043"}.fa-edit:before,.fa-pencil-square-o:before{content:"\\F044"}.fa-share-square-o:before{content:"\\F045"}.fa-check-square-o:before{content:"\\F046"}.fa-arrows:before{content:"\\F047"}.fa-step-backward:before{content:"\\F048"}.fa-fast-backward:before{content:"\\F049"}.fa-backward:before{content:"\\F04A"}.fa-play:before{content:"\\F04B"}.fa-pause:before{content:"\\F04C"}.fa-stop:before{content:"\\F04D"}.fa-forward:before{content:"\\F04E"}.fa-fast-forward:before{content:"\\F050"}.fa-step-forward:before{content:"\\F051"}.fa-eject:before{content:"\\F052"}.fa-chevron-left:before{content:"\\F053"}.fa-chevron-right:before{content:"\\F054"}.fa-plus-circle:before{content:"\\F055"}.fa-minus-circle:before{content:"\\F056"}.fa-times-circle:before{content:"\\F057"}.fa-check-circle:before{content:"\\F058"}.fa-question-circle:before{content:"\\F059"}.fa-info-circle:before{content:"\\F05A"}.fa-crosshairs:before{content:"\\F05B"}.fa-times-circle-o:before{content:"\\F05C"}.fa-check-circle-o:before{content:"\\F05D"}.fa-ban:before{content:"\\F05E"}.fa-arrow-left:before{content:"\\F060"}.fa-arrow-right:before{content:"\\F061"}.fa-arrow-up:before{content:"\\F062"}.fa-arrow-down:before{content:"\\F063"}.fa-mail-forward:before,.fa-share:before{content:"\\F064"}.fa-expand:before{content:"\\F065"}.fa-compress:before{content:"\\F066"}.fa-plus:before{content:"\\F067"}.fa-minus:before{content:"\\F068"}.fa-asterisk:before{content:"\\F069"}.fa-exclamation-circle:before{content:"\\F06A"}.fa-gift:before{content:"\\F06B"}.fa-leaf:before{content:"\\F06C"}.fa-fire:before{content:"\\F06D"}.fa-eye:before{content:"\\F06E"}.fa-eye-slash:before{content:"\\F070"}.fa-exclamation-triangle:before,.fa-warning:before{content:"\\F071"}.fa-plane:before{content:"\\F072"}.fa-calendar:before{content:"\\F073"}.fa-random:before{content:"\\F074"}.fa-comment:before{content:"\\F075"}.fa-magnet:before{content:"\\F076"}.fa-chevron-up:before{content:"\\F077"}.fa-chevron-down:before{content:"\\F078"}.fa-retweet:before{content:"\\F079"}.fa-shopping-cart:before{content:"\\F07A"}.fa-folder:before{content:"\\F07B"}.fa-folder-open:before{content:"\\F07C"}.fa-arrows-v:before{content:"\\F07D"}.fa-arrows-h:before{content:"\\F07E"}.fa-bar-chart-o:before,.fa-bar-chart:before{content:"\\F080"}.fa-twitter-square:before{content:"\\F081"}.fa-facebook-square:before{content:"\\F082"}.fa-camera-retro:before{content:"\\F083"}.fa-key:before{content:"\\F084"}.fa-cogs:before,.fa-gears:before{content:"\\F085"}.fa-comments:before{content:"\\F086"}.fa-thumbs-o-up:before{content:"\\F087"}.fa-thumbs-o-down:before{content:"\\F088"}.fa-star-half:before{content:"\\F089"}.fa-heart-o:before{content:"\\F08A"}.fa-sign-out:before{content:"\\F08B"}.fa-linkedin-square:before{content:"\\F08C"}.fa-thumb-tack:before{content:"\\F08D"}.fa-external-link:before{content:"\\F08E"}.fa-sign-in:before{content:"\\F090"}.fa-trophy:before{content:"\\F091"}.fa-github-square:before{content:"\\F092"}.fa-upload:before{content:"\\F093"}.fa-lemon-o:before{content:"\\F094"}.fa-phone:before{content:"\\F095"}.fa-square-o:before{content:"\\F096"}.fa-bookmark-o:before{content:"\\F097"}.fa-phone-square:before{content:"\\F098"}.fa-twitter:before{content:"\\F099"}.fa-facebook-f:before,.fa-facebook:before{content:"\\F09A"}.fa-github:before{content:"\\F09B"}.fa-unlock:before{content:"\\F09C"}.fa-credit-card:before{content:"\\F09D"}.fa-rss:before{content:"\\F09E"}.fa-hdd-o:before{content:"\\F0A0"}.fa-bullhorn:before{content:"\\F0A1"}.fa-bell:before{content:"\\F0F3"}.fa-certificate:before{content:"\\F0A3"}.fa-hand-o-right:before{content:"\\F0A4"}.fa-hand-o-left:before{content:"\\F0A5"}.fa-hand-o-up:before{content:"\\F0A6"}.fa-hand-o-down:before{content:"\\F0A7"}.fa-arrow-circle-left:before{content:"\\F0A8"}.fa-arrow-circle-right:before{content:"\\F0A9"}.fa-arrow-circle-up:before{content:"\\F0AA"}.fa-arrow-circle-down:before{content:"\\F0AB"}.fa-globe:before{content:"\\F0AC"}.fa-wrench:before{content:"\\F0AD"}.fa-tasks:before{content:"\\F0AE"}.fa-filter:before{content:"\\F0B0"}.fa-briefcase:before{content:"\\F0B1"}.fa-arrows-alt:before{content:"\\F0B2"}.fa-group:before,.fa-users:before{content:"\\F0C0"}.fa-chain:before,.fa-link:before{content:"\\F0C1"}.fa-cloud:before{content:"\\F0C2"}.fa-flask:before{content:"\\F0C3"}.fa-cut:before,.fa-scissors:before{content:"\\F0C4"}.fa-copy:before,.fa-files-o:before{content:"\\F0C5"}.fa-paperclip:before{content:"\\F0C6"}.fa-floppy-o:before,.fa-save:before{content:"\\F0C7"}.fa-square:before{content:"\\F0C8"}.fa-bars:before,.fa-navicon:before,.fa-reorder:before{content:"\\F0C9"}.fa-list-ul:before{content:"\\F0CA"}.fa-list-ol:before{content:"\\F0CB"}.fa-strikethrough:before{content:"\\F0CC"}.fa-underline:before{content:"\\F0CD"}.fa-table:before{content:"\\F0CE"}.fa-magic:before{content:"\\F0D0"}.fa-truck:before{content:"\\F0D1"}.fa-pinterest:before{content:"\\F0D2"}.fa-pinterest-square:before{content:"\\F0D3"}.fa-google-plus-square:before{content:"\\F0D4"}.fa-google-plus:before{content:"\\F0D5"}.fa-money:before{content:"\\F0D6"}.fa-caret-down:before{content:"\\F0D7"}.fa-caret-up:before{content:"\\F0D8"}.fa-caret-left:before{content:"\\F0D9"}.fa-caret-right:before{content:"\\F0DA"}.fa-columns:before{content:"\\F0DB"}.fa-sort:before,.fa-unsorted:before{content:"\\F0DC"}.fa-sort-desc:before,.fa-sort-down:before{content:"\\F0DD"}.fa-sort-asc:before,.fa-sort-up:before{content:"\\F0DE"}.fa-envelope:before{content:"\\F0E0"}.fa-linkedin:before{content:"\\F0E1"}.fa-rotate-left:before,.fa-undo:before{content:"\\F0E2"}.fa-gavel:before,.fa-legal:before{content:"\\F0E3"}.fa-dashboard:before,.fa-tachometer:before{content:"\\F0E4"}.fa-comment-o:before{content:"\\F0E5"}.fa-comments-o:before{content:"\\F0E6"}.fa-bolt:before,.fa-flash:before{content:"\\F0E7"}.fa-sitemap:before{content:"\\F0E8"}.fa-umbrella:before{content:"\\F0E9"}.fa-clipboard:before,.fa-paste:before{content:"\\F0EA"}.fa-lightbulb-o:before{content:"\\F0EB"}.fa-exchange:before{content:"\\F0EC"}.fa-cloud-download:before{content:"\\F0ED"}.fa-cloud-upload:before{content:"\\F0EE"}.fa-user-md:before{content:"\\F0F0"}.fa-stethoscope:before{content:"\\F0F1"}.fa-suitcase:before{content:"\\F0F2"}.fa-bell-o:before{content:"\\F0A2"}.fa-coffee:before{content:"\\F0F4"}.fa-cutlery:before{content:"\\F0F5"}.fa-file-text-o:before{content:"\\F0F6"}.fa-building-o:before{content:"\\F0F7"}.fa-hospital-o:before{content:"\\F0F8"}.fa-ambulance:before{content:"\\F0F9"}.fa-medkit:before{content:"\\F0FA"}.fa-fighter-jet:before{content:"\\F0FB"}.fa-beer:before{content:"\\F0FC"}.fa-h-square:before{content:"\\F0FD"}.fa-plus-square:before{content:"\\F0FE"}.fa-angle-double-left:before{content:"\\F100"}.fa-angle-double-right:before{content:"\\F101"}.fa-angle-double-up:before{content:"\\F102"}.fa-angle-double-down:before{content:"\\F103"}.fa-angle-left:before{content:"\\F104"}.fa-angle-right:before{content:"\\F105"}.fa-angle-up:before{content:"\\F106"}.fa-angle-down:before{content:"\\F107"}.fa-desktop:before{content:"\\F108"}.fa-laptop:before{content:"\\F109"}.fa-tablet:before{content:"\\F10A"}.fa-mobile-phone:before,.fa-mobile:before{content:"\\F10B"}.fa-circle-o:before{content:"\\F10C"}.fa-quote-left:before{content:"\\F10D"}.fa-quote-right:before{content:"\\F10E"}.fa-spinner:before{content:"\\F110"}.fa-circle:before{content:"\\F111"}.fa-mail-reply:before,.fa-reply:before{content:"\\F112"}.fa-github-alt:before{content:"\\F113"}.fa-folder-o:before{content:"\\F114"}.fa-folder-open-o:before{content:"\\F115"}.fa-smile-o:before{content:"\\F118"}.fa-frown-o:before{content:"\\F119"}.fa-meh-o:before{content:"\\F11A"}.fa-gamepad:before{content:"\\F11B"}.fa-keyboard-o:before{content:"\\F11C"}.fa-flag-o:before{content:"\\F11D"}.fa-flag-checkered:before{content:"\\F11E"}.fa-terminal:before{content:"\\F120"}.fa-code:before{content:"\\F121"}.fa-mail-reply-all:before,.fa-reply-all:before{content:"\\F122"}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:"\\F123"}.fa-location-arrow:before{content:"\\F124"}.fa-crop:before{content:"\\F125"}.fa-code-fork:before{content:"\\F126"}.fa-chain-broken:before,.fa-unlink:before{content:"\\F127"}.fa-question:before{content:"\\F128"}.fa-info:before{content:"\\F129"}.fa-exclamation:before{content:"\\F12A"}.fa-superscript:before{content:"\\F12B"}.fa-subscript:before{content:"\\F12C"}.fa-eraser:before{content:"\\F12D"}.fa-puzzle-piece:before{content:"\\F12E"}.fa-microphone:before{content:"\\F130"}.fa-microphone-slash:before{content:"\\F131"}.fa-shield:before{content:"\\F132"}.fa-calendar-o:before{content:"\\F133"}.fa-fire-extinguisher:before{content:"\\F134"}.fa-rocket:before{content:"\\F135"}.fa-maxcdn:before{content:"\\F136"}.fa-chevron-circle-left:before{content:"\\F137"}.fa-chevron-circle-right:before{content:"\\F138"}.fa-chevron-circle-up:before{content:"\\F139"}.fa-chevron-circle-down:before{content:"\\F13A"}.fa-html5:before{content:"\\F13B"}.fa-css3:before{content:"\\F13C"}.fa-anchor:before{content:"\\F13D"}.fa-unlock-alt:before{content:"\\F13E"}.fa-bullseye:before{content:"\\F140"}.fa-ellipsis-h:before{content:"\\F141"}.fa-ellipsis-v:before{content:"\\F142"}.fa-rss-square:before{content:"\\F143"}.fa-play-circle:before{content:"\\F144"}.fa-ticket:before{content:"\\F145"}.fa-minus-square:before{content:"\\F146"}.fa-minus-square-o:before{content:"\\F147"}.fa-level-up:before{content:"\\F148"}.fa-level-down:before{content:"\\F149"}.fa-check-square:before{content:"\\F14A"}.fa-pencil-square:before{content:"\\F14B"}.fa-external-link-square:before{content:"\\F14C"}.fa-share-square:before{content:"\\F14D"}.fa-compass:before{content:"\\F14E"}.fa-caret-square-o-down:before,.fa-toggle-down:before{content:"\\F150"}.fa-caret-square-o-up:before,.fa-toggle-up:before{content:"\\F151"}.fa-caret-square-o-right:before,.fa-toggle-right:before{content:"\\F152"}.fa-eur:before,.fa-euro:before{content:"\\F153"}.fa-gbp:before{content:"\\F154"}.fa-dollar:before,.fa-usd:before{content:"\\F155"}.fa-inr:before,.fa-rupee:before{content:"\\F156"}.fa-cny:before,.fa-jpy:before,.fa-rmb:before,.fa-yen:before{content:"\\F157"}.fa-rouble:before,.fa-rub:before,.fa-ruble:before{content:"\\F158"}.fa-krw:before,.fa-won:before{content:"\\F159"}.fa-bitcoin:before,.fa-btc:before{content:"\\F15A"}.fa-file:before{content:"\\F15B"}.fa-file-text:before{content:"\\F15C"}.fa-sort-alpha-asc:before{content:"\\F15D"}.fa-sort-alpha-desc:before{content:"\\F15E"}.fa-sort-amount-asc:before{content:"\\F160"}.fa-sort-amount-desc:before{content:"\\F161"}.fa-sort-numeric-asc:before{content:"\\F162"}.fa-sort-numeric-desc:before{content:"\\F163"}.fa-thumbs-up:before{content:"\\F164"}.fa-thumbs-down:before{content:"\\F165"}.fa-youtube-square:before{content:"\\F166"}.fa-youtube:before{content:"\\F167"}.fa-xing:before{content:"\\F168"}.fa-xing-square:before{content:"\\F169"}.fa-youtube-play:before{content:"\\F16A"}.fa-dropbox:before{content:"\\F16B"}.fa-stack-overflow:before{content:"\\F16C"}.fa-instagram:before{content:"\\F16D"}.fa-flickr:before{content:"\\F16E"}.fa-adn:before{content:"\\F170"}.fa-bitbucket:before{content:"\\F171"}.fa-bitbucket-square:before{content:"\\F172"}.fa-tumblr:before{content:"\\F173"}.fa-tumblr-square:before{content:"\\F174"}.fa-long-arrow-down:before{content:"\\F175"}.fa-long-arrow-up:before{content:"\\F176"}.fa-long-arrow-left:before{content:"\\F177"}.fa-long-arrow-right:before{content:"\\F178"}.fa-apple:before{content:"\\F179"}.fa-windows:before{content:"\\F17A"}.fa-android:before{content:"\\F17B"}.fa-linux:before{content:"\\F17C"}.fa-dribbble:before{content:"\\F17D"}.fa-skype:before{content:"\\F17E"}.fa-foursquare:before{content:"\\F180"}.fa-trello:before{content:"\\F181"}.fa-female:before{content:"\\F182"}.fa-male:before{content:"\\F183"}.fa-gittip:before,.fa-gratipay:before{content:"\\F184"}.fa-sun-o:before{content:"\\F185"}.fa-moon-o:before{content:"\\F186"}.fa-archive:before{content:"\\F187"}.fa-bug:before{content:"\\F188"}.fa-vk:before{content:"\\F189"}.fa-weibo:before{content:"\\F18A"}.fa-renren:before{content:"\\F18B"}.fa-pagelines:before{content:"\\F18C"}.fa-stack-exchange:before{content:"\\F18D"}.fa-arrow-circle-o-right:before{content:"\\F18E"}.fa-arrow-circle-o-left:before{content:"\\F190"}.fa-caret-square-o-left:before,.fa-toggle-left:before{content:"\\F191"}.fa-dot-circle-o:before{content:"\\F192"}.fa-wheelchair:before{content:"\\F193"}.fa-vimeo-square:before{content:"\\F194"}.fa-try:before,.fa-turkish-lira:before{content:"\\F195"}.fa-plus-square-o:before{content:"\\F196"}.fa-space-shuttle:before{content:"\\F197"}.fa-slack:before{content:"\\F198"}.fa-envelope-square:before{content:"\\F199"}.fa-wordpress:before{content:"\\F19A"}.fa-openid:before{content:"\\F19B"}.fa-bank:before,.fa-institution:before,.fa-university:before{content:"\\F19C"}.fa-graduation-cap:before,.fa-mortar-board:before{content:"\\F19D"}.fa-yahoo:before{content:"\\F19E"}.fa-google:before{content:"\\F1A0"}.fa-reddit:before{content:"\\F1A1"}.fa-reddit-square:before{content:"\\F1A2"}.fa-stumbleupon-circle:before{content:"\\F1A3"}.fa-stumbleupon:before{content:"\\F1A4"}.fa-delicious:before{content:"\\F1A5"}.fa-digg:before{content:"\\F1A6"}.fa-pied-piper:before{content:"\\F1A7"}.fa-pied-piper-alt:before{content:"\\F1A8"}.fa-drupal:before{content:"\\F1A9"}.fa-joomla:before{content:"\\F1AA"}.fa-language:before{content:"\\F1AB"}.fa-fax:before{content:"\\F1AC"}.fa-building:before{content:"\\F1AD"}.fa-child:before{content:"\\F1AE"}.fa-paw:before{content:"\\F1B0"}.fa-spoon:before{content:"\\F1B1"}.fa-cube:before{content:"\\F1B2"}.fa-cubes:before{content:"\\F1B3"}.fa-behance:before{content:"\\F1B4"}.fa-behance-square:before{content:"\\F1B5"}.fa-steam:before{content:"\\F1B6"}.fa-steam-square:before{content:"\\F1B7"}.fa-recycle:before{content:"\\F1B8"}.fa-automobile:before,.fa-car:before{content:"\\F1B9"}.fa-cab:before,.fa-taxi:before{content:"\\F1BA"}.fa-tree:before{content:"\\F1BB"}.fa-spotify:before{content:"\\F1BC"}.fa-deviantart:before{content:"\\F1BD"}.fa-soundcloud:before{content:"\\F1BE"}.fa-database:before{content:"\\F1C0"}.fa-file-pdf-o:before{content:"\\F1C1"}.fa-file-word-o:before{content:"\\F1C2"}.fa-file-excel-o:before{content:"\\F1C3"}.fa-file-powerpoint-o:before{content:"\\F1C4"}.fa-file-image-o:before,.fa-file-photo-o:before,.fa-file-picture-o:before{content:"\\F1C5"}.fa-file-archive-o:before,.fa-file-zip-o:before{content:"\\F1C6"}.fa-file-audio-o:before,.fa-file-sound-o:before{content:"\\F1C7"}.fa-file-movie-o:before,.fa-file-video-o:before{content:"\\F1C8"}.fa-file-code-o:before{content:"\\F1C9"}.fa-vine:before{content:"\\F1CA"}.fa-codepen:before{content:"\\F1CB"}.fa-jsfiddle:before{content:"\\F1CC"}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-ring:before,.fa-life-saver:before,.fa-support:before{content:"\\F1CD"}.fa-circle-o-notch:before{content:"\\F1CE"}.fa-ra:before,.fa-rebel:before{content:"\\F1D0"}.fa-empire:before,.fa-ge:before{content:"\\F1D1"}.fa-git-square:before{content:"\\F1D2"}.fa-git:before{content:"\\F1D3"}.fa-hacker-news:before{content:"\\F1D4"}.fa-tencent-weibo:before{content:"\\F1D5"}.fa-qq:before{content:"\\F1D6"}.fa-wechat:before,.fa-weixin:before{content:"\\F1D7"}.fa-paper-plane:before,.fa-send:before{content:"\\F1D8"}.fa-paper-plane-o:before,.fa-send-o:before{content:"\\F1D9"}.fa-history:before{content:"\\F1DA"}.fa-circle-thin:before,.fa-genderless:before{content:"\\F1DB"}.fa-header:before{content:"\\F1DC"}.fa-paragraph:before{content:"\\F1DD"}.fa-sliders:before{content:"\\F1DE"}.fa-share-alt:before{content:"\\F1E0"}.fa-share-alt-square:before{content:"\\F1E1"}.fa-bomb:before{content:"\\F1E2"}.fa-futbol-o:before,.fa-soccer-ball-o:before{content:"\\F1E3"}.fa-tty:before{content:"\\F1E4"}.fa-binoculars:before{content:"\\F1E5"}.fa-plug:before{content:"\\F1E6"}.fa-slideshare:before{content:"\\F1E7"}.fa-twitch:before{content:"\\F1E8"}.fa-yelp:before{content:"\\F1E9"}.fa-newspaper-o:before{content:"\\F1EA"}.fa-wifi:before{content:"\\F1EB"}.fa-calculator:before{content:"\\F1EC"}.fa-paypal:before{content:"\\F1ED"}.fa-google-wallet:before{content:"\\F1EE"}.fa-cc-visa:before{content:"\\F1F0"}.fa-cc-mastercard:before{content:"\\F1F1"}.fa-cc-discover:before{content:"\\F1F2"}.fa-cc-amex:before{content:"\\F1F3"}.fa-cc-paypal:before{content:"\\F1F4"}.fa-cc-stripe:before{content:"\\F1F5"}.fa-bell-slash:before{content:"\\F1F6"}.fa-bell-slash-o:before{content:"\\F1F7"}.fa-trash:before{content:"\\F1F8"}.fa-copyright:before{content:"\\F1F9"}.fa-at:before{content:"\\F1FA"}.fa-eyedropper:before{content:"\\F1FB"}.fa-paint-brush:before{content:"\\F1FC"}.fa-birthday-cake:before{content:"\\F1FD"}.fa-area-chart:before{content:"\\F1FE"}.fa-pie-chart:before{content:"\\F200"}.fa-line-chart:before{content:"\\F201"}.fa-lastfm:before{content:"\\F202"}.fa-lastfm-square:before{content:"\\F203"}.fa-toggle-off:before{content:"\\F204"}.fa-toggle-on:before{content:"\\F205"}.fa-bicycle:before{content:"\\F206"}.fa-bus:before{content:"\\F207"}.fa-ioxhost:before{content:"\\F208"}.fa-angellist:before{content:"\\F209"}.fa-cc:before{content:"\\F20A"}.fa-ils:before,.fa-shekel:before,.fa-sheqel:before{content:"\\F20B"}.fa-meanpath:before{content:"\\F20C"}.fa-buysellads:before{content:"\\F20D"}.fa-connectdevelop:before{content:"\\F20E"}.fa-dashcube:before{content:"\\F210"}.fa-forumbee:before{content:"\\F211"}.fa-leanpub:before{content:"\\F212"}.fa-sellsy:before{content:"\\F213"}.fa-shirtsinbulk:before{content:"\\F214"}.fa-simplybuilt:before{content:"\\F215"}.fa-skyatlas:before{content:"\\F216"}.fa-cart-plus:before{content:"\\F217"}.fa-cart-arrow-down:before{content:"\\F218"}.fa-diamond:before{content:"\\F219"}.fa-ship:before{content:"\\F21A"}.fa-user-secret:before{content:"\\F21B"}.fa-motorcycle:before{content:"\\F21C"}.fa-street-view:before{content:"\\F21D"}.fa-heartbeat:before{content:"\\F21E"}.fa-venus:before{content:"\\F221"}.fa-mars:before{content:"\\F222"}.fa-mercury:before{content:"\\F223"}.fa-transgender:before{content:"\\F224"}.fa-transgender-alt:before{content:"\\F225"}.fa-venus-double:before{content:"\\F226"}.fa-mars-double:before{content:"\\F227"}.fa-venus-mars:before{content:"\\F228"}.fa-mars-stroke:before{content:"\\F229"}.fa-mars-stroke-v:before{content:"\\F22A"}.fa-mars-stroke-h:before{content:"\\F22B"}.fa-neuter:before{content:"\\F22C"}.fa-facebook-official:before{content:"\\F230"}.fa-pinterest-p:before{content:"\\F231"}.fa-whatsapp:before{content:"\\F232"}.fa-server:before{content:"\\F233"}.fa-user-plus:before{content:"\\F234"}.fa-user-times:before{content:"\\F235"}.fa-bed:before,.fa-hotel:before{content:"\\F236"}.fa-viacoin:before{content:"\\F237"}.fa-train:before{content:"\\F238"}.fa-subway:before{content:"\\F239"}.fa-medium:before{content:"\\F23A"}',""])},function(t,e,n){t.exports=n.p+"f7c2b4b747b1a225eb8dee034134a1b0.eot"},903,function(t,e,n){t.exports=n.p+"97493d3f11c0a3bd5cbd959f5d19b699.woff2"},function(t,e,n){t.exports=n.p+"d9ee23d59d0e0e727b51368b458a0bff.woff"},function(t,e,n){t.exports=n.p+"706450d7bba6374ca02fe167d86685cb.ttf"},function(t,e,n){t.exports=n.p+"2980083682e94d33a66eef2e7d612519.svg"},function(t,e,n){var r=n(910);"string"==typeof r&&(r=[[t.id,r,""]]);n(782)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(781)(),e.push([t.id,'.tabbed-area{position:absolute;width:100%;height:100%}.tabbed-area .tab-content{position:relative;width:100%;height:calc(100% - 44px - 4px - 3px)}.tabbed-area .tab-content .tab-pane{display:none;position:absolute;top:0;left:0;overflow:hidden;clear:both;width:100%;height:100%}.tabbed-area .tab-content .tab-pane.active{overflow:auto;display:inherit}.tabbed-area .tabs{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;min-height:44px;border-bottom:4px solid #3d8bd5;padding-top:3px}.tabbed-area .tabs .tab{font-size:15px;display:-ms-flexbox;display:flex;margin-right:0;margin-left:3px;cursor:pointer;top:1px;overflow:hidden;white-space:nowrap;min-width:100px;max-width:250px;padding-left:10px;padding-right:10px}.tabbed-area .tabs .tab .title{-ms-flex:1;flex:1;vertical-align:middle;line-height:44px;text-overflow:ellipsis;overflow:hidden}.tabbed-area .tabs .tab.active{top:0;background:#3d8bd5;color:#fff}.tabbed-area .tabs .tab.active .icon .bitmap{-webkit-filter:invert(100%);filter:invert(100%)}.tabbed-area .tabs .tab.inactive:hover{background:#66a2de;color:#fff}.tabbed-area .tabs .tab.inactive:hover .icon .bitmap{-webkit-filter:invert(100%);filter:invert(100%)}.tabbed-area .tabs .tab.inactive .action{visibility:hidden}.tabbed-area .tabs .tab.dragging{z-index:9999}.tabbed-area .tabs .icon{line-height:44px;margin-left:5px;margin-right:5px;opacity:.5}.tabbed-area .tabs .icon .bitmap{transform:translateY(3px)}.tabbed-area .tabs .icon.close:hover{opacity:1}.icon{position:relative;vertical-align:middle;font-size:22px;cursor:pointer}.icon .bitmap{height:22px}.icon:hover{opacity:1}.icon.close{opacity:.3}.icon.close:hover{opacity:1}.icon.inverted-bitmap{-webkit-filter:invert(100%);filter:invert(100%)}.icon.inverted-bitmap img.bitmap{vertical-align:middle}.popups{position:absolute;top:0;left:0;width:0;height:0}.popup{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:fixed!important;border:1px solid #6e6e6e;box-shadow:0 19px 60px rgba(0,0,0,.3),0 15px 20px rgba(0,0,0,.22);background:#fff;z-index:1002}.popup .popup-drag{position:absolute;height:33px;width:calc(100% - 64px);top:0;left:0;cursor:move;z-index:1003}.popup .popup-header{overflow:hidden;white-space:nowrap;height:33px;cursor:move;font-size:10pt;font-weight:700;color:#fff;background:linear-gradient(90deg,#3d8bd5 0,#3d8bd5);display:-ms-flexbox;display:flex;box-shadow:0 1px 6px rgba(0,0,0,.12),0 1px 4px rgba(0,0,0,.24);position:relative;z-index:3}.popup .popup-header .icon{line-height:33px;margin-left:5px;margin-right:5px}.popup .popup-header .icon .bitmap{-webkit-filter:invert(100%);filter:invert(100%);transform:translateY(3px)}.popup .popup-header .title{-ms-flex:1;flex:1;vertical-align:middle;line-height:33px;margin-left:1em;margin-right:1em;text-overflow:ellipsis;overflow:hidden}.popup .popup-body{position:relative;-ms-flex:1;flex:1;overflow:auto}.modal{display:-ms-flexbox;display:flex;visibility:hidden;overflow:hidden;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;z-index:9999;position:absolute;width:100%;height:100%;top:0;left:0;outline:0;opacity:0;background:rgba(0,0,0,.7);transition:visibility 0s linear .5s,opacity .5s linear}.modal .popup{position:static!important;transition:none;visibility:hidden}.modal .popup .popup-header{cursor:inherit}.modal.visible{opacity:1;transition-delay:0s}.modal.visible,.modal.visible .popup{visibility:visible}.react-resizable{position:relative}.react-resizable-handle.react-draggable{position:absolute;width:20px;height:20px;bottom:0;right:0;background:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pg08IS0tIEdlbmVyYXRvcjogQWRvYmUgRmlyZXdvcmtzIENTNiwgRXhwb3J0IFNWRyBFeHRlbnNpb24gYnkgQWFyb24gQmVhbGwgKGh0dHA6Ly9maXJld29ya3MuYWJlYWxsLmNvbSkgLiBWZXJzaW9uOiAwLjYuMSAgLS0+DTwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DTxzdmcgaWQ9IlVudGl0bGVkLVBhZ2UlMjAxIiB2aWV3Qm94PSIwIDAgNiA2IiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjojZmZmZmZmMDAiIHZlcnNpb249IjEuMSINCXhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiDQl4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjZweCIgaGVpZ2h0PSI2cHgiDT4NCTxnIG9wYWNpdHk9IjAuMzAyIj4NCQk8cGF0aCBkPSJNIDYgNiBMIDAgNiBMIDAgNC4yIEwgNCA0LjIgTCA0LjIgNC4yIEwgNC4yIDAgTCA2IDAgTCA2IDYgTCA2IDYgWiIgZmlsbD0iIzAwMDAwMCIvPg0JPC9nPg08L3N2Zz4=");background-position:100% 100%;padding:0 3px 3px 0;background-repeat:no-repeat;background-origin:content-box;box-sizing:border-box;cursor:se-resize;transform:none!important;-webkit-transform:none!important;-ms-transform:none!important;-o-transform:none!important;-moz-transform:none!important;z-index:99}.status-text{text-align:center;font-style:italic;opacity:.5}.top-bar{background:#3d8bd5;box-shadow:0 1px 6px rgba(0,0,0,.12),0 1px 4px rgba(0,0,0,.24);position:relative;z-index:2}.top-bar .block{display:inline-block;margin-left:5px;white-space:nowrap}.top-bar .block .icon:first-child{margin-left:0}.top-bar .btn{border:none;background:transparent;color:#fff}.top-bar .text{vertical-align:middle;line-height:33px;color:#fff;margin-left:7px;margin-right:7px}.top-bar .icon{margin-left:5px;margin-right:5px;line-height:33px;color:#fff}.top-bar .disabled{color:#66a2de}.datatable{width:100%;height:100%;overflow:hidden;position:absolute}.sidebar{width:248px;padding:12px 9px}.sidebar-header{line-height:normal}.sidebar-header .icon-holder{border-radius:9px;border:2px solid #66a2de;padding:5px;margin-right:10px;margin-bottom:10px;float:left;background-color:#e6f4f5}.sidebar-header .icon-holder .icon{font-size:30px;line-height:30px;color:#3d8bd5}.sidebar-header .icon-holder .icon .bitmap{height:30px}.stack{display:-ms-flexbox;display:flex;width:100%;height:100%}.stack div.grow{position:relative;-ms-flex:1;flex:1}.stack.start-align{-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:center;justify-content:center}.stack.start-align .description{padding:20px 10px 0}.stack.wrap{-ms-flex-wrap:wrap;flex-wrap:wrap}.stack.vertical{-ms-flex-direction:column;flex-direction:column}.stack.horizontal{-ms-flex-direction:row;flex-direction:row}.stack.spread{-ms-flex-pack:distribute;justify-content:space-around;-ms-flex-line-pack:distribute;align-content:space-around}.pointer{cursor:pointer}.large-modal{height:calc(100vh - 150px);width:calc(100vw - 150px)}.tall-modal{max-height:calc(100vh - 150px)}.centering-container{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;padding:20px}.scroll-within{overflow:auto}.query-editor-container{padding:5px}.query-editor{margin:5px;min-width:-webkit-min-content;min-width:-moz-min-content;min-width:min-content;min-height:-webkit-min-content;min-height:-moz-min-content;min-height:min-content;text-align:center;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAALCAYAAABPhbxiAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAGYktHRADgAOAA4Nh/TngAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQffBwgNOB69YOJuAAABmUlEQVQoz21QPasTURA9d+4WuyEJ4WKjYGWxiEm08AfYWCikUrQVEowRIpqwpb/AyuI1YRcEK8XiwYME/BGJzWv9BZpIPnfvx1wb88h78VTDnDlz5owYj8cPlVJZURSTxWLxLk3TrRACV2GtxXA4fFUul9/M5/O3FEXRU631TSnlS6XUt263e52ZL4mYGYPB4HWpVDqx1t6OougJ7UljDIjokVJq0uv17jvn4L1Hu90uJ0nyuVKpnFhryXsPAAiY2UspQURgZhDRXaXUpN/v94wxP6rV6scwDB9bawEAQggwsw+890eBvPfXarXaF+/9HyJSzrkL0T9ekHNuedg8EBMRKWY+4pxzS9Jap8aYc/wH+yftcwkhYIw511qncrVa/W40GmdEdCcIgluH2w9r7z3yPP++Xq+fj0ajnzKOY0yn02W9Xj9l5htSyntEdMnJOYfNZvNpt9u9yLLslxACMo5jAMBsNtPNZvPMOWeEEA+CIBAAUBQFb7fb91rrJMuy4uKaVqt1lK3T6TwLw/ADAOR5nqRp+vXqzF/6b8+GPmTC7wAAAABJRU5ErkJggg==");background-position:50%;background-repeat:repeat-y}.query-editor .endpoint{display:inline-block;border-radius:18px;background:#e0e0e0;padding:10px}.query-editor .criteria{display:inline-block;margin:10px}.query-editor .or{margin:5px}.query-editor .or .startline{height:16px;background:#e0e0e0;border-top-left-radius:16px;border-top-right-radius:16px}.query-editor .or .endline{height:16px;background:#e0e0e0;border-bottom-left-radius:16px;border-bottom-right-radius:16px}.query-editor .or .components{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:center;justify-content:center;min-width:-webkit-min-content;min-width:-moz-min-content;min-width:min-content;min-height:-webkit-min-content;min-height:-moz-min-content;min-height:min-content;border-right:2px solid #e0e0e0;border-left:2px solid #e0e0e0;background:#fff}.query-editor .or .components .or-criteria-wrapper{padding-top:5px;padding-bottom:5px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAALCAYAAABPhbxiAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAGYktHRADgAOAA4Nh/TngAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQffBwgNOB69YOJuAAABmUlEQVQoz21QPasTURA9d+4WuyEJ4WKjYGWxiEm08AfYWCikUrQVEowRIpqwpb/AyuI1YRcEK8XiwYME/BGJzWv9BZpIPnfvx1wb88h78VTDnDlz5owYj8cPlVJZURSTxWLxLk3TrRACV2GtxXA4fFUul9/M5/O3FEXRU631TSnlS6XUt263e52ZL4mYGYPB4HWpVDqx1t6OougJ7UljDIjokVJq0uv17jvn4L1Hu90uJ0nyuVKpnFhryXsPAAiY2UspQURgZhDRXaXUpN/v94wxP6rV6scwDB9bawEAQggwsw+890eBvPfXarXaF+/9HyJSzrkL0T9ekHNuedg8EBMRKWY+4pxzS9Jap8aYc/wH+yftcwkhYIw511qncrVa/W40GmdEdCcIgluH2w9r7z3yPP++Xq+fj0ajnzKOY0yn02W9Xj9l5htSyntEdMnJOYfNZvNpt9u9yLLslxACMo5jAMBsNtPNZvPMOWeEEA+CIBAAUBQFb7fb91rrJMuy4uKaVqt1lK3T6TwLw/ADAOR5nqRp+vXqzF/6b8+GPmTC7wAAAABJRU5ErkJggg==");background-position:50%;background-repeat:repeat-y}.query-editor .and{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;min-width:-webkit-min-content;min-width:-moz-min-content;min-width:min-content;min-height:-webkit-min-content;min-height:-moz-min-content;min-height:min-content}.query-editor .criterion{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;margin:5px;padding:5px}.query-editor .criterion .close{color:#000}.query-editor .criterion input,.query-editor .criterion select{margin:5px;width:150px;display:block}.query-editor .criterion input{text-indent:3px}.query-editor .criterion .actions{border-left:1px solid #e0e0e0}.query-editor .criterion .icon{height:18px;line-height:18px}.query-editor .criterion .action{cursor:pointer;height:18px;line-height:18px;margin:5px;opacity:.3}.query-editor .criterion .action:hover{opacity:1}.query-editor .criterion .icon-wrapper{position:relative}.query-editor .criterion .icon-overlay{position:absolute;top:3px;left:0}select{-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAIAAAB1kpiRAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wcIDRQ1KO1wgAAAAFBJREFUCNdtyjEOwCAMQ1E7KhFHyP1Px8iSiSgwICG11KPfp7uPMfA3kk+ttfd+FyTNTETEzEopt6mqAPgUxwBwzrnfzGytRcSxF+8iIo4BWFGnInEcArZUAAAAAElFTkSuQmCC") no-repeat 100%}input,select{border:none;border-bottom:1px solid #e0e0e0}input:focus{outline:none;outline-offset:inherit;border-bottom:2px solid #3d8bd5}input.invalid{border-bottom:2px solid #d62728}.query-picker .list-string{width:250px}.table-row-cell{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding:8px}.table-col{margin:5px}.table-col-cell{padding-left:5px;padding-right:5px}.prop{opacity:.6}.prop.true{color:#2ca02c}.prop.false{color:#d62728}.table-row-cell .prop.bool{top:-4px}.table-row-header{padding:0!important;height:100%;line-height:50px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.table-row-header .label{-ms-flex-negative:1;flex-shrink:1;text-align:center}.table-row-header .icon{min-width:20px;color:#a9a9a9;font-size:14px;padding-left:3px;padding-right:3px}.table-row-header .icon:hover{color:#4e4e4e}.table-row-header.sort-column-ascending,.table-row-header.sort-column-descending{background:#e8e8e8;box-shadow:inset 1px 1px 1px #a9a9a9}.table-col-header{padding:0 5px!important;height:100%;line-height:30px;display:-ms-flexbox;display:flex;-ms-flex-pack:left;justify-content:left;-ms-flex-align:left;align-items:left}.table-col-header .label{-ms-flex-negative:1;flex-shrink:1;text-overflow:ellipsis;overflow:hidden;text-align:left;white-space:nowrap}.table-col-header .icon{min-width:20px;color:#a9a9a9;font-size:14px;padding-left:3px;padding-right:3px;vertical-align:baseline}.table-col-header .icon:hover{color:#4e4e4e}.rc-tooltip{font-family:inherit!important;font-size:inherit!important;font-weight:inherit!important;line-height:inherit!important}.item-picker .picked{opacity:.5}.item-picker .header{text-align:center;font-size:18px;padding-top:16px}.item-picker .search{padding-left:16px}.highlight{color:#ff4081}.internal-link{color:#3d8bd5;text-decoration:underline;cursor:pointer}.external-link-icon{margin-right:5px}.error{font-size:20px;font-weight:700;color:darkred}',""]);
},function(t,e,n){var r=n(912);"string"==typeof r&&(r=[[t.id,r,""]]);n(782)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(781)(),e.push([t.id,".green{background-color:green}.red{background-color:red}.blue{background-color:blue}*,:after,:before{box-sizing:border-box}body{font-family:Roboto,sans-serif;color:#242424;font-size:14px}.main .page{height:100vh;width:100vw;-ms-flex-direction:column;flex-direction:column}.main .page,.main .page .header{display:-ms-flexbox;display:flex}.main .page .header{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;overflow:visible;z-index:1;height:50px;background:#fff}.main .page .header .title{-ms-flex:1;flex:1;margin:25px;font-weight:700;font-size:large}.main .page .header .logo{margin:25px}.main .page .header .username{margin:7px;font-weight:700}.main .page .body{-ms-flex:1;flex:1;position:relative}a{color:#3d8bd5}a:visited{color:#66a2de}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){function e(t,n){if((0,p["default"])(t))return t;t=t.toObject();var o=t,a=o.type,u=o.props;a=(0,c["default"])(a)||a;var f=u?u.get("children"):null;l.List.isList(f)&&(f=f.map(function(t,r){return e(t,n?n.concat("props","children",r):null)}).toArray());var h=u?u["delete"]("children").toJS():{};return a.propTypes&&(0,d["default"])(r,function(t,e){a.propTypes[e]&&(h[e]=function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(void 0,[n].concat(r))})}),s["default"].createElement(a,i({children:f},h))}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e(t,n)}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e["default"]=o;var a=n(316),s=r(a),l=n(574),u=n(914),c=r(u),f=n(764),p=r(f),h=n(721),d=r(h)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){return s[t]};var o=n(762),i=r(o),a=n(915);"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(t){return this.indexOf(t,this.length-t.length)!==-1});var s={};a.keys().forEach(function(t){if(!t.endsWith(".js")&&!t.endsWith(".css")&&"./Panoptes"!==t){var e=a(t);e.__esModule&&(e=e["default"]);var n=(0,i["default"])(e);"Component"==n?console.error("No displayName for:"+t):s[n]?console.error("Duplicate component displayName:"+n+" in "+t):s[n]=e}})},function(t,e,n){function r(t){return n(o(t))}function o(t){return i[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var i={"./Chart/Pie/Sector/Widget":916,"./Chart/Pie/Sector/Widget.js":916,"./Chart/Pie/Sector/widget-styles.css":918,"./Chart/Pie/Widget":920,"./Chart/Pie/Widget.js":920,"./DataItem/Actions":921,"./DataItem/Actions.js":921,"./DataItem/Widget":1245,"./DataItem/Widget.js":1245,"./Dataset/ImportStatus/ItemView":1246,"./Dataset/ImportStatus/ItemView.js":1246,"./Dataset/ImportStatus/ListView":1247,"./Dataset/ImportStatus/ListView.js":1247,"./Dataset/Manager/Actions":1248,"./Dataset/Manager/Actions.js":1248,"./FieldList/Widget":1250,"./FieldList/Widget.js":1250,"./Map/Actions":1336,"./Map/Actions.js":1336,"./Map/BaseLayer/Widget":1339,"./Map/BaseLayer/Widget.js":1339,"./Map/Chart/Pie/Widget":1400,"./Map/Chart/Pie/Widget.js":1400,"./Map/Circle/Widget":1410,"./Map/Circle/Widget.js":1410,"./Map/ComponentMarker/Widget":1393,"./Map/ComponentMarker/Widget.js":1393,"./Map/DivIcon/Widget":1394,"./Map/DivIcon/Widget.js":1394,"./Map/FeatureGroup/Widget":1396,"./Map/FeatureGroup/Widget.js":1396,"./Map/ImageOverlay/Widget":1377,"./Map/ImageOverlay/Widget.js":1377,"./Map/LayersControl/Widget":1378,"./Map/LayersControl/Widget.js":1378,"./Map/Marker/Widget":1395,"./Map/Marker/Widget.js":1395,"./Map/Overlay/Widget":1386,"./Map/Overlay/Widget.js":1386,"./Map/PieChartMarkersLayer/Widget":1401,"./Map/PieChartMarkersLayer/Widget.js":1401,"./Map/Popup/Widget":1411,"./Map/Popup/Widget.js":1411,"./Map/Rectangle/Widget":1412,"./Map/Rectangle/Widget.js":1412,"./Map/Table/Widget":1388,"./Map/Table/Widget.js":1388,"./Map/TableMarkersLayer/Widget":1389,"./Map/TableMarkersLayer/Widget.js":1389,"./Map/TileLayer/WMS/Widget":1413,"./Map/TileLayer/WMS/Widget.js":1413,"./Map/TileLayer/Widget":1380,"./Map/TileLayer/Widget.js":1380,"./Map/Widget":1379,"./Map/Widget.js":1379,"./Overview/Widget":1414,"./Overview/Widget.js":1414,"./Panoptes":575,"./Panoptes.js":575,"./Plot/Table/Actions":1415,"./Plot/Table/Actions.js":1415,"./Plot/Table/Widget":1416,"./Plot/Table/Widget.js":1416,"./Plot/Widget":1417,"./Plot/Widget.js":1417,"./PropertyGroup/Widget":1424,"./PropertyGroup/Widget.js":1424,"./Template/Widget":1425,"./Template/Widget.js":1425,"./containers/DataTableWithActions":1513,"./containers/DataTableWithActions.js":1513,"./containers/EmptyTab":1570,"./containers/EmptyTab.js":1570,"./containers/ErrorTab":1587,"./containers/ErrorTab.js":1587,"./containers/FindGene":1588,"./containers/FindGene.js":1588,"./containers/FindGeneByNameDesc":1589,"./containers/FindGeneByNameDesc.js":1589,"./containers/FindGeneByRegion":1591,"./containers/FindGeneByRegion.js":1591,"./containers/Finder":1595,"./containers/Finder.js":1595,"./containers/Gene":1593,"./containers/Gene.js":1593,"./containers/GenomeBrowserWithActions":951,"./containers/GenomeBrowserWithActions.js":951,"./containers/GroupedItemPicker":1596,"./containers/GroupedItemPicker.js":1596,"./containers/ItemPicker":1597,"./containers/ItemPicker.js":1597,"./containers/ListWithActions":1576,"./containers/ListWithActions.js":1576,"./containers/PivotTableWithActions":1568,"./containers/PivotTableWithActions.js":1568,"./containers/QueryPicker":1599,"./containers/QueryPicker.js":1599,"./containers/RecentlyFoundGenes":1594,"./containers/RecentlyFoundGenes.js":1594,"./containers/RecentlyUsedTableQueries":1606,"./containers/RecentlyUsedTableQueries.js":1606,"./containers/StartTab":1608,"./containers/StartTab.js":1608,"./containers/StoredTableQueries":1607,"./containers/StoredTableQueries.js":1607,"./containers/TreeContainer":1236,"./containers/TreeContainer.js":1236,"./containers/TreeWithActions":1227,"./containers/TreeWithActions.js":1227,"./panoptes/ComponentWrapper":1609,"./panoptes/ComponentWrapper.js":1609,"./panoptes/DataTableView":1514,"./panoptes/DataTableView.js":1514,"./panoptes/ExternalLinkButton":949,"./panoptes/ExternalLinkButton.js":949,"./panoptes/FilterButton":1065,"./panoptes/FilterButton.js":1065,"./panoptes/GeneSearchResultsList":1590,"./panoptes/GeneSearchResultsList.js":1590,"./panoptes/GeoMarker":1610,"./panoptes/GeoMarker.js":1610,"./panoptes/HTMLWithComponents":1429,"./panoptes/HTMLWithComponents.js":1429,"./panoptes/ItemLink":1335,"./panoptes/ItemLink.js":1335,"./panoptes/ItemTemplate":1426,"./panoptes/ItemTemplate.js":1426,"./panoptes/LegendElement":1061,"./panoptes/LegendElement.js":1061,"./panoptes/ListView":1577,"./panoptes/ListView.js":1577,"./panoptes/PivotTableView":1569,"./panoptes/PivotTableView.js":1569,"./panoptes/PopupButton":944,"./panoptes/PopupButton.js":944,"./panoptes/PropertyCell":1334,"./panoptes/PropertyCell.js":1334,"./panoptes/PropertyHeader":1253,"./panoptes/PropertyHeader.js":1253,"./panoptes/PropertyLegend":1060,"./panoptes/PropertyLegend.js":1060,"./panoptes/PropertyList":1251,"./panoptes/PropertyList.js":1251,"./panoptes/PropertyListItem":1252,"./panoptes/PropertyListItem.js":1252,"./panoptes/QueryEditor":1600,"./panoptes/QueryEditor.js":1600,"./panoptes/QueryString":1387,"./panoptes/QueryString.js":1387,"./panoptes/RegionGenesList":1592,"./panoptes/RegionGenesList.js":1592,"./panoptes/SelectFieldWithNativeFallback":1244,"./panoptes/SelectFieldWithNativeFallback.js":1244,"./panoptes/TableList":1574,"./panoptes/TableList.js":1574,"./panoptes/Tree":1237,"./panoptes/Tree.js":1237,"./panoptes/ViewList":1571,"./panoptes/ViewList.js":1571,"./panoptes/genome/Background":993,"./panoptes/genome/Background.js":993,"./panoptes/genome/Controls":991,"./panoptes/genome/Controls.js":991,"./panoptes/genome/GenomeBrowser":958,"./panoptes/genome/GenomeBrowser.js":958,"./panoptes/genome/LoadingIndicator":990,"./panoptes/genome/LoadingIndicator.js":990,"./panoptes/genome/tracks/AnnotationChannel":1573,"./panoptes/genome/tracks/AnnotationChannel.js":1573,"./panoptes/genome/tracks/CanvasGroupChannel":1198,"./panoptes/genome/tracks/CanvasGroupChannel.js":1198,"./panoptes/genome/tracks/CategoricalChannel":1186,"./panoptes/genome/tracks/CategoricalChannel.js":1186,"./panoptes/genome/tracks/ChannelWithConfigDrawer":1064,"./panoptes/genome/tracks/ChannelWithConfigDrawer.js":1064,"./panoptes/genome/tracks/GenomeScale":988,"./panoptes/genome/tracks/GenomeScale.js":988,"./panoptes/genome/tracks/GenotypesChannel":1204,"./panoptes/genome/tracks/GenotypesChannel.js":1204,"./panoptes/genome/tracks/GenotypesFan":1213,"./panoptes/genome/tracks/GenotypesFan.js":1213,"./panoptes/genome/tracks/GenotypesRowHeader":1218,"./panoptes/genome/tracks/GenotypesRowHeader.js":1218,"./panoptes/genome/tracks/GenotypesTable":1216,"./panoptes/genome/tracks/GenotypesTable.js":1216,"./panoptes/genome/tracks/NumericalSummaryTrack":1200,"./panoptes/genome/tracks/NumericalSummaryTrack.js":1200,"./panoptes/genome/tracks/NumericalTrackGroupChannel":1203,"./panoptes/genome/tracks/NumericalTrackGroupChannel.js":1203,"./panoptes/genome/tracks/PerRowIndicatorChannel":996,"./panoptes/genome/tracks/PerRowIndicatorChannel.js":996,"./panoptes/genome/tracks/PerRowNumericalChannel":1221,"./panoptes/genome/tracks/PerRowNumericalChannel.js":1221,"./panoptes/genome/tracks/ReferenceSequence":1572,"./panoptes/genome/tracks/ReferenceSequence.js":1572,"./panoptes/genome/tracks/ScaledSVGChannel":1225,"./panoptes/genome/tracks/ScaledSVGChannel.js":1225,"./panoptes/genome/tracks/YScale":1199,"./panoptes/genome/tracks/YScale.js":1199,"./ui/Alert":1613,"./ui/Alert.js":1613,"./ui/Confirm":1614,"./ui/Confirm.js":1614,"./ui/ConfirmButton":1249,"./ui/ConfirmButton.js":1249,"./ui/HelloWorld":1615,"./ui/HelloWorld.js":1615,"./ui/Icon":750,"./ui/Icon.js":750,"./ui/Loading":1241,"./ui/Loading.js":1241,"./ui/Modal":783,"./ui/Modal.js":783,"./ui/NumericInput":1220,"./ui/NumericInput.js":1220,"./ui/Pluralise":1598,"./ui/Pluralise.js":1598,"./ui/Popup":773,"./ui/Popup.js":773,"./ui/Popups":772,"./ui/Popups.js":772,"./ui/SidebarHeader":957,"./ui/SidebarHeader.js":957,"./ui/TabPane":771,"./ui/TabPane.js":771,"./ui/TabbedArea":652,"./ui/TabbedArea.js":652,"./ui/TooltipEllipsis":1254,"./ui/TooltipEllipsis.js":1254,"./utils/DetectResize":899,"./utils/DetectResize.js":899,"./utils/GeoLayouter":1402,"./utils/GeoLayouter.js":1402};r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=915},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(917),s=r(a);n(918);var l=i["default"].createClass({displayName:"PieChartSector",propTypes:{outerRadius:i["default"].PropTypes.number,innerRadius:i["default"].PropTypes.number,fillColor:i["default"].PropTypes.string,arcDescriptor:i["default"].PropTypes.object,title:i["default"].PropTypes.string,onClick:i["default"].PropTypes.func,transform:i["default"].PropTypes.string,className:i["default"].PropTypes.string},getDefaultProps:function(){return{outerRadius:20,innerRadius:0,transform:"rotate(90)",className:"pie-chart-sector"}},render:function(){var t=this.props,e=t.outerRadius,n=t.innerRadius,r=t.fillColor,o=t.arcDescriptor,a=t.title,l=t.onClick,u=t.transform,c=t.className,f=s["default"].svg.arc().outerRadius(e).innerRadius(n);return i["default"].createElement("g",{className:c,style:{fill:r},transform:u,onClick:l},i["default"].createElement("title",null,a),i["default"].createElement("path",{d:f(o)}))}});t.exports=l},function(t,e,n){var r,o;!function(){function i(t){return t&&(t.ownerDocument||t.document||t).documentElement}function a(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function s(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function l(t){return null===t?NaN:+t}function u(t){return!isNaN(t)}function c(t){return{left:function(e,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=e.length);r<o;){var i=r+o>>>1;t(e[i],n)<0?r=i+1:o=i}return r},right:function(e,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=e.length);r<o;){var i=r+o>>>1;t(e[i],n)>0?o=i:r=i+1}return r}}}function f(t){return t.length}function p(t){for(var e=1;t*e%1;)e*=10;return e}function h(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function d(){this._=Object.create(null)}function m(t){return(t+="")===ka||t[0]===Sa?Sa+t:t}function y(t){return(t+="")[0]===Sa?t.slice(1):t}function v(t){return m(t)in this._}function g(t){return(t=m(t))in this._&&delete this._[t]}function b(){var t=[];for(var e in this._)t.push(y(e));return t}function _(){var t=0;for(var e in this._)++t;return t}function x(){for(var t in this._)return!1;return!0}function w(){this._=Object.create(null)}function T(t){return t}function E(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function C(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=Pa.length;n<r;++n){var o=Pa[n]+e;if(o in t)return o}}function k(){}function S(){}function P(t){function e(){for(var e,r=n,o=-1,i=r.length;++o<i;)(e=r[o].on)&&e.apply(this,arguments);return t}var n=[],r=new d;return e.on=function(e,o){var i,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,i=n.indexOf(a)).concat(n.slice(i+1)),r.remove(e)),o&&n.push(r.set(e,{on:o})),t)},e}function M(){ha.event.preventDefault()}function A(){for(var t,e=ha.event;t=e.sourceEvent;)e=t;return e}function O(t){for(var e=new S,n=0,r=arguments.length;++n<r;)e[arguments[n]]=P(e);return e.of=function(n,r){return function(o){try{var i=o.sourceEvent=ha.event;o.target=t,ha.event=o,e[o.type].apply(n,r)}finally{ha.event=i}}},e}function D(t){return Aa(t,Ia),t}function L(t){return"function"==typeof t?t:function(){return Oa(t,this)}}function I(t){return"function"==typeof t?t:function(){return Da(t,this)}}function j(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function o(){this.setAttribute(t,e)}function i(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=ha.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?i:o}function F(t){return t.trim().replace(/\s+/g," ")}function R(t){return new RegExp("(?:^|\\s+)"+ha.requote(t)+"(?:\\s+|$)","g")}function N(t){return(t+"").trim().split(/^|\s+/)}function z(t,e){function n(){for(var n=-1;++n<o;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<o;)t[n](this,r)}t=N(t).map(B);var o=t.length;return"function"==typeof e?r:n}function B(t){var e=R(t);return function(n,r){if(o=n.classList)return r?o.add(t):o.remove(t);var o=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(o)||n.setAttribute("class",F(o+" "+t))):n.setAttribute("class",F(o.replace(e," ")))}}function U(t,e,n){function r(){this.style.removeProperty(t)}function o(){this.style.setProperty(t,e,n)}function i(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?i:o}function W(t,e){function n(){delete this[t]}function r(){this[t]=e}function o(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?o:r}function q(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n===ja&&e.documentElement.namespaceURI===ja?e.createElement(t):e.createElementNS(n,t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=ha.ns.qualify(t)).local?n:e}function V(){var t=this.parentNode;t&&t.removeChild(this)}function H(t){return{__data__:t}}function G(t){return function(){return La(this,t)}}function Y(t){return arguments.length||(t=s),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function Z(t,e){for(var n=0,r=t.length;n<r;n++)for(var o,i=t[n],a=0,s=i.length;a<s;a++)(o=i[a])&&e(o,a,n);return t}function X(t){return Aa(t,Ra),t}function K(t){var e,n;return function(r,o,i){var a,s=t[i].update,l=s.length;for(i!=n&&(n=i,e=0),o>=e&&(e=o+1);!(a=s[e])&&++e<l;);return a}}function Q(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function o(){var o=l(e,ma(arguments));r.call(this),this.addEventListener(t,this[a]=o,o.$=n),o._=e}function i(){var e,n=new RegExp("^__on([^.]+)"+ha.requote(t)+"$");for(var r in this)if(e=r.match(n)){var o=this[r];this.removeEventListener(e[1],o,o.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),l=J;s>0&&(t=t.slice(0,s));var u=Na.get(t);return u&&(t=u,l=$),s?e?o:r:e?k:i}function J(t,e){return function(n){var r=ha.event;ha.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{ha.event=r}}}function $(t,e){var n=J(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function tt(t){var e=".dragsuppress-"+ ++Ba,n="click"+e,r=ha.select(a(t)).on("touchmove"+e,M).on("dragstart"+e,M).on("selectstart"+e,M);if(null==za&&(za=!("onselectstart"in t)&&C(t.style,"userSelect")),za){var o=i(t).style,s=o[za];o[za]="none"}return function(t){if(r.on(e,null),za&&(o[za]=s),t){var i=function(){r.on(n,null)};r.on(n,function(){M(),i()},!0),setTimeout(i,0)}}}function et(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(Ua<0){var o=a(t);if(o.scrollX||o.scrollY){n=ha.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();Ua=!(i.f||i.e),n.remove()}}return Ua?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function nt(){return ha.event.changedTouches[0].identifier}function rt(t){return t>0?1:t<0?-1:0}function ot(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function it(t){return t>1?0:t<-1?Va:Math.acos(t)}function at(t){return t>1?Ya:t<-1?-Ya:Math.asin(t)}function st(t){return((t=Math.exp(t))-1/t)/2}function lt(t){return((t=Math.exp(t))+1/t)/2}function ut(t){return((t=Math.exp(2*t))-1)/(t+1)}function ct(t){return(t=Math.sin(t/2))*t}function ft(){}function pt(t,e,n){return this instanceof pt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof pt?new pt(t.h,t.s,t.l):kt(""+t,St,pt):new pt(t,e,n)}function ht(t,e,n){function r(t){return t>360?t-=360:t<0&&(t+=360),t<60?i+(a-i)*t/60:t<180?a:t<240?i+(a-i)*(240-t)/60:i}function o(t){return Math.round(255*r(t))}var i,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,a=n<=.5?n*(1+e):n+e-n*e,i=2*n-a,new wt(o(t+120),o(t),o(t-120))}function dt(t,e,n){return this instanceof dt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof dt?new dt(t.h,t.c,t.l):t instanceof yt?gt(t.l,t.a,t.b):gt((t=Pt((t=ha.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new dt(t,e,n)}function mt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new yt(n,Math.cos(t*=Za)*e,Math.sin(t)*e)}function yt(t,e,n){return this instanceof yt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof yt?new yt(t.l,t.a,t.b):t instanceof dt?mt(t.h,t.c,t.l):Pt((t=wt(t)).r,t.g,t.b):new yt(t,e,n)}function vt(t,e,n){var r=(t+16)/116,o=r+e/500,i=r-n/200;return o=bt(o)*is,r=bt(r)*as,i=bt(i)*ss,new wt(xt(3.2404542*o-1.5371385*r-.4985314*i),xt(-.969266*o+1.8760108*r+.041556*i),xt(.0556434*o-.2040259*r+1.0572252*i))}function gt(t,e,n){return t>0?new dt(Math.atan2(n,e)*Xa,Math.sqrt(e*e+n*n),t):new dt(NaN,NaN,t)}function bt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function _t(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function xt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function wt(t,e,n){return this instanceof wt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof wt?new wt(t.r,t.g,t.b):kt(""+t,wt,ht):new wt(t,e,n)}function Tt(t){return new wt(t>>16,t>>8&255,255&t)}function Et(t){return Tt(t)+""}function Ct(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function kt(t,e,n){var r,o,i,a=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(o=r[2].split(","),r[1]){case"hsl":return n(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return e(At(o[0]),At(o[1]),At(o[2]))}return(i=cs.get(t))?e(i.r,i.g,i.b):(null==t||"#"!==t.charAt(0)||isNaN(i=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&i)>>4,a=a>>4|a,s=240&i,s=s>>4|s,l=15&i,l=l<<4|l):7===t.length&&(a=(16711680&i)>>16,s=(65280&i)>>8,l=255&i)),e(a,s,l))}function St(t,e,n){var r,o,i=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-i,l=(a+i)/2;return s?(o=l<.5?s/(a+i):s/(2-a-i),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,o=l>0&&l<1?0:r),new pt(r,o,l)}function Pt(t,e,n){t=Mt(t),e=Mt(e),n=Mt(n);var r=_t((.4124564*t+.3575761*e+.1804375*n)/is),o=_t((.2126729*t+.7151522*e+.072175*n)/as),i=_t((.0193339*t+.119192*e+.9503041*n)/ss);return yt(116*o-16,500*(r-o),200*(o-i))}function Mt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function At(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Ot(t){return"function"==typeof t?t:function(){return t}}function Dt(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Lt(e,n,t,r)}}function Lt(t,e,n,r){function o(){var t,e=l.status;if(!e&&jt(l)||e>=200&&e<300||304===e){try{t=n.call(i,l)}catch(r){return void a.error.call(i,r)}a.load.call(i,t)}else a.error.call(i,l)}var i={},a=ha.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=o:l.onreadystatechange=function(){l.readyState>3&&o()},l.onprogress=function(t){var e=ha.event;ha.event=t;try{a.progress.call(i,l)}finally{ha.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(u=t,i):u},i.response=function(t){return n=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(ma(arguments)))}}),i.send=function(n,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=o&&i.on("error",o).on("load",function(t){o(null,t)}),a.beforesend.call(i,l),l.send(null==r?null:r),i},i.abort=function(){return l.abort(),i},ha.rebind(i,a,"on"),null==r?i:i.get(It(r))}function It(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function jt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Ft(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var o=n+e,i={c:t,t:o,n:null};return ps?ps.n=i:fs=i,ps=i,hs||(ds=clearTimeout(ds),hs=1,ms(Rt)),i}function Rt(){var t=Nt(),e=zt()-t;e>24?(isFinite(e)&&(clearTimeout(ds),ds=setTimeout(Rt,e)),hs=0):(hs=1,ms(Rt))}function Nt(){for(var t=Date.now(),e=fs;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function zt(){for(var t,e=fs,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:fs=e.n;return ps=t,n}function Bt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Ut(t,e){var n=Math.pow(10,3*Ca(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Wt(t){var e=t.decimal,n=t.thousands,r=t.grouping,o=t.currency,i=r&&n?function(t,e){for(var o=t.length,i=[],a=0,s=r[0],l=0;o>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),i.push(t.substring(o-=s,o+s)),!((l+=s+1)>e));)s=r[a=(a+1)%r.length];return i.reverse().join(n)}:T;return function(t){var n=vs.exec(t),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],f=n[7],p=n[8],h=n[9],d=1,m="",y="",v=!1,g=!0;switch(p&&(p=+p.substring(1)),(u||"0"===r&&"="===a)&&(u=r="0",a="="),h){case"n":f=!0,h="g";break;case"%":d=100,y="%",h="f";break;case"p":d=100,y="%",h="r";break;case"b":case"o":case"x":case"X":"#"===l&&(m="0"+h.toLowerCase());case"c":g=!1;case"d":v=!0,p=0;break;case"s":d=-1,h="r"}"$"===l&&(m=o[0],y=o[1]),"r"!=h||p||(h="g"),null!=p&&("g"==h?p=Math.max(1,Math.min(21,p)):"e"!=h&&"f"!=h||(p=Math.max(0,Math.min(20,p)))),h=gs.get(h)||qt;var b=u&&f;return function(t){var n=y;if(v&&t%1)return"";var o=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(d<0){var l=ha.formatPrefix(t,p);t=l.scale(t),n=l.symbol+y}else t*=d;t=h(t,p);var _,x,w=t.lastIndexOf(".");if(w<0){var T=g?t.lastIndexOf("e"):-1;T<0?(_=t,x=""):(_=t.substring(0,T),x=t.substring(T))}else _=t.substring(0,w),x=e+t.substring(w+1);!u&&f&&(_=i(_,1/0));var E=m.length+_.length+x.length+(b?0:o.length),C=E<c?new Array(E=c-E+1).join(r):"";return b&&(_=i(C+_,C.length?c-x.length:1/0)),o+=m,t=_+x,("<"===a?o+t+C:">"===a?C+o+t:"^"===a?C.substring(0,E>>=1)+o+t+C.substring(E):o+(b?t:C+t))+n}}}function qt(t){return t+""}function Vt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ht(t,e,n){function r(e){var n=t(e),r=i(n,1);return e-n<r-e?n:r}function o(n){return e(n=t(new _s(n-1)),1),n}function i(t,n){return e(t=new _s((+t)),n),t}function a(t,r,i){var a=o(t),s=[];if(i>1)for(;a<r;)n(a)%i||s.push(new Date((+a))),e(a,1);else for(;a<r;)s.push(new Date((+a))),e(a,1);return s}function s(t,e,n){try{_s=Vt;var r=new Vt;return r._=t,a(r,e,n)}finally{_s=Date}}t.floor=t,t.round=r,t.ceil=o,t.offset=i,t.range=a;var l=t.utc=Gt(t);return l.floor=l,l.round=Gt(r),l.ceil=Gt(o),l.offset=Gt(i),l.range=s,t}function Gt(t){return function(e,n){try{_s=Vt;var r=new Vt;return r._=e,t(r,n)._}finally{_s=Date}}}function Yt(t){function e(t){function e(e){for(var n,o,i,a=[],s=-1,l=0;++s<r;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(o=ws[n=t.charAt(++s)])&&(n=t.charAt(++s)),(i=P[n])&&(n=i(e,null==o?"e"===n?" ":"0":o)),a.push(n),l=s+1);return a.push(t.slice(l,s)),a.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},o=n(r,t,e,0);if(o!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&_s!==Vt,a=new(i?Vt:_s);return"j"in r?a.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?a._:a},e.toString=function(){return t},e}function n(t,e,n,r){for(var o,i,a,s=0,l=e.length,u=n.length;s<l;){if(r>=u)return-1;if(o=e.charCodeAt(s++),37===o){if(a=e.charAt(s++),i=M[a in ws?e.charAt(s++):a],!i||(r=i(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){w.lastIndex=0;var r=w.exec(e.slice(n));return r?(t.w=T.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.w=x.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){k.lastIndex=0;var r=k.exec(e.slice(n));return r?(t.m=S.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){E.lastIndex=0;var r=E.exec(e.slice(n));return r?(t.m=C.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,P.c.toString(),e,r)}function l(t,e,r){return n(t,P.x.toString(),e,r)}function u(t,e,r){return n(t,P.X.toString(),e,r)}function c(t,e,n){var r=b.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var f=t.dateTime,p=t.date,h=t.time,d=t.periods,m=t.days,y=t.shortDays,v=t.months,g=t.shortMonths;e.utc=function(t){function n(t){try{_s=Vt;var e=new _s;return e._=t,r(e)}finally{_s=Date}}var r=e(t);return n.parse=function(t){try{_s=Vt;var e=r.parse(t);return e&&e._}finally{_s=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=he;var b=ha.map(),_=Xt(m),x=Kt(m),w=Xt(y),T=Kt(y),E=Xt(v),C=Kt(v),k=Xt(g),S=Kt(g);d.forEach(function(t,e){b.set(t.toLowerCase(),e)});var P={a:function(t){return y[t.getDay()]},A:function(t){return m[t.getDay()]},b:function(t){return g[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(f),d:function(t,e){return Zt(t.getDate(),e,2)},e:function(t,e){return Zt(t.getDate(),e,2)},H:function(t,e){return Zt(t.getHours(),e,2)},I:function(t,e){return Zt(t.getHours()%12||12,e,2)},j:function(t,e){return Zt(1+bs.dayOfYear(t),e,3)},L:function(t,e){return Zt(t.getMilliseconds(),e,3)},m:function(t,e){return Zt(t.getMonth()+1,e,2)},M:function(t,e){return Zt(t.getMinutes(),e,2)},p:function(t){return d[+(t.getHours()>=12)]},S:function(t,e){return Zt(t.getSeconds(),e,2)},U:function(t,e){return Zt(bs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Zt(bs.mondayOfYear(t),e,2)},x:e(p),X:e(h),y:function(t,e){return Zt(t.getFullYear()%100,e,2)},Y:function(t,e){return Zt(t.getFullYear()%1e4,e,4)},Z:fe,"%":function(){return"%"}},M={a:r,A:o,b:i,B:a,c:s,d:ie,e:ie,H:se,I:se,j:ae,L:ce,m:oe,M:le,p:c,S:ue,U:Jt,w:Qt,W:$t,x:l,X:u,y:ee,Y:te,Z:ne,"%":pe};return e}function Zt(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}function Xt(t){return new RegExp("^(?:"+t.map(ha.requote).join("|")+")","i")}function Kt(t){for(var e=new d,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Qt(t,e,n){Ts.lastIndex=0;var r=Ts.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Jt(t,e,n){Ts.lastIndex=0;var r=Ts.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function $t(t,e,n){Ts.lastIndex=0;var r=Ts.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function te(t,e,n){Ts.lastIndex=0;var r=Ts.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ee(t,e,n){Ts.lastIndex=0;var r=Ts.exec(e.slice(n,n+2));return r?(t.y=re(+r[0]),n+r[0].length):-1}function ne(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function re(t){return t+(t>68?1900:2e3)}function oe(t,e,n){Ts.lastIndex=0;var r=Ts.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ie(t,e,n){Ts.lastIndex=0;var r=Ts.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ae(t,e,n){Ts.lastIndex=0;var r=Ts.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function se(t,e,n){Ts.lastIndex=0;var r=Ts.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function le(t,e,n){Ts.lastIndex=0;var r=Ts.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ue(t,e,n){Ts.lastIndex=0;var r=Ts.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ce(t,e,n){Ts.lastIndex=0;var r=Ts.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function fe(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=Ca(e)/60|0,o=Ca(e)%60;return n+Zt(r,"0",2)+Zt(o,"0",2)}function pe(t,e,n){Es.lastIndex=0;var r=Es.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function he(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function de(){}function me(t,e,n){var r=n.s=t+e,o=r-t,i=r-o;n.t=t-i+(e-o)}function ye(t,e){t&&Ps.hasOwnProperty(t.type)&&Ps[t.type](t,e)}function ve(t,e,n){var r,o=-1,i=t.length-n;for(e.lineStart();++o<i;)r=t[o],e.point(r[0],r[1],r[2]);e.lineEnd()}function ge(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)ve(t[n],e,1);e.polygonEnd()}function be(){function t(t,e){t*=Za,e=e*Za/2+Va/4;var n=t-r,a=n>=0?1:-1,s=a*n,l=Math.cos(e),u=Math.sin(e),c=i*u,f=o*l+c*Math.cos(s),p=c*a*Math.sin(s);
As.add(Math.atan2(p,f)),r=t,o=l,i=u}var e,n,r,o,i;Os.point=function(a,s){Os.point=t,r=(e=a)*Za,o=Math.cos(s=(n=s)*Za/2+Va/4),i=Math.sin(s)},Os.lineEnd=function(){t(e,n)}}function _e(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function xe(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function we(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Te(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ee(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ce(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function ke(t){return[Math.atan2(t[1],t[0]),at(t[2])]}function Se(t,e){return Ca(t[0]-e[0])<Wa&&Ca(t[1]-e[1])<Wa}function Pe(t,e){t*=Za;var n=Math.cos(e*=Za);Me(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Me(t,e,n){++Ds,Is+=(t-Is)/Ds,js+=(e-js)/Ds,Fs+=(n-Fs)/Ds}function Ae(){function t(t,o){t*=Za;var i=Math.cos(o*=Za),a=i*Math.cos(t),s=i*Math.sin(t),l=Math.sin(o),u=Math.atan2(Math.sqrt((u=n*l-r*s)*u+(u=r*a-e*l)*u+(u=e*s-n*a)*u),e*a+n*s+r*l);Ls+=u,Rs+=u*(e+(e=a)),Ns+=u*(n+(n=s)),zs+=u*(r+(r=l)),Me(e,n,r)}var e,n,r;qs.point=function(o,i){o*=Za;var a=Math.cos(i*=Za);e=a*Math.cos(o),n=a*Math.sin(o),r=Math.sin(i),qs.point=t,Me(e,n,r)}}function Oe(){qs.point=Pe}function De(){function t(t,e){t*=Za;var n=Math.cos(e*=Za),a=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),u=o*l-i*s,c=i*a-r*l,f=r*s-o*a,p=Math.sqrt(u*u+c*c+f*f),h=r*a+o*s+i*l,d=p&&-it(h)/p,m=Math.atan2(p,h);Bs+=d*u,Us+=d*c,Ws+=d*f,Ls+=m,Rs+=m*(r+(r=a)),Ns+=m*(o+(o=s)),zs+=m*(i+(i=l)),Me(r,o,i)}var e,n,r,o,i;qs.point=function(a,s){e=a,n=s,qs.point=t,a*=Za;var l=Math.cos(s*=Za);r=l*Math.cos(a),o=l*Math.sin(a),i=Math.sin(s),Me(r,o,i)},qs.lineEnd=function(){t(e,n),qs.lineEnd=Oe,qs.point=Pe}}function Le(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function Ie(){return!0}function je(t,e,n,r,o){var i=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Se(n,r)){o.lineStart();for(var s=0;s<e;++s)o.point((n=t[s])[0],n[1]);return void o.lineEnd()}var l=new Re(n,t,null,(!0)),u=new Re(n,null,l,(!1));l.o=u,i.push(l),a.push(u),l=new Re(r,t,null,(!1)),u=new Re(r,null,l,(!0)),l.o=u,i.push(l),a.push(u)}}),a.sort(e),Fe(i),Fe(a),i.length){for(var s=0,l=n,u=a.length;s<u;++s)a[s].e=l=!l;for(var c,f,p=i[0];;){for(var h=p,d=!0;h.v;)if((h=h.n)===p)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(var s=0,u=c.length;s<u;++s)o.point((f=c[s])[0],f[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(d){c=h.p.z;for(var s=c.length-1;s>=0;--s)o.point((f=c[s])[0],f[1])}else r(h.x,h.p.x,-1,o);h=h.p}h=h.o,c=h.z,d=!d}while(!h.v);o.lineEnd()}}}function Fe(t){if(e=t.length){for(var e,n,r=0,o=t[0];++r<e;)o.n=n=t[r],n.p=o,o=n;o.n=n=t[0],n.p=o}}function Re(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ne(t,e,n,r){return function(o,i){function a(e,n){var r=o(e,n);t(e=r[0],n=r[1])&&i.point(e,n)}function s(t,e){var n=o(t,e);y.point(n[0],n[1])}function l(){g.point=s,y.lineStart()}function u(){g.point=a,y.lineEnd()}function c(t,e){m.push([t,e]);var n=o(t,e);_.point(n[0],n[1])}function f(){_.lineStart(),m=[]}function p(){c(m[0][0],m[0][1]),_.lineEnd();var t,e=_.clean(),n=b.buffer(),r=n.length;if(m.pop(),d.push(m),m=null,r)if(1&e){t=n[0];var o,r=t.length-1,a=-1;if(r>0){for(x||(i.polygonStart(),x=!0),i.lineStart();++a<r;)i.point((o=t[a])[0],o[1]);i.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),h.push(n.filter(ze))}var h,d,m,y=e(i),v=o.invert(r[0],r[1]),g={point:a,lineStart:l,lineEnd:u,polygonStart:function(){g.point=c,g.lineStart=f,g.lineEnd=p,h=[],d=[]},polygonEnd:function(){g.point=a,g.lineStart=l,g.lineEnd=u,h=ha.merge(h);var t=He(v,d);h.length?(x||(i.polygonStart(),x=!0),je(h,Ue,t,n,i)):t&&(x||(i.polygonStart(),x=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),x&&(i.polygonEnd(),x=!1),h=d=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}},b=Be(),_=e(b),x=!1;return g}}function ze(t){return t.length>1}function Be(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:k,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Ue(t,e){return((t=t.x)[0]<0?t[1]-Ya-Wa:Ya-t[1])-((e=e.x)[0]<0?e[1]-Ya-Wa:Ya-e[1])}function We(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,a){var s=i>0?Va:-Va,l=Ca(i-n);Ca(l-Va)<Wa?(t.point(n,r=(r+a)/2>0?Ya:-Ya),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(i,r),e=0):o!==s&&l>=Va&&(Ca(n-o)<Wa&&(n-=o*Wa),Ca(i-s)<Wa&&(i-=s*Wa),r=qe(n,r,i,a),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=i,r=a),o=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function qe(t,e,n,r){var o,i,a=Math.sin(t-n);return Ca(a)>Wa?Math.atan((Math.sin(e)*(i=Math.cos(r))*Math.sin(n)-Math.sin(r)*(o=Math.cos(e))*Math.sin(t))/(o*i*a)):(e+r)/2}function Ve(t,e,n,r){var o;if(null==t)o=n*Ya,r.point(-Va,o),r.point(0,o),r.point(Va,o),r.point(Va,0),r.point(Va,-o),r.point(0,-o),r.point(-Va,-o),r.point(-Va,0),r.point(-Va,o);else if(Ca(t[0]-e[0])>Wa){var i=t[0]<e[0]?Va:-Va;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(e[0],e[1])}function He(t,e){var n=t[0],r=t[1],o=[Math.sin(n),-Math.cos(n),0],i=0,a=0;As.reset();for(var s=0,l=e.length;s<l;++s){var u=e[s],c=u.length;if(c)for(var f=u[0],p=f[0],h=f[1]/2+Va/4,d=Math.sin(h),m=Math.cos(h),y=1;;){y===c&&(y=0),t=u[y];var v=t[0],g=t[1]/2+Va/4,b=Math.sin(g),_=Math.cos(g),x=v-p,w=x>=0?1:-1,T=w*x,E=T>Va,C=d*b;if(As.add(Math.atan2(C*w*Math.sin(T),m*_+C*Math.cos(T))),i+=E?x+w*Ha:x,E^p>=n^v>=n){var k=we(_e(f),_e(t));Ce(k);var S=we(o,k);Ce(S);var P=(E^x>=0?-1:1)*at(S[2]);(r>P||r===P&&(k[0]||k[1]))&&(a+=E^x>=0?1:-1)}if(!y++)break;p=v,d=b,m=_,f=t}}return(i<-Wa||i<Wa&&As<-Wa)^1&a}function Ge(t){function e(t,e){return Math.cos(t)*Math.cos(e)>i}function n(t){var n,i,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(f,p){var h,d=[f,p],m=e(f,p),y=a?m?0:o(f,p):m?o(f+(f<0?Va:-Va),p):0;if(!n&&(u=l=m)&&t.lineStart(),m!==l&&(h=r(n,d),(Se(n,h)||Se(d,h))&&(d[0]+=Wa,d[1]+=Wa,m=e(d[0],d[1]))),m!==l)c=0,m?(t.lineStart(),h=r(d,n),t.point(h[0],h[1])):(h=r(n,d),t.point(h[0],h[1]),t.lineEnd()),n=h;else if(s&&n&&a^m){var v;y&i||!(v=r(d,n,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!m||n&&Se(n,d)||t.point(d[0],d[1]),n=d,l=m,i=y},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function r(t,e,n){var r=_e(t),o=_e(e),a=[1,0,0],s=we(r,o),l=xe(s,s),u=s[0],c=l-u*u;if(!c)return!n&&t;var f=i*l/c,p=-i*u/c,h=we(a,s),d=Ee(a,f),m=Ee(s,p);Te(d,m);var y=h,v=xe(d,y),g=xe(y,y),b=v*v-g*(xe(d,d)-1);if(!(b<0)){var _=Math.sqrt(b),x=Ee(y,(-v-_)/g);if(Te(x,d),x=ke(x),!n)return x;var w,T=t[0],E=e[0],C=t[1],k=e[1];E<T&&(w=T,T=E,E=w);var S=E-T,P=Ca(S-Va)<Wa,M=P||S<Wa;if(!P&&k<C&&(w=C,C=k,k=w),M?P?C+k>0^x[1]<(Ca(x[0]-T)<Wa?C:k):C<=x[1]&&x[1]<=k:S>Va^(T<=x[0]&&x[0]<=E)){var A=Ee(y,(-v+_)/g);return Te(A,d),[x,ke(A)]}}}function o(e,n){var r=a?t:Va-t,o=0;return e<-r?o|=1:e>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}var i=Math.cos(t),a=i>0,s=Ca(i)>Wa,l=_n(t,6*Za);return Ne(e,n,l,a?[0,-t]:[-Va,t-Va])}function Ye(t,e,n,r){return function(o){var i,a=o.a,s=o.b,l=a.x,u=a.y,c=s.x,f=s.y,p=0,h=1,d=c-l,m=f-u;if(i=t-l,d||!(i>0)){if(i/=d,d<0){if(i<p)return;i<h&&(h=i)}else if(d>0){if(i>h)return;i>p&&(p=i)}if(i=n-l,d||!(i<0)){if(i/=d,d<0){if(i>h)return;i>p&&(p=i)}else if(d>0){if(i<p)return;i<h&&(h=i)}if(i=e-u,m||!(i>0)){if(i/=m,m<0){if(i<p)return;i<h&&(h=i)}else if(m>0){if(i>h)return;i>p&&(p=i)}if(i=r-u,m||!(i<0)){if(i/=m,m<0){if(i>h)return;i>p&&(p=i)}else if(m>0){if(i<p)return;i<h&&(h=i)}return p>0&&(o.a={x:l+p*d,y:u+p*m}),h<1&&(o.b={x:l+h*d,y:u+h*m}),o}}}}}}function Ze(t,e,n,r){function o(r,o){return Ca(r[0]-t)<Wa?o>0?0:3:Ca(r[0]-n)<Wa?o>0?2:1:Ca(r[1]-e)<Wa?o>0?1:0:o>0?3:2}function i(t,e){return a(t.x,e.x)}function a(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t){for(var e=0,n=y.length,r=t[1],o=0;o<n;++o)for(var i,a=1,s=y[o],l=s.length,u=s[0];a<l;++a)i=s[a],u[1]<=r?i[1]>r&&ot(u,i,t)>0&&++e:i[1]<=r&&ot(u,i,t)<0&&--e,u=i;return 0!==e}function u(i,s,l,u){var c=0,f=0;if(null==i||(c=o(i,l))!==(f=o(s,l))||a(i,s)<0^l>0){do u.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+l+4)%4)!==f)}else u.point(s[0],s[1])}function c(o,i){return t<=o&&o<=n&&e<=i&&i<=r}function f(t,e){c(t,e)&&s.point(t,e)}function p(){M.point=d,y&&y.push(v=[]),E=!0,T=!1,x=w=NaN}function h(){m&&(d(g,b),_&&T&&S.rejoin(),m.push(S.buffer())),M.point=f,T&&s.lineEnd()}function d(t,e){t=Math.max(-Hs,Math.min(Hs,t)),e=Math.max(-Hs,Math.min(Hs,e));var n=c(t,e);if(y&&v.push([t,e]),E)g=t,b=e,_=n,E=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&T)s.point(t,e);else{var r={a:{x:x,y:w},b:{x:t,y:e}};P(r)?(T||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),C=!1):n&&(s.lineStart(),s.point(t,e),C=!1)}x=t,w=e,T=n}var m,y,v,g,b,_,x,w,T,E,C,k=s,S=Be(),P=Ye(t,e,n,r),M={point:f,lineStart:p,lineEnd:h,polygonStart:function(){s=S,m=[],y=[],C=!0},polygonEnd:function(){s=k,m=ha.merge(m);var e=l([t,r]),n=C&&e,o=m.length;(n||o)&&(s.polygonStart(),n&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),o&&je(m,i,e,u,s),s.polygonEnd()),m=y=v=null}};return M}}function Xe(t){var e=0,n=Va/3,r=pn(t),o=r(e,n);return o.parallels=function(t){return arguments.length?r(e=t[0]*Va/180,n=t[1]*Va/180):[e/Va*180,n/Va*180]},o}function Ke(t,e){function n(t,e){var n=Math.sqrt(i-2*o*Math.sin(e))/o;return[n*Math.sin(t*=o),a-n*Math.cos(t)]}var r=Math.sin(t),o=(r+Math.sin(e))/2,i=1+r*(2*o-r),a=Math.sqrt(i)/o;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/o,at((i-(t*t+n*n)*o*o)/(2*o))]},n}function Qe(){function t(t,e){Ys+=o*t-r*e,r=t,o=e}var e,n,r,o;Js.point=function(i,a){Js.point=t,e=r=i,n=o=a},Js.lineEnd=function(){t(e,n)}}function Je(t,e){t<Zs&&(Zs=t),t>Ks&&(Ks=t),e<Xs&&(Xs=e),e>Qs&&(Qs=e)}function $e(){function t(t,e){a.push("M",t,",",e,i)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function o(){a.push("Z")}var i=tn(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return i=tn(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function tn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function en(t,e){Is+=t,js+=e,++Fs}function nn(){function t(t,r){var o=t-e,i=r-n,a=Math.sqrt(o*o+i*i);Rs+=a*(e+t)/2,Ns+=a*(n+r)/2,zs+=a,en(e=t,n=r)}var e,n;tl.point=function(r,o){tl.point=t,en(e=r,n=o)}}function rn(){tl.point=en}function on(){function t(t,e){var n=t-r,i=e-o,a=Math.sqrt(n*n+i*i);Rs+=a*(r+t)/2,Ns+=a*(o+e)/2,zs+=a,a=o*t-r*e,Bs+=a*(r+t),Us+=a*(o+e),Ws+=3*a,en(r=t,o=e)}var e,n,r,o;tl.point=function(i,a){tl.point=t,en(e=r=i,n=o=a)},tl.lineEnd=function(){t(e,n)}}function an(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Ha)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function o(){s.point=e}function i(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:o,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=o,s.point=e},pointRadius:function(t){return a=t,s},result:k};return s}function sn(t){function e(t){return(s?r:n)(t)}function n(e){return cn(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){b=NaN,E.point=i,e.lineStart()}function i(n,r){var i=_e([n,r]),a=t(n,r);o(b,_,g,x,w,T,b=a[0],_=a[1],g=n,x=i[0],w=i[1],T=i[2],s,e),e.point(b,_)}function a(){E.point=n,e.lineEnd()}function l(){r(),E.point=u,E.lineEnd=c}function u(t,e){i(f=t,p=e),h=b,d=_,m=x,y=w,v=T,E.point=i}function c(){o(b,_,g,x,w,T,h,d,f,m,y,v,s,e),E.lineEnd=a,a()}var f,p,h,d,m,y,v,g,b,_,x,w,T,E={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),E.lineStart=l},polygonEnd:function(){e.polygonEnd(),E.lineStart=r}};return E}function o(e,n,r,s,l,u,c,f,p,h,d,m,y,v){var g=c-e,b=f-n,_=g*g+b*b;if(_>4*i&&y--){var x=s+h,w=l+d,T=u+m,E=Math.sqrt(x*x+w*w+T*T),C=Math.asin(T/=E),k=Ca(Ca(T)-1)<Wa||Ca(r-p)<Wa?(r+p)/2:Math.atan2(w,x),S=t(k,C),P=S[0],M=S[1],A=P-e,O=M-n,D=b*A-g*O;(D*D/_>i||Ca((g*A+b*O)/_-.5)>.3||s*h+l*d+u*m<a)&&(o(e,n,r,s,l,u,P,M,k,x/=E,w/=E,T,y,v),v.point(P,M),o(P,M,k,x,w,T,c,f,p,h,d,m,y,v))}}var i=.5,a=Math.cos(30*Za),s=16;return e.precision=function(t){return arguments.length?(s=(i=t*t)>0&&16,e):Math.sqrt(i)},e}function ln(t){var e=sn(function(e,n){return t([e*Xa,n*Xa])});return function(t){return hn(e(t))}}function un(t){this.stream=t}function cn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function fn(t){return pn(function(){return t})()}function pn(t){function e(t){return t=s(t[0]*Za,t[1]*Za),[t[0]*p+l,u-t[1]*p]}function n(t){return t=s.invert((t[0]-l)/p,(u-t[1])/p),t&&[t[0]*Xa,t[1]*Xa]}function r(){s=Le(a=yn(v,g,b),i);var t=i(m,y);return l=h-t[0]*p,u=d+t[1]*p,o()}function o(){return c&&(c.valid=!1,c=null),e}var i,a,s,l,u,c,f=sn(function(t,e){return t=i(t,e),[t[0]*p+l,u-t[1]*p]}),p=150,h=480,d=250,m=0,y=0,v=0,g=0,b=0,_=Vs,x=T,w=null,E=null;return e.stream=function(t){return c&&(c.valid=!1),c=hn(_(a,f(x(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(_=null==t?(w=t,Vs):Ge((w=+t)*Za),o()):w},e.clipExtent=function(t){return arguments.length?(E=t,x=t?Ze(t[0][0],t[0][1],t[1][0],t[1][1]):T,o()):E},e.scale=function(t){return arguments.length?(p=+t,r()):p},e.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],r()):[h,d]},e.center=function(t){return arguments.length?(m=t[0]%360*Za,y=t[1]%360*Za,r()):[m*Xa,y*Xa]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Za,g=t[1]%360*Za,b=t.length>2?t[2]%360*Za:0,r()):[v*Xa,g*Xa,b*Xa]},ha.rebind(e,f,"precision"),function(){return i=t.apply(this,arguments),e.invert=i.invert&&n,r()}}function hn(t){return cn(t,function(e,n){t.point(e*Za,n*Za)})}function dn(t,e){return[t,e]}function mn(t,e){return[t>Va?t-Ha:t<-Va?t+Ha:t,e]}function yn(t,e,n){return t?e||n?Le(gn(t),bn(e,n)):gn(t):e||n?bn(e,n):mn}function vn(t){return function(e,n){return e+=t,[e>Va?e-Ha:e<-Va?e+Ha:e,n]}}function gn(t){var e=vn(t);return e.invert=vn(-t),e}function bn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*r+s*o;return[Math.atan2(l*i-c*a,s*r-u*o),at(c*i+l*a)]}var r=Math.cos(t),o=Math.sin(t),i=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*i-l*a;return[Math.atan2(l*i+u*a,s*r+c*o),at(c*r-s*o)]},n}function _n(t,e){var n=Math.cos(t),r=Math.sin(t);return function(o,i,a,s){var l=a*e;null!=o?(o=xn(n,o),i=xn(n,i),(a>0?o<i:o>i)&&(o+=a*Ha)):(o=t+a*Ha,i=t-.5*l);for(var u,c=o;a>0?c>i:c<i;c-=l)s.point((u=ke([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function xn(t,e){var n=_e(e);n[0]-=t,Ce(n);var r=it(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Wa)%(2*Math.PI)}function wn(t,e,n){var r=ha.range(t,e-Wa,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function Tn(t,e,n){var r=ha.range(t,e-Wa,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function En(t){return t.source}function Cn(t){return t.target}function kn(t,e,n,r){var o=Math.cos(e),i=Math.sin(e),a=Math.cos(r),s=Math.sin(r),l=o*Math.cos(t),u=o*Math.sin(t),c=a*Math.cos(n),f=a*Math.sin(n),p=2*Math.asin(Math.sqrt(ct(r-e)+o*a*ct(n-t))),h=1/Math.sin(p),d=p?function(t){var e=Math.sin(t*=p)*h,n=Math.sin(p-t)*h,r=n*l+e*c,o=n*u+e*f,a=n*i+e*s;return[Math.atan2(o,r)*Xa,Math.atan2(a,Math.sqrt(r*r+o*o))*Xa]}:function(){return[t*Xa,e*Xa]};return d.distance=p,d}function Sn(){function t(t,o){var i=Math.sin(o*=Za),a=Math.cos(o),s=Ca((t*=Za)-e),l=Math.cos(s);el+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*i-n*a*l)*s),n*i+r*a*l),e=t,n=i,r=a}var e,n,r;nl.point=function(o,i){e=o*Za,n=Math.sin(i*=Za),r=Math.cos(i),nl.point=t},nl.lineEnd=function(){nl.point=nl.lineEnd=k}}function Pn(t,e){function n(e,n){var r=Math.cos(e),o=Math.cos(n),i=t(r*o);return[i*o*Math.sin(e),i*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),o=e(r),i=Math.sin(o),a=Math.cos(o);return[Math.atan2(t*i,r*a),Math.asin(r&&n*i/r)]},n}function Mn(t,e){function n(t,e){a>0?e<-Ya+Wa&&(e=-Ya+Wa):e>Ya-Wa&&(e=Ya-Wa);var n=a/Math.pow(o(e),i);return[n*Math.sin(i*t),a-n*Math.cos(i*t)]}var r=Math.cos(t),o=function(t){return Math.tan(Va/4+t/2)},i=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(o(e)/o(t)),a=r*Math.pow(o(t),i)/i;return i?(n.invert=function(t,e){var n=a-e,r=rt(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(a/r,1/i))-Ya]},n):On}function An(t,e){function n(t,e){var n=i-e;return[n*Math.sin(o*t),i-n*Math.cos(o*t)]}var r=Math.cos(t),o=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),i=r/o+t;return Ca(o)<Wa?dn:(n.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/o,i-rt(o)*Math.sqrt(t*t+n*n)]},n)}function On(t,e){return[t,Math.log(Math.tan(Va/4+e/2))]}function Dn(t){var e,n=fn(t),r=n.scale,o=n.translate,i=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=o.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=i.apply(n,arguments);if(a===n){if(e=null==t){var s=Va*r(),l=o();i([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function Ln(t,e){return[Math.log(Math.tan(Va/4+e/2)),-t]}function In(t){return t[0]}function jn(t){return t[1]}function Fn(t){for(var e=t.length,n=[0,1],r=2,o=2;o<e;o++){for(;r>1&&ot(t[n[r-2]],t[n[r-1]],t[o])<=0;)--r;n[r++]=o}return n.slice(0,r)}function Rn(t,e){return t[0]-e[0]||t[1]-e[1]}function Nn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function zn(t,e,n,r){var o=t[0],i=n[0],a=e[0]-o,s=r[0]-i,l=t[1],u=n[1],c=e[1]-l,f=r[1]-u,p=(s*(l-u)-f*(o-i))/(f*a-s*c);return[o+p*a,l+p*c]}function Bn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Un(){lr(this),this.edge=this.site=this.circle=null}function Wn(t){var e=dl.pop()||new Un;return e.site=t,e}function qn(t){$n(t),fl.remove(t),dl.push(t),lr(t)}function Vn(t){var e=t.circle,n=e.x,r=e.cy,o={x:n,y:r},i=t.P,a=t.N,s=[t];qn(t);for(var l=i;l.circle&&Ca(n-l.circle.x)<Wa&&Ca(r-l.circle.cy)<Wa;)i=l.P,s.unshift(l),qn(l),l=i;s.unshift(l),$n(l);for(var u=a;u.circle&&Ca(n-u.circle.x)<Wa&&Ca(r-u.circle.cy)<Wa;)a=u.N,s.push(u),qn(u),u=a;s.push(u),$n(u);var c,f=s.length;for(c=1;c<f;++c)u=s[c],l=s[c-1],ir(u.edge,l.site,u.site,o);l=s[0],u=s[f-1],u.edge=rr(l.site,u.site,null,o),Jn(l),Jn(u)}function Hn(t){for(var e,n,r,o,i=t.x,a=t.y,s=fl._;s;)if(r=Gn(s,a)-i,r>Wa)s=s.L;else{if(o=i-Yn(s,a),!(o>Wa)){r>-Wa?(e=s.P,n=s):o>-Wa?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=Wn(t);if(fl.insert(e,l),e||n){if(e===n)return $n(e),n=Wn(e.site),fl.insert(l,n),l.edge=n.edge=rr(e.site,l.site),Jn(e),void Jn(n);if(!n)return void(l.edge=rr(e.site,l.site));$n(e),$n(n);var u=e.site,c=u.x,f=u.y,p=t.x-c,h=t.y-f,d=n.site,m=d.x-c,y=d.y-f,v=2*(p*y-h*m),g=p*p+h*h,b=m*m+y*y,_={x:(y*g-h*b)/v+c,y:(p*b-m*g)/v+f};ir(n.edge,u,d,_),l.edge=rr(u,t,null,_),n.edge=rr(t,d,null,_),Jn(e),Jn(n)}}function Gn(t,e){var n=t.site,r=n.x,o=n.y,i=o-e;if(!i)return r;var a=t.P;if(!a)return-(1/0);n=a.site;var s=n.x,l=n.y,u=l-e;if(!u)return s;var c=s-r,f=1/i-1/u,p=c/u;return f?(-p+Math.sqrt(p*p-2*f*(c*c/(-2*u)-l+u/2+o-i/2)))/f+r:(r+s)/2}function Yn(t,e){var n=t.N;if(n)return Gn(n,e);var r=t.site;return r.y===e?r.x:1/0}function Zn(t){this.site=t,this.edges=[]}function Xn(t){for(var e,n,r,o,i,a,s,l,u,c,f=t[0][0],p=t[1][0],h=t[0][1],d=t[1][1],m=cl,y=m.length;y--;)if(i=m[y],i&&i.prepare())for(s=i.edges,l=s.length,a=0;a<l;)c=s[a].end(),r=c.x,o=c.y,u=s[++a%l].start(),e=u.x,n=u.y,(Ca(r-e)>Wa||Ca(o-n)>Wa)&&(s.splice(a,0,new ar(or(i.site,c,Ca(r-f)<Wa&&d-o>Wa?{x:f,y:Ca(e-f)<Wa?n:d}:Ca(o-d)<Wa&&p-r>Wa?{x:Ca(n-d)<Wa?e:p,y:d}:Ca(r-p)<Wa&&o-h>Wa?{x:p,y:Ca(e-p)<Wa?n:h}:Ca(o-h)<Wa&&r-f>Wa?{x:Ca(n-h)<Wa?e:f,y:h}:null),i.site,null)),++l)}function Kn(t,e){return e.angle-t.angle}function Qn(){lr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Jn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,o=t.site,i=n.site;if(r!==i){var a=o.x,s=o.y,l=r.x-a,u=r.y-s,c=i.x-a,f=i.y-s,p=2*(l*f-u*c);if(!(p>=-qa)){var h=l*l+u*u,d=c*c+f*f,m=(f*h-u*d)/p,y=(l*d-c*h)/p,f=y+s,v=ml.pop()||new Qn;v.arc=t,v.site=o,v.x=m+a,v.y=f+Math.sqrt(m*m+y*y),v.cy=f,t.circle=v;for(var g=null,b=hl._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){g=b.P;break}b=b.L}else{if(!b.R){g=b;break}b=b.R}hl.insert(g,v),g||(pl=v)}}}}function $n(t){var e=t.circle;e&&(e.P||(pl=e.N),hl.remove(e),ml.push(e),lr(e),t.circle=null)}function tr(t){for(var e,n=ul,r=Ye(t[0][0],t[0][1],t[1][0],t[1][1]),o=n.length;o--;)e=n[o],(!er(e,t)||!r(e)||Ca(e.a.x-e.b.x)<Wa&&Ca(e.a.y-e.b.y)<Wa)&&(e.a=e.b=null,n.splice(o,1))}function er(t,e){var n=t.b;if(n)return!0;var r,o,i=t.a,a=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,f=t.r,p=c.x,h=c.y,d=f.x,m=f.y,y=(p+d)/2,v=(h+m)/2;if(m===h){if(y<a||y>=s)return;if(p>d){if(i){if(i.y>=u)return}else i={x:y,y:l};n={x:y,y:u}}else{if(i){if(i.y<l)return}else i={x:y,y:u};n={x:y,y:l}}}else if(r=(p-d)/(m-h),o=v-r*y,r<-1||r>1)if(p>d){if(i){if(i.y>=u)return}else i={x:(l-o)/r,y:l};n={x:(u-o)/r,y:u}}else{if(i){if(i.y<l)return}else i={x:(u-o)/r,y:u};n={x:(l-o)/r,y:l}}else if(h<m){if(i){if(i.x>=s)return}else i={x:a,y:r*a+o};n={x:s,y:r*s+o}}else{if(i){if(i.x<a)return}else i={x:s,y:r*s+o};n={x:a,y:r*a+o}}return t.a=i,t.b=n,!0}function nr(t,e){this.l=t,this.r=e,this.a=this.b=null}function rr(t,e,n,r){var o=new nr(t,e);return ul.push(o),n&&ir(o,t,e,n),r&&ir(o,e,t,r),cl[t.i].edges.push(new ar(o,t,e)),cl[e.i].edges.push(new ar(o,e,t)),o}function or(t,e,n){var r=new nr(t,null);return r.a=e,r.b=n,ul.push(r),r}function ir(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function ar(t,e,n){var r=t.a,o=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(o.x-r.x,r.y-o.y):Math.atan2(r.x-o.x,o.y-r.y)}function sr(){this._=null}function lr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ur(t,e){var n=e,r=e.R,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function cr(t,e){var n=e,r=e.L,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function fr(t){for(;t.L;)t=t.L;return t}function pr(t,e){var n,r,o,i=t.sort(hr).pop();for(ul=[],cl=new Array(t.length),fl=new sr,hl=new sr;;)if(o=pl,i&&(!o||i.y<o.y||i.y===o.y&&i.x<o.x))i.x===n&&i.y===r||(cl[i.i]=new Zn(i),Hn(i),n=i.x,r=i.y),i=t.pop();else{if(!o)break;Vn(o.arc)}e&&(tr(e),Xn(e));var a={cells:cl,edges:ul};return fl=hl=ul=cl=null,a}function hr(t,e){return e.y-t.y||e.x-t.x}function dr(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function mr(t){return t.x}function yr(t){return t.y}function vr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function gr(t,e,n,r,o,i){if(!t(e,n,r,o,i)){var a=.5*(n+o),s=.5*(r+i),l=e.nodes;l[0]&&gr(t,l[0],n,r,a,s),l[1]&&gr(t,l[1],a,r,o,s),l[2]&&gr(t,l[2],n,s,a,i),l[3]&&gr(t,l[3],a,s,o,i)}}function br(t,e,n,r,o,i,a){var s,l=1/0;return function u(t,c,f,p,h){if(!(c>i||f>a||p<r||h<o)){if(d=t.point){var d,m=e-t.x,y=n-t.y,v=m*m+y*y;if(v<l){var g=Math.sqrt(l=v);r=e-g,o=n-g,i=e+g,a=n+g,s=d}}for(var b=t.nodes,_=.5*(c+p),x=.5*(f+h),w=e>=_,T=n>=x,E=T<<1|w,C=E+4;E<C;++E)if(t=b[3&E])switch(3&E){case 0:u(t,c,f,_,x);break;case 1:u(t,_,f,p,x);break;case 2:u(t,c,x,_,h);break;case 3:u(t,_,x,p,h)}}}(t,r,o,i,a),s}function _r(t,e){t=ha.rgb(t),e=ha.rgb(e);var n=t.r,r=t.g,o=t.b,i=e.r-n,a=e.g-r,s=e.b-o;return function(t){return"#"+Ct(Math.round(n+i*t))+Ct(Math.round(r+a*t))+Ct(Math.round(o+s*t))}}function xr(t,e){var n,r={},o={};for(n in t)n in e?r[n]=Er(t[n],e[n]):o[n]=t[n];for(n in e)n in t||(o[n]=e[n]);return function(t){for(n in r)o[n]=r[n](t);return o}}function wr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Tr(t,e){var n,r,o,i=vl.lastIndex=gl.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=vl.exec(t))&&(r=gl.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:wr(n,r)})),i=gl.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function Er(t,e){for(var n,r=ha.interpolators.length;--r>=0&&!(n=ha.interpolators[r](t,e)););return n}function Cr(t,e){var n,r=[],o=[],i=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(Er(t[n],e[n]));for(;n<i;++n)o[n]=t[n];for(;n<a;++n)o[n]=e[n];return function(t){for(n=0;n<s;++n)o[n]=r[n](t);return o}}function kr(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function Sr(t){return function(e){return 1-t(1-e)}}function Pr(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Mr(t){return t*t}function Ar(t){return t*t*t}function Or(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Dr(t){return function(e){return Math.pow(e,t)}}function Lr(t){return 1-Math.cos(t*Ya)}function Ir(t){return Math.pow(2,10*(t-1))}function jr(t){return 1-Math.sqrt(1-t*t)}function Fr(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Ha*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Ha/e)}}function Rr(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Nr(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function zr(t,e){t=ha.hcl(t),e=ha.hcl(e);var n=t.h,r=t.c,o=t.l,i=e.h-n,a=e.c-r,s=e.l-o;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(i)?(i=0,n=isNaN(n)?e.h:n):i>180?i-=360:i<-180&&(i+=360),function(t){return mt(n+i*t,r+a*t,o+s*t)+""}}function Br(t,e){t=ha.hsl(t),e=ha.hsl(e);var n=t.h,r=t.s,o=t.l,i=e.h-n,a=e.s-r,s=e.l-o;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(i)?(i=0,n=isNaN(n)?e.h:n):i>180?i-=360:i<-180&&(i+=360),function(t){return ht(n+i*t,r+a*t,o+s*t)+""}}function Ur(t,e){t=ha.lab(t),e=ha.lab(e);var n=t.l,r=t.a,o=t.b,i=e.l-n,a=e.a-r,s=e.b-o;return function(t){return vt(n+i*t,r+a*t,o+s*t)+""}}function Wr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function qr(t){var e=[t.a,t.b],n=[t.c,t.d],r=Hr(e),o=Vr(e,n),i=Hr(Gr(n,e,-o))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,o*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Xa,this.translate=[t.e,t.f],this.scale=[r,i],this.skew=i?Math.atan2(o,i)*Xa:0}function Vr(t,e){return t[0]*e[0]+t[1]*e[1]}function Hr(t){var e=Math.sqrt(Vr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Gr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Yr(t){return t.length?t.pop()+",":""}function Zr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var o=n.push("translate(",null,",",null,")");r.push({i:o-4,x:wr(t[0],e[0])},{i:o-2,x:wr(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Xr(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(Yr(n)+"rotate(",null,")")-2,x:wr(t,e)})):e&&n.push(Yr(n)+"rotate("+e+")")}function Kr(t,e,n,r){t!==e?r.push({i:n.push(Yr(n)+"skewX(",null,")")-2,x:wr(t,e)}):e&&n.push(Yr(n)+"skewX("+e+")")}function Qr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var o=n.push(Yr(n)+"scale(",null,",",null,")");r.push({i:o-4,x:wr(t[0],e[0])},{i:o-2,x:wr(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Yr(n)+"scale("+e+")")}function Jr(t,e){var n=[],r=[];return t=ha.transform(t),e=ha.transform(e),Zr(t.translate,e.translate,n,r),Xr(t.rotate,e.rotate,n,r),Kr(t.skew,e.skew,n,r),Qr(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,o=-1,i=r.length;++o<i;)n[(e=r[o]).i]=e.x(t);return n.join("")}}function $r(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function to(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function eo(t){for(var e=t.source,n=t.target,r=ro(e,n),o=[e];e!==r;)e=e.parent,o.push(e);for(var i=o.length;n!==r;)o.splice(i,0,n),n=n.parent;return o}function no(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function ro(t,e){if(t===e)return t;for(var n=no(t),r=no(e),o=n.pop(),i=r.pop(),a=null;o===i;)a=o,o=n.pop(),i=r.pop();return a}function oo(t){t.fixed|=2}function io(t){t.fixed&=-7}function ao(t){t.fixed|=4,t.px=t.x,t.py=t.y}function so(t){t.fixed&=-5}function lo(t,e,n){var r=0,o=0;if(t.charge=0,!t.leaf)for(var i,a=t.nodes,s=a.length,l=-1;++l<s;)i=a[l],null!=i&&(lo(i,e,n),t.charge+=i.charge,r+=i.charge*i.cx,o+=i.charge*i.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,r+=u*t.point.x,o+=u*t.point.y}t.cx=r/t.charge,t.cy=o/t.charge}function uo(t,e){return ha.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=yo,t}function co(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(o=t.children)&&(r=o.length))for(var r,o;--r>=0;)n.push(o[r])}function fo(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(i=t.children)&&(o=i.length))for(var o,i,a=-1;++a<o;)n.push(i[a]);for(;null!=(t=r.pop());)e(t)}function po(t){return t.children}function ho(t){return t.value}function mo(t,e){return e.value-t.value}function yo(t){return ha.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function vo(t){return t.x}function go(t){return t.y}function bo(t,e,n){t.y0=e,t.y=n}function _o(t){return ha.range(t.length)}function xo(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function wo(t){for(var e,n=1,r=0,o=t[0][1],i=t.length;n<i;++n)(e=t[n][1])>o&&(r=n,o=e);return r}function To(t){return t.reduce(Eo,0)}function Eo(t,e){return t+e[1]}function Co(t,e){return ko(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function ko(t,e){for(var n=-1,r=+t[0],o=(t[1]-r)/e,i=[];++n<=e;)i[n]=o*n+r;return i}function So(t){return[ha.min(t),ha.max(t)]}function Po(t,e){return t.value-e.value}function Mo(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Ao(t,e){t._pack_next=e,e._pack_prev=t}function Oo(t,e){var n=e.x-t.x,r=e.y-t.y,o=t.r+e.r;return.999*o*o>n*n+r*r}function Do(t){function e(t){c=Math.min(t.x-t.r,c),f=Math.max(t.x+t.r,f),p=Math.min(t.y-t.r,p),h=Math.max(t.y+t.r,h)}if((n=t.children)&&(u=n.length)){var n,r,o,i,a,s,l,u,c=1/0,f=-(1/0),p=1/0,h=-(1/0);if(n.forEach(Lo),r=n[0],r.x=-r.r,r.y=0,e(r),u>1&&(o=n[1],o.x=o.r,o.y=0,e(o),u>2))for(i=n[2],Fo(r,o,i),e(i),Mo(r,i),r._pack_prev=i,Mo(i,o),o=r._pack_next,a=3;a<u;a++){Fo(r,o,i=n[a]);var d=0,m=1,y=1;for(s=o._pack_next;s!==o;s=s._pack_next,m++)if(Oo(s,i)){d=1;break}if(1==d)for(l=r._pack_prev;l!==s._pack_prev&&!Oo(l,i);l=l._pack_prev,y++);d?(m<y||m==y&&o.r<r.r?Ao(r,o=s):Ao(r=l,o),a--):(Mo(r,i),o=i,e(i))}var v=(c+f)/2,g=(p+h)/2,b=0;for(a=0;a<u;a++)i=n[a],i.x-=v,i.y-=g,b=Math.max(b,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=b,n.forEach(Io)}}function Lo(t){t._pack_next=t._pack_prev=t}function Io(t){delete t._pack_next,delete t._pack_prev}function jo(t,e,n,r){var o=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,o)for(var i=-1,a=o.length;++i<a;)jo(o[i],e,n,r)}function Fo(t,e,n){var r=t.r+n.r,o=e.x-t.x,i=e.y-t.y;if(r&&(o||i)){var a=e.r+n.r,s=o*o+i*i;a*=a,r*=r;var l=.5+(r-a)/(2*s),u=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+l*o+u*i,n.y=t.y+l*i-u*o}else n.x=t.x+r,n.y=t.y}function Ro(t,e){return t.parent==e.parent?1:2}function No(t){var e=t.children;return e.length?e[0]:t.t}function zo(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Bo(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Uo(t){for(var e,n=0,r=0,o=t.children,i=o.length;--i>=0;)e=o[i],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function Wo(t,e,n){
return t.a.parent===e.parent?t.a:n}function qo(t){return 1+ha.max(t,function(t){return t.y})}function Vo(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Ho(t){var e=t.children;return e&&e.length?Ho(e[0]):t}function Go(t){var e,n=t.children;return n&&(e=n.length)?Go(n[e-1]):t}function Yo(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Zo(t,e){var n=t.x+e[3],r=t.y+e[0],o=t.dx-e[1]-e[3],i=t.dy-e[0]-e[2];return o<0&&(n+=o/2,o=0),i<0&&(r+=i/2,i=0),{x:n,y:r,dx:o,dy:i}}function Xo(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Ko(t){return t.rangeExtent?t.rangeExtent():Xo(t.range())}function Qo(t,e,n,r){var o=n(t[0],t[1]),i=r(e[0],e[1]);return function(t){return i(o(t))}}function Jo(t,e){var n,r=0,o=t.length-1,i=t[r],a=t[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),t[r]=e.floor(i),t[o]=e.ceil(a),t}function $o(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Ml}function ti(t,e,n,r){var o=[],i=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)o.push(n(t[a-1],t[a])),i.push(r(e[a-1],e[a]));return function(e){var n=ha.bisect(t,e,1,s)-1;return i[n](o[n](e))}}function ei(t,e,n,r){function o(){var o=Math.min(t.length,e.length)>2?ti:Qo,l=r?to:$r;return a=o(t,e,l,n),s=o(e,t,l,Er),i}function i(t){return a(t)}var a,s;return i.invert=function(t){return s(t)},i.domain=function(e){return arguments.length?(t=e.map(Number),o()):t},i.range=function(t){return arguments.length?(e=t,o()):e},i.rangeRound=function(t){return i.range(t).interpolate(Wr)},i.clamp=function(t){return arguments.length?(r=t,o()):r},i.interpolate=function(t){return arguments.length?(n=t,o()):n},i.ticks=function(e){return ii(t,e)},i.tickFormat=function(e,n){return ai(t,e,n)},i.nice=function(e){return ri(t,e),o()},i.copy=function(){return ei(t,e,n,r)},o()}function ni(t,e){return ha.rebind(t,e,"range","rangeRound","interpolate","clamp")}function ri(t,e){return Jo(t,$o(oi(t,e)[2])),Jo(t,$o(oi(t,e)[2])),t}function oi(t,e){null==e&&(e=10);var n=Xo(t),r=n[1]-n[0],o=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),i=e/r*o;return i<=.15?o*=10:i<=.35?o*=5:i<=.75&&(o*=2),n[0]=Math.ceil(n[0]/o)*o,n[1]=Math.floor(n[1]/o)*o+.5*o,n[2]=o,n}function ii(t,e){return ha.range.apply(ha,oi(t,e))}function ai(t,e,n){var r=oi(t,e);if(n){var o=vs.exec(n);if(o.shift(),"s"===o[8]){var i=ha.formatPrefix(Math.max(Ca(r[0]),Ca(r[1])));return o[7]||(o[7]="."+si(i.scale(r[2]))),o[8]="f",n=ha.format(o.join("")),function(t){return n(i.scale(t))+i.symbol}}o[7]||(o[7]="."+li(o[8],r)),n=o.join("")}else n=",."+si(r[2])+"f";return ha.format(n)}function si(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function li(t,e){var n=si(e[2]);return t in Al?Math.abs(n-si(Math.max(Ca(e[0]),Ca(e[1]))))+ +("e"!==t):n-2*("%"===t)}function ui(t,e,n,r){function o(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function i(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(o(e))}return a.invert=function(e){return i(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(o)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(o)),a):e},a.nice=function(){var e=Jo(r.map(o),n?Math:Dl);return t.domain(e),r=e.map(i),a},a.ticks=function(){var t=Xo(r),a=[],s=t[0],l=t[1],u=Math.floor(o(s)),c=Math.ceil(o(l)),f=e%1?2:e;if(isFinite(c-u)){if(n){for(;u<c;u++)for(var p=1;p<f;p++)a.push(i(u)*p);a.push(i(u))}else for(a.push(i(u));u++<c;)for(var p=f-1;p>0;p--)a.push(i(u)*p);for(u=0;a[u]<s;u++);for(c=a.length;a[c-1]>l;c--);a=a.slice(u,c)}return a},a.tickFormat=function(t,n){if(!arguments.length)return Ol;arguments.length<2?n=Ol:"function"!=typeof n&&(n=ha.format(n));var r=Math.max(1,e*t/a.ticks().length);return function(t){var a=t/i(Math.round(o(t)));return a*e<e-.5&&(a*=e),a<=r?n(t):""}},a.copy=function(){return ui(t.copy(),e,n,r)},ni(a,t)}function ci(t,e,n){function r(e){return t(o(e))}var o=fi(e),i=fi(1/e);return r.invert=function(e){return i(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(o)),r):n},r.ticks=function(t){return ii(n,t)},r.tickFormat=function(t,e){return ai(n,t,e)},r.nice=function(t){return r.domain(ri(n,t))},r.exponent=function(a){return arguments.length?(o=fi(e=a),i=fi(1/e),t.domain(n.map(o)),r):e},r.copy=function(){return ci(t.copy(),e,n)},ni(r,t)}function fi(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function pi(t,e){function n(n){return i[((o.get(n)||("range"===e.t?o.set(n,t.push(n)):NaN))-1)%i.length]}function r(e,n){return ha.range(t.length).map(function(t){return e+n*t})}var o,i,a;return n.domain=function(r){if(!arguments.length)return t;t=[],o=new d;for(var i,a=-1,s=r.length;++a<s;)o.has(i=r[a])||o.set(i,t.push(i));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(i=t,a=0,e={t:"range",a:arguments},n):i},n.rangePoints=function(o,s){arguments.length<2&&(s=0);var l=o[0],u=o[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+s);return i=r(l+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(o,s){arguments.length<2&&(s=0);var l=o[0],u=o[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+s)|0;return i=r(l+Math.round(c*s/2+(u-l-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(o,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=o[1]<o[0],c=o[u-0],f=o[1-u],p=(f-c)/(t.length-s+2*l);return i=r(c+p*l,p),u&&i.reverse(),a=p*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(o,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=o[1]<o[0],c=o[u-0],f=o[1-u],p=Math.floor((f-c)/(t.length-s+2*l));return i=r(c+Math.round((f-c-(t.length-s)*p)/2),p),u&&i.reverse(),a=Math.round(p*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Xo(e.a[0])},n.copy=function(){return pi(t,e)},n.domain(t)}function hi(t,e){function n(){var n=0,i=e.length;for(o=[];++n<i;)o[n-1]=ha.quantile(t,n/i);return r}function r(t){if(!isNaN(t=+t))return e[ha.bisect(o,t)]}var o;return r.domain=function(e){return arguments.length?(t=e.map(l).filter(u).sort(s),n()):t},r.range=function(t){return arguments.length?(e=t,n()):e},r.quantiles=function(){return o},r.invertExtent=function(n){return n=e.indexOf(n),n<0?[NaN,NaN]:[n>0?o[n-1]:t[0],n<o.length?o[n]:t[t.length-1]]},r.copy=function(){return hi(t,e)},n()}function di(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(i*(e-t))))]}function o(){return i=n.length/(e-t),a=n.length-1,r}var i,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],o()):[t,e]},r.range=function(t){return arguments.length?(n=t,o()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=e<0?NaN:e/i+t,[e,e+1/i]},r.copy=function(){return di(t,e,n)},o()}function mi(t,e){function n(n){if(n<=n)return e[ha.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return mi(t,e)},n}function yi(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return ii(t,e)},e.tickFormat=function(e,n){return ai(t,e,n)},e.copy=function(){return yi(t)},e}function vi(){return 0}function gi(t){return t.innerRadius}function bi(t){return t.outerRadius}function _i(t){return t.startAngle}function xi(t){return t.endAngle}function wi(t){return t&&t.padAngle}function Ti(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function Ei(t,e,n,r,o){var i=t[0]-e[0],a=t[1]-e[1],s=(o?r:-r)/Math.sqrt(i*i+a*a),l=s*a,u=-s*i,c=t[0]+l,f=t[1]+u,p=e[0]+l,h=e[1]+u,d=(c+p)/2,m=(f+h)/2,y=p-c,v=h-f,g=y*y+v*v,b=n-r,_=c*h-p*f,x=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*g-_*_)),w=(_*v-y*x)/g,T=(-_*y-v*x)/g,E=(_*v+y*x)/g,C=(-_*y+v*x)/g,k=w-d,S=T-m,P=E-d,M=C-m;return k*k+S*S>P*P+M*M&&(w=E,T=C),[[w-l,T-u],[w*n/b,T*n/b]]}function Ci(t){function e(e){function a(){u.push("M",i(t(c),s))}for(var l,u=[],c=[],f=-1,p=e.length,h=Ot(n),d=Ot(r);++f<p;)o.call(this,l=e[f],f)?c.push([+h.call(this,l,f),+d.call(this,l,f)]):c.length&&(a(),c=[]);return c.length&&a(),u.length?u.join(""):null}var n=In,r=jn,o=Ie,i=ki,a=i.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?i=t:(i=Nl.get(t)||ki).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function ki(t){return t.length>1?t.join("L"):t+"Z"}function Si(t){return t.join("L")+"Z"}function Pi(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&o.push("H",r[0]),o.join("")}function Mi(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("V",(r=t[e])[1],"H",r[0]);return o.join("")}function Ai(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("H",(r=t[e])[0],"V",r[1]);return o.join("")}function Oi(t,e){return t.length<4?ki(t):t[1]+Ii(t.slice(1,-1),ji(t,e))}function Di(t,e){return t.length<3?Si(t):t[0]+Ii((t.push(t[0]),t),ji([t[t.length-2]].concat(t,[t[1]]),e))}function Li(t,e){return t.length<3?ki(t):t[0]+Ii(t,ji(t,e))}function Ii(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return ki(t);var n=t.length!=e.length,r="",o=t[0],i=t[1],a=e[0],s=a,l=1;if(n&&(r+="Q"+(i[0]-2*a[0]/3)+","+(i[1]-2*a[1]/3)+","+i[0]+","+i[1],o=t[1],l=2),e.length>1){s=e[1],i=t[l],l++,r+="C"+(o[0]+a[0])+","+(o[1]+a[1])+","+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1];for(var u=2;u<e.length;u++,l++)i=t[l],s=e[u],r+="S"+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1]}if(n){var c=t[l];r+="Q"+(i[0]+2*s[0]/3)+","+(i[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function ji(t,e){for(var n,r=[],o=(1-e)/2,i=t[0],a=t[1],s=1,l=t.length;++s<l;)n=i,i=a,a=t[s],r.push([o*(a[0]-n[0]),o*(a[1]-n[1])]);return r}function Fi(t){if(t.length<3)return ki(t);var e=1,n=t.length,r=t[0],o=r[0],i=r[1],a=[o,o,o,(r=t[1])[0]],s=[i,i,i,r[1]],l=[o,",",i,"L",Bi(Ul,a),",",Bi(Ul,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Ui(l,a,s);return t.pop(),l.push("L",r),l.join("")}function Ri(t){if(t.length<4)return ki(t);for(var e,n=[],r=-1,o=t.length,i=[0],a=[0];++r<3;)e=t[r],i.push(e[0]),a.push(e[1]);for(n.push(Bi(Ul,i)+","+Bi(Ul,a)),--r;++r<o;)e=t[r],i.shift(),i.push(e[0]),a.shift(),a.push(e[1]),Ui(n,i,a);return n.join("")}function Ni(t){for(var e,n,r=-1,o=t.length,i=o+4,a=[],s=[];++r<4;)n=t[r%o],a.push(n[0]),s.push(n[1]);for(e=[Bi(Ul,a),",",Bi(Ul,s)],--r;++r<i;)n=t[r%o],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ui(e,a,s);return e.join("")}function zi(t,e){var n=t.length-1;if(n)for(var r,o,i=t[0][0],a=t[0][1],s=t[n][0]-i,l=t[n][1]-a,u=-1;++u<=n;)r=t[u],o=u/n,r[0]=e*r[0]+(1-e)*(i+o*s),r[1]=e*r[1]+(1-e)*(a+o*l);return Fi(t)}function Bi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ui(t,e,n){t.push("C",Bi(zl,e),",",Bi(zl,n),",",Bi(Bl,e),",",Bi(Bl,n),",",Bi(Ul,e),",",Bi(Ul,n))}function Wi(t,e){return(e[1]-t[1])/(e[0]-t[0])}function qi(t){for(var e=0,n=t.length-1,r=[],o=t[0],i=t[1],a=r[0]=Wi(o,i);++e<n;)r[e]=(a+(a=Wi(o=i,i=t[e+1])))/2;return r[e]=a,r}function Vi(t){for(var e,n,r,o,i=[],a=qi(t),s=-1,l=t.length-1;++s<l;)e=Wi(t[s],t[s+1]),Ca(e)<Wa?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,o=n*n+r*r,o>9&&(o=3*e/Math.sqrt(o),a[s]=o*n,a[s+1]=o*r));for(s=-1;++s<=l;)o=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),i.push([o||0,a[s]*o||0]);return i}function Hi(t){return t.length<3?ki(t):t[0]+Ii(t,Vi(t))}function Gi(t){for(var e,n,r,o=-1,i=t.length;++o<i;)e=t[o],n=e[0],r=e[1]-Ya,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Yi(t){function e(e){function l(){m.push("M",s(t(v),f),c,u(t(y.reverse()),f),"Z")}for(var p,h,d,m=[],y=[],v=[],g=-1,b=e.length,_=Ot(n),x=Ot(o),w=n===r?function(){return h}:Ot(r),T=o===i?function(){return d}:Ot(i);++g<b;)a.call(this,p=e[g],g)?(y.push([h=+_.call(this,p,g),d=+x.call(this,p,g)]),v.push([+w.call(this,p,g),+T.call(this,p,g)])):y.length&&(l(),y=[],v=[]);return y.length&&l(),m.length?m.join(""):null}var n=In,r=In,o=0,i=jn,a=Ie,s=ki,l=s.key,u=s,c="L",f=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(o=i=t,e):i},e.y0=function(t){return arguments.length?(o=t,e):o},e.y1=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=Nl.get(t)||ki).key,u=s.reverse||s,c=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(f=t,e):f},e}function Zi(t){return t.radius}function Xi(t){return[t.x,t.y]}function Ki(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Ya;return[n*Math.cos(r),n*Math.sin(r)]}}function Qi(){return 64}function Ji(){return"circle"}function $i(t){var e=Math.sqrt(t/Va);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function ta(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function ea(t,e,n){return Aa(t,Zl),t.namespace=e,t.id=n,t}function na(t,e,n,r){var o=t.id,i=t.namespace;return Z(t,"function"==typeof n?function(t,a,s){t[i][o].tween.set(e,r(n.call(t,t.__data__,a,s)))}:(n=r(n),function(t){t[i][o].tween.set(e,n)}))}function ra(t){return null==t&&(t=""),function(){this.textContent=t}}function oa(t){return null==t?"__transition__":"__transition_"+t+"__"}function ia(t,e,n,r,o){function i(t){var e=m.delay;return u.t=e+l,e<=t?a(t-e):void(u.c=a)}function a(n){var o=h.active,i=h[o];i&&(i.timer.c=null,i.timer.t=NaN,--h.count,delete h[o],i.event&&i.event.interrupt.call(t,t.__data__,i.index));for(var a in h)if(+a<r){var d=h[a];d.timer.c=null,d.timer.t=NaN,--h.count,delete h[a]}u.c=s,Ft(function(){return u.c&&s(n||1)&&(u.c=null,u.t=NaN),1},0,l),h.active=r,m.event&&m.event.start.call(t,t.__data__,e),p=[],m.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&p.push(r)}),f=m.ease,c=m.duration}function s(o){for(var i=o/c,a=f(i),s=p.length;s>0;)p[--s].call(t,a);if(i>=1)return m.event&&m.event.end.call(t,t.__data__,e),--h.count?delete h[r]:delete t[n],1}var l,u,c,f,p,h=t[n]||(t[n]={active:0,count:0}),m=h[r];m||(l=o.time,u=Ft(i,0,l),m=h[r]={tween:new d,time:l,timer:u,delay:o.delay,duration:o.duration,ease:o.ease,index:e},o=null,++h.count)}function aa(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function sa(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function la(t){return t.toISOString()}function ua(t,e,n){function r(e){return t(e)}function o(t,n){var r=t[1]-t[0],o=r/n,i=ha.bisect(ru,o);return i==ru.length?[e.year,oi(t.map(function(t){return t/31536e6}),n)[2]]:i?e[o/ru[i-1]<ru[i]/o?i-1:i]:[au,oi(t,n)[2]]}return r.invert=function(e){return ca(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(ca)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,ca(+n+1),e).length}var i=r.domain(),a=Xo(i),s=null==t?o(a,10):"number"==typeof t&&o(a,t);return s&&(t=s[0],e=s[1]),r.domain(Jo(i,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=ca(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=ca(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Xo(r.domain()),i=null==t?o(n,10):"number"==typeof t?o(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],ca(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return ua(t.copy(),e,n)},ni(r,t)}function ca(t){return new Date(t)}function fa(t){return JSON.parse(t.responseText)}function pa(t){var e=ya.createRange();return e.selectNode(ya.body),e.createContextualFragment(t.responseText)}var ha={version:"3.5.17"},da=[].slice,ma=function(t){return da.call(t)},ya=this.document;if(ya)try{ma(ya.documentElement.childNodes)[0].nodeType}catch(va){ma=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),ya)try{ya.createElement("DIV").style.setProperty("opacity",0,"")}catch(ga){var ba=this.Element.prototype,_a=ba.setAttribute,xa=ba.setAttributeNS,wa=this.CSSStyleDeclaration.prototype,Ta=wa.setProperty;ba.setAttribute=function(t,e){_a.call(this,t,e+"")},ba.setAttributeNS=function(t,e,n){xa.call(this,t,e,n+"")},wa.setProperty=function(t,e,n){Ta.call(this,t,e+"",n)}}ha.ascending=s,ha.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},ha.min=function(t,e){var n,r,o=-1,i=t.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=t[o])&&r>=r){n=r;break}for(;++o<i;)null!=(r=t[o])&&n>r&&(n=r)}else{for(;++o<i;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=r;break}for(;++o<i;)null!=(r=e.call(t,t[o],o))&&n>r&&(n=r)}return n},ha.max=function(t,e){var n,r,o=-1,i=t.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=t[o])&&r>=r){n=r;break}for(;++o<i;)null!=(r=t[o])&&r>n&&(n=r)}else{for(;++o<i;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=r;break}for(;++o<i;)null!=(r=e.call(t,t[o],o))&&r>n&&(n=r)}return n},ha.extent=function(t,e){var n,r,o,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=o=r;break}for(;++i<a;)null!=(r=t[i])&&(n>r&&(n=r),o<r&&(o=r))}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=o=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&(n>r&&(n=r),o<r&&(o=r))}return[n,o]},ha.sum=function(t,e){var n,r=0,o=t.length,i=-1;if(1===arguments.length)for(;++i<o;)u(n=+t[i])&&(r+=n);else for(;++i<o;)u(n=+e.call(t,t[i],i))&&(r+=n);return r},ha.mean=function(t,e){var n,r=0,o=t.length,i=-1,a=o;if(1===arguments.length)for(;++i<o;)u(n=l(t[i]))?r+=n:--a;else for(;++i<o;)u(n=l(e.call(t,t[i],i)))?r+=n:--a;if(a)return r/a},ha.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),o=+t[r-1],i=n-r;return i?o+i*(t[r]-o):o},ha.median=function(t,e){var n,r=[],o=t.length,i=-1;if(1===arguments.length)for(;++i<o;)u(n=l(t[i]))&&r.push(n);else for(;++i<o;)u(n=l(e.call(t,t[i],i)))&&r.push(n);if(r.length)return ha.quantile(r.sort(s),.5)},ha.variance=function(t,e){var n,r,o=t.length,i=0,a=0,s=-1,c=0;if(1===arguments.length)for(;++s<o;)u(n=l(t[s]))&&(r=n-i,i+=r/++c,a+=r*(n-i));else for(;++s<o;)u(n=l(e.call(t,t[s],s)))&&(r=n-i,i+=r/++c,a+=r*(n-i));if(c>1)return a/(c-1)},ha.deviation=function(){var t=ha.variance.apply(this,arguments);return t?Math.sqrt(t):t};var Ea=c(s);ha.bisectLeft=Ea.left,ha.bisect=ha.bisectRight=Ea.right,ha.bisector=function(t){return c(1===t.length?function(e,n){return s(t(e),n)}:t)},ha.shuffle=function(t,e,n){(i=arguments.length)<3&&(n=t.length,i<2&&(e=0));for(var r,o,i=n-e;i;)o=Math.random()*i--|0,r=t[i+e],t[i+e]=t[o+e],t[o+e]=r;return t},ha.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},ha.pairs=function(t){for(var e,n=0,r=t.length-1,o=t[0],i=new Array(r<0?0:r);n<r;)i[n]=[e=o,o=t[++n]];return i},ha.transpose=function(t){if(!(o=t.length))return[];for(var e=-1,n=ha.min(t,f),r=new Array(n);++e<n;)for(var o,i=-1,a=r[e]=new Array(o);++i<o;)a[i]=t[i][e];return r},ha.zip=function(){return ha.transpose(arguments)},ha.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ha.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ha.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ha.merge=function(t){for(var e,n,r,o=t.length,i=-1,a=0;++i<o;)a+=t[i].length;for(n=new Array(a);--o>=0;)for(r=t[o],e=r.length;--e>=0;)n[--a]=r[e];return n};var Ca=Math.abs;ha.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,o=[],i=p(Ca(n)),a=-1;if(t*=i,e*=i,n*=i,n<0)for(;(r=t+n*++a)>e;)o.push(r/i);else for(;(r=t+n*++a)<e;)o.push(r/i);return o},ha.map=function(t,e){var n=new d;if(t instanceof d)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,o=-1,i=t.length;if(1===arguments.length)for(;++o<i;)n.set(o,t[o]);else for(;++o<i;)n.set(e.call(t,r=t[o],o),r)}else for(var a in t)n.set(a,t[a]);return n};var ka="__proto__",Sa="\0";h(d,{has:v,get:function(t){return this._[m(t)]},set:function(t,e){return this._[m(t)]=e},remove:g,keys:b,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:y(e),value:this._[e]});return t},size:_,empty:x,forEach:function(t){for(var e in this._)t.call(this,y(e),this._[e])}}),ha.nest=function(){function t(e,a,s){if(s>=i.length)return r?r.call(o,a):n?a.sort(n):a;for(var l,u,c,f,p=-1,h=a.length,m=i[s++],y=new d;++p<h;)(f=y.get(l=m(u=a[p])))?f.push(u):y.set(l,[u]);return e?(u=e(),c=function(n,r){u.set(n,t(e,r,s))}):(u={},c=function(n,r){u[n]=t(e,r,s)}),y.forEach(c),u}function e(t,n){if(n>=i.length)return t;var r=[],o=a[n++];return t.forEach(function(t,o){r.push({key:t,values:e(o,n)})}),o?r.sort(function(t,e){return o(t.key,e.key)}):r}var n,r,o={},i=[],a=[];return o.map=function(e,n){return t(n,e,0)},o.entries=function(n){return e(t(ha.map,n,0),0)},o.key=function(t){return i.push(t),o},o.sortKeys=function(t){return a[i.length-1]=t,o},o.sortValues=function(t){return n=t,o},o.rollup=function(t){return r=t,o},o},ha.set=function(t){var e=new w;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},h(w,{has:v,add:function(t){return this._[m(t+="")]=!0,t},remove:g,values:b,size:_,empty:x,forEach:function(t){for(var e in this._)t.call(this,y(e))}}),ha.behavior={},ha.rebind=function(t,e){for(var n,r=1,o=arguments.length;++r<o;)t[n=arguments[r]]=E(t,e,e[n]);return t};var Pa=["webkit","ms","moz","Moz","o","O"];ha.dispatch=function(){for(var t=new S,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=P(t);return t},S.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},ha.event=null,ha.requote=function(t){return t.replace(Ma,"\\$&")};var Ma=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Aa={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Oa=function(t,e){return e.querySelector(t)},Da=function(t,e){return e.querySelectorAll(t)},La=function(t,e){var n=t.matches||t[C(t,"matchesSelector")];return(La=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Oa=function(t,e){return Sizzle(t,e)[0]||null},Da=Sizzle,La=Sizzle.matchesSelector),ha.selection=function(){return ha.select(ya.documentElement)};var Ia=ha.selection.prototype=[];Ia.select=function(t){var e,n,r,o,i=[];t=L(t);for(var a=-1,s=this.length;++a<s;){i.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var l=-1,u=r.length;++l<u;)(o=r[l])?(e.push(n=t.call(o,o.__data__,l,a)),n&&"__data__"in o&&(n.__data__=o.__data__)):e.push(null)}return D(i)},Ia.selectAll=function(t){var e,n,r=[];t=I(t);for(var o=-1,i=this.length;++o<i;)for(var a=this[o],s=-1,l=a.length;++s<l;)(n=a[s])&&(r.push(e=ma(t.call(n,n.__data__,s,o))),e.parentNode=n);return D(r)};var ja="http://www.w3.org/1999/xhtml",Fa={svg:"http://www.w3.org/2000/svg",xhtml:ja,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ha.ns={prefix:Fa,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Fa.hasOwnProperty(n)?{space:Fa[n],local:t}:t}},Ia.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=ha.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(j(e,t[e]));return this}return this.each(j(t,e))},Ia.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=N(t)).length,o=-1;if(e=n.classList){for(;++o<r;)if(!e.contains(t[o]))return!1}else for(e=n.getAttribute("class");++o<r;)if(!R(t[o]).test(e))return!1;return!0}for(e in t)this.each(z(e,t[e]));return this}return this.each(z(t,e))},Ia.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e="");for(n in t)this.each(U(n,t[n],e));return this}if(r<2){var o=this.node();return a(o).getComputedStyle(o,null).getPropertyValue(t)}n=""}return this.each(U(t,e,n))},Ia.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(W(e,t[e]));return this}return this.each(W(t,e))},Ia.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Ia.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Ia.append=function(t){return t=q(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Ia.insert=function(t,e){return t=q(t),e=L(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Ia.remove=function(){return this.each(V)},Ia.data=function(t,e){function n(t,n){var r,o,i,a=t.length,c=n.length,f=Math.min(a,c),p=new Array(c),h=new Array(c),m=new Array(a);if(e){var y,v=new d,g=new Array(a);for(r=-1;++r<a;)(o=t[r])&&(v.has(y=e.call(o,o.__data__,r))?m[r]=o:v.set(y,o),g[r]=y);for(r=-1;++r<c;)(o=v.get(y=e.call(n,i=n[r],r)))?o!==!0&&(p[r]=o,o.__data__=i):h[r]=H(i),v.set(y,!0);for(r=-1;++r<a;)r in g&&v.get(g[r])!==!0&&(m[r]=t[r])}else{for(r=-1;++r<f;)o=t[r],i=n[r],o?(o.__data__=i,p[r]=o):h[r]=H(i);for(;r<c;++r)h[r]=H(n[r]);for(;r<a;++r)m[r]=t[r]}h.update=p,h.parentNode=p.parentNode=m.parentNode=t.parentNode,s.push(h),l.push(p),u.push(m)}var r,o,i=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++i<a;)(o=r[i])&&(t[i]=o.__data__);return t}var s=X([]),l=D([]),u=D([]);if("function"==typeof t)for(;++i<a;)n(r=this[i],t.call(r,r.parentNode.__data__,i));else for(;++i<a;)n(r=this[i],t);return l.enter=function(){return s},l.exit=function(){return u},l},Ia.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ia.filter=function(t){var e,n,r,o=[];"function"!=typeof t&&(t=G(t));for(var i=0,a=this.length;i<a;i++){o.push(e=[]),e.parentNode=(n=this[i]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,i)&&e.push(r)}return D(o)},Ia.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],o=r.length-1,i=r[o];--o>=0;)(n=r[o])&&(i&&i!==n.nextSibling&&i.parentNode.insertBefore(n,i),i=n);return this},Ia.sort=function(t){t=Y.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Ia.each=function(t){return Z(this,function(e,n,r){t.call(e,e.__data__,n,r)})},Ia.call=function(t){var e=ma(arguments);return t.apply(e[0]=this,e),this},Ia.empty=function(){return!this.node()},Ia.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,o=n.length;r<o;r++){var i=n[r];if(i)return i}return null},Ia.size=function(){var t=0;return Z(this,function(){++t}),t};var Ra=[];ha.selection.enter=X,ha.selection.enter.prototype=Ra,Ra.append=Ia.append,Ra.empty=Ia.empty,Ra.node=Ia.node,Ra.call=Ia.call,Ra.size=Ia.size,Ra.select=function(t){for(var e,n,r,o,i,a=[],s=-1,l=this.length;++s<l;){r=(o=this[s]).update,a.push(e=[]),e.parentNode=o.parentNode;for(var u=-1,c=o.length;++u<c;)(i=o[u])?(e.push(r[u]=n=t.call(o.parentNode,i.__data__,u,s)),n.__data__=i.__data__):e.push(null)}return D(a)},Ra.insert=function(t,e){return arguments.length<2&&(e=K(this)),Ia.insert.call(this,t,e)},ha.select=function(t){var e;return"string"==typeof t?(e=[Oa(t,ya)],e.parentNode=ya.documentElement):(e=[t],e.parentNode=i(t)),D([e])},ha.selectAll=function(t){var e;return"string"==typeof t?(e=ma(Da(t,ya)),e.parentNode=ya.documentElement):(e=ma(t),e.parentNode=null),D([e])},Ia.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e=!1);for(n in t)this.each(Q(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(Q(t,e,n))};var Na=ha.map({mouseenter:"mouseover",mouseleave:"mouseout"});ya&&Na.forEach(function(t){"on"+t in ya&&Na.remove(t)});var za,Ba=0;ha.mouse=function(t){return et(t,A())};var Ua=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ha.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=A().changedTouches),e)for(var r,o=0,i=e.length;o<i;++o)if((r=e[o]).identifier===n)return et(t,r)},ha.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",i)}function e(t,e,o,i,a){return function(){function s(){var t,n,r=e(p,m);r&&(t=r[0]-b[0],n=r[1]-b[1],d|=t|n,b=r,h({type:"drag",x:r[0]+u[0],y:r[1]+u[1],dx:t,dy:n}))}function l(){e(p,m)&&(v.on(i+y,null).on(a+y,null),g(d),h({type:"dragend"}))}var u,c=this,f=ha.event.target.correspondingElement||ha.event.target,p=c.parentNode,h=n.of(c,arguments),d=0,m=t(),y=".drag"+(null==m?"":"-"+m),v=ha.select(o(f)).on(i+y,s).on(a+y,l),g=tt(f),b=e(p,m);r?(u=r.apply(c,arguments),u=[u.x-b[0],u.y-b[1]]):u=[0,0],h({type:"dragstart"})}}var n=O(t,"drag","dragstart","dragend"),r=null,o=e(k,ha.mouse,a,"mousemove","mouseup"),i=e(nt,ha.touch,T,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},ha.rebind(t,n,"on")},ha.touches=function(t,e){return arguments.length<2&&(e=A().touches),e?ma(e).map(function(e){var n=et(t,e);return n.identifier=e.identifier,n}):[]};var Wa=1e-6,qa=Wa*Wa,Va=Math.PI,Ha=2*Va,Ga=Ha-Wa,Ya=Va/2,Za=Va/180,Xa=180/Va,Ka=Math.SQRT2,Qa=2,Ja=4;ha.interpolateZoom=function(t,e){var n,r,o=t[0],i=t[1],a=t[2],s=e[0],l=e[1],u=e[2],c=s-o,f=l-i,p=c*c+f*f;if(p<qa)r=Math.log(u/a)/Ka,n=function(t){return[o+t*c,i+t*f,a*Math.exp(Ka*t*r)]};else{var h=Math.sqrt(p),d=(u*u-a*a+Ja*p)/(2*a*Qa*h),m=(u*u-a*a-Ja*p)/(2*u*Qa*h),y=Math.log(Math.sqrt(d*d+1)-d),v=Math.log(Math.sqrt(m*m+1)-m);r=(v-y)/Ka,n=function(t){var e=t*r,n=lt(y),s=a/(Qa*h)*(n*ut(Ka*e+y)-st(y));return[o+s*c,i+s*f,a*n/lt(Ka*e+y)]}}return n.duration=1e3*r,n},ha.behavior.zoom=function(){function t(t){t.on(A,f).on(ts+".zoom",h).on("dblclick.zoom",d).on(I,p)}function e(t){return[(t[0]-E.x)/E.k,(t[1]-E.y)/E.k]}function n(t){return[t[0]*E.k+E.x,t[1]*E.k+E.y]}function r(t){E.k=Math.max(k[0],Math.min(k[1],t))}function o(t,e){e=n(e),E.x+=t[0]-e[0],E.y+=t[1]-e[1]}function i(e,n,i,a){e.__chart__={x:E.x,y:E.y,k:E.k},r(Math.pow(2,a)),o(y=n,i),e=ha.select(e),S>0&&(e=e.transition().duration(S)),e.call(t.event)}function s(){x&&x.domain(_.range().map(function(t){return(t-E.x)/E.k}).map(_.invert)),T&&T.domain(w.range().map(function(t){return(t-E.y)/E.k}).map(w.invert))}function l(t){P++||t({type:"zoomstart"})}function u(t){s(),t({type:"zoom",scale:E.k,translate:[E.x,E.y]})}function c(t){--P||(t({type:"zoomend"}),y=null)}function f(){function t(){s=1,o(ha.mouse(r),p),u(i)}function n(){f.on(D,null).on(L,null),h(s),c(i)}var r=this,i=j.of(r,arguments),s=0,f=ha.select(a(r)).on(D,t).on(L,n),p=e(ha.mouse(r)),h=tt(r);Yl.call(r),l(i)}function p(){function t(){var t=ha.touches(d);return h=E.k,t.forEach(function(t){t.identifier in y&&(y[t.identifier]=e(t))}),t}function n(){var e=ha.event.target;ha.select(e).on(_,a).on(x,s),w.push(e);for(var n=ha.event.changedTouches,r=0,o=n.length;r<o;++r)y[n[r].identifier]=null;var l=t(),u=Date.now();if(1===l.length){if(u-b<500){var c=l[0];i(d,c,y[c.identifier],Math.floor(Math.log(E.k)/Math.LN2)+1),M()}b=u}else if(l.length>1){var c=l[0],f=l[1],p=c[0]-f[0],h=c[1]-f[1];v=p*p+h*h}}function a(){var t,e,n,i,a=ha.touches(d);Yl.call(d);for(var s=0,l=a.length;s<l;++s,i=null)if(n=a[s],i=y[n.identifier]){if(e)break;t=n,e=i}if(i){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,f=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],
r(f*h)}b=null,o(t,e),u(m)}function s(){if(ha.event.touches.length){for(var e=ha.event.changedTouches,n=0,r=e.length;n<r;++n)delete y[e[n].identifier];for(var o in y)return void t()}ha.selectAll(w).on(g,null),T.on(A,f).on(I,p),C(),c(m)}var h,d=this,m=j.of(d,arguments),y={},v=0,g=".zoom-"+ha.event.changedTouches[0].identifier,_="touchmove"+g,x="touchend"+g,w=[],T=ha.select(d),C=tt(d);n(),l(m),T.on(A,null).on(I,n)}function h(){var t=j.of(this,arguments);g?clearTimeout(g):(Yl.call(this),m=e(y=v||ha.mouse(this)),l(t)),g=setTimeout(function(){g=null,c(t)},50),M(),r(Math.pow(2,.002*$a())*E.k),o(y,m),u(t)}function d(){var t=ha.mouse(this),n=Math.log(E.k)/Math.LN2;i(this,t,e(t),ha.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var m,y,v,g,b,_,x,w,T,E={x:0,y:0,k:1},C=[960,500],k=es,S=250,P=0,A="mousedown.zoom",D="mousemove.zoom",L="mouseup.zoom",I="touchstart.zoom",j=O(t,"zoomstart","zoom","zoomend");return ts||(ts="onwheel"in ya?($a=function(){return-ha.event.deltaY*(ha.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ya?($a=function(){return ha.event.wheelDelta},"mousewheel"):($a=function(){return-ha.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=j.of(this,arguments),e=E;Hl?ha.select(this).transition().each("start.zoom",function(){E=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var n=C[0],r=C[1],o=y?y[0]:n/2,i=y?y[1]:r/2,a=ha.interpolateZoom([(o-E.x)/E.k,(i-E.y)/E.k,n/E.k],[(o-e.x)/e.k,(i-e.y)/e.k,n/e.k]);return function(e){var r=a(e),s=n/r[2];this.__chart__=E={x:o-r[0]*s,y:i-r[1]*s,k:s},u(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=E,l(t),u(t),c(t))})},t.translate=function(e){return arguments.length?(E={x:+e[0],y:+e[1],k:E.k},s(),t):[E.x,E.y]},t.scale=function(e){return arguments.length?(E={x:E.x,y:E.y,k:null},r(+e),s(),t):E.k},t.scaleExtent=function(e){return arguments.length?(k=null==e?es:[+e[0],+e[1]],t):k},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(C=e&&[+e[0],+e[1]],t):C},t.duration=function(e){return arguments.length?(S=+e,t):S},t.x=function(e){return arguments.length?(x=e,_=e.copy(),E={x:0,y:0,k:1},t):x},t.y=function(e){return arguments.length?(T=e,w=e.copy(),E={x:0,y:0,k:1},t):T},ha.rebind(t,j,"on")};var $a,ts,es=[0,1/0];ha.color=ft,ft.prototype.toString=function(){return this.rgb()+""},ha.hsl=pt;var ns=pt.prototype=new ft;ns.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new pt(this.h,this.s,this.l/t)},ns.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new pt(this.h,this.s,t*this.l)},ns.rgb=function(){return ht(this.h,this.s,this.l)},ha.hcl=dt;var rs=dt.prototype=new ft;rs.brighter=function(t){return new dt(this.h,this.c,Math.min(100,this.l+os*(arguments.length?t:1)))},rs.darker=function(t){return new dt(this.h,this.c,Math.max(0,this.l-os*(arguments.length?t:1)))},rs.rgb=function(){return mt(this.h,this.c,this.l).rgb()},ha.lab=yt;var os=18,is=.95047,as=1,ss=1.08883,ls=yt.prototype=new ft;ls.brighter=function(t){return new yt(Math.min(100,this.l+os*(arguments.length?t:1)),this.a,this.b)},ls.darker=function(t){return new yt(Math.max(0,this.l-os*(arguments.length?t:1)),this.a,this.b)},ls.rgb=function(){return vt(this.l,this.a,this.b)},ha.rgb=wt;var us=wt.prototype=new ft;us.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,o=30;return e||n||r?(e&&e<o&&(e=o),n&&n<o&&(n=o),r&&r<o&&(r=o),new wt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new wt(o,o,o)},us.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new wt(t*this.r,t*this.g,t*this.b)},us.hsl=function(){return St(this.r,this.g,this.b)},us.toString=function(){return"#"+Ct(this.r)+Ct(this.g)+Ct(this.b)};var cs=ha.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});cs.forEach(function(t,e){cs.set(t,Tt(e))}),ha.functor=Ot,ha.xhr=Dt(T),ha.dsv=function(t,e){function n(t,n,i){arguments.length<3&&(i=n,n=null);var a=Lt(t,e,null==n?r:o(n),i);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:o(t)):n},a}function r(t){return n.parse(t.responseText)}function o(t){return function(e){return n.parse(e.responseText,t)}}function i(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var o=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(o(t),n)}:o})},n.parseRows=function(t,e){function n(){if(c>=u)return a;if(o)return o=!1,i;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(o=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(o=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<u;){var r=t.charCodeAt(c++),s=1;if(10===r)o=!0;else if(13===r)o=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==l)continue;return t.slice(e,c-s)}return t.slice(e)}for(var r,o,i={},a={},s=[],u=t.length,c=0,f=0;(r=n())!==a;){for(var p=[];r!==i&&r!==a;)p.push(r),r=n();e&&null==(p=e(p,f++))||s.push(p)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new w,o=[];return e.forEach(function(t){for(var e in t)r.has(e)||o.push(r.add(e))}),[o.map(a).join(t)].concat(e.map(function(e){return o.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(i).join("\n")},n},ha.csv=ha.dsv(",","text/csv"),ha.tsv=ha.dsv("\t","text/tab-separated-values");var fs,ps,hs,ds,ms=this[C(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ha.timer=function(){Ft.apply(this,arguments)},ha.timer.flush=function(){Nt(),zt()},ha.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ys=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Ut);ha.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=ha.round(t,Bt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ys[8+n/3]};var vs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,gs=ha.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ha.round(t,Bt(t,e))).toFixed(Math.max(0,Math.min(20,Bt(t*(1+1e-15),e))))}}),bs=ha.time={},_s=Date;Vt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){xs.setUTCDate.apply(this._,arguments)},setDay:function(){xs.setUTCDay.apply(this._,arguments)},setFullYear:function(){xs.setUTCFullYear.apply(this._,arguments)},setHours:function(){xs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){xs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){xs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){xs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){xs.setUTCSeconds.apply(this._,arguments)},setTime:function(){xs.setTime.apply(this._,arguments)}};var xs=Date.prototype;bs.year=Ht(function(t){return t=bs.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),bs.years=bs.year.range,bs.years.utc=bs.year.utc.range,bs.day=Ht(function(t){var e=new _s(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),bs.days=bs.day.range,bs.days.utc=bs.day.utc.range,bs.dayOfYear=function(t){var e=bs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=bs[t]=Ht(function(t){return(t=bs.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=bs.year(t).getDay();return Math.floor((bs.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});bs[t+"s"]=n.range,bs[t+"s"].utc=n.utc.range,bs[t+"OfYear"]=function(t){var n=bs.year(t).getDay();return Math.floor((bs.dayOfYear(t)+(n+e)%7)/7)}}),bs.week=bs.sunday,bs.weeks=bs.sunday.range,bs.weeks.utc=bs.sunday.utc.range,bs.weekOfYear=bs.sundayOfYear;var ws={"-":"",_:" ",0:"0"},Ts=/^\s*\d+/,Es=/^%/;ha.locale=function(t){return{numberFormat:Wt(t),timeFormat:Yt(t)}};var Cs=ha.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ha.format=Cs.numberFormat,ha.geo={},de.prototype={s:0,t:0,add:function(t){me(t,this.t,ks),me(ks.s,this.s,this),this.s?this.t+=ks.t:this.s=ks.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ks=new de;ha.geo.stream=function(t,e){t&&Ss.hasOwnProperty(t.type)?Ss[t.type](t,e):ye(t,e)};var Ss={Feature:function(t,e){ye(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)ye(n[r].geometry,e)}},Ps={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){ve(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)ve(n[r],e,0)},Polygon:function(t,e){ge(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)ge(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)ye(n[r],e)}};ha.geo.area=function(t){return Ms=0,ha.geo.stream(t,Os),Ms};var Ms,As=new de,Os={sphere:function(){Ms+=4*Va},point:k,lineStart:k,lineEnd:k,polygonStart:function(){As.reset(),Os.lineStart=be},polygonEnd:function(){var t=2*As;Ms+=t<0?4*Va+t:t,Os.lineStart=Os.lineEnd=Os.point=k}};ha.geo.bounds=function(){function t(t,e){b.push(_=[c=t,p=t]),e<f&&(f=e),e>h&&(h=e)}function e(e,n){var r=_e([e*Za,n*Za]);if(v){var o=we(v,r),i=[o[1],-o[0],0],a=we(i,o);Ce(a),a=ke(a);var l=e-d,u=l>0?1:-1,m=a[0]*Xa*u,y=Ca(l)>180;if(y^(u*d<m&&m<u*e)){var g=a[1]*Xa;g>h&&(h=g)}else if(m=(m+360)%360-180,y^(u*d<m&&m<u*e)){var g=-a[1]*Xa;g<f&&(f=g)}else n<f&&(f=n),n>h&&(h=n);y?e<d?s(c,e)>s(c,p)&&(p=e):s(e,p)>s(c,p)&&(c=e):p>=c?(e<c&&(c=e),e>p&&(p=e)):e>d?s(c,e)>s(c,p)&&(p=e):s(e,p)>s(c,p)&&(c=e)}else t(e,n);v=r,d=e}function n(){x.point=e}function r(){_[0]=c,_[1]=p,x.point=t,v=null}function o(t,n){if(v){var r=t-d;g+=Ca(r)>180?r+(r>0?360:-360):r}else m=t,y=n;Os.point(t,n),e(t,n)}function i(){Os.lineStart()}function a(){o(m,y),Os.lineEnd(),Ca(g)>Wa&&(c=-(p=180)),_[0]=c,_[1]=p,v=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,f,p,h,d,m,y,v,g,b,_,x={point:t,lineStart:n,lineEnd:r,polygonStart:function(){x.point=o,x.lineStart=i,x.lineEnd=a,g=0,Os.polygonStart()},polygonEnd:function(){Os.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=r,As<0?(c=-(p=180),f=-(h=90)):g>Wa?h=90:g<-Wa&&(f=-90),_[0]=c,_[1]=p}};return function(t){h=p=-(c=f=1/0),b=[],ha.geo.stream(t,x);var e=b.length;if(e){b.sort(l);for(var n,r=1,o=b[0],i=[o];r<e;++r)n=b[r],u(n[0],o)||u(n[1],o)?(s(o[0],n[1])>s(o[0],o[1])&&(o[1]=n[1]),s(n[0],o[1])>s(o[0],o[1])&&(o[0]=n[0])):i.push(o=n);for(var a,n,d=-(1/0),e=i.length-1,r=0,o=i[e];r<=e;o=n,++r)n=i[r],(a=s(o[1],n[0]))>d&&(d=a,c=n[0],p=o[1])}return b=_=null,c===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,f],[p,h]]}}(),ha.geo.centroid=function(t){Ds=Ls=Is=js=Fs=Rs=Ns=zs=Bs=Us=Ws=0,ha.geo.stream(t,qs);var e=Bs,n=Us,r=Ws,o=e*e+n*n+r*r;return o<qa&&(e=Rs,n=Ns,r=zs,Ls<Wa&&(e=Is,n=js,r=Fs),o=e*e+n*n+r*r,o<qa)?[NaN,NaN]:[Math.atan2(n,e)*Xa,at(r/Math.sqrt(o))*Xa]};var Ds,Ls,Is,js,Fs,Rs,Ns,zs,Bs,Us,Ws,qs={sphere:k,point:Pe,lineStart:Ae,lineEnd:Oe,polygonStart:function(){qs.lineStart=De},polygonEnd:function(){qs.lineStart=Ae}},Vs=Ne(Ie,We,Ve,[-Va,-Va/2]),Hs=1e9;ha.geo.clipExtent=function(){var t,e,n,r,o,i,a={stream:function(t){return o&&(o.valid=!1),o=i(t),o.valid=!0,o},extent:function(s){return arguments.length?(i=Ze(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),o&&(o.valid=!1,o=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(ha.geo.conicEqualArea=function(){return Xe(Ke)}).raw=Ke,ha.geo.albers=function(){return ha.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ha.geo.albersUsa=function(){function t(t){var i=t[0],a=t[1];return e=null,n(i,a),e||(r(i,a),e)||o(i,a),e}var e,n,r,o,i=ha.geo.albers(),a=ha.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ha.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?a:o>=.166&&o<.234&&r>=-.214&&r<-.115?s:i).invert(t)},t.stream=function(t){var e=i.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,o){e.point(t,o),n.point(t,o),r.point(t,o)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(i.precision(e),a.precision(e),s.precision(e),t):i.precision()},t.scale=function(e){return arguments.length?(i.scale(e),a.scale(.35*e),s.scale(e),t.translate(i.translate())):i.scale()},t.translate=function(e){if(!arguments.length)return i.translate();var u=i.scale(),c=+e[0],f=+e[1];return n=i.translate(e).clipExtent([[c-.455*u,f-.238*u],[c+.455*u,f+.238*u]]).stream(l).point,r=a.translate([c-.307*u,f+.201*u]).clipExtent([[c-.425*u+Wa,f+.12*u+Wa],[c-.214*u-Wa,f+.234*u-Wa]]).stream(l).point,o=s.translate([c-.205*u,f+.212*u]).clipExtent([[c-.214*u+Wa,f+.166*u+Wa],[c-.115*u-Wa,f+.234*u-Wa]]).stream(l).point,t},t.scale(1070)};var Gs,Ys,Zs,Xs,Ks,Qs,Js={point:k,lineStart:k,lineEnd:k,polygonStart:function(){Ys=0,Js.lineStart=Qe},polygonEnd:function(){Js.lineStart=Js.lineEnd=Js.point=k,Gs+=Ca(Ys/2)}},$s={point:Je,lineStart:k,lineEnd:k,polygonStart:k,polygonEnd:k},tl={point:en,lineStart:nn,lineEnd:rn,polygonStart:function(){tl.lineStart=on},polygonEnd:function(){tl.point=en,tl.lineStart=nn,tl.lineEnd=rn}};ha.geo.path=function(){function t(t){return t&&("function"==typeof s&&i.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=o(i)),ha.geo.stream(t,a)),i.result()}function e(){return a=null,t}var n,r,o,i,a,s=4.5;return t.area=function(t){return Gs=0,ha.geo.stream(t,o(Js)),Gs},t.centroid=function(t){return Is=js=Fs=Rs=Ns=zs=Bs=Us=Ws=0,ha.geo.stream(t,o(tl)),Ws?[Bs/Ws,Us/Ws]:zs?[Rs/zs,Ns/zs]:Fs?[Is/Fs,js/Fs]:[NaN,NaN]},t.bounds=function(t){return Ks=Qs=-(Zs=Xs=1/0),ha.geo.stream(t,o($s)),[[Zs,Xs],[Ks,Qs]]},t.projection=function(t){return arguments.length?(o=(n=t)?t.stream||ln(t):T,e()):n},t.context=function(t){return arguments.length?(i=null==(r=t)?new $e:new an(t),"function"!=typeof s&&i.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(i.pointRadius(+e),+e),t):s},t.projection(ha.geo.albersUsa()).context(null)},ha.geo.transform=function(t){return{stream:function(e){var n=new un(e);for(var r in t)n[r]=t[r];return n}}},un.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ha.geo.projection=fn,ha.geo.projectionMutator=pn,(ha.geo.equirectangular=function(){return fn(dn)}).raw=dn.invert=dn,ha.geo.rotation=function(t){function e(e){return e=t(e[0]*Za,e[1]*Za),e[0]*=Xa,e[1]*=Xa,e}return t=yn(t[0]%360*Za,t[1]*Za,t.length>2?t[2]*Za:0),e.invert=function(e){return e=t.invert(e[0]*Za,e[1]*Za),e[0]*=Xa,e[1]*=Xa,e},e},mn.invert=dn,ha.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=yn(-t[0]*Za,-t[1]*Za,0).invert,o=[];return n(null,null,1,{point:function(t,n){o.push(t=e(t,n)),t[0]*=Xa,t[1]*=Xa}}),{type:"Polygon",coordinates:[o]}}var e,n,r=[0,0],o=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=_n((e=+r)*Za,o*Za),t):e},t.precision=function(r){return arguments.length?(n=_n(e*Za,(o=+r)*Za),t):o},t.angle(90)},ha.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Za,o=t[1]*Za,i=e[1]*Za,a=Math.sin(r),s=Math.cos(r),l=Math.sin(o),u=Math.cos(o),c=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((n=f*a)*n+(n=u*c-l*f*s)*n),l*c+u*f*s)},ha.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return ha.range(Math.ceil(i/y)*y,o,y).map(p).concat(ha.range(Math.ceil(u/v)*v,l,v).map(h)).concat(ha.range(Math.ceil(r/d)*d,n,d).filter(function(t){return Ca(t%y)>Wa}).map(c)).concat(ha.range(Math.ceil(s/m)*m,a,m).filter(function(t){return Ca(t%v)>Wa}).map(f))}var n,r,o,i,a,s,l,u,c,f,p,h,d=10,m=d,y=90,v=360,g=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[p(i).concat(h(l).slice(1),p(o).reverse().slice(1),h(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(i=+e[0][0],o=+e[1][0],u=+e[0][1],l=+e[1][1],i>o&&(e=i,i=o,o=e),u>l&&(e=u,u=l,l=e),t.precision(g)):[[i,u],[o,l]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(g)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(y=+e[0],v=+e[1],t):[y,v]},t.minorStep=function(e){return arguments.length?(d=+e[0],m=+e[1],t):[d,m]},t.precision=function(e){return arguments.length?(g=+e,c=wn(s,a,90),f=Tn(r,n,g),p=wn(u,l,90),h=Tn(i,o,g),t):g},t.majorExtent([[-180,-90+Wa],[180,90-Wa]]).minorExtent([[-180,-80-Wa],[180,80+Wa]])},ha.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||o.apply(this,arguments)]}}var e,n,r=En,o=Cn;return t.distance=function(){return ha.geo.distance(e||r.apply(this,arguments),n||o.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(o=e,n="function"==typeof e?null:e,t):o},t.precision=function(){return arguments.length?t:0},t},ha.geo.interpolate=function(t,e){return kn(t[0]*Za,t[1]*Za,e[0]*Za,e[1]*Za)},ha.geo.length=function(t){return el=0,ha.geo.stream(t,nl),el};var el,nl={sphere:k,point:k,lineStart:Sn,lineEnd:k,polygonStart:k,polygonEnd:k},rl=Pn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ha.geo.azimuthalEqualArea=function(){return fn(rl)}).raw=rl;var ol=Pn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},T);(ha.geo.azimuthalEquidistant=function(){return fn(ol)}).raw=ol,(ha.geo.conicConformal=function(){return Xe(Mn)}).raw=Mn,(ha.geo.conicEquidistant=function(){return Xe(An)}).raw=An;var il=Pn(function(t){return 1/t},Math.atan);(ha.geo.gnomonic=function(){return fn(il)}).raw=il,On.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ya]},(ha.geo.mercator=function(){return Dn(On)}).raw=On;var al=Pn(function(){return 1},Math.asin);(ha.geo.orthographic=function(){return fn(al)}).raw=al;var sl=Pn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ha.geo.stereographic=function(){return fn(sl)}).raw=sl,Ln.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ya]},(ha.geo.transverseMercator=function(){var t=Dn(Ln),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Ln,ha.geom={},ha.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,o=Ot(n),i=Ot(r),a=t.length,s=[],l=[];for(e=0;e<a;e++)s.push([+o.call(this,t[e],e),+i.call(this,t[e],e),e]);for(s.sort(Rn),e=0;e<a;e++)l.push([s[e][0],-s[e][1]]);var u=Fn(s),c=Fn(l),f=c[0]===u[0],p=c[c.length-1]===u[u.length-1],h=[];for(e=u.length-1;e>=0;--e)h.push(t[s[u[e]][2]]);for(e=+f;e<c.length-p;++e)h.push(t[s[c[e]][2]]);return h}var n=In,r=jn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},ha.geom.polygon=function(t){return Aa(t,ll),t};var ll=ha.geom.polygon.prototype=[];ll.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],o=0;++e<n;)t=r,r=this[e],o+=t[1]*r[0]-t[0]*r[1];return.5*o},ll.centroid=function(t){var e,n,r=-1,o=this.length,i=0,a=0,s=this[o-1];for(arguments.length||(t=-1/(6*this.area()));++r<o;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],i+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[i*t,a*t]},ll.clip=function(t){for(var e,n,r,o,i,a,s=Bn(t),l=-1,u=this.length-Bn(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,o=this[l],i=e[(r=e.length-s)-1],n=-1;++n<r;)a=e[n],Nn(a,c,o)?(Nn(i,c,o)||t.push(zn(i,a,c,o)),t.push(a)):Nn(i,c,o)&&t.push(zn(i,a,c,o)),i=a;s&&t.push(t[0]),c=o}return t};var ul,cl,fl,pl,hl,dl=[],ml=[];Zn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Kn),e.length},ar.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},sr.prototype={insert:function(t,e){var n,r,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=fr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(o=r.R,o&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.R&&(ur(this,n),t=n,n=t.U),n.C=!1,r.C=!0,cr(this,r))):(o=r.L,o&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.L&&(cr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ur(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,o=t.U,i=t.L,a=t.R;if(n=i?a?fr(a):i:a,o?o.L===t?o.L=n:o.R=n:this._=n,i&&a?(r=n.C,n.C=t.C,n.L=i,i.U=n,n!==a?(o=n.U,n.U=t.U,t=n.R,o.L=t,n.R=a,a.U=n):(n.U=o,o=n,t=n.R)):(r=t.C,t=n),t&&(t.U=o),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===o.L){if(e=o.R,e.C&&(e.C=!1,o.C=!0,ur(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,cr(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,ur(this,o),t=this._;break}}else if(e=o.L,e.C&&(e.C=!1,o.C=!0,cr(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ur(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,cr(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}},ha.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],o=s[0][1],i=s[1][0],a=s[1][1];return pr(n(t),s).cells.forEach(function(n,s){var l=n.edges,u=n.site,c=e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=r&&u.x<=i&&u.y>=o&&u.y<=a?[[r,a],[i,a],[i,o],[r,o]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(i(t,e)/Wa)*Wa,y:Math.round(a(t,e)/Wa)*Wa,i:e}})}var r=In,o=jn,i=r,a=o,s=yl;return t?e(t):(e.links=function(t){return pr(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return pr(n(t)).cells.forEach(function(n,r){for(var o,i,a=n.site,s=n.edges.sort(Kn),l=-1,u=s.length,c=s[u-1].edge,f=c.l===a?c.r:c.l;++l<u;)o=c,i=f,c=s[l].edge,f=c.l===a?c.r:c.l,r<i.i&&r<f.i&&dr(a,i,f)<0&&e.push([t[r],t[i.i],t[f.i]])}),e},e.x=function(t){return arguments.length?(i=Ot(r=t),e):r},e.y=function(t){return arguments.length?(a=Ot(o=t),e):o},e.clipExtent=function(t){return arguments.length?(s=null==t?yl:t,e):s===yl?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===yl?null:s&&s[1]},e)};var yl=[[-1e6,-1e6],[1e6,1e6]];ha.geom.delaunay=function(t){return ha.geom.voronoi().triangles(t)},ha.geom.quadtree=function(t,e,n,r,o){function i(t){function i(t,e,n,r,o,i,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(Ca(l-n)+Ca(c-r)<.01)u(t,e,n,r,o,i,a,s);else{var f=t.point;t.x=t.y=t.point=null,u(t,f,l,c,o,i,a,s),u(t,e,n,r,o,i,a,s)}else t.x=n,t.y=r,t.point=e}else u(t,e,n,r,o,i,a,s)}function u(t,e,n,r,o,a,s,l){var u=.5*(o+s),c=.5*(a+l),f=n>=u,p=r>=c,h=p<<1|f;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]=vr()),f?o=u:s=u,p?a=c:l=c,i(t,e,n,r,o,a,s,l)}var c,f,p,h,d,m,y,v,g,b=Ot(s),_=Ot(l);if(null!=e)m=e,y=n,v=r,g=o;else if(v=g=-(m=y=1/0),f=[],p=[],d=t.length,a)for(h=0;h<d;++h)c=t[h],c.x<m&&(m=c.x),c.y<y&&(y=c.y),c.x>v&&(v=c.x),c.y>g&&(g=c.y),f.push(c.x),p.push(c.y);else for(h=0;h<d;++h){var x=+b(c=t[h],h),w=+_(c,h);x<m&&(m=x),w<y&&(y=w),x>v&&(v=x),w>g&&(g=w),f.push(x),p.push(w)}var T=v-m,E=g-y;T>E?g=y+T:v=m+E;var C=vr();if(C.add=function(t){i(C,t,+b(t,++h),+_(t,h),m,y,v,g)},C.visit=function(t){gr(t,C,m,y,v,g)},C.find=function(t){return br(C,t[0],t[1],m,y,v,g)},h=-1,null==e){for(;++h<d;)i(C,t[h],f[h],p[h],m,y,v,g);--h}else t.forEach(C.add);return f=p=t=c=null,C}var a,s=In,l=jn;return(a=arguments.length)?(s=mr,l=yr,3===a&&(o=n,r=e,n=e=0),i(t)):(i.x=function(t){return arguments.length?(s=t,i):s},i.y=function(t){return arguments.length?(l=t,i):l},i.extent=function(t){return arguments.length?(null==t?e=n=r=o=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],o=+t[1][1]),i):null==e?null:[[e,n],[r,o]]},i.size=function(t){return arguments.length?(null==t?e=n=r=o=null:(e=n=0,r=+t[0],o=+t[1]),i):null==e?null:[r-e,o-n]},i)},ha.interpolateRgb=_r,ha.interpolateObject=xr,ha.interpolateNumber=wr,ha.interpolateString=Tr;var vl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gl=new RegExp(vl.source,"g");ha.interpolate=Er,ha.interpolators=[function(t,e){var n=typeof e;return("string"===n?cs.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?_r:Tr:e instanceof ft?_r:Array.isArray(e)?Cr:"object"===n&&isNaN(e)?xr:wr)(t,e)}],ha.interpolateArray=Cr;var bl=function(){return T},_l=ha.map({linear:bl,poly:Dr,quad:function(){return Mr},cubic:function(){return Ar},sin:function(){return Lr},exp:function(){return Ir},circle:function(){return jr},elastic:Fr,back:Rr,bounce:function(){return Nr}}),xl=ha.map({"in":T,out:Sr,"in-out":Pr,"out-in":function(t){return Pr(Sr(t))}});ha.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=_l.get(n)||bl,r=xl.get(r)||T,kr(r(n.apply(null,da.call(arguments,1))))},ha.interpolateHcl=zr,ha.interpolateHsl=Br,ha.interpolateLab=Ur,ha.interpolateRound=Wr,ha.transform=function(t){var e=ya.createElementNS(ha.ns.prefix.svg,"g");return(ha.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new qr(n?n.matrix:wl)})(t)},qr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var wl={a:1,b:0,c:0,d:1,e:0,f:0};ha.interpolateTransform=Jr,ha.layout={},ha.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(eo(t[n]));return e}},ha.layout.chord=function(){function t(){var t,u,f,p,h,d={},m=[],y=ha.range(i),v=[];for(n=[],r=[],t=0,p=-1;++p<i;){for(u=0,h=-1;++h<i;)u+=o[p][h];m.push(u),v.push(ha.range(i)),t+=u}for(a&&y.sort(function(t,e){return a(m[t],m[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(o[e][t],o[e][n])})}),t=(Ha-c*i)/t,u=0,p=-1;++p<i;){for(f=u,h=-1;++h<i;){var g=y[p],b=v[g][h],_=o[g][b],x=u,w=u+=_*t;d[g+"-"+b]={index:g,subindex:b,startAngle:x,endAngle:w,value:_}}r[g]={index:g,startAngle:f,endAngle:u,value:m[g]},u+=c}for(p=-1;++p<i;)for(h=p-1;++h<i;){var T=d[p+"-"+h],E=d[h+"-"+p];(T.value||E.value)&&n.push(T.value<E.value?{source:E,target:T}:{source:T,target:E})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,o,i,a,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(i=(o=t)&&o.length,n=r=null,u):o},u.padding=function(t){return arguments.length?(c=t,n=r=null,u):c},u.sortGroups=function(t){return arguments.length?(a=t,n=r=null,u):a},u.sortSubgroups=function(t){
return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return r||t(),r},u},ha.layout.force=function(){function t(t){return function(e,n,r,o){if(e.point!==t){var i=e.cx-t.x,a=e.cy-t.y,s=o-n,l=i*i+a*a;if(s*s/v<l){if(l<m){var u=e.charge/l;t.px-=i*u,t.py-=a*u}return!0}if(e.point&&l&&l<m){var u=e.pointCharge/l;t.px-=i*u,t.py-=a*u}}return!e.charge}}function e(t){t.px=ha.event.x,t.py=ha.event.y,l.resume()}var n,r,o,i,a,s,l={},u=ha.dispatch("start","tick","end"),c=[1,1],f=.9,p=Tl,h=El,d=-30,m=Cl,y=.1,v=.64,g=[],b=[];return l.tick=function(){if((o*=.99)<.005)return n=null,u.end({type:"end",alpha:o=0}),!0;var e,r,l,p,h,m,v,_,x,w=g.length,T=b.length;for(r=0;r<T;++r)l=b[r],p=l.source,h=l.target,_=h.x-p.x,x=h.y-p.y,(m=_*_+x*x)&&(m=o*a[r]*((m=Math.sqrt(m))-i[r])/m,_*=m,x*=m,h.x-=_*(v=p.weight+h.weight?p.weight/(p.weight+h.weight):.5),h.y-=x*v,p.x+=_*(v=1-v),p.y+=x*v);if((v=o*y)&&(_=c[0]/2,x=c[1]/2,r=-1,v))for(;++r<w;)l=g[r],l.x+=(_-l.x)*v,l.y+=(x-l.y)*v;if(d)for(lo(e=ha.geom.quadtree(g),o,s),r=-1;++r<w;)(l=g[r]).fixed||e.visit(t(l));for(r=-1;++r<w;)l=g[r],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*f,l.y-=(l.py-(l.py=l.y))*f);u.tick({type:"tick",alpha:o})},l.nodes=function(t){return arguments.length?(g=t,l):g},l.links=function(t){return arguments.length?(b=t,l):b},l.size=function(t){return arguments.length?(c=t,l):c},l.linkDistance=function(t){return arguments.length?(p="function"==typeof t?t:+t,l):p},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,l):h},l.friction=function(t){return arguments.length?(f=+t,l):f},l.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,l):d},l.chargeDistance=function(t){return arguments.length?(m=t*t,l):Math.sqrt(m)},l.gravity=function(t){return arguments.length?(y=+t,l):y},l.theta=function(t){return arguments.length?(v=t*t,l):Math.sqrt(v)},l.alpha=function(t){return arguments.length?(t=+t,o?t>0?o=t:(n.c=null,n.t=NaN,n=null,u.end({type:"end",alpha:o=0})):t>0&&(u.start({type:"start",alpha:o=t}),n=Ft(l.tick)),l):o},l.start=function(){function t(t,r){if(!n){for(n=new Array(o),l=0;l<o;++l)n[l]=[];for(l=0;l<u;++l){var i=b[l];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var a,s=n[e],l=-1,c=s.length;++l<c;)if(!isNaN(a=s[l][t]))return a;return Math.random()*r}var e,n,r,o=g.length,u=b.length,f=c[0],m=c[1];for(e=0;e<o;++e)(r=g[e]).index=e,r.weight=0;for(e=0;e<u;++e)r=b[e],"number"==typeof r.source&&(r.source=g[r.source]),"number"==typeof r.target&&(r.target=g[r.target]),++r.source.weight,++r.target.weight;for(e=0;e<o;++e)r=g[e],isNaN(r.x)&&(r.x=t("x",f)),isNaN(r.y)&&(r.y=t("y",m)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof p)for(e=0;e<u;++e)i[e]=+p.call(this,b[e],e);else for(e=0;e<u;++e)i[e]=p;if(a=[],"function"==typeof h)for(e=0;e<u;++e)a[e]=+h.call(this,b[e],e);else for(e=0;e<u;++e)a[e]=h;if(s=[],"function"==typeof d)for(e=0;e<o;++e)s[e]=+d.call(this,g[e],e);else for(e=0;e<o;++e)s[e]=d;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return r||(r=ha.behavior.drag().origin(T).on("dragstart.force",oo).on("drag.force",e).on("dragend.force",io)),arguments.length?void this.on("mouseover.force",ao).on("mouseout.force",so).call(r):r},ha.rebind(l,u,"on")};var Tl=20,El=1,Cl=1/0;ha.layout.hierarchy=function(){function t(o){var i,a=[o],s=[];for(o.depth=0;null!=(i=a.pop());)if(s.push(i),(u=n.call(t,i,i.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)a.push(c=u[l]),c.parent=i,c.depth=i.depth+1;r&&(i.value=0),i.children=u}else r&&(i.value=+r.call(t,i,i.depth)||0),delete i.children;return fo(o,function(t){var n,o;e&&(n=t.children)&&n.sort(e),r&&(o=t.parent)&&(o.value+=t.value)}),s}var e=mo,n=po,r=ho;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(co(e,function(t){t.children&&(t.value=0)}),fo(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},ha.layout.partition=function(){function t(e,n,r,o){var i=e.children;if(e.x=n,e.y=e.depth*o,e.dx=r,e.dy=o,i&&(a=i.length)){var a,s,l,u=-1;for(r=e.value?r/e.value:0;++u<a;)t(s=i[u],n,l=s.value*r,o),n+=l}}function e(t){var n=t.children,r=0;if(n&&(o=n.length))for(var o,i=-1;++i<o;)r=Math.max(r,e(n[i]));return 1+r}function n(n,i){var a=r.call(this,n,i);return t(a[0],0,o[0],o[1]/e(a[0])),a}var r=ha.layout.hierarchy(),o=[1,1];return n.size=function(t){return arguments.length?(o=t,n):o},uo(n,r)},ha.layout.pie=function(){function t(a){var s,l=a.length,u=a.map(function(n,r){return+e.call(t,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof o?o.apply(this,arguments):o)-c,p=Math.min(Math.abs(f)/l,+("function"==typeof i?i.apply(this,arguments):i)),h=p*(f<0?-1:1),d=ha.sum(u),m=d?(f-l*h)/d:0,y=ha.range(l),v=[];return null!=n&&y.sort(n===kl?function(t,e){return u[e]-u[t]}:function(t,e){return n(a[t],a[e])}),y.forEach(function(t){v[t]={data:a[t],value:s=u[t],startAngle:c,endAngle:c+=s*m+h,padAngle:p}}),v}var e=Number,n=kl,r=0,o=Ha,i=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(o=e,t):o},t.padAngle=function(e){return arguments.length?(i=e,t):i},t};var kl={};ha.layout.stack=function(){function t(s,l){if(!(p=s.length))return s;var u=s.map(function(n,r){return e.call(t,n,r)}),c=u.map(function(e){return e.map(function(e,n){return[i.call(t,e,n),a.call(t,e,n)]})}),f=n.call(t,c,l);u=ha.permute(u,f),c=ha.permute(c,f);var p,h,d,m,y=r.call(t,c,l),v=u[0].length;for(d=0;d<v;++d)for(o.call(t,u[0][d],m=y[d],c[0][d][1]),h=1;h<p;++h)o.call(t,u[h][d],m+=c[h-1][d][1],c[h][d][1]);return s}var e=T,n=_o,r=xo,o=bo,i=vo,a=go;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:Sl.get(e)||_o,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:Pl.get(e)||xo,t):r},t.x=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(o=e,t):o},t};var Sl=ha.map({"inside-out":function(t){var e,n,r=t.length,o=t.map(wo),i=t.map(To),a=ha.range(r).sort(function(t,e){return o[t]-o[e]}),s=0,l=0,u=[],c=[];for(e=0;e<r;++e)n=a[e],s<l?(s+=i[n],u.push(n)):(l+=i[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return ha.range(t.length).reverse()},"default":_o}),Pl=ha.map({silhouette:function(t){var e,n,r,o=t.length,i=t[0].length,a=[],s=0,l=[];for(n=0;n<i;++n){for(e=0,r=0;e<o;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<i;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,r,o,i,a,s,l,u,c=t.length,f=t[0],p=f.length,h=[];for(h[0]=l=u=0,n=1;n<p;++n){for(e=0,o=0;e<c;++e)o+=t[e][n][1];for(e=0,i=0,s=f[n][0]-f[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;i+=a*t[e][n][1]}h[n]=l-=o?i/o*s:0,l<u&&(u=l)}for(n=0;n<p;++n)h[n]-=u;return h},expand:function(t){var e,n,r,o=t.length,i=t[0].length,a=1/o,s=[];for(n=0;n<i;++n){for(e=0,r=0;e<o;e++)r+=t[e][n][1];if(r)for(e=0;e<o;e++)t[e][n][1]/=r;else for(e=0;e<o;e++)t[e][n][1]=a}for(n=0;n<i;++n)s[n]=0;return s},zero:xo});ha.layout.histogram=function(){function t(t,i){for(var a,s,l=[],u=t.map(n,this),c=r.call(this,u,i),f=o.call(this,c,u,i),i=-1,p=u.length,h=f.length-1,d=e?1:1/p;++i<h;)a=l[i]=[],a.dx=f[i+1]-(a.x=f[i]),a.y=0;if(h>0)for(i=-1;++i<p;)s=u[i],s>=c[0]&&s<=c[1]&&(a=l[ha.bisect(f,s,1,h)-1],a.y+=d,a.push(t[i]));return l}var e=!0,n=Number,r=So,o=Co;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=Ot(e),t):r},t.bins=function(e){return arguments.length?(o="number"==typeof e?function(t){return ko(t,e)}:Ot(e),t):o},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},ha.layout.pack=function(){function t(t,i){var a=n.call(this,t,i),s=a[0],l=o[0],u=o[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,fo(s,function(t){t.r=+c(t.value)}),fo(s,Do),r){var f=r*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;fo(s,function(t){t.r+=f}),fo(s,Do),fo(s,function(t){t.r-=f})}return jo(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),a}var e,n=ha.layout.hierarchy().sort(Po),r=0,o=[1,1];return t.size=function(e){return arguments.length?(o=e,t):o},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},uo(t,n)},ha.layout.tree=function(){function t(t,o){var c=a.call(this,t,o),f=c[0],p=e(f);if(fo(p,n),p.parent.m=-p.z,co(p,r),u)co(f,i);else{var h=f,d=f,m=f;co(f,function(t){t.x<h.x&&(h=t),t.x>d.x&&(d=t),t.depth>m.depth&&(m=t)});var y=s(h,d)/2-h.x,v=l[0]/(d.x+s(d,h)/2+y),g=l[1]/(m.depth||1);co(f,function(t){t.x=(t.x+y)*v,t.y=t.depth*g})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var o,i=e.children,a=0,s=i.length;a<s;++a)r.push((i[a]=o={_:i[a],parent:e,children:(o=i[a].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=o);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Uo(t);var i=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+s(t._,r._));t.parent.A=o(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var r,o=t,i=t,a=e,l=o.parent.children[0],u=o.m,c=i.m,f=a.m,p=l.m;a=zo(a),o=No(o),a&&o;)l=No(l),i=zo(i),i.a=t,r=a.z+f-o.z-u+s(a._,o._),r>0&&(Bo(Wo(a,t,n),t,r),u+=r,c+=r),f+=a.m,u+=o.m,p+=l.m,c+=i.m;a&&!zo(i)&&(i.t=a,i.m+=f-c),o&&!No(l)&&(l.t=o,l.m+=u-p,n=t)}return n}function i(t){t.x*=l[0],t.y=t.depth*l[1]}var a=ha.layout.hierarchy().sort(null).value(null),s=Ro,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(u=null==(l=e)?i:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:i,t):u?l:null},uo(t,a)},ha.layout.cluster=function(){function t(t,i){var a,s=e.call(this,t,i),l=s[0],u=0;fo(l,function(t){var e=t.children;e&&e.length?(t.x=Vo(e),t.y=qo(e)):(t.x=a?u+=n(t,a):0,t.y=0,a=t)});var c=Ho(l),f=Go(l),p=c.x-n(c,f)/2,h=f.x+n(f,c)/2;return fo(l,o?function(t){t.x=(t.x-l.x)*r[0],t.y=(l.y-t.y)*r[1]}:function(t){t.x=(t.x-p)/(h-p)*r[0],t.y=(1-(l.y?t.y/l.y:1))*r[1]}),s}var e=ha.layout.hierarchy().sort(null).value(null),n=Ro,r=[1,1],o=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(o=null==(r=e),t):o?null:r},t.nodeSize=function(e){return arguments.length?(o=null!=(r=e),t):o?r:null},uo(t,e)},ha.layout.treemap=function(){function t(t,e){for(var n,r,o=-1,i=t.length;++o<i;)r=(n=t[o]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function e(n){var i=n.children;if(i&&i.length){var a,s,l,u=f(n),c=[],p=i.slice(),d=1/0,m="slice"===h?u.dx:"dice"===h?u.dy:"slice-dice"===h?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(p,u.dx*u.dy/n.value),c.area=0;(l=p.length)>0;)c.push(a=p[l-1]),c.area+=a.area,"squarify"!==h||(s=r(c,m))<=d?(p.pop(),d=s):(c.area-=c.pop().area,o(c,m,u,!1),m=Math.min(u.dx,u.dy),c.length=c.area=0,d=1/0);c.length&&(o(c,m,u,!0),c.length=c.area=0),i.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var i,a=f(e),s=r.slice(),l=[];for(t(s,a.dx*a.dy/e.value),l.area=0;i=s.pop();)l.push(i),l.area+=i.area,null!=i.z&&(o(l,i.z?a.dx:a.dy,a,!s.length),l.length=l.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,o=0,i=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<i&&(i=n),n>o&&(o=n));return r*=r,e*=e,r?Math.max(e*o*d/r,r/(e*i*d)):1/0}function o(t,e,n,r){var o,i=-1,a=t.length,s=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++i<a;)o=t[i],o.x=s,o.y=u,o.dy=c,s+=o.dx=Math.min(n.x+n.dx-s,c?l(o.area/c):0);o.z=!0,o.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++i<a;)o=t[i],o.x=s,o.y=u,o.dx=c,u+=o.dy=Math.min(n.y+n.dy-u,c?l(o.area/c):0);o.z=!1,o.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function i(r){var o=a||s(r),i=o[0];return i.x=i.y=0,i.value?(i.dx=u[0],i.dy=u[1]):i.dx=i.dy=0,a&&s.revalue(i),t([i],i.dx*i.dy/i.value),(a?n:e)(i),p&&(a=o),o}var a,s=ha.layout.hierarchy(),l=Math.round,u=[1,1],c=null,f=Yo,p=!1,h="squarify",d=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(u=t,i):u},i.padding=function(t){function e(e){var n=t.call(i,e,e.depth);return null==n?Yo(e):Zo(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Zo(e,t)}if(!arguments.length)return c;var r;return f=null==(c=t)?Yo:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,i},i.round=function(t){return arguments.length?(l=t?Math.round:Number,i):l!=Number},i.sticky=function(t){return arguments.length?(p=t,a=null,i):p},i.ratio=function(t){return arguments.length?(d=t,i):d},i.mode=function(t){return arguments.length?(h=t+"",i):h},uo(i,s)},ha.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,o;do n=2*Math.random()-1,r=2*Math.random()-1,o=n*n+r*r;while(!o||o>1);return t+e*n*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var t=ha.random.normal.apply(ha,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ha.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},ha.scale={};var Ml={floor:T,ceil:T};ha.scale.linear=function(){return ei([0,1],[0,1],Er,!1)};var Al={s:1,g:1,p:1,r:1,e:1};ha.scale.log=function(){return ui(ha.scale.linear().domain([0,1]),10,!0,[1,10])};var Ol=ha.format(".0e"),Dl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ha.scale.pow=function(){return ci(ha.scale.linear(),1,[0,1])},ha.scale.sqrt=function(){return ha.scale.pow().exponent(.5)},ha.scale.ordinal=function(){return pi([],{t:"range",a:[[]]})},ha.scale.category10=function(){return ha.scale.ordinal().range(Ll)},ha.scale.category20=function(){return ha.scale.ordinal().range(Il)},ha.scale.category20b=function(){return ha.scale.ordinal().range(jl)},ha.scale.category20c=function(){return ha.scale.ordinal().range(Fl)};var Ll=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Et),Il=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Et),jl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Et),Fl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Et);ha.scale.quantile=function(){return hi([],[])},ha.scale.quantize=function(){return di(0,1,[0,1])},ha.scale.threshold=function(){return mi([.5],[0,1])},ha.scale.identity=function(){return yi([0,1])},ha.svg={},ha.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+r.apply(this,arguments)),c=a.apply(this,arguments)-Ya,f=s.apply(this,arguments)-Ya,p=Math.abs(f-c),h=c>f?0:1;if(u<t&&(d=u,u=t,t=d),p>=Ga)return e(u,h)+(t?e(t,1-h):"")+"Z";var d,m,y,v,g,b,_,x,w,T,E,C,k=0,S=0,P=[];if((v=(+l.apply(this,arguments)||0)/2)&&(y=i===Rl?Math.sqrt(t*t+u*u):+i.apply(this,arguments),h||(S*=-1),u&&(S=at(y/u*Math.sin(v))),t&&(k=at(y/t*Math.sin(v)))),u){g=u*Math.cos(c+S),b=u*Math.sin(c+S),_=u*Math.cos(f-S),x=u*Math.sin(f-S);var M=Math.abs(f-c-2*S)<=Va?0:1;if(S&&Ti(g,b,_,x)===h^M){var A=(c+f)/2;g=u*Math.cos(A),b=u*Math.sin(A),_=x=null}}else g=b=0;if(t){w=t*Math.cos(f-k),T=t*Math.sin(f-k),E=t*Math.cos(c+k),C=t*Math.sin(c+k);var O=Math.abs(c-f+2*k)<=Va?0:1;if(k&&Ti(w,T,E,C)===1-h^O){var D=(c+f)/2;w=t*Math.cos(D),T=t*Math.sin(D),E=C=null}}else w=T=0;if(p>Wa&&(d=Math.min(Math.abs(u-t)/2,+o.apply(this,arguments)))>.001){m=t<u^h?0:1;var L=d,I=d;if(p<Va){var j=null==E?[w,T]:null==_?[g,b]:zn([g,b],[E,C],[_,x],[w,T]),F=g-j[0],R=b-j[1],N=_-j[0],z=x-j[1],B=1/Math.sin(Math.acos((F*N+R*z)/(Math.sqrt(F*F+R*R)*Math.sqrt(N*N+z*z)))/2),U=Math.sqrt(j[0]*j[0]+j[1]*j[1]);I=Math.min(d,(t-U)/(B-1)),L=Math.min(d,(u-U)/(B+1))}if(null!=_){var W=Ei(null==E?[w,T]:[E,C],[g,b],u,L,h),q=Ei([_,x],[w,T],u,L,h);d===L?P.push("M",W[0],"A",L,",",L," 0 0,",m," ",W[1],"A",u,",",u," 0 ",1-h^Ti(W[1][0],W[1][1],q[1][0],q[1][1]),",",h," ",q[1],"A",L,",",L," 0 0,",m," ",q[0]):P.push("M",W[0],"A",L,",",L," 0 1,",m," ",q[0])}else P.push("M",g,",",b);if(null!=E){var V=Ei([g,b],[E,C],t,-I,h),H=Ei([w,T],null==_?[g,b]:[_,x],t,-I,h);d===I?P.push("L",H[0],"A",I,",",I," 0 0,",m," ",H[1],"A",t,",",t," 0 ",h^Ti(H[1][0],H[1][1],V[1][0],V[1][1]),",",1-h," ",V[1],"A",I,",",I," 0 0,",m," ",V[0]):P.push("L",H[0],"A",I,",",I," 0 0,",m," ",V[0])}else P.push("L",w,",",T)}else P.push("M",g,",",b),null!=_&&P.push("A",u,",",u," 0 ",M,",",h," ",_,",",x),P.push("L",w,",",T),null!=E&&P.push("A",t,",",t," 0 ",O,",",1-h," ",E,",",C);return P.push("Z"),P.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=gi,r=bi,o=vi,i=Rl,a=_i,s=xi,l=wi;return t.innerRadius=function(e){return arguments.length?(n=Ot(e),t):n},t.outerRadius=function(e){return arguments.length?(r=Ot(e),t):r},t.cornerRadius=function(e){return arguments.length?(o=Ot(e),t):o},t.padRadius=function(e){return arguments.length?(i=e==Rl?Rl:Ot(e),t):i},t.startAngle=function(e){return arguments.length?(a=Ot(e),t):a},t.endAngle=function(e){return arguments.length?(s=Ot(e),t):s},t.padAngle=function(e){return arguments.length?(l=Ot(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Ya;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Rl="auto";ha.svg.line=function(){return Ci(T)};var Nl=ha.map({linear:ki,"linear-closed":Si,step:Pi,"step-before":Mi,"step-after":Ai,basis:Fi,"basis-open":Ri,"basis-closed":Ni,bundle:zi,cardinal:Li,"cardinal-open":Oi,"cardinal-closed":Di,monotone:Hi});Nl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var zl=[0,2/3,1/3,0],Bl=[0,1/3,2/3,0],Ul=[0,1/6,2/3,1/6];ha.svg.line.radial=function(){var t=Ci(Gi);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Mi.reverse=Ai,Ai.reverse=Mi,ha.svg.area=function(){return Yi(T)},ha.svg.area.radial=function(){var t=Yi(Gi);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ha.svg.chord=function(){function t(t,s){var l=e(this,i,t,s),u=e(this,a,t,s);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(n(l,u)?o(l.r,l.p1,l.r,l.p0):o(l.r,l.p1,u.r,u.p0)+r(u.r,u.p1,u.a1-u.a0)+o(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,r){var o=e.call(t,n,r),i=s.call(t,o,r),a=l.call(t,o,r)-Ya,c=u.call(t,o,r)-Ya;return{r:i,a0:a,a1:c,p0:[i*Math.cos(a),i*Math.sin(a)],p1:[i*Math.cos(c),i*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Va)+",1 "+e}function o(t,e,n,r){return"Q 0,0 "+r}var i=En,a=Cn,s=Zi,l=_i,u=xi;return t.radius=function(e){return arguments.length?(s=Ot(e),t):s},t.source=function(e){return arguments.length?(i=Ot(e),t):i},t.target=function(e){return arguments.length?(a=Ot(e),t):a},t.startAngle=function(e){return arguments.length?(l=Ot(e),t):l},t.endAngle=function(e){return arguments.length?(u=Ot(e),t):u},t},ha.svg.diagonal=function(){function t(t,o){var i=e.call(this,t,o),a=n.call(this,t,o),s=(i.y+a.y)/2,l=[i,{x:i.x,y:s},{x:a.x,y:s},a];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=En,n=Cn,r=Xi;return t.source=function(n){return arguments.length?(e=Ot(n),t):e},t.target=function(e){return arguments.length?(n=Ot(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},ha.svg.diagonal.radial=function(){var t=ha.svg.diagonal(),e=Xi,n=t.projection;return t.projection=function(t){return arguments.length?n(Ki(e=t)):e},t},ha.svg.symbol=function(){function t(t,r){return(Wl.get(e.call(this,t,r))||$i)(n.call(this,t,r))}var e=Ji,n=Qi;return t.type=function(n){return arguments.length?(e=Ot(n),t):e},t.size=function(e){return arguments.length?(n=Ot(e),t):n},t};var Wl=ha.map({circle:$i,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Vl)),n=e*Vl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/ql),n=e*ql/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/ql),n=e*ql/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ha.svg.symbolTypes=Wl.keys();var ql=Math.sqrt(3),Vl=Math.tan(30*Za);Ia.transition=function(t){for(var e,n,r=Hl||++Xl,o=oa(t),i=[],a=Gl||{time:Date.now(),ease:Or,delay:0,duration:250},s=-1,l=this.length;++s<l;){i.push(e=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(n=u[c])&&ia(n,c,o,r,a),e.push(n)}return ea(i,o,r)},Ia.interrupt=function(t){return this.each(null==t?Yl:ta(oa(t)))};var Hl,Gl,Yl=ta(oa()),Zl=[],Xl=0;Zl.call=Ia.call,Zl.empty=Ia.empty,Zl.node=Ia.node,Zl.size=Ia.size,ha.transition=function(t,e){return t&&t.transition?Hl?t.transition(e):t:ha.selection().transition(t)},ha.transition.prototype=Zl,Zl.select=function(t){var e,n,r,o=this.id,i=this.namespace,a=[];t=L(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(r=u[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),ia(n,c,i,o,r[i][o]),e.push(n)):e.push(null)}return ea(a,i,o)},Zl.selectAll=function(t){var e,n,r,o,i,a=this.id,s=this.namespace,l=[];t=I(t);for(var u=-1,c=this.length;++u<c;)for(var f=this[u],p=-1,h=f.length;++p<h;)if(r=f[p]){i=r[s][a],n=t.call(r,r.__data__,p,u),l.push(e=[]);for(var d=-1,m=n.length;++d<m;)(o=n[d])&&ia(o,d,s,a,i),e.push(o)}return ea(l,s,a)},Zl.filter=function(t){var e,n,r,o=[];"function"!=typeof t&&(t=G(t));for(var i=0,a=this.length;i<a;i++){o.push(e=[]);for(var n=this[i],s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,i)&&e.push(r)}return ea(o,this.namespace,this.id)},Zl.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):Z(this,null==e?function(e){e[r][n].tween.remove(t)}:function(o){o[r][n].tween.set(t,e)})},Zl.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function o(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function i(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Jr:Er,s=ha.ns.qualify(t);return na(this,"attr."+t,e,s.local?i:o)},Zl.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(o));return r&&function(t){this.setAttribute(o,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(o.space,o.local));return r&&function(t){this.setAttributeNS(o.space,o.local,r(t))}}var o=ha.ns.qualify(t);return this.tween("attr."+t,o.local?r:n)},Zl.style=function(t,e,n){function r(){this.style.removeProperty(t)}function o(e){return null==e?r:(e+="",function(){var r,o=a(this).getComputedStyle(this,null).getPropertyValue(t);return o!==e&&(r=Er(o,e),function(e){this.style.setProperty(t,r(e),n)})})}var i=arguments.length;if(i<3){if("string"!=typeof t){i<2&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return na(this,"style."+t,e,o)},Zl.styleTween=function(t,e,n){function r(r,o){var i=e.call(this,r,o,a(this).getComputedStyle(this,null).getPropertyValue(t));return i&&function(e){this.style.setProperty(t,i(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Zl.text=function(t){return na(this,"text",t,ra)},Zl.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Zl.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=ha.ease.apply(ha,arguments)),Z(this,function(r){r[n][e].ease=t}))},Zl.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:Z(this,"function"==typeof t?function(r,o,i){r[n][e].delay=+t.call(r,r.__data__,o,i)}:(t=+t,function(r){r[n][e].delay=t}))},Zl.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:Z(this,"function"==typeof t?function(r,o,i){r[n][e].duration=Math.max(1,t.call(r,r.__data__,o,i))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Zl.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var o=Gl,i=Hl;try{Hl=n,Z(this,function(e,o,i){Gl=e[r][n],t.call(e,e.__data__,o,i)})}finally{Gl=o,Hl=i}}else Z(this,function(o){var i=o[r][n];(i.event||(i.event=ha.dispatch("start","end","interrupt"))).on(t,e)});return this},Zl.transition=function(){for(var t,e,n,r,o=this.id,i=++Xl,a=this.namespace,s=[],l=0,u=this.length;l<u;l++){s.push(t=[]);for(var e=this[l],c=0,f=e.length;c<f;c++)(n=e[c])&&(r=n[a][o],ia(n,c,a,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return ea(s,a,i)},ha.svg.axis=function(){function t(t){t.each(function(){var t,u=ha.select(this),c=this.__chart__||n,f=this.__chart__=n.copy(),p=null==l?f.ticks?f.ticks.apply(f,s):f.domain():l,h=null==e?f.tickFormat?f.tickFormat.apply(f,s):T:e,d=u.selectAll(".tick").data(p,f),m=d.enter().insert("g",".domain").attr("class","tick").style("opacity",Wa),y=ha.transition(d.exit()).style("opacity",Wa).remove(),v=ha.transition(d.order()).style("opacity",1),g=Math.max(o,0)+a,b=Ko(f),_=u.selectAll(".domain").data([0]),x=(_.enter().append("path").attr("class","domain"),ha.transition(_));m.append("line"),m.append("text");var w,E,C,k,S=m.select("line"),P=v.select("line"),M=d.select("text").text(h),A=m.select("text"),O=v.select("text"),D="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=aa,w="x",C="y",E="x2",k="y2",M.attr("dy",D<0?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+b[0]+","+D*i+"V0H"+b[1]+"V"+D*i)):(t=sa,w="y",C="x",E="y2",k="x2",M.attr("dy",".32em").style("text-anchor",D<0?"end":"start"),x.attr("d","M"+D*i+","+b[0]+"H0V"+b[1]+"H"+D*i)),S.attr(k,D*o),A.attr(C,D*g),P.attr(E,0).attr(k,D*o),O.attr(w,0).attr(C,D*g),f.rangeBand){var L=f,I=L.rangeBand()/2;c=f=function(t){return L(t)+I}}else c.rangeBand?c=f:y.call(t,f,c);m.call(t,c,f),v.call(t,f,f)})}var e,n=ha.scale.linear(),r=Kl,o=6,i=6,a=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in Ql?e+"":Kl,t):r},t.ticks=function(){return arguments.length?(s=ma(arguments),t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(o=+e,i=+arguments[n-1],t):o},t.innerTickSize=function(e){return arguments.length?(o=+e,t):o},t.outerTickSize=function(e){return arguments.length?(i=+e,t):i},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Kl="bottom",Ql={top:1,right:1,bottom:1,left:1};ha.svg.brush=function(){function t(i){i.each(function(){var i=ha.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=i.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),i.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=i.selectAll(".resize").data(m,T);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Jl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,f=ha.transition(i),p=ha.transition(a);u&&(l=Ko(u),p.attr("x",l[0]).attr("width",l[1]-l[0]),n(f)),c&&(l=Ko(c),p.attr("y",l[0]).attr("height",l[1]-l[0]),r(f)),e(f)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+f[+/e$/.test(t)]+","+p[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",f[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function r(t){t.select(".extent").attr("y",p[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",p[1]-p[0])}function o(){function o(){32==ha.event.keyCode&&(P||(b=null,O[0]-=f[1],O[1]-=p[1],P=2),M())}function m(){32==ha.event.keyCode&&2==P&&(O[0]+=f[1],O[1]+=p[1],P=0,M())}function y(){var t=ha.mouse(x),o=!1;_&&(t[0]+=_[0],t[1]+=_[1]),P||(ha.event.altKey?(b||(b=[(f[0]+f[1])/2,(p[0]+p[1])/2]),O[0]=f[+(t[0]<b[0])],O[1]=p[+(t[1]<b[1])]):b=null),k&&v(t,u,0)&&(n(E),o=!0),S&&v(t,c,1)&&(r(E),o=!0),o&&(e(E),T({type:"brush",mode:P?"move":"resize"}))}function v(t,e,n){var r,o,a=Ko(e),l=a[0],u=a[1],c=O[n],m=n?p:f,y=m[1]-m[0];if(P&&(l-=c,u-=y+c),r=(n?d:h)?Math.max(l,Math.min(u,t[n])):t[n],P?o=(r+=c)+y:(b&&(c=Math.max(l,Math.min(u,2*b[n]-r))),c<r?(o=r,r=c):o=c),m[0]!=r||m[1]!=o)return n?s=null:i=null,m[0]=r,m[1]=o,!0}function g(){y(),E.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ha.select("body").style("cursor",null),D.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),T({type:"brushend"})}var b,_,x=this,w=ha.select(ha.event.target),T=l.of(x,arguments),E=ha.select(x),C=w.datum(),k=!/^(n|s)$/.test(C)&&u,S=!/^(e|w)$/.test(C)&&c,P=w.classed("extent"),A=tt(x),O=ha.mouse(x),D=ha.select(a(x)).on("keydown.brush",o).on("keyup.brush",m);if(ha.event.changedTouches?D.on("touchmove.brush",y).on("touchend.brush",g):D.on("mousemove.brush",y).on("mouseup.brush",g),E.interrupt().selectAll("*").interrupt(),P)O[0]=f[0]-O[0],O[1]=p[0]-O[1];else if(C){var L=+/w$/.test(C),I=+/^n/.test(C);_=[f[1-L]-O[0],p[1-I]-O[1]],O[0]=f[L],O[1]=p[I]}else ha.event.altKey&&(b=O.slice());E.style("pointer-events","none").selectAll(".resize").style("display",null),ha.select("body").style("cursor",w.style("cursor")),T({type:"brushstart"}),y()}var i,s,l=O(t,"brushstart","brush","brushend"),u=null,c=null,f=[0,0],p=[0,0],h=!0,d=!0,m=$l[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:f,y:p,i:i,j:s},n=this.__chart__||e;this.__chart__=e,Hl?ha.select(this).transition().each("start.brush",function(){i=n.i,s=n.j,f=n.x,p=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=Cr(f,e.x),r=Cr(p,e.y);return i=s=null,function(o){f=e.x=n(o),p=e.y=r(o),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){i=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,m=$l[!u<<1|!c],t):u},t.y=function(e){return arguments.length?(c=e,m=$l[!u<<1|!c],t):c},t.clamp=function(e){return arguments.length?(u&&c?(h=!!e[0],d=!!e[1]):u?h=!!e:c&&(d=!!e),t):u&&c?[h,d]:u?h:c?d:null},t.extent=function(e){var n,r,o,a,l;return arguments.length?(u&&(n=e[0],r=e[1],c&&(n=n[0],r=r[0]),i=[n,r],u.invert&&(n=u(n),r=u(r)),
r<n&&(l=n,n=r,r=l),n==f[0]&&r==f[1]||(f=[n,r])),c&&(o=e[0],a=e[1],u&&(o=o[1],a=a[1]),s=[o,a],c.invert&&(o=c(o),a=c(a)),a<o&&(l=o,o=a,a=l),o==p[0]&&a==p[1]||(p=[o,a])),t):(u&&(i?(n=i[0],r=i[1]):(n=f[0],r=f[1],u.invert&&(n=u.invert(n),r=u.invert(r)),r<n&&(l=n,n=r,r=l))),c&&(s?(o=s[0],a=s[1]):(o=p[0],a=p[1],c.invert&&(o=c.invert(o),a=c.invert(a)),a<o&&(l=o,o=a,a=l))),u&&c?[[n,o],[r,a]]:u?[n,r]:c&&[o,a])},t.clear=function(){return t.empty()||(f=[0,0],p=[0,0],i=s=null),t},t.empty=function(){return!!u&&f[0]==f[1]||!!c&&p[0]==p[1]},ha.rebind(t,l,"on")};var Jl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$l=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],tu=bs.format=Cs.timeFormat,eu=tu.utc,nu=eu("%Y-%m-%dT%H:%M:%S.%LZ");tu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?la:nu,la.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},la.toString=nu.toString,bs.second=Ht(function(t){return new _s(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),bs.seconds=bs.second.range,bs.seconds.utc=bs.second.utc.range,bs.minute=Ht(function(t){return new _s(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),bs.minutes=bs.minute.range,bs.minutes.utc=bs.minute.utc.range,bs.hour=Ht(function(t){var e=t.getTimezoneOffset()/60;return new _s(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),bs.hours=bs.hour.range,bs.hours.utc=bs.hour.utc.range,bs.month=Ht(function(t){return t=bs.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),bs.months=bs.month.range,bs.months.utc=bs.month.utc.range;var ru=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ou=[[bs.second,1],[bs.second,5],[bs.second,15],[bs.second,30],[bs.minute,1],[bs.minute,5],[bs.minute,15],[bs.minute,30],[bs.hour,1],[bs.hour,3],[bs.hour,6],[bs.hour,12],[bs.day,1],[bs.day,2],[bs.week,1],[bs.month,1],[bs.month,3],[bs.year,1]],iu=tu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Ie]]),au={range:function(t,e,n){return ha.range(Math.ceil(t/n)*n,+e,n).map(ca)},floor:T,ceil:T};ou.year=bs.year,bs.scale=function(){return ua(ha.scale.linear(),ou,iu)};var su=ou.map(function(t){return[t[0].utc,t[1]]}),lu=eu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Ie]]);su.year=bs.year.utc,bs.scale.utc=function(){return ua(ha.scale.linear(),su,lu)},ha.text=Dt(function(t){return t.responseText}),ha.json=function(t,e){return Lt(t,"application/json",fa,e)},ha.html=function(t,e){return Lt(t,"text/html",pa,e)},ha.xml=Dt(function(t){return t.responseXML}),this.d3=ha,r=ha,o="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==o&&(t.exports=o))}()},function(t,e,n){var r=n(919);"string"==typeof r&&(r=[[t.id,r,""]]);n(782)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(781)(),e.push([t.id,".panoptes-chart-pie-sector{stroke:#000;stroke-width:.7;fill-opacity:.9;stroke-opacity:.9;cursor:pointer}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(917),i=r(o),a=n(316),s=r(a),l=n(584),u=r(l),c=n(582),f=r(c),p=n(916),h=r(p),d=s["default"].createClass({displayName:"PieChartWidget",mixins:[u["default"],f["default"]],propTypes:{chartData:s["default"].PropTypes.array,crs:s["default"].PropTypes.object,lat:s["default"].PropTypes.number,lng:s["default"].PropTypes.number,name:s["default"].PropTypes.string,originalLat:s["default"].PropTypes.number,originalLng:s["default"].PropTypes.number,radius:s["default"].PropTypes.number},getDefaultProps:function(){return{name:"",residualFractionName:"Other",radius:5}},render:function(){for(var t=this.props,e=t.chartData,n=t.crs,r=t.lat,o=t.lng,a=t.name,l=t.originalLat,u=t.originalLng,c=t.radius,f=[],p=[],d=0,m=e.length;d<m;d++)f.push({color:e[d].color,title:(""===a?"":a+"\n")+e[d].name+": "+e[d].value}),void 0===e[d].value||null===e[d].value||""===e[d].value||isNaN(e[d].value)?p.push(0):p.push(e[d].value);var y=i["default"].layout.pie().sort(null),v=y(p),g=n.project({lat:0,lng:c}).x-n.project({lat:0,lng:0}).x,b=f.map(function(t,e){return s["default"].createElement(h["default"],{key:e,arcDescriptor:v[e],outerRadius:g,fillColor:t.color,title:t.title,className:"panoptes-chart-pie-sector"})}),_=n.project({lat:r,lng:o}),x=null;if(l&&u){var w=n.project({lat:l,lng:u});x=s["default"].createElement("line",{className:"pie-chart-line",style:{strokeWidth:"2",stroke:"black",strokeDasharray:"3,3"},x1:"0",y1:"0",x2:w.x-_.x,y2:w.y-_.y})}return s["default"].createElement("svg",{style:{overflow:"visible"},width:"50",height:"50"},s["default"].createElement("g",{transform:"translate(0, 0)"},b),x)}});t.exports=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(584),l=r(s),u=n(582),c=r(u),f=n(583),p=r(f),h=n(922),d=r(h),m=n(927),y=r(m),v=n(933),g=r(v),b=n(944),_=r(b),x=n(949),w=r(x),T=n(721),E=r(T),C=n(950),k=r(C),S=n(951),P=r(S),M=n(1227),A=r(M),O=n(996),D=r(O),L=a["default"].createClass({displayName:"DataItemActions",mixins:[l["default"],c["default"],p["default"],(0,d["default"])("table","primKey")],propTypes:{table:a["default"].PropTypes.string.isRequired,primKey:a["default"].PropTypes.string.isRequired},getInitialState:function(){return{data:null}},fetchData:function(t,e){var n=this,r=t.table,i=t.primKey,a={database:this.config.dataset,table:r,primKeyField:this.config.tablesById[r].primKey,primKeyValue:i};e.request(function(t){return y["default"].get("fetchSingleRecord"+JSON.stringify(a),function(t){return g["default"].fetchSingleRecord(o({cancellation:t},a))},t)}).then(function(t){n.setState({data:t})})["catch"](g["default"].filterAborted)["catch"](y["default"].filterCancelled)["catch"](function(r){throw(0,k["default"])(n.getFlux(),r.message,function(){return n.fetchData(t,e)}),r})},render:function(){var t=this,e=this.props,n=e.table,r=e.primKey,o=this.state.data,i=this.config.tablesById[n];if(!o)return null;var s=[],l=n+"::"+r;return(0,E["default"])(this.config.visibleTables,function(e){e.trees.forEach(function(n){l===n.crossLink&&s.push(a["default"].createElement(_["default"],{label:"Show associated "+t.config.tablesById[e.id].capNameSingle+" tree",icon:"tree"},a["default"].createElement(A["default"],{table:e.id,tree:n.id,key:n.id})))})}),a["default"].createElement("div",null,i.hasGenomePositions?a["default"].createElement(_["default"],{label:"Show in Genome Browser",icon:"bitmap:genomebrowser.png"},a["default"].createElement(P["default"],{chromosome:o[i.chromosome],start:parseInt(o[i.position])-50,end:parseInt(o[i.position])+50},a["default"].createElement(D["default"],{table:n}))):null,i.isRegionOnGenome?a["default"].createElement(_["default"],{label:"Show in Genome Browser",icon:"bitmap:genomebrowser.png"},a["default"].createElement(P["default"],{chromosome:o[i.chromosome],start:parseInt(o[i.regionStart])-50,end:parseInt(o[i.regionStop])+50},a["default"].createElement("div",null,"RegionChannel table=",n))):null,i.properties.map(function(t){return t.externalUrl?a["default"].createElement(w["default"],{key:t.id,label:t.name,urls:o[t.id].split(";").map(function(e){return t.externalUrl.replace("{value}",e)})}):null}),s)}});e["default"]=L},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(574),i=r(o),a=n(923),s=r(a),l=function(){var t=Array.prototype.slice.call(arguments);return{componentWillMount:function(){this._requestContext=new s["default"],this._getDataIfNeeded({},this.props)},componentWillReceiveProps:function(t){this._getDataIfNeeded(this.props,t)},forceFetch:function(){this.fetchData(this.props,this._requestContext)},_getDataIfNeeded:function(e,n){t.some(function(t){return!i["default"].is(e[t],n[t])})&&this.fetchData(n,this._requestContext)},componentWillUnmount:function(){this._requestContext.destroy()}}};l.componentWillMount=function(){throw new Error('DataFetcherMixin is a function that takes one or more prop names to watch as parameters and returns the mixin, e.g.: mixins: [DataFetcherMixin("Prop1", "Prop2")]')},t.exports=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(924),s=r(a),l=function(){function t(){o(this,t),this.canceller=null}return i(t,[{key:"request",value:function(t){return this.canceller&&this.canceller.resolve(),this.canceller=s["default"].defer(),t(this.canceller.promise)}},{key:"destroy",value:function(){this.canceller&&this.canceller.resolve()}}]),t}();t.exports=l},function(t,e,n){(function(e,n){/*!
	 *
	 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
	 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
	 *
	 * With parts by Tyler Close
	 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
	 * at http://www.opensource.org/licenses/mit-license.html
	 * Forked at ref_send.js version: 2009-05-11
	 *
	 * With parts by Mark Miller
	 * Copyright (C) 2011 Google Inc.
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 * http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 *
	 */
!function(e){"use strict";if("function"==typeof bootstrap)bootstrap("promise",e);else{t.exports=e()}}(function(){"use strict";function t(t){return function(){return K.apply(t,arguments)}}function r(t){return t===Object(t)}function o(t){return"[object StopIteration]"===ot(t)||t instanceof G}function i(t,e){if(q&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&t.stack.indexOf(it)===-1){for(var n=[],r=e;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(t.stack);var o=n.join("\n"+it+"\n");t.stack=a(o)}}function a(t){for(var e=t.split("\n"),n=[],r=0;r<e.length;++r){var o=e[r];u(o)||s(o)||!o||n.push(o)}return n.join("\n")}function s(t){return t.indexOf("(module.js:")!==-1||t.indexOf("(node.js:")!==-1}function l(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function u(t){var e=l(t);if(!e)return!1;var n=e[0],r=e[1];return n===H&&r>=Y&&r<=ct}function c(){if(q)try{throw new Error}catch(t){var e=t.stack.split("\n"),n=e[0].indexOf("@")>0?e[1]:e[2],r=l(n);if(!r)return;return H=r[0],r[1]}}function f(t,e,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e+" is deprecated, use "+n+" instead.",new Error("").stack),t.apply(t,arguments)}}function p(t){return t instanceof y?t:_(t)?M(t):P(t)}function h(){function t(t){e=t,i.source=t,J(n,function(e,n){p.nextTick(function(){t.promiseDispatch.apply(t,n)})},void 0),n=void 0,r=void 0}var e,n=[],r=[],o=et(h.prototype),i=et(y.prototype);if(i.promiseDispatch=function(t,o,i){var a=Q(arguments);n?(n.push(a),"when"===o&&i[1]&&r.push(i[1])):p.nextTick(function(){e.promiseDispatch.apply(e,a)})},i.valueOf=function(){if(n)return i;var t=g(e);return b(t)&&(e=t),t},i.inspect=function(){return e?e.inspect():{state:"pending"}},p.longStackSupport&&q)try{throw new Error}catch(a){i.stack=a.stack.substring(a.stack.indexOf("\n")+1)}return o.promise=i,o.resolve=function(n){e||t(p(n))},o.fulfill=function(n){e||t(P(n))},o.reject=function(n){e||t(S(n))},o.notify=function(t){e||J(r,function(e,n){p.nextTick(function(){n(t)})},void 0)},o}function d(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=h();try{t(e.resolve,e.reject,e.notify)}catch(n){e.reject(n)}return e.promise}function m(t){return d(function(e,n){for(var r=0,o=t.length;r<o;r++)p(t[r]).then(e,n)})}function y(t,e,n){void 0===e&&(e=function(t){return S(new Error("Promise does not support operation: "+t))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=et(y.prototype);if(r.promiseDispatch=function(n,o,i){var a;try{a=t[o]?t[o].apply(r,i):e.call(r,o,i)}catch(s){a=S(s)}n&&n(a)},r.inspect=n,n){var o=n();"rejected"===o.state&&(r.exception=o.reason),r.valueOf=function(){var t=n();return"pending"===t.state||"rejected"===t.state?r:t.value}}return r}function v(t,e,n,r){return p(t).then(e,n,r)}function g(t){if(b(t)){var e=t.inspect();if("fulfilled"===e.state)return e.value}return t}function b(t){return t instanceof y}function _(t){return r(t)&&"function"==typeof t.then}function x(t){return b(t)&&"pending"===t.inspect().state}function w(t){return!b(t)||"fulfilled"===t.inspect().state}function T(t){return b(t)&&"rejected"===t.inspect().state}function E(){at.length=0,st.length=0,ut||(ut=!0)}function C(t,n){ut&&("object"==typeof e&&"function"==typeof e.emit&&p.nextTick.runAfter(function(){$(st,t)!==-1&&(e.emit("unhandledRejection",n,t),lt.push(t))}),st.push(t),n&&"undefined"!=typeof n.stack?at.push(n.stack):at.push("(no stack) "+n))}function k(t){if(ut){var n=$(st,t);n!==-1&&("object"==typeof e&&"function"==typeof e.emit&&p.nextTick.runAfter(function(){var r=$(lt,t);r!==-1&&(e.emit("rejectionHandled",at[n],t),lt.splice(r,1))}),st.splice(n,1),at.splice(n,1))}}function S(t){var e=y({when:function(e){return e&&k(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return C(e,t),e}function P(t){return y({when:function(){return t},get:function(e){return t[e]},set:function(e,n){t[e]=n},"delete":function(e){delete t[e]},post:function(e,n){return null===e||void 0===e?t.apply(void 0,n):t[e].apply(t,n)},apply:function(e,n){return t.apply(e,n)},keys:function(){return rt(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function M(t){var e=h();return p.nextTick(function(){try{t.then(e.resolve,e.reject,e.notify)}catch(n){e.reject(n)}}),e.promise}function A(t){return y({isDef:function(){}},function(e,n){return F(t,e,n)},function(){return p(t).inspect()})}function O(t,e,n){return p(t).spread(e,n)}function D(t){return function(){function e(t,e){var a;if("undefined"==typeof StopIteration){try{a=n[t](e)}catch(s){return S(s)}return a.done?p(a.value):v(a.value,r,i)}try{a=n[t](e)}catch(s){return o(s)?p(s.value):S(s)}return v(a,r,i)}var n=t.apply(this,arguments),r=e.bind(e,"next"),i=e.bind(e,"throw");return r()}}function L(t){p.done(p.async(t)())}function I(t){throw new G(t)}function j(t){return function(){return O([this,R(arguments)],function(e,n){return t.apply(e,n)})}}function F(t,e,n){return p(t).dispatch(e,n)}function R(t){return v(t,function(t){var e=0,n=h();return J(t,function(r,o,i){var a;b(o)&&"fulfilled"===(a=o.inspect()).state?t[i]=a.value:(++e,v(o,function(r){t[i]=r,0===--e&&n.resolve(t)},n.reject,function(t){n.notify({index:i,value:t})}))},void 0),0===e&&n.resolve(t),n.promise})}function N(t){if(0===t.length)return p.resolve();var e=p.defer(),n=0;return J(t,function(r,o,i){function a(t){e.resolve(t)}function s(){n--,0===n&&e.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}function l(t){e.notify({index:i,value:t})}var u=t[i];n++,v(u,a,s,l)},void 0),e.promise}function z(t){return v(t,function(t){return t=tt(t,p),v(R(tt(t,function(t){return v(t,Z,Z)})),function(){return t})})}function B(t){return p(t).allSettled()}function U(t,e){return p(t).then(void 0,void 0,e)}function W(t,e){return p(t).nodeify(e)}var q=!1;try{throw new Error}catch(V){q=!!V.stack}var H,G,Y=c(),Z=function(){},X=function(){function t(){for(var t,e;o.next;)o=o.next,t=o.task,o.task=void 0,e=o.domain,e&&(o.domain=void 0,e.enter()),r(t,e);for(;u.length;)t=u.pop(),r(t);a=!1}function r(e,n){try{e()}catch(r){if(l)throw n&&n.exit(),setTimeout(t,0),n&&n.enter(),r;setTimeout(function(){throw r},0)}n&&n.exit()}var o={task:void 0,next:null},i=o,a=!1,s=void 0,l=!1,u=[];if(X=function(t){i=i.next={task:t,domain:l&&e.domain,next:null},a||(a=!0,s())},"object"==typeof e&&"[object process]"===e.toString()&&e.nextTick)l=!0,s=function(){e.nextTick(t)};else if("function"==typeof n)s="undefined"!=typeof window?n.bind(window,t):function(){n(t)};else if("undefined"!=typeof MessageChannel){var c=new MessageChannel;c.port1.onmessage=function(){s=f,c.port1.onmessage=t,t()};var f=function(){c.port2.postMessage(0)};s=function(){setTimeout(t,0),f()}}else s=function(){setTimeout(t,0)};return X.runAfter=function(t){u.push(t),a||(a=!0,s())},X}(),K=Function.call,Q=t(Array.prototype.slice),J=t(Array.prototype.reduce||function(t,e){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){e=this[n++];break}if(++n>=r)throw new TypeError}for(;n<r;n++)n in this&&(e=t(e,this[n],n));return e}),$=t(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),tt=t(Array.prototype.map||function(t,e){var n=this,r=[];return J(n,function(o,i,a){r.push(t.call(e,i,a,n))},void 0),r}),et=Object.create||function(t){function e(){}return e.prototype=t,new e},nt=t(Object.prototype.hasOwnProperty),rt=Object.keys||function(t){var e=[];for(var n in t)nt(t,n)&&e.push(n);return e},ot=t(Object.prototype.toString);G="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var it="From previous event:";p.resolve=p,p.nextTick=X,p.longStackSupport=!1,"object"==typeof e&&e&&{NODE_ENV:"production"}.Q_DEBUG&&(p.longStackSupport=!0),p.defer=h,h.prototype.makeNodeResolver=function(){var t=this;return function(e,n){e?t.reject(e):arguments.length>2?t.resolve(Q(arguments,1)):t.resolve(n)}},p.Promise=d,p.promise=d,d.race=m,d.all=R,d.reject=S,d.resolve=p,p.passByCopy=function(t){return t},y.prototype.passByCopy=function(){return this},p.join=function(t,e){return p(t).join(e)},y.prototype.join=function(t){return p([this,t]).spread(function(t,e){if(t===e)return t;throw new Error("Can't join: not the same: "+t+" "+e)})},p.race=m,y.prototype.race=function(){return this.then(p.race)},p.makePromise=y,y.prototype.toString=function(){return"[object Promise]"},y.prototype.then=function(t,e,n){function r(e){try{return"function"==typeof t?t(e):e}catch(n){return S(n)}}function o(t){if("function"==typeof e){i(t,s);try{return e(t)}catch(n){return S(n)}}return S(t)}function a(t){return"function"==typeof n?n(t):t}var s=this,l=h(),u=!1;return p.nextTick(function(){s.promiseDispatch(function(t){u||(u=!0,l.resolve(r(t)))},"when",[function(t){u||(u=!0,l.resolve(o(t)))}])}),s.promiseDispatch(void 0,"when",[void 0,function(t){var e,n=!1;try{e=a(t)}catch(r){if(n=!0,!p.onerror)throw r;p.onerror(r)}n||l.notify(e)}]),l.promise},p.tap=function(t,e){return p(t).tap(e)},y.prototype.tap=function(t){return t=p(t),this.then(function(e){return t.fcall(e).thenResolve(e)})},p.when=v,y.prototype.thenResolve=function(t){return this.then(function(){return t})},p.thenResolve=function(t,e){return p(t).thenResolve(e)},y.prototype.thenReject=function(t){return this.then(function(){throw t})},p.thenReject=function(t,e){return p(t).thenReject(e)},p.nearer=g,p.isPromise=b,p.isPromiseAlike=_,p.isPending=x,y.prototype.isPending=function(){return"pending"===this.inspect().state},p.isFulfilled=w,y.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},p.isRejected=T,y.prototype.isRejected=function(){return"rejected"===this.inspect().state};var at=[],st=[],lt=[],ut=!0;p.resetUnhandledRejections=E,p.getUnhandledReasons=function(){return at.slice()},p.stopUnhandledRejectionTracking=function(){E(),ut=!1},E(),p.reject=S,p.fulfill=P,p.master=A,p.spread=O,y.prototype.spread=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},p.async=D,p.spawn=L,p["return"]=I,p.promised=j,p.dispatch=F,y.prototype.dispatch=function(t,e){var n=this,r=h();return p.nextTick(function(){n.promiseDispatch(r.resolve,t,e)}),r.promise},p.get=function(t,e){return p(t).dispatch("get",[e])},y.prototype.get=function(t){return this.dispatch("get",[t])},p.set=function(t,e,n){return p(t).dispatch("set",[e,n])},y.prototype.set=function(t,e){return this.dispatch("set",[t,e])},p.del=p["delete"]=function(t,e){return p(t).dispatch("delete",[e])},y.prototype.del=y.prototype["delete"]=function(t){return this.dispatch("delete",[t])},p.mapply=p.post=function(t,e,n){return p(t).dispatch("post",[e,n])},y.prototype.mapply=y.prototype.post=function(t,e){return this.dispatch("post",[t,e])},p.send=p.mcall=p.invoke=function(t,e){return p(t).dispatch("post",[e,Q(arguments,2)])},y.prototype.send=y.prototype.mcall=y.prototype.invoke=function(t){return this.dispatch("post",[t,Q(arguments,1)])},p.fapply=function(t,e){return p(t).dispatch("apply",[void 0,e])},y.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},p["try"]=p.fcall=function(t){return p(t).dispatch("apply",[void 0,Q(arguments,1)])},y.prototype.fcall=function(){return this.dispatch("apply",[void 0,Q(arguments)])},p.fbind=function(t){var e=p(t),n=Q(arguments,1);return function(){return e.dispatch("apply",[this,n.concat(Q(arguments))])}},y.prototype.fbind=function(){var t=this,e=Q(arguments);return function(){return t.dispatch("apply",[this,e.concat(Q(arguments))])}},p.keys=function(t){return p(t).dispatch("keys",[])},y.prototype.keys=function(){return this.dispatch("keys",[])},p.all=R,y.prototype.all=function(){return R(this)},p.any=N,y.prototype.any=function(){return N(this)},p.allResolved=f(z,"allResolved","allSettled"),y.prototype.allResolved=function(){return z(this)},p.allSettled=B,y.prototype.allSettled=function(){return this.then(function(t){return R(tt(t,function(t){function e(){return t.inspect()}return t=p(t),t.then(e,e)}))})},p.fail=p["catch"]=function(t,e){return p(t).then(void 0,e)},y.prototype.fail=y.prototype["catch"]=function(t){return this.then(void 0,t)},p.progress=U,y.prototype.progress=function(t){return this.then(void 0,void 0,t)},p.fin=p["finally"]=function(t,e){return p(t)["finally"](e)},y.prototype.fin=y.prototype["finally"]=function(t){return t=p(t),this.then(function(e){return t.fcall().then(function(){return e})},function(e){return t.fcall().then(function(){throw e})})},p.done=function(t,e,n,r){return p(t).done(e,n,r)},y.prototype.done=function(t,n,r){var o=function(t){p.nextTick(function(){if(i(t,a),!p.onerror)throw t;p.onerror(t)})},a=t||n||r?this.then(t,n,r):this;"object"==typeof e&&e&&e.domain&&(o=e.domain.bind(o)),a.then(void 0,o)},p.timeout=function(t,e,n){return p(t).timeout(e,n)},y.prototype.timeout=function(t,e){var n=h(),r=setTimeout(function(){e&&"string"!=typeof e||(e=new Error(e||"Timed out after "+t+" ms"),e.code="ETIMEDOUT"),n.reject(e)},t);return this.then(function(t){clearTimeout(r),n.resolve(t)},function(t){clearTimeout(r),n.reject(t)},n.notify),n.promise},p.delay=function(t,e){return void 0===e&&(e=t,t=void 0),p(t).delay(e)},y.prototype.delay=function(t){return this.then(function(e){var n=h();return setTimeout(function(){n.resolve(e)},t),n.promise})},p.nfapply=function(t,e){return p(t).nfapply(e)},y.prototype.nfapply=function(t){var e=h(),n=Q(t);return n.push(e.makeNodeResolver()),this.fapply(n).fail(e.reject),e.promise},p.nfcall=function(t){var e=Q(arguments,1);return p(t).nfapply(e)},y.prototype.nfcall=function(){var t=Q(arguments),e=h();return t.push(e.makeNodeResolver()),this.fapply(t).fail(e.reject),e.promise},p.nfbind=p.denodeify=function(t){var e=Q(arguments,1);return function(){var n=e.concat(Q(arguments)),r=h();return n.push(r.makeNodeResolver()),p(t).fapply(n).fail(r.reject),r.promise}},y.prototype.nfbind=y.prototype.denodeify=function(){var t=Q(arguments);return t.unshift(this),p.denodeify.apply(void 0,t)},p.nbind=function(t,e){var n=Q(arguments,2);return function(){function r(){return t.apply(e,arguments)}var o=n.concat(Q(arguments)),i=h();return o.push(i.makeNodeResolver()),p(r).fapply(o).fail(i.reject),i.promise}},y.prototype.nbind=function(){var t=Q(arguments,0);return t.unshift(this),p.nbind.apply(void 0,t)},p.nmapply=p.npost=function(t,e,n){return p(t).npost(e,n)},y.prototype.nmapply=y.prototype.npost=function(t,e){var n=Q(e||[]),r=h();return n.push(r.makeNodeResolver()),this.dispatch("post",[t,n]).fail(r.reject),r.promise},p.nsend=p.nmcall=p.ninvoke=function(t,e){var n=Q(arguments,2),r=h();return n.push(r.makeNodeResolver()),p(t).dispatch("post",[e,n]).fail(r.reject),r.promise},y.prototype.nsend=y.prototype.nmcall=y.prototype.ninvoke=function(t){var e=Q(arguments,1),n=h();return e.push(n.makeNodeResolver()),this.dispatch("post",[t,e]).fail(n.reject),n.promise},p.nodeify=W,y.prototype.nodeify=function(t){return t?void this.then(function(e){p.nextTick(function(){t(null,e)})},function(e){p.nextTick(function(){t(e)})}):this},p.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var ct=c();return p})}).call(e,n(294),n(925).setImmediate)},function(t,e,n){(function(t,r){function o(t,e){this._id=t,this._clearFn=e}var i=n(926).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},u=0;e.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=u++,r=!(arguments.length<2)&&s.call(arguments,1);return l[n]=!0,i(function(){l[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete l[t]}}).call(e,n(925).setImmediate,n(925).clearImmediate)},294,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(928),i=r(o),a=n(930),s=r(a),l=n(924),u=r(l),c={status:"__CANCELLED__"},f={MAX_ENTRIES:1e4,cache:{},lru:[],cancellers:{},numberWaitingFor:{},get:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=(0,i["default"])(this.cache,t);if(!a&&!o)return null;a?(this.lru=(0,s["default"])(this.lru,t),this.lru.push(t)):(this.lru.push(t),this.cancellers[t]=u["default"].defer(),this.cache[t]=e(this.cancellers[t].promise).then(function(e){return n.lru.length>n.MAX_ENTRIES&&(delete n.cache[n.lru[0]],n.lru=n.lru.slice(1)),delete n.cancellers[t],e})["catch"](function(e){throw delete n.cache[t],delete n.cancellers[t],n.lru=(0,s["default"])(n.lru,t),e}));var l=u["default"].defer();return this.numberWaitingFor[t]||(this.numberWaitingFor[t]=0),this.numberWaitingFor[t]+=1,r.then(function(){n.numberWaitingFor[t]-=1,0===n.numberWaitingFor[t]&&n.cancellers[t]&&n.cancellers[t].resolve(),l.reject(c)}),this.cache[t].then(function(e){n.numberWaitingFor[t]-=1,l.resolve(e)}),this.cache[t]["catch"](function(e){n.numberWaitingFor[t]=0,l.reject(e)}),l.promise},filterCancelled:function(t){if(t!==c)throw t;return"__CANCELLED__"}};t.exports=f},function(t,e,n){function r(t,e){return null!=t&&i(t,e,o)}var o=n(929),i=n(746);t.exports=r},function(t,e){function n(t,e){return null!=t&&o.call(t,e)}var r=Object.prototype,o=r.hasOwnProperty;t.exports=n},function(t,e,n){var r=n(931),o=n(592),i=n(704),a=o(function(t,e){return i(t)?r(t,e):[]});t.exports=a},function(t,e,n){function r(t,e,n,r){var f=-1,p=i,h=!0,d=t.length,m=[],y=e.length;if(!d)return m;n&&(e=s(e,l(n))),r?(p=a,h=!1):e.length>=c&&(p=u,h=!1,e=new o(e));t:for(;++f<d;){var v=t[f],g=n?n(v):v;if(v=r||0!==v?v:0,h&&g===g){for(var b=y;b--;)if(e[b]===g)continue t;m.push(v)}else p(e,g,r)||m.push(v)}return m}var o=n(689),i=n(639),a=n(932),s=n(767),l=n(718),u=n(693),c=200;t.exports=r},function(t,e){function n(t,e,n){for(var r=-1,o=t?t.length:0;++r<o;)if(n(e,t[r]))return!0;return!1}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if("object"!==("undefined"==typeof t?"undefined":D(t))){if(t.indexOf("Authentication")>0)throw Error("Client is not authenticated");throw Error("Invalid server response type")}if("Error"in t)throw"NotAuthenticated"==t.Error?Error("Not Authenticated"):Error("Error: "+t.Error);if("issue"in t)throw Error(t.issue);return t}function i(t){if(0===t.status&&0==t.readyState)return"__SUPERSEEDED__";throw t}function a(t){return"Error: "+(t.statusText||t.message)}function s(t){var e=X["default"].encode(t);if(e=e.replace(/\+/g,"-"),e=e.replace(/\//g,"_"),X["default"].decode(e)!=t)throw Error("Invalid encoding");return e}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r={url:K,method:e,params:{},timeout:6e4,data:n};for(var o in t.params)null===t.params[o]&&delete t.params[o];return(0,I["default"])(Object.assign(r,t)).then(I["default"].filterSuccess)}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return l(t,e,n).then(I["default"].toJSON).then(o)}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return t.responseType="arraybuffer",l(t,e,n).then(function(t){var e=t.response;return(0,F["default"])(e)})}function f(t){return function(e){var n=Y["default"].ValueListDecoder(),r={};return(0,W["default"])(t,function(t,o){return r[o]=n.doDecode(e[o])}),r}}function p(t){return function(e){var n={};return(0,W["default"])(t,function(t,r){var o=e.results[t.folder+"_"+t.config+"_"+t.name];o?n[r]={data:Y["default"].Encoder.Create(o.encoder).decodeArray(o.data),summariser:o.summariser}:n[r]=null}),n}}function h(t){(0,q.assertRequired)(t,["database","table","columns"]);var e={query:H["default"].nullQuery,order:null,groupby:null,ascending:!0,count:!1,start:0,stop:1e6,distinct:!1,transpose:!0},n=O({},e,t),r=n.database,o=n.table,i=n.columns,a=n.query,l=n.order,c=n.groupby,p=n.ascending,h=n.count,d=n.start,m=n.stop,y=n.distinct,v=n.transpose,g="";(0,W["default"])(i,function(t,e){g.length>0&&(g+="~"),g+=t+e});var b=t.cancellation?{cancellation:t.cancellation}:{},_={};return _=l?O({order:l},_):_,_=c?O({groupby:c.join("~")},_):_,u(O({},b,{params:O({},_,{datatype:"pageqry",database:r,tbname:o,qry:s(a),collist:B["default"].compressToEncodedURIComponent(g),sortreverse:p?"0":"1",needtotalcount:h?"1":"0",limit:d+"~"+m,distinct:y?"1":"0"})})).then(f(i)).then(function(t){if(v){for(var e=[],n=function(n){var r={};(0,W["default"])(t,function(t,e){return r[e]=t[n]}),e.push(r)},r=0;r<t[(0,N["default"])(t)[0]].length;r++)n(r);return e}return t})}function d(t){(0,q.assertRequired)(t,["database","chrom","start","end"]),t.stop=t.end;var e={datatype:"annot",table:"annotation",field_start:"fstart",field_stop:"fstop",field_name:"fname",field_id:"fid",field_chrom:"chromid",ftype:"gene",fsubtype:"CDS",subfeatures:"1"},n=Object.assign(e,t);delete n.cancellation;var r=t.cancellation?{cancellation:t.cancellation}:{};return u(O({},r,{params:n})).then(function(t){var e=Y["default"].ValueListDecoder();return["IDs","Names","ParentIDs","Sizes","Starts","Types"].forEach(function(n){return t[n]=e.doDecode(t[n])}),t={ids:t.IDs,names:t.Names,parents:t.ParentIDs,sizes:t.Sizes,starts:t.Starts,types:t.Types}})}function m(t){(0,q.assertRequired)(t,["chromosome","columns","blocksize","blockstart","blockcount"]);var e={},n=Object.assign(e,t),r=n.chromosome,o=n.columns,i=n.blocksize,a=n.blockstart,s=n.blockcount,l="";(0,W["default"])(o,function(t){l.length>0&&(l+="~"),l+=t.folder+"~"+t.config+"~"+t.name});var c=t.cancellation?{cancellation:t.cancellation}:{};return u(O({},c,{params:{datatype:"summinfo",dataid:r,ids:l,blocksize:i,blockstart:a,blockcount:s}})).then(p(o))}function y(t){(0,q.assertRequired)(t,["database","table","tree"]);var e=t.database,n=t.table,r=t.tree,o=t.cancellation?{cancellation:t.cancellation}:{};return u(O({},o,{params:{datatype:"getgraph",database:e,tableid:n,graphid:r}})).then(function(t){return t})}function v(t){return t=X["default"].encode(JSON.stringify(t)),u({method:"POST",params:{datatype:"storedata"},data:t}).then(function(t){return t.id})}function g(t){return u({params:{datatype:"fetchstoredata",id:t}}).then(function(t){return JSON.parse(X["default"].decode(t.content))})}function b(t){(0,q.assertRequired)(t,["database","table","primKeyField","primKeyValue"]);var e=t.database,n=t.table,r=t.primKeyField,o=t.primKeyValue,i=t.cancellation?{cancellation:t.cancellation}:{},a=H["default"].WhereClause.encode(H["default"].WhereClause.CompareFixed(r,"=",o));return u(O({},i,{params:{datatype:"recordinfo",database:e,tbname:n,qry:s(a)}})).then(function(t){return t.Data})}function _(t){(0,q.assertRequired)(t,["database","search","maxMatches"]);var e=t.database,n=t.search,r=t.maxMatches,o=t.cancellation?{cancellation:t.cancellation}:{};return u(O({},o,{params:{datatype:"findgene",database:e,table:"annotation",pattern:n,count:r,reportall:1}})).then(function(t){var e=Y["default"].ValueListDecoder();return["Chroms","Descrs","Ends","Hits","IDs","Starts"].forEach(function(n){return t[n]=e.doDecode(t[n])}),t={chromosomes:t.Chroms,descriptions:t.Descrs,ends:t.Ends,hits:t.Hits,ids:t.IDs,starts:t.Starts}})}function x(t){(0,q.assertRequired)(t,["database","chromosome","startPosition","endPosition"]);var e=t.database,n=t.chromosome,r=t.startPosition,o=t.endPosition,i={fid:"ST",fname:"ST",descr:"ST",fstart:"IN",fstop:"IN"},a=H["default"].WhereClause.encode(H["default"].WhereClause.AND([H["default"].WhereClause.CompareFixed("chromid","=",n),H["default"].WhereClause.CompareFixed("fstop",">=",r),H["default"].WhereClause.CompareFixed("fstart","<=",o),H["default"].WhereClause.CompareFixed("ftype","=","gene")]));return h({database:e,table:"annotation",columns:i,query:a})}function w(t){(0,q.assertRequired)(t,["database","geneId"]);var e=t.database,n=t.geneId;return b({database:e,table:"annotation",primKeyField:"fid",primKeyValue:n})}function T(t){(0,q.assertRequired)(t,["dataset"]);var e={id:"GN",user:"GN",timestamp:"GN",name:"GN",status:"GN",progress:"IN",completed:"IN",failed:"IN",scope:"GN"},n=H["default"].nullQuery;return h({database:"",table:"calculations",columns:e,query:n,order:"timestamp",ascending:!1})}function E(t){(0,q.assertRequired)(t,["logId"]);var e=t.logId,n=t.cancellation?{cancellation:t.cancellation}:{};return u(O({},n,{params:{datatype:"getcalculationlog",id:e}})).then(function(t){return t.Content})}function C(t){return u({params:{datatype:"fileload_dataset",ScopeStr:"all",SkipTableTracks:"false",datasetid:t}}).then(function(t){return JSON.parse(X["default"].decode(t.content))})}function k(t){return u({params:{datatype:"fileload_dataset",ScopeStr:"none",SkipTableTracks:"false",datasetid:t}}).then(function(t){return JSON.parse(X["default"].decode(t.content))})}function S(t){(0,q.assertRequired)(t,["database","table"]);var e={query:H["default"].nullQuery,maxRowsCount:1e4},n=O({},e,t),r=n.database,o=n.table,i=n.query,a=n.maxRowsCount,l=t.cancellation?{cancellation:t.cancellation}:{};return u(O({},l,{params:{datatype:"getrecordcount",database:r,tbname:o,qry:s(i),maxrecordcount:a}})).then(function(t){return t.TotalRecordCount})}function P(t){(0,q.assertRequired)(t,["dataset","path","action","content"]);var e=t.dataset,n=t.path,r=t.action,o=t.content,i=t.cancellation?{cancellation:t.cancellation}:{};return u(O({},i,{method:"POST",data:JSON.stringify(o),params:{dataset:e,path:n,action:r,datatype:"modifyconfig"}})).then(function(t){return t.config})}function M(t){(0,q.assertRequired)(t,["dataset","table"]);var e={colQry:H["default"].WhereClause.encode(H["default"].WhereClause.Trivial()),rowQry:H["default"].WhereClause.encode(H["default"].WhereClause.Trivial()),colOrder:null,rowOrder:null,colProperties:"",rowProperties:"","2DProperties":"",sortMode:null,rowSortProperty:null,rowSortCols:"",colKey:null,rowOffset:null,rowLimit:null,colFailLimit:null},n=O({},e,t),r=n.dataset,o=n.table,i=n.colQry,a=n.rowQry,l=n.colOrder,u=n.rowOrder,f=n.colProperties,p=n.rowProperties,h=n.sortMode,d=n.rowSortProperty,m=n.rowSortCols,y=n.colKey,v=n.rowOffset,g=n.rowLimit,b=n.colFailLimit,_=O({},e,t)["2DProperties"],x=t.cancellation?{cancellation:t.cancellation}:{};return c(O({},x,{params:{datatype:"2d_query",dataset:r,table:o,colQry:s(i),rowQry:s(a),colOrder:l,rowOrder:u,colProperties:f,rowProperties:p,"2DProperties":_,sortMode:h,rowSortProperty:d,rowSortCols:m,colKey:y,rowOffset:v,rowLimit:g,colFailLimit:b}}))}function A(t){(0,q.assertRequired)(t,["database","table","columns"]);var e={query:H["default"].nullQuery,orderBy:[],groupBy:[],start:0,stop:1e6,distinct:!1,transpose:!0},n=O({},e,t),r=n.database,o=n.table,i=n.columns,a=n.query,s=n.orderBy,l=n.groupBy,u=n.start,f=n.stop,p=n.distinct,h=t.cancellation?{cancellation:t.cancellation}:{};return c(O({},h,{params:{datatype:"query"}}),"POST",JSON.stringify({database:r,table:o,query:a,columns:JSON.stringify(i),limit:u+"~"+f,distinct:p?"true":"false",orderBy:JSON.stringify(s),groupBy:l.join("~")}))}var O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L=n(934),I=r(L),j=n(936),F=r(j),R=n(700),N=r(R),z=n(938),B=r(z),U=n(721),W=r(U),q=n(939),V=n(940),H=r(V),G=n(942),Y=r(G),Z=n(943),X=r(Z),K="/panoptes/api",Q={i1:-128,i2:-32768,i4:-2147483648};t.exports={annotationData:d,encodeQuery:s,errorMessage:a,fetchData:g,fetchGene:w,fetchImportStatusData:T,fetchImportStatusLog:E,fetchSingleRecord:b,filterAborted:i,findGene:_,findGenesInRegion:x,importDataset:C,importDatasetConfig:k,modifyConfig:P,nullValues:Q,pageQuery:h,query:A,requestJSON:u,serverURL:K,summaryData:m,storeData:v,treeData:y,truncatedRowsCount:S,twoDPageQuery:M}},function(t,e,n){t.exports=n(935)(n(924),window.XMLHttpRequest,window.FormData)},function(t,e,n){!function(e,n){t.exports=n}(this,function(t,e,n){"use strict";function r(){}function o(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&void 0!==t[e]&&n.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return n.join("&")}function i(t){return t.indexOf("?")===-1}function a(t){var e={};if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function s(e,r){if(0===arguments.length)throw new Error("Qajax: settings are required");var s;if("string"==typeof e)s="object"==typeof r&&r||{},s.url=e;else{if("object"!=typeof e)throw new Error("Qajax: settings must be an object");s=e}if(!s.url)throw new Error("Qajax: settings.url is required");if("cancellation"in s&&!t.isPromiseAlike(s.cancellation))throw new Error("cancellation must be a Promise.");this.headers=a(this.headers),this.params={};for(var l in s)this[l]=s[l];var c=this.params,f=this.cache;f&&(c[f===!0?"_":f]=(new Date).getTime());var p=this.base+this.url,h=o(c);h&&(p=p+(i(p)?"?":"&")+h),this.url=p;var d=this.data,m=this.headers;null===d||"object"!=typeof d||n&&d instanceof n||(u in m||(m[u]="application/json"),this.data=JSON.stringify(d));var y=this._send,v=this;this.send=function(){return t.fcall(function(){return y.call(v)})}}function l(t,e){return new s(t,e).send()}var u="Content-Type",c=t.defer().promise;return s.prototype={log:r,timeout:6e4,cache:"undefined"!=typeof window&&!!(window.ActiveXObject||"ActiveXObject"in window),method:"GET",base:"",withCredentials:!1,cancellation:c,_send:function(){var n=new e,r=t.defer(),o=this.log,i=this.method,a=this.url;n.onreadystatechange=function(){if(4===n.readyState)try{o(i+" "+a+" => "+n.status),n.status?r.resolve(n):r.reject(n)}catch(t){r.reject(n)}},n.onprogress=function(t){r.notify(t)},n.open(i,a,!0),this.responseType&&(n.responseType=this.responseType);var s=this.headers;for(var l in s)s.hasOwnProperty(l)&&n.setRequestHeader(l,s[l]);this.withCredentials&&(n.withCredentials=!0);var u=this.data;return void 0!==u&&null!==u?n.send(u):n.send(),this.cancellation.fin(function(){r.promise.isFulfilled()||(o("Qajax cancellation reached."),n.abort())}),this.timeout?r.promise.timeout(this.timeout).fail(function(t){throw t instanceof Error&&(o("Qajax request delay reach in "+i+" "+a),n.abort()),n}):r.promise}},l.defaults=s.prototype,l.Builder=s,l.filterStatus=function(e){var n,r,o=this.log;if(r=typeof e,"function"===r)n=e;else{if("number"!==r)throw"validStatus type "+r+" unsupported";n=function(t){return t===e}}return function(e){var r=0;try{r=e.status}catch(i){o("Qajax: failed to read xhr.status")}return 1223===r&&(r=204),n(r)?t.resolve(e):t.reject(e)}},l.filterSuccess=l.filterStatus(function(t){return t>=200&&t<300||304===t}),l.toJSON=function(e){return t.fcall(function(){return JSON.parse(e.responseText)})},l.getJSON=function(t){return l({url:t,method:"GET"}).then(l.filterSuccess).then(l.toJSON)},l.serialize=o,l})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=t.readCString();"S"===e&&(e="|S");for(var n=t.readUint8(),r=[],o=0;o<n;o++)r.push(t.readUint32());var i=t.readUint32(),a=void 0;switch(e[0]){case"<":a=l["default"].LITTLE_ENDIAN;break;case">":a=l["default"].BIG_ENDIAN;break;case"|":a=l["default"].LITTLE_ENDIAN;
break;default:throw Error("dtype doesn't start with endianness")}var s=void 0,u=e.substring(1);switch(u){case"u1":s=t.readUint8Array(i);break;case"u2":s=t.readUint16Array(i,a);break;case"u4":s=t.readUint32Array(i,a);break;case"i1":s=t.readInt8Array(i);break;case"i2":s=t.readInt16Array(i,a);break;case"i4":s=t.readInt32Array(i,a);break;case"f4":s=t.readFloat32Array(i,a);break;case"f8":s=t.readFloat64Array(i,a);break;case"S":s=[];for(var c=0;c<i;++c)s.push(t.readCString());break;default:throw Error("unsupported dtype:"+e)}return{array:s,shape:r,type:u}}function i(t){for(var e=t.readUint8(),n={},r=0;r<e;r++){var i=t.readCString();n[i]=o(t)}return n}function a(t){var e=new l["default"](t);e.endianness=l["default"].LITTLE_ENDIAN;var n=e.readString(2);if("AB"==n)return o(e);if("AS"==n)return i(e);throw Error("Not array buffer stream")}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a;var s=n(937),l=r(s)},function(t,e,n){var r,o;(function(t){DataStream=function(t,e,n){this._byteOffset=e||0,t instanceof ArrayBuffer?this.buffer=t:"object"==typeof t?(this.dataView=t,e&&(this._byteOffset+=e)):this.buffer=new ArrayBuffer(t||1),this.position=0,this.endianness=null==n?DataStream.LITTLE_ENDIAN:n},DataStream.prototype={},void 0===Uint8Array.prototype.BYTES_PER_ELEMENT&&(Uint8Array.prototype.BYTES_PER_ELEMENT=Uint8Array.BYTES_PER_ELEMENT,Int8Array.prototype.BYTES_PER_ELEMENT=Int8Array.BYTES_PER_ELEMENT,Uint8ClampedArray.prototype.BYTES_PER_ELEMENT=Uint8ClampedArray.BYTES_PER_ELEMENT,Uint16Array.prototype.BYTES_PER_ELEMENT=Uint16Array.BYTES_PER_ELEMENT,Int16Array.prototype.BYTES_PER_ELEMENT=Int16Array.BYTES_PER_ELEMENT,Uint32Array.prototype.BYTES_PER_ELEMENT=Uint32Array.BYTES_PER_ELEMENT,Int32Array.prototype.BYTES_PER_ELEMENT=Int32Array.BYTES_PER_ELEMENT,Float64Array.prototype.BYTES_PER_ELEMENT=Float64Array.BYTES_PER_ELEMENT),DataStream.prototype.save=function(t){var e=new Blob(this.buffer),n=window.webkitURL||window.URL;if(!n||!n.createObjectURL)throw"DataStream.save: Can't create object URL.";var r=n.createObjectURL(e),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download",t),o.click(),n.revokeObjectURL(r)},DataStream.BIG_ENDIAN=!1,DataStream.LITTLE_ENDIAN=!0,DataStream.prototype._dynamicSize=!0,Object.defineProperty(DataStream.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(t){t||this._trimAlloc(),this._dynamicSize=t}}),DataStream.prototype._byteLength=0,Object.defineProperty(DataStream.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(DataStream.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(t){this._buffer=t,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(DataStream.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(t){this._byteOffset=t,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(DataStream.prototype,"dataView",{get:function(){return this._dataView},set:function(t){this._byteOffset=t.byteOffset,this._buffer=t.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+t.byteLength}}),DataStream.prototype._realloc=function(t){if(this._dynamicSize){var e=this._byteOffset+this.position+t,n=this._buffer.byteLength;if(e<=n)return void(e>this._byteLength&&(this._byteLength=e));for(n<1&&(n=1);e>n;)n*=2;var r=new ArrayBuffer(n),o=new Uint8Array(this._buffer),i=new Uint8Array(r,0,o.length);i.set(o),this.buffer=r,this._byteLength=e}},DataStream.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var t=new ArrayBuffer(this._byteLength),e=new Uint8Array(t),n=new Uint8Array(this._buffer,0,e.length);e.set(n),this.buffer=t}},DataStream.prototype.seek=function(t){var e=Math.max(0,Math.min(this.byteLength,t));this.position=isNaN(e)||!isFinite(e)?0:e},DataStream.prototype.isEof=function(){return this.position>=this.byteLength},DataStream.prototype.mapInt32Array=function(t,e){this._realloc(4*t);var n=new Int32Array(this._buffer,this.byteOffset+this.position,t);return DataStream.arrayToNative(n,null==e?this.endianness:e),this.position+=4*t,n},DataStream.prototype.mapInt16Array=function(t,e){this._realloc(2*t);var n=new Int16Array(this._buffer,this.byteOffset+this.position,t);return DataStream.arrayToNative(n,null==e?this.endianness:e),this.position+=2*t,n},DataStream.prototype.mapInt8Array=function(t){this._realloc(1*t);var e=new Int8Array(this._buffer,this.byteOffset+this.position,t);return this.position+=1*t,e},DataStream.prototype.mapUint32Array=function(t,e){this._realloc(4*t);var n=new Uint32Array(this._buffer,this.byteOffset+this.position,t);return DataStream.arrayToNative(n,null==e?this.endianness:e),this.position+=4*t,n},DataStream.prototype.mapUint16Array=function(t,e){this._realloc(2*t);var n=new Uint16Array(this._buffer,this.byteOffset+this.position,t);return DataStream.arrayToNative(n,null==e?this.endianness:e),this.position+=2*t,n},DataStream.prototype.mapUint8Array=function(t){this._realloc(1*t);var e=new Uint8Array(this._buffer,this.byteOffset+this.position,t);return this.position+=1*t,e},DataStream.prototype.mapFloat64Array=function(t,e){this._realloc(8*t);var n=new Float64Array(this._buffer,this.byteOffset+this.position,t);return DataStream.arrayToNative(n,null==e?this.endianness:e),this.position+=8*t,n},DataStream.prototype.mapFloat32Array=function(t,e){this._realloc(4*t);var n=new Float32Array(this._buffer,this.byteOffset+this.position,t);return DataStream.arrayToNative(n,null==e?this.endianness:e),this.position+=4*t,n},DataStream.prototype.readInt32Array=function(t,e){t=null==t?this.byteLength-this.position/4:t;var n=new Int32Array(t);return DataStream.memcpy(n.buffer,0,this.buffer,this.byteOffset+this.position,t*n.BYTES_PER_ELEMENT),DataStream.arrayToNative(n,null==e?this.endianness:e),this.position+=n.byteLength,n},DataStream.prototype.readInt16Array=function(t,e){t=null==t?this.byteLength-this.position/2:t;var n=new Int16Array(t);return DataStream.memcpy(n.buffer,0,this.buffer,this.byteOffset+this.position,t*n.BYTES_PER_ELEMENT),DataStream.arrayToNative(n,null==e?this.endianness:e),this.position+=n.byteLength,n},DataStream.prototype.readInt8Array=function(t){t=null==t?this.byteLength-this.position:t;var e=new Int8Array(t);return DataStream.memcpy(e.buffer,0,this.buffer,this.byteOffset+this.position,t*e.BYTES_PER_ELEMENT),this.position+=e.byteLength,e},DataStream.prototype.readUint32Array=function(t,e){t=null==t?this.byteLength-this.position/4:t;var n=new Uint32Array(t);return DataStream.memcpy(n.buffer,0,this.buffer,this.byteOffset+this.position,t*n.BYTES_PER_ELEMENT),DataStream.arrayToNative(n,null==e?this.endianness:e),this.position+=n.byteLength,n},DataStream.prototype.readUint16Array=function(t,e){t=null==t?this.byteLength-this.position/2:t;var n=new Uint16Array(t);return DataStream.memcpy(n.buffer,0,this.buffer,this.byteOffset+this.position,t*n.BYTES_PER_ELEMENT),DataStream.arrayToNative(n,null==e?this.endianness:e),this.position+=n.byteLength,n},DataStream.prototype.readUint8Array=function(t){t=null==t?this.byteLength-this.position:t;var e=new Uint8Array(t);return DataStream.memcpy(e.buffer,0,this.buffer,this.byteOffset+this.position,t*e.BYTES_PER_ELEMENT),this.position+=e.byteLength,e},DataStream.prototype.readFloat64Array=function(t,e){t=null==t?this.byteLength-this.position/8:t;var n=new Float64Array(t);return DataStream.memcpy(n.buffer,0,this.buffer,this.byteOffset+this.position,t*n.BYTES_PER_ELEMENT),DataStream.arrayToNative(n,null==e?this.endianness:e),this.position+=n.byteLength,n},DataStream.prototype.readFloat32Array=function(t,e){t=null==t?this.byteLength-this.position/4:t;var n=new Float32Array(t);return DataStream.memcpy(n.buffer,0,this.buffer,this.byteOffset+this.position,t*n.BYTES_PER_ELEMENT),DataStream.arrayToNative(n,null==e?this.endianness:e),this.position+=n.byteLength,n},DataStream.prototype.writeInt32Array=function(t,e){if(this._realloc(4*t.length),t instanceof Int32Array&&(this.byteOffset+this.position)%t.BYTES_PER_ELEMENT==0)DataStream.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapInt32Array(t.length,e);else for(var n=0;n<t.length;n++)this.writeInt32(t[n],e)},DataStream.prototype.writeInt16Array=function(t,e){if(this._realloc(2*t.length),t instanceof Int16Array&&(this.byteOffset+this.position)%t.BYTES_PER_ELEMENT==0)DataStream.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapInt16Array(t.length,e);else for(var n=0;n<t.length;n++)this.writeInt16(t[n],e)},DataStream.prototype.writeInt8Array=function(t){if(this._realloc(1*t.length),t instanceof Int8Array&&(this.byteOffset+this.position)%t.BYTES_PER_ELEMENT==0)DataStream.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapInt8Array(t.length);else for(var e=0;e<t.length;e++)this.writeInt8(t[e])},DataStream.prototype.writeUint32Array=function(t,e){if(this._realloc(4*t.length),t instanceof Uint32Array&&(this.byteOffset+this.position)%t.BYTES_PER_ELEMENT==0)DataStream.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapUint32Array(t.length,e);else for(var n=0;n<t.length;n++)this.writeUint32(t[n],e)},DataStream.prototype.writeUint16Array=function(t,e){if(this._realloc(2*t.length),t instanceof Uint16Array&&(this.byteOffset+this.position)%t.BYTES_PER_ELEMENT==0)DataStream.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapUint16Array(t.length,e);else for(var n=0;n<t.length;n++)this.writeUint16(t[n],e)},DataStream.prototype.writeUint8Array=function(t){if(this._realloc(1*t.length),t instanceof Uint8Array&&(this.byteOffset+this.position)%t.BYTES_PER_ELEMENT==0)DataStream.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapUint8Array(t.length);else for(var e=0;e<t.length;e++)this.writeUint8(t[e])},DataStream.prototype.writeFloat64Array=function(t,e){if(this._realloc(8*t.length),t instanceof Float64Array&&(this.byteOffset+this.position)%t.BYTES_PER_ELEMENT==0)DataStream.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapFloat64Array(t.length,e);else for(var n=0;n<t.length;n++)this.writeFloat64(t[n],e)},DataStream.prototype.writeFloat32Array=function(t,e){if(this._realloc(4*t.length),t instanceof Float32Array&&(this.byteOffset+this.position)%t.BYTES_PER_ELEMENT==0)DataStream.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapFloat32Array(t.length,e);else for(var n=0;n<t.length;n++)this.writeFloat32(t[n],e)},DataStream.prototype.readInt32=function(t){var e=this._dataView.getInt32(this.position,null==t?this.endianness:t);return this.position+=4,e},DataStream.prototype.readInt16=function(t){var e=this._dataView.getInt16(this.position,null==t?this.endianness:t);return this.position+=2,e},DataStream.prototype.readInt8=function(){var t=this._dataView.getInt8(this.position);return this.position+=1,t},DataStream.prototype.readUint32=function(t){var e=this._dataView.getUint32(this.position,null==t?this.endianness:t);return this.position+=4,e},DataStream.prototype.readUint16=function(t){var e=this._dataView.getUint16(this.position,null==t?this.endianness:t);return this.position+=2,e},DataStream.prototype.readUint8=function(){var t=this._dataView.getUint8(this.position);return this.position+=1,t},DataStream.prototype.readFloat32=function(t){var e=this._dataView.getFloat32(this.position,null==t?this.endianness:t);return this.position+=4,e},DataStream.prototype.readFloat64=function(t){var e=this._dataView.getFloat64(this.position,null==t?this.endianness:t);return this.position+=8,e},DataStream.prototype.writeInt32=function(t,e){this._realloc(4),this._dataView.setInt32(this.position,t,null==e?this.endianness:e),this.position+=4},DataStream.prototype.writeInt16=function(t,e){this._realloc(2),this._dataView.setInt16(this.position,t,null==e?this.endianness:e),this.position+=2},DataStream.prototype.writeInt8=function(t){this._realloc(1),this._dataView.setInt8(this.position,t),this.position+=1},DataStream.prototype.writeUint32=function(t,e){this._realloc(4),this._dataView.setUint32(this.position,t,null==e?this.endianness:e),this.position+=4},DataStream.prototype.writeUint16=function(t,e){this._realloc(2),this._dataView.setUint16(this.position,t,null==e?this.endianness:e),this.position+=2},DataStream.prototype.writeUint8=function(t){this._realloc(1),this._dataView.setUint8(this.position,t),this.position+=1},DataStream.prototype.writeFloat32=function(t,e){this._realloc(4),this._dataView.setFloat32(this.position,t,null==e?this.endianness:e),this.position+=4},DataStream.prototype.writeFloat64=function(t,e){this._realloc(8),this._dataView.setFloat64(this.position,t,null==e?this.endianness:e),this.position+=8},DataStream.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,DataStream.memcpy=function(t,e,n,r,o){var i=new Uint8Array(t,e,o),a=new Uint8Array(n,r,o);i.set(a)},DataStream.arrayToNative=function(t,e){return e==this.endianness?t:this.flipArrayEndianness(t)},DataStream.nativeToEndian=function(t,e){return this.endianness==e?t:this.flipArrayEndianness(t)},DataStream.flipArrayEndianness=function(t){for(var e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=0;n<t.byteLength;n+=t.BYTES_PER_ELEMENT)for(var r=n+t.BYTES_PER_ELEMENT-1,o=n;r>o;r--,o++){var i=e[o];e[o]=e[r],e[r]=i}return t},DataStream.createStringFromArray=function(t){for(var e=32768,n=[],r=0;r<t.length;r+=e)n.push(String.fromCharCode.apply(null,t.subarray(r,r+e)));return n.join("")},DataStream.prototype.failurePosition=0,DataStream.prototype.readStruct=function(t){for(var e,n,r={},o=this.position,i=0;i<t.length;i+=2){if(e=t[i+1],n=this.readType(e,r),null==n)return 0==this.failurePosition&&(this.failurePosition=this.position),this.position=o,null;r[t[i]]=n}return r},DataStream.prototype.readUCS2String=function(t,e){return DataStream.createStringFromArray(this.readUint16Array(t,e))},DataStream.prototype.writeUCS2String=function(t,e,n){null==n&&(n=t.length);for(var r=0;r<t.length&&r<n;r++)this.writeUint16(t.charCodeAt(r),e);for(;r<n;r++)this.writeUint16(0)},DataStream.prototype.readString=function(t,e){return null==e||"ASCII"==e?DataStream.createStringFromArray(this.mapUint8Array(null==t?this.byteLength-this.position:t)):new TextDecoder(e).decode(this.mapUint8Array(t))},DataStream.prototype.writeString=function(t,e,n){if(null==e||"ASCII"==e)if(null!=n){var r=0,o=Math.min(t.length,n);for(r=0;r<o;r++)this.writeUint8(t.charCodeAt(r));for(;r<n;r++)this.writeUint8(0)}else for(var r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));else this.writeUint8Array(new TextEncoder(e).encode(t.substring(0,n)))},DataStream.prototype.readCString=function(t){var e=this.byteLength-this.position,n=new Uint8Array(this._buffer,this._byteOffset+this.position),r=e;null!=t&&(r=Math.min(t,e));for(var o=0;o<r&&0!=n[o];o++);var i=DataStream.createStringFromArray(this.mapUint8Array(o));return null!=t?this.position+=r-o:o!=e&&(this.position+=1),i},DataStream.prototype.writeCString=function(t,e){if(null!=e){var n=0,r=Math.min(t.length,e);for(n=0;n<r;n++)this.writeUint8(t.charCodeAt(n));for(;n<e;n++)this.writeUint8(0)}else{for(var n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));this.writeUint8(0)}},DataStream.prototype.readType=function(t,e){if("function"==typeof t)return t(this,e);if(!("object"!=typeof t||t instanceof Array))return t.get(this,e);if(t instanceof Array&&3!=t.length)return this.readStruct(t,e);var n,r=null,o=null,i="ASCII",a=this.position;if("string"==typeof t&&/:/.test(t)){var s=t.split(":");t=s[0],n=s[1],o=null!=e[n]?parseInt(e[n]):parseInt(s[1])}if("string"==typeof t&&/,/.test(t)){var s=t.split(",");t=s[0],i=parseInt(s[1])}switch(t){case"uint8":r=this.readUint8();break;case"int8":r=this.readInt8();break;case"uint16":r=this.readUint16(this.endianness);break;case"int16":r=this.readInt16(this.endianness);break;case"uint32":r=this.readUint32(this.endianness);break;case"int32":r=this.readInt32(this.endianness);break;case"float32":r=this.readFloat32(this.endianness);break;case"float64":r=this.readFloat64(this.endianness);break;case"uint16be":r=this.readUint16(DataStream.BIG_ENDIAN);break;case"int16be":r=this.readInt16(DataStream.BIG_ENDIAN);break;case"uint32be":r=this.readUint32(DataStream.BIG_ENDIAN);break;case"int32be":r=this.readInt32(DataStream.BIG_ENDIAN);break;case"float32be":r=this.readFloat32(DataStream.BIG_ENDIAN);break;case"float64be":r=this.readFloat64(DataStream.BIG_ENDIAN);break;case"uint16le":r=this.readUint16(DataStream.LITTLE_ENDIAN);break;case"int16le":r=this.readInt16(DataStream.LITTLE_ENDIAN);break;case"uint32le":r=this.readUint32(DataStream.LITTLE_ENDIAN);break;case"int32le":r=this.readInt32(DataStream.LITTLE_ENDIAN);break;case"float32le":r=this.readFloat32(DataStream.LITTLE_ENDIAN);break;case"float64le":r=this.readFloat64(DataStream.LITTLE_ENDIAN);break;case"cstring":r=this.readCString(o);break;case"string":r=this.readString(o,i);break;case"u16string":r=this.readUCS2String(o,this.endianness);break;case"u16stringle":r=this.readUCS2String(o,DataStream.LITTLE_ENDIAN);break;case"u16stringbe":r=this.readUCS2String(o,DataStream.BIG_ENDIAN);break;default:if(3==t.length){var l=t[1],n=t[2],u=0;if(u="function"==typeof n?n(e,this,t):"string"==typeof n&&null!=e[n]?parseInt(e[n]):parseInt(n),"string"==typeof l){var c=l.replace(/(le|be)$/,""),f=null;switch(/le$/.test(l)?f=DataStream.LITTLE_ENDIAN:/be$/.test(l)&&(f=DataStream.BIG_ENDIAN),"*"==n&&(u=null),c){case"uint8":r=this.readUint8Array(u);break;case"uint16":r=this.readUint16Array(u,f);break;case"uint32":r=this.readUint32Array(u,f);break;case"int8":r=this.readInt8Array(u);break;case"int16":r=this.readInt16Array(u,f);break;case"int32":r=this.readInt32Array(u,f);break;case"float32":r=this.readFloat32Array(u,f);break;case"float64":r=this.readFloat64Array(u,f);break;case"cstring":case"utf16string":case"string":if(null==u)for(r=[];!this.isEof();){var p=this.readType(l,e);if(null==p)break;r.push(p)}else{r=new Array(u);for(var h=0;h<u;h++)r[h]=this.readType(l,e)}}}else if("*"==n)for(r=[],this.buffer;;){var d=this.position;try{var m=this.readType(l,e);if(null==m){this.position=d;break}r.push(m)}catch(y){this.position=d;break}}else{r=new Array(u);for(var h=0;h<u;h++){var p=this.readType(l,e);if(null==p)return null;r[h]=p}}break}}return null!=o&&(this.position=a+o),r},DataStream.prototype.writeStruct=function(t,e){for(var n=0;n<t.length;n+=2){var r=t[n+1];this.writeType(r,e[t[n]],e)}},DataStream.prototype.writeType=function(t,e,n){if("function"==typeof t)return t(this,e);if("object"==typeof t&&!(t instanceof Array))return t.set(this,e,n);var r=null,o="ASCII",i=this.position;if("string"==typeof t&&/:/.test(t)){var a=t.split(":");t=a[0],r=parseInt(a[1])}if("string"==typeof t&&/,/.test(t)){var a=t.split(",");t=a[0],o=parseInt(a[1])}switch(t){case"uint8":this.writeUint8(e);break;case"int8":this.writeInt8(e);break;case"uint16":this.writeUint16(e,this.endianness);break;case"int16":this.writeInt16(e,this.endianness);break;case"uint32":this.writeUint32(e,this.endianness);break;case"int32":this.writeInt32(e,this.endianness);break;case"float32":this.writeFloat32(e,this.endianness);break;case"float64":this.writeFloat64(e,this.endianness);break;case"uint16be":this.writeUint16(e,DataStream.BIG_ENDIAN);break;case"int16be":this.writeInt16(e,DataStream.BIG_ENDIAN);break;case"uint32be":this.writeUint32(e,DataStream.BIG_ENDIAN);break;case"int32be":this.writeInt32(e,DataStream.BIG_ENDIAN);break;case"float32be":this.writeFloat32(e,DataStream.BIG_ENDIAN);break;case"float64be":this.writeFloat64(e,DataStream.BIG_ENDIAN);break;case"uint16le":this.writeUint16(e,DataStream.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(e,DataStream.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(e,DataStream.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(e,DataStream.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(e,DataStream.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(e,DataStream.LITTLE_ENDIAN);break;case"cstring":this.writeCString(e,r);break;case"string":this.writeString(e,o,r);break;case"u16string":this.writeUCS2String(e,this.endianness,r);break;case"u16stringle":this.writeUCS2String(e,DataStream.LITTLE_ENDIAN,r);break;case"u16stringbe":this.writeUCS2String(e,DataStream.BIG_ENDIAN,r);break;default:if(3==t.length){for(var s=t[1],l=0;l<e.length;l++)this.writeType(s,e[l]);break}this.writeStruct(t,e)}null!=r&&(this.position=i,this._realloc(r),this.position=i+r)},r=[],o=function(){return DataStream}.apply(e,r),!(void 0!==o&&(t.exports=o)),"object"==typeof t&&t&&t.exports&&(t.exports=DataStream)}).call(e,n(720)(t))},function(t,e,n){var r,o=function(){function t(t,e){if(!o[t]){o[t]={};for(var n=0;n<t.length;n++)o[t][t.charAt(n)]=n}return o[t][e]}var e=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789~/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789~-$",o={},i={compressToBase64:function(t){if(null==t)return"";var e=i._compress(t,6,function(t){return n.charAt(t)});switch(e.length%4){default:case 0:return e;case 1:return e+"===";case 2:return e+"==";case 3:return e+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:i._decompress(e.length,32,function(r){return t(n,e.charAt(r))})},compressToUTF16:function(t){return null==t?"":i._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:i._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(t){for(var e=i.compress(t),n=new Uint8Array(2*e.length),r=0,o=e.length;r<o;r++){var a=e.charCodeAt(r);n[2*r]=a>>>8,n[2*r+1]=a%256}return n},decompressFromUint8Array:function(t){if(null===t||void 0===t)return i.decompress(t);for(var n=new Array(t.length/2),r=0,o=n.length;r<o;r++)n[r]=256*t[2*r]+t[2*r+1];var a=[];return n.forEach(function(t){a.push(e(t))}),i.decompress(a.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":i._compress(t,6,function(t){return r.charAt(t)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),i._decompress(e.length,32,function(n){return t(r,e.charAt(n))}))},compress:function(t){return i._compress(t,16,function(t){return e(t)})},_compress:function(t,e,n){if(null==t)return"";var r,o,i,a={},s={},l="",u="",c="",f=2,p=3,h=2,d=[],m=0,y=0;for(i=0;i<t.length;i+=1)if(l=t.charAt(i),Object.prototype.hasOwnProperty.call(a,l)||(a[l]=p++,s[l]=!0),u=c+l,Object.prototype.hasOwnProperty.call(a,u))c=u;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<h;r++)m<<=1,y==e-1?(y=0,d.push(n(m)),m=0):y++;for(o=c.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&o,y==e-1?(y=0,d.push(n(m)),m=0):y++,o>>=1}else{for(o=1,r=0;r<h;r++)m=m<<1|o,y==e-1?(y=0,d.push(n(m)),m=0):y++,o=0;for(o=c.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&o,y==e-1?(y=0,d.push(n(m)),m=0):y++,o>>=1}f--,0==f&&(f=Math.pow(2,h),h++),delete s[c]}else for(o=a[c],r=0;r<h;r++)m=m<<1|1&o,y==e-1?(y=0,d.push(n(m)),m=0):y++,o>>=1;f--,0==f&&(f=Math.pow(2,h),h++),a[u]=p++,c=String(l)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<h;r++)m<<=1,y==e-1?(y=0,d.push(n(m)),m=0):y++;for(o=c.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&o,y==e-1?(y=0,d.push(n(m)),m=0):y++,o>>=1}else{for(o=1,r=0;r<h;r++)m=m<<1|o,y==e-1?(y=0,d.push(n(m)),m=0):y++,o=0;for(o=c.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&o,y==e-1?(y=0,d.push(n(m)),m=0):y++,o>>=1}f--,0==f&&(f=Math.pow(2,h),h++),delete s[c]}else for(o=a[c],r=0;r<h;r++)m=m<<1|1&o,y==e-1?(y=0,d.push(n(m)),m=0):y++,o>>=1;f--,0==f&&(f=Math.pow(2,h),h++)}for(o=2,r=0;r<h;r++)m=m<<1|1&o,y==e-1?(y=0,d.push(n(m)),m=0):y++,o>>=1;for(;;){if(m<<=1,y==e-1){d.push(n(m));break}y++}return d.join("")},decompress:function(t){return null==t?"":""==t?null:i._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(t,n,r){var o,i,a,s,l,u,c,f,p=[],h=4,d=4,m=3,y="",v=[],g={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)p[i]=i;for(s=0,u=Math.pow(2,2),c=1;c!=u;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),s|=(l>0?1:0)*c,c<<=1;switch(o=s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),s|=(l>0?1:0)*c,c<<=1;f=e(s);break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),s|=(l>0?1:0)*c,c<<=1;f=e(s);break;case 2:return""}for(p[3]=f,a=f,v.push(f);;){if(g.index>t)return"";for(s=0,u=Math.pow(2,m),c=1;c!=u;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),s|=(l>0?1:0)*c,c<<=1;switch(f=s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),s|=(l>0?1:0)*c,c<<=1;p[d++]=e(s),f=d-1,h--;break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),s|=(l>0?1:0)*c,c<<=1;p[d++]=e(s),f=d-1,h--;break;case 2:return v.join("")}if(0==h&&(h=Math.pow(2,m),m++),p[f])y=p[f];else{if(f!==d)return null;y=a+a.charAt(0)}v.push(y),p[d++]=a+y.charAt(0),h--,a=y,0==h&&(h=Math.pow(2,m),m++)}}};return i}();r=function(){return o}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e){"use strict";var n={assertRequired:function(t,e){e.forEach(function(e){if(!(e in t)||void 0===t[e])throw Error(e+" is a required arg")})}};t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(941),i=r(o),a=n(768),s=r(a),l={};l.DataTypes=["String","Float","Integer","MultiChoiceInt"],l.TableColInfo=function(t,e,n,r){var o={};return o.ID=t,o.name=e,o.datatype=n,o.choicelist=r,o.content2Display=function(t){return t.toString()},o.display2Content=function(t){return t},o.isNumerical=function(){return"Float"==this.datatype||"Integer"==this.datatype},o.isMultipleCoice=function(){return"MultiChoiceInt"==this.datatype||this.choicelist&&this.choicelist.length>0},o},l.WhereClause={},l.WhereClause.whcClassGenerator={},l.WhereClause._fieldComparisonOperators=[{ID:"=",name:"=",String:!0,Float:!0,Integer:!0,MultiChoiceInt:!0,Create:function(){return l.WhereClause.CompareFixed("","=","")},fieldType:"value"},{ID:"<>",name:"not =",String:!0,Float:!0,Integer:!0,MultiChoiceInt:!0,Create:function(){return l.WhereClause.CompareFixed("","<>","")},fieldType:"value"},{ID:"<",name:"<",Float:!0,Integer:!0,Create:function(){return l.WhereClause.CompareFixed("","<","")},fieldType:"value"},{ID:">",name:">",Float:!0,Integer:!0,Create:function(){return l.WhereClause.CompareFixed("",">","")},fieldType:"value"},{ID:"<=",name:"<=",Float:!0,Integer:!0,Create:function(){return l.WhereClause.CompareFixed("","<=","")},fieldType:"value"},{ID:">=",name:">=",Float:!0,Integer:!0,Create:function(){return l.WhereClause.CompareFixed("",">=","")},fieldType:"value"},{ID:"between",name:"Between",Float:!0,Integer:!0,Create:function(){return l.WhereClause.CompareBetween("","","")},fieldType:"minMax"},{ID:"CONTAINS",name:"Contains",String:!0,Create:function(){return l.WhereClause.CompareFixed("","CONTAINS","")},fieldType:"value"},{ID:"NOTCONTAINS",name:"Does not contain",String:!0,Create:function(){return l.WhereClause.CompareFixed("","NOTCONTAINS","")},fieldType:"value"},{ID:"STARTSWITH",name:"Starts with",String:!0,Create:function(){return l.WhereClause.CompareFixed("","STARTSWITH","")},fieldType:"value"},{ID:"LIKE",name:"Like",String:!0,Create:function(){return l.WhereClause.CompareFixed("","LIKE","")},fieldType:"value"},{ID:"ISPRESENT",name:"Is present",MultiChoiceInt:!0,Float:!0,Integer:!0,Create:function(){return l.WhereClause.IsPresent()},fieldType:"none"},{ID:"ISABSENT",name:"Is absent",MultiChoiceInt:!0,Float:!0,Integer:!0,Create:function(){return l.WhereClause.IsAbsent()},fieldType:"none"},{ID:"ISNOTEMPTYSTR",name:"Is present",String:!0,Create:function(){return l.WhereClause.IsNotEmptyStr()},fieldType:"none"},{ID:"ISEMPTYSTR",name:"Is absent",String:!0,Create:function(){return l.WhereClause.IsEmptyStr()},fieldType:"none"},{ID:"=FIELD",name:"Equals column",MultiChoiceInt:!0,String:!0,Float:!0,Integer:!0,Create:function(){return l.WhereClause.EqualsField()},fieldType:"otherColumn"},{ID:"<>FIELD",name:"Differs from column",MultiChoiceInt:!0,String:!0,Float:!0,Integer:!0,Create:function(){return l.WhereClause.DiffersField()},fieldType:"otherColumn"},{ID:"<FIELD",name:"< Column",Float:!0,Integer:!0,Create:function(){return l.WhereClause.CompareField("<FIELD")},fieldType:"otherColumnWithScaleAndOffset"},{ID:">FIELD",name:"> Column",Float:!0,Integer:!0,Create:function(){return l.WhereClause.CompareField(">FIELD")},fieldType:"otherColumnWithScaleAndOffset"},{ID:"_subset_",name:"in subset",Create:function(){return l.WhereClause.InSubset()},fieldType:"subset"},{ID:"_note_",name:"has note containing",Create:function(){return l.WhereClause.NoteContains()},fieldType:"note"}],l.WhereClause.getFieldComparisonOperatorInfo=function(t){for(var e in l.WhereClause._fieldComparisonOperators){var n=l.WhereClause._fieldComparisonOperators[e];if(n.ID==t)return n}throw Error("Invalid field comparison operator id "+t)},l.WhereClause.getCompatibleFieldComparisonOperators=function(t){var e=[];for(var n in l.WhereClause._fieldComparisonOperators){var r=l.WhereClause._fieldComparisonOperators[n];r[t]&&e.push(r)}return e},l.WhereClause.whcClassGenerator.comparefixed=function(t){return l.WhereClause.CompareFixed(t.ColName,t.type,t.CompValue)},l.WhereClause.CompareFixed=function(t,e,n){for(var r={},o=!1,i=0;i<l.WhereClause._fieldComparisonOperators.length;i++)l.WhereClause._fieldComparisonOperators[i].ID==e&&(o=!0);if(!o)throw Error("Invalid comparison where clause statement: "+e);return r.whcClass="comparefixed",r.isCompound=!1,r.ColName=t,r.type=e,r.CompValue=n,r.toQueryDisplayString=function(t){var e=t.fieldInfoMap[r.ColName].toDisplayString(r.CompValue);return""===e&&(e='""'),t.fieldInfoMap[r.ColName].name+" "+r.type+" "+e},r},l.WhereClause.whcClassGenerator.between=function(t){return l.WhereClause.CompareBetween(t.ColName,t.CompValueMin,t.CompValueMax)},l.WhereClause.CompareBetween=function(t,e,n){var r={};return r.whcClass="between",r.isCompound=!1,r.ColName=t,r.CompValueMin=e,r.CompValueMax=n,r.type="between",r.toQueryDisplayString=function(t,e){return t.fieldInfoMap[r.ColName].name+" between "+t.fieldInfoMap[r.ColName].toDisplayString(r.CompValueMin)+" and "+t.fieldInfoMap[r.ColName].toDisplayString(r.CompValueMax)},r},l.WhereClause.whcClassGenerator.equalsfield=function(t){var e=l.WhereClause.EqualsField();return e.ColName=t.ColName,e.ColName2=t.ColName2,e},l.WhereClause.EqualsField=function(){var t={};return t.whcClass="equalsfield",t.isCompound=!1,t.ColName="",t.ColName2="",t.type="=FIELD",t.toQueryDisplayString=function(e,n){return e.fieldInfoMap[t.ColName].name+" = "+e.fieldInfoMap[t.ColName2].name},t},l.WhereClause.whcClassGenerator.differsfield=function(t){var e=l.WhereClause.DiffersField();return e.ColName=t.ColName,e.ColName2=t.ColName2,e},l.WhereClause.DiffersField=function(){var t={};return t.whcClass="differsfield",t.isCompound=!1,t.ColName="",t.ColName2="",t.type="<>FIELD",t.toQueryDisplayString=function(e,n){return e.fieldInfoMap[t.ColName].name+" <> "+e.fieldInfoMap[t.ColName2].name},t},l.WhereClause.whcClassGenerator.comparefield=function(t){var e=l.WhereClause.CompareField(t.type);return e.ColName=t.ColName,e.ColName2=t.ColName2,e.Factor=t.Factor,e.Offset=t.Offset,e},l.WhereClause.CompareField=function(t){var e={};return e.whcClass="comparefield",e.isCompound=!1,e.ColName="",e.ColName2="",e.type=t,e.Factor=1,e.Offset=0,e.toQueryDisplayString=function(t,n){var r=t.fieldInfoMap[e.ColName].name+" "+e.type[0]+" ";if(Math.abs(e.Factor-1)>1e-9){var o=void 0;if(0==e.Factor)o="0";else{var i=parseFloat(e.Factor),a=Math.max(0,Math.round(4-Math.log(Math.abs(i))/Math.LN10));
o=i.toFixed(a)}r+=o+"x"}r+=t.fieldInfoMap[e.ColName2].name;var s=t.fieldInfoMap[e.ColName].toDisplayString(Math.abs(e.Offset));return e.Offset>0&&(r+="+"+s),e.Offset<0&&(r+="-"+s),r},e},l.WhereClause.whcClassGenerator.ispresent=function(t){var e=l.WhereClause.IsPresent();return e.ColName=t.ColName,e},l.WhereClause.IsPresent=function(){var t={};return t.whcClass="ispresent",t.isCompound=!1,t.type="ISPRESENT",t.toQueryDisplayString=function(e,n){return e.fieldInfoMap[t.ColName].name+" is present"},t},l.WhereClause.whcClassGenerator.isabsent=function(t){var e=l.WhereClause.IsAbsent();return e.ColName=t.ColName,e},l.WhereClause.IsAbsent=function(){var t={};return t.whcClass="isabsent",t.isCompound=!1,t.type="ISABSENT",t.toQueryDisplayString=function(e,n){return e.fieldInfoMap[t.ColName].name+" is absent"},t},l.WhereClause.whcClassGenerator.isstringnonempty=function(t){var e=l.WhereClause.IsNotEmptyStr();return e.ColName=t.ColName,e},l.WhereClause.IsNotEmptyStr=function(){var t={};return t.whcClass="isstringnonempty",t.isCompound=!1,t.type="ISNOTEMPTYSTR",t.toQueryDisplayString=function(e,n){return e.fieldInfoMap[t.ColName].name+" is present"},t},l.WhereClause.whcClassGenerator.isstringempty=function(t){var e=l.WhereClause.IsEmptyStr();return e.ColName=t.ColName,e},l.WhereClause.IsEmptyStr=function(){var t={};return t.whcClass="isstringempty",t.isCompound=!1,t.type="ISEMPTYSTR",t.toQueryDisplayString=function(e,n){return e.fieldInfoMap[t.ColName].name+" is absent"},t},l.WhereClause.whcClassGenerator._subset_=function(t){var e=l.WhereClause.InSubset();return e.Subset=t.Subset,e.SubsetTable=t.SubsetTable,e.PrimKey=t.PrimKey,e},l.WhereClause.InSubset=function(){var t={};return t.whcClass="_subset_",t.isCompound=!1,t.type="_subset_",t.ColName="_subset_",t.toQueryDisplayString=function(t,e){var n="[Unknown]";return t.subsetMap[this.Subset]&&(n=t.subsetMap[this.Subset].name),'in subset "'+n+'"'},t},l.WhereClause.whcClassGenerator._note_=function(t){var e=l.WhereClause.NoteContains();return e.NoteText=t.NoteText,e.PrimKey=t.PrimKey,e.NoteItemTable=t.NoteItemTable,e},l.WhereClause.NoteContains=function(){var t={};return t.whcClass="_note_",t.isCompound=!1,t.type="_note_",t.ColName="_note_",t.NoteText="",t.toQueryDisplayString=function(t,e){return'has note containing "'+this.NoteText+'"'},t},l.WhereClause.whcClassGenerator.trivial=function(t){return l.WhereClause.Trivial()},l.WhereClause.Trivial=function(){var t={};return t.whcClass="trivial",t.isCompound=!1,t.type="",t.isTrivial=!0,t.toQueryDisplayString=function(t,e){return"All"},t},l.WhereClause.whcClassGenerator.none=function(t){return l.WhereClause.None()},l.WhereClause.None=function(){var t={};return t.whcClass="none",t.isCompound=!1,t.type="None",t.isNone=!0,t.toQueryDisplayString=function(t,e){return"None"},t},l.WhereClause.whcClassGenerator.compound=function(t){var e=l.WhereClause.Compound(t.type,[]);return t.components.forEach(function(t,n){return e.addComponent(l.WhereClause.whcClassGenerator[t.whcClass](t))}),e},l.WhereClause.Compound=function(t,e){if("AND"!=t&&"OR"!=t)throw Error("Invalid compound where clause statement: "+t);var n={};return n.whcClass="compound",n.isCompound=!0,n.type=t,n.components=(0,s["default"])(e,function(t){return!t.isTrivial}),null==n.components&&(n.components=[]),n.addComponent=function(t){t.parent=n,this.components.push(t)},n.getComponentCount=function(){return this.components.length},n.inlineIfOneChild=function(){if(1===n.getComponentCount()){var t=n.parent,e=n.isRoot;Object.assign(n,n.components[0]),n.parent=t,n.isRoot=e}},n.removeChild=function(t){n.components=n.components.filter(function(e){return e!==t}),n.inlineIfOneChild()},n.toQueryDisplayString=function(t,e){e||(e=0);var r=[];n.components.forEach(function(n,o){return r.push(n.toQueryDisplayString(t,e+1))});var o=" "+n.type+" ",i=r.join(o);return 1==e&&(i="["+i+"]"),e>1&&(i="("+i+")"),i},n},l.WhereClause.AND=function(t){return l.WhereClause.Compound("AND",t)},l.WhereClause.OR=function(t){return l.WhereClause.Compound("OR",t)},l.WhereClause.encode=function(t){function e(t){delete t.parent,t.Components=void 0===t.components?t.Components:t.components,t.Tpe=void 0===t.type?t.Tpe:t.type,t.components&&t.components.forEach(e),delete t.components,delete t.type}t=(0,i["default"])(t),e(t);var n=JSON.stringify(t);return n},l.WhereClause.decode=function(t){function e(t,n){n.components=void 0===n.Components?n.components:n.Components,n.type=void 0===n.Tpe?n.type:n.Tpe,delete n.Tpe,delete n.Components,n.components&&n.components.forEach(e.bind(this,n))}function n(t,e){e.parent=t,e.components&&e.components.forEach(n.bind(this,e))}function r(t,e){e.isCompound&&e.inlineIfOneChild(),e.components&&e.components.forEach(r.bind(this,e))}try{t=JSON.parse(t)}catch(o){return console.error("Bad query - can't parse. Using null query"),l.WhereClause.Trivial()}e(null,t);var i=l.WhereClause.whcClassGenerator[t.whcClass](t);return n(null,i),r(null,i),i.isRoot=!0,i},l.WhereClause.clone=function(t){return l.WhereClause.decode(l.WhereClause.encode(t))},l.WhereClause.createRestriction=function(t,e){var n=l.WhereClause.clone(t);return n.isTrivial?e:n.isCompound&&"AND"==n.type?(n.addComponent(e),n):l.WhereClause.AND([n,e])},l.WhereClause.createValueRestriction=function(t,e,n,r){r||(r="=");var o=l.WhereClause.clone(t),i=l.WhereClause.CompareFixed(e,r,n.toString());if(o.isTrivial)return i;var a=null;return o.type==r&&o.ColName==e&&(a=o),o.isCompound&&"AND"==o.type&&o.components.forEach(function(t,n){t.type==r&&t.ColName==e&&(a=t)}),a?(a.CompValue=n,o):o.isCompound&&"AND"==o.type?(o.addComponent(i),o):l.WhereClause.AND([o,i])},l.WhereClause.createRangeRestriction=function(t,e,n,r,o){var i=l.WhereClause.clone(t),a=l.WhereClause.CompareBetween(e,n.toString(),r.toString());if(i.isTrivial)return a;var s=null;return"between"==i.type&&i.ColName==e&&(s=i),i.isCompound&&"AND"==i.type&&i.components.forEach(function(t,n){"between"==t.type&&t.ColName==e&&(s=t)}),s?(o?(s.CompValueMin=n.toString(),s.CompValueMax=r.toString()):(s.CompValueMin=Math.max(parseFloat(s.CompValueMin),parseFloat(n)).toString(),s.CompValueMax=Math.min(parseFloat(s.CompValueMax),parseFloat(r)).toString()),i):i.isCompound&&"AND"==i.type?(i.addComponent(a),i):l.WhereClause.AND([i,a])},l.TableSort=function(t){var e={};return e.columnList=t,e.getPrimaryColumnID=function(){return this.columnList[this.columnList.length-1]},e.toString=function(){return this.columnList.join("~")},e},l.nullQuery=l.WhereClause.encode(l.WhereClause.Trivial()),t.exports=l},function(t,e,n){function r(t){return o(t,!0,!0)}var o=n(829);t.exports=r},function(t,e){"use strict";function n(t){if("number"!=typeof t)throw Error("Expected number got"+("undefined"==typeof t?"undefined":r(t)))}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o={};o.B64=function(){var t={};t.encodestr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-",t.invencode=[];for(var e=0;e<255;e++)t.invencode.push(0);for(var n=0;n<t.encodestr.length;n++)t.invencode[t.encodestr[n].charCodeAt(0)]=n;return t.B642Int=function(t){for(var e=0,n=0;n<t.length;n++)e=(e<<6)+this.invencode[t.charCodeAt(n)];return e},t.B642IntFixed=function(t,e,n){if("~"==t[e])return null;for(var r=0,o=0;o<n;o++)r=(r<<6)+this.invencode[t.charCodeAt(e+o)];return r},t.arrayB642Float=function(t,e,n,r){for(var o=[],i=t.length/e,a=0,s=0;s<i;s++)if("~"==t[a]||"#"==t[a])o.push(null),a+=e;else{for(var l=0,u=0;u<e;u++)l=(l<<6)+this.invencode[t.charCodeAt(a)],a++;o.push(l*n+r)}return o},t},o.ValueListDecoder=function(){var t={};return t.b64codec=o.B64(),t.doDecode=function(t){if("IntegerDiffB64"==t.Encoding){if(0==t.Data.length)return[];for(var e=[],n=t.Offset,r=t.Data.split(","),o=0;o<r.length;o++)n+=this.b64codec.B642Int(r[o]),e.push(n);return e}if("IntegerB64"==t.Encoding){if(0==t.Data.length)return[];for(var i=[],a=t.Data.split(","),s=0;s<a.length;s++)i.push(this.b64codec.B642Int(a[s]));return i}if("FloatAsIntB64"==t.Encoding){if(0==t.Data.length)return[];var l=t.Offset,u=t.Slope,c=t.ByteCount,f=t.Data,p=this.b64codec.arrayB642Float(f,c,u,l);return p}if("FloatAsH"==t.Encoding){if(0==t.Data.length)return[];for(var h=[],d=t.Data.split(","),m=0;m<d.length;m++)"~"!=d[m]?h.push(parseFloat(d[m])):h.push(null);return h}if("Integer"==t.Encoding){if(0==t.Data.length)return[];for(var y=[],v=t.Data.split(","),g=0;g<v.length;g++)y.push(parseInt(v[g]));return y}if("String"==t.Encoding){if(0==t.Data.length)return[];var b=t.Data.split("~");return b}throw Error("Unknown value list encoding: "+t.Encoding)},t},o.Encoder={},o.Encoder.FixedString=function(t){var e={};return n(t.Len),e.length=parseFloat(t.Len),e.decodeArray=function(t){for(var e=[],n=t.length/this.length,r=0;r<n;r++)e.push(t.slice(r*this.length,(r+1)*this.length));return e},e.decodeSingle=function(t,e){return t.substring(e,e+this.length)},e.getRecordLength=function(){return this.length},e},o.Encoder.Boolean=function(){var t={};return t.decodeArray=function(t){for(var e=[],n=t.length,r=0;r<n;r++)e.push("1"==t[r]);return e},t.decodeSingle=function(t,e){return"1"==t[e]},t.getRecordLength=function(){return 1},t},o.Encoder.Int2B64=function(t){var e={};n(t.Len),e.length=parseFloat(t.Len);var r=o.B64();return e.decodeSingle=function(t,e){return r.B642IntFixed(t,e,this.length)},e.getRecordLength=function(){return this.length},e},o.Encoder.Float2B64=function(t){var e={};n(t.Len),n(t.Offset),n(t.Slope),e.offset=parseFloat(t.Offset),e.slope=parseFloat(t.Slope),e.length=parseFloat(t.Len);var r=o.B64();return e.decodeArray=function(t){return r.arrayB642Float(t,this.length,this.slope,this.offset)},e.decodeSingle=function(t,e){return r.B642IntFixed(t,e,this.length)*this.slope+this.offset},e.getRecordLength=function(){return this.length},e},o.Encoder.FloatList2B64=function(t){var e={};n(t.Count),n(t.RangeOffset),n(t.RangeSlope),e.rangeOffset=parseFloat(t.RangeOffset),e.rangeSlope=parseFloat(t.RangeSlope),e.count=parseInt(t.Count);var r=o.B64();return e.decodeArray=function(t){for(var n=t.length,o=e.count+4,i=[],a=0;a<n;a+=o){for(var s=r.B642IntFixed(t,a+0,2)*e.rangeSlope+e.rangeOffset,l=r.B642IntFixed(t,a+2,2)*e.rangeSlope+e.rangeOffset,u=[],c=0;c<this.count;c++)u.push(s+r.B642IntFixed(t,a+4+c,1)/63*(l-s));i.push(u)}return i},e.getRecordLength=function(){throw Error("Undefined record length")},e},o.Encoder.BooleanListB64=function(t){var e={};n(t.Count),e.rangeSlope=parseFloat(t.RangeSlope),e.valueCount=parseInt(t.Count),e.byteCount=Math.floor((e.valueCount+5)/6);var r=o.B64();return e.decodeArray=function(t){return"-"},e.decodeSingle=function(t,e){for(var n=r.B642IntFixed(t,e,this.byteCount),o=[],i=0;i<this.valueCount;i++)o.unshift(1&n),n>>=1;return o},e.getRecordLength=function(){return this.byteCount},e},o.Encoder.MultiCatCount=function(t){var e={};n(t.CatCount),n(t.EncoderLen),e.catCount=parseInt(t.CatCount),e.encoderlen=parseInt(t.EncoderLen);var r=o.B64();return e.decodeArray=function(t){for(var n=t.length,o=[],i=0;i<n;){for(var a=[],s=0;s<e.catCount;s++)a.push(r.B642IntFixed(t,i,e.encoderlen)),i+=e.encoderlen;o.push(a)}return o},e.decodeSingle=function(t,e){throw"Not implemented"},e.getRecordLength=function(){return this.byteCount},e},o.Encoder.Create=function(t){if("Int2B64"==t.ID)return o.Encoder.Int2B64(t);if("Float2B64"==t.ID)return o.Encoder.Float2B64(t);if("FloatList2B64"==t.ID)return o.Encoder.FloatList2B64(t);if("FixedString"==t.ID)return o.Encoder.FixedString(t);if("Boolean"==t.ID)return o.Encoder.Boolean(t);if("BooleanListB64"==t.ID)return o.Encoder.BooleanListB64(t);if("MultiCatCount"==t.ID)return o.Encoder.MultiCatCount(t);throw Error("Invalid encoder id "+t.ID)},t.exports=o},function(t,e){"use strict";var n={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",encode:function(t){var e="",r=void 0,o=void 0,i=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=0;for(t=n._utf8Encode(t);c<t.length;)r=t.charCodeAt(c++),o=t.charCodeAt(c++),i=t.charCodeAt(c++),a=r>>2,s=(3&r)<<4|o>>4,l=(15&o)<<2|i>>6,u=63&i,isNaN(o)?l=u=64:isNaN(i)&&(u=64),e=e+this._keyStr.charAt(a)+this._keyStr.charAt(s)+this._keyStr.charAt(l)+this._keyStr.charAt(u);return e},decode:function(t){for(var e="",r=void 0,o=void 0,i=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=0;c<t.length;)a=this._keyStr.indexOf(t.charAt(c++)),s=this._keyStr.indexOf(t.charAt(c++)),l=this._keyStr.indexOf(t.charAt(c++)),u=this._keyStr.indexOf(t.charAt(c++)),r=a<<2|s>>4,o=(15&s)<<4|l>>2,i=(3&l)<<6|u,e+=String.fromCharCode(r),64!=l&&(e+=String.fromCharCode(o)),64!=u&&(e+=String.fromCharCode(i));return e=n._utf8Decode(e)},_utf8Encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):r>127&&r<2048?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(63&r|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(63&r|128))}return e},_utf8Decode:function(t){var e="",n=0,r=void 0,o=void 0,i=void 0;for(r=o=0;n<t.length;)r=t.charCodeAt(n),r<128?(e+=String.fromCharCode(r),n++):r>191&&r<224?(o=t.charCodeAt(n+1),e+=String.fromCharCode((31&r)<<6|63&o),n+=2):(o=t.charCodeAt(n+1),i=t.charCodeAt(n+2),e+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&i),n+=3);return e}};t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(584),s=r(a),l=n(582),u=r(l),c=n(750),f=r(c),p=n(945),h=r(p),d=n(761),m=r(d),y=n(630),v=r(y),g=i["default"].createClass({displayName:"PopupButton",mixins:[s["default"],u["default"]],propTypes:{label:i["default"].PropTypes.string,icon:i["default"].PropTypes.string,children:i["default"].PropTypes.node},getDefaultProps:function(){return{label:"Untitled",icon:"circle"}},handleClick:function(t){var e=this.props.children,n=1==t.button||t.metaKey||t.ctrlKey;this.getFlux().actions.session.popupOpen((0,m["default"])(this,e),!n)},render:function(){var t=this.props,e=t.children,n=t.label,r=t.icon;if(e=(0,m["default"])(this,e),(0,v["default"])(e))throw Error("PopupButton can only have one child");if(!e)throw Error("PopupButton can only have one child not none");return i["default"].createElement(h["default"],{style:{margin:"7px",color:"white"},label:n,primary:!0,icon:r?i["default"].createElement(f["default"],{inverse:!0,name:r}):null,labelStyle:{textTransform:"inherit"},onClick:this.handleClick})}});e["default"]=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(946),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){}function u(t,e,n){var r=e.muiTheme,o=r.baseTheme,i=r.button,a=r.raisedButton,s=t.disabled,l=t.disabledBackgroundColor,u=t.disabledLabelColor,c=t.fullWidth,f=t.icon,p=t.label,h=t.labelPosition,d=t.primary,m=t.secondary,y=t.style,b=d||m?.4:.08,_=a.color,x=a.textColor;s?(_=l||a.disabledColor,x=u||a.disabledTextColor):d?(_=a.primaryColor,x=a.primaryTextColor):m?(_=a.secondaryColor,x=a.secondaryTextColor):(t.backgroundColor&&(_=t.backgroundColor),t.labelColor&&(x=t.labelColor));var w=y&&y.height||i.height,T=2;return{root:{display:"inline-block",transition:v["default"].easeOut(),minWidth:c?"100%":i.minWidth},button:{position:"relative",height:w,lineHeight:w+"px",width:"100%",padding:0,borderRadius:T,transition:v["default"].easeOut(),backgroundColor:_,textAlign:"center"},label:{position:"relative",opacity:1,fontSize:a.fontSize,letterSpacing:0,textTransform:a.textTransform||i.textTransform||"uppercase",fontWeight:a.fontWeight,margin:0,userSelect:"none",paddingLeft:f&&"before"!==h?8:o.spacing.desktopGutterLess,paddingRight:f&&"before"===h?8:o.spacing.desktopGutterLess,color:x},icon:{verticalAlign:"middle",marginLeft:p&&"before"!==h?12:0,marginRight:p&&"before"===h?12:0},overlay:{height:w,borderRadius:T,backgroundColor:(n.keyboardFocused||n.hovered)&&!s&&(0,g.fade)(x,b),transition:v["default"].easeOut(),top:0},ripple:{color:x,opacity:d||m?.16:.1}}}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=n(798),h=r(p),d=n(316),m=r(d),y=n(799),v=r(y),g=n(857),b=n(802),_=n(801),x=r(_),w=n(947),T=r(w),E=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={hovered:!1,keyboardFocused:!1,touched:!1,initialZDepth:0,zDepth:0},r.handleMouseDown=function(t){0===t.button&&r.setState({zDepth:r.state.initialZDepth+1}),r.props.onMouseDown&&r.props.onMouseDown(t)},r.handleMouseUp=function(t){r.setState({zDepth:r.state.initialZDepth}),r.props.onMouseUp&&r.props.onMouseUp(t)},r.handleMouseLeave=function(t){r.state.keyboardFocused||r.setState({zDepth:r.state.initialZDepth,hovered:!1}),r.props.onMouseLeave&&r.props.onMouseLeave(t)},r.handleMouseEnter=function(t){r.state.keyboardFocused||r.state.touched||r.setState({hovered:!0}),r.props.onMouseEnter&&r.props.onMouseEnter(t)},r.handleTouchStart=function(t){r.setState({touched:!0,zDepth:r.state.initialZDepth+1}),r.props.onTouchStart&&r.props.onTouchStart(t)},r.handleTouchEnd=function(t){r.setState({zDepth:r.state.initialZDepth}),r.props.onTouchEnd&&r.props.onTouchEnd(t)},r.handleKeyboardFocus=function(t,e){var n=e&&!r.props.disabled?r.state.initialZDepth+1:r.state.initialZDepth;r.setState({zDepth:n,keyboardFocused:e})},o=n,a(r,o)}return s(e,t),f(e,[{key:"componentWillMount",value:function(){var t=this.props.disabled?0:1;this.setState({zDepth:t,initialZDepth:t})}},{key:"componentWillReceiveProps",value:function(t){var e=t.disabled?0:1,n={zDepth:e,initialZDepth:e};t.disabled&&this.state.hovered&&(n.hovered=!1),this.setState(n)}},{key:"render",value:function(){var t=this.props,e=(t.backgroundColor,t.children),n=t.className,r=t.disabled,i=(t.fullWidth,t.icon),a=t.label,s=(t.labelColor,t.labelPosition),l=t.labelStyle,f=(t.primary,t.rippleStyle),p=(t.secondary,o(t,["backgroundColor","children","className","disabled","fullWidth","icon","label","labelColor","labelPosition","labelStyle","primary","rippleStyle","secondary"])),y=this.context.muiTheme.prepareStyles,v=u(this.props,this.context,this.state),g=(0,h["default"])({},v.ripple,f),_=r?{}:{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onKeyboardFocus:this.handleKeyboardFocus},w=a&&m["default"].createElement("span",{style:y((0,h["default"])(v.label,l))},a),E=i&&(0,d.cloneElement)(i,{color:i.props.color||v.label.color,style:(0,h["default"])(v.icon,i.props.style)}),C="before"===s?{labelElement:w,iconCloned:E,children:e}:{children:e,iconCloned:E,labelElement:w},k=(0,b.createChildFragment)(C);return m["default"].createElement(T["default"],{className:n,style:(0,h["default"])(v.root,this.props.style),zDepth:this.state.zDepth},m["default"].createElement(x["default"],c({},p,_,{ref:"container",disabled:r,style:v.button,focusRippleColor:g.color,touchRippleColor:g.color,focusRippleOpacity:g.opacity,touchRippleOpacity:g.opacity}),m["default"].createElement("div",{ref:"overlay",style:y(v.overlay)},k)))}}]),e}(d.Component);E.muiName="RaisedButton",E.propTypes={backgroundColor:d.PropTypes.string,children:d.PropTypes.node,className:d.PropTypes.string,disabled:d.PropTypes.bool,disabledBackgroundColor:d.PropTypes.string,disabledLabelColor:d.PropTypes.string,fullWidth:d.PropTypes.bool,href:d.PropTypes.string,icon:d.PropTypes.node,label:l,labelColor:d.PropTypes.string,labelPosition:d.PropTypes.oneOf(["before","after"]),labelStyle:d.PropTypes.object,onMouseDown:d.PropTypes.func,onMouseEnter:d.PropTypes.func,onMouseLeave:d.PropTypes.func,onMouseUp:d.PropTypes.func,onTouchEnd:d.PropTypes.func,onTouchStart:d.PropTypes.func,primary:d.PropTypes.bool,rippleStyle:d.PropTypes.object,secondary:d.PropTypes.bool,style:d.PropTypes.object},E.defaultProps={disabled:!1,labelPosition:"after",fullWidth:!1,primary:!1,secondary:!1},E.contextTypes={muiTheme:d.PropTypes.object.isRequired},e["default"]=E},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(948),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=t.rounded,r=t.circle,o=t.transitionEnabled,i=t.zDepth,a=e.muiTheme,s=a.baseTheme,l=a.paper;return{root:{color:l.color,backgroundColor:l.backgroundColor,transition:o&&g["default"].easeOut(),boxSizing:"border-box",fontFamily:s.fontFamily,WebkitTapHighlightColor:"rgba(0,0,0,0)",boxShadow:l.zDepthShadows[i-1],borderRadius:r?"50%":n?"2px":"0px"}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(800),y=r(m),v=n(799),g=r(v),b=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=(t.circle,t.rounded,t.style),r=(t.transitionEnabled,t.zDepth,o(t,["children","circle","rounded","style","transitionEnabled","zDepth"])),i=this.context.muiTheme.prepareStyles,a=l(this.props,this.context);return d["default"].createElement("div",u({},r,{style:i((0,p["default"])(a.root,n))}),e)}}]),e}(h.Component);b.propTypes={children:h.PropTypes.node,circle:h.PropTypes.bool,rounded:h.PropTypes.bool,style:h.PropTypes.object,transitionEnabled:h.PropTypes.bool,zDepth:y["default"].zDepth},b.defaultProps={circle:!1,rounded:!0,transitionEnabled:!0,zDepth:1},b.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(584),s=r(a),l=n(750),u=r(l),c=n(945),f=r(c),p=i["default"].createClass({displayName:"ExternalLinkButton",mixins:[s["default"]],propTypes:{label:i["default"].PropTypes.string,urls:i["default"].PropTypes.array},handleClick:function(t){this.props.urls.forEach(function(t){return window.open(t,"_blank")})},render:function(){var t=this.props.label;return i["default"].createElement(f["default"],{style:{margin:"7px",color:"white"},label:t,primary:!0,icon:i["default"].createElement(u["default"],{name:"external-link"}),labelStyle:{textTransform:"inherit"},onClick:this.handleClick})}});e["default"]=p},function(t,e){"use strict";function n(t,e,n){console.error(e);var r={title:"Error",level:"error",message:e,autoDismiss:0,action:{label:"Retry",callback:n}};n&&(r.action={label:"Retry",callback:n}),t.actions.session.notify(r)}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(316),s=r(a),l=n(574),u=r(l),c=n(584),f=r(c),p=n(952),h=r(p),d=n(721),m=r(d),y=n(768),v=r(y),g=n(582),b=r(g),_=n(583),x=r(_),w=n(954),T=r(w),E=n(955),C=r(E),k=n(957),S=r(k),P=n(750),M=r(P),A=n(958),O=r(A),D=n(996),L=r(D),I=n(1186),j=r(I),F=n(1200),R=r(F),N=n(1203),z=r(N),B=n(1204),U=r(B),W=n(1221),q=r(W),V=n(1103),H=r(V),G=n(971),Y=r(G),Z=s["default"].createClass({displayName:"GenomeBrowserWithActions",mixins:[f["default"],b["default"],x["default"]],propTypes:{setProps:s["default"].PropTypes.func,title:s["default"].PropTypes.string,sidebar:s["default"].PropTypes.bool,chromosome:s["default"].PropTypes.string,start:s["default"].PropTypes.number,end:s["default"].PropTypes.number},getDefaultProps:function(){return{sidebar:!0,chromosome:"",start:0,end:1e4}},channelGroups:function(){var t={};return(0,m["default"])(this.config.tables,function(e){e.hasGenomePositions&&!e.isHidden&&(t[e.id]={name:e.capNamePlural,icon:e.icon,items:[{name:e.capNamePlural,description:"Positions of "+e.capNamePlural,icon:"arrow-down",payload:(0,T["default"])(s["default"].createElement(L["default"],{table:e.id}))}]},(0,m["default"])(e.properties,function(n){n.showInBrowser&&(n.isCategorical||n.isBoolean)?t[e.id].items.push({name:n.name,description:n.description,icon:n.icon,payload:(0,T["default"])(s["default"].createElement(j["default"],{name:n.name,table:e.id,track:n.id}))}):n.showInBrowser&&n.isNumerical&&t[e.id].items.push({name:n.name,description:n.description,icon:n.icon,payload:(0,T["default"])(s["default"].createElement(z["default"],null,s["default"].createElement(R["default"],{name:n.name,table:e.id,track:n.id})))})}))}),this.config.twoDTables.length>0&&(t._twoD={name:"Genotypes",icon:"bitmap:genomebrowser.png",items:(0,h["default"])((0,v["default"])(this.config.twoDTables,"showInGenomeBrowser"),function(t){return{name:t.namePlural,description:t.description,icon:"table",payload:(0,T["default"])(s["default"].createElement(U["default"],{table:t.id}))}})}),(0,m["default"])(this.config.visibleTables,function(e){e.tableBasedSummaryValues.length>0&&(t["_per_"+e.id]={name:"Per "+e.capNameSingle,icon:e.icon,items:(0,h["default"])(e.tableBasedSummaryValuesById,function(t){return{name:t.name,description:"Description needs to be implemented",icon:"line-chart",payload:(0,T["default"])(s["default"].createElement(q["default"],{name:t.name,table:e.id,channel:t.id}))}})})}),u["default"].fromJS(t)},icon:function(){return"bitmap:genomebrowser.png"},title:function(){return this.props.title||"Genome Browser"},handleChannelAdd:function(t){this.getFlux().actions.session.modalClose(),this.props.setProps(function(e){return e.update("children",u["default"].List(),function(e){return e.concat(t)})})},render:function(){var t=this,e=this.getFlux().actions,n=this.props,r=n.sidebar,a=n.setProps,l=o(n,["sidebar","setProps"]),u=s["default"].createElement("div",{className:"sidebar"},s["default"].createElement(S["default"],{icon:this.icon(),description:"A browser for exploring the reference genome and per-sample data including coverage and mapping qualities."}),s["default"].createElement(H["default"],{label:"Add Channels",primary:!0,onClick:function(){return e.session.modalOpen("containers/ItemPicker.js",{title:"Pick channels to be added",itemName:"channel",itemVerb:"add",groups:t.channelGroups(),onPick:t.handleChannelAdd})}}));return s["default"].createElement(C["default"],{styles:{sidebar:{paddingRight:(0,Y["default"])()+"px"}},docked:r,sidebar:u},s["default"].createElement("div",{className:"vertical stack"},s["default"].createElement("div",{className:"top-bar"},s["default"].createElement(M["default"],{className:"pointer icon",name:r?"arrows-h":"bars",onClick:function(){return a({sidebar:!r})},title:r?"Expand":"Sidebar"})),s["default"].createElement(O["default"],i({setProps:a,sideWidth:150},l))))}});t.exports=Z},function(t,e,n){function r(t,e){var n=s(t)?o:a;return n(t,i(e,3))}var o=n(767),i=n(727),a=n(953),s=n(630);t.exports=r},function(t,e,n){function r(t,e){var n=-1,r=i(t)?Array(t.length):[];return o(t,function(t,o,i){r[++n]=e(t,o,i)}),r}var o=n(722),i=n(705);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t){if((0,g["default"])(t))throw Error("Attempted to serialise an array - need React component");if((0,d["default"])(t))return t;var e=(0,c["default"])(t.type);if("Component"==e)throw Error("Attempted to serialise a non React component");var n=t.props,r=n.children,s=o(n,["children"]),u={};return(0,p["default"])(s,function(t,n){(0,y["default"])(t)?console.warn("Can't serialise function prop "+n+" on "+e):u[n]=t}),r=l["default"].Children.map(r,i),{type:e,props:a({children:r},u)}}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e["default"]=i;var s=n(316),l=r(s),u=n(762),c=r(u),f=n(952),p=r(f),h=n(764),d=r(h),m=n(602),y=r(m),v=n(630),g=r(v)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(956),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(316),f=r(c),p=n(345),h=r(p),d=20,m={
root:{position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"hidden"},sidebar:{zIndex:2,position:"absolute",top:0,bottom:0,transition:"transform .3s ease-out",WebkitTransition:"-webkit-transform .3s ease-out",willChange:"transform",overflowY:"auto"},content:{position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"auto",transition:"left .3s ease-out, right .3s ease-out"},overlay:{zIndex:1,position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0,visibility:"hidden",transition:"opacity .3s ease-out",backgroundColor:"rgba(0,0,0,.3)"},dragHandle:{zIndex:1,position:"fixed",top:0,bottom:0}},y=function(t){function e(t){o(this,e);var n=i(this,Object.getPrototypeOf(e).call(this,t));return n.state={sidebarWidth:0,touchIdentifier:null,touchStartX:null,touchStartY:null,touchCurrentX:null,touchCurrentY:null,dragSupported:!1},n.overlayClicked=n.overlayClicked.bind(n),n.onTouchStart=n.onTouchStart.bind(n),n.onTouchMove=n.onTouchMove.bind(n),n.onTouchEnd=n.onTouchEnd.bind(n),n.onScroll=n.onScroll.bind(n),n}return a(e,t),u(e,[{key:"componentDidMount",value:function(){this.setState({dragSupported:"object"===("undefined"==typeof window?"undefined":l(window))&&"ontouchstart"in window}),this.saveSidebarWidth()}},{key:"componentDidUpdate",value:function(){this.isTouching()||this.saveSidebarWidth()}},{key:"onTouchStart",value:function(t){if(!this.isTouching()){var e=t.targetTouches[0];this.setState({touchIdentifier:e.identifier,touchStartX:e.clientX,touchStartY:e.clientY,touchCurrentX:e.clientX,touchCurrentY:e.clientY})}}},{key:"onTouchMove",value:function(t){if(this.isTouching())for(var e=0;e<t.targetTouches.length;e++)if(t.targetTouches[e].identifier===this.state.touchIdentifier){this.setState({touchCurrentX:t.targetTouches[e].clientX,touchCurrentY:t.targetTouches[e].clientY});break}}},{key:"onTouchEnd",value:function(){if(this.isTouching()){var t=this.touchSidebarWidth();(this.props.open&&t<this.state.sidebarWidth-this.props.dragToggleDistance||!this.props.open&&t>this.props.dragToggleDistance)&&this.props.onSetOpen(!this.props.open),this.setState({touchIdentifier:null,touchStartX:null,touchStartY:null,touchCurrentX:null,touchCurrentY:null})}}},{key:"onScroll",value:function(){this.isTouching()&&this.inCancelDistanceOnScroll()&&this.setState({touchIdentifier:null,touchStartX:null,touchStartY:null,touchCurrentX:null,touchCurrentY:null})}},{key:"inCancelDistanceOnScroll",value:function(){var t=void 0;return t=this.props.pullRight?Math.abs(this.state.touchCurrentX-this.state.touchStartX)<d:Math.abs(this.state.touchStartX-this.state.touchCurrentX)<d}},{key:"isTouching",value:function(){return null!==this.state.touchIdentifier}},{key:"overlayClicked",value:function(){this.props.open&&this.props.onSetOpen(!1)}},{key:"saveSidebarWidth",value:function(){var t=h["default"].findDOMNode(this.refs.sidebar).offsetWidth;t!==this.state.sidebarWidth&&this.setState({sidebarWidth:t})}},{key:"touchSidebarWidth",value:function(){return this.props.pullRight?this.props.open&&window.innerWidth-this.state.touchStartX<this.state.sidebarWidth?this.state.touchCurrentX>this.state.touchStartX?this.state.sidebarWidth+this.state.touchStartX-this.state.touchCurrentX:this.state.sidebarWidth:Math.min(window.innerWidth-this.state.touchCurrentX,this.state.sidebarWidth):this.props.open&&this.state.touchStartX<this.state.sidebarWidth?this.state.touchCurrentX>this.state.touchStartX?this.state.sidebarWidth:this.state.sidebarWidth-this.state.touchStartX+this.state.touchCurrentX:Math.min(this.state.touchCurrentX,this.state.sidebarWidth)}},{key:"render",value:function(){var t=s({},m.sidebar,this.props.styles.sidebar),e=s({},m.content,this.props.styles.content),n=s({},m.overlay,this.props.styles.overlay),r=this.state.dragSupported&&this.props.touch,o=this.isTouching(),i={className:this.props.rootClassName,style:s({},m.root,this.props.styles.root)},a=void 0;if(this.props.pullRight?(t.right=0,t.transform="translateX(100%)",t.WebkitTransform="translateX(100%)",this.props.shadow&&(t.boxShadow="-2px 2px 4px rgba(0, 0, 0, 0.15)")):(t.left=0,t.transform="translateX(-100%)",t.WebkitTransform="translateX(-100%)",this.props.shadow&&(t.boxShadow="2px 2px 4px rgba(0, 0, 0, 0.15)")),o){var l=this.touchSidebarWidth()/this.state.sidebarWidth;this.props.pullRight?(t.transform="translateX("+100*(1-l)+"%)",t.WebkitTransform="translateX("+100*(1-l)+"%)"):(t.transform="translateX(-"+100*(1-l)+"%)",t.WebkitTransform="translateX(-"+100*(1-l)+"%)"),n.opacity=l,n.visibility="visible"}else this.props.docked?(0!==this.state.sidebarWidth&&(t.transform="translateX(0%)",t.WebkitTransform="translateX(0%)"),this.props.pullRight?e.right=this.state.sidebarWidth+"px":e.left=this.state.sidebarWidth+"px"):this.props.open&&(t.transform="translateX(0%)",t.WebkitTransform="translateX(0%)",n.opacity=1,n.visibility="visible");if(!o&&this.props.transitions||(t.transition="none",t.WebkitTransition="none",e.transition="none",n.transition="none"),r)if(this.props.open)i.onTouchStart=this.onTouchStart,i.onTouchMove=this.onTouchMove,i.onTouchEnd=this.onTouchEnd,i.onTouchCancel=this.onTouchEnd,i.onScroll=this.onScroll;else{var u=s({},m.dragHandle,this.props.styles.dragHandle);u.width=this.props.touchHandleWidth,this.props.pullRight?u.right=0:u.left=0,a=f["default"].createElement("div",{style:u,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchEnd})}return f["default"].createElement("div",i,f["default"].createElement("div",{className:this.props.sidebarClassName,style:t,ref:"sidebar"},this.props.sidebar),f["default"].createElement("div",{className:this.props.overlayClassName,style:n,role:"presentation",tabIndex:"0",onClick:this.overlayClicked}),f["default"].createElement("div",{className:this.props.contentClassName,style:e},a,this.props.children))}}]),e}(f["default"].Component);y.propTypes={children:f["default"].PropTypes.node.isRequired,styles:f["default"].PropTypes.shape({root:f["default"].PropTypes.object,sidebar:f["default"].PropTypes.object,content:f["default"].PropTypes.object,overlay:f["default"].PropTypes.object,dragHandle:f["default"].PropTypes.object}),rootClassName:f["default"].PropTypes.string,sidebarClassName:f["default"].PropTypes.string,contentClassName:f["default"].PropTypes.string,overlayClassName:f["default"].PropTypes.string,sidebar:f["default"].PropTypes.node.isRequired,docked:f["default"].PropTypes.bool,open:f["default"].PropTypes.bool,transitions:f["default"].PropTypes.bool,touch:f["default"].PropTypes.bool,touchHandleWidth:f["default"].PropTypes.number,pullRight:f["default"].PropTypes.bool,shadow:f["default"].PropTypes.bool,dragToggleDistance:f["default"].PropTypes.number,onSetOpen:f["default"].PropTypes.func},y.defaultProps={docked:!1,open:!1,transitions:!0,touch:!0,touchHandleWidth:20,pullRight:!1,shadow:!0,dragToggleDistance:30,onSetOpen:function(){},styles:{}},e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(750),u=r(l),c=i["default"].createClass({displayName:"SidebarHeader",mixins:[s["default"]],propTypes:{icon:i["default"].PropTypes.string.isRequired,description:i["default"].PropTypes.node},render:function(){var t=this.props,e=t.icon,n=t.description;return i["default"].createElement("div",{className:"sidebar-header"},i["default"].createElement("div",{className:"icon-holder"},i["default"].createElement(u["default"],{name:e})),i["default"].createElement("span",{className:"description"},n||i["default"].createElement("i",null,"No description")),i["default"].createElement("div",{style:{clear:"both"}}))}});t.exports=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(316),s=r(a),l=n(345),u=r(l),c=n(959),f=r(c),p=n(960),h=r(p),d=n(583),m=r(d),y=n(928),v=r(y),g=n(970),b=r(g),_=n(700),x=r(_),w=n(917),T=r(w),E=n(971),C=r(E),k=n(653),S=r(k),P=n(972),M=r(P),A=n(974),O=n(988),D=r(O),L=n(990),I=r(L),j=n(991),F=r(j),R=n(993),N=r(R),z=n(899),B=r(z);n(994);var U=n(582),W=r(U),q=n(761),V=r(q),H=[160,30],G=[60,15],Y=[2e3,80],Z=5,X=1e9,K=33,Q=s["default"].createClass({displayName:"GenomeBrowser",mixins:[(0,h["default"])({redirect:["setProps"]}),W["default"],m["default"]],propTypes:{setProps:s["default"].PropTypes.func.isRequired,chromosome:s["default"].PropTypes.string.isRequired,start:s["default"].PropTypes.number.isRequired,end:s["default"].PropTypes.number.isRequired,sideWidth:s["default"].PropTypes.number.isRequired,chromPositions:s["default"].PropTypes.object,children:s["default"].PropTypes.node},getDefaultProps:function(){return{chromosome:"",start:0,end:1e4,sideWidth:150,width:500}},getInitialState:function(){return{springConfig:H,loading:0,width:0,height:0}},componentWillMount:function(){this.loading=0,this.panStartPixel=null,this.defaultChrom=(0,b["default"])((0,x["default"])(this.config.chromosomes))},componentWillReceiveProps:function(t){this.nextSpringConfig?(this.setState({springConfig:this.nextSpringConfig}),this.nextSpringConfig=null):this.setState({springConfig:t.chromosome!==this.props.chromosome?Y:H}),this.actualStart=this.props.start,this.actualEnd=this.props.end},scaleClamp:function(t,e,n){var r=this.props.chromosome;r=r||this.defaultChrom;var o=0,i=this.config.chromosomes[r].len||X,a=e-t;return t<=o&&e>=i?(t=o,e=i,a=i-o):(t<o&&(t=o,e=t+a,e>i&&(e=i)),e>i&&(e=i,t=e-a,t<o&&(t=o))),a<Z&&(t-=(Z-a)*n,e+=(Z-a)*(1-n),t<o&&(t=o,e=t+Z),e>i&&(e=i,t=e-Z)),[t,e]},isEventInPanningArea:function(t){for(var e=t.target;;){if("channel-controls"===e.className)return!1;if("channel-side"===e.className)return!1;if("main-area"===e.className)return!0;if(e=e.parentElement,!e)return!0}},handleZoom:function(t,e){var n=this.actualStart,r=this.actualEnd,o=e>0?1/(1+.04*Math.abs(e)):1+.04*Math.abs(e);t=void 0!=t?this.scale.invert(t):n+(r-n)/2;var a=(t-n)/(r-n),s=(r-n)/o;n=t-s*a,r=t+s*(1-a);var l=this.scaleClamp(n,r,a),u=i(l,2);n=u[0],r=u[1],this.props.setProps({start:n,end:r})},handleMouseWheel:function(t){this.isEventInPanningArea(t)&&(this.handleZoom(t.clientX-(0,f["default"])(t.currentTarget).left,t.deltaY),t.stopPropagation(),t.preventDefault())},handleDoubleTap:function(t){this.isEventInPanningArea(t)&&this.handleZoom(t.center.x-(0,f["default"])(u["default"].findDOMNode(this.rootHammer)).left,-100)},handlePan:function(t){if(this.isEventInPanningArea(t)){var e=this.actualStart,n=this.actualEnd,r=t.center.x-t.deltaX-(0,f["default"])(u["default"].findDOMNode(this.rootHammer)).left;this.panStartPixel!==r&&(this.panStartPixel=r,this.panStartGenome=[e,n]);var o=this.scale.invert(0)-this.scale.invert(t.deltaX),a=i(this.panStartGenome,2);if(e=a[0],n=a[1],e+=o,n+=o,t.isFinal){if(Math.abs(t.velocityX)>.5){var s=this.scale.invert(t.velocityX)-this.scale.invert(0);e-=1e3*s,n-=1e3*s,this.nextSpringConfig=G}var l=this.scaleClamp(e,n,.5),c=i(l,2);e=c[0],n=c[1],this.panStartPixel=null}else{var p={mid:{val:(n+e)/2,config:Y},halfWidth:{val:(n-e)/2,config:Y}};this.refs.spring.setState({currValue:p,currVelocity:{mid:{val:0},halfWidth:{val:0}}}),this.nextSpringConfig=Y}this.props.setProps({start:e,end:n})}},handleChangeLoadStatus:function(t){"LOADING"===t&&(this.loading+=1),"DONE"===t&&(this.loading-=1),this.setState({loading:this.loading})},render:function(){var t=this,e=this.props,n=e.start,r=e.end,i=e.sideWidth,a=e.chromosome,l=e.children;l=(0,V["default"])(this,l),a=a||this.defaultChrom;var u=this.state.loading;(0,v["default"])(this.config.chromosomes,a)||console.log("Unrecognised chromosome in genome browser",a);var c=this.state,f=c.width,p=c.height,h=c.springConfig;f=Math.max(0,f-(0,C["default"])()),this.scale=T["default"].scale.linear().domain([n,r]).range([i,f]);var d=(r-n)/(f-i),m={mid:(r+n)/2,halfWidth:(r-n)/2},y={mid:(0,A.spring)(m.mid,h),halfWidth:(0,A.spring)(m.halfWidth,h)};return s["default"].createElement(B["default"],{onResize:function(e){return t.setState(e)}},s["default"].createElement("div",{className:"genome-browser"},s["default"].createElement("div",{className:"control-bar"},s["default"].createElement(I["default"],{width:i-20,animate:u>0}),s["default"].createElement(F["default"],o({},this.props,{chromosome:a,minWidth:Z}))),s["default"].createElement(M["default"],{ref:function(e){return t.rootHammer=e},onDoubleTap:this.handleDoubleTap,onPan:this.handlePan,direction:M["default"].DIRECTION_VERTICAL,onPinch:function(t){return console.log("Pinch not implemented",t)},onWheel:this.handleMouseWheel},s["default"].createElement("div",{className:"main-area"},s["default"].createElement(A.Motion,{ref:"spring",style:y,defaultStyle:m},function(e){n=e.mid-e.halfWidth,r=e.mid+e.halfWidth,n=Math.round(n/d)*d,r=Math.round(r/d)*d,t.actualStart=n,t.actualEnd=r;var u={chromosome:a,start:n,end:r,width:f,sideWidth:i,onChangeLoadStatus:t.handleChangeLoadStatus};return s["default"].createElement("div",{className:"tracks vertical stack"},s["default"].createElement(N["default"],{start:n,end:r,width:f,height:Math.max(0,p-K),sideWidth:i}),s["default"].createElement("div",{className:"fixed"},s["default"].createElement(D["default"],{start:n,end:r,width:f,sideWidth:i}),S["default"].map(l,function(e,n){return e.props.fixed?s["default"].cloneElement(e,o({onClose:function(){return t.redirectedProps.setProps(function(t){return t.deleteIn(["children",n])})}},u)):null})),s["default"].createElement("div",{className:"scrolling grow scroll-within"},S["default"].map(l,function(e,n){return e.props.fixed?null:s["default"].cloneElement(e,o({onClose:function(){return t.redirectedProps.setProps(function(t){return t.deleteIn(["children",n])})}},u))})))})))))}});t.exports=Q},function(t,e){function n(){var t=window.pageYOffset;return"number"==typeof t?{top:t,left:window.pageXOffset}:{top:document.documentElement.scrollTop,left:document.documentElement.scrollLeft}}function r(t){return parseInt(t,10)}t.exports=function(t){var e=t.getBoundingClientRect(),o=n();return{top:r(e.top+o.top),left:r(e.left+o.left),width:r(e.right-e.left),height:r(e.bottom-e.top)}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(574),i=r(o),a=n(961),s=r(a),l=n(585),u=function(t){var e=t.check,n=t.redirect;return{componentWillMount:function(){var t=this;n&&(this.redirectedProps={},n.forEach(function(e){return t.redirectedProps[e]=function(){return this.props[e].apply(this,arguments)}.bind(t)}))},shouldComponentUpdate:function(t,r){var o=this,a=!0;return a=e?e.some(function(e){return!i["default"].is(o.props[e],t[e])}):!(0,l.shallowEqualImmutable)((0,s["default"])(this.props,n||[]),(0,s["default"])(t,n||[])),a||!(0,l.shallowEqualImmutable)(this.state,r)}}};t.exports=u},function(t,e,n){var r=n(767),o=n(931),i=n(962),a=n(964),s=n(968),l=n(743),u=a(function(t,e){return null==t?{}:(e=r(e,l),i(t,o(s(t),e)))});t.exports=u},function(t,e,n){function r(t,e){return t=Object(t),o(t,e,function(e,n){return n in t})}var o=n(963);t.exports=r},function(t,e,n){function r(t,e,n){for(var r=-1,i=e.length,a={};++r<i;){var s=e[r],l=t[s];n(l,s)&&o(a,s,l)}return a}var o=n(790);t.exports=r},function(t,e,n){function r(t){return a(i(t,void 0,o),t+"")}var o=n(965),i=n(594),a=n(596);t.exports=r},function(t,e,n){function r(t){var e=t?t.length:0;return e?o(t,1):[]}var o=n(966);t.exports=r},function(t,e,n){function r(t,e,n,a,s){var l=-1,u=t.length;for(n||(n=i),s||(s=[]);++l<u;){var c=t[l];e>0&&n(c)?e>1?r(c,e-1,n,a,s):o(s,c):a||(s[s.length]=c)}return s}var o=n(837),i=n(967);t.exports=r},function(t,e,n){function r(t){return a(t)||i(t)||!!(s&&t&&t[s])}var o=n(695),i=n(703),a=n(630),s=o?o.isConcatSpreadable:void 0;t.exports=r},function(t,e,n){function r(t){return o(t,a,i)}var o=n(836),i=n(969),a=n(856);t.exports=r},function(t,e,n){var r=n(837),o=n(851),i=n(833),a=n(834),s=Object.getOwnPropertySymbols,l=s?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=l},function(t,e){function n(t){return t&&t.length?t[0]:void 0}t.exports=n},function(t,e,n){var r,o,i;!function(n,a){o=[],r=a,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i))}(this,function(){var t=null;return function(){if(null!==t)return t;if("loading"!==window.document.readyState){var e,n;return e=window.document.createElement("div"),n=window.document.createElement("div"),e.style.width="100px",e.style.overflowX="scroll",n.style.width="100px",window.document.body.appendChild(e),window.document.body.appendChild(n),t=e.offsetHeight-n.offsetHeight,window.document.body.removeChild(e),window.document.body.removeChild(n),t}}})},function(t,e,n){function r(t,e){e.hasOwnProperty("vertical")&&console.warn("vertical is deprecated, please use `direction` instead");var n=e.direction;(n||e.hasOwnProperty("vertical"))&&(direction=n?n:e.vertical?"DIRECTION_ALL":"DIRECTION_HORIZONTAL",t.get("pan").set({direction:a[direction]}),t.get("swipe").set({direction:a[direction]})),e.options&&Object.keys(e.options).forEach(function(n){if("recognizers"===n)Object.keys(e.options.recognizers).forEach(function(n){var r=t.get(n);r.set(e.options.recognizers[n])},this);else{var r=n,o={};o[r]=e.options[n],t.set(o)}},this),e.recognizeWith&&Object.keys(e.recognizeWith).forEach(function(n){var r=t.get(n);r.recognizeWith(e.recognizeWith[n])},this),Object.keys(e).forEach(function(n){var r=l[n];r&&(t.off(r),t.on(r,e[n]))})}var o=n(316),i=n(345),a="undefined"!=typeof window?n(973):void 0,s={children:!0,direction:!0,options:!0,recognizeWith:!0,vertical:!0},l={action:"tap press",onDoubleTap:"doubletap",onPan:"pan",onPanCancel:"pancancel",onPanEnd:"panend",onPanStart:"panstart",onPinch:"pinch",onPinchCancel:"pinchcancel",onPinchEnd:"pinchend",onPinchIn:"pinchin",onPinchOut:"pinchout",onPinchStart:"pinchstart",onPress:"press",onPressUp:"pressup",onRotate:"rotate",onRotateCancel:"rotatecancel",onRotateEnd:"rotateend",onRotateMove:"rotatemove",onRotateStart:"rotatestart",onSwipe:"swipe",onTap:"tap"};Object.keys(l).forEach(function(t){s[t]=!0});var u=o.createClass({displayName:"Hammer",propTypes:{className:o.PropTypes.string},componentDidMount:function(){this.hammer=new a(i.findDOMNode(this)),r(this.hammer,this.props)},componentDidUpdate:function(){this.hammer&&r(this.hammer,this.props)},componentWillUnmount:function(){this.hammer&&(this.hammer.stop(),this.hammer.destroy()),this.hammer=null},render:function(){var t={};return Object.keys(this.props).forEach(function(e){s[e]||(t[e]=this.props[e])},this),o.cloneElement(o.Children.only(this.props.children),t)}});t.exports=u},function(t,e,n){var r;/*! Hammer.JS - v2.0.7 - 2016-04-22
	 * http://hammerjs.github.io/
	 *
	 * Copyright (c) 2016 Jorik Tangelder;
	 * Licensed under the MIT license */
!function(o,i,a,s){"use strict";function l(t,e,n){return setTimeout(h(t,n),e)}function u(t,e,n){return!!Array.isArray(t)&&(c(t,n[e],n),!0)}function c(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function f(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),t.apply(this,arguments)}}function p(t,e,n){var r,o=e.prototype;r=t.prototype=Object.create(o),r.constructor=t,r._super=o,n&&mt(r,n)}function h(t,e){return function(){return t.apply(e,arguments)}}function d(t,e){return typeof t==gt?t.apply(e?e[0]||s:s,e):t}function m(t,e){return t===s?e:t}function y(t,e,n){c(_(e),function(e){t.addEventListener(e,n,!1)})}function v(t,e,n){c(_(e),function(e){t.removeEventListener(e,n,!1)})}function g(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function b(t,e){return t.indexOf(e)>-1}function _(t){return t.trim().split(/\s+/g)}function x(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function w(t){return Array.prototype.slice.call(t,0)}function T(t,e,n){for(var r=[],o=[],i=0;i<t.length;){var a=e?t[i][e]:t[i];x(o,a)<0&&r.push(t[i]),o[i]=a,i++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function E(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),i=0;i<yt.length;){if(n=yt[i],r=n?n+o:e,r in t)return r;i++}return s}function C(){return Et++}function k(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}function S(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){d(t.options.enable,[t])&&n.handler(e)},this.init()}function P(t){var e,n=t.options.inputClass;return new(e=n?n:St?W:Pt?H:kt?Y:U)(t,M)}function M(t,e,n){var r=n.pointers.length,o=n.changedPointers.length,i=e&It&&r-o===0,a=e&(Ft|Rt)&&r-o===0;n.isFirst=!!i,n.isFinal=!!a,i&&(t.session={}),n.eventType=e,A(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function A(t,e){var n=t.session,r=e.pointers,o=r.length;n.firstInput||(n.firstInput=L(e)),o>1&&!n.firstMultiple?n.firstMultiple=L(e):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,s=a?a.center:i.center,l=e.center=I(r);e.timeStamp=xt(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=N(s,l),e.distance=R(s,l),O(n,e),e.offsetDirection=F(e.deltaX,e.deltaY);var u=j(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=_t(u.x)>_t(u.y)?u.x:u.y,e.scale=a?B(a.pointers,r):1,e.rotation=a?z(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,D(n,e);var c=t.element;g(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function O(t,e){var n=e.center,r=t.offsetDelta||{},o=t.prevDelta||{},i=t.prevInput||{};e.eventType!==It&&i.eventType!==Ft||(o=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-r.x),e.deltaY=o.y+(n.y-r.y)}function D(t,e){var n,r,o,i,a=t.lastInterval||e,l=e.timeStamp-a.timeStamp;if(e.eventType!=Rt&&(l>Lt||a.velocity===s)){var u=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,f=j(l,u,c);r=f.x,o=f.y,n=_t(f.x)>_t(f.y)?f.x:f.y,i=F(u,c),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=i}function L(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:bt(t.pointers[n].clientX),clientY:bt(t.pointers[n].clientY)},n++;return{timeStamp:xt(),pointers:e,center:I(e),deltaX:t.deltaX,deltaY:t.deltaY}}function I(t){var e=t.length;if(1===e)return{x:bt(t[0].clientX),y:bt(t[0].clientY)};for(var n=0,r=0,o=0;o<e;)n+=t[o].clientX,r+=t[o].clientY,o++;return{x:bt(n/e),y:bt(r/e)}}function j(t,e,n){return{x:e/t||0,y:n/t||0}}function F(t,e){return t===e?Nt:_t(t)>=_t(e)?t<0?zt:Bt:e<0?Ut:Wt}function R(t,e,n){n||(n=Gt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(r*r+o*o)}function N(t,e,n){n||(n=Gt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,r)/Math.PI}function z(t,e){return N(e[1],e[0],Yt)+N(t[1],t[0],Yt)}function B(t,e){return R(e[0],e[1],Yt)/R(t[0],t[1],Yt)}function U(){this.evEl=Xt,this.evWin=Kt,this.pressed=!1,S.apply(this,arguments)}function W(){this.evEl=$t,this.evWin=te,S.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function q(){this.evTarget=ne,this.evWin=re,this.started=!1,S.apply(this,arguments)}function V(t,e){var n=w(t.touches),r=w(t.changedTouches);return e&(Ft|Rt)&&(n=T(n.concat(r),"identifier",!0)),[n,r]}function H(){this.evTarget=ie,this.targetIds={},S.apply(this,arguments)}function G(t,e){var n=w(t.touches),r=this.targetIds;if(e&(It|jt)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=w(t.changedTouches),s=[],l=this.target;if(i=n.filter(function(t){return g(t.target,l)}),e===It)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&s.push(a[o]),e&(Ft|Rt)&&delete r[a[o].identifier],o++;return s.length?[T(i.concat(s),"identifier",!0),s]:void 0}function Y(){S.apply(this,arguments);var t=h(this.handler,this);this.touch=new H(this.manager,t),this.mouse=new U(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Z(t,e){t&It?(this.primaryTouch=e.changedPointers[0].identifier,X.call(this,e)):t&(Ft|Rt)&&X.call(this,e)}function X(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches,o=function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)};setTimeout(o,ae)}}function K(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(e-o.x),a=Math.abs(n-o.y);if(i<=se&&a<=se)return!0}return!1}function Q(t,e){this.manager=t,this.set(e)}function J(t){if(b(t,he))return he;var e=b(t,de),n=b(t,me);return e&&n?he:e||n?e?de:me:b(t,pe)?pe:fe}function $(){if(!ue)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||o.CSS.supports("touch-action",n)}),t}function tt(t){this.options=mt({},this.defaults,t||{}),this.id=C(),this.manager=null,this.options.enable=m(this.options.enable,!0),this.state=ve,this.simultaneous={},this.requireFail=[]}function et(t){return t&we?"cancel":t&_e?"end":t&be?"move":t&ge?"start":""}function nt(t){return t==Wt?"down":t==Ut?"up":t==zt?"left":t==Bt?"right":""}function rt(t,e){var n=e.manager;return n?n.get(t):t}function ot(){tt.apply(this,arguments)}function it(){ot.apply(this,arguments),this.pX=null,this.pY=null}function at(){ot.apply(this,arguments)}function st(){tt.apply(this,arguments),this._timer=null,this._input=null}function lt(){ot.apply(this,arguments)}function ut(){ot.apply(this,arguments)}function ct(){tt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ft(t,e){return e=e||{},e.recognizers=m(e.recognizers,ft.defaults.preset),new pt(t,e)}function pt(t,e){this.options=mt({},ft.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=P(this),this.touchAction=new Q(this,this.options.touchAction),ht(this,!0),c(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ht(t,e){var n=t.element;if(n.style){var r;c(t.options.cssProps,function(o,i){r=E(n.style,i),e?(t.oldCssProps[r]=n.style[r],n.style[r]=o):n.style[r]=t.oldCssProps[r]||""}),e||(t.oldCssProps={})}}function dt(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var mt,yt=["","webkit","Moz","MS","ms","o"],vt=i.createElement("div"),gt="function",bt=Math.round,_t=Math.abs,xt=Date.now;mt="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var wt=f(function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===s)&&(t[r[o]]=e[r[o]]),o++;return t},"extend","Use `assign`."),Tt=f(function(t,e){return wt(t,e,!0)},"merge","Use `assign`."),Et=1,Ct=/mobile|tablet|ip(ad|hone|od)|android/i,kt="ontouchstart"in o,St=E(o,"PointerEvent")!==s,Pt=kt&&Ct.test(navigator.userAgent),Mt="touch",At="pen",Ot="mouse",Dt="kinect",Lt=25,It=1,jt=2,Ft=4,Rt=8,Nt=1,zt=2,Bt=4,Ut=8,Wt=16,qt=zt|Bt,Vt=Ut|Wt,Ht=qt|Vt,Gt=["x","y"],Yt=["clientX","clientY"];S.prototype={handler:function(){},init:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(k(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(k(this.element),this.evWin,this.domHandler)}};var Zt={mousedown:It,mousemove:jt,mouseup:Ft},Xt="mousedown",Kt="mousemove mouseup";p(U,S,{handler:function(t){var e=Zt[t.type];e&It&&0===t.button&&(this.pressed=!0),e&jt&&1!==t.which&&(e=Ft),this.pressed&&(e&Ft&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Ot,srcEvent:t}))}});var Qt={pointerdown:It,pointermove:jt,pointerup:Ft,pointercancel:Rt,pointerout:Rt},Jt={2:Mt,3:At,4:Ot,5:Dt},$t="pointerdown",te="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&($t="MSPointerDown",te="MSPointerMove MSPointerUp MSPointerCancel"),p(W,S,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),o=Qt[r],i=Jt[t.pointerType]||t.pointerType,a=i==Mt,s=x(e,t.pointerId,"pointerId");o&It&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):o&(Ft|Rt)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),n&&e.splice(s,1))}});var ee={touchstart:It,touchmove:jt,touchend:Ft,touchcancel:Rt},ne="touchstart",re="touchstart touchmove touchend touchcancel";p(q,S,{handler:function(t){var e=ee[t.type];if(e===It&&(this.started=!0),this.started){var n=V.call(this,t,e);e&(Ft|Rt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Mt,srcEvent:t})}}});var oe={touchstart:It,touchmove:jt,touchend:Ft,touchcancel:Rt},ie="touchstart touchmove touchend touchcancel";p(H,S,{handler:function(t){var e=oe[t.type],n=G.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Mt,srcEvent:t})}});var ae=2500,se=25;p(Y,S,{handler:function(t,e,n){var r=n.pointerType==Mt,o=n.pointerType==Ot;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)Z.call(this,e,n);else if(o&&K.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var le=E(vt.style,"touchAction"),ue=le!==s,ce="compute",fe="auto",pe="manipulation",he="none",de="pan-x",me="pan-y",ye=$();Q.prototype={set:function(t){t==ce&&(t=this.compute()),ue&&this.manager.element.style&&ye[t]&&(this.manager.element.style[le]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return c(this.manager.recognizers,function(e){d(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),J(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var r=this.actions,o=b(r,he)&&!ye[he],i=b(r,me)&&!ye[me],a=b(r,de)&&!ye[de];if(o){var s=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(s&&l&&u)return}return a&&i?void 0:o||i&&n&qt||a&&n&Vt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ve=1,ge=2,be=4,_e=8,xe=_e,we=16,Te=32;tt.prototype={defaults:{},set:function(t){return mt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(u(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=rt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return u(t,"dropRecognizeWith",this)?this:(t=rt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(u(t,"requireFailure",this))return this;var e=this.requireFail;return t=rt(t,this),x(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(u(t,"dropRequireFailure",this))return this;t=rt(t,this);var e=x(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,r=this.state;r<_e&&e(n.options.event+et(r)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),r>=_e&&e(n.options.event+et(r))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=Te)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(Te|ve)))return!1;t++}return!0},recognize:function(t){var e=mt({},t);return d(this.options.enable,[this,e])?(this.state&(xe|we|Te)&&(this.state=ve),this.state=this.process(e),void(this.state&(ge|be|_e|we)&&this.tryEmit(e))):(this.reset(),void(this.state=Te))},process:function(t){},getTouchAction:function(){},reset:function(){}},p(ot,tt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(ge|be),o=this.attrTest(t);return r&&(n&Rt||!o)?e|we:r||o?n&Ft?e|_e:e&ge?e|be:ge:Te}}),p(it,ot,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ht},getTouchAction:function(){var t=this.options.direction,e=[];return t&qt&&e.push(me),t&Vt&&e.push(de),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,o=t.direction,i=t.deltaX,a=t.deltaY;return o&e.direction||(e.direction&qt?(o=0===i?Nt:i<0?zt:Bt,n=i!=this.pX,r=Math.abs(t.deltaX)):(o=0===a?Nt:a<0?Ut:Wt,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=o,n&&r>e.threshold&&o&e.direction},attrTest:function(t){return ot.prototype.attrTest.call(this,t)&&(this.state&ge||!(this.state&ge)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=nt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),p(at,ot,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[he]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ge)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),p(st,tt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[fe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(Ft|Rt)&&!o)this.reset();else if(t.eventType&It)this.reset(),this._timer=l(function(){this.state=xe,this.tryEmit()},e.time,this);else if(t.eventType&Ft)return xe;return Te},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===xe&&(t&&t.eventType&Ft?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=xt(),this.manager.emit(this.options.event,this._input)))}}),p(lt,ot,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[he]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ge)}}),p(ut,ot,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:qt|Vt,pointers:1},getTouchAction:function(){return it.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(qt|Vt)?e=t.overallVelocity:n&qt?e=t.overallVelocityX:n&Vt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&_t(e)>this.options.velocity&&t.eventType&Ft},emit:function(t){var e=nt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),p(ct,tt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[pe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&It&&0===this.count)return this.failTimeout();if(r&&o&&n){if(t.eventType!=Ft)return this.failTimeout();var i=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||R(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&i?this.count+=1:this.count=1,this._input=t;var s=this.count%e.taps;if(0===s)return this.hasRequireFailures()?(this._timer=l(function(){this.state=xe,this.tryEmit()},e.interval,this),ge):xe}return Te},failTimeout:function(){return this._timer=l(function(){this.state=Te},this.options.interval,this),Te},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==xe&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ft.VERSION="2.0.7",ft.defaults={domEvents:!1,touchAction:ce,enable:!0,inputTarget:null,inputClass:null,preset:[[lt,{enable:!1}],[at,{enable:!1},["rotate"]],[ut,{direction:qt}],[it,{direction:qt},["swipe"]],[ct],[ct,{event:"doubletap",taps:2},["tap"]],[st]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Ee=1,Ce=2;pt.prototype={set:function(t){return mt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Ce:Ee},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&xe)&&(o=e.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],e.stopped===Ce||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&n.state&(ge|be|_e)&&(o=e.curRecognizer=n),i++}},get:function(t){if(t instanceof tt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(u(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(u(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=x(e,t);n!==-1&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return c(_(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==s){var n=this.handlers;return c(_(t),function(t){e?n[t]&&n[t].splice(x(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&dt(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&ht(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},mt(ft,{INPUT_START:It,INPUT_MOVE:jt,INPUT_END:Ft,INPUT_CANCEL:Rt,STATE_POSSIBLE:ve,STATE_BEGAN:ge,STATE_CHANGED:be,STATE_ENDED:_e,STATE_RECOGNIZED:xe,STATE_CANCELLED:we,STATE_FAILED:Te,DIRECTION_NONE:Nt,DIRECTION_LEFT:zt,DIRECTION_RIGHT:Bt,DIRECTION_UP:Ut,DIRECTION_DOWN:Wt,DIRECTION_HORIZONTAL:qt,DIRECTION_VERTICAL:Vt,DIRECTION_ALL:Ht,Manager:pt,Input:S,TouchAction:Q,TouchInput:H,MouseInput:U,PointerEventInput:W,TouchMouseInput:Y,SingleTouchInput:q,Recognizer:tt,AttrRecognizer:ot,Tap:ct,Pan:it,Swipe:ut,Pinch:at,Rotate:lt,Press:st,on:y,off:v,each:c,merge:Tt,extend:wt,assign:mt,inherit:p,bindFn:h,prefixed:E});var ke="undefined"!=typeof o?o:"undefined"!=typeof self?self:{};ke.Hammer=ft,r=function(){return ft}.call(e,n,e,t),!(r!==s&&(t.exports=r))}(window,document,"Hammer")},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t["default"]:t}e.__esModule=!0;var o=n(975);e.Motion=r(o);var i=n(982);e.StaggeredMotion=r(i);var a=n(983);e.TransitionMotion=r(a);var s=n(985);e.spring=r(s);var l=n(986);e.presets=r(l);var u=n(987);e.reorderKeys=r(u)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(976),a=r(i),s=n(977),l=r(s),u=n(978),c=r(u),f=n(979),p=r(f),h=n(980),d=r(h),m=n(981),y=r(m),v=n(316),g=r(v),b=1e3/60,_=g["default"].createClass({displayName:"Motion",propTypes:{defaultStyle:v.PropTypes.objectOf(v.PropTypes.number),style:v.PropTypes.objectOf(v.PropTypes.oneOfType([v.PropTypes.number,v.PropTypes.object])).isRequired,children:v.PropTypes.func.isRequired,onRest:v.PropTypes.func},getInitialState:function(){var t=this.props,e=t.defaultStyle,n=t.style,r=e||l["default"](n),o=a["default"](r);return{currentStyle:r,currentVelocity:o,lastIdealStyle:r,lastIdealVelocity:o}},wasAnimating:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyle:null,clearUnreadPropStyle:function(t){var e=!1,n=this.state,r=n.currentStyle,i=n.currentVelocity,a=n.lastIdealStyle,s=n.lastIdealVelocity;for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l)){var u=t[l];"number"==typeof u&&(e||(e=!0,r=o({},r),i=o({},i),a=o({},a),s=o({},s)),r[l]=u,i[l]=0,a[l]=u,s[l]=0)}e&&this.setState({currentStyle:r,currentVelocity:i,lastIdealStyle:a,lastIdealVelocity:s})},startAnimationIfNecessary:function(){var t=this;this.animationID=d["default"](function(e){var n=t.props.style;if(y["default"](t.state.currentStyle,n,t.state.currentVelocity))return t.wasAnimating&&t.props.onRest&&t.props.onRest(),t.animationID=null,t.wasAnimating=!1,void(t.accumulatedTime=0);t.wasAnimating=!0;var r=e||p["default"](),o=r-t.prevTime;if(t.prevTime=r,t.accumulatedTime=t.accumulatedTime+o,t.accumulatedTime>10*b&&(t.accumulatedTime=0),0===t.accumulatedTime)return t.animationID=null,void t.startAnimationIfNecessary();var i=(t.accumulatedTime-Math.floor(t.accumulatedTime/b)*b)/b,a=Math.floor(t.accumulatedTime/b),s={},l={},u={},f={};for(var h in n)if(Object.prototype.hasOwnProperty.call(n,h)){var d=n[h];if("number"==typeof d)u[h]=d,f[h]=0,s[h]=d,l[h]=0;else{for(var m=t.state.lastIdealStyle[h],v=t.state.lastIdealVelocity[h],g=0;g<a;g++){var _=c["default"](b/1e3,m,v,d.val,d.stiffness,d.damping,d.precision);m=_[0],v=_[1]}var x=c["default"](b/1e3,m,v,d.val,d.stiffness,d.damping,d.precision),w=x[0],T=x[1];u[h]=m+(w-m)*i,f[h]=v+(T-v)*i,s[h]=m,l[h]=v}}t.animationID=null,t.accumulatedTime-=a*b,t.setState({currentStyle:u,currentVelocity:f,lastIdealStyle:s,lastIdealVelocity:l}),t.unreadPropStyle=null,t.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=p["default"](),this.startAnimationIfNecessary()},componentWillReceiveProps:function(t){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=t.style,null==this.animationID&&(this.prevTime=p["default"](),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(d["default"].cancel(this.animationID),this.animationID=null)},render:function(){var t=this.props.children(this.state.currentStyle);return t&&g["default"].Children.only(t)}});e["default"]=_,t.exports=e["default"]},function(t,e){"use strict";function n(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=0);return e}e.__esModule=!0,e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function n(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]="number"==typeof t[n]?t[n]:t[n].val);return e}e.__esModule=!0,e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function n(t,e,n,o,i,a,s){var l=-i*(e-o),u=-a*n,c=l+u,f=n+c*t,p=e+f*t;return Math.abs(f)<s&&Math.abs(p-o)<s?(r[0]=o,r[1]=0,r):(r[0]=p,r[1]=f,r)}e.__esModule=!0,e["default"]=n;var r=[0,0];t.exports=e["default"]},function(t,e,n){(function(e){(function(){var n,r,o;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-o)/1e6},r=e.hrtime,n=function(){var t;return t=r(),1e9*t[0]+t[1]},o=n()):Date.now?(t.exports=function(){return Date.now()-o},o=Date.now()):(t.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(e,n(294))},function(t,e,n){(function(e){for(var r=n(979),o="undefined"==typeof window?e:window,i=["moz","webkit"],a="AnimationFrame",s=o["request"+a],l=o["cancel"+a]||o["cancelRequest"+a],u=0;!s&&u<i.length;u++)s=o[i[u]+"Request"+a],l=o[i[u]+"Cancel"+a]||o[i[u]+"CancelRequest"+a];if(!s||!l){var c=0,f=0,p=[],h=1e3/60;s=function(t){if(0===p.length){var e=r(),n=Math.max(0,h-(e-c));c=n+e,setTimeout(function(){var t=p.slice(0);p.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(c)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return p.push({handle:++f,callback:t,cancelled:!1}),f},l=function(t){for(var e=0;e<p.length;e++)p[e].handle===t&&(p[e].cancelled=!0)}}t.exports=function(t){return s.call(o,t)},t.exports.cancel=function(){l.apply(o,arguments)},t.exports.polyfill=function(){o.requestAnimationFrame=s,o.cancelAnimationFrame=l}}).call(e,function(){return this}())},function(t,e){"use strict";function n(t,e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(0!==n[r])return!1;var o="number"==typeof e[r]?e[r]:e[r].val;if(t[r]!==o)return!1}return!0}e.__esModule=!0,e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){for(var r=0;r<t.length;r++)if(!v["default"](t[r],e[r],n[r]))return!1;return!0}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(976),s=r(a),l=n(977),u=r(l),c=n(978),f=r(c),p=n(979),h=r(p),d=n(980),m=r(d),y=n(981),v=r(y),g=n(316),b=r(g),_=1e3/60,x=b["default"].createClass({displayName:"StaggeredMotion",propTypes:{defaultStyles:g.PropTypes.arrayOf(g.PropTypes.objectOf(g.PropTypes.number)),styles:g.PropTypes.func.isRequired,children:g.PropTypes.func.isRequired},getInitialState:function(){var t=this.props,e=t.defaultStyles,n=t.styles,r=e||n().map(u["default"]),o=r.map(function(t){return s["default"](t)});return{currentStyles:r,currentVelocities:o,lastIdealStyles:r,lastIdealVelocities:o}},animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(t){for(var e=this.state,n=e.currentStyles,r=e.currentVelocities,o=e.lastIdealStyles,a=e.lastIdealVelocities,s=!1,l=0;l<t.length;l++){var u=t[l],c=!1;for(var f in u)if(Object.prototype.hasOwnProperty.call(u,f)){var p=u[f];"number"==typeof p&&(c||(c=!0,s=!0,n[l]=i({},n[l]),r[l]=i({},r[l]),o[l]=i({},o[l]),a[l]=i({},a[l])),n[l][f]=p,r[l][f]=0,o[l][f]=p,a[l][f]=0)}}s&&this.setState({currentStyles:n,currentVelocities:r,lastIdealStyles:o,lastIdealVelocities:a})},startAnimationIfNecessary:function(){var t=this;this.animationID=m["default"](function(e){var n=t.props.styles(t.state.lastIdealStyles);if(o(t.state.currentStyles,n,t.state.currentVelocities))return t.animationID=null,void(t.accumulatedTime=0);var r=e||h["default"](),i=r-t.prevTime;if(t.prevTime=r,t.accumulatedTime=t.accumulatedTime+i,t.accumulatedTime>10*_&&(t.accumulatedTime=0),0===t.accumulatedTime)return t.animationID=null,void t.startAnimationIfNecessary();for(var a=(t.accumulatedTime-Math.floor(t.accumulatedTime/_)*_)/_,s=Math.floor(t.accumulatedTime/_),l=[],u=[],c=[],p=[],d=0;d<n.length;d++){var m=n[d],y={},v={},g={},b={};for(var x in m)if(Object.prototype.hasOwnProperty.call(m,x)){var w=m[x];if("number"==typeof w)y[x]=w,v[x]=0,g[x]=w,b[x]=0;else{for(var T=t.state.lastIdealStyles[d][x],E=t.state.lastIdealVelocities[d][x],C=0;C<s;C++){var k=f["default"](_/1e3,T,E,w.val,w.stiffness,w.damping,w.precision);T=k[0],E=k[1]}var S=f["default"](_/1e3,T,E,w.val,w.stiffness,w.damping,w.precision),P=S[0],M=S[1];y[x]=T+(P-T)*a,v[x]=E+(M-E)*a,g[x]=T,b[x]=E}}c[d]=y,p[d]=v,l[d]=g,u[d]=b}t.animationID=null,t.accumulatedTime-=s*_,t.setState({currentStyles:c,currentVelocities:p,lastIdealStyles:l,lastIdealVelocities:u}),t.unreadPropStyles=null,t.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=h["default"](),this.startAnimationIfNecessary()},componentWillReceiveProps:function(t){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=t.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=h["default"](),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(m["default"].cancel(this.animationID),this.animationID=null)},render:function(){var t=this.props.children(this.state.currentStyles);return t&&b["default"].Children.only(t)}});e["default"]=x,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){var r=e;return null==r?t.map(function(t,e){return{key:t.key,data:t.data,style:n[e]}}):t.map(function(t,e){for(var o=0;o<r.length;o++)if(r[o].key===t.key)return{key:r[o].key,data:r[o].data,style:n[e]};return{key:t.key,data:t.data,style:n[e]}})}function i(t,e,n,r){if(r.length!==e.length)return!1;for(var o=0;o<r.length;o++)if(r[o].key!==e[o].key)return!1;for(var o=0;o<r.length;o++)if(!x["default"](t[o],e[o].style,n[o]))return!1;return!0}function a(t,e,n,r,o,i,a,s){for(var l=m["default"](n,r,function(t,n){var r=e(n);return null==r?null:x["default"](o[t],r,i[t])?null:{key:n.key,data:n.data,style:r}}),c=[],f=[],p=[],h=[],d=0;d<l.length;d++){for(var y=l[d],v=null,g=0;g<n.length;g++)if(n[g].key===y.key){v=g;break}if(null==v){var b=t(y);c[d]=b,p[d]=b;var _=u["default"](y.style);f[d]=_,h[d]=_}else c[d]=o[v],p[d]=a[v],f[d]=i[v],h[d]=s[v]}return[l,c,f,p,h]}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=n(976),u=r(l),c=n(977),f=r(c),p=n(978),h=r(p),d=n(984),m=r(d),y=n(979),v=r(y),g=n(980),b=r(g),_=n(981),x=r(_),w=n(316),T=r(w),E=1e3/60,C=T["default"].createClass({displayName:"TransitionMotion",propTypes:{defaultStyles:w.PropTypes.arrayOf(w.PropTypes.shape({key:w.PropTypes.string.isRequired,data:w.PropTypes.any,style:w.PropTypes.objectOf(w.PropTypes.number).isRequired})),styles:w.PropTypes.oneOfType([w.PropTypes.func,w.PropTypes.arrayOf(w.PropTypes.shape({key:w.PropTypes.string.isRequired,data:w.PropTypes.any,style:w.PropTypes.objectOf(w.PropTypes.oneOfType([w.PropTypes.number,w.PropTypes.object])).isRequired}))]).isRequired,children:w.PropTypes.func.isRequired,willLeave:w.PropTypes.func,willEnter:w.PropTypes.func},getDefaultProps:function(){return{willEnter:function(t){return f["default"](t.style)},willLeave:function(){return null}}},getInitialState:function(){var t=this.props,e=t.defaultStyles,n=t.styles,r=t.willEnter,o=t.willLeave,i="function"==typeof n?n(e):n,s=void 0;s=null==e?i:e.map(function(t){for(var e=0;e<i.length;e++)if(i[e].key===t.key)return i[e];return t});var l=null==e?i.map(function(t){return f["default"](t.style)}):e.map(function(t){return f["default"](t.style)}),c=null==e?i.map(function(t){
return u["default"](t.style)}):e.map(function(t){return u["default"](t.style)}),p=a(r,o,s,i,l,c,l,c),h=p[0],d=p[1],m=p[2],y=p[3],v=p[4];return{currentStyles:d,currentVelocities:m,lastIdealStyles:y,lastIdealVelocities:v,mergedPropsStyles:h}},unmounting:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(t){for(var e=a(this.props.willEnter,this.props.willLeave,this.state.mergedPropsStyles,t,this.state.currentStyles,this.state.currentVelocities,this.state.lastIdealStyles,this.state.lastIdealVelocities),n=e[0],r=e[1],o=e[2],i=e[3],l=e[4],u=0;u<t.length;u++){var c=t[u].style,f=!1;for(var p in c)if(Object.prototype.hasOwnProperty.call(c,p)){var h=c[p];"number"==typeof h&&(f||(f=!0,r[u]=s({},r[u]),o[u]=s({},o[u]),i[u]=s({},i[u]),l[u]=s({},l[u]),n[u]={key:n[u].key,data:n[u].data,style:s({},n[u].style)}),r[u][p]=h,o[u][p]=0,i[u][p]=h,l[u][p]=0,n[u].style[p]=h)}}this.setState({currentStyles:r,currentVelocities:o,mergedPropsStyles:n,lastIdealStyles:i,lastIdealVelocities:l})},startAnimationIfNecessary:function(){var t=this;this.unmounting||(this.animationID=b["default"](function(e){var n=t.props.styles,r="function"==typeof n?n(o(t.state.mergedPropsStyles,t.unreadPropStyles,t.state.lastIdealStyles)):n;if(i(t.state.currentStyles,r,t.state.currentVelocities,t.state.mergedPropsStyles))return t.animationID=null,void(t.accumulatedTime=0);var s=e||v["default"](),l=s-t.prevTime;if(t.prevTime=s,t.accumulatedTime=t.accumulatedTime+l,t.accumulatedTime>10*E&&(t.accumulatedTime=0),0===t.accumulatedTime)return t.animationID=null,void t.startAnimationIfNecessary();for(var u=(t.accumulatedTime-Math.floor(t.accumulatedTime/E)*E)/E,c=Math.floor(t.accumulatedTime/E),f=a(t.props.willEnter,t.props.willLeave,t.state.mergedPropsStyles,r,t.state.currentStyles,t.state.currentVelocities,t.state.lastIdealStyles,t.state.lastIdealVelocities),p=f[0],d=f[1],m=f[2],y=f[3],g=f[4],b=0;b<p.length;b++){var _=p[b].style,x={},w={},T={},C={};for(var k in _)if(Object.prototype.hasOwnProperty.call(_,k)){var S=_[k];if("number"==typeof S)x[k]=S,w[k]=0,T[k]=S,C[k]=0;else{for(var P=y[b][k],M=g[b][k],A=0;A<c;A++){var O=h["default"](E/1e3,P,M,S.val,S.stiffness,S.damping,S.precision);P=O[0],M=O[1]}var D=h["default"](E/1e3,P,M,S.val,S.stiffness,S.damping,S.precision),L=D[0],I=D[1];x[k]=P+(L-P)*u,w[k]=M+(I-M)*u,T[k]=P,C[k]=M}}y[b]=T,g[b]=C,d[b]=x,m[b]=w}t.animationID=null,t.accumulatedTime-=c*E,t.setState({currentStyles:d,currentVelocities:m,lastIdealStyles:y,lastIdealVelocities:g,mergedPropsStyles:p}),t.unreadPropStyles=null,t.startAnimationIfNecessary()}))},componentDidMount:function(){this.prevTime=v["default"](),this.startAnimationIfNecessary()},componentWillReceiveProps:function(t){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var e=t.styles;"function"==typeof e?this.unreadPropStyles=e(o(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):this.unreadPropStyles=e,null==this.animationID&&(this.prevTime=v["default"](),this.startAnimationIfNecessary())},componentWillUnmount:function(){this.unmounting=!0,null!=this.animationID&&(b["default"].cancel(this.animationID),this.animationID=null)},render:function(){var t=o(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),e=this.props.children(t);return e&&T["default"].Children.only(e)}});e["default"]=C,t.exports=e["default"]},function(t,e){"use strict";function n(t,e,n){for(var r={},o=0;o<t.length;o++)r[t[o].key]=o;for(var i={},o=0;o<e.length;o++)i[e[o].key]=o;for(var a=[],o=0;o<e.length;o++)a[o]=e[o];for(var o=0;o<t.length;o++)if(!Object.prototype.hasOwnProperty.call(i,t[o].key)){var s=n(o,t[o]);null!=s&&a.push(s)}return a.sort(function(t,n){var o=i[t.key],a=i[n.key],s=r[t.key],l=r[n.key];if(null!=o&&null!=a)return i[t.key]-i[n.key];if(null!=s&&null!=l)return r[t.key]-r[n.key];if(null!=o){for(var u=0;u<e.length;u++){var c=e[u].key;if(Object.prototype.hasOwnProperty.call(r,c)){if(o<i[c]&&l>r[c])return-1;if(o>i[c]&&l<r[c])return 1}}return 1}for(var u=0;u<e.length;u++){var c=e[u].key;if(Object.prototype.hasOwnProperty.call(r,c)){if(a<i[c]&&s>r[c])return 1;if(a>i[c]&&s<r[c])return-1}}return-1})}e.__esModule=!0,e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){return i({},l,e,{val:t})}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e["default"]=o;var a=n(986),s=r(a),l=i({},s["default"].noWobble,{precision:.01});t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},t.exports=e["default"]},function(t,e,n){"use strict";function r(){}e.__esModule=!0,e["default"]=r;t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(989),u=r(l),c=n(917),f=r(c),p=40,h=i["default"].createClass({displayName:"GenomeScale",mixins:[s["default"]],propTypes:{start:i["default"].PropTypes.number,end:i["default"].PropTypes.number,width:i["default"].PropTypes.number,sideWidth:i["default"].PropTypes.number},componentDidMount:function(){this.paint()},componentDidUpdate:function(){this.paint()},render:function(){var t=this.props,e=t.width,n=t.sideWidth;return i["default"].createElement("div",{className:"channel-container"},i["default"].createElement("div",{className:"channel-side",style:{width:n+"px",height:p}}),i["default"].createElement("div",{className:"channel-stack"},i["default"].createElement("div",{className:"channel-data scale"},i["default"].createElement("canvas",{className:"scale",ref:"canvas",width:e-n,height:p}))))},paint:function(){var t=this.props,e=t.start,n=t.end,r=t.width,o=t.sideWidth,i=this.refs.canvas,a=f["default"].scale.linear().domain([e,n]).range([0,r-o]),s=50,l=Math.max((0,u["default"])(n-e,r,s),1);e=Math.max(0,e),e=Math.floor(e/l)*l,n=Math.max(e,n);var c=a.tickFormat((n-e)/(5*l),n-e>5e3?"s":null),p=i.getContext("2d");p.lineWidth=.25,p.strokeStyle="darkgrey",p.textAlign="center",p.textBaseline="top",p.font="14px Roboto,sans-serif",p.clearRect(0,0,i.width,i.height),p.beginPath();for(var h=e;h<n;h+=l)if(h/l%5!==0){var d=a(h);p.moveTo(d,34),p.lineTo(d,40)}p.stroke(),p.beginPath();for(var m=e;m<n;m+=l)if(m/l%5===0){var y=a(m);p.moveTo(y,26),p.lineTo(y,40),p.fillText(c(m),0==m&&0==e?y+10:y,10)}p.lineWidth=.5,p.stroke()}});t.exports=h},function(t,e){"use strict";t.exports=function(t,e,n){return Math.pow(5,Math.floor(Math.log(2*(t/(e/n)))/1.6094379124341003))}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(980),u=r(l),c=n(979),f=r(c),p=n(654),h=r(p),d=20,m=i["default"].createClass({displayName:"LoadingIndicator",mixins:[s["default"]],propTypes:{animate:i["default"].PropTypes.bool,width:i["default"].PropTypes.number},componentDidMount:function(){this.paint(this.refs.canvas,(0,f["default"])()/100%100),this.props.animate&&(this.raf=(0,u["default"])(this.onTick))},componentWillReceiveProps:function(t){!this.raf&&t.animate&&(this.raf=(0,u["default"])(this.onTick)),!t.animate&&this.raf&&(u["default"].cancel(this.raf),this.raf=null)},componentWillUnmount:function(){this.raf&&u["default"].cancel(this.raf)},onTick:function(){this.paint(this.refs.canvas,(0,f["default"])()/100%100),this.raf=(0,u["default"])(this.onTick)},paint:function(t,e){var n=t.getContext("2d");n.strokeStyle="#3d8bd5",n.fillStyle="#FFF",n.lineWidth=1,n.fillRect(0,0,101,21),n.beginPath(),n.moveTo(0,10+10*Math.sin(e));for(var r=0;r<=100;r+=4)n.lineTo(r,10+10*Math.sin(r*Math.PI*4/100+e));n.moveTo(0,10+10*Math.cos(e));for(var o=0;o<=100;o+=4)n.lineTo(o,10+10*Math.cos(o*Math.PI*4/100+e));for(var i=0;i<=100;i+=10)n.moveTo(i,10+10*Math.cos(i*Math.PI*4/100+e)),n.lineTo(i,10+10*Math.sin(i*Math.PI*4/100+e));n.stroke(),n.strokeStyle="rgb(255,50,50)",n.lineWidth=3,n.beginPath(),n.moveTo(20,10+10*Math.cos(20*Math.PI*4/100+e)),n.lineTo(20,10+10*Math.sin(20*Math.PI*4/100+e)),n.stroke(),n.strokeStyle="rgb(255,170,50)",n.lineWidth=3,n.beginPath(),n.moveTo(30,10+10*Math.cos(30*Math.PI*4/100+e)),n.lineTo(30,10+10*Math.sin(30*Math.PI*4/100+e)),n.stroke(),n.strokeStyle="rgb(0,128,192)",n.lineWidth=3,n.beginPath(),n.moveTo(40,10+10*Math.cos(40*Math.PI*4/100+e)),n.lineTo(40,10+10*Math.sin(40*Math.PI*4/100+e)),n.stroke(),n.strokeStyle="rgb(0,192,120)",n.lineWidth=3,n.beginPath(),n.moveTo(50,10+10*Math.cos(50*Math.PI*4/100+e)),n.lineTo(50,10+10*Math.sin(50*Math.PI*4/100+e)),n.stroke()},render:function(){return i["default"].createElement("canvas",{ref:"canvas",className:(0,h["default"])({"loading-canvas":!0,loading:this.props.animate}),width:this.props.width,height:d})}});t.exports=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(992),a=r(i),s=n(952),l=r(s),u=n(928),c=r(u),f=n(654),p=r(f),h=n(316),d=r(h),m=n(584),y=r(m),v=n(583),g=r(v),b=n(582),_=r(b),x=1e9,w=d["default"].createClass({displayName:"Controls",mixins:[y["default"],_["default"],g["default"]],propTypes:{setProps:d["default"].PropTypes.func.isRequired,chromosome:d["default"].PropTypes.string.isRequired,start:d["default"].PropTypes.number.isRequired,end:d["default"].PropTypes.number.isRequired,minWidth:d["default"].PropTypes.number.isRequired},componentWillMount:function(){this.setFromProps(this.props)},componentWillReceiveProps:function(t){this.setFromProps(t)},setFromProps:function(t){var e=t.start,n=t.end,r=t.chromosome;this.setState({midpoint:(n+e)/2,width:n-e,regionText:r+":"+Math.round(e)+"-"+Math.round(n),regionValid:!0})},handleChromChange:function(){this.props.setProps({chromosome:this.refs.chromosome.value})},handleRangeChange:function(){this.setState({midpoint:this.refs.midpoint.value,width:this.refs.width.value});var t=parseInt(this.refs.midpoint.value),e=parseInt(this.refs.width.value);(0,a["default"])(t)&&(0,a["default"])(e)&&t>=0&&t<=(this.config.chromosomes[this.props.chromosome].len||x)&&e>this.props.minWidth&&this.props.setProps({start:t-e/2,end:t+e/2})},handleRegionChange:function(){var t=this.refs.region.value;this.setState({regionText:t});var e=t.trim().match(/^(?:(.+):)?([0-9]+)-([0-9]+)$/);if(e){var n=e.slice(1),r=o(n,3),i=r[0],a=r[1],s=r[2];if(a=parseInt(a),s=parseInt(s),i=i||this.props.chromosome,(0,c["default"])(this.config.chromosomes,i)&&a<s)return this.setState({regionValid:!0}),void this.props.setProps({chromosome:i,start:a,end:s})}this.setState({regionValid:!1})},render:function(){var t=this.props,e=t.chromosome,n=t.minWidth,r=this.state,o=r.midpoint,i=r.width,a=r.regionText,s=r.regionValid,u=this.config.chromosomes[e].len||x;return d["default"].createElement("span",{className:"controls"},d["default"].createElement("span",null," Chromosome: "),d["default"].createElement("span",null,d["default"].createElement("select",{ref:"chromosome",value:e,onChange:this.handleChromChange},(0,l["default"])(this.config.chromosomes,function(t,e){return d["default"].createElement("option",{key:e,value:e},e)}))),d["default"].createElement("span",null," Region: "),d["default"].createElement("span",null,d["default"].createElement("input",{className:(0,p["default"])({wide:!0,invalid:!s}),ref:"region",type:"text",spellCheck:"false",value:a,min:n,max:u,onChange:this.handleRegionChange})),d["default"].createElement("span",null," Midpoint: "),d["default"].createElement("span",null,d["default"].createElement("input",{ref:"midpoint",type:"number",min:0,max:u,value:parseInt(o),onChange:this.handleRangeChange})),d["default"].createElement("span",null," Width: "),d["default"].createElement("span",null,d["default"].createElement("input",{ref:"width",type:"number",value:parseInt(i),min:n,max:u,onChange:this.handleRangeChange})))}});t.exports=w},function(t,e,n){function r(t){return"number"==typeof t&&i(t)}var o=n(302),i=o.isFinite;t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(989),u=r(l),c=n(917),f=r(c),p=i["default"].createClass({displayName:"Background",mixins:[s["default"]],propTypes:{start:i["default"].PropTypes.number,end:i["default"].PropTypes.number,width:i["default"].PropTypes.number,height:i["default"].PropTypes.number,sideWidth:i["default"].PropTypes.number},componentDidMount:function(){this.paint()},componentDidUpdate:function(){this.paint()},render:function(){var t=this.props,e=t.width,n=t.height;return i["default"].createElement("canvas",{className:"background",ref:"canvas",width:e,height:n})},paint:function(){var t=this.props,e=t.start,n=t.end,r=t.width,o=t.height,i=t.sideWidth,a=this.refs.canvas,s=f["default"].scale.linear().domain([e,n]).range([i,r]),l=50,c=Math.max((0,u["default"])(n-e,r,l),1);e=Math.max(0,e),e=Math.ceil(e/c)*c,e=Math.max(0,e),n=Math.max(e,n);var p=a.getContext("2d",{alpha:!1});p.lineWidth=.25,p.strokeStyle="darkgrey",p.clearRect(0,0,a.width,a.height),p.beginPath();for(var h=e;h<n;h+=c){var d=s(h);p.moveTo(d,40),p.lineTo(d,o)}p.stroke(),p.beginPath();for(var m=e;m<n;m+=c)if(m/c%5===0){var y=s(m);p.moveTo(y,40),p.lineTo(y,o)}p.lineWidth=.5,p.stroke()}});t.exports=p},function(t,e,n){var r=n(995);"string"==typeof r&&(r=[[t.id,r,""]]);n(782)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(781)(),e.push([t.id,".genome-browser{height:calc(100% - 41px);width:100%}.genome-browser .control-bar{line-height:40px}.genome-browser .control-bar .loading-canvas{transition:opacity .5s ease-in-out}.genome-browser .control-bar .loading-canvas.loading{opacity:1}.genome-browser .control-bar .controls span select{line-height:normal;padding-right:15px}.genome-browser .control-bar .controls span input{width:80px}.genome-browser .control-bar .controls span .wide{width:200px}.genome-browser .control-bar .controls>*{padding-left:10px}.genome-browser .control-bar>*{vertical-align:middle;padding-left:10px}.genome-browser .main-area{position:relative;height:calc(100% - 33px)}.genome-browser .main-area .main-area-shadow{position:absolute;height:100%;top:0;box-shadow:inset 0 1px 6px rgba(0,0,0,.12),inset 0 1px 4px rgba(0,0,0,.24)}.genome-browser .main-area .tracks{position:relative}.genome-browser .main-area .tracks .background{z-index:-1;position:absolute;top:0;left:0}.genome-browser .main-area .tracks .fixed{z-index:1}.genome-browser .main-area .tracks .fixed .channel-container:first-child .channel-stack .channel-data{box-shadow:inset 2px 2px 4px rgba(0,0,0,.24)}.genome-browser .main-area .tracks .fixed .channel-container:last-child{box-shadow:-1px 1px 4px rgba(0,0,0,.24);border-bottom:none}.genome-browser .main-area .tracks .fixed .channel-stack .channel-data{box-shadow:inset 4px 0 4px -2px rgba(0,0,0,.24)}.genome-browser .main-area .tracks .scrolling{overflow-y:scroll}.genome-browser .main-area .tracks .scrolling .channel-container:last-child .channel-side{box-shadow:-1px 2px 4px rgba(0,0,0,.24)}.genome-browser .main-area .tracks .scrolling .channel-stack .channel-data{box-shadow:inset 3px 0 4px -2px rgba(0,0,0,.24)}.config-container{box-shadow:3px 1px 4px rgba(0,0,0,.24)}.legend-container{box-shadow:3px 0 4px rgba(0,0,0,.24)}.channel-container{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:stretch;align-items:stretch;border-bottom:1px solid #66a2de}.channel-container .channel-side{position:relative;overflow:hidden;background-color:#fff}.channel-container .channel-side .close{color:#d62728;padding-right:6px}.channel-container .channel-side .icon{opacity:.6}.channel-container .channel-side .icon:hover{opacity:1}.channel-container .channel-side .button{width:25px;height:25px;line-height:19px;padding:3px;position:absolute;text-align:center;right:0}.channel-container .channel-side .button .open{color:#3d8bd5}.channel-container .channel-side .config{top:0}.channel-container .channel-side .legend{transition:bottom .5s!important;bottom:0}.channel-container .channel-side .close{top:0;left:0}.channel-container .channel-side .side-component{position:absolute;right:0;left:0;text-overflow:ellipsis;overflow:auto;height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:start;justify-content:flex-start}.channel-container .channel-stack{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.channel-container .channel-stack .channel-data{overflow:hidden}.channel-container .channel-stack .channel-data canvas{display:block}.channel-container .channel-stack .tray-container.open{height:inherit}.channel-container .channel-stack .tray-container{position:relative;transition:height .5s!important;background:#fff;height:0;width:100%;overflow:hidden}.channel-container .channel-stack .tray-container .legend{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-wrap:wrap;flex-wrap:wrap;padding-right:16px}.channel-container .channel-stack .tray-container .legend .legend-element{min-height:26px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:start;justify-content:flex-start;padding-left:16px}.channel-container .channel-stack .tray-container .legend .legend-element .label{padding-left:8px}.channel-container .channel-stack .tray-container .channel-controls{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-wrap:wrap;flex-wrap:wrap}.channel-container .channel-stack .tray-container .channel-controls .control{min-height:50px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:start;justify-content:flex-start}.channel-container .channel-stack .tray-container .channel-controls .control .label{padding-left:10px;padding-right:5px}.channel-container .channel-stack .tray-container .channel-controls .control .dropdown{top:-4px}.channel-container .channel-stack .tray-container .channel-controls .control .slider{margin-left:30px;width:100px}.channel-container .channel-stack .tray-container .channel-controls .control .numeric-input{width:80px}.sequence{position:relative}.sequence canvas{position:absolute;transform-origin:top left}.side-name{padding:5px 35px 5px 30px}.genotypes-table{position:relative}.genotypes-table *{position:absolute;top:0;left:0}.genotypes-side{width:100%;height:100%;text-overflow:ellipsis;overflow:auto;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:start;justify-content:flex-start}.genotypes-side .row-label{padding:10px 35px 5px 10px}.genotypes-side canvas{position:absolute;bottom:0;right:0}.numerical-channel-canvas-holder{position:relative}.numerical-channel-canvas-holder canvas{position:absolute;top:0;left:0}.numerical-channel-canvas-holder .categorical{opacity:.7}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(583),l=r(s),u=n(960),c=r(u),f=n(582),p=r(f),h=n(922),d=r(h),m=n(997),y=r(m),v=n(952),g=r(v),b=n(655),_=r(b),x=n(1009),w=r(x),T=n(768),E=r(T),C=n(940),k=r(C),S=n(1010),P=n(950),M=r(P),A=n(1016),O=r(A),D=n(1060),L=r(D),I=n(933),j=r(I),F=n(927),R=r(F),N=n(1063),z=n(1064),B=r(z),U=n(1065),W=r(U),q=n(1062),V=50,H=a["default"].createClass({displayName:"PerRowIndicatorChannel",mixins:[(0,c["default"])({redirect:["setProps","onClose"],check:["chromosome","width","sideWidth","name","table","colourProperty","query"]}),p["default"],l["default"],(0,d["default"])("chromosome","start","end","table","query","width","sideWidth","colourProperty")],propTypes:{setProps:a["default"].PropTypes.func,chromosome:a["default"].PropTypes.string,start:a["default"].PropTypes.number,end:a["default"].PropTypes.number,width:a["default"].PropTypes.number,sideWidth:a["default"].PropTypes.number,name:a["default"].PropTypes.string,onClose:a["default"].PropTypes.func,table:a["default"].PropTypes.string.isRequired,query:a["default"].PropTypes.string,colourProperty:a["default"].PropTypes.string,onChangeLoadStatus:a["default"].PropTypes.func},getDefaultProps:function(){return{query:k["default"].nullQuery}},getInitialState:function(){return{knownValues:null}},componentWillMount:function(){this.positions=[],this.tooBigBlocks=[]},componentDidMount:function(){this.draw(this.props)},componentDidUpdate:function(){this.draw(this.props)},fetchData:function(t,e){var n=this,r=t.chromosome,o=t.start,i=t.end,a=t.width,s=t.sideWidth,l=t.table,u=t.query,c=t.colourProperty,f=this.config.tablesById[l];if(this.props.chromosome===r&&this.props.table===l||this.applyData(t,[]),!(a-s<1)){if(c&&!f.propertiesById[c])return void(0,M["default"])(this.getFlux(),"Per "+l+" channel: "+c+" is not a valid property of "+l);var p=(0,S.findBlock)({start:o,end:i}),h=p.blockLevel,d=p.blockIndex,m=p.needNext;this.props.chromosome===r&&this.props.table===l&&this.props.query===u&&this.props.colourProperty===c&&this.blockLevel===h&&this.blockIndex===d&&this.needNext===m||!function(){n.blockLevel=h,n.blockIndex=d,n.needNext=m,n.props.onChangeLoadStatus("LOADING");var t=[f.primKey,f.position];c&&t.push(c),u=k["default"].WhereClause.decode(u),u=k["default"].WhereClause.AND([k["default"].WhereClause.CompareFixed(f.chromosome,"=",r),u]);var a={database:n.config.dataset,table:l,columns:t,query:k["default"].WhereClause.encode(u),transpose:!1},s={method:"query",regionField:f.position,queryField:"query",limitField:"stop",start:o,end:i,blockLimit:1e3,useWiderBlocksIfInCache:!0};e.request(function(t){return(0,S.regionCacheGet)(a,s,t).then(function(t){n.props.onChangeLoadStatus("DONE"),n.applyData(n.props,t)})})["catch"](function(t){throw n.props.onChangeLoadStatus("DONE"),t})["catch"](j["default"].filterAborted)["catch"](R["default"].filterCancelled)["catch"](function(t){throw n.applyData(n.props,[]),(0,M["default"])(n.getFlux(),t.message,function(){return n.fetchData(n.props,e)}),t})}(),this.draw(t)}},applyData:function(t,e){var n=t.table,r=t.colourProperty,i=this.config.tablesById[n];this.positions=(0,S.combineBlocks)(e,i.position),r?(this.colourData=(0,S.combineBlocks)(e,r),this.colourVals=(0,g["default"])(this.colourData,(0,q.propertyColour)(this.config.tablesById[n].propertiesById[r])),this.colourVals=(0,g["default"])(this.colourVals,function(t){return(0,y["default"])(t).clearer(.2).rgbString()}),this.colourValsTranslucent=(0,g["default"])(this.colourVals,function(t){return(0,y["default"])(t).clearer(.4).rgbString()})):(this.colourVals=null,this.colourData=null),this.tooBigBlocks=(0,w["default"])((0,E["default"])(e,{_tooBig:!0}),function(t,e){var n=t[t.length-1];n&&n._blockStart+n._blockSize===e._blockStart?t[t.length-1]=o({},n,{_blockSize:n._blockSize+e._blockSize}):t.push(e)}),this.draw(t)},hatchRect:function(t,e,n,r,o,i){t.rect(e,n,r,o),t.save(),t.clip();var a=Math.max(r,o);t.beginPath();for(var s=-1*a;s<a;s+=i)t.moveTo(s+e,n),t.lineTo(o+s+e,n+o);t.stroke(),t.restore()},draw:function(t){var e=t.table,n=t.width,r=t.sideWidth,o=t.start,i=t.end,a=t.colourProperty,s=this.positions,l=this.colourVals,u=this.colourValsTranslucent,c=this.colourData,f=new Set,p=a&&this.config.tablesById[e].propertiesById[a].isText,h=this.refs.canvas;if(h){var d=h.getContext("2d");d.clearRect(0,0,h.width,h.height),d.save(),d.strokeStyle="rgba(0,0,0,0.5)",d.textAlign="center",d.textBaseline="middle",d.font="14px Roboto";var m=V/2-12,y=(n-r)/(i-o);this.tooBigBlocks.forEach(function(t){var e=y*(t._blockStart-o),i=y*t._blockSize,a=e<0&&e+i>n-r?(n-r)/2:e+i/2;(0,N.hatchRect)(d,e,m,i,24,8),i>100&&(d.save(),d.fillStyle="black",d.strokeStyle="white",d.lineWidth=6,d.lineJoin="miter",d.miterLimit=2,d.strokeText("Zoom in",a,m+12),d.fillText("Zoom in",a,m+12),d.restore())}),d.restore(),m=V/2-6;var v=s.length,g=v<n-r;d.strokeStyle=g?"rgba(0, 0, 0, 0.6)":"rgba(0, 0, 0, 0.4)",d.fillStyle="rgba(214, 39, 40, 0.6)";for(var b=0,x=v;b<x;++b){var w=y*(s[b]-o);w>-6&&w<n+6&&(l&&(g?d.fillStyle=u[b]:d.strokeStyle=l[b],p&&f.add(c[b])),d.beginPath(),d.moveTo(w,m),g?(d.lineTo(w+6,m+12),d.lineTo(w-6,m+12),d.closePath(),d.fill(),d.stroke()):(d.lineTo(w,m+12),d.stroke()))}f=Array.from(f.values()),p?(0,_["default"])(this.state.knownValues,f)||this.setState({knownValues:f}):this.state.knownValues&&this.setState({knownValues:null})}},render:function(){var t=this.props,e=t.width,n=t.sideWidth,r=t.table,i=t.colourProperty,s=this.state.knownValues;return a["default"].createElement(B["default"],{width:e,sideWidth:n,height:V,sideComponent:a["default"].createElement("div",{className:"side-name"},a["default"].createElement("span",null,name||this.config.tablesById[r].capNamePlural)),configComponent:a["default"].createElement(G,o({},this.props,{setProps:this.redirectedProps.setProps})),legendComponent:i?a["default"].createElement(L["default"],{table:r,property:i,knownValues:s}):null,onClose:this.redirectedProps.onClose},a["default"].createElement("canvas",{ref:"canvas",width:e,height:V}))}}),G=a["default"].createClass({displayName:"PerRowIndicatorControls",mixins:[(0,c["default"])({check:["colourProperty","query"],redirect:["setProps"]}),p["default"]],propTypes:{table:a["default"].PropTypes.string,query:a["default"].PropTypes.string,colourProperty:a["default"].PropTypes.string},handleQueryPick:function(t){this.redirectedProps.setProps({query:t})},render:function(){var t=this,e=this.props,n=e.table,r=e.query,o=e.colourProperty;return a["default"].createElement("div",{className:"channel-controls"},a["default"].createElement("div",{className:"control"},a["default"].createElement(W["default"],{table:n,query:r,onPick:this.handleQueryPick})),a["default"].createElement("div",{className:"control"},a["default"].createElement("div",{className:"label"},"Colour By:"),a["default"].createElement(O["default"],{table:n,value:o,onSelect:function(e){return t.redirectedProps.setProps({colourProperty:e})}})))}});t.exports=H},function(t,e,n){var r=n(998),o=n(1003),i=n(1007),a=function(t){if(t instanceof a)return t;if(!(this instanceof a))return new a(t);this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var e;if("string"==typeof t)if(e=i.getRgba(t))this.setValues("rgb",e);else if(e=i.getHsla(t))this.setValues("hsl",e);else{if(!(e=i.getHwb(t)))throw new Error('Unable to parse color from string "'+t+'"');this.setValues("hwb",e)}else if("object"==typeof t)if(e=t,void 0!==e.r||void 0!==e.red)this.setValues("rgb",e);else if(void 0!==e.l||void 0!==e.lightness)this.setValues("hsl",e);else if(void 0!==e.v||void 0!==e.value)this.setValues("hsv",e);else if(void 0!==e.w||void 0!==e.whiteness)this.setValues("hwb",e);else{if(void 0===e.c&&void 0===e.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(t));this.setValues("cmyk",e)}};a.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values.rgb;return t.concat([this.values.alpha])},hslaArray:function(){var t=this.values.hsl;return t.concat([this.values.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t%=360,t=t<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return i.hexString(this.values.rgb)},rgbString:function(){return i.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return i.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return i.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return i.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return i.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return i.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return i.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var r=t[n]/255;e[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb,e=(299*t[0]+587*t[1]+114*t[2])/1e3;return e<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){return this.values.hsl[2]+=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},darken:function(t){return this.values.hsl[2]-=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},saturate:function(t){return this.values.hsl[1]+=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},desaturate:function(t){return this.values.hsl[1]-=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},whiten:function(t){return this.values.hwb[1]+=this.values.hwb[1]*t,this.setValues("hwb",this.values.hwb),this},blacken:function(t){return this.values.hwb[2]+=this.values.hwb[2]*t,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){return this.setValues("alpha",this.values.alpha-this.values.alpha*t),this},opaquer:function(t){return this.setValues("alpha",this.values.alpha+this.values.alpha*t),this},rotate:function(t){var e=this.values.hsl[0];return e=(e+t)%360,e=e<0?360+e:e,this.values.hsl[0]=e,this.setValues("hsl",this.values.hsl),this},mix:function(t,e){var n=this,r=t,o=void 0===e?.5:e,i=2*o-1,a=n.alpha()-r.alpha(),s=((i*a===-1?i:(i+a)/(1+i*a))+1)/2,l=1-s;return this.rgb(s*n.red()+l*r.red(),s*n.green()+l*r.green(),s*n.blue()+l*r.blue()).alpha(n.alpha()*o+r.alpha()*(1-o))},toJSON:function(){return this.rgb()},clone:function(){var t=new a;return t.values=r(this.values),t}},a.prototype.getValues=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=this.values[t][n];return 1!==this.values.alpha&&(e.a=this.values.alpha),
e},a.prototype.setValues=function(t,e){var n,r={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},i={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},a=1;if("alpha"===t)a=e;else if(e.length)this.values[t]=e.slice(0,t.length),a=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)this.values[t][n]=e[t.charAt(n)];a=e.a}else if(void 0!==e[r[t][0]]){var s=r[t];for(n=0;n<t.length;n++)this.values[t][n]=e[s[n]];a=e.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0===a?this.values.alpha:a)),"alpha"===t)return!1;var l;for(n=0;n<t.length;n++)l=Math.max(0,Math.min(i[t][n],this.values[t][n])),this.values[t][n]=Math.round(l);for(var u in r)for(u!==t&&(this.values[u]=o[t][u](this.values[t])),n=0;n<u.length;n++)l=Math.max(0,Math.min(i[u][n],this.values[u][n])),this.values[u][n]=Math.round(l);return!0},a.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},a.prototype.setChannel=function(t,e,n){return void 0===n?this.values[t][e]:n===this.values[t][e]?this:(this.values[t][e]=n,this.setValues(t,this.values[t]),this)},t.exports=a},function(t,e,n){(function(e){var n=function(){"use strict";function t(n,r,o,i){function s(n,o){if(null===n)return null;if(0==o)return n;var l,p;if("object"!=typeof n)return n;if(t.__isArray(n))l=[];else if(t.__isRegExp(n))l=new RegExp(n.source,a(n)),n.lastIndex&&(l.lastIndex=n.lastIndex);else if(t.__isDate(n))l=new Date(n.getTime());else{if(f&&e.isBuffer(n))return l=new e(n.length),n.copy(l),l;"undefined"==typeof i?(p=Object.getPrototypeOf(n),l=Object.create(p)):(l=Object.create(i),p=i)}if(r){var h=u.indexOf(n);if(h!=-1)return c[h];u.push(n),c.push(l)}for(var d in n){var m;p&&(m=Object.getOwnPropertyDescriptor(p,d)),m&&null==m.set||(l[d]=s(n[d],o-1))}return l}var l;"object"==typeof r&&(o=r.depth,i=r.prototype,l=r.filter,r=r.circular);var u=[],c=[],f="undefined"!=typeof e;return"undefined"==typeof r&&(r=!0),"undefined"==typeof o&&(o=1/0),s(n,o)}function n(t){return Object.prototype.toString.call(t)}function r(t){return"object"==typeof t&&"[object Date]"===n(t)}function o(t){return"object"==typeof t&&"[object Array]"===n(t)}function i(t){return"object"==typeof t&&"[object RegExp]"===n(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return t.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},t.__objToStr=n,t.__isDate=r,t.__isArray=o,t.__isRegExp=i,t.__getRegExpFlags=a,t}();"object"==typeof t&&t.exports&&(t.exports=n)}).call(e,n(999).Buffer)},function(t,e,n){(function(t,r){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function o(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function i(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,n){if(i()<n)throw new RangeError("Invalid typed array length");return t.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(n),e.__proto__=t.prototype):(null===e&&(e=new t(n)),e.length=n),e}function t(e,n,r){if(!(t.TYPED_ARRAY_SUPPORT||this instanceof t))return new t(e,n,r);if("number"==typeof e){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return s(this,e,n,r)}function s(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?h(t,e,n,r):"string"==typeof e?f(t,e,n):d(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e,n,r){return l(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}function c(e,n){if(l(n),e=a(e,n<0?0:0|m(n)),!t.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;++r)e[r]=0;return e}function f(e,n,r){if("string"==typeof r&&""!==r||(r="utf8"),!t.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var o=0|v(n,r);e=a(e,o);var i=e.write(n,r);return i!==o&&(e=e.slice(0,i)),e}function p(t,e){var n=e.length<0?0:0|m(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(e,n,r,o){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(o||0))throw new RangeError("'length' is out of bounds");return n=void 0===r&&void 0===o?new Uint8Array(n):void 0===o?new Uint8Array(n,r):new Uint8Array(n,r,o),t.TYPED_ARRAY_SUPPORT?(e=n,e.__proto__=t.prototype):e=p(e,n),e}function d(e,n){if(t.isBuffer(n)){var r=0|m(n.length);return e=a(e,r),0===e.length?e:(n.copy(e,0,0,r),e)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||K(n.length)?a(e,0):p(e,n);if("Buffer"===n.type&&$(n.data))return p(e,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function y(e){return+e!=e&&(e=0),t.alloc(+e)}function v(e,n){if(t.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var o=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(e).length;default:if(o)return H(e).length;n=(""+n).toLowerCase(),o=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return L(this,e,n);case"utf8":case"utf-8":return M(this,e,n);case"ascii":return O(this,e,n);case"latin1":case"binary":return D(this,e,n);case"base64":return P(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function b(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function _(e,n,r,o,i){if(0===e.length)return-1;if("string"==typeof r?(o=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof n&&(n=t.from(n,o)),t.isBuffer(n))return 0===n.length?-1:x(e,n,r,o,i);if("number"==typeof n)return n=255&n,t.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):x(e,[n],r,o,i);throw new TypeError("val must be string, number or Buffer")}function x(t,e,n,r,o){function i(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,l=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}var u;if(o){var c=-1;for(u=n;u<s;u++)if(i(t,u)===i(e,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===l)return c*a}else c!==-1&&(u-=u-c),c=-1}else for(n+l>s&&(n=s-l),u=n;u>=0;u--){for(var f=!0,p=0;p<l;p++)if(i(t,u+p)!==i(e,p)){f=!1;break}if(f)return u}return-1}function w(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=e.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function T(t,e,n,r){return X(H(e,t.length-n),t,n,r)}function E(t,e,n,r){return X(G(e),t,n,r)}function C(t,e,n,r){return E(t,e,n,r)}function k(t,e,n,r){return X(Z(e),t,n,r)}function S(t,e,n,r){return X(Y(e,t.length-n),t,n,r)}function P(t,e,n){return 0===e&&n===t.length?Q.fromByteArray(t):Q.fromByteArray(t.slice(e,n))}function M(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i=t[o],a=null,s=i>239?4:i>223?3:i>191?2:1;if(o+s<=n){var l,u,c,f;switch(s){case 1:i<128&&(a=i);break;case 2:l=t[o+1],128===(192&l)&&(f=(31&i)<<6|63&l,f>127&&(a=f));break;case 3:l=t[o+1],u=t[o+2],128===(192&l)&&128===(192&u)&&(f=(15&i)<<12|(63&l)<<6|63&u,f>2047&&(f<55296||f>57343)&&(a=f));break;case 4:l=t[o+1],u=t[o+2],c=t[o+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(f=(15&i)<<18|(63&l)<<12|(63&u)<<6|63&c,f>65535&&f<1114112&&(a=f))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=s}return A(r)}function A(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=tt));return n}function O(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function D(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function L(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=V(t[i]);return o}function I(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function j(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function F(e,n,r,o,i,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>i||n<a)throw new RangeError('"value" argument is out of bounds');if(r+o>e.length)throw new RangeError("Index out of range")}function R(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function N(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function z(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,r,o){return o||z(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,o){return o||z(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(t,e,n,r,52,8),n+8}function W(t){if(t=q(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function q(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function V(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){e=e||1/0;for(var n,r=t.length,o=null,i=[],a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=(o-55296<<10|n-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Y(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function Z(t){return Q.toByteArray(W(t))}function X(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function K(t){return t!==t}var Q=n(1e3),J=n(1001),$=n(1002);e.Buffer=t,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,t.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:o(),e.kMaxLength=i(),t.poolSize=8192,t._augment=function(e){return e.__proto__=t.prototype,e},t.from=function(t,e,n){return s(null,t,e,n)},t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0})),t.alloc=function(t,e,n){return u(null,t,e,n)},t.allocUnsafe=function(t){return c(null,t)},t.allocUnsafeSlow=function(t){return c(null,t)},t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,o=n.length,i=0,a=Math.min(r,o);i<a;++i)if(e[i]!==n[i]){r=e[i],o=n[i];break}return r<o?-1:o<r?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!$(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var o=t.allocUnsafe(n),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!t.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,i),i+=a.length}return o},t.byteLength=v,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},t.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},t.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?M(this,0,t):g.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e,n,r,o,i){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),n<0||r>e.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&n>=r)return 0;if(o>=i)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,o>>>=0,i>>>=0,this===e)return 0;for(var a=i-o,s=r-n,l=Math.min(a,s),u=this.slice(o,i),c=e.slice(n,r),f=0;f<l;++f)if(u[f]!==c[f]){a=u[f],s=c[f];break}return a<s?-1:s<a?1:0},t.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},t.prototype.indexOf=function(t,e,n){return _(this,t,e,n,!0)},t.prototype.lastIndexOf=function(t,e,n){return _(this,t,e,n,!1)},t.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e=0|e,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return T(this,t,e,n);case"ascii":return E(this,t,e,n);case"latin1":case"binary":return C(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var o;if(t.TYPED_ARRAY_SUPPORT)o=this.subarray(e,n),o.__proto__=t.prototype;else{var i=n-e;o=new t(i,(void 0));for(var a=0;a<i;++a)o[a]=this[a+e]}return o},t.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||j(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},t.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||j(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},t.prototype.readUInt8=function(t,e){return e||j(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||j(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||j(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||j(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},t.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||j(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},t.prototype.readInt8=function(t,e){return e||j(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},t.prototype.readInt16LE=function(t,e){e||j(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||j(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||j(t,4,this.length),J.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||j(t,4,this.length),J.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||j(t,8,this.length),J.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||j(t,8,this.length),J.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e=0|e,n=0|n,!r){var o=Math.pow(2,8*n)-1;F(this,t,e,n,o,0)}var i=1,a=0;for(this[e]=255&t;++a<n&&(i*=256);)this[e+a]=t/i&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e=0|e,n=0|n,!r){var o=Math.pow(2,8*n)-1;F(this,t,e,n,o,0)}var i=n-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+n},t.prototype.writeUInt8=function(e,n,r){return e=+e,n=0|n,r||F(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=0|n,r||F(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):R(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=0|n,r||F(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):R(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=0|n,r||F(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):N(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=0|n,r||F(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):N(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e=0|e,!r){var o=Math.pow(2,8*n-1);F(this,t,e,n,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},t.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e=0|e,!r){var o=Math.pow(2,8*n-1);F(this,t,e,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},t.prototype.writeInt8=function(e,n,r){return e=+e,n=0|n,r||F(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,r){return e=+e,n=0|n,r||F(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):R(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,r){return e=+e,n=0|n,r||F(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):R(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,r){return e=+e,n=0|n,r||F(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):N(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,r){return e=+e,n=0|n,r||F(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):N(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},t.prototype.copy=function(e,n,r,o){if(r||(r=0),o||0===o||(o=this.length),n>=e.length&&(n=e.length),n||(n=0),o>0&&o<r&&(o=r),o===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-n<o-r&&(o=e.length-n+r);var i,a=o-r;if(this===e&&r<n&&n<o)for(i=a-1;i>=0;--i)e[i+n]=this[i+r];else if(a<1e3||!t.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+n]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),n);return a},t.prototype.fill=function(e,n,r,o){if("string"==typeof e){if("string"==typeof n?(o=n,n=0,r=this.length):"string"==typeof r&&(o=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!t.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof e&&(e=255&e);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var a;if("number"==typeof e)for(a=n;a<r;++a)this[a]=e;else{var s=t.isBuffer(e)?e:H(new t(e,o).toString()),l=s.length;for(a=0;a<r-n;++a)this[a+n]=s[a%l]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,n(999).Buffer,function(){return this}())},function(t,e){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function r(t){return 3*t.length/4-n(t)}function o(t){var e,r,o,i,a,s,l=t.length;a=n(t),s=new c(3*l/4-a),o=a>0?l-4:l;var f=0;for(e=0,r=0;e<o;e+=4,r+=3)i=u[t.charCodeAt(e)]<<18|u[t.charCodeAt(e+1)]<<12|u[t.charCodeAt(e+2)]<<6|u[t.charCodeAt(e+3)],s[f++]=i>>16&255,s[f++]=i>>8&255,s[f++]=255&i;return 2===a?(i=u[t.charCodeAt(e)]<<2|u[t.charCodeAt(e+1)]>>4,s[f++]=255&i):1===a&&(i=u[t.charCodeAt(e)]<<10|u[t.charCodeAt(e+1)]<<4|u[t.charCodeAt(e+2)]>>2,s[f++]=i>>8&255,s[f++]=255&i),s}function i(t){return l[t>>18&63]+l[t>>12&63]+l[t>>6&63]+l[63&t]}function a(t,e,n){for(var r,o=[],a=e;a<n;a+=3)r=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(i(r));return o.join("")}function s(t){for(var e,n=t.length,r=n%3,o="",i=[],s=16383,u=0,c=n-r;u<c;u+=s)i.push(a(t,u,u+s>c?c:u+s));return 1===r?(e=t[n-1],o+=l[e>>2],o+=l[e<<4&63],o+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],o+=l[e>>10],o+=l[e>>4&63],o+=l[e<<2&63],o+="="),i.push(o),i.join("")}e.byteLength=r,e.toByteArray=o,e.fromByteArray=s;for(var l=[],u=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,h=f.length;p<h;++p)l[p]=f[p],u[f.charCodeAt(p)]=p;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?o-1:0,p=n?-1:1,h=t[e+f];for(f+=p,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+t[e+f],f+=p,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=p,c-=8);if(0===i)i=1-u;else{if(i===l)return a?NaN:(h?-1:1)*(1/0);a+=Math.pow(2,r),i-=u}return(h?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,l,u=8*i-o-1,c=(1<<u)-1,f=c>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),e+=a+f>=1?p/l:p*Math.pow(2,1-f),e*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*l-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&s,h+=d,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;t[n+h]=255&a,h+=d,a/=256,u-=8);t[n+h-d]|=128*m}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){function r(t){var e=function(e){return void 0===e||null===e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}function o(t){var e=function(e){if(void 0===e||null===e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"==typeof n)for(var r=n.length,o=0;o<r;o++)n[o]=Math.round(n[o]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}var i=n(1004),a=n(1006),s={},l=Object.keys(i);l.forEach(function(t){s[t]={},Object.defineProperty(s[t],"channels",{value:i[t].channels});var e=a(t),n=Object.keys(e);n.forEach(function(n){var i=e[n];s[t][n]=o(i),s[t][n].raw=r(i)})}),t.exports=s},function(t,e,n){function r(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}var o=n(1005),i={};for(var a in o)o.hasOwnProperty(a)&&(i[o[a]]=a);var s=t.exports={rgb:{channels:3},hsl:{channels:3},hsv:{channels:3},hwb:{channels:3},cmyk:{channels:4},xyz:{channels:3},lab:{channels:3},lch:{channels:3},hex:{channels:1},keyword:{channels:1},ansi16:{channels:1},ansi256:{channels:1},hcg:{channels:3},apple:{channels:3}};for(var l in s)if(s.hasOwnProperty(l)){if(!("channels"in s[l]))throw new Error("missing channels property: "+l);var u=s[l].channels;delete s[l].channels,Object.defineProperty(s[l],"channels",{value:u})}s.rgb.hsl=function(t){var e,n,r,o=t[0]/255,i=t[1]/255,a=t[2]/255,s=Math.min(o,i,a),l=Math.max(o,i,a),u=l-s;return l===s?e=0:o===l?e=(i-a)/u:i===l?e=2+(a-o)/u:a===l&&(e=4+(o-i)/u),e=Math.min(60*e,360),e<0&&(e+=360),r=(s+l)/2,n=l===s?0:r<=.5?u/(l+s):u/(2-l-s),[e,100*n,100*r]},s.rgb.hsv=function(t){var e,n,r,o=t[0],i=t[1],a=t[2],s=Math.min(o,i,a),l=Math.max(o,i,a),u=l-s;return n=0===l?0:u/l*1e3/10,l===s?e=0:o===l?e=(i-a)/u:i===l?e=2+(a-o)/u:a===l&&(e=4+(o-i)/u),e=Math.min(60*e,360),e<0&&(e+=360),r=l/255*1e3/10,[e,n,r]},s.rgb.hwb=function(t){var e=t[0],n=t[1],r=t[2],o=s.rgb.hsl(t)[0],i=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[o,100*i,100*r]},s.rgb.cmyk=function(t){var e,n,r,o,i=t[0]/255,a=t[1]/255,s=t[2]/255;return o=Math.min(1-i,1-a,1-s),e=(1-i-o)/(1-o)||0,n=(1-a-o)/(1-o)||0,r=(1-s-o)/(1-o)||0,[100*e,100*n,100*r,100*o]},s.rgb.keyword=function(t){var e=i[t];if(e)return e;var n,a=1/0;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s],u=r(t,l);u<a&&(a=u,n=s)}return n},s.keyword.rgb=function(t){return o[t]},s.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var o=.4124*e+.3576*n+.1805*r,i=.2126*e+.7152*n+.0722*r,a=.0193*e+.1192*n+.9505*r;return[100*o,100*i,100*a]},s.rgb.lab=function(t){var e,n,r,o=s.rgb.xyz(t),i=o[0],a=o[1],l=o[2];return i/=95.047,a/=100,l/=108.883,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,e=116*a-16,n=500*(i-a),r=200*(a-l),[e,n,r]},s.hsl.rgb=function(t){var e,n,r,o,i,a=t[0]/360,s=t[1]/100,l=t[2]/100;if(0===s)return i=255*l,[i,i,i];n=l<.5?l*(1+s):l+s-l*s,e=2*l-n,o=[0,0,0];for(var u=0;u<3;u++)r=a+1/3*-(u-1),r<0&&r++,r>1&&r--,i=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e,o[u]=255*i;return o},s.hsl.hsv=function(t){var e,n,r=t[0],o=t[1]/100,i=t[2]/100,a=o,s=Math.max(i,.01);return i*=2,o*=i<=1?i:2-i,a*=s<=1?s:2-s,n=(i+o)/2,e=0===i?2*a/(s+a):2*o/(i+o),[r,100*e,100*n]},s.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,o=Math.floor(e)%6,i=e-Math.floor(e),a=255*r*(1-n),s=255*r*(1-n*i),l=255*r*(1-n*(1-i));switch(r*=255,o){case 0:return[r,l,a];case 1:return[s,r,a];case 2:return[a,r,l];case 3:return[a,s,r];case 4:return[l,a,r];case 5:return[r,a,s]}},s.hsv.hsl=function(t){var e,n,r,o=t[0],i=t[1]/100,a=t[2]/100,s=Math.max(a,.01);return r=(2-i)*a,e=(2-i)*s,n=i*s,n/=e<=1?e:2-e,n=n||0,r/=2,[o,100*n,100*r]},s.hwb.rgb=function(t){var e,n,r,o,i=t[0]/360,a=t[1]/100,s=t[2]/100,l=a+s;l>1&&(a/=l,s/=l),e=Math.floor(6*i),n=1-s,r=6*i-e,0!==(1&e)&&(r=1-r),o=a+r*(n-a);var u,c,f;switch(e){default:case 6:case 0:u=n,c=o,f=a;break;case 1:u=o,c=n,f=a;break;case 2:u=a,c=n,f=o;break;case 3:u=a,c=o,f=n;break;case 4:u=o,c=a,f=n;break;case 5:u=n,c=a,f=o}return[255*u,255*c,255*f]},s.cmyk.rgb=function(t){var e,n,r,o=t[0]/100,i=t[1]/100,a=t[2]/100,s=t[3]/100;return e=1-Math.min(1,o*(1-s)+s),n=1-Math.min(1,i*(1-s)+s),r=1-Math.min(1,a*(1-s)+s),[255*e,255*n,255*r]},s.xyz.rgb=function(t){var e,n,r,o=t[0]/100,i=t[1]/100,a=t[2]/100;return e=3.2406*o+i*-1.5372+a*-.4986,n=o*-.9689+1.8758*i+.0415*a,r=.0557*o+i*-.204+1.057*a,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,e=Math.min(Math.max(0,e),1),n=Math.min(Math.max(0,n),1),r=Math.min(Math.max(0,r),1),[255*e,255*n,255*r]},s.xyz.lab=function(t){var e,n,r,o=t[0],i=t[1],a=t[2];return o/=95.047,i/=100,a/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,e=116*i-16,n=500*(o-i),r=200*(i-a),[e,n,r]},s.lab.xyz=function(t){var e,n,r,o=t[0],i=t[1],a=t[2];n=(o+16)/116,e=i/500+n,r=n-a/200;var s=Math.pow(n,3),l=Math.pow(e,3),u=Math.pow(r,3);return n=s>.008856?s:(n-16/116)/7.787,e=l>.008856?l:(e-16/116)/7.787,r=u>.008856?u:(r-16/116)/7.787,e*=95.047,n*=100,r*=108.883,[e,n,r]},s.lab.lch=function(t){var e,n,r,o=t[0],i=t[1],a=t[2];return e=Math.atan2(a,i),n=360*e/2/Math.PI,n<0&&(n+=360),r=Math.sqrt(i*i+a*a),[o,r,n]},s.lch.lab=function(t){var e,n,r,o=t[0],i=t[1],a=t[2];return r=a/360*2*Math.PI,e=i*Math.cos(r),n=i*Math.sin(r),[o,e,n]},s.rgb.ansi16=function(t){var e=t[0],n=t[1],r=t[2],o=1 in arguments?arguments[1]:s.rgb.hsv(t)[2];if(o=Math.round(o/50),0===o)return 30;var i=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===o&&(i+=60),i},s.hsv.ansi16=function(t){return s.rgb.ansi16(s.hsv.rgb(t),t[2])},s.rgb.ansi256=function(t){var e=t[0],n=t[1],r=t[2];if(e===n&&n===r)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var o=16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5);return o},s.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var n=.5*(~~(t>50)+1),r=(1&e)*n*255,o=(e>>1&1)*n*255,i=(e>>2&1)*n*255;return[r,o,i]},s.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}t-=16;var n,r=Math.floor(t/36)/5*255,o=Math.floor((n=t%36)/6)/5*255,i=n%6/5*255;return[r,o,i]},s.rgb.hex=function(t){var e=((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2])),n=e.toString(16).toUpperCase();return"000000".substring(n.length)+n},s.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}/i);if(!e)return[0,0,0];var n=parseInt(e[0],16),r=n>>16&255,o=n>>8&255,i=255&n;return[r,o,i]},s.rgb.hcg=function(t){var e,n,r=t[0]/255,o=t[1]/255,i=t[2]/255,a=Math.max(Math.max(r,o),i),s=Math.min(Math.min(r,o),i),l=a-s;return e=l<1?s/(1-l):0,n=l<=0?0:a===r?(o-i)/l%6:a===o?2+(i-r)/l:4+(r-o)/l+4,n/=6,n%=1,[360*n,100*l,100*e]},s.hsl.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=1,o=0;return r=n<.5?2*e*n:2*e*(1-n),r<1&&(o=(n-.5*r)/(1-r)),[t[0],100*r,100*o]},s.hsv.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=e*n,o=0;return r<1&&(o=(n-r)/(1-r)),[t[0],100*r,100*o]},s.hcg.rgb=function(t){var e=t[0]/360,n=t[1]/100,r=t[2]/100;if(0===n)return[255*r,255*r,255*r];var o=[0,0,0],i=e%1*6,a=i%1,s=1-a,l=0;switch(Math.floor(i)){case 0:o[0]=1,o[1]=a,o[2]=0;break;case 1:o[0]=s,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=a;break;case 3:o[0]=0,o[1]=s,o[2]=1;break;case 4:o[0]=a,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=s}return l=(1-n)*r,[255*(n*o[0]+l),255*(n*o[1]+l),255*(n*o[2]+l)]},s.hcg.hsv=function(t){var e=t[1]/100,n=t[2]/100,r=e+n*(1-e),o=0;return r>0&&(o=e/r),[t[0],100*o,100*r]},s.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100,r=n*(1-e)+.5*e,o=0;return r>0&&r<.5?o=e/(2*r):r>=.5&&r<1&&(o=e/(2*(1-r))),[t[0],100*o,100*r]},s.hcg.hwb=function(t){var e=t[1]/100,n=t[2]/100,r=e+n*(1-e);return[t[0],100*(r-e),100*(1-r)]},s.hwb.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=1-n,o=r-e,i=0;return o<1&&(i=(r-o)/(1-o)),[t[0],100*o,100*i]},s.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},s.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]}},function(t,e){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],
ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,n){function r(){for(var t={},e=l.length,n=0;n<e;n++)t[l[n]]={distance:-1,parent:null};return t}function o(t){var e=r(),n=[t];for(e[t].distance=0;n.length;)for(var o=n.pop(),i=Object.keys(s[o]),a=i.length,l=0;l<a;l++){var u=i[l],c=e[u];c.distance===-1&&(c.distance=e[o].distance+1,c.parent=o,n.unshift(u))}return e}function i(t,e){return function(n){return e(t(n))}}function a(t,e){for(var n=[e[t].parent,t],r=s[e[t].parent][t],o=e[t].parent;e[o].parent;)n.unshift(e[o].parent),r=i(s[e[o].parent][o],r),o=e[o].parent;return r.conversion=n,r}var s=n(1004),l=Object.keys(s);t.exports=function(t){for(var e=o(t),n={},r=Object.keys(e),i=r.length,s=0;s<i;s++){var l=r[s],u=e[l];null!==u.parent&&(n[l]=a(l,e))}return n}},function(t,e,n){function r(t){if(t){var e=/^#([a-fA-F0-9]{3})$/,n=/^#([a-fA-F0-9]{6})$/,r=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,i=/(\D+)/,a=[0,0,0],s=1,l=t.match(e);if(l){l=l[1];for(var u=0;u<a.length;u++)a[u]=parseInt(l[u]+l[u],16)}else if(l=t.match(n)){l=l[1];for(var u=0;u<a.length;u++)a[u]=parseInt(l.slice(2*u,2*u+2),16)}else if(l=t.match(r)){for(var u=0;u<a.length;u++)a[u]=parseInt(l[u+1]);s=parseFloat(l[4])}else if(l=t.match(o)){for(var u=0;u<a.length;u++)a[u]=Math.round(2.55*parseFloat(l[u+1]));s=parseFloat(l[4])}else if(l=t.match(i)){if("transparent"==l[1])return[0,0,0,0];if(a=_[l[1]],!a)return}for(var u=0;u<a.length;u++)a[u]=g(a[u],0,255);return s=s||0==s?g(s,0,1):1,a[3]=s,a}}function o(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var r=parseFloat(n[4]),o=g(parseInt(n[1]),0,360),i=g(parseFloat(n[2]),0,100),a=g(parseFloat(n[3]),0,100),s=g(isNaN(r)?1:r,0,1);return[o,i,a,s]}}}function i(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var r=parseFloat(n[4]),o=g(parseInt(n[1]),0,360),i=g(parseFloat(n[2]),0,100),a=g(parseFloat(n[3]),0,100),s=g(isNaN(r)?1:r,0,1);return[o,i,a,s]}}}function a(t){var e=r(t);return e&&e.slice(0,3)}function s(t){var e=o(t);return e&&e.slice(0,3)}function l(t){var e=r(t);return e?e[3]:(e=o(t))?e[3]:(e=i(t))?e[3]:void 0}function u(t){return"#"+b(t[0])+b(t[1])+b(t[2])}function c(t,e){return e<1||t[3]&&t[3]<1?f(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function f(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function p(t,e){if(e<1||t[3]&&t[3]<1)return h(t,e);var n=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),o=Math.round(t[2]/255*100);return"rgb("+n+"%, "+r+"%, "+o+"%)"}function h(t,e){var n=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),o=Math.round(t[2]/255*100);return"rgba("+n+"%, "+r+"%, "+o+"%, "+(e||t[3]||1)+")"}function d(t,e){return e<1||t[3]&&t[3]<1?m(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function m(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function y(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function v(t){return x[t.slice(0,3)]}function g(t,e,n){return Math.min(Math.max(e,t),n)}function b(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var _=n(1008);t.exports={getRgba:r,getHsla:o,getRgb:a,getHsl:s,getHwb:i,getAlpha:l,hexString:u,rgbString:c,rgbaString:f,percentString:p,percentaString:h,hslString:d,hslaString:m,hwbString:y,keyword:v};var x={};for(var w in _)x[_[w]]=w},function(t,e){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,n){function r(t,e,n){var r=u(t)||p(t);if(e=s(e,4),null==n)if(r||f(t)){var h=t.constructor;n=r?u(t)?new h:[]:c(h)?i(l(t)):{}}else n={};return(r?o:a)(t,function(t,r,o){return e(n,t,r,o)}),n}var o=n(638),i=n(614),a=n(723),s=n(727),l=n(851),u=n(630),c=n(602),f=n(300),p=n(716);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){var e=t.start,n=t.end,r=t.width,o=Math.ceil(Math.log(n-e)/Math.log(2)),i=Math.floor(e/Math.pow(2,o));return{blockLevel:o,blockIndex:i,needNext:n>=Math.pow(2,o)+Math.pow(2,o)*i,summaryWindow:Math.max(1,Math.pow(2,Math.ceil(Math.log(Math.pow(2,o)/r)/Math.log(2))))}}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,m.assertRequired)(e,["method","regionField","queryField","start","end"]);var r=e.method,o=e.regionField,a=e.queryField,c=e.limitField,f=e.start,h=e.end,d=e.blockLimit,y=e.useWiderBlocksIfInCache;if(h<f)throw Error("PropertyRegionCache, end must be >= start");var v=JSON.stringify({method:r,regionField:o,queryField:a,limitField:c,blockLimit:d,APIArgs:t}),g=i(e),b=g.blockLevel,_=g.blockIndex,x=g.needNext,w=F[v];if(!w||w[b]&&w[b][_]&&w[b][_+1]){var T=[s(t,e,b,_,n).then(l(t,e,b,_,n))];return x&&T.push(s(t,e,b,_+1,n).then(l(t,e,b,_+1,n))),Promise.all(T).then(p)}if(y)for(var E=~~(_/2),C=~~(_+.5),k=b+1;k<w.length;++k,E=~~(E/2),C=~~(C/2))if(w[k]&&w[k][E]&&w[k][C])return Promise.all(E===C?[s(t,e,k,E,n)]:[s(t,e,k,E,n),s(t,e,k,C,n)]).then(u(t,e,b,_,n));return Promise.all([s(t,e,b,_,n).then(l(t,e,b,_,n)),s(t,e,b,_+1,n).then(l(t,e,b,_+1,n))]).then(p)}function s(t,e,n,r,i){var a=e.method,s=e.regionField,l=e.queryField,u=e.limitField,c=e.blockLimit,f=e.postProcessBlock,p=e.isBlockTooBig;p=p||function(t,e){return!(t[(0,T["default"])(t)[0]].shape[0]<=e)};var h=JSON.stringify({method:a,regionField:s,queryField:l,limitField:u,blockLimit:c,APIArgs:t}),m=Math.pow(2,n),y=m*r,g=x["default"].WhereClause.AND([x["default"].WhereClause.decode(t[l]),x["default"].WhereClause.CompareFixed(s,">=",y),x["default"].WhereClause.CompareFixed(s,"<",y+m)]);return t=d({},t,o({},l,x["default"].WhereClause.encode(g))),u&&c&&(t[u]=c+1),b["default"].get("propertyRegionCache"+a+JSON.stringify(t),function(e){return v["default"][a](d({cancellation:e},t)).then(function(t){return p(t,c)?d({_blockStart:y,_blockSize:m,_tooBig:!0},t):d({_blockStart:y,_blockSize:m},f?f(t):t)})},i).then(function(t){return F[h]||(F[h]=[]),F[h][n]||(F[h][n]=[]),F[h][n][r]=!0,t})}function l(t,e,n,r,o){return function(i){if(!i._tooBig)return i;var a=function(){for(var i=2,a=n-i,l=[],u=Math.pow(2,i),c=r*u;c<(r+1)*u;++c)l.push(c);return{v:Promise.all((0,C["default"])(l,function(n){return s(t,e,a,n,o)}))}}();return"object"===("undefined"==typeof a?"undefined":h(a))?a.v:void 0}}function u(t,e,n,r,o){return function(i){return(0,S["default"])(i,function(t){return t._tooBig})?Promise.all([s(t,e,n,r,o).then(l(t,e,n,r,o)),s(t,e,n,r+1,o).then(l(t,e,n,r+1,o))]).then(p):i}}function c(t,e){if(t=(0,M["default"])(t,function(t){return!t._tooBig}),0==t.length)return[];if(!t[0][e].array.set)return(0,j["default"])(t,function(t,n){return Array.prototype.push.apply(t,n[e]||[])},[]);var n=function(){var n=new t[0][e].array.constructor((0,O["default"])(t,function(t){return t[e].array.length})),r=0;return(0,L["default"])(t,function(t){var o=t[e].array;n.set(o,r),r+=o.length}),{v:n}}();return"object"===("undefined"==typeof n?"undefined":h(n))?n.v:void 0}function f(t,e,n){var r=(e-t)/n;return Math.max(1,Math.pow(2,Math.round(Math.log(r)/Math.log(2))))}function p(t){var e=[];return t.forEach(function(t){Array.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)}),e}Object.defineProperty(e,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.findBlock=i,e.regionCacheGet=a,e.combineBlocks=c,e.optimalSummaryWindow=f;var m=n(939),y=n(933),v=r(y),g=n(927),b=r(g),_=n(940),x=r(_),w=n(700),T=r(w),E=n(952),C=r(E),k=n(1011),S=r(k),P=n(768),M=r(P),A=n(1013),O=r(A),D=n(1015),L=r(D),I=n(1009),j=r(I),F={}},function(t,e,n){function r(t,e,n){var r=s(t)?o:a;return n&&l(t,e,n)&&(e=void 0),r(t,i(e,3))}var o=n(692),i=n(727),a=n(1012),s=n(630),l=n(793);t.exports=r},function(t,e,n){function r(t,e){var n;return o(t,function(t,r,o){return n=e(t,r,o),!n}),!!n}var o=n(722);t.exports=r},function(t,e,n){function r(t,e){return t&&t.length?i(t,o(e,2)):0}var o=n(727),i=n(1014);t.exports=r},function(t,e){function n(t,e){for(var n,r=-1,o=t.length;++r<o;){var i=e(t[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}t.exports=n},function(t,e,n){t.exports=n(721)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(583),s=r(a),l=n(960),u=r(l),c=n(582),f=r(c),p=n(1017),h=r(p),d=n(1019),m=r(d),y=n(1059),v=r(y),g=n(1015),b=r(g),_=n(768),x=r(_),w=i["default"].createClass({displayName:"PropertySelector",mixins:[(0,u["default"])({redirect:["onSelect"],check:["table","value"]}),f["default"],s["default"]],propTypes:{table:i["default"].PropTypes.string,value:i["default"].PropTypes.string,filter:i["default"].PropTypes.func,onSelect:i["default"].PropTypes.func,label:i["default"].PropTypes.string,allowNull:i["default"].PropTypes.bool},getDefaultProps:function(){return{filter:function(){return!0}}},render:function(){var t=this,e=this.props,n=e.table,r=e.value,o=e.label,a=e.filter,s=e.allowNull,l=s?[i["default"].createElement(v["default"],{value:"__NULL__",primaryText:"None"})]:[],u=0;if(n){var c=this.config.tablesById[n].propertyGroups;(0,b["default"])(c,function(t){var e=(0,x["default"])(t.properties,a);if(0!=e.length){l.length&&l.push(i["default"].createElement(h["default"],{key:u++}));var n=t.id,r=t.name;l.push(i["default"].createElement(v["default"],{disabled:!0,value:n,key:n,primaryText:r})),(0,b["default"])(e,function(t){var e=t.id,n=t.name;l.push(i["default"].createElement(v["default"],{value:e,key:e,primaryText:n}))})}})}return i["default"].createElement(m["default"],{value:"__NULL__"===r?void 0:r,autoWidth:!0,floatingLabelText:o,onChange:function(e,n,r){return t.redirectedProps.onSelect("__NULL__"===r?null:r)}},l)}});e["default"]=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1018),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(798),s=r(a),l=n(316),u=r(l),c={className:l.PropTypes.string,inset:l.PropTypes.bool,style:l.PropTypes.object},f={inset:!1},p={muiTheme:l.PropTypes.object.isRequired},h=function(t,e){var n=t.inset,r=t.style,a=o(t,["inset","style"]),l=e.muiTheme,c=l.prepareStyles,f={root:{margin:0,marginTop:-1,marginLeft:n?72:0,height:1,border:"none",backgroundColor:l.baseTheme.palette.borderColor}};return u["default"].createElement("hr",i({},a,{style:c((0,s["default"])({},f.root,r))}))};h.muiName="Divider",h.propTypes=c,h.defaultProps=f,h.contextTypes=p,e["default"]=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1020),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t){return{label:{paddingLeft:0,top:t.floatingLabelText?6:-4},icon:{right:0,top:t.floatingLabelText?22:14},hideDropDownUnderline:{borderTop:"none"},dropDownMenu:{display:"block"}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(1021),y=r(m),v=n(1028),g=r(v),b=n(818),_=r(b),x=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=t.autoWidth,n=t.children,r=t.style,i=t.labelStyle,a=t.iconStyle,s=t.id,c=t.underlineDisabledStyle,f=t.underlineFocusStyle,h=t.underlineStyle,m=t.errorStyle,v=t.selectFieldRoot,b=t.disabled,_=t.floatingLabelFixed,x=t.floatingLabelText,w=t.floatingLabelStyle,T=t.hintStyle,E=t.hintText,C=t.fullWidth,k=t.errorText,S=t.maxHeight,P=t.menuStyle,M=t.onFocus,A=t.onBlur,O=t.onChange,D=t.value,L=o(t,["autoWidth","children","style","labelStyle","iconStyle","id","underlineDisabledStyle","underlineFocusStyle","underlineStyle","errorStyle","selectFieldRoot","disabled","floatingLabelFixed","floatingLabelText","floatingLabelStyle","hintStyle","hintText","fullWidth","errorText","maxHeight","menuStyle","onFocus","onBlur","onChange","value"]),I=l(this.props,this.context);return d["default"].createElement(y["default"],u({},L,{style:r,disabled:b,floatingLabelFixed:_,floatingLabelText:x,floatingLabelStyle:w,hintStyle:T,hintText:E||x?E:" ",fullWidth:C,errorText:k,underlineStyle:h,errorStyle:m,onFocus:M,onBlur:A,id:s,underlineDisabledStyle:c,underlineFocusStyle:f}),d["default"].createElement(g["default"],{disabled:b,style:(0,p["default"])(I.dropDownMenu,v,P),labelStyle:(0,p["default"])(I.label,i),iconStyle:(0,p["default"])(I.icon,a),underlineStyle:I.hideDropDownUnderline,autoWidth:e,value:D,onChange:O,maxHeight:S},n))}}]),e}(h.Component);x.propTypes={autoWidth:h.PropTypes.bool,children:h.PropTypes.node,disabled:h.PropTypes.bool,errorStyle:h.PropTypes.object,errorText:h.PropTypes.node,floatingLabelFixed:h.PropTypes.bool,floatingLabelStyle:h.PropTypes.object,floatingLabelText:h.PropTypes.node,fullWidth:h.PropTypes.bool,hintStyle:h.PropTypes.object,hintText:h.PropTypes.node,iconStyle:h.PropTypes.object,id:h.PropTypes.string,labelStyle:h.PropTypes.object,maxHeight:h.PropTypes.number,menuStyle:h.PropTypes.object,onBlur:h.PropTypes.func,onChange:h.PropTypes.func,onFocus:h.PropTypes.func,selectFieldRoot:(0,_["default"])(h.PropTypes.object,"Instead, use `menuStyle`. It will be removed with v0.16.0."),style:h.PropTypes.object,underlineDisabledStyle:h.PropTypes.object,underlineFocusStyle:h.PropTypes.object,underlineStyle:h.PropTypes.object,value:h.PropTypes.any},x.defaultProps={autoWidth:!1,disabled:!1,fullWidth:!1},x.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1022),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t){return""!==t&&void 0!==t&&null!==t}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(345),y=r(m),v=n(806),g=r(v),b=n(808),_=r(b),x=n(857),w=n(799),T=r(w),E=n(818),C=r(E),k=n(1023),S=r(k),P=n(1025),M=r(P),A=n(1026),O=r(A),D=n(1027),L=r(D),I=n(308),j=(r(I),function(t,e,n){var r=e.muiTheme,o=r.baseTheme,i=r.textField,a=i.floatingLabelColor,s=i.focusColor,l=i.textColor,u=i.disabledTextColor,c=i.backgroundColor,f=i.hintColor,h=i.errorColor,d={root:{fontSize:16,lineHeight:"24px",width:t.fullWidth?"100%":256,height:24*(t.rows-1)+(t.floatingLabelText?72:48),display:"inline-block",position:"relative",backgroundColor:c,fontFamily:o.fontFamily,transition:T["default"].easeOut("200ms","height")},error:{position:"relative",bottom:2,fontSize:12,lineHeight:"12px",color:h,transition:T["default"].easeOut()},floatingLabel:{color:f,pointerEvents:"none"},input:{WebkitTapHighlightColor:"rgba(0,0,0,0)",padding:0,position:"relative",width:"100%",border:"none",outline:"none",backgroundColor:"rgba(0,0,0,0)",color:t.disabled?u:l,cursor:t.disabled?"not-allowed":"initial",font:"inherit"},textarea:{}};return(0,p["default"])(d.error,t.errorStyle),(0,p["default"])(d.textarea,d.input,{marginTop:t.floatingLabelText?36:12,marginBottom:t.floatingLabelText?-36:-12,boxSizing:"border-box",font:"inherit"}),d.input.height="100%",n.hasValue&&(d.floatingLabel.color=(0,x.fade)(t.disabled?u:a,.5)),n.isFocused&&(d.floatingLabel.color=s),t.floatingLabelText&&(d.input.boxSizing="border-box",t.multiLine||(d.input.marginTop=14),n.errorText&&(d.error.bottom=t.multiLine?3:d.error.fontSize+3)),n.errorText&&n.isFocused&&(d.floatingLabel.color=d.error.color),d}),F=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.state={isFocused:!1,errorText:void 0,hasValue:!1,isClean:!0},r.handleInputBlur=function(t){r.setState({isFocused:!1}),r.props.onBlur&&r.props.onBlur(t)},r.handleInputChange=function(t){r.setState({hasValue:l(t.target.value),isClean:!1}),r.props.onChange&&r.props.onChange(t,t.target.value)},r.handleInputFocus=function(t){r.props.disabled||(r.setState({isFocused:!0}),r.props.onFocus&&r.props.onFocus(t))},r.handleInputKeyDown=function(t){"enter"===(0,g["default"])(t)&&r.props.onEnterKeyDown&&r.props.onEnterKeyDown(t),r.props.onKeyDown&&r.props.onKeyDown(t)},r.handleHeightChange=function(t,e){var n=e+24;r.props.floatingLabelText&&(n+=24),y["default"].findDOMNode(r).style.height=n+"px"},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentWillMount",value:function(){var t=this.props,e=t.children,n=t.name,r=t.hintText,o=t.floatingLabelText,i=(t.id,e?e.props:this.props);this.setState({errorText:this.props.errorText,hasValue:l(i.value)||l(i.defaultValue)});var a=n+"-"+r+"-"+o+"-"+Math.floor(65535*Math.random());this.uniqueId=a.replace(/[^A-Za-z0-9-]/gi,"")}},{key:"componentWillReceiveProps",value:function(t){if(t.errorText!==this.props.errorText&&this.setState({errorText:t.errorText}),t.children&&t.children.props&&(t=t.children.props),t.hasOwnProperty("value")){var e=l(t.value)||this.state.isClean&&l(t.defaultValue);e!==this.state.hasValue&&this.setState({hasValue:e})}}},{key:"shouldComponentUpdate",value:function(t,e,n){return!(0,_["default"])(this.props,t)||!(0,_["default"])(this.state,e)||!(0,_["default"])(this.context,n)}},{key:"blur",value:function(){this.input&&this.getInputNode().blur()}},{key:"focus",value:function(){this.input&&this.getInputNode().focus()}},{key:"select",value:function(){this.input&&this.getInputNode().select()}},{key:"getValue",value:function(){return this.input?this.getInputNode().value:void 0}},{key:"getInputNode",value:function(){return this.props.children||this.props.multiLine?this.input.getInputNode():y["default"].findDOMNode(this.input)}},{key:"_isControlled",value:function(){return this.props.hasOwnProperty("value")}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,r=e.className,i=e.disabled,a=e.errorStyle,s=(e.errorText,e.floatingLabelFixed),l=(e.floatingLabelFocusStyle,e.floatingLabelStyle,e.floatingLabelText),c=(e.fullWidth,e.hintText),f=e.hintStyle,h=e.id,m=e.inputStyle,y=e.multiLine,v=(e.onBlur,e.onChange,e.onFocus,e.style),g=e.type,b=e.underlineDisabledStyle,_=e.underlineFocusStyle,x=e.underlineShow,w=e.underlineStyle,T=e.rows,E=e.rowsMax,C=e.textareaStyle,k=o(e,["children","className","disabled","errorStyle","errorText","floatingLabelFixed","floatingLabelFocusStyle","floatingLabelStyle","floatingLabelText","fullWidth","hintText","hintStyle","id","inputStyle","multiLine","onBlur","onChange","onFocus","style","type","underlineDisabledStyle","underlineFocusStyle","underlineShow","underlineStyle","rows","rowsMax","textareaStyle"]),P=this.context.muiTheme.prepareStyles,A=j(this.props,this.context,this.state),D=h||this.uniqueId,I=this.state.errorText&&d["default"].createElement("div",{style:P(A.error)},this.state.errorText),F=l&&d["default"].createElement(O["default"],{muiTheme:this.context.muiTheme,style:(0,p["default"])(A.floatingLabel,this.props.floatingLabelStyle),shrinkStyle:this.props.floatingLabelFocusStyle,htmlFor:D,shrink:this.state.hasValue||this.state.isFocused||s,disabled:i},l),R={id:D,ref:function(e){return t.input=e},disabled:this.props.disabled,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,onKeyDown:this.handleInputKeyDown},N=(0,p["default"])(A.input,m),z=void 0;z=n?d["default"].cloneElement(n,u({},R,n.props,{style:(0,p["default"])(N,n.props.style)})):y?d["default"].createElement(S["default"],u({},k,R,{style:N,rows:T,rowsMax:E,onHeightChange:this.handleHeightChange,textareaStyle:(0,p["default"])(A.textarea,C)})):d["default"].createElement("input",u({},k,R,{style:P(N),type:g}));var B={};return n&&(B=k),d["default"].createElement("div",u({},B,{className:r,style:P((0,p["default"])(A.root,v))}),F,c?d["default"].createElement(M["default"],{muiTheme:this.context.muiTheme,show:!(this.state.hasValue||l&&!this.state.isFocused)||!this.state.hasValue&&l&&s&&!this.state.isFocused,style:f,text:c}):null,z,x?d["default"].createElement(L["default"],{disabled:i,disabledStyle:b,error:!!this.state.errorText,errorStyle:a,focus:this.state.isFocused,focusStyle:_,muiTheme:this.context.muiTheme,style:w}):null,I)}}]),e}(h.Component);F.propTypes={children:h.PropTypes.node,className:h.PropTypes.string,defaultValue:h.PropTypes.any,disabled:h.PropTypes.bool,errorStyle:h.PropTypes.object,errorText:h.PropTypes.node,floatingLabelFixed:h.PropTypes.bool,floatingLabelFocusStyle:h.PropTypes.object,floatingLabelStyle:h.PropTypes.object,floatingLabelText:h.PropTypes.node,fullWidth:h.PropTypes.bool,hintStyle:h.PropTypes.object,hintText:h.PropTypes.node,id:h.PropTypes.string,inputStyle:h.PropTypes.object,multiLine:h.PropTypes.bool,name:h.PropTypes.string,onBlur:h.PropTypes.func,onChange:h.PropTypes.func,onEnterKeyDown:(0,C["default"])(h.PropTypes.func,"Use onKeyDown and check for keycode instead. It will be removed with v0.16.0."),onFocus:h.PropTypes.func,onKeyDown:h.PropTypes.func,rows:h.PropTypes.number,rowsMax:h.PropTypes.number,style:h.PropTypes.object,textareaStyle:h.PropTypes.object,type:h.PropTypes.string,underlineDisabledStyle:h.PropTypes.object,underlineFocusStyle:h.PropTypes.object,underlineShow:h.PropTypes.bool,underlineStyle:h.PropTypes.object,value:h.PropTypes.any},F.defaultProps={disabled:!1,floatingLabelFixed:!1,multiLine:!1,fullWidth:!1,type:"text",underlineShow:!0,rows:1},F.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=F},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){return{root:{position:"relative"},textarea:{height:n.height,width:"100%",resize:"none",font:"inherit",padding:0,cursor:t.disabled?"not-allowed":"initial"},shadow:{resize:"none",overflow:"hidden",visibility:"hidden",position:"absolute",height:"initial"}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(1024),y=r(m),v=24,g=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={height:null},r.handleResize=function(t){r.syncHeightWithShadow(void 0,t)},r.handleChange=function(t){r.syncHeightWithShadow(t.target.value),r.props.hasOwnProperty("valueLink")&&r.props.valueLink.requestChange(t.target.value),
r.props.onChange&&r.props.onChange(t)},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentWillMount",value:function(){this.setState({height:this.props.rows*v})}},{key:"componentDidMount",value:function(){this.syncHeightWithShadow()}},{key:"componentWillReceiveProps",value:function(t){t.value!==this.props.value&&this.syncHeightWithShadow(t.value)}},{key:"getInputNode",value:function(){return this.refs.input}},{key:"setValue",value:function(t){this.getInputNode().value=t,this.syncHeightWithShadow(t)}},{key:"syncHeightWithShadow",value:function(t,e){var n=this.refs.shadow;void 0!==t&&(n.value=t);var r=n.scrollHeight;this.props.rowsMax>=this.props.rows&&(r=Math.min(this.props.rowsMax*v,r)),r=Math.max(r,v),this.state.height!==r&&(this.setState({height:r}),this.props.onHeightChange&&this.props.onHeightChange(e,r))}},{key:"render",value:function(){var t=this.props,e=(t.onChange,t.onHeightChange,t.rows,t.rowsMax,t.shadowStyle),n=t.style,r=t.textareaStyle,i=(t.valueLink,o(t,["onChange","onHeightChange","rows","rowsMax","shadowStyle","style","textareaStyle","valueLink"])),a=this.context.muiTheme.prepareStyles,s=l(this.props,this.context,this.state),c=(0,p["default"])(s.root,n),f=(0,p["default"])(s.textarea,r),h=(0,p["default"])({},f,s.shadow,e);return this.props.hasOwnProperty("valueLink")&&(i.value=this.props.valueLink.value),d["default"].createElement("div",{style:a(c)},d["default"].createElement(y["default"],{target:"window",onResize:this.handleResize}),d["default"].createElement("textarea",{ref:"shadow",style:a(h),tabIndex:"-1",rows:this.props.rows,defaultValue:this.props.defaultValue,readOnly:!0,value:this.props.value,valueLink:this.props.valueLink}),d["default"].createElement("textarea",u({},i,{ref:"input",rows:this.props.rows,style:a(f),onChange:this.handleChange})))}}]),e}(h.Component);g.propTypes={defaultValue:h.PropTypes.any,disabled:h.PropTypes.bool,onChange:h.PropTypes.func,onHeightChange:h.PropTypes.func,rows:h.PropTypes.number,rowsMax:h.PropTypes.number,shadowStyle:h.PropTypes.object,style:h.PropTypes.object,textareaStyle:h.PropTypes.object,value:h.PropTypes.string,valueLink:h.PropTypes.object},g.defaultProps={rows:1},g.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent("on"+e,function(){n.call(t)})}function l(t,e,n,r){t.removeEventListener?t.removeEventListener(e,n,r):t.detachEvent&&t.detachEvent("on"+e,n)}function u(t,e){for(var n in t)if("on"===n.substring(0,2)&&t[n]instanceof Function){var r=n.substring(2).toLowerCase();e(r,t[n])}}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(316),p=r(f),h=n(431),d=r(h),m=function(t){function e(){return o(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),c(e,[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"shouldComponentUpdate",value:function(t){return!(0,d["default"])(this.props,t)}},{key:"componentWillUpdate",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"addListeners",value:function(){var t=this,e=this.props,n=e.capture,r=e.target;r&&!function(){var e=r;"string"==typeof r&&(e=window[r]),u(t.props,function(t,r){return s(e,t,r,n)})}()}},{key:"removeListeners",value:function(){var t=this,e=this.props,n=e.capture,r=e.target;r&&!function(){var e=r;"string"==typeof r&&(e=window[r]),u(t.props,function(t,r){return l(e,t,r,n)})}()}},{key:"render",value:function(){return this.props.children||null}}]),e}(f.Component);m.propTypes={capture:f.PropTypes.bool.isRequired,children:f.PropTypes.node,target:p["default"].PropTypes.oneOfType([p["default"].PropTypes.object,p["default"].PropTypes.string])},m.defaultProps={capture:!1},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=t.muiTheme.textField.hintColor,n=t.show;return{root:{position:"absolute",opacity:n?1:0,color:e,transition:c["default"].easeOut(),bottom:12}}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(798),a=r(i),s=n(316),l=r(s),u=n(799),c=r(u),f=function(t){var e=t.muiTheme.prepareStyles,n=t.style,r=t.text,i=o(t);return l["default"].createElement("div",{style:e((0,a["default"])(i.root,n))},r)};f.propTypes={muiTheme:s.PropTypes.object.isRequired,show:s.PropTypes.bool,style:s.PropTypes.object,text:s.PropTypes.node},f.defaultProps={show:!0},e["default"]=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e={position:"absolute",lineHeight:"22px",top:38,transition:c["default"].easeOut(),zIndex:1,cursor:t.disabled?"not-allowed":"text",transform:"scale(1) translate(0, 0)",transformOrigin:"left top",pointerEvents:"auto",userSelect:"none"},n=t.shrink?(0,a["default"])({transform:"scale(0.75) translate(0, -28px)",pointerEvents:"none"},t.shrinkStyle):null;return{root:(0,a["default"])(e,t.style,n)}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(798),a=r(i),s=n(316),l=r(s),u=n(799),c=r(u),f=function(t){var e=t.muiTheme,n=t.className,r=t.children,i=t.htmlFor,a=t.onTouchTap,s=e.prepareStyles,u=o(t);return l["default"].createElement("label",{className:n,style:s(u.root),htmlFor:i,onTouchTap:a},r)};f.propTypes={children:s.PropTypes.node,className:s.PropTypes.string,disabled:s.PropTypes.bool,htmlFor:s.PropTypes.string,muiTheme:s.PropTypes.object.isRequired,onTouchTap:s.PropTypes.func,shrink:s.PropTypes.bool,shrinkStyle:s.PropTypes.object,style:s.PropTypes.object},f.defaultProps={disabled:!1,shrink:!1},e["default"]=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(798),i=r(o),a=n(316),s=r(a),l=n(799),u=r(l),c={disabled:a.PropTypes.bool,disabledStyle:a.PropTypes.object,error:a.PropTypes.bool,errorStyle:a.PropTypes.object,focus:a.PropTypes.bool,focusStyle:a.PropTypes.object,muiTheme:a.PropTypes.object.isRequired,style:a.PropTypes.object},f={disabled:!1,disabledStyle:{},error:!1,errorStyle:{},focus:!1,focusStyle:{},style:{}},p=function(t){var e=t.disabled,n=t.disabledStyle,r=t.error,o=t.errorStyle,a=t.focus,l=t.focusStyle,c=t.muiTheme,f=t.style,p=o.color,h=c.prepareStyles,d=c.textField,m=d.borderColor,y=d.disabledTextColor,v=d.errorColor,g=d.focusColor,b={root:{border:"none",borderBottom:"solid 1px",borderColor:m,bottom:8,boxSizing:"content-box",margin:0,position:"absolute",width:"100%"},disabled:{borderBottom:"dotted 2px",borderColor:y,cursor:"not-allowed"},focus:{borderBottom:"solid 2px",borderColor:g,transform:"scaleX(0)",transition:u["default"].easeOut()},error:{borderColor:p?p:v,transform:"scaleX(1)"}},_=(0,i["default"])({},b.root,f),x=(0,i["default"])({},_,b.focus,l);return e&&(_=(0,i["default"])({},_,b.disabled,n)),a&&(x=(0,i["default"])({},x,{transform:"scaleX(1)"})),r&&(x=(0,i["default"])({},x,b.error)),s["default"].createElement("div",null,s["default"].createElement("hr",{style:h(_)}),s["default"].createElement("hr",{style:h(x)}))};p.propTypes=c,p.defaultProps=f,e["default"]=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.MenuItem=e.DropDownMenu=void 0;var o=n(1029),i=r(o),a=n(1053),s=r(a);e.DropDownMenu=i["default"],e.MenuItem=s["default"],e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=t.disabled,r=e.muiTheme.baseTheme.spacing,o=e.muiTheme.baseTheme.palette,i=e.muiTheme.dropDownMenu.accentColor;return{control:{cursor:n?"not-allowed":"pointer",height:"100%",position:"relative",width:"100%"},icon:{fill:i,position:"absolute",right:r.desktopGutterLess,top:(r.desktopToolbarHeight-24)/2},label:{color:n?o.disabledColor:o.textColor,lineHeight:r.desktopToolbarHeight+"px",opacity:1,position:"relative",paddingLeft:r.desktopGutter,paddingRight:r.iconSize+r.desktopGutterLess+r.desktopGutterMini,top:0},labelWhenOpen:{opacity:0,top:r.desktopToolbarHeight/8},root:{display:"inline-block",fontSize:r.desktopDropDownMenuFontSize,height:r.desktopSubheaderHeight,fontFamily:e.muiTheme.baseTheme.fontFamily,outline:"none",position:"relative",transition:y["default"].easeOut()},rootWhenOpen:{opacity:1},underline:{borderTop:"solid 1px "+i,bottom:1,left:0,margin:"-1px "+r.desktopGutter+"px",right:0,position:"absolute"}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(799),y=r(m),v=n(1030),g=r(v),b=n(1040),_=r(b),x=n(1046),w=r(x),T=n(1048),E=r(T),C=n(1052),k=r(C),S={vertical:"top",horizontal:"left"},P=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={open:!1},r.handleTouchTapControl=function(t){t.preventDefault(),r.props.disabled||r.setState({open:!r.state.open,anchorEl:r.refs.root})},r.handleRequestCloseMenu=function(){r.setState({open:!1,anchorEl:null})},r.handleItemTouchTap=function(t,e,n){t.persist(),r.setState({open:!1},function(){r.props.onChange&&r.props.onChange(t,n,e.props.value)})},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentDidMount",value:function(){var t=this;this.props.autoWidth&&this.setWidth(),this.props.openImmediately&&(setTimeout(function(){return t.setState({open:!0,anchorEl:t.refs.root})}),setTimeout(function(){return t.setState({open:!0,anchorEl:t.refs.root})},0))}},{key:"componentWillReceiveProps",value:function(){this.props.autoWidth&&this.setWidth()}},{key:"getInputNode",value:function(){var t=this,e=this.refs.root;return e.focus=function(){t.props.disabled||t.setState({open:!t.state.open,anchorEl:t.refs.root})},e}},{key:"setWidth",value:function(){var t=this.refs.root;this.props.style&&this.props.style.hasOwnProperty("width")||(t.style.width="auto")}},{key:"render",value:function(){var t=this.props,e=t.animated,n=t.animation,r=t.autoWidth,i=t.children,a=t.className,s=t.iconStyle,c=t.labelStyle,f=t.listStyle,h=t.maxHeight,m=t.menuStyle,y=(t.openImmediately,t.style),v=t.underlineStyle,b=t.value,x=o(t,["animated","animation","autoWidth","children","className","iconStyle","labelStyle","listStyle","maxHeight","menuStyle","openImmediately","style","underlineStyle","value"]),T=this.state,C=T.anchorEl,P=T.open,M=this.context.muiTheme.prepareStyles,A=l(this.props,this.context),O="";d["default"].Children.forEach(i,function(t){b===t.props.value&&(O=t.props.label||t.props.primaryText)});var D=void 0;return D=C&&!r?(0,p["default"])({width:C.clientWidth},m):m,d["default"].createElement("div",u({},x,{ref:"root",className:a,style:M((0,p["default"])({},A.root,P&&A.rootWhenOpen,y))}),d["default"].createElement(w["default"],{style:A.control,onTouchTap:this.handleTouchTapControl},d["default"].createElement("div",{style:M((0,p["default"])({},A.label,P&&A.labelWhenOpen,c))},O),d["default"].createElement(g["default"],{style:(0,p["default"])({},A.icon,s)}),d["default"].createElement("div",{style:M((0,p["default"])({},A.underline,v))})),d["default"].createElement(E["default"],{anchorOrigin:S,anchorEl:C,animation:n||k["default"],open:P,animated:e,onRequestClose:this.handleRequestCloseMenu},d["default"].createElement(_["default"],{maxHeight:h,desktop:!0,value:b,style:D,listStyle:f,onItemTouchTap:this.handleItemTouchTap},i)))}}]),e}(h.Component);P.muiName="DropDownMenu",P.propTypes={animated:h.PropTypes.bool,animation:h.PropTypes.func,autoWidth:h.PropTypes.bool,children:h.PropTypes.node,className:h.PropTypes.string,disabled:h.PropTypes.bool,iconStyle:h.PropTypes.object,labelStyle:h.PropTypes.object,listStyle:h.PropTypes.object,maxHeight:h.PropTypes.number,menuStyle:h.PropTypes.object,onChange:h.PropTypes.func,openImmediately:h.PropTypes.bool,style:h.PropTypes.object,underlineStyle:h.PropTypes.object,value:h.PropTypes.any},P.defaultProps={animated:!0,autoWidth:!0,disabled:!1,openImmediately:!1,maxHeight:500},P.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=P},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(1031),s=r(a),l=n(1038),u=r(l),c=function(t){return i["default"].createElement(u["default"],t,i["default"].createElement("path",{d:"M7 10l5 5 5-5z"}))};c=(0,s["default"])(c),c.displayName="NavigationArrowDropDown",c.muiName="SvgIcon",e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(1032),i=r(o),a=n(808),s=r(a),l=n(1033),u=r(l),c=(0,i["default"])(function(t,e){return!(0,s["default"])(t,e)});e["default"]=(0,u["default"])(c,"pure",!0,!0)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(316),l=n(1033),u=r(l),c=n(1034),f=r(c),p=function(t){return function(e){var n=(0,f["default"])(e);return function(e){function r(){return o(this,r),i(this,e.apply(this,arguments))}return a(r,e),r.prototype.shouldComponentUpdate=function(e){return t(this.props,e)},r.prototype.render=function(){return n(this.props)},r}(s.Component)}};e["default"]=(0,u["default"])(p,"shouldUpdate")},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t,e){arguments.length<=2||void 0===arguments[2]||arguments[2],!(arguments.length<=3||void 0===arguments[3])&&arguments[3];return t};e["default"]=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(1035),i=r(o),a=n(1036),s=r(a),l=function(t){var e=(0,s["default"])(t);return function(n,r){return(0,i["default"])(!1,e,t,n,r)}};e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=function(t,e,n,r,i){if(!t&&e)return n(i?o({},r,{children:i}):r);var s=n;return i?a["default"].createElement(s,r,i):a["default"].createElement(s,r)};e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(1037),i=r(o),a=function(t){return Boolean(!("function"!=typeof t||(0,i["default"])(t)||t.defaultProps||t.contextTypes||t.propTypes))};e["default"]=a},function(t,e){"use strict";e.__esModule=!0;var n=function(t){return Boolean(t&&t.prototype&&"object"==typeof t.prototype.isReactComponent)};e["default"]=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1039),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=n(799),m=r(d),y=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={hovered:!1},r.handleMouseLeave=function(t){r.setState({hovered:!1}),r.props.onMouseLeave(t)},r.handleMouseEnter=function(t){r.setState({hovered:!0}),r.props.onMouseEnter(t)},o=n,a(r,o)}return s(e,t),u(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.color,r=t.hoverColor,i=(t.onMouseEnter,t.onMouseLeave,t.style),a=t.viewBox,s=o(t,["children","color","hoverColor","onMouseEnter","onMouseLeave","style","viewBox"]),u=this.context.muiTheme,c=u.svgIcon,p=u.prepareStyles,d=n?n:"currentColor",y=r?r:d,v=(0,f["default"])({display:"inline-block",color:c.color,fill:this.state.hovered?y:d,height:24,width:24,userSelect:"none",transition:m["default"].easeOut()},i);return h["default"].createElement("svg",l({},s,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:p(v),viewBox:a}),e)}}]),e}(p.Component);y.muiName="SvgIcon",y.propTypes={children:p.PropTypes.node,color:p.PropTypes.string,hoverColor:p.PropTypes.string,onMouseEnter:p.PropTypes.func,onMouseLeave:p.PropTypes.func,style:p.PropTypes.object,viewBox:p.PropTypes.string},y.defaultProps={onMouseEnter:function(){},onMouseLeave:function(){},viewBox:"0 0 24 24"},y.contextTypes={muiTheme:p.PropTypes.object.isRequired},e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t){return Array.isArray(t)?t:Array.from(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){var n=t.animated,r=t.desktop,o=t.maxHeight,i=t.openDirection,a=void 0===i?"bottom-left":i,s=t.width,l="bottom"===a.split("-")[0],u="left"===a.split("-")[1],c=e.muiTheme,f={root:{transition:n?C["default"].easeOut("250ms","transform"):null,zIndex:c.zIndex.menu,top:l?0:null,bottom:l?null:0,left:u?null:0,right:u?0:null,transform:n?"scaleX(0)":null,transformOrigin:u?"right":"left",opacity:0,maxHeight:o,overflowY:o?"auto":null},divider:{marginTop:7,marginBottom:8},list:{display:"table-cell",paddingBottom:r?16:8,paddingTop:r?16:8,userSelect:"none",width:s},menuItemContainer:{transition:n?C["default"].easeOut(null,"opacity"):null,opacity:0},selectedMenuItem:{color:c.baseTheme.palette.accent1Color}};return f}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=n(798),h=r(p),d=n(316),m=r(d),y=n(345),v=r(y),g=n(808),b=r(g),_=n(1041),x=r(_),w=n(809),T=r(w),E=n(799),C=r(E),k=n(806),S=r(k),P=n(800),M=r(P),A=n(1042),O=r(A),D=n(818),L=r(D),I=n(308),j=(r(I),n(1045)),F=function(t){function e(t,n){a(this,e);var r=s(this,Object.getPrototypeOf(e).call(this,t,n));R.call(r);var o=r.getFilteredChildren(t.children),i=r.getSelectedIndex(t,o);return r.state={focusIndex:t.disableAutoFocus?-1:i>=0?i:0,isKeyboardFocused:t.initiallyKeyboardFocused,keyWidth:t.desktop?64:56},r.hotKeyHolder=new j.HotKeyHolder,r}return l(e,t),f(e,[{key:"componentDidMount",value:function(){this.props.autoWidth&&this.setWidth(),this.props.animated||this.animateOpen(),this.setScollPosition()}},{key:"componentWillReceiveProps",value:function(t){var e=this.getFilteredChildren(t.children),n=this.getSelectedIndex(t,e);this.setState({focusIndex:t.disableAutoFocus?-1:n>=0?n:0,keyWidth:t.desktop?64:56})}},{key:"shouldComponentUpdate",value:function(t,e,n){return!(0,b["default"])(this.props,t)||!(0,b["default"])(this.state,e)||!(0,b["default"])(this.context,n)}},{key:"componentDidUpdate",value:function(){this.props.autoWidth&&this.setWidth()}},{key:"getValueLink",value:function(t){return t.valueLink||{value:t.value,requestChange:t.onChange}}},{key:"setKeyboardFocused",value:function(t){this.setState({isKeyboardFocused:t})}},{key:"getFilteredChildren",value:function(t){var e=[];return m["default"].Children.forEach(t,function(t){t&&e.push(t)}),e}},{key:"animateOpen",value:function(){var t=v["default"].findDOMNode(this).style,e=v["default"].findDOMNode(this.refs.scrollContainer).style,n=v["default"].findDOMNode(this.refs.list).childNodes;T["default"].set(t,"transform","scaleX(1)"),T["default"].set(e,"transform","scaleY(1)"),e.opacity=1;for(var r=0;r<n.length;++r)n[r].style.opacity=1}},{key:"cloneMenuItem",value:function(t,e,n,r){var o=this,i=this.props,a=i.desktop,s=i.selectedMenuItemStyle,l=this.isChildSelected(t,this.props),u={};l&&(u=(0,h["default"])(n.selectedMenuItem,s));var c=(0,h["default"])({},t.props.style,u),f=e===this.state.focusIndex,p="none";return f&&(p=this.state.isKeyboardFocused?"keyboard-focused":"focused"),m["default"].cloneElement(t,{desktop:a,focusState:p,onTouchTap:function(e){o.handleMenuItemTouchTap(e,t,r),t.props.onTouchTap&&t.props.onTouchTap(e)},ref:f?"focusedMenuItem":null,style:c})}},{key:"decrementKeyboardFocusIndex",value:function(){var t=this.state.focusIndex;t--,t<0&&(t=0),this.setFocusIndex(t,!0)}},{key:"getCascadeChildrenCount",value:function(t){var e=this.props,n=e.desktop,r=e.maxHeight,o=1,i=n?16:8,a=n?32:48;return r?(t.forEach(function(t){if(i<r){var e=t.type&&"Divider"===t.type.muiName;i+=e?16:a,o++}}),o):t.length}},{key:"getMenuItemCount",value:function(t){var e=0;return t.forEach(function(t){var n=t.type&&"Divider"===t.type.muiName,r=t.props.disabled;n||r||e++}),e}},{key:"getSelectedIndex",value:function(t,e){var n=this,r=-1,o=0;return e.forEach(function(e){var i=e.type&&"Divider"===e.type.muiName;n.isChildSelected(e,t)&&(r=o),i||o++}),r}},{key:"setFocusIndexStartsWith",value:function(t){var e=-1;return m["default"].Children.forEach(this.props.children,function(n,r){if(!(e>=0)){var o=n.props.primaryText;"string"==typeof o&&new RegExp("^"+t,"i").test(o)&&(e=r)}}),e>=0&&(this.setFocusIndex(e,!0),!0)}},{key:"handleMenuItemTouchTap",value:function(t,e,n){var r=this.props.children,o=this.props.multiple,a=this.getValueLink(this.props),s=a.value,l=e.props.value,u=m["default"].isValidElement(r)?0:r.indexOf(e);if(this.setFocusIndex(u,!1),o){var c=s.indexOf(l),f=i(s),p=f;c===-1?p.push(l):p.splice(c,1),a.requestChange(t,p)}else o||l===s||a.requestChange(t,l);this.props.onItemTouchTap(t,e,n)}},{key:"incrementKeyboardFocusIndex",value:function(t){var e=this.state.focusIndex,n=this.getMenuItemCount(t)-1;e++,e>n&&(e=n),this.setFocusIndex(e,!0)}},{key:"isChildSelected",value:function(t,e){var n=this.getValueLink(e).value,r=t.props.value;return e.multiple?n.length&&n.indexOf(r)!==-1:t.props.hasOwnProperty("value")&&n===r}},{key:"setFocusIndex",value:function(t,e){this.setState({focusIndex:t,isKeyboardFocused:e})}},{key:"setScollPosition",value:function(){var t=this.props.desktop,e=this.refs.focusedMenuItem,n=t?32:48;if(e){var r=v["default"].findDOMNode(e).offsetTop,o=r-n;o<n&&(o=0),v["default"].findDOMNode(this.refs.scrollContainer).scrollTop=o}}},{key:"setWidth",value:function(){var t=v["default"].findDOMNode(this),e=v["default"].findDOMNode(this.refs.list),n=t.offsetWidth,r=this.state.keyWidth,o=1.5*r,i=n/r,a=void 0;i=i<=1.5?1.5:Math.ceil(i),a=i*r,a<o&&(a=o),t.style.width=a+"px",e.style.width=a+"px"}},{key:"render",value:function(){var t=this,e=this.props,n=e.animated,r=(e.autoWidth,e.children),i=e.desktop,a=(e.disableAutoFocus,e.initiallyKeyboardFocused,e.listStyle),s=(e.maxHeight,e.multiple,e.openDirection),l=void 0===s?"bottom-left":s,f=(e.onItemTouchTap,e.onEscKeyDown,e.selectedMenuItemStyle,e.style),p=(e.value,e.valueLink,e.width,e.zDepth,o(e,["animated","autoWidth","children","desktop","disableAutoFocus","initiallyKeyboardFocused","listStyle","maxHeight","multiple","openDirection","onItemTouchTap","onEscKeyDown","selectedMenuItemStyle","style","value","valueLink","width","zDepth"])),d=this.state.focusIndex,y=this.context.muiTheme.prepareStyles,v=u(this.props,this.context),g=(0,h["default"])(v.root,f),b=(0,h["default"])(v.list,a),_="bottom"===l.split("-")[0],w=this.getFilteredChildren(r),T=_?175:325,E=this.getCascadeChildrenCount(w),C=Math.ceil(150/E),k=0,S=m["default"].Children.map(w,function(e,r){var o=e.type&&"Divider"===e.type.muiName,a=e.props.disabled,s={};if(n){var l=0;k>=d-1&&k<=d+E-1&&(T=_?T+C:T-C,l=T),s=(0,h["default"])({},v.menuItemContainer,{transitionDelay:l+"ms"})}var u=o?m["default"].cloneElement(e,{style:v.divider}):a?m["default"].cloneElement(e,{desktop:i}):t.cloneMenuItem(e,k,v,r);return o||a||k++,n?m["default"].createElement("div",{style:y(s)},u):u});return m["default"].createElement(x["default"],{onClickAway:this.handleClickAway},m["default"].createElement("div",{onKeyDown:this.handleKeyDown,style:y(g),ref:"scrollContainer"},m["default"].createElement(O["default"],c({},p,{ref:"list",style:b}),S)))}}]),e}(d.Component);F.propTypes={animated:(0,L["default"])(d.PropTypes.bool,"Instead, use a [Popover](/#/components/popover).\n      It will be removed with v0.16.0."),autoWidth:d.PropTypes.bool,children:d.PropTypes.node,desktop:d.PropTypes.bool,disableAutoFocus:d.PropTypes.bool,initiallyKeyboardFocused:d.PropTypes.bool,listStyle:d.PropTypes.object,maxHeight:d.PropTypes.number,multiple:d.PropTypes.bool,onChange:d.PropTypes.func,onEscKeyDown:d.PropTypes.func,onItemTouchTap:d.PropTypes.func,onKeyDown:d.PropTypes.func,openDirection:(0,L["default"])(M["default"].corners,"Instead, use a [Popover](/#/components/popover).\n      It will be removed with v0.16.0."),selectedMenuItemStyle:d.PropTypes.object,style:d.PropTypes.object,value:d.PropTypes.any,valueLink:d.PropTypes.object,width:M["default"].stringOrNumber,zDepth:M["default"].zDepth},F.defaultProps={autoWidth:!0,desktop:!1,disableAutoFocus:!1,initiallyKeyboardFocused:!1,maxHeight:null,multiple:!1,onChange:function(){},onEscKeyDown:function(){},onItemTouchTap:function(){},onKeyDown:function(){}},F.contextTypes={muiTheme:d.PropTypes.object.isRequired};var R=function(){var t=this;this.handleClickAway=function(e){e.defaultPrevented||t.setFocusIndex(-1,!1)},this.handleKeyDown=function(e){var n=t.getFilteredChildren(t.props.children),r=(0,S["default"])(e);switch(r){case"down":e.preventDefault(),t.incrementKeyboardFocusIndex(n);break;case"esc":t.props.onEscKeyDown(e);break;case"tab":e.preventDefault(),e.shiftKey?t.decrementKeyboardFocusIndex():t.incrementKeyboardFocusIndex(n);break;case"up":e.preventDefault(),t.decrementKeyboardFocusIndex();break;default:if(r&&1===r.length){var o=t.hotKeyHolder.append(r);t.setFocusIndexStartsWith(o)&&e.preventDefault()}}t.props.onKeyDown(e)}};e["default"]=F},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(316),u=n(345),c=r(u),f=n(805),p=r(f),h=function g(t,e){return null!==e&&(t===e||g(t,e.parentNode))},d=["mouseup","touchend"],m=function(t){return d.forEach(function(e){return p["default"].on(document,e,t)})},y=function(t){return d.forEach(function(e){return p["default"].off(document,e,t)})},v=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.handleClickAway=function(t){if(!t.defaultPrevented&&r.isCurrentlyMounted){var e=c["default"].findDOMNode(r);document.documentElement.contains(t.target)&&!h(e,t.target)&&r.props.onClickAway(t)}},a=n,i(r,a)}return a(e,t),s(e,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.props.onClickAway&&m(this.handleClickAway)}},{key:"componentDidUpdate",value:function(t){t.onClickAway!==this.props.onClickAway&&(y(this.handleClickAway),this.props.onClickAway&&m(this.handleClickAway))}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,y(this.handleClickAway)}},{key:"render",
value:function(){return this.props.children}}]),e}(l.Component);v.propTypes={children:l.PropTypes.node,onClickAway:l.PropTypes.any},e["default"]=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=n(800),m=r(d),y=n(1043),v=r(y),g=n(818),b=r(g),_=n(308),x=(r(_),function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),u(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.insetSubheader,r=void 0!==n&&n,i=t.style,a=t.subheader,s=t.subheaderStyle,u=(t.zDepth,o(t,["children","insetSubheader","style","subheader","subheaderStyle","zDepth"])),c=this.context.muiTheme.prepareStyles,d=!1;if(a)d=!0;else{var m=p.Children.toArray(e)[0];(0,p.isValidElement)(m)&&m.type===v["default"]&&(d=!0)}var y={root:{padding:0,paddingBottom:8,paddingTop:d?0:8}};return h["default"].createElement("div",l({},u,{style:c((0,f["default"])(y.root,i))}),a&&h["default"].createElement(v["default"],{inset:r,style:s},a),e)}}]),e}(p.Component));x.propTypes={children:p.PropTypes.node,insetSubheader:(0,b["default"])(p.PropTypes.bool,"Refer to the `subheader` property. It will be removed with v0.16.0."),style:p.PropTypes.object,subheader:(0,b["default"])(p.PropTypes.node,"Instead, nest the `Subheader` component directly inside the `List`. It will be removed with v0.16.0."),subheaderStyle:(0,b["default"])(p.PropTypes.object,"Refer to the `subheader` property. It will be removed with v0.16.0."),zDepth:m["default"].zDepth},x.contextTypes={muiTheme:p.PropTypes.object.isRequired},e["default"]=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1044),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(798),s=r(a),l=n(316),u=r(l),c={children:l.PropTypes.node,inset:l.PropTypes.bool,style:l.PropTypes.object},f={inset:!1},p={muiTheme:l.PropTypes.object.isRequired},h=function(t,e){var n=t.children,r=t.inset,a=t.style,l=o(t,["children","inset","style"]),c=e.muiTheme,f=c.prepareStyles,p=c.subheader,h={root:{boxSizing:"border-box",color:p.color,fontSize:14,fontWeight:p.fontWeight,lineHeight:"48px",paddingLeft:r?72:16,width:"100%"}};return u["default"].createElement("div",i({},l,{style:f((0,s["default"])({},h.root,a))}),n)};h.muiName="Subheader",h.propTypes=c,h.defaultProps=f,h.contextTypes=p,e["default"]=h},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.HotKeyHolder=function(){function t(){var e=this;n(this,t),this.clear=function(){e.timerId=null,e.lastKeys=null}}return r(t,[{key:"append",value:function(t){return clearTimeout(this.timerId),this.timerId=setTimeout(this.clear,500),this.lastKeys=(this.lastKeys||"")+t}}]),t}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(316),s=r(a),l=n(1047),u=r(l),c={before:{content:"' '",display:"table"},after:{content:"' '",clear:"both",display:"table"}},f=function(t){var e=t.style,n=t.children,r=o(t,["style","children"]);return s["default"].createElement(u["default"],i({},r,{beforeStyle:c.before,afterStyle:c.after,style:e}),n)};f.muiName="ClearFix",f.propTypes={children:a.PropTypes.node,style:a.PropTypes.object},e["default"]=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(798),c=r(u),f=n(316),p=r(f),h={box:{boxSizing:"border-box"}},d=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),l(e,[{key:"render",value:function(){var t=this.props,e=t.beforeStyle,n=t.afterStyle,r=(t.beforeElementType,t.afterElementType,t.elementType,o(t,["beforeStyle","afterStyle","beforeElementType","afterElementType","elementType"])),i=this.context.muiTheme.prepareStyles,a=void 0,s=void 0;e&&(a=p["default"].createElement(this.props.beforeElementType,{style:i((0,c["default"])({},h.box,e)),key:"::before"})),n&&(s=p["default"].createElement(this.props.afterElementType,{style:i((0,c["default"])({},h.box,n)),key:"::after"}));var l=[a,this.props.children,s],u=r;return u.style=i((0,c["default"])({},this.props.style)),p["default"].createElement(this.props.elementType,u,l)}}]),e}(f.Component);d.propTypes={afterElementType:f.PropTypes.string,afterStyle:f.PropTypes.object,beforeElementType:f.PropTypes.string,beforeStyle:f.PropTypes.object,children:f.PropTypes.node,elementType:f.PropTypes.string,style:f.PropTypes.object},d.defaultProps={beforeElementType:"div",afterElementType:"div",elementType:"div"},d.contextTypes={muiTheme:f.PropTypes.object.isRequired},e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(316),f=r(c),p=n(345),h=r(p),d=n(1024),m=r(d),y=n(1049),v=r(y),g=n(800),b=r(g),_=n(947),x=r(_),w=n(1050),T=r(w),E=n(1051),C=r(E),k=function(t){function e(t,n){i(this,e);var r=a(this,Object.getPrototypeOf(e).call(this,t,n));return r.renderLayer=function(){var t=r.props,e=(t.animated,t.animation),n=t.children,i=t.style,a=o(t,["animated","animation","children","style"]),s=e||C["default"],u=i;return s||(s=x["default"],u={position:"fixed"},r.state.open)?f["default"].createElement(s,l({},a,{style:u,open:r.state.open&&!r.state.closing}),n):null},r.componentClickAway=function(){r.requestClose("clickAway")},r.setPlacement=function(t){if(r.state.open){var e=r.props.anchorEl||r.anchorEl;if(r.refs.layer.getLayer()){var n=r.refs.layer.getLayer().children[0];if(n){var o=r.props,i=o.targetOrigin,a=o.anchorOrigin,s=r.getAnchorPosition(e),l=r.getTargetPosition(n),u={top:s[a.vertical]-l[i.vertical],left:s[a.horizontal]-l[i.horizontal]};t&&r.props.autoCloseWhenOffScreen&&r.autoCloseWhenOffScreen(s),r.props.canAutoPosition&&(l=r.getTargetPosition(n),u=r.applyAutoPositionIfNeeded(s,l,i,a,u)),n.style.top=Math.max(0,u.top)+"px",n.style.left=Math.max(0,u.left)+"px",n.style.maxHeight=window.innerHeight+"px"}}}},r.handleResize=(0,T["default"])(r.setPlacement,100),r.handleScroll=(0,T["default"])(r.setPlacement.bind(r,!0),50),r.state={open:t.open,closing:!1},r}return s(e,t),u(e,[{key:"componentWillReceiveProps",value:function(t){var e=this;t.open!==this.state.open&&(t.open?(this.anchorEl=t.anchorEl||this.props.anchorEl,this.setState({open:!0,closing:!1})):t.animated?(this.setState({closing:!0}),this.timeout=setTimeout(function(){e.setState({open:!1})},500)):this.setState({open:!1}))}},{key:"componentDidUpdate",value:function(){this.setPlacement()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"requestClose",value:function(t){this.props.onRequestClose&&this.props.onRequestClose(t)}},{key:"_resizeAutoPosition",value:function(){this.setPlacement()}},{key:"getAnchorPosition",value:function(t){t||(t=h["default"].findDOMNode(this));var e=t.getBoundingClientRect(),n={top:e.top,left:e.left,width:t.offsetWidth,height:t.offsetHeight};return n.right=e.right||n.left+n.width,n.bottom=e.bottom||n.top+n.height,n.middle=n.left+(n.right-n.left)/2,n.center=n.top+(n.bottom-n.top)/2,n}},{key:"getTargetPosition",value:function(t){return{top:0,center:t.offsetHeight/2,bottom:t.offsetHeight,left:0,middle:t.offsetWidth/2,right:t.offsetWidth}}},{key:"autoCloseWhenOffScreen",value:function(t){(t.top<0||t.top>window.innerHeight||t.left<0||t.left>window.innerWidth)&&this.requestClose("offScreen")}},{key:"getOverlapMode",value:function(t,e,n){return[t,e].indexOf(n)>=0?"auto":t===e?"inclusive":"exclusive"}},{key:"getPositions",value:function(t,e){var n=l({},t),r=l({},e),o={x:["left","right"].filter(function(t){return t!==r.horizontal}),y:["top","bottom"].filter(function(t){return t!==r.vertical})},i={x:this.getOverlapMode(n.horizontal,r.horizontal,"middle"),y:this.getOverlapMode(n.vertical,r.vertical,"center")};return o.x.splice("auto"===i.x?0:1,0,"middle"),o.y.splice("auto"===i.y?0:1,0,"center"),"auto"!==i.y&&(n.vertical="top"===n.vertical?"bottom":"top","inclusive"===i.y&&(r.vertical=r.vertical)),"auto"!==i.x&&(n.horizontal="left"===n.horizontal?"right":"left","inclusive"===i.y&&(r.horizontal=r.horizontal)),{positions:o,anchorPos:n}}},{key:"applyAutoPositionIfNeeded",value:function(t,e,n,r,o){var i=this.getPositions(r,n),a=i.positions,s=i.anchorPos;if(o.top<0||o.top+e.bottom>window.innerHeight){var l=t[s.vertical]-e[a.y[0]];l+e.bottom<=window.innerHeight?o.top=Math.max(0,l):(l=t[s.vertical]-e[a.y[1]],l+e.bottom<=window.innerHeight&&(o.top=Math.max(0,l)))}if(o.left<0||o.left+e.right>window.innerWidth){var u=t[s.horizontal]-e[a.x[0]];u+e.right<=window.innerWidth?o.left=Math.max(0,u):(u=t[s.horizontal]-e[a.x[1]],u+e.right<=window.innerWidth&&(o.left=Math.max(0,u)))}return o}},{key:"render",value:function(){return f["default"].createElement("div",{style:{display:"none"}},f["default"].createElement(m["default"],{target:"window",onScroll:this.handleScroll,onResize:this.handleResize}),f["default"].createElement(v["default"],{ref:"layer",open:this.state.open,componentClickAway:this.componentClickAway,useLayerForClickAway:this.props.useLayerForClickAway,render:this.renderLayer}))}}]),e}(c.Component);k.propTypes={anchorEl:c.PropTypes.object,anchorOrigin:b["default"].origin,animated:c.PropTypes.bool,animation:c.PropTypes.func,autoCloseWhenOffScreen:c.PropTypes.bool,canAutoPosition:c.PropTypes.bool,children:c.PropTypes.node,className:c.PropTypes.string,onRequestClose:c.PropTypes.func,open:c.PropTypes.bool,style:c.PropTypes.object,targetOrigin:b["default"].origin,useLayerForClickAway:c.PropTypes.bool,zDepth:b["default"].zDepth},k.defaultProps={anchorOrigin:{vertical:"bottom",horizontal:"left"},animated:!0,autoCloseWhenOffScreen:!0,canAutoPosition:!0,onRequestClose:function(){},open:!1,style:{overflowY:"auto"},targetOrigin:{vertical:"top",horizontal:"left"},useLayerForClickAway:!0,zDepth:1},k.contextTypes={muiTheme:c.PropTypes.object.isRequired},e["default"]=k},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(316),u=n(345),c=n(816),f=r(c),p=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.onClickAway=function(t){if(!t.defaultPrevented&&r.props.componentClickAway&&r.props.open){var e=r.layer;(t.target!==e&&t.target===window||document.documentElement.contains(t.target)&&!f["default"].isDescendant(e,t.target))&&r.props.componentClickAway(t)}},a=n,i(r,a)}return a(e,t),s(e,[{key:"componentDidMount",value:function(){this.renderLayer()}},{key:"componentDidUpdate",value:function(){this.renderLayer()}},{key:"componentWillUnmount",value:function(){this.unrenderLayer()}},{key:"getLayer",value:function(){return this.layer}},{key:"unrenderLayer",value:function(){this.layer&&(this.props.useLayerForClickAway?(this.layer.style.position="relative",this.layer.removeEventListener("touchstart",this.onClickAway),this.layer.removeEventListener("click",this.onClickAway)):(window.removeEventListener("touchstart",this.onClickAway),window.removeEventListener("click",this.onClickAway)),(0,u.unmountComponentAtNode)(this.layer),document.body.removeChild(this.layer),this.layer=null)}},{key:"renderLayer",value:function(){var t=this,e=this.props,n=e.open,r=e.render;if(n){this.layer||(this.layer=document.createElement("div"),document.body.appendChild(this.layer),this.props.useLayerForClickAway?(this.layer.addEventListener("touchstart",this.onClickAway),this.layer.addEventListener("click",this.onClickAway),this.layer.style.position="fixed",this.layer.style.top=0,this.layer.style.bottom=0,this.layer.style.left=0,this.layer.style.right=0,this.layer.style.zIndex=this.context.muiTheme.zIndex.layer):setTimeout(function(){window.addEventListener("touchstart",t.onClickAway),window.addEventListener("click",t.onClickAway)},0));var o=r();this.layerElement=(0,u.unstable_renderSubtreeIntoContainer)(this,o,this.layer)}else this.unrenderLayer()}},{key:"render",value:function(){return null}}]),e}(l.Component);p.propTypes={componentClickAway:l.PropTypes.func,open:l.PropTypes.bool.isRequired,render:l.PropTypes.func.isRequired,useLayerForClickAway:l.PropTypes.bool},p.defaultProps={useLayerForClickAway:!0},p.contextTypes={muiTheme:l.PropTypes.object.isRequired},e["default"]=p},function(t,e,n){function r(t,e,n){var r=!0,s=!0;if("function"!=typeof t)throw new TypeError(a);return i(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),o(t,e,{leading:r,maxWait:e,trailing:s})}var o=n(299),i=n(300),a="Expected a function";t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n){var r=t.targetOrigin,o=n.open,i=e.muiTheme,a=r.horizontal.replace("middle","vertical");return{root:{opacity:o?1:0,transform:o?"scale(1, 1)":"scale(0, 0)",transformOrigin:a+" "+r.vertical,position:"fixed",zIndex:i.zIndex.popover,transition:p["default"].easeOut("250ms",["transform","opacity"]),maxHeight:"100%"},horizontal:{maxHeight:"100%",overflowY:"auto",transform:o?"scaleX(1)":"scaleX(0)",opacity:o?1:0,transformOrigin:a+" "+r.vertical,transition:p["default"].easeOut("250ms",["transform","opacity"])},vertical:{opacity:o?1:0,transform:o?"scaleY(1)":"scaleY(0)",transformOrigin:a+" "+r.vertical,transition:p["default"].easeOut("500ms",["transform","opacity"])}}}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(798),c=r(u),f=n(799),p=r(f),h=n(316),d=r(h),m=n(800),y=r(m),v=n(947),g=r(v),b=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={open:!1},a=n,i(r,a)}return a(e,t),l(e,[{key:"componentDidMount",value:function(){this.setState({open:!0})}},{key:"componentWillReceiveProps",value:function(t){this.setState({open:t.open})}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.style,r=t.zDepth,o=this.context.muiTheme.prepareStyles,i=s(this.props,this.context,this.state);return d["default"].createElement(g["default"],{style:(0,c["default"])(i.root,n),zDepth:r,className:e},d["default"].createElement("div",{style:o(i.horizontal)},d["default"].createElement("div",{style:o(i.vertical)},this.props.children)))}}]),e}(h.Component);b.propTypes={children:h.PropTypes.node,className:h.PropTypes.string,open:h.PropTypes.bool.isRequired,style:h.PropTypes.object,targetOrigin:y["default"].origin,zDepth:y["default"].zDepth},b.defaultProps={style:{},zDepth:1},b.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n){var r=t.targetOrigin,o=n.open,i=e.muiTheme,a=r.horizontal.replace("middle","vertical");return{root:{opacity:o?1:0,transform:o?"scaleY(1)":"scaleY(0)",transformOrigin:a+" "+r.vertical,position:"fixed",zIndex:i.zIndex.popover,transition:y["default"].easeOut("450ms",["transform","opacity"]),maxHeight:"100%"}}}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(798),c=r(u),f=n(316),p=r(f),h=n(947),d=r(h),m=n(799),y=r(m),v=n(800),g=r(v),b=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={open:!1},a=n,i(r,a)}return a(e,t),l(e,[{key:"componentDidMount",value:function(){this.setState({open:!0})}},{key:"componentWillReceiveProps",value:function(t){this.setState({open:t.open})}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.style,r=t.zDepth,o=s(this.props,this.context,this.state);return p["default"].createElement(d["default"],{style:(0,c["default"])(o.root,n),zDepth:r,className:e},this.props.children)}}]),e}(f.Component);b.propTypes={children:f.PropTypes.node,className:f.PropTypes.string,open:f.PropTypes.bool.isRequired,style:f.PropTypes.object,targetOrigin:g["default"].origin,zDepth:g["default"].zDepth},b.defaultProps={style:{},zDepth:1},b.contextTypes={muiTheme:f.PropTypes.object.isRequired},e["default"]=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=e.muiTheme.baseTheme.palette.disabledColor,r=e.muiTheme.baseTheme.palette.textColor,o=t.desktop?64:72,i=t.desktop?24:16,a={root:{color:t.disabled?n:r,cursor:t.disabled?"not-allowed":"pointer",lineHeight:t.desktop?"32px":"48px",fontSize:t.desktop?15:16,whiteSpace:"nowrap"},innerDivStyle:{paddingLeft:t.leftIcon||t.insetChildren||t.checked?o:i,paddingRight:i,paddingBottom:0,paddingTop:0},secondaryText:{"float":"right"},leftIconDesktop:{margin:0,left:24,top:4},rightIconDesktop:{margin:0,right:24,top:4,fill:e.muiTheme.menuItem.rightIconDesktopFill}};return a}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(345),y=r(m),v=n(808),g=r(v),b=n(1048),_=r(b),x=n(1054),w=r(x),T=n(1055),E=r(T),C=n(1040),k=r(C),S={position:"relative"},P=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={open:!1},r.cloneMenuItem=function(t){return d["default"].cloneElement(t,{onTouchTap:function(e){t.props.menuItems||r.handleRequestClose(),t.props.onTouchTap&&t.props.onTouchTap(e)}})},r.handleTouchTap=function(t){t.preventDefault(),r.setState({open:!0,anchorEl:y["default"].findDOMNode(r)}),r.props.onTouchTap&&r.props.onTouchTap(t)},r.handleRequestClose=function(){r.setState({open:!1,anchorEl:null})},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentDidMount",value:function(){this.applyFocusState()}},{key:"componentWillReceiveProps",value:function(t){this.state.open&&"none"===t.focusState&&this.handleRequestClose()}},{key:"shouldComponentUpdate",value:function(t,e,n){return!(0,g["default"])(this.props,t)||!(0,g["default"])(this.state,e)||!(0,g["default"])(this.context,n)}},{key:"componentDidUpdate",value:function(){this.applyFocusState()}},{key:"componentWillUnmount",value:function(){this.state.open&&this.setState({open:!1})}},{key:"applyFocusState",value:function(){this.refs.listItem.applyFocusState(this.props.focusState)}},{key:"render",value:function(){var t=this.props,e=t.checked,n=t.children,r=t.desktop,i=t.disabled,a=(t.focusState,t.innerDivStyle),s=t.insetChildren,c=t.leftIcon,f=t.menuItems,h=t.rightIcon,m=t.secondaryText,y=t.style,v=t.animation,g=(t.value,o(t,["checked","children","desktop","disabled","focusState","innerDivStyle","insetChildren","leftIcon","menuItems","rightIcon","secondaryText","style","animation","value"])),b=this.context.muiTheme.prepareStyles,x=l(this.props,this.context),T=(0,p["default"])(x.root,y),C=(0,p["default"])(x.innerDivStyle,a),P=c?c:e?d["default"].createElement(w["default"],null):null;if(P){var M=r?(0,p["default"])(x.leftIconDesktop,P.props.style):P.props.style;P=d["default"].cloneElement(P,{style:M})}var A=void 0;if(h){var O=r?(0,p["default"])(x.rightIconDesktop,h.props.style):h.props.style;A=d["default"].cloneElement(h,{style:O})}var D=void 0;if(m){var L=d["default"].isValidElement(m),I=L?(0,p["default"])(x.secondaryText,m.props.style):null;D=L?d["default"].cloneElement(m,{style:I}):d["default"].createElement("div",{style:b(x.secondaryText)},m)}var j=void 0;return f&&(j=d["default"].createElement(_["default"],{animation:v,anchorOrigin:{horizontal:"right",vertical:"top"},anchorEl:this.state.anchorEl,open:this.state.open,useLayerForClickAway:!1,onRequestClose:this.handleRequestClose},d["default"].createElement(k["default"],{desktop:r,disabled:i,style:S},d["default"].Children.map(f,this.cloneMenuItem))),g.onTouchTap=this.handleTouchTap),d["default"].createElement(E["default"],u({},g,{disabled:i,innerDivStyle:C,insetChildren:s,leftIcon:P,ref:"listItem",rightIcon:A,style:T}),n,D,j)}}]),e}(h.Component);P.muiName="MenuItem",P.propTypes={animation:h.PropTypes.func,checked:h.PropTypes.bool,children:h.PropTypes.node,desktop:h.PropTypes.bool,disabled:h.PropTypes.bool,focusState:h.PropTypes.oneOf(["none","focused","keyboard-focused"]),innerDivStyle:h.PropTypes.object,insetChildren:h.PropTypes.bool,leftIcon:h.PropTypes.element,menuItems:h.PropTypes.node,onTouchTap:h.PropTypes.func,primaryText:h.PropTypes.node,rightIcon:h.PropTypes.element,secondaryText:h.PropTypes.node,style:h.PropTypes.object,value:h.PropTypes.any},P.defaultProps={checked:!1,desktop:!1,disabled:!1,focusState:"none",insetChildren:!1},P.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=P},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(1031),s=r(a),l=n(1038),u=r(l),c=function(t){return i["default"].createElement(u["default"],t,i["default"].createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}))};c=(0,s["default"])(c),c.displayName="NavigationCheck",c.muiName="SvgIcon",e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){var r=t.insetChildren,o=t.leftAvatar,i=t.leftCheckbox,a=t.leftIcon,s=t.nestedLevel,l=t.rightAvatar,u=t.rightIcon,c=t.rightIconButton,f=t.rightToggle,p=t.secondaryText,h=t.secondaryTextLines,d=e.muiTheme,m=d.listItem,y=d.baseTheme.palette.textColor,v=(0,b.fade)(y,.1),g=!p&&(o||l),_=!p&&!(o||l),w=p&&1===h,T=p&&h>1,E={root:{backgroundColor:!n.isKeyboardFocused&&!n.hovered||n.rightIconButtonHovered||n.rightIconButtonKeyboardFocused?null:v,color:y,display:"block",fontSize:16,lineHeight:"16px",position:"relative",transition:x["default"].easeOut()},innerDiv:{marginLeft:s*m.nestedLevelDepth,paddingLeft:a||o||i||r?72:16,paddingRight:u||l||c?56:f?72:16,paddingBottom:g?20:16,paddingTop:_||T?16:20,position:"relative"},icons:{height:24,width:24,display:"block",position:"absolute",top:w?12:g?4:0,margin:12},leftIcon:{left:4},rightIcon:{right:4},avatars:{position:"absolute",top:g?8:16},label:{cursor:"pointer"},leftAvatar:{left:16},rightAvatar:{right:16},leftCheckbox:{position:"absolute",display:"block",width:24,top:w?24:g?16:12,left:16},primaryText:{},rightIconButton:{position:"absolute",display:"block",top:w?12:g?4:0,right:4},rightToggle:{position:"absolute",display:"block",width:54,top:w?25:g?17:13,right:8},secondaryText:{fontSize:14,lineHeight:T?"18px":"16px",height:T?36:16,margin:0,marginTop:4,color:m.secondaryTextColor,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:T?null:"nowrap",display:T?"-webkit-box":null,WebkitLineClamp:T?2:null,WebkitBoxOrient:T?"vertical":null}};return E}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(345),y=r(m),v=n(808),g=r(v),b=n(857),_=n(799),x=r(_),w=n(801),T=r(w),E=n(796),C=r(E),k=n(1056),S=r(k),P=n(1057),M=r(P),A=n(1058),O=r(A),D=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={hovered:!1,isKeyboardFocused:!1,open:!1,
rightIconButtonHovered:!1,rightIconButtonKeyboardFocused:!1,touch:!1},r.handleKeyboardFocus=function(t,e){r.setState({isKeyboardFocused:e}),r.props.onKeyboardFocus(t,e)},r.handleMouseEnter=function(t){r.state.touch||r.setState({hovered:!0}),r.props.onMouseEnter(t)},r.handleMouseLeave=function(t){r.setState({hovered:!1}),r.props.onMouseLeave(t)},r.handleNestedListToggle=function(t){t.stopPropagation(),r.setState({open:!r.state.open},function(){r.props.onNestedListToggle(r)})},r.handleRightIconButtonKeyboardFocus=function(t,e){e&&r.setState({isKeyboardFocused:!1,rightIconButtonKeyboardFocused:e});var n=r.props.rightIconButton;n&&n.props.onKeyboardFocus&&n.props.onKeyboardFocus(t,e)},r.handleRightIconButtonMouseLeave=function(t){var e=r.props.rightIconButton;r.setState({rightIconButtonHovered:!1}),e&&e.props.onMouseLeave&&e.props.onMouseLeave(t)},r.handleRightIconButtonMouseEnter=function(t){var e=r.props.rightIconButton;r.setState({rightIconButtonHovered:!0}),e&&e.props.onMouseEnter&&e.props.onMouseEnter(t)},r.handleRightIconButtonMouseUp=function(t){var e=r.props.rightIconButton;t.stopPropagation(),e&&e.props.onMouseUp&&e.props.onMouseUp(t)},r.handleRightIconButtonTouchTap=function(t){var e=r.props.rightIconButton;t.stopPropagation(),e&&e.props.onTouchTap&&e.props.onTouchTap(t)},r.handleTouchStart=function(t){r.setState({touch:!0}),r.props.onTouchStart(t)},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentWillMount",value:function(){this.setState({open:null===this.props.open?this.props.initiallyOpen===!0:this.props.open})}},{key:"componentWillReceiveProps",value:function(t){null!==t.open&&this.setState({open:t.open})}},{key:"shouldComponentUpdate",value:function(t,e,n){return!(0,g["default"])(this.props,t)||!(0,g["default"])(this.state,e)||!(0,g["default"])(this.context,n)}},{key:"applyFocusState",value:function(t){var e=this.refs.enhancedButton;if(e){var n=y["default"].findDOMNode(e);switch(t){case"none":n.blur();break;case"focused":n.focus();break;case"keyboard-focused":e.setKeyboardFocus(),n.focus()}}}},{key:"createDisabledElement",value:function(t,e,n){var r=this.props,o=r.innerDivStyle,i=r.style,a=(0,p["default"])({},t.root,t.innerDiv,o,i);return d["default"].createElement("div",u({},n,{style:this.context.muiTheme.prepareStyles(a)}),e)}},{key:"createLabelElement",value:function(t,e,n){var r=this.props,o=r.innerDivStyle,i=r.style,a=(0,p["default"])({},t.root,t.innerDiv,o,t.label,i);return d["default"].createElement("label",u({},n,{style:this.context.muiTheme.prepareStyles(a)}),e)}},{key:"createTextElement",value:function(t,e,n){var r=this.context.muiTheme.prepareStyles;if(d["default"].isValidElement(e)){var o=(0,p["default"])({},t,e.props.style);return"string"==typeof e.type&&(o=r(o)),d["default"].cloneElement(e,{key:n,style:o})}return d["default"].createElement("div",{key:n,style:r(t)},e)}},{key:"pushElement",value:function(t,e,n,r){if(e){var o=(0,p["default"])({},n,e.props.style);t.push(d["default"].cloneElement(e,u({key:t.length,style:o},r)))}}},{key:"render",value:function(){var t=this.props,e=t.autoGenerateNestedIndicator,n=t.children,r=t.disabled,i=t.disableKeyboardFocus,a=(t.initiallyOpen,t.innerDivStyle),s=(t.insetChildren,t.leftAvatar),c=t.leftCheckbox,f=t.leftIcon,h=t.nestedItems,m=t.nestedLevel,y=t.nestedListStyle,v=(t.onKeyboardFocus,t.onMouseEnter,t.onMouseLeave,t.onNestedListToggle,t.onTouchStart,t.onTouchTap),g=t.rightAvatar,b=t.rightIcon,_=t.rightIconButton,x=t.rightToggle,w=t.primaryText,E=t.primaryTogglesNestedList,k=t.secondaryText,P=(t.secondaryTextLines,t.style),A=o(t,["autoGenerateNestedIndicator","children","disabled","disableKeyboardFocus","initiallyOpen","innerDivStyle","insetChildren","leftAvatar","leftCheckbox","leftIcon","nestedItems","nestedLevel","nestedListStyle","onKeyboardFocus","onMouseEnter","onMouseLeave","onNestedListToggle","onTouchStart","onTouchTap","rightAvatar","rightIcon","rightIconButton","rightToggle","primaryText","primaryTogglesNestedList","secondaryText","secondaryTextLines","style"]),D=this.context.muiTheme.prepareStyles,L=l(this.props,this.context,this.state),I=[n];if(f){var j={color:f.props.color||this.context.muiTheme.listItem.leftIconColor};this.pushElement(I,f,(0,p["default"])({},L.icons,L.leftIcon),j)}if(b){var F={color:b.props.color||this.context.muiTheme.listItem.rightIconColor};this.pushElement(I,b,(0,p["default"])({},L.icons,L.rightIcon),F)}s&&this.pushElement(I,s,(0,p["default"])({},L.avatars,L.leftAvatar)),g&&this.pushElement(I,g,(0,p["default"])({},L.avatars,L.rightAvatar)),c&&this.pushElement(I,c,(0,p["default"])({},L.leftCheckbox));var R=h.length,N=g||b||_||x,z=R&&e&&!N;if(_||z){var B=_,U={onKeyboardFocus:this.handleRightIconButtonKeyboardFocus,onMouseEnter:this.handleRightIconButtonMouseEnter,onMouseLeave:this.handleRightIconButtonMouseLeave,onTouchTap:this.handleRightIconButtonTouchTap,onMouseDown:this.handleRightIconButtonMouseUp,onMouseUp:this.handleRightIconButtonMouseUp};z&&(B=this.state.open?d["default"].createElement(C["default"],null,d["default"].createElement(S["default"],null)):d["default"].createElement(C["default"],null,d["default"].createElement(M["default"],null)),U.onTouchTap=this.handleNestedListToggle),this.pushElement(I,B,(0,p["default"])({},L.rightIconButton),U)}if(x&&this.pushElement(I,x,(0,p["default"])({},L.rightToggle)),w){var W=this.createTextElement(L.primaryText,w,"primaryText");I.push(W)}if(k){var q=this.createTextElement(L.secondaryText,k,"secondaryText");I.push(q)}var V=h.length?d["default"].createElement(O["default"],{nestedLevel:m,open:this.state.open,style:y},h):void 0,H=c||x;return d["default"].createElement("div",null,H?this.createLabelElement(L,I,A):r?this.createDisabledElement(L,I,A):d["default"].createElement(T["default"],u({containerElement:"span"},A,{disabled:r,disableKeyboardFocus:i||this.state.rightIconButtonKeyboardFocused,onKeyboardFocus:this.handleKeyboardFocus,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleTouchStart,onTouchTap:E?this.handleNestedListToggle:v,ref:"enhancedButton",style:(0,p["default"])({},L.root,P)}),d["default"].createElement("div",{style:D((0,p["default"])(L.innerDiv,a))},I)),V)}}]),e}(h.Component);D.muiName="ListItem",D.propTypes={autoGenerateNestedIndicator:h.PropTypes.bool,children:h.PropTypes.node,disableKeyboardFocus:h.PropTypes.bool,disabled:h.PropTypes.bool,initiallyOpen:h.PropTypes.bool,innerDivStyle:h.PropTypes.object,insetChildren:h.PropTypes.bool,leftAvatar:h.PropTypes.element,leftCheckbox:h.PropTypes.element,leftIcon:h.PropTypes.element,nestedItems:h.PropTypes.arrayOf(h.PropTypes.element),nestedLevel:h.PropTypes.number,nestedListStyle:h.PropTypes.object,onKeyboardFocus:h.PropTypes.func,onMouseEnter:h.PropTypes.func,onMouseLeave:h.PropTypes.func,onNestedListToggle:h.PropTypes.func,onTouchStart:h.PropTypes.func,onTouchTap:h.PropTypes.func,open:h.PropTypes.bool,primaryText:h.PropTypes.node,primaryTogglesNestedList:h.PropTypes.bool,rightAvatar:h.PropTypes.element,rightIcon:h.PropTypes.element,rightIconButton:h.PropTypes.element,rightToggle:h.PropTypes.element,secondaryText:h.PropTypes.node,secondaryTextLines:h.PropTypes.oneOf([1,2]),style:h.PropTypes.object},D.defaultProps={autoGenerateNestedIndicator:!0,disableKeyboardFocus:!1,disabled:!1,initiallyOpen:!1,insetChildren:!1,nestedItems:[],nestedLevel:0,onKeyboardFocus:function(){},onMouseEnter:function(){},onMouseLeave:function(){},onNestedListToggle:function(){},onTouchStart:function(){},open:null,primaryTogglesNestedList:!1,secondaryTextLines:1},D.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=D},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(1031),s=r(a),l=n(1038),u=r(l),c=function(t){return i["default"].createElement(u["default"],t,i["default"].createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}))};c=(0,s["default"])(c),c.displayName="NavigationExpandLess",c.muiName="SvgIcon",e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(1031),s=r(a),l=n(1038),u=r(l),c=function(t){return i["default"].createElement(u["default"],t,i["default"].createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))};c=(0,s["default"])(c),c.displayName="NavigationExpandMore",c.muiName="SvgIcon",e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(798),u=r(l),c=n(316),f=r(c),p=n(1042),h=r(p),d=function(t){function e(){return o(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.open,r=t.nestedLevel,o=t.style,i={root:{display:n?null:"none"}};return f["default"].createElement(h["default"],{style:(0,u["default"])({},i.root,o)},f["default"].Children.map(e,function(t){return f["default"].isValidElement(t)?f["default"].cloneElement(t,{nestedLevel:r+1}):t}))}}]),e}(c.Component);d.propTypes={children:c.PropTypes.node,nestedLevel:c.PropTypes.number.isRequired,open:c.PropTypes.bool,style:c.PropTypes.object},d.defaultProps={open:!1},e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1053),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(583),u=r(l),c=n(1061),f=r(c),p=n(1062),h=n(952),d=r(h),m=n(582),y=r(m),v=i["default"].createClass({displayName:"PropertyLegend",mixins:[s["default"],y["default"],u["default"]],propTypes:{table:i["default"].PropTypes.string,property:i["default"].PropTypes.string,knownValues:i["default"].PropTypes.array,min:i["default"].PropTypes.number,max:i["default"].PropTypes.number},render:function(){var t=this.props,e=t.table,n=t.property,r=t.knownValues,o=t.min,a=t.max;if(!e||!n)return null;var s=this.config.tablesById[e].propertiesById[n],l=(0,p.propertyColour)(s),u=null;if(s.categoryColors)u=(0,d["default"])(s.categoryColors,function(t,e){return i["default"].createElement(f["default"],{key:e,name:"_other_"===e?"Other":e,colour:t})});else if(s.isBoolean)u=[i["default"].createElement(f["default"],{key:"true",name:"True",colour:l(!0)}),i["default"].createElement(f["default"],{key:"false",name:"False",colour:l(!1)})];else if(s.isCategorical||s.isText)u=(0,d["default"])(s.propCategories||r||[],function(t){return i["default"].createElement(f["default"],{key:t,name:t,colour:l(t)})});else{for(var c=(0,p.scaleColour)([0,1]),h="linear-gradient(to right, "+c(0)+" 0%",m=.1;m<1;m+=.1)h+=","+c(m)+" "+100*m+"%";h+=")",u=[i["default"].createElement("div",{key:"min",className:"legend-element"},o||s.minVal),i["default"].createElement("div",{key:"bar",className:"legend-element"},i["default"].createElement("div",{style:{width:"100px",height:"10px",background:h}})),i["default"].createElement("div",{key:"max",className:"legend-element"},a||s.maxVal)]}return i["default"].createElement("div",{className:"legend"},i["default"].createElement("div",{className:"legend-element"},s.name,":"),u)}});t.exports=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(584),s=r(a),l=i["default"].createClass({displayName:"LegendElement",mixins:[s["default"]],propTypes:{name:i["default"].PropTypes.string,colour:i["default"].PropTypes.string},render:function(){var t=this.props,e=t.name,n=t.colour;return i["default"].createElement("div",{className:"legend-element",key:e},i["default"].createElement("svg",{width:"14",height:"26"},i["default"].createElement("rect",{x:"0",y:"6",width:"14",height:"14",style:{fill:n}})),i["default"].createElement("div",{className:"label"},e))}});e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return c[t]||(c[t]=u["default"].scale.ordinal().range(f)),c[t]}function i(t){return u["default"].scale.linear().domain(t).range(["#3d8bd5","#ff4081"]).interpolate(u["default"].interpolateHcl)}function a(){return function(t){return"1"===t||t===!0||1===t||t.toLower&&"t"===t.toLower()||t.toLower&&"true"===t.toLower()?"#388E3C":"#D32F2F"}}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return function(){return"inherit"};if(t.categoryColors)return function(e){return t.categoryColors[e]||t.categoryColors._other_||"#777777"};if(t.isBoolean)return a();if(t.isCategorical){var r=o(t.tableId+"_"+t.id);return t.propCategories&&t.propCategories.forEach(r),r}return t.isText?o(t.tableId+"_"+t.id):i([e||t.minVal,n||t.maxVal])}Object.defineProperty(e,"__esModule",{value:!0}),e.categoryColours=o,e.scaleColour=i,e.booleanColours=a,e.propertyColour=s;var l=n(917),u=r(l),c={},f=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf","#aec7e8","#ffbb78","#98df8a","#ff9896","#c5b0d5","#c49c94","#f7b6d2","#c7c7c7","#dbdb8d","#9edae5"]},function(t,e){"use strict";function n(t,e,n,r,o,i){t.rect(e,n,r,o),t.save(),t.clip();var a=Math.max(r,o);t.beginPath();for(var s=-1*a;s<a;s+=i)t.moveTo(s+e,n),t.lineTo(o+s+e,n+o);t.stroke(),t.restore()}Object.defineProperty(e,"__esModule",{value:!0}),e.hatchRect=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(960),s=r(a),l=n(654),u=r(l),c=n(750),f=r(c),p=i["default"].createClass({displayName:"ChannelWithConfigDrawer",mixins:[(0,s["default"])({redirect:["onClose"]})],propTypes:{height:i["default"].PropTypes.number,width:i["default"].PropTypes.number,sideWidth:i["default"].PropTypes.number,sideComponent:i["default"].PropTypes.element,configComponent:i["default"].PropTypes.element,legendComponent:i["default"].PropTypes.element,onClose:i["default"].PropTypes.func,children:i["default"].PropTypes.element},getInitialState:function(){return{controlsOpen:!1,legendOpen:!1}},handleControlToggle:function(t){this.setState({controlsOpen:!this.state.controlsOpen}),t.stopPropagation()},handleLegendToggle:function(t){this.setState({legendOpen:!this.state.legendOpen}),t.stopPropagation()},handleClose:function(t){t.stopPropagation(),this.redirectedProps.onClose&&this.redirectedProps.onClose()},render:function(){var t=this.props,e=t.height,n=t.width,r=t.sideWidth,o=t.onClose,a=t.sideComponent,s=t.configComponent,l=t.legendComponent,c=this.state,p=c.controlsOpen,h=c.legendOpen,d=n-r;return i["default"].createElement("div",{className:"channel-container"},i["default"].createElement("div",{className:"channel-side",style:{width:r+"px"}},i["default"].createElement("div",{className:"side-component"},a),o?i["default"].createElement("div",{className:"close button"},i["default"].createElement(f["default"],{name:"times",onClick:this.handleClose})):null,s?i["default"].createElement("div",{className:"config button"},i["default"].createElement(f["default"],{className:(0,u["default"])({open:p}),name:"cog",onClick:this.handleControlToggle})):null,l?i["default"].createElement("div",{className:"legend button",ref:"legendToggle"},i["default"].createElement(f["default"],{className:(0,u["default"])({open:h}),name:"info",onClick:this.handleLegendToggle})):null),i["default"].createElement("div",{className:"channel-stack"},s?i["default"].createElement("div",{className:(0,u["default"])({open:p,"tray-container":!0,"config-container":!0}),ref:"controlsContainer"},i["default"].createElement("div",{ref:"controls",style:{width:d+"px"}},s)):null,i["default"].createElement("div",{className:"channel-data",style:{width:d+"px",height:e+"px"}},this.props.children),l?i["default"].createElement("div",{className:(0,u["default"])({open:h,"tray-container":!0,"legend-container":!0}),ref:"legendContainer"},i["default"].createElement("div",{ref:"legend",style:{width:d+"px"}},l)):null))}});t.exports=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(584),s=r(a),l=n(1066),u=n(940),c=r(u),f=n(582),p=r(f),h=n(750),d=r(h),m=i["default"].createClass({displayName:"FilterButton",mixins:[s["default"],p["default"]],propTypes:{query:i["default"].PropTypes.string,table:i["default"].PropTypes.string.isRequired,onPick:i["default"].PropTypes.func.isRequired,name:i["default"].PropTypes.string},getDefaultProps:function(){return{query:c["default"].nullQuery}},handlePick:function(t){this.getFlux().actions.session.modalClose(),this.props.onPick(t)},render:function(){var t=this,e=this.props,n=e.query,r=e.table,o=e.name,a=c["default"].WhereClause.decode(n);return i["default"].createElement("div",null,i["default"].createElement(l.FlatButton,{label:a.isTrivial?"Add "+(o||"")+" Filter":"Change "+(o||"")+" Filter",primary:!0,onClick:function(){return t.getFlux().actions.session.modalOpen("containers/QueryPicker",{table:r,initialQuery:n,onPick:t.handlePick})},icon:i["default"].createElement(d["default"],{fixedWidth:!0,name:"filter"})}),a.isTrivial?null:i["default"].createElement(l.FlatButton,{label:"Clear "+(o||"")+" Filter",primary:!0,onClick:function(){t.handlePick(c["default"].nullQuery)},icon:i["default"].createElement("span",{className:"fa-stack"},i["default"].createElement(d["default"],{style:{position:"absolute",color:"rgb(153, 200, 236)"},name:"filter",stack:"1x"}),i["default"].createElement(d["default"],{style:{position:"absolute",fontSize:"2em",color:"#2196f3"},name:"ban",stack:"2x"}))}))}});e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ToolbarTitle=e.ToolbarSeparator=e.ToolbarGroup=e.Toolbar=e.Toggle=e.TimePicker=e.TextField=e.TableRowColumn=e.TableRow=e.TableHeaderColumn=e.TableHeader=e.TableFooter=e.TableBody=e.Table=e.Tab=e.Tabs=e.Snackbar=e.Stepper=e.StepLabel=e.StepContent=e.StepButton=e.Step=e.SvgIcon=e.Subheader=e.Slider=e.SelectField=e.RefreshIndicator=e.RaisedButton=e.RadioButtonGroup=e.RadioButton=e.Popover=e.Paper=e.MuiThemeProvider=e.MenuItem=e.Menu=e.MakeSelectable=e.ListItem=e.List=e.LinearProgress=e.IconMenu=e.IconButton=e.GridTile=e.GridList=e.FontIcon=e.FloatingActionButton=e.FlatButton=e.DropDownMenu=e.Drawer=e.Divider=e.Dialog=e.DatePicker=e.CircularProgress=e.Chip=e.Checkbox=e.CardText=e.CardTitle=e.CardMedia=e.CardHeader=e.CardActions=e.Card=e.Badge=e.Avatar=e.AutoComplete=e.AppBar=void 0;var o=n(1067),i=r(o),a=n(1070),s=r(a),l=n(1073),u=r(l),c=n(1075),f=r(c),p=n(1077),h=r(p),d=n(1086),m=r(d),y=n(1082),v=r(y),g=n(1084),b=r(g),_=n(1083),x=r(_),w=n(1085),T=r(w),E=n(1087),C=r(E),k=n(1092),S=r(k),P=n(1095),M=r(P),A=n(1097),O=r(A),D=n(1116),L=r(D),I=n(1017),j=r(I),F=n(1120),R=r(F),N=n(1028),z=r(N),B=n(1103),U=r(B),W=n(1122),q=r(W),V=n(819),H=r(V),G=n(1124),Y=r(G),Z=n(1126),X=r(Z),K=n(796),Q=r(K),J=n(1127),$=r(J),tt=n(1129),et=r(tt),nt=n(1131),rt=r(nt),ot=n(1055),it=r(ot),at=n(1132),st=r(at),lt=n(1072),ut=r(lt),ct=n(1059),ft=r(ct),pt=n(898),ht=r(pt),dt=n(947),mt=r(dt),yt=n(1133),vt=r(yt),gt=n(1134),bt=r(gt),_t=n(1138),xt=r(_t),wt=n(945),Tt=r(wt),Et=n(1139),Ct=r(Et),kt=n(1019),St=r(kt),Pt=n(1141),Mt=r(Pt),At=n(1043),Ot=r(At),Dt=n(1038),Lt=r(Dt),It=n(1143),jt=r(It),Ft=n(1144),Rt=r(Ft),Nt=n(1147),zt=r(Nt),Bt=n(1145),Ut=r(Bt),Wt=n(1150),qt=r(Wt),Vt=n(1152),Ht=r(Vt),Gt=n(1156),Yt=r(Gt),Zt=n(1157),Xt=r(Zt),Kt=n(1161),Qt=r(Kt),Jt=n(1163),$t=r(Jt),te=n(1165),ee=r(te),ne=n(1166),re=r(ne),oe=n(1167),ie=r(oe),ae=n(1168),se=r(ae),le=n(1164),ue=r(le),ce=n(1021),fe=r(ce),pe=n(1169),he=r(pe),de=n(1179),me=r(de),ye=n(1181),ve=r(ye),ge=n(1183),be=r(ge),_e=n(1184),xe=r(_e),we=n(1185),Te=r(we);e.AppBar=i["default"],e.AutoComplete=s["default"],e.Avatar=u["default"],e.Badge=f["default"],e.Card=h["default"],e.CardActions=m["default"],e.CardHeader=v["default"],e.CardMedia=b["default"],e.CardTitle=x["default"],e.CardText=T["default"],e.Checkbox=C["default"],e.Chip=S["default"],e.CircularProgress=M["default"],e.DatePicker=O["default"],e.Dialog=L["default"],e.Divider=j["default"],e.Drawer=R["default"],e.DropDownMenu=z["default"],e.FlatButton=U["default"],e.FloatingActionButton=q["default"],e.FontIcon=H["default"],e.GridList=Y["default"],e.GridTile=X["default"],e.IconButton=Q["default"],e.IconMenu=$["default"],e.LinearProgress=et["default"],e.List=rt["default"],e.ListItem=it["default"],e.MakeSelectable=st["default"],e.Menu=ut["default"],e.MenuItem=ft["default"],e.MuiThemeProvider=ht["default"],e.Paper=mt["default"],e.Popover=vt["default"],e.RadioButton=bt["default"],e.RadioButtonGroup=xt["default"],e.RaisedButton=Tt["default"],e.RefreshIndicator=Ct["default"],e.SelectField=St["default"],e.Slider=Mt["default"],e.Subheader=Ot["default"],e.SvgIcon=Lt["default"],e.Step=jt["default"],e.StepButton=Rt["default"],e.StepContent=zt["default"],e.StepLabel=Ut["default"],e.Stepper=qt["default"],e.Snackbar=Ht["default"],e.Tabs=Yt["default"],e.Tab=Xt["default"],e.Table=Qt["default"],e.TableBody=$t["default"],e.TableFooter=ee["default"],e.TableHeader=re["default"],e.TableHeaderColumn=ie["default"],e.TableRow=se["default"],e.TableRowColumn=ue["default"],e.TextField=fe["default"],e.TimePicker=he["default"],e.Toggle=me["default"],e.Toolbar=ve["default"],e.ToolbarGroup=be["default"],e.ToolbarSeparator=xe["default"],e.ToolbarTitle=Te["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1068),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=e.muiTheme,r=n.appBar,o=n.button.iconButtonSize,i=n.zIndex,a=36,s={root:{position:"relative",zIndex:i.appBar,width:"100%",display:"flex",backgroundColor:r.color,paddingLeft:r.padding,paddingRight:r.padding},title:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",margin:0,paddingTop:0,letterSpacing:0,fontSize:24,fontWeight:r.titleFontWeight,color:r.textColor,height:r.height,lineHeight:r.height+"px"},mainElement:{boxFlex:1,flex:"1"},iconButtonStyle:{marginTop:(r.height-o)/2,marginRight:8,marginLeft:-16},iconButtonIconStyle:{fill:r.textColor,color:r.textColor},flatButton:{color:r.textColor,marginTop:(o-a)/2+1}};return s}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.getStyles=l;var f=n(798),p=r(f),h=n(316),d=r(h),m=n(796),y=r(m),v=n(1069),g=r(v),b=n(947),_=r(b),x=n(800),w=r(x),T=n(308),E=(r(T),function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.handleTouchTapLeftIconButton=function(t){r.props.onLeftIconButtonTouchTap&&r.props.onLeftIconButtonTouchTap(t)},r.handleTouchTapRightIconButton=function(t){r.props.onRightIconButtonTouchTap&&r.props.onRightIconButtonTouchTap(t)},r.handleTitleTouchTap=function(t){r.props.onTitleTouchTap&&r.props.onTitleTouchTap(t)},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this.props,e=t.title,n=t.titleStyle,r=t.iconStyleLeft,i=t.iconStyleRight,a=(t.onTitleTouchTap,t.showMenuIconButton),s=t.iconElementLeft,c=t.iconElementRight,f=t.iconClassNameLeft,h=t.iconClassNameRight,m=(t.onLeftIconButtonTouchTap,t.className),v=t.style,b=t.zDepth,x=t.children,w=o(t,["title","titleStyle","iconStyleLeft","iconStyleRight","onTitleTouchTap","showMenuIconButton","iconElementLeft","iconElementRight","iconClassNameLeft","iconClassNameRight","onLeftIconButtonTouchTap","className","style","zDepth","children"]),T=this.context.muiTheme.prepareStyles,E=l(this.props,this.context),C=void 0,k=void 0,S="string"==typeof e||e instanceof String?"h1":"div",P=d["default"].createElement(S,{onTouchTap:this.handleTitleTouchTap,style:T((0,p["default"])(E.title,E.mainElement,n))},e),M=(0,p["default"])({},E.iconButtonStyle,r);if(a){var A=s;if(s){if("IconButton"===s.type.muiName){var O=s.props.children,D=O&&O.props&&O.props.color?null:E.iconButtonIconStyle;A=d["default"].cloneElement(s,{iconStyle:(0,p["default"])({},D,s.props.iconStyle)})}C=d["default"].createElement("div",{style:T(M)},A)}else{var L=f?"":d["default"].createElement(g["default"],{style:(0,p["default"])({},E.iconButtonIconStyle)});C=d["default"].createElement(y["default"],{style:M,iconStyle:E.iconButtonIconStyle,iconClassName:f,onTouchTap:this.handleTouchTapLeftIconButton},L)}}var I=(0,p["default"])({},E.iconButtonStyle,{marginRight:-16,marginLeft:"auto"},i);if(c){var j=c;switch(c.type.muiName){case"IconMenu":case"IconButton":var F=c.props.children,R=F&&F.props&&F.props.color?null:E.iconButtonIconStyle;j=d["default"].cloneElement(c,{iconStyle:(0,p["default"])({},R,c.props.iconStyle)});break;case"FlatButton":j=d["default"].cloneElement(c,{style:(0,p["default"])({},E.flatButton,c.props.style)})}k=d["default"].createElement("div",{style:T(I)},j)}else h&&(k=d["default"].createElement(y["default"],{style:I,iconStyle:E.iconButtonIconStyle,iconClassName:h,onTouchTap:this.handleTouchTapRightIconButton}));return d["default"].createElement(_["default"],u({},w,{rounded:!1,className:m,style:(0,p["default"])({},E.root,v),zDepth:b}),C,P,k,x)}}]),e}(h.Component));E.muiName="AppBar",E.propTypes={children:h.PropTypes.node,className:h.PropTypes.string,iconClassNameLeft:h.PropTypes.string,iconClassNameRight:h.PropTypes.string,iconElementLeft:h.PropTypes.element,iconElementRight:h.PropTypes.element,iconStyleLeft:h.PropTypes.object,iconStyleRight:h.PropTypes.object,onLeftIconButtonTouchTap:h.PropTypes.func,onRightIconButtonTouchTap:h.PropTypes.func,onTitleTouchTap:h.PropTypes.func,showMenuIconButton:h.PropTypes.bool,style:h.PropTypes.object,title:h.PropTypes.node,titleStyle:h.PropTypes.object,zDepth:w["default"].zDepth},E.defaultProps={showMenuIconButton:!0,title:"",zDepth:1},E.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=E},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(1031),s=r(a),l=n(1038),u=r(l),c=function(t){return i["default"].createElement(u["default"],t,i["default"].createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))};c=(0,s["default"])(c),c.displayName="NavigationMenu",c.muiName="SvgIcon",e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1071),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){var r=n.anchorEl,o=t.fullWidth,i={root:{display:"inline-block",position:"relative",width:o?"100%":256},menu:{width:"100%"},list:{display:"block",width:o?"100%":256},innerDiv:{overflow:"hidden"}};return r&&o&&(i.popover={width:r.clientWidth}),i}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=n(798),h=r(p),d=n(316),m=r(d),y=n(345),v=r(y),g=n(806),b=r(g),_=n(1021),x=r(_),w=n(1072),T=r(w),E=n(1059),C=r(E),k=n(1017),S=r(k),P=n(1048),M=r(P),A=n(800),O=r(A),D=n(308),L=(r(D),n(818)),I=r(L),j=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={anchorEl:null,focusTextField:!0,open:!1,searchText:void 0},r.handleRequestClose=function(){r.state.focusTextField||r.close()},r.handleMouseDown=function(t){t.preventDefault()},r.handleItemTouchTap=function(t,e){var n=r.props.dataSource,o=parseInt(e.key,10),i=n[o],a=r.chosenRequestText(i);r.timerTouchTapCloseId=setTimeout(function(){r.timerTouchTapCloseId=null,r.setState({searchText:a}),r.close(),r.props.onNewRequest(i,o)},r.props.menuCloseDelay)},r.chosenRequestText=function(t){return"string"==typeof t?t:t[r.props.dataSourceConfig.text]},r.handleEscKeyDown=function(){r.close()},r.handleKeyDown=function(t){switch(r.props.onKeyDown&&r.props.onKeyDown(t),(0,b["default"])(t)){case"enter":r.close();var e=r.state.searchText;""!==e&&r.props.onNewRequest(e,-1);break;case"esc":r.close();break;case"down":t.preventDefault(),r.setState({open:!0,focusTextField:!1,anchorEl:v["default"].findDOMNode(r.refs.searchTextField)})}},r.handleChange=function(t){var e=t.target.value;e!==r.state.searchText&&r.setState({searchText:e,open:!0,anchorEl:v["default"].findDOMNode(r.refs.searchTextField)},function(){r.props.onUpdateInput(e,r.props.dataSource)})},r.handleBlur=function(t){r.state.focusTextField&&null===r.timerTouchTapCloseId&&r.close(),r.props.onBlur&&r.props.onBlur(t)},r.handleFocus=function(t){
r.state.open||!r.props.triggerUpdateOnFocus&&!r.props.openOnFocus||r.setState({open:!0,anchorEl:v["default"].findDOMNode(r.refs.searchTextField)}),r.setState({focusTextField:!0}),r.props.onFocus&&r.props.onFocus(t)},o=n,a(r,o)}return s(e,t),f(e,[{key:"componentWillMount",value:function(){this.requestsList=[],this.setState({open:this.props.open,searchText:this.props.searchText}),this.timerTouchTapCloseId=null}},{key:"componentWillReceiveProps",value:function(t){this.props.searchText!==t.searchText&&this.setState({searchText:t.searchText})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerTouchTapCloseId)}},{key:"close",value:function(){this.setState({open:!1,anchorEl:null})}},{key:"setValue",value:function(t){this.setState({searchText:t})}},{key:"getValue",value:function(){return this.state.searchText}},{key:"blur",value:function(){this.refs.searchTextField.blur()}},{key:"focus",value:function(){this.refs.searchTextField.focus()}},{key:"render",value:function(){var t=this,e=this.props,n=e.anchorOrigin,r=e.animated,i=e.animation,a=e.dataSource,s=(e.dataSourceConfig,e.disableFocusRipple),f=e.errorStyle,p=e.floatingLabelText,d=e.filter,y=e.fullWidth,v=e.style,g=e.hintText,b=e.maxSearchResults,_=(e.menuCloseDelay,e.textFieldStyle),w=e.menuStyle,E=e.menuProps,k=e.listStyle,P=e.targetOrigin,A=(e.triggerUpdateOnFocus,e.onNewRequest,e.onUpdateInput,e.openOnFocus,e.searchText,o(e,["anchorOrigin","animated","animation","dataSource","dataSourceConfig","disableFocusRipple","errorStyle","floatingLabelText","filter","fullWidth","style","hintText","maxSearchResults","menuCloseDelay","textFieldStyle","menuStyle","menuProps","listStyle","targetOrigin","triggerUpdateOnFocus","onNewRequest","onUpdateInput","openOnFocus","searchText"])),O=this.state,D=O.open,L=O.anchorEl,I=O.searchText,j=O.focusTextField,F=this.context.muiTheme.prepareStyles,R=l(this.props,this.context,this.state),N=[];a.every(function(e,n){switch("undefined"==typeof e?"undefined":c(e)){case"string":d(I,e,e)&&N.push({text:e,value:m["default"].createElement(C["default"],{innerDivStyle:R.innerDiv,value:e,primaryText:e,disableFocusRipple:s,key:n})});break;case"object":if(e&&"string"==typeof e[t.props.dataSourceConfig.text]){var r=e[t.props.dataSourceConfig.text];if(!t.props.filter(I,r,e))break;var o=e[t.props.dataSourceConfig.value];!o.type||o.type.muiName!==C["default"].muiName&&o.type.muiName!==S["default"].muiName?N.push({text:r,value:m["default"].createElement(C["default"],{innerDivStyle:R.innerDiv,primaryText:r,disableFocusRipple:s,key:n})}):N.push({text:r,value:m["default"].cloneElement(o,{key:n,disableFocusRipple:s})})}}return!(b&&b>0&&N.length===b)}),this.requestsList=N;var z=D&&N.length>0&&m["default"].createElement(T["default"],u({},E,{ref:"menu",autoWidth:!1,disableAutoFocus:j,onEscKeyDown:this.handleEscKeyDown,initiallyKeyboardFocused:!0,onItemTouchTap:this.handleItemTouchTap,onMouseDown:this.handleMouseDown,style:(0,h["default"])(R.menu,w),listStyle:(0,h["default"])(R.list,k)}),N.map(function(t){return t.value}));return m["default"].createElement("div",{style:F((0,h["default"])(R.root,v))},m["default"].createElement(x["default"],u({},A,{ref:"searchTextField",autoComplete:"off",value:I,onChange:this.handleChange,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,floatingLabelText:p,hintText:g,fullWidth:y,multiLine:!1,errorStyle:f,style:_})),m["default"].createElement(M["default"],{style:R.popover,canAutoPosition:!1,anchorOrigin:n,targetOrigin:P,open:D,anchorEl:L,useLayerForClickAway:!1,onRequestClose:this.handleRequestClose,animated:r,animation:i},z))}}]),e}(d.Component);j.propTypes={anchorOrigin:O["default"].origin,animated:d.PropTypes.bool,animation:d.PropTypes.func,dataSource:d.PropTypes.array.isRequired,dataSourceConfig:d.PropTypes.object,disableFocusRipple:d.PropTypes.bool,errorStyle:d.PropTypes.object,errorText:d.PropTypes.node,filter:d.PropTypes.func,floatingLabelText:d.PropTypes.node,fullWidth:d.PropTypes.bool,hintText:d.PropTypes.node,listStyle:d.PropTypes.object,maxSearchResults:d.PropTypes.number,menuCloseDelay:d.PropTypes.number,menuProps:d.PropTypes.object,menuStyle:d.PropTypes.object,onBlur:d.PropTypes.func,onFocus:d.PropTypes.func,onKeyDown:d.PropTypes.func,onNewRequest:d.PropTypes.func,onUpdateInput:d.PropTypes.func,open:d.PropTypes.bool,openOnFocus:d.PropTypes.bool,searchText:d.PropTypes.string,style:d.PropTypes.object,targetOrigin:O["default"].origin,textFieldStyle:d.PropTypes.object,triggerUpdateOnFocus:(0,I["default"])(d.PropTypes.bool,"Instead, use openOnFocus. It will be removed with v0.16.0.")},j.defaultProps={anchorOrigin:{vertical:"bottom",horizontal:"left"},animated:!0,dataSourceConfig:{text:"text",value:"value"},disableFocusRipple:!0,filter:function(t,e){return""!==t&&e.indexOf(t)!==-1},fullWidth:!1,open:!1,openOnFocus:!1,onUpdateInput:function(){},onNewRequest:function(){},searchText:"",menuCloseDelay:300,targetOrigin:{vertical:"top",horizontal:"left"}},j.contextTypes={muiTheme:d.PropTypes.object.isRequired},j.levenshteinDistance=function(t,e){for(var n=[],r=void 0,o=void 0,i=0;i<=e.length;i++)for(var a=0;a<=t.length;a++)o=i&&a?t.charAt(a-1)===e.charAt(i-1)?r:Math.min(n[a],n[a-1],r)+1:i+a,r=n[a],n[a]=o;return n.pop()},j.noFilter=function(){return!0},j.defaultFilter=j.caseSensitiveFilter=function(t,e){return""!==t&&e.indexOf(t)!==-1},j.caseInsensitiveFilter=function(t,e){return e.toLowerCase().indexOf(t.toLowerCase())!==-1},j.levenshteinDistanceFilter=function(t){if(void 0===t)return j.levenshteinDistance;if("number"!=typeof t)throw"Error: AutoComplete.levenshteinDistanceFilter is a filter generator, not a filter!";return function(e,n){return j.levenshteinDistance(e,n)<t}},j.fuzzyFilter=function(t,e){var n=e.toLowerCase();t=t.toLowerCase();for(var r=0,o=0;o<e.length;o++)n[o]===t[r]&&(r+=1);return r===t.length},j.Item=C["default"],j.Divider=S["default"],e["default"]=j},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.MenuItem=e.Menu=void 0;var o=n(1040),i=r(o),a=n(1059),s=r(a);e.Menu=i["default"],e.MenuItem=s["default"],e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1074),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=t.backgroundColor,r=t.color,o=t.size,i=e.muiTheme.avatar,a={root:{color:r||i.color,backgroundColor:n||i.backgroundColor,userSelect:"none",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:o/2,borderRadius:"50%",height:o,width:o},icon:{color:r||i.color,width:.6*o,height:.6*o,fontSize:.6*o,margin:.2*o}};return a}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=(t.backgroundColor,t.icon),n=t.src,r=t.style,i=t.className,a=o(t,["backgroundColor","icon","src","style","className"]),s=this.context.muiTheme.prepareStyles,c=l(this.props,this.context);return n?d["default"].createElement("img",u({style:s((0,p["default"])(c.root,r))},a,{src:n,className:i})):d["default"].createElement("div",u({},a,{style:s((0,p["default"])(c.root,r)),className:i}),e&&d["default"].cloneElement(e,{color:c.icon.color,style:(0,p["default"])(c.icon,e.props.style)}),this.props.children)}}]),e}(h.Component);m.muiName="Avatar",m.propTypes={backgroundColor:h.PropTypes.string,children:h.PropTypes.node,className:h.PropTypes.string,color:h.PropTypes.string,icon:h.PropTypes.element,size:h.PropTypes.number,src:h.PropTypes.string,style:h.PropTypes.object},m.defaultProps={size:40},m.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1076),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=t.primary,r=t.secondary,o=e.muiTheme.badge,i=void 0,a=void 0;n?(i=o.primaryColor,a=o.primaryTextColor):r?(i=o.secondaryColor,a=o.secondaryTextColor):(i=o.color,a=o.textColor);var s=12,l=Math.floor(2*s);return{root:{position:"relative",display:"inline-block",padding:l+"px "+l+"px "+s+"px "+s+"px"},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",top:0,right:0,fontWeight:o.fontWeight,fontSize:s,width:l,height:l,borderRadius:"50%",backgroundColor:i,color:a}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=t.badgeContent,n=t.badgeStyle,r=t.children,i=(t.primary,t.secondary,t.style),a=o(t,["badgeContent","badgeStyle","children","primary","secondary","style"]),s=this.context.muiTheme.prepareStyles,c=l(this.props,this.context);return d["default"].createElement("div",u({},a,{style:s((0,p["default"])({},c.root,i))}),r,d["default"].createElement("span",{style:s((0,p["default"])({},c.badge,n))},e))}}]),e}(h.Component);m.propTypes={badgeContent:h.PropTypes.node.isRequired,badgeStyle:h.PropTypes.object,children:h.PropTypes.node,className:h.PropTypes.string,primary:h.PropTypes.bool,secondary:h.PropTypes.bool,style:h.PropTypes.object},m.defaultProps={primary:!1,secondary:!1},m.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.CardExpandable=e.CardActions=e.CardText=e.CardMedia=e.CardTitle=e.CardHeader=e.Card=void 0;var o=n(1078),i=r(o),a=n(1082),s=r(a),l=n(1083),u=r(l),c=n(1084),f=r(c),p=n(1085),h=r(p),d=n(1086),m=r(d),y=n(1079),v=r(y);e.Card=i["default"],e.CardHeader=s["default"],e.CardTitle=u["default"],e.CardMedia=f["default"],e.CardText=h["default"],e.CardActions=m["default"],e.CardExpandable=v["default"],e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=n(947),m=r(d),y=n(1079),v=r(y),g=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={expanded:null},r.handleExpanding=function(t){t.preventDefault();var e=!r.state.expanded;null===r.props.expanded&&r.setState({expanded:e}),r.props.onExpandChange&&r.props.onExpandChange(e)},o=n,a(r,o)}return s(e,t),u(e,[{key:"componentWillMount",value:function(){this.setState({expanded:null===this.props.expanded?this.props.initiallyExpanded===!0:this.props.expanded})}},{key:"componentWillReceiveProps",value:function(t){null!==t.expanded&&this.setState({expanded:t.expanded})}},{key:"render",value:function(){var t=this,e=this.props,n=e.style,r=e.containerStyle,i=e.children,a=(e.expandable,e.expanded,e.initiallyExpanded,e.onExpandChange,o(e,["style","containerStyle","children","expandable","expanded","initiallyExpanded","onExpandChange"])),s=void 0,u=this.state.expanded,c=h["default"].Children.map(i,function(e){var n=!1,r=void 0,o={},i=e;return e&&e.props?u!==!1||e.props.expandable!==!0?(e.props.actAsExpander===!0&&(n=!0,o.onTouchTap=t.handleExpanding,o.style=(0,f["default"])({cursor:"pointer"},e.props.style)),e.props.showExpandableButton===!0&&(n=!0,r=h["default"].createElement(v["default"],{expanded:u,onExpanding:t.handleExpanding})),n&&(i=h["default"].cloneElement(e,o,e.props.children,r)),s=i,i):void 0:null},this),p=s&&("CardText"===s.type.muiName||"CardTitle"===s.type.muiName),d=(0,f["default"])({zIndex:1},n),y=(0,f["default"])({paddingBottom:p?8:0},r);return h["default"].createElement(m["default"],l({},a,{style:d}),h["default"].createElement("div",{style:y},c))}}]),e}(p.Component);g.propTypes={children:p.PropTypes.node,containerStyle:p.PropTypes.object,expandable:p.PropTypes.bool,expanded:p.PropTypes.bool,initiallyExpanded:p.PropTypes.bool,onExpandChange:p.PropTypes.func,showExpandableButton:p.PropTypes.bool,style:p.PropTypes.object},g.defaultProps={expandable:!1,expanded:null,initiallyExpanded:!1},e["default"]=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){return{root:{top:0,bottom:0,right:4,margin:"auto",position:"absolute"}}}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(798),c=r(u),f=n(316),p=r(f),h=n(1080),d=r(h),m=n(1081),y=r(m),v=n(796),g=r(v),b=function(t){function e(){return o(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),l(e,[{key:"render",value:function(){var t=s(this.props,this.context);return p["default"].createElement(g["default"],{style:(0,c["default"])(t.root,this.props.style),onTouchTap:this.props.onExpanding},this.props.expanded?p["default"].createElement(d["default"],null):p["default"].createElement(y["default"],null))}}]),e}(f.Component);b.propTypes={expanded:f.PropTypes.bool,onExpanding:f.PropTypes.func.isRequired,style:f.PropTypes.object},b.contextTypes={muiTheme:f.PropTypes.object.isRequired},e["default"]=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(1031),s=r(a),l=n(1038),u=r(l),c=function(t){return i["default"].createElement(u["default"],t,i["default"].createElement("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}))};c=(0,s["default"])(c),c.displayName="HardwareKeyboardArrowUp",c.muiName="SvgIcon",e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(1031),s=r(a),l=n(1038),u=r(l),c=function(t){return i["default"].createElement(u["default"],t,i["default"].createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}))};c=(0,s["default"])(c),c.displayName="HardwareKeyboardArrowDown",c.muiName="SvgIcon",e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=e.muiTheme.card;return{root:{padding:16,fontWeight:n.fontWeight,boxSizing:"border-box",position:"relative",whiteSpace:"nowrap"},text:{display:"inline-block",verticalAlign:"top",whiteSpace:"normal",paddingRight:"90px"},avatar:{marginRight:16},title:{color:t.titleColor||n.titleColor,display:"block",fontSize:15},subtitle:{color:t.subtitleColor||n.subtitleColor,display:"block",fontSize:14}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(1073),y=r(m),v=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=(t.actAsExpander,t.avatar),n=t.children,r=(t.expandable,t.showExpandableButton,t.style),i=t.subtitle,a=t.subtitleStyle,s=t.textStyle,c=t.title,f=t.titleStyle,m=o(t,["actAsExpander","avatar","children","expandable","showExpandableButton","style","subtitle","subtitleStyle","textStyle","title","titleStyle"]),v=this.context.muiTheme.prepareStyles,g=l(this.props,this.context),b=e;return(0,h.isValidElement)(e)?b=d["default"].cloneElement(b,{style:(0,p["default"])(g.avatar,b.props.style)}):null!==b&&(b=d["default"].createElement(y["default"],{src:e,style:g.avatar})),d["default"].createElement("div",u({},m,{style:v((0,p["default"])(g.root,r))}),b,d["default"].createElement("div",{style:v((0,p["default"])(g.text,s))},d["default"].createElement("span",{style:v((0,p["default"])(g.title,f))},c),d["default"].createElement("span",{style:v((0,p["default"])(g.subtitle,a))},i)),n)}}]),e}(h.Component);v.muiName="CardHeader",v.propTypes={actAsExpander:h.PropTypes.bool,avatar:h.PropTypes.node,children:h.PropTypes.node,expandable:h.PropTypes.bool,showExpandableButton:h.PropTypes.bool,style:h.PropTypes.object,subtitle:h.PropTypes.node,subtitleColor:h.PropTypes.string,subtitleStyle:h.PropTypes.object,textStyle:h.PropTypes.object,title:h.PropTypes.node,titleColor:h.PropTypes.string,titleStyle:h.PropTypes.object},v.defaultProps={avatar:null},v.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=e.muiTheme.card;return{root:{padding:16,position:"relative"},title:{fontSize:24,color:t.titleColor||n.titleColor,display:"block",lineHeight:"36px"},subtitle:{fontSize:14,color:t.subtitleColor||n.subtitleColor,display:"block"}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=(t.actAsExpander,t.children),n=(t.expandable,t.showExpandableButton,t.style),r=t.subtitle,i=(t.subtitleColor,t.subtitleStyle),a=t.title,s=(t.titleColor,t.titleStyle),c=o(t,["actAsExpander","children","expandable","showExpandableButton","style","subtitle","subtitleColor","subtitleStyle","title","titleColor","titleStyle"]),f=this.context.muiTheme.prepareStyles,h=l(this.props,this.context),m=(0,p["default"])({},h.root,n),y=(0,p["default"])({},h.title,s),v=(0,p["default"])({},h.subtitle,i);return d["default"].createElement("div",u({},c,{style:f(m)}),d["default"].createElement("span",{style:f(y)},a),d["default"].createElement("span",{style:f(v)},r),e)}}]),e}(h.Component);m.muiName="CardTitle",m.propTypes={actAsExpander:h.PropTypes.bool,children:h.PropTypes.node,expandable:h.PropTypes.bool,showExpandableButton:h.PropTypes.bool,style:h.PropTypes.object,subtitle:h.PropTypes.node,subtitleColor:h.PropTypes.string,subtitleStyle:h.PropTypes.object,title:h.PropTypes.node,titleColor:h.PropTypes.string,titleStyle:h.PropTypes.object},m.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=e.muiTheme.cardMedia;return{root:{position:"relative"},overlayContainer:{position:"absolute",top:0,bottom:0,right:0,left:0},overlay:{height:"100%",position:"relative"},overlayContent:{position:"absolute",bottom:0,right:0,left:0,paddingTop:8,background:n.overlayContentBackground},media:{},mediaChild:{verticalAlign:"top",maxWidth:"100%",minWidth:"100%",width:"100%"}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=(t.actAsExpander,t.children),n=(t.expandable,t.mediaStyle),r=t.overlay,i=t.overlayContainerStyle,a=t.overlayContentStyle,s=t.overlayStyle,c=t.style,f=o(t,["actAsExpander","children","expandable","mediaStyle","overlay","overlayContainerStyle","overlayContentStyle","overlayStyle","style"]),h=this.context.muiTheme.prepareStyles,m=l(this.props,this.context),y=(0,p["default"])(m.root,c),v=(0,p["default"])(m.media,n),g=(0,p["default"])(m.overlayContainer,i),b=(0,p["default"])(m.overlayContent,a),_=(0,p["default"])(m.overlay,s),x=this.context.muiTheme.cardMedia.titleColor,w=this.context.muiTheme.cardMedia.subtitleColor,T=this.context.muiTheme.cardMedia.color,E=d["default"].Children.map(e,function(t){return d["default"].cloneElement(t,{style:h((0,p["default"])({},m.mediaChild,t.props.style))})}),C=d["default"].Children.map(r,function(t){return"CardHeader"===t.type.muiName||"CardTitle"===t.type.muiName?d["default"].cloneElement(t,{titleColor:x,subtitleColor:w}):"CardText"===t.type.muiName?d["default"].cloneElement(t,{color:T}):t});return d["default"].createElement("div",u({},f,{style:h(y)}),d["default"].createElement("div",{style:h(v)},E),r?d["default"].createElement("div",{style:h(g)},d["default"].createElement("div",{style:h(_)},d["default"].createElement("div",{style:h(b)},C))):"")}}]),e}(h.Component);m.propTypes={actAsExpander:h.PropTypes.bool,children:h.PropTypes.node,expandable:h.PropTypes.bool,mediaStyle:h.PropTypes.object,overlay:h.PropTypes.node,overlayContainerStyle:h.PropTypes.object,overlayContentStyle:h.PropTypes.object,overlayStyle:h.PropTypes.object,style:h.PropTypes.object},m.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=e.muiTheme.cardText;return{root:{padding:16,fontSize:14,color:t.color||n.textColor}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=(t.actAsExpander,t.children),n=(t.color,t.expandable,t.style),r=o(t,["actAsExpander","children","color","expandable","style"]),i=this.context.muiTheme.prepareStyles,a=l(this.props,this.context),s=(0,p["default"])(a.root,n);return d["default"].createElement("div",u({},r,{style:i(s)}),e)}}]),e}(h.Component);m.muiName="CardText",m.propTypes={actAsExpander:h.PropTypes.bool,children:h.PropTypes.node,color:h.PropTypes.string,expandable:h.PropTypes.bool,style:h.PropTypes.object},m.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(){return{root:{padding:8,position:"relative"},action:{marginRight:8}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=(t.actAsExpander,t.children),n=(t.expandable,t.style),r=o(t,["actAsExpander","children","expandable","style"]),i=this.context.muiTheme.prepareStyles,a=l(this.props,this.context),s=d["default"].Children.map(e,function(t){if(d["default"].isValidElement(t))return d["default"].cloneElement(t,{
style:(0,p["default"])({},a.action,t.props.style)})});return d["default"].createElement("div",u({},r,{style:i((0,p["default"])(a.root,n))}),s)}}]),e}(h.Component);m.propTypes={actAsExpander:h.PropTypes.bool,children:h.PropTypes.node,expandable:h.PropTypes.bool,showExpandableButton:h.PropTypes.bool,style:h.PropTypes.object},m.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1088),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=e.muiTheme.checkbox,r=24;return{icon:{height:r,width:r},check:{position:"absolute",opacity:0,transform:"scale(0)",transitionOrigin:"50% 50%",transition:g["default"].easeOut("450ms","opacity","0ms")+", "+g["default"].easeOut("0ms","transform","450ms"),fill:n.checkedColor},box:{position:"absolute",opacity:1,fill:n.boxColor,transition:g["default"].easeOut("2s",null,"200ms")},checkWhenSwitched:{opacity:1,transform:"scale(1)",transition:g["default"].easeOut("0ms","opacity","0ms")+", "+g["default"].easeOut("800ms","transform","0ms")},boxWhenSwitched:{transition:g["default"].easeOut("100ms",null,"0ms"),fill:n.checkedColor},checkWhenDisabled:{fill:n.disabledColor,cursor:"not-allowed"},boxWhenDisabled:{fill:t.checked?"transparent":n.disabledColor,cursor:"not-allowed"},label:{color:t.disabled?n.labelDisabledColor:n.labelColor}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(1089),y=r(m),v=n(799),g=r(v),b=n(1090),_=r(b),x=n(1091),w=r(x),T=n(818),E=r(T),C=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={switched:!1},r.handleStateChange=function(t){r.setState({switched:t})},r.handleCheck=function(t,e){r.props.onCheck&&r.props.onCheck(t,e)},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentWillMount",value:function(){var t=this.props,e=t.checked,n=t.defaultChecked,r=t.valueLink;(e||n||r&&r.value)&&this.setState({switched:!0})}},{key:"componentWillReceiveProps",value:function(t){this.props.checked!==t.checked&&this.setState({switched:t.checked})}},{key:"isChecked",value:function(){return this.refs.enhancedSwitch.isSwitched()}},{key:"setChecked",value:function(t){this.refs.enhancedSwitch.setSwitched(t)}},{key:"render",value:function(){var t=this.props,e=t.iconStyle,n=(t.onCheck,t.checkedIcon),r=t.uncheckedIcon,i=t.unCheckedIcon,a=o(t,["iconStyle","onCheck","checkedIcon","uncheckedIcon","unCheckedIcon"]),s=l(this.props,this.context),c=(0,p["default"])(s.box,this.state.switched&&s.boxWhenSwitched,e,this.props.disabled&&s.boxWhenDisabled),f=(0,p["default"])(s.check,this.state.switched&&s.checkWhenSwitched,e,this.props.disabled&&s.checkWhenDisabled),h=n?d["default"].cloneElement(n,{style:(0,p["default"])(f,n.props.style)}):d["default"].createElement(w["default"],{style:f}),m=i||r?d["default"].cloneElement(i||r,{style:(0,p["default"])(c,(i||r).props.style)}):d["default"].createElement(_["default"],{style:c}),v=d["default"].createElement("div",null,m,h),g=this.state.switched?f.fill:c.fill,b=(0,p["default"])(s.icon,e),x=(0,p["default"])(s.label,this.props.labelStyle),T={ref:"enhancedSwitch",inputType:"checkbox",switched:this.state.switched,switchElement:v,rippleColor:g,iconStyle:b,onSwitch:this.handleCheck,labelStyle:x,onParentShouldUpdate:this.handleStateChange,labelPosition:this.props.labelPosition};return d["default"].createElement(y["default"],u({},a,T))}}]),e}(h.Component);C.propTypes={checked:h.PropTypes.bool,checkedIcon:h.PropTypes.element,defaultChecked:h.PropTypes.bool,disabled:h.PropTypes.bool,iconStyle:h.PropTypes.object,inputStyle:h.PropTypes.object,labelPosition:h.PropTypes.oneOf(["left","right"]),labelStyle:h.PropTypes.object,onCheck:h.PropTypes.func,style:h.PropTypes.object,unCheckedIcon:(0,E["default"])(h.PropTypes.element,"Use uncheckedIcon instead. It will be removed with v0.16.0."),uncheckedIcon:h.PropTypes.element,valueLink:h.PropTypes.object},C.defaultProps={labelPosition:"right",disabled:!1},C.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=C},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=e.muiTheme.baseTheme;return{root:{position:"relative",cursor:t.disabled?"default":"pointer",overflow:"visible",display:"table",height:"auto",width:"100%"},input:{position:"absolute",cursor:t.disabled?"default":"pointer",pointerEvents:"all",opacity:0,width:"100%",height:"100%",zIndex:2,left:0,boxSizing:"border-box",padding:0,margin:0},controls:{display:"flex",width:"100%",height:"100%"},label:{"float":"left",position:"relative",display:"block",width:"calc(100% - 60px)",lineHeight:"24px",color:n.palette.textColor,fontFamily:n.fontFamily},wrap:{transition:_["default"].easeOut(),"float":"left",position:"relative",display:"block",flexShrink:0,width:60-n.spacing.desktopGutterLess,marginRight:"right"===t.labelPosition?n.spacing.desktopGutterLess:0,marginLeft:"left"===t.labelPosition?n.spacing.desktopGutterLess:0},ripple:{color:t.rippleColor||n.palette.primary1Color,height:"200%",width:"200%",top:-12,left:-12}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(1024),y=r(m),v=n(806),g=r(v),b=n(799),_=r(b),x=n(807),w=r(x),T=n(815),E=r(T),C=n(947),k=r(C),S=n(308),P=(r(S),function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={isKeyboardFocused:!1},r.handleChange=function(t){r.tabPressed=!1,r.setState({isKeyboardFocused:!1});var e=r.refs.checkbox.checked;!r.props.hasOwnProperty("checked")&&r.props.onParentShouldUpdate&&r.props.onParentShouldUpdate(e),r.props.onSwitch&&r.props.onSwitch(t,e)},r.handleKeyDown=function(t){var e=(0,g["default"])(t);"tab"===e&&(r.tabPressed=!0),r.state.isKeyboardFocused&&"space"===e&&r.handleChange(t)},r.handleKeyUp=function(t){r.state.isKeyboardFocused&&"space"===(0,g["default"])(t)&&r.handleChange(t)},r.handleMouseDown=function(t){0===t.button&&r.refs.touchRipple.start(t)},r.handleMouseUp=function(){r.refs.touchRipple.end()},r.handleMouseLeave=function(){r.refs.touchRipple.end()},r.handleTouchStart=function(t){r.refs.touchRipple.start(t)},r.handleTouchEnd=function(){r.refs.touchRipple.end()},r.handleBlur=function(t){r.setState({isKeyboardFocused:!1}),r.props.onBlur&&r.props.onBlur(t)},r.handleFocus=function(t){setTimeout(function(){r.tabPressed&&r.setState({isKeyboardFocused:!0})},150),r.props.onFocus&&r.props.onFocus(t)},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentDidMount",value:function(){var t=this.refs.checkbox;this.props.switched&&t.checked===this.props.switched||!this.props.onParentShouldUpdate||this.props.onParentShouldUpdate(t.checked)}},{key:"componentWillReceiveProps",value:function(t){var e=t.hasOwnProperty("checked"),n=t.hasOwnProperty("toggled"),r=t.hasOwnProperty("defaultChecked")&&t.defaultChecked!==this.props.defaultChecked;if(e||n||r){var o=t.checked||t.toggled||t.defaultChecked||!1;this.setState({switched:o}),this.props.onParentShouldUpdate&&o!==this.props.switched&&this.props.onParentShouldUpdate(o)}}},{key:"isSwitched",value:function(){return this.refs.checkbox.checked}},{key:"setSwitched",value:function(t){this.props.hasOwnProperty("checked")&&this.props.checked!==!1||(this.props.onParentShouldUpdate&&this.props.onParentShouldUpdate(t),this.refs.checkbox.checked=t)}},{key:"getValue",value:function(){return this.refs.checkbox.value}},{key:"render",value:function(){var t=this.props,e=t.name,n=t.value,r=t.iconStyle,i=t.inputStyle,a=t.inputType,s=t.label,c=t.labelStyle,f=t.labelPosition,h=(t.onSwitch,t.onBlur,t.onFocus,t.onMouseUp,t.onMouseDown,t.onMouseLeave,t.onTouchStart,t.onTouchEnd,t.onParentShouldUpdate,t.disabled),m=t.disableTouchRipple,v=t.disableFocusRipple,g=t.className,b=(t.rippleColor,t.rippleStyle),_=t.style,x=(t.switched,t.switchElement),T=t.thumbStyle,C=t.trackStyle,S=o(t,["name","value","iconStyle","inputStyle","inputType","label","labelStyle","labelPosition","onSwitch","onBlur","onFocus","onMouseUp","onMouseDown","onMouseLeave","onTouchStart","onTouchEnd","onParentShouldUpdate","disabled","disableTouchRipple","disableFocusRipple","className","rippleColor","rippleStyle","style","switched","switchElement","thumbStyle","trackStyle"]),P=this.context.muiTheme.prepareStyles,M=l(this.props,this.context),A=(0,p["default"])(M.wrap,r),O=(0,p["default"])(M.ripple,b);T&&(A.marginLeft/=2,A.marginRight/=2);var D=s&&d["default"].createElement("label",{style:P((0,p["default"])(M.label,c))},s),L=!h&&!m,I=!h&&!v,j=d["default"].createElement(E["default"],{ref:"touchRipple",key:"touchRipple",style:O,color:O.color,muiTheme:this.context.muiTheme,centerRipple:!0}),F=d["default"].createElement(w["default"],{key:"focusRipple",innerStyle:O,color:O.color,muiTheme:this.context.muiTheme,show:this.state.isKeyboardFocused}),R=[L?j:null,I?F:null],N=d["default"].createElement("input",u({},S,{ref:"checkbox",type:a,style:P((0,p["default"])(M.input,i)),name:e,value:n,disabled:h,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange,onMouseUp:L&&this.handleMouseUp,onMouseDown:L&&this.handleMouseDown,onMouseLeave:L&&this.handleMouseLeave,onTouchStart:L&&this.handleTouchStart,onTouchEnd:L&&this.handleTouchEnd})),z=T?d["default"].createElement("div",{style:P(A)},d["default"].createElement("div",{style:P((0,p["default"])({},C))}),d["default"].createElement(k["default"],{style:T,zDepth:1,circle:!0}," ",R," ")):d["default"].createElement("div",{style:P(A)},x,R),B="right"===f?d["default"].createElement("div",{style:M.controls},z,D):d["default"].createElement("div",{style:M.controls},D,z);return d["default"].createElement("div",{ref:"root",className:g,style:P((0,p["default"])(M.root,_))},d["default"].createElement(y["default"],{target:"window",onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp}),N,B)}}]),e}(h.Component));P.propTypes={checked:h.PropTypes.bool,className:h.PropTypes.string,defaultChecked:h.PropTypes.bool,disableFocusRipple:h.PropTypes.bool,disableTouchRipple:h.PropTypes.bool,disabled:h.PropTypes.bool,iconStyle:h.PropTypes.object,inputStyle:h.PropTypes.object,inputType:h.PropTypes.string.isRequired,label:h.PropTypes.node,labelPosition:h.PropTypes.oneOf(["left","right"]),labelStyle:h.PropTypes.object,name:h.PropTypes.string,onBlur:h.PropTypes.func,onFocus:h.PropTypes.func,onMouseDown:h.PropTypes.func,onMouseLeave:h.PropTypes.func,onMouseUp:h.PropTypes.func,onParentShouldUpdate:h.PropTypes.func,onSwitch:h.PropTypes.func,onTouchEnd:h.PropTypes.func,onTouchStart:h.PropTypes.func,rippleColor:h.PropTypes.string,rippleStyle:h.PropTypes.object,style:h.PropTypes.object,switchElement:h.PropTypes.element.isRequired,switched:h.PropTypes.bool.isRequired,thumbStyle:h.PropTypes.object,trackStyle:h.PropTypes.object,value:h.PropTypes.any},P.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=P},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(1031),s=r(a),l=n(1038),u=r(l),c=function(t){return i["default"].createElement(u["default"],t,i["default"].createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))};c=(0,s["default"])(c),c.displayName="ToggleCheckBoxOutlineBlank",c.muiName="SvgIcon",e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(1031),s=r(a),l=n(1038),u=r(l),c=function(t){return i["default"].createElement(u["default"],t,i["default"].createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))};c=(0,s["default"])(c),c.displayName="ToggleCheckBox",c.muiName="SvgIcon",e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1093),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){var r=e.muiTheme.chip,o=t.backgroundColor||r.backgroundColor,i=(0,v.emphasize)(o,.08),a=(0,v.emphasize)(o,.12);return{avatar:{marginRight:-4},deleteIcon:{color:n.deleteHovered?(0,v.fade)(r.deleteIconColor,.4):r.deleteIconColor,cursor:"pointer",margin:"4px 4px 0px -8px"},label:{color:t.labelColor||r.textColor,fontSize:r.fontSize,fontWeight:r.fontWeight,lineHeight:"32px",paddingLeft:12,paddingRight:12,userSelect:"none",whiteSpace:"nowrap"},root:{backgroundColor:n.clicked?a:n.focused||n.hovered?i:o,borderRadius:16,boxShadow:n.clicked?r.shadow:null,cursor:t.onTouchTap?"pointer":"default",display:"flex",whiteSpace:"nowrap",width:"fit-content"}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(806),y=r(m),v=n(857),g=n(801),b=r(g),_=n(1094),x=r(_),w=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={clicked:!1,deleteHovered:!1,focused:!1,hovered:!1},r.handleBlur=function(t){r.setState({clicked:!1,focused:!1}),r.props.onBlur(t)},r.handleFocus=function(t){(r.props.onTouchTap||r.props.onRequestDelete)&&r.setState({focused:!0}),r.props.onFocus(t)},r.handleKeyboardFocus=function(t,e){e?(r.handleFocus(),r.props.onFocus(t)):r.handleBlur(),r.props.onKeyboardFocus(t,e)},r.handleKeyDown=function(t){"backspace"===(0,y["default"])(t)&&(t.preventDefault(),r.props.onRequestDelete&&r.props.onRequestDelete(t)),r.props.onKeyDown(t)},r.handleMouseDown=function(t){0===t.button&&(t.stopPropagation(),r.props.onTouchTap&&r.setState({clicked:!0})),r.props.onMouseDown(t)},r.handleMouseEnter=function(t){r.props.onTouchTap&&r.setState({hovered:!0}),r.props.onMouseEnter(t)},r.handleMouseEnterDeleteIcon=function(){r.setState({deleteHovered:!0})},r.handleMouseLeave=function(t){r.setState({clicked:!1,hovered:!1}),r.props.onMouseLeave(t)},r.handleMouseLeaveDeleteIcon=function(){r.setState({deleteHovered:!1})},r.handleMouseUp=function(t){r.setState({clicked:!1}),r.props.onMouseUp(t)},r.handleTouchTapDeleteIcon=function(t){t.stopPropagation(),r.props.onRequestDelete(t)},r.handleTouchEnd=function(t){r.setState({clicked:!1}),r.props.onTouchEnd(t)},r.handleTouchStart=function(t){t.stopPropagation(),r.props.onTouchTap&&r.setState({clicked:!0}),r.props.onTouchStart(t)},o=n,a(r,o)}return s(e,t),c(e,[{key:"render",value:function(){var t={onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTouchEnd:this.handleTouchEnd,onTouchStart:this.handleTouchStart,onKeyboardFocus:this.handleKeyboardFocus},e=this.context.muiTheme.prepareStyles,n=l(this.props,this.context,this.state),r=this.props,i=r.children,a=r.style,s=r.className,c=r.labelStyle,f=(r.labelColor,r.backgroundColor,r.onRequestDelete,o(r,["children","style","className","labelStyle","labelColor","backgroundColor","onRequestDelete"])),h=this.props.onRequestDelete,m=null;a=(0,p["default"])(n.root,a),c=e((0,p["default"])(n.label,c));var y=h?d["default"].createElement(x["default"],{color:n.deleteIcon.color,style:n.deleteIcon,onTouchTap:this.handleTouchTapDeleteIcon,onMouseEnter:this.handleMouseEnterDeleteIcon,onMouseLeave:this.handleMouseLeaveDeleteIcon}):null,v=d["default"].Children.count(i);return v>1&&(i=d["default"].Children.toArray(i),d["default"].isValidElement(i[0])&&"Avatar"===i[0].type.muiName&&(m=i.shift(),m=d["default"].cloneElement(m,{style:(0,p["default"])(n.avatar,m.props.style),size:32}))),d["default"].createElement(b["default"],u({},f,t,{className:s,containerElement:"div",disableTouchRipple:!0,disableFocusRipple:!0,style:a}),m,d["default"].createElement("span",{style:c},i),y)}}]),e}(h.Component);w.propTypes={backgroundColor:h.PropTypes.string,children:h.PropTypes.node,className:h.PropTypes.node,labelColor:h.PropTypes.string,labelStyle:h.PropTypes.object,onBlur:h.PropTypes.func,onFocus:h.PropTypes.func,onKeyDown:h.PropTypes.func,onKeyboardFocus:h.PropTypes.func,onMouseDown:h.PropTypes.func,onMouseEnter:h.PropTypes.func,onMouseLeave:h.PropTypes.func,onMouseUp:h.PropTypes.func,onRequestDelete:h.PropTypes.func,onTouchEnd:h.PropTypes.func,onTouchStart:h.PropTypes.func,onTouchTap:h.PropTypes.func,style:h.PropTypes.object},w.defaultProps={onBlur:function(){},onFocus:function(){},onKeyDown:function(){},onKeyboardFocus:function(){},onMouseDown:function(){},onMouseEnter:function(){},onMouseLeave:function(){},onMouseUp:function(){},onTouchEnd:function(){},onTouchStart:function(){}},w.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(1031),s=r(a),l=n(1038),u=r(l),c=function(t){return i["default"].createElement(u["default"],t,i["default"].createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}))};c=(0,s["default"])(c),c.displayName="NavigationCancel",c.muiName="SvgIcon",e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1096),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){var r=Math.min(Math.max(e,t),n),o=n-e,i=Math.round(r/o*1e4)/1e4;return 100*i}function u(t,e){var n=t.max,r=t.min,o=t.size,i=t.value,a=e.muiTheme.baseTheme.palette,s=1.4*o,u=50,c=Math.round((50*s-50)/2);c<0&&(c=0);var f={root:{position:"relative",margin:c,display:"inline-block",width:u,height:u},wrapper:{width:u,height:u,display:"inline-block",transition:b["default"].create("transform","20s",null,"linear"),transitionTimingFunction:"linear"},svg:{height:u,position:"relative",transform:"scale("+s+")",width:u},path:{strokeDasharray:"89, 200",strokeDashoffset:0,stroke:t.color||a.primary1Color,strokeLinecap:"round",transition:b["default"].create("all","1.5s",null,"ease-in-out")}};if("determinate"===t.mode){var p=l(i,r,n);f.path.transition=b["default"].create("all","0.3s",null,"linear"),f.path.strokeDasharray=Math.round(1.25*p)+", 200"}return f}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=n(798),h=r(p),d=n(316),m=r(d),y=n(809),v=r(y),g=n(799),b=r(g),_=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),f(e,[{key:"componentDidMount",value:function(){this.scalePath(this.refs.path),this.rotateWrapper(this.refs.wrapper)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.scalePathTimer),clearTimeout(this.rotateWrapperTimer)}},{key:"scalePath",value:function(t,e){var n=this;"indeterminate"===this.props.mode&&(e=e||0,e%=3,0===e?(t.style.strokeDasharray="1, 200",t.style.strokeDashoffset=0,t.style.transitionDuration="0ms"):1===e?(t.style.strokeDasharray="89, 200",t.style.strokeDashoffset=-35,t.style.transitionDuration="750ms"):(t.style.strokeDasharray="89, 200",t.style.strokeDashoffset=-124,t.style.transitionDuration="850ms"),this.scalePathTimer=setTimeout(function(){return n.scalePath(t,e+1)},e?750:250))}},{key:"rotateWrapper",value:function(t){var e=this;"indeterminate"===this.props.mode&&(v["default"].set(t.style,"transform","rotate(0deg)"),v["default"].set(t.style,"transitionDuration","0ms"),setTimeout(function(){v["default"].set(t.style,"transform","rotate(1800deg)"),v["default"].set(t.style,"transitionDuration","10s"),v["default"].set(t.style,"transitionTimingFunction","linear")},50),this.rotateWrapperTimer=setTimeout(function(){return e.rotateWrapper(t)},10050))}},{key:"render",value:function(){var t=this.props,e=t.style,n=t.innerStyle,r=(t.size,o(t,["style","innerStyle","size"])),i=this.context.muiTheme.prepareStyles,a=u(this.props,this.context);return m["default"].createElement("div",c({},r,{style:i((0,h["default"])(a.root,e))}),m["default"].createElement("div",{ref:"wrapper",style:i((0,h["default"])(a.wrapper,n))},m["default"].createElement("svg",{style:i(a.svg)},m["default"].createElement("circle",{ref:"path",style:i(a.path),cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"2.5",strokeMiterlimit:"20"}))))}}]),e}(d.Component);_.propTypes={color:d.PropTypes.string,innerStyle:d.PropTypes.object,max:d.PropTypes.number,min:d.PropTypes.number,mode:d.PropTypes.oneOf(["determinate","indeterminate"]),size:d.PropTypes.number,style:d.PropTypes.object,value:d.PropTypes.number},_.defaultProps={mode:"indeterminate",value:0,min:0,max:100,size:1},_.contextTypes={muiTheme:d.PropTypes.object.isRequired},e["default"]=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1098),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=n(1099),m=n(1100),y=r(m),v=n(1021),g=r(v),b=n(818),_=r(b),x=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={date:void 0},r.handleAccept=function(t){r.isControlled()||r.setState({date:t}),r.props.onChange&&r.props.onChange(null,t)},r.handleFocus=function(t){t.target.blur(),r.props.onFocus&&r.props.onFocus(t)},r.handleTouchTap=function(t){r.props.onTouchTap&&r.props.onTouchTap(t),r.props.disabled||setTimeout(function(){r.openDialog()},0)},r.formatDate=function(t){if(r.props.locale){var e=r.props.DateTimeFormat||d.dateTimeFormat;return new e(r.props.locale,{day:"numeric",month:"numeric",year:"numeric"}).format(t)}return(0,d.formatIso)(t)},o=n,a(r,o)}return s(e,t),u(e,[{key:"componentWillMount",value:function(){this.setState({date:this.isControlled()?this.getControlledDate():this.props.defaultDate})}},{key:"componentWillReceiveProps",value:function(t){if(this.isControlled()){var e=this.getControlledDate(t);(0,d.isEqualDate)(this.state.date,e)||this.setState({date:e})}}},{key:"getDate",value:function(){return this.state.date}},{key:"openDialog",value:function(){void 0!==this.state.date?this.setState({dialogDate:this.getDate()},this.refs.dialogWindow.show):this.setState({dialogDate:new Date},this.refs.dialogWindow.show)}},{key:"focus",value:function(){this.openDialog()}},{key:"isControlled",value:function(){return this.props.hasOwnProperty("value")}},{key:"getControlledDate",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0];if(t.value instanceof Date)return t.value}},{key:"render",value:function(){var t=this.props,e=t.DateTimeFormat,n=t.autoOk,r=t.cancelLabel,i=t.className,a=t.container,s=(t.defaultDate,t.dialogContainerStyle),u=t.disableYearSelection,c=t.firstDayOfWeek,p=t.formatDate,d=t.locale,m=t.maxDate,v=t.minDate,b=t.mode,_=t.okLabel,x=t.onDismiss,w=(t.onFocus,t.onShow),T=(t.onTouchTap,t.shouldDisableDate),E=t.style,C=t.textFieldStyle,k=t.wordings,S=o(t,["DateTimeFormat","autoOk","cancelLabel","className","container","defaultDate","dialogContainerStyle","disableYearSelection","firstDayOfWeek","formatDate","locale","maxDate","minDate","mode","okLabel","onDismiss","onFocus","onShow","onTouchTap","shouldDisableDate","style","textFieldStyle","wordings"]),P=this.context.muiTheme.prepareStyles,M=p||this.formatDate;return h["default"].createElement("div",{className:i,style:P((0,f["default"])({},E))},h["default"].createElement(g["default"],l({},S,{onFocus:this.handleFocus,onTouchTap:this.handleTouchTap,ref:"input",style:C,value:this.state.date?M(this.state.date):""})),h["default"].createElement(y["default"],{DateTimeFormat:e,autoOk:n,cancelLabel:r,container:a,containerStyle:s,disableYearSelection:u,firstDayOfWeek:c,initialDate:this.state.dialogDate,locale:d,maxDate:m,minDate:v,mode:b,okLabel:_,onAccept:this.handleAccept,onShow:w,onDismiss:x,ref:"dialogWindow",shouldDisableDate:T,wordings:k}))}}]),e}(p.Component);x.propTypes={DateTimeFormat:p.PropTypes.func,autoOk:p.PropTypes.bool,cancelLabel:p.PropTypes.node,className:p.PropTypes.string,container:p.PropTypes.oneOf(["dialog","inline"]),defaultDate:p.PropTypes.object,dialogContainerStyle:p.PropTypes.object,disableYearSelection:p.PropTypes.bool,disabled:p.PropTypes.bool,firstDayOfWeek:p.PropTypes.number,formatDate:p.PropTypes.func,locale:p.PropTypes.string,maxDate:p.PropTypes.object,minDate:p.PropTypes.object,mode:p.PropTypes.oneOf(["portrait","landscape"]),okLabel:p.PropTypes.node,onChange:p.PropTypes.func,onDismiss:p.PropTypes.func,onFocus:p.PropTypes.func,onShow:p.PropTypes.func,onTouchTap:p.PropTypes.func,shouldDisableDate:p.PropTypes.func,style:p.PropTypes.object,textFieldStyle:p.PropTypes.object,value:p.PropTypes.object,wordings:(0,_["default"])(p.PropTypes.object,"Instead, use `cancelLabel` and `okLabel`.\n      It will be removed with v0.16.0.")},x.defaultProps={autoOk:!1,container:"dialog",disabled:!1,disableYearSelection:!1,firstDayOfWeek:1,style:{}},x.contextTypes={muiTheme:p.PropTypes.object.isRequired},e["default"]=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){this.format=function(t){return"short"===e.month&&"short"===e.weekday&&"2-digit"===e.day?E[t.getDay()]+", "+C[t.getMonth()]+" "+t.getDate():"numeric"===e.day&&"numeric"===e.month&&"numeric"===e.year?t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear():"long"===e.month&&"numeric"===e.year?k[t.getMonth()]+" "+t.getFullYear():"narrow"===e.weekday?T[t.getDay()]:void 0}}function i(t,e){var n=l(t);return n.setDate(t.getDate()+e),n}function a(t,e){var n=l(t);return n.setMonth(t.getMonth()+e),n}function s(t,e){var n=l(t);return n.setFullYear(t.getFullYear()+e),n}function l(t){return new Date(t.getTime())}function u(t){var e=l(t);return e.setHours(0,0,0,0),
e}function c(t){var e=f(t);return e.setMonth(e.getMonth()+1),e.setDate(e.getDate()-1),e.getDate()}function f(t){return new Date(t.getFullYear(),t.getMonth(),1)}function p(){var t=new Date;return new Date(t.setDate(t.getDate()-t.getDay()))}function h(t,e){for(var n=[],r=c(t),o=[],i=[],a=1;a<=r;a++)n.push(new Date(t.getFullYear(),t.getMonth(),a));var s=function(t){for(var e=7-t.length,n=0;n<e;++n)t[o.length?"push":"unshift"](null);o.push(t)};return n.forEach(function(t){i.length>0&&t.getDay()===e&&(s(i),i=[]),i.push(t),n.indexOf(t)===n.length-1&&s(i)}),o}function d(t,e,n,r){var o=new t(e,{weekday:"narrow"}),a=p();return o.format(i(a,n+r))}function m(t){return new Date(t.toDateString()+" 12:00:00 +0000").toISOString().substring(0,10)}function y(t,e){return t&&e&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}function v(t,e){var n=u(t),r=u(e);return n.getTime()<r.getTime()}function g(t,e){var n=u(t),r=u(e);return n.getTime()>r.getTime()}function b(t,e,n){return!v(t,e)&&!g(t,n)}function _(t,e){var n=void 0;return n=12*(t.getFullYear()-e.getFullYear()),n+=t.getMonth(),n-=e.getMonth()}function x(t,e){return~~(_(t,e)/12)}Object.defineProperty(e,"__esModule",{value:!0}),e.dateTimeFormat=o,e.addDays=i,e.addMonths=a,e.addYears=s,e.cloneDate=l,e.cloneAsDate=u,e.getDaysInMonth=c,e.getFirstDayOfMonth=f,e.getFirstDayOfWeek=p,e.getWeekArray=h,e.localizedWeekday=d,e.formatIso=m,e.isEqualDate=y,e.isBeforeDate=v,e.isAfterDate=g,e.isBetweenDates=b,e.monthDiff=_,e.yearDiff=x;var w=n(308),T=(r(w),["S","M","T","W","T","F","S"]),E=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],k=["January","February","March","April","May","June","July","August","September","October","November","December"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=n(1024),m=r(d),y=n(806),v=r(y),g=n(1101),b=r(g),_=n(1116),x=r(_),w=n(1048),T=r(w),E=n(1052),C=r(E),k=n(1099),S=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={open:!1},r.show=function(){r.props.onShow&&!r.state.open&&r.props.onShow(),r.setState({open:!0})},r.dismiss=function(){r.props.onDismiss&&r.state.open&&r.props.onDismiss(),r.setState({open:!1})},r.handleTouchTapDay=function(){r.props.autoOk&&setTimeout(r.handleTouchTapOk,300)},r.handleTouchTapCancel=function(){r.dismiss()},r.handleRequestClose=function(){r.dismiss()},r.handleTouchTapOk=function(){r.props.onAccept&&!r.refs.calendar.isSelectedDateDisabled()&&r.props.onAccept(r.refs.calendar.getSelectedDate()),r.setState({open:!1})},r.handleWindowKeyUp=function(t){switch((0,v["default"])(t)){case"enter":r.handleTouchTapOk()}},o=n,a(r,o)}return s(e,t),u(e,[{key:"render",value:function(){var t=this.props,e=t.DateTimeFormat,n=t.autoOk,r=t.cancelLabel,i=t.container,a=t.containerStyle,s=t.disableYearSelection,u=t.initialDate,c=t.firstDayOfWeek,p=t.locale,d=t.maxDate,y=t.minDate,v=t.mode,g=t.okLabel,_=(t.onAccept,t.onDismiss,t.onShow,t.shouldDisableDate),w=(t.style,t.wordings),E=t.animation,k=o(t,["DateTimeFormat","autoOk","cancelLabel","container","containerStyle","disableYearSelection","initialDate","firstDayOfWeek","locale","maxDate","minDate","mode","okLabel","onAccept","onDismiss","onShow","shouldDisableDate","style","wordings","animation"]),S=this.state.open,P={dialogContent:{width:"landscape"===v?479:310},dialogBodyContent:{padding:0,minHeight:"landscape"===v?330:434,minWidth:"landscape"===v?479:310}},M="inline"===i?T["default"]:x["default"];return h["default"].createElement("div",l({},k,{ref:"root"}),h["default"].createElement(M,{anchorEl:this.refs.root,animation:E||C["default"],bodyStyle:P.dialogBodyContent,contentStyle:P.dialogContent,ref:"dialog",repositionOnUpdate:!0,open:S,onRequestClose:this.handleRequestClose,style:(0,f["default"])(P.dialogBodyContent,a)},h["default"].createElement(m["default"],{target:"window",onKeyUp:this.handleWindowKeyUp}),h["default"].createElement(b["default"],{autoOk:n,DateTimeFormat:e,cancelLabel:r,disableYearSelection:s,firstDayOfWeek:c,initialDate:u,locale:p,onTouchTapDay:this.handleTouchTapDay,maxDate:d,minDate:y,mode:v,open:S,ref:"calendar",onTouchTapCancel:this.handleTouchTapCancel,onTouchTapOk:this.handleTouchTapOk,okLabel:g,shouldDisableDate:_,wordings:w})))}}]),e}(p.Component);S.propTypes={DateTimeFormat:p.PropTypes.func,animation:p.PropTypes.func,autoOk:p.PropTypes.bool,cancelLabel:p.PropTypes.node,container:p.PropTypes.oneOf(["dialog","inline"]),containerStyle:p.PropTypes.object,disableYearSelection:p.PropTypes.bool,firstDayOfWeek:p.PropTypes.number,initialDate:p.PropTypes.object,locale:p.PropTypes.string,maxDate:p.PropTypes.object,minDate:p.PropTypes.object,mode:p.PropTypes.oneOf(["portrait","landscape"]),okLabel:p.PropTypes.node,onAccept:p.PropTypes.func,onDismiss:p.PropTypes.func,onShow:p.PropTypes.func,open:p.PropTypes.bool,shouldDisableDate:p.PropTypes.func,style:p.PropTypes.object,wordings:p.PropTypes.object},S.defaultProps={DateTimeFormat:k.dateTimeFormat,cancelLabel:"Cancel",container:"dialog",locale:"en-US",okLabel:"OK"},S.contextTypes={muiTheme:p.PropTypes.object.isRequired},e["default"]=S},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(316),c=r(u),f=n(1024),p=r(f),h=n(806),d=r(h),m=n(799),y=r(m),v=n(1102),g=r(v),b=n(1106),_=r(b),x=n(1108),w=r(x),T=n(1110),E=r(T),C=n(1115),k=r(C),S=n(1113),P=r(S),M=n(1099),A=[].concat(s(Array(7))),O=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={displayDate:void 0,displayMonthDay:!0,selectedDate:void 0,transitionDirection:"left",transitionEnter:!0},r.handleTouchTapDay=function(t,e){r.setSelectedDate(e),r.props.onTouchTapDay&&r.props.onTouchTapDay(t,e)},r.handleMonthChange=function(t){r.setState({transitionDirection:t>=0?"left":"right",displayDate:(0,M.addMonths)(r.state.displayDate,t)})},r.handleTouchTapYear=function(t,e){var n=(0,M.cloneDate)(r.state.selectedDate);n.setFullYear(e),r.setSelectedDate(n,t)},r.handleTouchTapDateDisplayMonthDay=function(){r.setState({displayMonthDay:!0})},r.handleTouchTapDateDisplayYear=function(){r.setState({displayMonthDay:!1})},r.handleWindowKeyDown=function(t){if(r.props.open)switch((0,d["default"])(t)){case"up":t.altKey&&t.shiftKey?r.addSelectedYears(-1):t.shiftKey?r.addSelectedMonths(-1):r.addSelectedDays(-7);break;case"down":t.altKey&&t.shiftKey?r.addSelectedYears(1):t.shiftKey?r.addSelectedMonths(1):r.addSelectedDays(7);break;case"right":t.altKey&&t.shiftKey?r.addSelectedYears(1):t.shiftKey?r.addSelectedMonths(1):r.addSelectedDays(1);break;case"left":t.altKey&&t.shiftKey?r.addSelectedYears(-1):t.shiftKey?r.addSelectedMonths(-1):r.addSelectedDays(-1)}},a=n,i(r,a)}return a(e,t),l(e,[{key:"componentWillMount",value:function(){this.setState({displayDate:(0,M.getFirstDayOfMonth)(this.props.initialDate),selectedDate:this.props.initialDate})}},{key:"componentWillReceiveProps",value:function(t){if(t.initialDate!==this.props.initialDate){var e=t.initialDate||new Date;this.setState({displayDate:(0,M.getFirstDayOfMonth)(e),selectedDate:e})}}},{key:"getSelectedDate",value:function(){return this.state.selectedDate}},{key:"isSelectedDateDisabled",value:function(){return!!this.state.displayMonthDay&&this.refs.calendar.isSelectedDateDisabled()}},{key:"addSelectedDays",value:function(t){this.setSelectedDate((0,M.addDays)(this.state.selectedDate,t))}},{key:"addSelectedMonths",value:function(t){this.setSelectedDate((0,M.addMonths)(this.state.selectedDate,t))}},{key:"addSelectedYears",value:function(t){this.setSelectedDate((0,M.addYears)(this.state.selectedDate,t))}},{key:"setDisplayDate",value:function(t,e){var n=(0,M.getFirstDayOfMonth)(t),r=n>this.state.displayDate?"left":"right";n!==this.state.displayDate&&this.setState({displayDate:n,transitionDirection:r,selectedDate:e||this.state.selectedDate})}},{key:"setSelectedDate",value:function(t){var e=t;(0,M.isBeforeDate)(t,this.props.minDate)?e=this.props.minDate:(0,M.isAfterDate)(t,this.props.maxDate)&&(e=this.props.maxDate);var n=(0,M.getFirstDayOfMonth)(e);n!==this.state.displayDate?this.setDisplayDate(n,e):this.setState({selectedDate:e})}},{key:"getToolbarInteractions",value:function(){return{prevMonth:(0,M.monthDiff)(this.state.displayDate,this.props.minDate)>0,nextMonth:(0,M.monthDiff)(this.state.displayDate,this.props.maxDate)<0}}},{key:"yearSelector",value:function(){if(!this.props.disableYearSelection)return c["default"].createElement(w["default"],{key:"years",displayDate:this.state.displayDate,onTouchTapYear:this.handleTouchTapYear,selectedDate:this.state.selectedDate,minDate:this.props.minDate,maxDate:this.props.maxDate})}},{key:"render",value:function(){var t=this.context.muiTheme.prepareStyles,e=(0,M.getWeekArray)(this.state.displayDate,this.props.firstDayOfWeek).length,n=this.getToolbarInteractions(),r="landscape"===this.props.mode,o=this.context.muiTheme.datePicker.calendarTextColor,i={root:{color:o,userSelect:"none",width:r?479:310},calendar:{display:"flex",flexDirection:"column"},calendarContainer:{display:"flex",alignContent:"space-between",justifyContent:"space-between",flexDirection:"column",fontSize:12,fontWeight:400,padding:"0px 8px",transition:y["default"].easeOut()},yearContainer:{display:"flex",justifyContent:"space-between",flexDirection:"column",height:272,marginTop:10,overflow:"hidden",width:310},weekTitle:{display:"flex",flexDirection:"row",justifyContent:"space-between",fontWeight:"500",height:20,lineHeight:"15px",opacity:"0.5",textAlign:"center"},weekTitleDay:{width:42},transitionSlide:{height:214}},a=t(i.weekTitleDay),s=this.props,l=s.cancelLabel,u=s.DateTimeFormat,f=s.firstDayOfWeek,h=s.locale,d=s.okLabel,m=s.onTouchTapCancel,v=s.onTouchTapOk,b=s.wordings;return c["default"].createElement("div",{style:t(i.root)},c["default"].createElement(p["default"],{target:"window",onKeyDown:this.handleWindowKeyDown}),c["default"].createElement(k["default"],{DateTimeFormat:u,disableYearSelection:this.props.disableYearSelection,onTouchTapMonthDay:this.handleTouchTapDateDisplayMonthDay,onTouchTapYear:this.handleTouchTapDateDisplayYear,locale:h,monthDaySelected:this.state.displayMonthDay,mode:this.props.mode,selectedDate:this.state.selectedDate,weekCount:e}),c["default"].createElement("div",{style:t(i.calendar)},this.state.displayMonthDay&&c["default"].createElement("div",{style:t(i.calendarContainer)},c["default"].createElement(E["default"],{DateTimeFormat:u,locale:h,displayDate:this.state.displayDate,onMonthChange:this.handleMonthChange,prevMonth:n.prevMonth,nextMonth:n.nextMonth}),c["default"].createElement("div",{style:t(i.weekTitle)},A.map(function(t,e){return c["default"].createElement("span",{key:e,style:a},(0,M.localizedWeekday)(u,h,e,f))})),c["default"].createElement(P["default"],{direction:this.state.transitionDirection,style:i.transitionSlide},c["default"].createElement(_["default"],{displayDate:this.state.displayDate,firstDayOfWeek:this.props.firstDayOfWeek,key:this.state.displayDate.toDateString(),minDate:this.props.minDate,maxDate:this.props.maxDate,onTouchTapDay:this.handleTouchTapDay,ref:"calendar",selectedDate:this.state.selectedDate,shouldDisableDate:this.props.shouldDisableDate}))),!this.state.displayMonthDay&&c["default"].createElement("div",{style:t(i.yearContainer)},this.yearSelector()),d&&c["default"].createElement(g["default"],{autoOk:this.props.autoOk,cancelLabel:l,okLabel:d,onTouchTapCancel:m,onTouchTapOk:v,wordings:b})))}}]),e}(u.Component);O.propTypes={DateTimeFormat:u.PropTypes.func.isRequired,autoOk:u.PropTypes.bool,cancelLabel:u.PropTypes.node,disableYearSelection:u.PropTypes.bool,firstDayOfWeek:u.PropTypes.number,initialDate:u.PropTypes.object,locale:u.PropTypes.string.isRequired,maxDate:u.PropTypes.object,minDate:u.PropTypes.object,mode:u.PropTypes.oneOf(["portrait","landscape"]),okLabel:u.PropTypes.node,onTouchTapCancel:u.PropTypes.func,onTouchTapDay:u.PropTypes.func,onTouchTapOk:u.PropTypes.func,open:u.PropTypes.bool,shouldDisableDate:u.PropTypes.func,wordings:u.PropTypes.object},O.defaultProps={DateTimeFormat:M.dateTimeFormat,disableYearSelection:!1,initialDate:new Date,locale:"en-US",minDate:(0,M.addYears)(new Date,-100),maxDate:(0,M.addYears)(new Date,100)},O.contextTypes={muiTheme:u.PropTypes.object.isRequired},e["default"]=O},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(316),u=r(l),c=n(1103),f=r(c),p=function(t){function e(){return o(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){var t=this.props,e=t.cancelLabel,n=t.okLabel,r=t.wordings,o={root:{display:"flex",flexDirection:"row",justifyContent:"flex-end",margin:0,maxHeight:48,padding:0},flatButtons:{fontsize:14,margin:"4px 8px 8px 0px",maxHeight:36,minWidth:64,padding:0}};return u["default"].createElement("div",{style:o.root},u["default"].createElement(f["default"],{label:r?r.cancel:e,onTouchTap:this.props.onTouchTapCancel,primary:!0,style:o.flatButtons}),!this.props.autoOk&&u["default"].createElement(f["default"],{disabled:void 0!==this.refs.calendar&&this.refs.calendar.isSelectedDateDisabled(),label:r?r.ok:n,onTouchTap:this.props.onTouchTapOk,primary:!0,style:o.flatButtons}))}}]),e}(l.Component);p.propTypes={autoOk:l.PropTypes.bool,cancelLabel:l.PropTypes.node,okLabel:l.PropTypes.node,onTouchTapCancel:l.PropTypes.func,onTouchTapOk:l.PropTypes.func,wordings:l.PropTypes.object},e["default"]=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1104),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(799),y=r(m),v=n(802),g=n(857),b=n(801),_=r(b),x=n(1105),w=r(x),T=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={hovered:!1,isKeyboardFocused:!1,touch:!1},r.handleKeyboardFocus=function(t,e){r.setState({isKeyboardFocused:e}),r.props.onKeyboardFocus(t,e)},r.handleMouseEnter=function(t){r.state.touch||r.setState({hovered:!0}),r.props.onMouseEnter(t)},r.handleMouseLeave=function(t){r.setState({hovered:!1}),r.props.onMouseLeave(t)},r.handleTouchStart=function(t){r.setState({touch:!0}),r.props.onTouchStart(t)},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentWillReceiveProps",value:function(t){t.disabled&&this.state.hovered&&this.setState({hovered:!1})}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.disabled,r=t.hoverColor,i=t.backgroundColor,a=t.icon,s=t.label,l=t.labelStyle,c=t.labelPosition,f=t.primary,h=t.rippleColor,m=t.secondary,b=t.style,x=o(t,["children","disabled","hoverColor","backgroundColor","icon","label","labelStyle","labelPosition","primary","rippleColor","secondary","style"]),T=this.context.muiTheme,E=T.button,C=E.height,k=E.minWidth,S=E.textTransform,P=T.flatButton,M=P.buttonFilterColor,A=P.color,O=P.disabledTextColor,D=P.fontSize,L=P.fontWeight,I=P.primaryTextColor,j=P.secondaryTextColor,F=P.textColor,R=P.textTransform,N=void 0===R?S||"uppercase":R,z=n?O:f?I:m?j:F,B=(0,g.fade)(M,.2),U=M,W=r||B,q=h||U,V=i||A,H=(this.state.hovered||this.state.isKeyboardFocused)&&!n,G=(0,p["default"])({},{height:C,lineHeight:C+"px",minWidth:k,color:z,transition:y["default"].easeOut(),borderRadius:2,userSelect:"none",position:"relative",overflow:"hidden",backgroundColor:H?W:V,padding:0,margin:0,textAlign:"center"},b),Y=void 0,Z={};if(a){var X=(0,p["default"])({verticalAlign:"middle",marginLeft:s&&"before"!==c?12:0,marginRight:s&&"before"===c?12:0},a.props.style);Y=d["default"].cloneElement(a,{color:a.props.color||G.color,style:X}),"before"===c?Z.paddingRight=8:Z.paddingLeft=8}var K=(0,p["default"])({letterSpacing:0,textTransform:N,fontWeight:L,fontSize:D},Z,l),Q=s?d["default"].createElement(w["default"],{label:s,style:K}):void 0,J="before"===c?{labelElement:Q,iconCloned:Y,children:e}:{children:e,iconCloned:Y,labelElement:Q},$=(0,v.createChildFragment)(J);return d["default"].createElement(_["default"],u({},x,{disabled:n,focusRippleColor:q,focusRippleOpacity:.3,onKeyboardFocus:this.handleKeyboardFocus,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleTouchStart,style:G,touchRippleColor:q,touchRippleOpacity:.3}),$)}}]),e}(h.Component);T.muiName="FlatButton",T.propTypes={backgroundColor:h.PropTypes.string,children:h.PropTypes.node,disabled:h.PropTypes.bool,hoverColor:h.PropTypes.string,href:h.PropTypes.string,icon:h.PropTypes.node,label:l,labelPosition:h.PropTypes.oneOf(["before","after"]),labelStyle:h.PropTypes.object,onKeyboardFocus:h.PropTypes.func,onMouseEnter:h.PropTypes.func,onMouseLeave:h.PropTypes.func,onTouchStart:h.PropTypes.func,primary:h.PropTypes.bool,rippleColor:h.PropTypes.string,secondary:h.PropTypes.bool,style:h.PropTypes.object},T.defaultProps={disabled:!1,labelStyle:{},labelPosition:"after",onKeyboardFocus:function(){},onMouseEnter:function(){},onMouseLeave:function(){},onTouchStart:function(){},primary:!1,secondary:!1},T.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=T},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n=e.muiTheme.baseTheme;return{root:{position:"relative",paddingLeft:n.spacing.desktopGutterLess,paddingRight:n.spacing.desktopGutterLess,verticalAlign:"middle"}}}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(798),c=r(u),f=n(316),p=r(f),h=function(t){function e(){return o(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),l(e,[{key:"render",value:function(){var t=this.props,e=t.label,n=t.style,r=this.context.muiTheme.prepareStyles,o=s(this.props,this.context);return p["default"].createElement("span",{style:r((0,c["default"])(o.root,n))},e)}}]),e}(f.Component);h.propTypes={label:f.PropTypes.node,style:f.PropTypes.object},h.contextTypes={muiTheme:f.PropTypes.object.isRequired},e["default"]=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(316),u=r(l),c=n(1099),f=n(1107),p=r(f),h=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.handleTouchTapDay=function(t,e){r.props.onTouchTapDay&&r.props.onTouchTapDay(t,e)},r.styles={root:{display:"flex",flexDirection:"column",justifyContent:"flex-start",fontWeight:400,height:228,lineHeight:2,position:"relative",textAlign:"center",MozPaddingStart:0},week:{display:"flex",flexDirection:"row",justifyContent:"space-around",height:34,marginBottom:2}},a=n,i(r,a)}return a(e,t),s(e,[{key:"isSelectedDateDisabled",value:function(){return this.selectedDateDisabled}},{key:"shouldDisableDate",value:function(t){if(null===t)return!1;var e=!(0,c.isBetweenDates)(t,this.props.minDate,this.props.maxDate);return!e&&this.props.shouldDisableDate&&(e=this.props.shouldDisableDate(t)),e}},{key:"getWeekElements",value:function(){var t=this,e=(0,c.getWeekArray)(this.props.displayDate,this.props.firstDayOfWeek);return e.map(function(e,n){return u["default"].createElement("div",{key:n,style:t.styles.week},t.getDayElements(e,n))},this)}},{key:"getDayElements",value:function(t,e){var n=this;return t.map(function(t,r){var o=(0,c.isEqualDate)(n.props.selectedDate,t),i=n.shouldDisableDate(t),a=!i&&o;return o&&(n.selectedDateDisabled=i),u["default"].createElement(p["default"],{date:t,disabled:i,key:"db"+(e+r),onTouchTap:n.handleTouchTapDay,selected:a})},this)}},{key:"render",value:function(){return u["default"].createElement("div",{style:this.styles.root},this.getWeekElements())}}]),e}(l.Component);h.propTypes={autoOk:l.PropTypes.bool,displayDate:l.PropTypes.object.isRequired,firstDayOfWeek:l.PropTypes.number,maxDate:l.PropTypes.object,minDate:l.PropTypes.object,onTouchTapDay:l.PropTypes.func,selectedDate:l.PropTypes.object.isRequired,shouldDisableDate:l.PropTypes.func},e["default"]=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){var r=t.date,o=t.disabled,i=t.selected,a=n.hover,s=e.muiTheme,l=s.baseTheme,u=s.datePicker,c=l.palette.textColor,f=0,p="scale(0)";return a||i?(c=u.selectTextColor,f=i?1:.6,p="scale(1)"):(0,m.isEqualDate)(r,new Date)&&(c=u.color),{root:{boxSizing:"border-box",fontWeight:"400",opacity:o&&"0.6",padding:"4px 0px",position:"relative",WebkitTapHighlightColor:"rgba(0,0,0,0)",width:42},label:{color:c,fontWeight:"400",position:"relative"},buttonState:{backgroundColor:u.selectColor,borderRadius:"50%",height:34,left:4,opacity:f,position:"absolute",top:0,transform:p,transition:d["default"].easeOut(),width:34}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(316),p=r(f),h=n(799),d=r(h),m=n(1099),y=n(801),v=r(y),g=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={hover:!1},r.handleMouseEnter=function(){r.props.disabled||r.setState({hover:!0})},r.handleMouseLeave=function(){r.props.disabled||r.setState({hover:!1})},r.handleTouchTap=function(t){!r.props.disabled&&r.props.onTouchTap&&r.props.onTouchTap(t,r.props.date)},r.handleKeyboardFocus=function(t,e){!r.props.disabled&&r.props.onKeyboardFocus&&r.props.onKeyboardFocus(t,e,r.props.date)},o=n,a(r,o)}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=(t.date,t.onTouchTap,t.selected,o(t,["date","onTouchTap","selected"])),n=this.context.muiTheme.prepareStyles,r=l(this.props,this.context,this.state);return this.props.date?p["default"].createElement(v["default"],u({},e,{disabled:this.props.disabled,disableFocusRipple:!0,disableTouchRipple:!0,onKeyboardFocus:this.handleKeyboardFocus,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTouchTap:this.handleTouchTap,style:r.root}),p["default"].createElement("div",{style:n(r.buttonState)}),p["default"].createElement("span",{style:n(r.label)},this.props.date.getDate())):p["default"].createElement("span",{style:n(r.root)})}}]),e}(f.Component);g.propTypes={date:f.PropTypes.object,disabled:f.PropTypes.bool,onKeyboardFocus:f.PropTypes.func,onTouchTap:f.PropTypes.func,selected:f.PropTypes.bool},g.defaultProps={selected:!1,disabled:!1},g.contextTypes={muiTheme:f.PropTypes.object.isRequired},e["default"]=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(316),c=r(u),f=n(345),p=r(f),h=n(1109),d=r(h),m=n(1099),y=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.handleTouchTapYear=function(t,e){r.props.onTouchTapYear&&r.props.onTouchTapYear(t,e)},a=n,i(r,a)}return a(e,t),l(e,[{key:"componentDidMount",value:function(){this.scrollToSelectedYear()}},{key:"componentDidUpdate",value:function(){this.scrollToSelectedYear()}},{key:"getYears",value:function(){for(var t=this.props.minDate.getFullYear(),e=this.props.maxDate.getFullYear(),n=[],r=(0,m.cloneDate)(this.props.selectedDate),o=t;o<=e;o++){r.setFullYear(o);var i=this.props.selectedDate.getFullYear()===o,a={};i&&(a={ref:"selectedYearButton"});var l=c["default"].createElement(d["default"],s({key:"yb"+o,onTouchTap:this.handleTouchTapYear,selected:i,year:o},a));n.push(l)}return n}},{key:"scrollToSelectedYear",value:function(){if(void 0!==this.refs.selectedYearButton){var t=p["default"].findDOMNode(this),e=p["default"].findDOMNode(this.refs.selectedYearButton),n=t.clientHeight,r=e.clientHeight||32,o=e.offsetTop+r/2-n/2;
t.scrollTop=o}}},{key:"render",value:function(){var t=this.getYears(),e=this.context.muiTheme.datePicker.calendarYearBackgroundColor,n=this.context.muiTheme.prepareStyles,r={root:{backgroundColor:e,height:"inherit",lineHeight:"35px",overflowX:"hidden",overflowY:"scroll",position:"relative"},child:{display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"100%"}};return c["default"].createElement("div",{style:n(r.root)},c["default"].createElement("div",{style:n(r.child)},t))}}]),e}(u.Component);y.propTypes={displayDate:u.PropTypes.object.isRequired,maxDate:u.PropTypes.object,minDate:u.PropTypes.object,onTouchTapYear:u.PropTypes.func,selectedDate:u.PropTypes.object.isRequired,wordings:u.PropTypes.object},y.contextTypes={muiTheme:u.PropTypes.object.isRequired},e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){var r=t.selected,o=t.year,i=e.muiTheme,a=i.baseTheme,s=i.datePicker,l=n.hover;return{root:{boxSizing:"border-box",color:o===(new Date).getFullYear()&&s.color,display:"block",fontSize:14,margin:"0 auto",position:"relative",textAlign:"center",lineHeight:"inherit",WebkitTapHighlightColor:"rgba(0,0,0,0)"},label:{alignSelf:"center",color:l||r?s.color:a.palette.textColor,fontSize:r?26:17,fontWeight:l?450:r?500:400,position:"relative",top:-1}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(316),p=r(f),h=n(801),d=r(h),m=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={hover:!1},r.handleMouseEnter=function(){r.setState({hover:!0})},r.handleMouseLeave=function(){r.setState({hover:!1})},r.handleTouchTap=function(t){r.props.onTouchTap&&r.props.onTouchTap(t,r.props.year)},o=n,a(r,o)}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=(t.className,t.year),n=(t.onTouchTap,t.selected,o(t,["className","year","onTouchTap","selected"])),r=this.context.muiTheme.prepareStyles,i=l(this.props,this.context,this.state);return p["default"].createElement(d["default"],u({},n,{disableFocusRipple:!0,disableTouchRipple:!0,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTouchTap:this.handleTouchTap,style:i.root}),p["default"].createElement("span",{style:r(i.label)},e))}}]),e}(f.Component);m.propTypes={className:f.PropTypes.string,onTouchTap:f.PropTypes.func,selected:f.PropTypes.bool,year:f.PropTypes.number},m.defaultProps={selected:!1},m.contextTypes={muiTheme:f.PropTypes.object.isRequired},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(316),u=r(l),c=n(796),f=r(c),p=n(1111),h=r(p),d=n(1112),m=r(d),y=n(1113),v=r(y),g={root:{display:"flex",justifyContent:"space-between",backgroundColor:"inherit",height:48},titleDiv:{fontSize:14,fontWeight:"500",textAlign:"center",width:"100%"},titleText:{height:"inherit",paddingTop:12}},b=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={transitionDirection:"up"},r.handleTouchTapPrevMonth=function(){r.props.onMonthChange&&r.props.prevMonth&&r.props.onMonthChange(-1)},r.handleTouchTapNextMonth=function(){r.props.onMonthChange&&r.props.nextMonth&&r.props.onMonthChange(1)},a=n,i(r,a)}return a(e,t),s(e,[{key:"componentWillReceiveProps",value:function(t){if(t.displayDate!==this.props.displayDate){var e=t.displayDate>this.props.displayDate?"left":"right";this.setState({transitionDirection:e})}}},{key:"render",value:function(){var t=this.props,e=t.DateTimeFormat,n=t.locale,r=t.displayDate,o=new e(n,{month:"long",year:"numeric"}).format(r),i=this.context.muiTheme.isRtl?u["default"].createElement(h["default"],null):u["default"].createElement(m["default"],null),a=this.context.muiTheme.isRtl?u["default"].createElement(m["default"],null):u["default"].createElement(h["default"],null);return u["default"].createElement("div",{style:g.root},u["default"].createElement(f["default"],{disabled:!this.props.prevMonth,onTouchTap:this.handleTouchTapPrevMonth},a),u["default"].createElement(v["default"],{direction:this.state.transitionDirection,style:g.titleDiv},u["default"].createElement("div",{key:o,style:g.titleText},o)),u["default"].createElement(f["default"],{disabled:!this.props.nextMonth,onTouchTap:this.handleTouchTapNextMonth},i))}}]),e}(l.Component);b.propTypes={DateTimeFormat:l.PropTypes.func.isRequired,displayDate:l.PropTypes.object.isRequired,locale:l.PropTypes.string.isRequired,nextMonth:l.PropTypes.bool,onMonthChange:l.PropTypes.func,prevMonth:l.PropTypes.bool},b.defaultProps={nextMonth:!0,prevMonth:!0},b.contextTypes={muiTheme:l.PropTypes.object.isRequired},e["default"]=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(1031),s=r(a),l=n(1038),u=r(l),c=function(t){return i["default"].createElement(u["default"],t,i["default"].createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}))};c=(0,s["default"])(c),c.displayName="NavigationChevronLeft",c.muiName="SvgIcon",e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(1031),s=r(a),l=n(1038),u=r(l),c=function(t){return i["default"].createElement(u["default"],t,i["default"].createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}))};c=(0,s["default"])(c),c.displayName="NavigationChevronRight",c.muiName="SvgIcon",e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=n(811),m=r(d),y=n(1114),v=r(y),g=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.getLeaveDirection=function(){return r.props.direction},o=n,a(r,o)}return s(e,t),u(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.enterDelay,r=e.children,i=e.childStyle,a=e.direction,s=e.style,u=o(e,["enterDelay","children","childStyle","direction","style"]),c=this.context.muiTheme.prepareStyles,p=(0,f["default"])({},{position:"relative",overflow:"hidden",height:"100%"},s),d=h["default"].Children.map(r,function(e){return h["default"].createElement(v["default"],{key:e.key,direction:a,enterDelay:n,getLeaveDirection:t.getLeaveDirection,style:i},e)},this);return h["default"].createElement(m["default"],l({},u,{style:c(p),component:"div"}),d)}}]),e}(p.Component);g.propTypes={childStyle:p.PropTypes.object,children:p.PropTypes.node,direction:p.PropTypes.oneOf(["left","right","up","down"]),enterDelay:p.PropTypes.number,style:p.PropTypes.object},g.defaultProps={enterDelay:0,direction:"left"},g.contextTypes={muiTheme:p.PropTypes.object.isRequired},e["default"]=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=n(345),m=r(d),y=n(809),v=r(y),g=n(799),b=r(g),_=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),u(e,[{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimer),clearTimeout(this.leaveTimer)}},{key:"componentWillEnter",value:function(t){var e=m["default"].findDOMNode(this).style,n="left"===this.props.direction?"100%":"right"===this.props.direction?"-100%":"0",r="up"===this.props.direction?"100%":"down"===this.props.direction?"-100%":"0";e.opacity="0",v["default"].set(e,"transform","translate("+n+", "+r+")"),this.enterTimer=setTimeout(t,this.props.enterDelay)}},{key:"componentDidEnter",value:function(){var t=m["default"].findDOMNode(this).style;t.opacity="1",v["default"].set(t,"transform","translate(0,0)")}},{key:"componentWillLeave",value:function(t){var e=m["default"].findDOMNode(this).style,n=this.props.getLeaveDirection(),r="left"===n?"-100%":"right"===n?"100%":"0",o="up"===n?"-100%":"down"===n?"100%":"0";e.opacity="0",v["default"].set(e,"transform","translate("+r+", "+o+")"),this.leaveTimer=setTimeout(t,450)}},{key:"render",value:function(){var t=this.props,e=t.children,n=(t.enterDelay,t.getLeaveDirection,t.style),r=o(t,["children","enterDelay","getLeaveDirection","style"]),i=this.context.muiTheme.prepareStyles,a=(0,f["default"])({},{position:"absolute",height:"100%",width:"100%",top:0,left:0,transition:b["default"].easeOut(null,["transform","opacity"])},n);return h["default"].createElement("div",l({},r,{style:i(a)}),e)}}]),e}(p.Component);_.propTypes={children:p.PropTypes.node,direction:p.PropTypes.string,enterDelay:p.PropTypes.number,getLeaveDirection:p.PropTypes.func.isRequired,style:p.PropTypes.object},_.defaultProps={enterDelay:0},_.contextTypes={muiTheme:p.PropTypes.object.isRequired},e["default"]=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){var r=e.muiTheme.datePicker,o=n.selectedYear,i="landscape"===t.mode,a={root:{width:i?165:"100%",height:i?330:"auto","float":i?"left":"none",fontWeight:700,display:"inline-block",backgroundColor:r.selectColor,borderTopLeftRadius:2,borderTopRightRadius:i?0:2,borderBottomLeftRadius:i?2:0,color:r.textColor,padding:20,boxSizing:"border-box"},monthDay:{display:"block",fontSize:36,lineHeight:"36px",height:"landscape"===t.mode?"100%":38,opacity:o?.7:1,transition:d["default"].easeOut(),width:"100%",fontWeight:"500"},monthDayTitle:{cursor:o?"pointer":"default",width:"100%",display:"block"},year:{margin:0,fontSize:16,fontWeight:"500",lineHeight:"16px",height:16,opacity:o?1:.7,transition:d["default"].easeOut(),marginBottom:10},yearTitle:{cursor:t.disableYearSelection?"not-allowed":o?"default":"pointer"}};return a}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(316),p=r(f),h=n(799),d=r(h),m=n(1113),y=r(m),v=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={selectedYear:!1,transitionDirection:"up"},r.handleTouchTapMonthDay=function(){r.props.onTouchTapMonthDay&&r.state.selectedYear&&r.props.onTouchTapMonthDay(),r.setState({selectedYear:!1})},r.handleTouchTapYear=function(){!r.props.onTouchTapYear||r.props.disableYearSelection||r.state.selectedYear||r.props.onTouchTapYear(),r.props.disableYearSelection||r.setState({selectedYear:!0})},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentWillMount",value:function(){this.props.monthDaySelected||this.setState({selectedYear:!0})}},{key:"componentWillReceiveProps",value:function(t){if(t.selectedDate!==this.props.selectedDate){var e=t.selectedDate>this.props.selectedDate?"up":"down";this.setState({transitionDirection:e})}void 0!==t.monthDaySelected&&this.setState({selectedYear:!t.monthDaySelected})}},{key:"render",value:function(){var t=this.props,e=t.DateTimeFormat,n=(t.disableYearSelection,t.locale),r=(t.mode,t.monthDaySelected,t.onTouchTapMonthDay,t.onTouchTapYear,t.selectedDate),i=t.style,a=(t.weekCount,o(t,["DateTimeFormat","disableYearSelection","locale","mode","monthDaySelected","onTouchTapMonthDay","onTouchTapYear","selectedDate","style","weekCount"])),s=this.context.muiTheme.prepareStyles,c=l(this.props,this.context,this.state),f=r.getFullYear(),h=new e(n,{month:"short",weekday:"short",day:"2-digit"}).format(r);return p["default"].createElement("div",u({},a,{style:s(c.root,i)}),p["default"].createElement(y["default"],{style:c.year,direction:this.state.transitionDirection},p["default"].createElement("div",{key:f,style:c.yearTitle,onTouchTap:this.handleTouchTapYear},f)),p["default"].createElement(y["default"],{style:c.monthDay,direction:this.state.transitionDirection},p["default"].createElement("div",{key:h,onTouchTap:this.handleTouchTapMonthDay,style:c.monthDayTitle},h)))}}]),e}(f.Component);v.propTypes={DateTimeFormat:f.PropTypes.func.isRequired,disableYearSelection:f.PropTypes.bool,locale:f.PropTypes.string.isRequired,mode:f.PropTypes.oneOf(["portrait","landscape"]),monthDaySelected:f.PropTypes.bool,onTouchTapMonthDay:f.PropTypes.func,onTouchTapYear:f.PropTypes.func,selectedDate:f.PropTypes.object.isRequired,style:f.PropTypes.object,weekCount:f.PropTypes.number},v.defaultProps={disableYearSelection:!1,monthDaySelected:!0,weekCount:4},v.contextTypes={muiTheme:f.PropTypes.object.isRequired},e["default"]=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1117),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=t.autoScrollBodyContent,r=t.open,o=e.muiTheme,i=o.baseTheme,a=i.spacing,s=i.palette,l=o.dialog,u=o.zIndex,c=a.desktopGutter,f="1px solid "+s.borderColor;return{root:{position:"fixed",boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:u.dialog,top:0,left:r?0:-1e4,width:"100%",height:"100%",transition:r?w["default"].easeOut("0ms","left","0ms"):w["default"].easeOut("0ms","left","450ms")},content:{boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",transition:w["default"].easeOut(),position:"relative",width:"75%",maxWidth:12*a.desktopKeylineIncrement,margin:"0 auto",zIndex:u.dialog},actionsContainer:{boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",padding:8,width:"100%",textAlign:"right",marginTop:n?-1:0,borderTop:n?f:"none"},overlay:{zIndex:u.dialogOverlay},title:{margin:0,padding:c+"px "+c+"px 20px "+c+"px",color:s.textColor,fontSize:l.titleFontSize,lineHeight:"32px",fontWeight:400,marginBottom:n?-1:0,borderBottom:n?f:"none"},body:{fontSize:l.bodyFontSize,color:l.bodyColor,padding:(t.title?0:c)+"px "+c+"px "+c+"px",boxSizing:"border-box",overflowY:n?"auto":"hidden"}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(345),y=r(m),v=n(1024),g=r(v),b=n(806),_=r(b),x=n(799),w=r(x),T=n(1118),E=r(T),C=n(1049),k=r(C),S=n(947),P=r(S),M=n(811),A=r(M),O=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={style:{}},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimeout),clearTimeout(this.leaveTimeout)}},{key:"componentWillEnter",value:function(t){this.componentWillAppear(t)}},{key:"componentWillAppear",value:function(t){var e=this.context.muiTheme.baseTheme.spacing;this.setState({style:{opacity:1,transform:"translate(0, "+e.desktopKeylineIncrement+"px)"}}),this.enterTimeout=setTimeout(t,450)}},{key:"componentWillLeave",value:function(t){this.setState({style:{opacity:0,transform:"translate(0, 0)"}}),this.leaveTimeout=setTimeout(t,450)}},{key:"render",value:function(){var t=this.props,e=t.style,n=t.children,r=o(t,["style","children"]),i=this.context.muiTheme.prepareStyles;return d["default"].createElement("div",u({},r,{style:i((0,p["default"])({},this.state.style,e))}),n)}}]),e}(h.Component);O.propTypes={children:h.PropTypes.node,style:h.PropTypes.object},O.contextTypes={muiTheme:h.PropTypes.object.isRequired};var D=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.handleTouchTapOverlay=function(){r.requestClose(!1)},r.handleKeyUp=function(t){"esc"===(0,_["default"])(t)&&r.requestClose(!1)},r.handleResize=function(){r.positionDialog()},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentDidMount",value:function(){this.positionDialog()}},{key:"componentDidUpdate",value:function(){this.positionDialog()}},{key:"positionDialog",value:function(){var t=this.props,e=t.actions,n=t.autoDetectWindowHeight,r=t.autoScrollBodyContent,o=t.bodyStyle,i=t.open,a=t.repositionOnUpdate,s=t.title;if(i){var u=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=y["default"].findDOMNode(this),f=y["default"].findDOMNode(this.refs.dialogWindow),h=y["default"].findDOMNode(this.refs.dialogContent),m=16;f.style.height="",h.style.height="";var v=f.offsetHeight,g=(u-v)/2-64;if(g<m&&(g=m),!a&&c.style.paddingTop||(c.style.paddingTop=g+"px"),n||r){var b=l(this.props,this.context);b.body=(0,p["default"])(b.body,o);var _=u-128;s&&(_-=h.previousSibling.offsetHeight),d["default"].Children.count(e)&&(_-=h.nextSibling.offsetHeight),h.style.maxHeight=_+"px"}}}},{key:"requestClose",value:function(t){!t&&this.props.modal||this.props.onRequestClose&&this.props.onRequestClose(!!t)}},{key:"render",value:function(){var t=this.props,e=t.actions,n=t.actionsContainerClassName,r=t.actionsContainerStyle,o=t.bodyClassName,i=t.bodyStyle,a=t.children,s=t.className,u=t.contentClassName,c=t.contentStyle,f=t.overlayClassName,h=t.overlayStyle,m=t.open,y=t.titleClassName,v=t.titleStyle,b=t.title,_=t.style,x=this.context.muiTheme.prepareStyles,w=l(this.props,this.context);w.root=(0,p["default"])(w.root,_),w.content=(0,p["default"])(w.content,c),w.body=(0,p["default"])(w.body,i),w.actionsContainer=(0,p["default"])(w.actionsContainer,r),w.overlay=(0,p["default"])(w.overlay,h),w.title=(0,p["default"])(w.title,v);var T=d["default"].Children.count(e)>0&&d["default"].createElement("div",{className:n,style:x(w.actionsContainer)},d["default"].Children.toArray(e)),C=b;return d["default"].isValidElement(b)?C=d["default"].cloneElement(b,{className:b.props.className||y,style:x((0,p["default"])(w.title,b.props.style))}):"string"==typeof b&&(C=d["default"].createElement("h3",{className:y,style:x(w.title)},b)),d["default"].createElement("div",{className:s,style:x(w.root)},m&&d["default"].createElement(g["default"],{target:"window",onKeyUp:this.handleKeyUp,onResize:this.handleResize}),d["default"].createElement(A["default"],{component:"div",ref:"dialogWindow",transitionAppear:!0,transitionAppearTimeout:450,transitionEnter:!0,transitionEnterTimeout:450},m&&d["default"].createElement(O,{className:u,style:w.content},d["default"].createElement(P["default"],{zDepth:4},C,d["default"].createElement("div",{ref:"dialogContent",className:o,style:x(w.body)},a),T))),d["default"].createElement(E["default"],{show:m,className:f,style:w.overlay,onTouchTap:this.handleTouchTapOverlay}))}}]),e}(h.Component);D.propTypes={actions:h.PropTypes.node,actionsContainerClassName:h.PropTypes.string,actionsContainerStyle:h.PropTypes.object,autoDetectWindowHeight:h.PropTypes.bool,autoScrollBodyContent:h.PropTypes.bool,bodyClassName:h.PropTypes.string,bodyStyle:h.PropTypes.object,children:h.PropTypes.node,className:h.PropTypes.string,contentClassName:h.PropTypes.string,contentStyle:h.PropTypes.object,modal:h.PropTypes.bool,onRequestClose:h.PropTypes.func,open:h.PropTypes.bool.isRequired,overlayClassName:h.PropTypes.string,overlayStyle:h.PropTypes.object,repositionOnUpdate:h.PropTypes.bool,style:h.PropTypes.object,title:h.PropTypes.node,titleClassName:h.PropTypes.string,titleStyle:h.PropTypes.object},D.contextTypes={muiTheme:h.PropTypes.object.isRequired};var L=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.renderLayer=function(){return d["default"].createElement(D,r.props)},o=n,a(r,o)}return s(e,t),c(e,[{key:"render",value:function(){return d["default"].createElement(k["default"],{render:this.renderLayer,open:!0,useLayerForClickAway:!1})}}]),e}(h.Component);L.propTypes={actions:h.PropTypes.node,actionsContainerClassName:h.PropTypes.string,actionsContainerStyle:h.PropTypes.object,autoDetectWindowHeight:h.PropTypes.bool,autoScrollBodyContent:h.PropTypes.bool,bodyClassName:h.PropTypes.string,bodyStyle:h.PropTypes.object,children:h.PropTypes.node,className:h.PropTypes.string,contentClassName:h.PropTypes.string,contentStyle:h.PropTypes.object,modal:h.PropTypes.bool,onRequestClose:h.PropTypes.func,open:h.PropTypes.bool.isRequired,overlayClassName:h.PropTypes.string,overlayStyle:h.PropTypes.object,repositionOnUpdate:h.PropTypes.bool,style:h.PropTypes.object,title:h.PropTypes.node,titleClassName:h.PropTypes.string,titleStyle:h.PropTypes.object},L.contextTypes={muiTheme:h.PropTypes.object.isRequired},L.defaultProps={autoDetectWindowHeight:!0,autoScrollBodyContent:!1,modal:!1,repositionOnUpdate:!0},e["default"]=L},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=e.muiTheme.overlay,r={root:{position:"fixed",height:"100%",width:"100%",top:0,left:"-100%",opacity:0,backgroundColor:n.backgroundColor,WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",willChange:"opacity",transform:"translateZ(0)",transition:t.transitionEnabled&&y["default"].easeOut("0ms","left","400ms")+", "+y["default"].easeOut("400ms","opacity")}};return t.show&&(0,p["default"])(r.root,{left:0,opacity:1,transition:y["default"].easeOut("0ms","left")+", "+y["default"].easeOut("400ms","opacity")}),r}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(799),y=r(m),v=n(1119),g=r(v),b=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),c(e,[{key:"setOpacity",value:function(t){this.refs.overlay.style.opacity=t}},{key:"render",value:function(){var t=this.props,e=t.autoLockScrolling,n=t.show,r=t.style,i=(t.transitionEnabled,o(t,["autoLockScrolling","show","style","transitionEnabled"])),a=this.context.muiTheme.prepareStyles,s=l(this.props,this.context);return d["default"].createElement("div",u({},i,{ref:"overlay",style:a((0,p["default"])(s.root,r))}),e&&d["default"].createElement(g["default"],{lock:n}))}}]),e}(h.Component);b.propTypes={autoLockScrolling:h.PropTypes.bool,show:h.PropTypes.bool.isRequired,style:h.PropTypes.object,transitionEnabled:h.PropTypes.bool},b.defaultProps={autoLockScrolling:!0,style:{},transitionEnabled:!0},b.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=b},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(316),l=null,u=0,c=function(t){function e(){var t,n,i,a;r(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=i=o(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),i.locked=!1,a=n,o(i,a)}return i(e,t),a(e,[{key:"componentDidMount",value:function(){this.props.lock===!0&&this.preventScrolling()}},{key:"componentWillReceiveProps",value:function(t){this.props.lock!==t.lock&&(t.lock?this.preventScrolling():this.allowScrolling())}},{key:"componentWillUnmount",value:function(){this.allowScrolling()}},{key:"preventScrolling",value:function(){if(this.locked!==!0&&(u+=1,this.locked=!0,1===u)){var t=document.getElementsByTagName("body")[0];l=t.style.overflow,t.style.overflow="hidden"}}},{key:"allowScrolling",value:function(){if(this.locked===!0&&(u-=1,this.locked=!1),0===u&&null!==l){var t=document.getElementsByTagName("body")[0];t.style.overflow=l||"",l=null}}},{key:"render",value:function(){return null}}]),e}(s.Component);c.propTypes={lock:s.PropTypes.bool.isRequired},e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1121),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");
}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(798),u=r(l),c=n(316),f=r(c),p=n(345),h=r(p),d=n(1024),m=r(d),y=n(806),v=r(y),g=n(809),b=r(g),_=n(799),x=r(_),w=n(1118),T=r(w),E=n(947),C=r(E),k=n(800),S=r(k),P=null,M=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.handleTouchTapOverlay=function(t){t.preventDefault(),r.close("clickaway")},r.handleKeyUp=function(t){r.state.open&&!r.props.docked&&"esc"===(0,v["default"])(t)&&r.close("escape")},r.onBodyTouchStart=function(t){var e=r.props.swipeAreaWidth,n=t.touches[0].pageX,o=t.touches[0].pageY;if(null!==e&&!r.state.open)if(r.props.openSecondary){if(n<document.body.offsetWidth-e)return}else if(n>e)return;(r.state.open||P===r.onBodyTouchStart&&!r.props.disableSwipeToOpen)&&(r.maybeSwiping=!0,r.touchStartX=n,r.touchStartY=o,document.body.addEventListener("touchmove",r.onBodyTouchMove),document.body.addEventListener("touchend",r.onBodyTouchEnd),document.body.addEventListener("touchcancel",r.onBodyTouchEnd))},r.onBodyTouchMove=function(t){var e=t.touches[0].pageX,n=t.touches[0].pageY;if(r.state.swiping)t.preventDefault(),r.setPosition(r.getTranslateX(e));else if(r.maybeSwiping){var o=Math.abs(e-r.touchStartX),i=Math.abs(n-r.touchStartY),a=10;o>a&&i<=a?(r.swipeStartX=e,r.setState({swiping:r.state.open?"closing":"opening"}),r.setPosition(r.getTranslateX(e))):o<=a&&i>a&&r.onBodyTouchEnd()}},r.onBodyTouchEnd=function(t){if(r.state.swiping){var e=t.changedTouches[0].pageX,n=r.getTranslateX(e)/r.getMaxTranslateX();r.maybeSwiping=!1;var o=r.state.swiping;r.setState({swiping:null}),n>.5?"opening"===o?r.setPosition(r.getMaxTranslateX()):r.close("swipe"):"opening"===o?r.open("swipe"):r.setPosition(0)}else r.maybeSwiping=!1;document.body.removeEventListener("touchmove",r.onBodyTouchMove),document.body.removeEventListener("touchend",r.onBodyTouchEnd),document.body.removeEventListener("touchcancel",r.onBodyTouchEnd)},a=n,i(r,a)}return a(e,t),s(e,[{key:"componentWillMount",value:function(){this.maybeSwiping=!1,this.touchStartX=null,this.touchStartY=null,this.swipeStartX=null,this.setState({open:null!==this.props.open?this.props.open:this.props.docked,swiping:null})}},{key:"componentDidMount",value:function(){this.enableSwipeHandling()}},{key:"componentWillReceiveProps",value:function(t){null!==t.open?this.setState({open:t.open}):this.props.docked!==t.docked&&this.setState({open:t.docked})}},{key:"componentDidUpdate",value:function(){this.enableSwipeHandling()}},{key:"componentWillUnmount",value:function(){this.disableSwipeHandling()}},{key:"getStyles",value:function(){var t=this.context.muiTheme,e=t.drawer,n=this.getTranslateMultiplier()*(this.state.open?0:this.getMaxTranslateX()),r={root:{height:"100%",width:this.props.width||e.width,position:"fixed",zIndex:t.zIndex.drawer,left:0,top:0,transform:"translate("+n+"px, 0)",transition:!this.state.swiping&&x["default"].easeOut(null,"transform",null),backgroundColor:e.color,overflow:"auto",WebkitOverflowScrolling:"touch"},overlay:{zIndex:t.zIndex.drawerOverlay,pointerEvents:this.state.open?"auto":"none"},rootWhenOpenRight:{left:"auto",right:0}};return r}},{key:"shouldShow",value:function(){return this.state.open||!!this.state.swiping}},{key:"close",value:function(t){return null===this.props.open&&this.setState({open:!1}),this.props.onRequestChange&&this.props.onRequestChange(!1,t),this}},{key:"open",value:function(t){return null===this.props.open&&this.setState({open:!0}),this.props.onRequestChange&&this.props.onRequestChange(!0,t),this}},{key:"getMaxTranslateX",value:function(){var t=this.props.width||this.context.muiTheme.drawer.width;return t+10}},{key:"getTranslateMultiplier",value:function(){return this.props.openSecondary?1:-1}},{key:"enableSwipeHandling",value:function(){this.props.docked?this.disableSwipeHandling():(document.body.addEventListener("touchstart",this.onBodyTouchStart),P||(P=this.onBodyTouchStart))}},{key:"disableSwipeHandling",value:function(){document.body.removeEventListener("touchstart",this.onBodyTouchStart),P===this.onBodyTouchStart&&(P=null)}},{key:"setPosition",value:function(t){var e=h["default"].findDOMNode(this.refs.clickAwayableElement),n="translate("+this.getTranslateMultiplier()*t+"px, 0)";this.refs.overlay.setOpacity(1-t/this.getMaxTranslateX()),b["default"].set(e.style,"transform",n)}},{key:"getTranslateX",value:function(t){return Math.min(Math.max("closing"===this.state.swiping?this.getTranslateMultiplier()*(t-this.swipeStartX):this.getMaxTranslateX()-this.getTranslateMultiplier()*(this.swipeStartX-t),0),this.getMaxTranslateX())}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,r=t.containerClassName,o=t.containerStyle,i=t.docked,a=t.openSecondary,s=t.overlayClassName,l=t.overlayStyle,c=t.style,p=t.zDepth,h=this.getStyles(),d=void 0;return i||(d=f["default"].createElement(T["default"],{ref:"overlay",show:this.shouldShow(),className:s,style:(0,u["default"])(h.overlay,l),transitionEnabled:!this.state.swiping,onTouchTap:this.handleTouchTapOverlay})),f["default"].createElement("div",{className:n,style:c},f["default"].createElement(m["default"],{target:"window",onKeyUp:this.handleKeyUp}),d,f["default"].createElement(C["default"],{ref:"clickAwayableElement",zDepth:p,rounded:!1,transitionEnabled:!this.state.swiping,className:r,style:(0,u["default"])(h.root,a&&h.rootWhenOpenRight,o)},e))}}]),e}(c.Component);M.propTypes={children:c.PropTypes.node,className:c.PropTypes.string,containerClassName:c.PropTypes.string,containerStyle:c.PropTypes.object,disableSwipeToOpen:c.PropTypes.bool,docked:c.PropTypes.bool,onRequestChange:c.PropTypes.func,open:c.PropTypes.bool,openSecondary:c.PropTypes.bool,overlayClassName:c.PropTypes.string,overlayStyle:c.PropTypes.object,style:c.PropTypes.object,swipeAreaWidth:c.PropTypes.number,width:c.PropTypes.number,zDepth:S["default"].zDepth},M.defaultProps={disableSwipeToOpen:!1,docked:!0,open:null,openSecondary:!1,swipeAreaWidth:30,width:null,zDepth:2},M.contextTypes={muiTheme:c.PropTypes.object.isRequired},e["default"]=M},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1123),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=e.muiTheme.floatingActionButton,r=t.backgroundColor||n.color,o=n.iconColor;return t.disabled?(r=t.disabledColor||n.disabledColor,o=n.disabledTextColor):t.secondary&&(r=n.secondaryColor,o=n.secondaryIconColor),{root:{transition:y["default"].easeOut(),display:"inline-block"},container:{backgroundColor:r,transition:y["default"].easeOut(),position:"relative",height:n.buttonSize,width:n.buttonSize,padding:0,overflow:"hidden",borderRadius:"50%",textAlign:"center",verticalAlign:"bottom"},containerWhenMini:{height:n.miniSize,width:n.miniSize},overlay:{transition:y["default"].easeOut(),top:0},overlayWhenHovered:{backgroundColor:(0,v.fade)(o,.4)},icon:{height:n.buttonSize,lineHeight:n.buttonSize+"px",fill:o,color:o},iconWhenMini:{height:n.miniSize,lineHeight:n.miniSize+"px"}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(799),y=r(m),v=n(857),g=n(801),b=r(g),_=n(819),x=r(_),w=n(947),T=r(w),E=n(802),C=n(308),k=(r(C),n(800)),S=r(k),P=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.state={hovered:!1,touch:!1,zDepth:void 0},r.handleMouseDown=function(t){0===t.button&&r.setState({zDepth:r.props.zDepth+1}),r.props.onMouseDown&&r.props.onMouseDown(t)},r.handleMouseUp=function(t){r.setState({zDepth:r.props.zDepth}),r.props.onMouseUp&&r.props.onMouseUp(t)},r.handleMouseLeave=function(t){r.refs.container.isKeyboardFocused()||r.setState({zDepth:r.props.zDepth,hovered:!1}),r.props.onMouseLeave&&r.props.onMouseLeave(t)},r.handleMouseEnter=function(t){r.refs.container.isKeyboardFocused()||r.state.touch||r.setState({hovered:!0}),r.props.onMouseEnter&&r.props.onMouseEnter(t)},r.handleTouchStart=function(t){r.setState({touch:!0,zDepth:r.props.zDepth+1}),r.props.onTouchStart&&r.props.onTouchStart(t)},r.handleTouchEnd=function(t){r.setState({zDepth:r.props.zDepth}),r.props.onTouchEnd&&r.props.onTouchEnd(t)},r.handleKeyboardFocus=function(t,e){e&&!r.props.disabled?(r.setState({zDepth:r.props.zDepth+1}),r.refs.overlay.style.backgroundColor=(0,v.fade)(l(r.props,r.context).icon.color,.4)):r.state.hovered||(r.setState({zDepth:r.props.zDepth}),r.refs.overlay.style.backgroundColor="transparent")},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentWillMount",value:function(){this.setState({zDepth:this.props.disabled?0:this.props.zDepth})}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(t){t.disabled!==this.props.disabled&&this.setState({zDepth:t.disabled?0:this.props.zDepth})}},{key:"render",value:function(){var t=this.props,e=(t.backgroundColor,t.className),n=t.disabled,r=t.mini,i=(t.secondary,t.iconStyle),a=t.iconClassName,s=(t.zDepth,o(t,["backgroundColor","className","disabled","mini","secondary","iconStyle","iconClassName","zDepth"])),c=this.context.muiTheme.prepareStyles,f=l(this.props,this.context),h=void 0;a&&(h=d["default"].createElement(x["default"],{className:a,style:(0,p["default"])({},f.icon,r&&f.iconWhenMini,i)}));var m=(0,E.extendChildren)(this.props.children,{style:(0,p["default"])({},f.icon,r&&f.iconWhenMini,i)}),y=n?null:{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onKeyboardFocus:this.handleKeyboardFocus};return d["default"].createElement(T["default"],{className:e,style:(0,p["default"])(f.root,this.props.style),zDepth:this.state.zDepth,circle:!0},d["default"].createElement(b["default"],u({},s,y,{ref:"container",disabled:n,style:(0,p["default"])(f.container,this.props.mini&&f.containerWhenMini,i),focusRippleColor:f.icon.color,touchRippleColor:f.icon.color}),d["default"].createElement("div",{ref:"overlay",style:c((0,p["default"])(f.overlay,this.state.hovered&&!this.props.disabled&&f.overlayWhenHovered))},h,m)))}}]),e}(h.Component);P.propTypes={backgroundColor:h.PropTypes.string,children:h.PropTypes.node,className:h.PropTypes.string,disabled:h.PropTypes.bool,disabledColor:h.PropTypes.string,href:h.PropTypes.string,iconClassName:h.PropTypes.string,iconStyle:h.PropTypes.object,mini:h.PropTypes.bool,onMouseDown:h.PropTypes.func,onMouseEnter:h.PropTypes.func,onMouseLeave:h.PropTypes.func,onMouseUp:h.PropTypes.func,onTouchEnd:h.PropTypes.func,onTouchStart:h.PropTypes.func,secondary:h.PropTypes.bool,style:h.PropTypes.object,zDepth:S["default"].zDepth},P.defaultProps={disabled:!1,mini:!1,secondary:!1,zDepth:2},P.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=P},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.GridTile=e.GridList=void 0;var o=n(1125),i=r(o),a=n(1126),s=r(a);e.GridList=i["default"],e.GridTile=s["default"],e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t){return{root:{display:"flex",flexWrap:"wrap",margin:-t.padding/2},item:{boxSizing:"border-box",padding:t.padding/2}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=t.cols,n=t.padding,r=t.cellHeight,i=t.children,a=t.style,s=o(t,["cols","padding","cellHeight","children","style"]),c=this.context.muiTheme.prepareStyles,f=l(this.props,this.context),h=(0,p["default"])(f.root,a),m=d["default"].Children.map(i,function(t){if(d["default"].isValidElement(t)&&"Subheader"===t.type.muiName)return t;var o=t.props.cols||1,i=t.props.rows||1,a=(0,p["default"])({},f.item,{width:100/e*o+"%",height:r*i+n});return d["default"].createElement("div",{style:c(a)},t)});return d["default"].createElement("div",u({style:c(h)},s),m)}}]),e}(h.Component);m.propTypes={cellHeight:h.PropTypes.number,children:h.PropTypes.node,cols:h.PropTypes.number,padding:h.PropTypes.number,style:h.PropTypes.object},m.defaultProps={cols:2,padding:4,cellHeight:180},m.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){var n,r=e.muiTheme,o=r.baseTheme,i=r.gridTile,a=t.actionIcon&&t.actionPosition,s={root:{position:"relative",display:"block",height:"100%",overflow:"hidden"},titleBar:(n={position:"absolute",left:0,right:0},l(n,t.titlePosition,0),l(n,"height",t.subtitle?68:48),l(n,"background",t.titleBackground),l(n,"display","flex"),l(n,"alignItems","center"),n),titleWrap:{flexGrow:1,marginLeft:"left"!==a?o.spacing.desktopGutterLess:0,marginRight:"left"===a?o.spacing.desktopGutterLess:0,color:i.textColor,overflow:"hidden"},title:{fontSize:"16px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},subtitle:{fontSize:"12px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},actionIcon:{order:"left"===a?-1:1},childImg:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"}};return s}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=n(798),h=r(p),d=n(316),m=r(d),y=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),f(e,[{key:"componentDidMount",value:function(){this.ensureImageCover()}},{key:"componentDidUpdate",value:function(){this.ensureImageCover()}},{key:"ensureImageCover",value:function(){var t=this,e=this.refs.img;e&&!function(){var n=function r(){if(e.offsetWidth<e.parentNode.offsetWidth){var n=t.context.muiTheme.isRtl;e.style.height="auto",n?e.style.right="0":e.style.left="0",e.style.width="100%",e.style.top="50%",e.style.transform=e.style.WebkitTransform="translateY(-50%)"}e.removeEventListener("load",r),e=null};e.complete?n():e.addEventListener("load",n)}()}},{key:"render",value:function(){var t=this.props,e=t.title,n=t.subtitle,r=(t.titlePosition,t.titleBackground,t.actionIcon),i=(t.actionPosition,t.style),a=t.children,s=t.containerElement,l=o(t,["title","subtitle","titlePosition","titleBackground","actionIcon","actionPosition","style","children","containerElement"]),f=this.context.muiTheme.prepareStyles,p=u(this.props,this.context),d=(0,h["default"])(p.root,i),y=null;e&&(y=m["default"].createElement("div",{key:"titlebar",style:f(p.titleBar)},m["default"].createElement("div",{style:f(p.titleWrap)},m["default"].createElement("div",{style:f(p.title)},e),n?m["default"].createElement("div",{style:f(p.subtitle)},n):null),r?m["default"].createElement("div",{style:f(p.actionIcon)},r):null));var v=a;1===m["default"].Children.count(a)&&(v=m["default"].Children.map(a,function(t){return"img"===t.type?m["default"].cloneElement(t,{key:"img",ref:"img",style:f((0,h["default"])({},p.childImg,t.props.style))}):t}));var g=c({style:f(d)},l);return m["default"].isValidElement(s)?m["default"].cloneElement(s,g,[v,y]):m["default"].createElement(s,g,[v,y])}}]),e}(d.Component);y.propTypes={actionIcon:d.PropTypes.element,actionPosition:d.PropTypes.oneOf(["left","right"]),children:d.PropTypes.node,cols:d.PropTypes.number,containerElement:d.PropTypes.oneOfType([d.PropTypes.string,d.PropTypes.element]),rows:d.PropTypes.number,style:d.PropTypes.object,subtitle:d.PropTypes.node,title:d.PropTypes.node,titleBackground:d.PropTypes.string,titlePosition:d.PropTypes.oneOf(["top","bottom"])},y.defaultProps={titlePosition:"bottom",titleBackground:"rgba(0, 0, 0, 0.4)",actionPosition:"right",cols:1,rows:1,containerElement:"div"},y.contextTypes={muiTheme:d.PropTypes.object.isRequired},e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.MenuItem=e.IconMenu=void 0;var o=n(1128),i=r(o),a=n(1053),s=r(a);e.IconMenu=i["default"],e.MenuItem=s["default"],e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=n(345),m=r(d),y=n(805),v=r(y),g=n(800),b=r(g),_=n(1040),x=r(_),w=n(1048),T=r(w),E=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={menuInitiallyKeyboardFocused:!1,open:!1},r.handleItemTouchTap=function(t,e){0===r.props.touchTapCloseDelay||e.props.hasOwnProperty("menuItems")||!function(){var e=v["default"].isKeyboard(t);r.timerCloseId=setTimeout(function(){r.close(e?"enter":"itemTap",e)},r.props.touchTapCloseDelay)}(),r.props.onItemTouchTap(t,e)},r.handleRequestClose=function(t){r.close(t)},r.handleEscKeyDownMenu=function(t){r.close("escape",t)},o=n,a(r,o)}return s(e,t),u(e,[{key:"componentWillReceiveProps",value:function(t){null!=t.open&&this.setState({open:t.open,anchorEl:this.refs.iconMenuContainer})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerCloseId)}},{key:"isOpen",value:function(){return this.state.open}},{key:"close",value:function(t,e){var n=this;this.state.open&&(null!==this.props.open&&this.props.onRequestChange(!1,t),this.setState({open:!1},function(){if(e){var t=n.refs.iconButton;m["default"].findDOMNode(t).focus(),t.setKeyboardFocus()}}))}},{key:"open",value:function(t,e){return null!==this.props.open?(this.props.onRequestChange(!0,t),this.setState({menuInitiallyKeyboardFocused:v["default"].isKeyboard(e),anchorEl:e.currentTarget})):(this.setState({open:!0,menuInitiallyKeyboardFocused:v["default"].isKeyboard(e),anchorEl:e.currentTarget}),void e.preventDefault())}},{key:"render",value:function(){var t=this,e=this.props,n=e.anchorOrigin,r=e.className,i=e.animated,a=e.animation,s=e.iconButtonElement,u=e.iconStyle,c=(e.onItemTouchTap,e.onKeyboardFocus),p=e.onMouseDown,d=e.onMouseLeave,m=e.onMouseEnter,y=e.onMouseUp,g=(e.onRequestChange,e.onTouchTap),b=e.menuStyle,_=e.style,w=e.targetOrigin,E=(e.touchTapCloseDelay,e.useLayerForClickAway),C=o(e,["anchorOrigin","className","animated","animation","iconButtonElement","iconStyle","onItemTouchTap","onKeyboardFocus","onMouseDown","onMouseLeave","onMouseEnter","onMouseUp","onRequestChange","onTouchTap","menuStyle","style","targetOrigin","touchTapCloseDelay","useLayerForClickAway"]),k=this.context.muiTheme.prepareStyles,S=this.state,P=S.open,M=S.anchorEl,A={root:{display:"inline-block",position:"relative"},menu:{position:"relative"}},O=(0,f["default"])(A.root,_),D=(0,f["default"])(A.menu,b),L=h["default"].cloneElement(s,{onKeyboardFocus:c,iconStyle:(0,f["default"])({},u,s.props.iconStyle),onTouchTap:function(e){t.open(v["default"].isKeyboard(e)?"keyboard":"iconTap",e),s.props.onTouchTap&&s.props.onTouchTap(e)},ref:"iconButton"}),I=h["default"].createElement(x["default"],l({},C,{initiallyKeyboardFocused:this.state.menuInitiallyKeyboardFocused,onEscKeyDown:this.handleEscKeyDownMenu,onItemTouchTap:this.handleItemTouchTap,style:D}),this.props.children);return h["default"].createElement("div",{ref:"iconMenuContainer",className:r,onMouseDown:p,onMouseLeave:d,onMouseEnter:m,onMouseUp:y,onTouchTap:g,style:k(O)},L,h["default"].createElement(T["default"],{anchorOrigin:n,targetOrigin:w,open:P,anchorEl:M,childContextTypes:this.constructor.childContextTypes,useLayerForClickAway:E,onRequestClose:this.handleRequestClose,animated:i,animation:a,context:this.context},I))}}]),e}(p.Component);E.muiName="IconMenu",E.propTypes={anchorOrigin:b["default"].origin,animated:p.PropTypes.bool,animation:p.PropTypes.func,children:p.PropTypes.node,className:p.PropTypes.string,iconButtonElement:p.PropTypes.element.isRequired,iconStyle:p.PropTypes.object,menuStyle:p.PropTypes.object,multiple:p.PropTypes.bool,onItemTouchTap:p.PropTypes.func,onKeyboardFocus:p.PropTypes.func,onMouseDown:p.PropTypes.func,onMouseEnter:p.PropTypes.func,onMouseLeave:p.PropTypes.func,onMouseUp:p.PropTypes.func,onRequestChange:p.PropTypes.func,onTouchTap:p.PropTypes.func,open:p.PropTypes.bool,style:p.PropTypes.object,targetOrigin:b["default"].origin,touchTapCloseDelay:p.PropTypes.number,useLayerForClickAway:p.PropTypes.bool},E.defaultProps={anchorOrigin:{vertical:"top",horizontal:"left"},animated:!0,multiple:!1,open:null,onItemTouchTap:function(){},onKeyboardFocus:function(){},onMouseDown:function(){},onMouseLeave:function(){},onMouseEnter:function(){},onMouseUp:function(){},onRequestChange:function(){},onTouchTap:function(){},targetOrigin:{vertical:"top",horizontal:"left"},touchTapCloseDelay:200,useLayerForClickAway:!1},E.contextTypes={muiTheme:p.PropTypes.object.isRequired},e["default"]=E},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1130),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){var r=Math.min(Math.max(e,t),n),o=n-e,i=Math.round((r-e)/o*1e4)/1e4;return 100*i}function u(t,e){var n=t.max,r=t.min,o=t.value,i=e.muiTheme.baseTheme.palette,a={root:{position:"relative",height:4,display:"block",width:"100%",backgroundColor:i.primary3Color,borderRadius:2,margin:0,overflow:"hidden"},bar:{height:"100%"},barFragment1:{},barFragment2:{}};return"indeterminate"===t.mode?(a.barFragment1={position:"absolute",backgroundColor:t.color||i.primary1Color,top:0,left:0,bottom:0,transition:v["default"].create("all","840ms",null,"cubic-bezier(0.650, 0.815, 0.735, 0.395)")},a.barFragment2={position:"absolute",backgroundColor:t.color||i.primary1Color,top:0,left:0,bottom:0,transition:v["default"].create("all","840ms",null,"cubic-bezier(0.165, 0.840, 0.440, 1.000)")}):(a.bar.backgroundColor=t.color||i.primary1Color,a.bar.transition=v["default"].create("width",".3s",null,"linear"),a.bar.width=l(o,r,n)+"%"),a}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=n(798),h=r(p),d=n(316),m=r(d),y=n(799),v=r(y),g=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),f(e,[{key:"componentDidMount",value:function(){var t=this;this.timers={},this.timers.bar1=this.barUpdate("bar1",0,this.refs.bar1,[[-35,100],[100,-90]]),this.timers.bar2=setTimeout(function(){t.barUpdate("bar2",0,t.refs.bar2,[[-200,100],[107,-8]])},850)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timers.bar1),clearTimeout(this.timers.bar2)}},{key:"barUpdate",value:function(t,e,n,r){var o=this;if("indeterminate"===this.props.mode){e=e||0,e%=4;var i=this.context.muiTheme.isRtl?"left":"right",a=this.context.muiTheme.isRtl?"right":"left";0===e?(n.style[a]=r[0][0]+"%",n.style[i]=r[0][1]+"%"):1===e?n.style.transitionDuration="840ms":2===e?(n.style[a]=r[1][0]+"%",n.style[i]=r[1][1]+"%"):3===e&&(n.style.transitionDuration="0ms"),this.timers[t]=setTimeout(function(){return o.barUpdate(t,e+1,n,r)},420)}}},{key:"render",value:function(){var t=this.props,e=t.style,n=o(t,["style"]),r=this.context.muiTheme.prepareStyles,i=u(this.props,this.context);return m["default"].createElement("div",c({},n,{style:r((0,h["default"])(i.root,e))}),m["default"].createElement("div",{style:r(i.bar)},m["default"].createElement("div",{ref:"bar1",style:r(i.barFragment1)}),m["default"].createElement("div",{ref:"bar2",style:r(i.barFragment2)})))}}]),e}(d.Component);g.propTypes={color:d.PropTypes.string,max:d.PropTypes.number,min:d.PropTypes.number,mode:d.PropTypes.oneOf(["determinate","indeterminate"]),style:d.PropTypes.object,value:d.PropTypes.number},g.defaultProps={mode:"indeterminate",value:0,min:0,max:100},g.contextTypes={muiTheme:d.PropTypes.object.isRequired},e["default"]=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.MakeSelectable=e.ListItem=e.List=void 0;var o=n(1042),i=r(o),a=n(1055),s=r(a),l=n(1132),u=r(l);e.List=i["default"],e.ListItem=s["default"],e.MakeSelectable=u["default"],e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.MakeSelectable=void 0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),
r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=n(857),m=n(818),y=r(m),v=e.MakeSelectable=function(t){var e,n;return n=e=function(e){function n(){var t,e,r,o;i(this,n);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return e=r=a(this,(t=Object.getPrototypeOf(n)).call.apply(t,[this].concat(l))),r.hasSelectedDescendant=function(t,e){return h["default"].isValidElement(e)&&e.props.nestedItems&&e.props.nestedItems.length>0?e.props.nestedItems.reduce(r.hasSelectedDescendant,t):t||r.isChildSelected(e,r.props)},r.handleItemTouchTap=function(t,e){var n=r.getValueLink(r.props),o=e.props.value;o!==n.value&&n.requestChange(t,o)},o=e,a(r,o)}return s(n,e),u(n,[{key:"getValueLink",value:function(t){return t.valueLink||{value:t.value,requestChange:t.onChange}}},{key:"extendChild",value:function(t,e,n){var r=this;if(t&&t.type&&"ListItem"===t.type.muiName){var o=this.isChildSelected(t,this.props),i=void 0;o&&(i=(0,f["default"])({},e,n));var a=(0,f["default"])({},t.props.style,i);return this.keyIndex+=1,h["default"].cloneElement(t,{onTouchTap:function(e){r.handleItemTouchTap(e,t),t.props.onTouchTap&&t.props.onTouchTap(e)},key:this.keyIndex,style:a,nestedItems:t.props.nestedItems.map(function(t){return r.extendChild(t,e,n)}),initiallyOpen:this.isInitiallyOpen(t)})}return t}},{key:"isInitiallyOpen",value:function(t){return t.props.initiallyOpen?t.props.initiallyOpen:this.hasSelectedDescendant(!1,t)}},{key:"isChildSelected",value:function(t,e){return this.getValueLink(e).value===t.props.value}},{key:"render",value:function(){var e=this,n=this.props,r=n.children,i=n.selectedItemStyle,a=o(n,["children","selectedItemStyle"]);this.keyIndex=0;var s={};if(!i){var u=this.context.muiTheme.baseTheme.palette.textColor;s.backgroundColor=(0,d.fade)(u,.2)}return h["default"].createElement(t,l({},a,this.state),h["default"].Children.map(r,function(t){return e.extendChild(t,s,i)}))}}]),n}(t),e.propTypes={children:p.PropTypes.node,onChange:p.PropTypes.func,selectedItemStyle:p.PropTypes.object,value:p.PropTypes.any,valueLink:(0,y["default"])(p.PropTypes.shape({value:p.PropTypes.any,requestChange:p.PropTypes.func}),"This property is deprecated due to his low popularity. Use the value and onChange property.\n        It will be removed with v0.16.0.")},e.contextTypes={muiTheme:p.PropTypes.object.isRequired},n};e["default"]=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.PopoverAnimationVertical=e.Popover=void 0;var o=n(1048),i=r(o),a=n(1052),s=r(a);e.Popover=i["default"],e.PopoverAnimationVertical=s["default"],e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.RadioButtonGroup=e.RadioButton=void 0;var o=n(1135),i=r(o),a=n(1138),s=r(a);e.RadioButton=i["default"],e.RadioButtonGroup=s["default"],e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=e.muiTheme.radioButton;return{icon:{height:n.size,width:n.size},target:{transition:y["default"].easeOut(),position:"absolute",opacity:1,transform:"scale(1)",fill:n.borderColor},fill:{position:"absolute",opacity:1,transform:"scale(0)",transformOrigin:"50% 50%",transition:y["default"].easeOut(),fill:n.checkedColor},targetWhenChecked:{opacity:0,transform:"scale(0)"},fillWhenChecked:{opacity:1,transform:"scale(1)"},targetWhenDisabled:{fill:n.disabledColor,cursor:"not-allowed"},fillWhenDisabled:{fill:n.disabledColor,cursor:"not-allowed"},label:{color:t.disabled?n.labelDisabledColor:n.labelColor},ripple:{color:t.checked?n.checkedColor:n.borderColor}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(799),y=r(m),v=n(1089),g=r(v),b=n(1136),_=r(b),x=n(1137),w=r(x),T=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.handleSwitch=function(t){r.props.onCheck&&r.props.onCheck(t,r.props.value)},o=n,a(r,o)}return s(e,t),c(e,[{key:"isChecked",value:function(){return this.refs.enhancedSwitch.isSwitched()}},{key:"setChecked",value:function(t){this.refs.enhancedSwitch.setSwitched(t)}},{key:"getValue",value:function(){return this.refs.enhancedSwitch.getValue()}},{key:"render",value:function(){var t=this.props,e=t.checkedIcon,n=t.checked,r=t.iconStyle,i=t.labelStyle,a=t.labelPosition,s=(t.onCheck,t.uncheckedIcon),c=t.disabled,f=o(t,["checkedIcon","checked","iconStyle","labelStyle","labelPosition","onCheck","uncheckedIcon","disabled"]),h=l(this.props,this.context),m=(0,p["default"])(h.target,n&&h.targetWhenChecked,r,c&&h.targetWhenDisabled),y=(0,p["default"])(h.fill,n&&h.fillWhenChecked,r,c&&h.fillWhenDisabled),v=d["default"].isValidElement(s)?d["default"].cloneElement(s,{style:(0,p["default"])(m,s.props.style)}):d["default"].createElement(_["default"],{style:m}),b=d["default"].isValidElement(e)?d["default"].cloneElement(e,{style:(0,p["default"])(y,e.props.style)}):d["default"].createElement(w["default"],{style:y}),x=(0,p["default"])(h.icon,r),T=(0,p["default"])(h.label,i);return d["default"].createElement(g["default"],u({},f,{ref:"enhancedSwitch",inputType:"radio",checked:n,switched:n,disabled:c,rippleColor:h.ripple.color,iconStyle:x,labelStyle:T,labelPosition:a,onSwitch:this.handleSwitch,switchElement:d["default"].createElement("div",null,v,b)}))}}]),e}(h.Component);T.propTypes={checked:h.PropTypes.bool,checkedIcon:h.PropTypes.element,disabled:h.PropTypes.bool,iconStyle:h.PropTypes.object,inputStyle:h.PropTypes.object,labelPosition:h.PropTypes.oneOf(["left","right"]),labelStyle:h.PropTypes.object,onCheck:h.PropTypes.func,style:h.PropTypes.object,uncheckedIcon:h.PropTypes.element,value:h.PropTypes.any},T.defaultProps={checked:!1,disabled:!1,labelPosition:"right"},T.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=T},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(1031),s=r(a),l=n(1038),u=r(l),c=function(t){return i["default"].createElement(u["default"],t,i["default"].createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))};c=(0,s["default"])(c),c.displayName="ToggleRadioButtonUnchecked",c.muiName="SvgIcon",e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(1031),s=r(a),l=n(1038),u=r(l),c=function(t){return i["default"].createElement(u["default"],t,i["default"].createElement("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))};c=(0,s["default"])(c),c.displayName="ToggleRadioButtonChecked",c.muiName="SvgIcon",e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=n(1134),m=r(d),y=n(308),v=(r(y),function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={numberCheckedRadioButtons:0,selected:""},r.handleChange=function(t,e){r.updateRadioButtons(e),0===r.state.numberCheckedRadioButtons&&r.props.onChange&&r.props.onChange(t,e)},o=n,a(r,o)}return s(e,t),u(e,[{key:"componentWillMount",value:function(){var t=this,e=0;h["default"].Children.forEach(this.props.children,function(n){t.hasCheckAttribute(n)&&e++},this),this.setState({numberCheckedRadioButtons:e,selected:this.props.valueSelected||this.props.defaultSelected||""})}},{key:"componentWillReceiveProps",value:function(t){t.hasOwnProperty("valueSelected")&&this.setState({selected:t.valueSelected})}},{key:"hasCheckAttribute",value:function(t){return t.props.hasOwnProperty("checked")&&t.props.checked}},{key:"updateRadioButtons",value:function(t){0===this.state.numberCheckedRadioButtons&&this.setState({selected:t})}},{key:"getSelectedValue",value:function(){return this.state.selected}},{key:"setSelectedValue",value:function(t){this.updateRadioButtons(t)}},{key:"clearValue",value:function(){this.setSelectedValue("")}},{key:"render",value:function(){var t=this,e=this.context.muiTheme.prepareStyles,n=h["default"].Children.map(this.props.children,function(e){var n=e.props,r=(n.name,n.value,n.label,n.onCheck,o(n,["name","value","label","onCheck"]));return h["default"].createElement(m["default"],l({},r,{ref:e.props.value,name:t.props.name,key:e.props.value,value:e.props.value,label:e.props.label,labelPosition:t.props.labelPosition,onCheck:t.handleChange,checked:e.props.value===t.state.selected}))},this);return h["default"].createElement("div",{style:e((0,f["default"])({},this.props.style)),className:this.props.className},n)}}]),e}(p.Component));v.propTypes={children:p.PropTypes.node,className:p.PropTypes.string,defaultSelected:p.PropTypes.any,labelPosition:p.PropTypes.oneOf(["left","right"]),name:p.PropTypes.string.isRequired,onChange:p.PropTypes.func,style:p.PropTypes.object,valueSelected:p.PropTypes.any},v.defaultProps={style:{}},v.contextTypes={muiTheme:p.PropTypes.object.isRequired},e["default"]=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1140),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){var e=.1*t.size;return{root:{position:"absolute",zIndex:2,width:t.size,height:t.size,padding:e,top:-1e4,left:-1e4,transform:"translate("+(1e4+t.left)+"px, "+(1e4+t.top)+"px)",opacity:"hide"===t.status?0:1,transition:"hide"===t.status?g["default"].create("all",".3s","ease-out"):"none"}}}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(809),y=r(m),v=n(799),g=r(v),b=n(947),_=r(b),x=32,w=function(t){function e(){return o(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),c(e,[{key:"componentDidMount",value:function(){this.scalePath(this.refs.path,0),this.rotateWrapper(this.refs.wrapper)}},{key:"componentDidUpdate",value:function(){clearTimeout(this.scalePathTimer),clearTimeout(this.rotateWrapperTimer),clearTimeout(this.rotateWrapperSecondTimer),this.scalePath(this.refs.path,0),this.rotateWrapper(this.refs.wrapper)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.scalePathTimer),clearTimeout(this.rotateWrapperTimer),clearTimeout(this.rotateWrapperSecondTimer)}},{key:"renderChildren",value:function(){var t=this.context.muiTheme.prepareStyles,e=this.getPaperSize(),n=null;if("ready"!==this.props.status){var r=this.getCircleStyle(e);n=d["default"].createElement("div",{ref:"wrapper",style:t({transition:g["default"].create("transform","20s",null,"linear"),width:"100%",height:"100%"})},d["default"].createElement("svg",{style:{width:e,height:e},viewBox:"0 0 "+x+" "+x},d["default"].createElement("circle",u({ref:"path",style:t((0,p["default"])(r.style,{transition:g["default"].create("all","1.5s",null,"ease-in-out")}))},r.attr))))}else{var o=this.getCircleStyle(e),i=this.getPolygonStyle(e);n=d["default"].createElement("svg",{style:{width:e,height:e},viewBox:"0 0 "+x+" "+x},d["default"].createElement("circle",u({style:t(o.style)},o.attr)),d["default"].createElement("polygon",u({style:t(i.style)},i.attr)))}return n}},{key:"getTheme",value:function(){return this.context.muiTheme.refreshIndicator}},{key:"getPaddingSize",value:function(){var t=.1*this.props.size;return t}},{key:"getPaperSize",value:function(){return this.props.size-2*this.getPaddingSize()}},{key:"getCircleAttr",value:function(){return{radiu:x/2-5,originX:x/2,originY:x/2,strokeWidth:3}}},{key:"getArcDeg",value:function(){var t=this.props.percentage/100,e=120*t,n=410*t;return[e,n]}},{key:"getFactor",value:function(){var t=this.props.percentage/100,e=Math.min(1,t/.4);return e}},{key:"getCircleStyle",value:function(){var t="loading"===this.props.status,e=t?1:this.getFactor(),n=this.getCircleAttr(),r=2*Math.PI*n.radiu,o=this.getArcDeg(),i=l(o,2),a=i[0],s=i[1],u=(s-a)*r/360,c=-a*r/360,f=this.getTheme();return{style:{strokeDasharray:u+", "+(r-u),strokeDashoffset:c,stroke:t||100===this.props.percentage?this.props.loadingColor||f.loadingStrokeColor:this.props.color||f.strokeColor,strokeLinecap:"round",opacity:e,strokeWidth:n.strokeWidth*e,fill:"none"},attr:{cx:n.originX,cy:n.originY,r:n.radiu}}}},{key:"getPolygonStyle",value:function(){var t=this.getFactor(),e=this.getCircleAttr(),n=e.originX+e.radiu,r=e.originY,o=7*e.strokeWidth/4*t,i=n-o+","+r+" "+(n+o)+","+r+" "+n+","+(r+o),a=this.getArcDeg(),s=l(a,2),u=s[1],c=this.getTheme();return{style:{fill:100===this.props.percentage?this.props.loadingColor||c.loadingStrokeColor:this.props.color||c.strokeColor,transform:"rotate("+u+"deg)",transformOrigin:e.originX+"px "+e.originY+"px",opacity:t},attr:{points:i}}}},{key:"scalePath",value:function(t,e){var n=this;if("loading"===this.props.status){var r=(e||0)%3,o=this.getCircleAttr(),i=2*Math.PI*o.radiu,a=.64*i,s=void 0,l=void 0,u=void 0;0===r?(s="1, 200",l=0,u="0ms"):1===r?(s=a+", 200",l=-15,u="750ms"):(s=a+", 200",l=-(i-1),u="850ms"),y["default"].set(t.style,"strokeDasharray",s),y["default"].set(t.style,"strokeDashoffset",l),y["default"].set(t.style,"transitionDuration",u),this.scalePathTimer=setTimeout(function(){return n.scalePath(t,r+1)},r?750:250)}}},{key:"rotateWrapper",value:function(t){var e=this;"loading"===this.props.status&&(y["default"].set(t.style,"transform",null),y["default"].set(t.style,"transform","rotate(0deg)"),y["default"].set(t.style,"transitionDuration","0ms"),this.rotateWrapperSecondTimer=setTimeout(function(){y["default"].set(t.style,"transform","rotate(1800deg)"),y["default"].set(t.style,"transitionDuration","10s"),y["default"].set(t.style,"transitionTimingFunction","linear")},50),this.rotateWrapperTimer=setTimeout(function(){return e.rotateWrapper(t)},10050))}},{key:"render",value:function(){var t=this.props.style,e=s(this.props,this.context);return d["default"].createElement(_["default"],{circle:!0,style:(0,p["default"])(e.root,t),ref:"indicatorCt"},this.renderChildren())}}]),e}(h.Component);w.propTypes={color:h.PropTypes.string,left:h.PropTypes.number.isRequired,loadingColor:h.PropTypes.string,percentage:h.PropTypes.number,size:h.PropTypes.number,status:h.PropTypes.oneOf(["ready","loading","hide"]),style:h.PropTypes.object,top:h.PropTypes.number.isRequired},w.defaultProps={percentage:0,size:40,status:"hide"},w.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1142),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(806),y=r(m),v=n(799),g=r(v),b=n(807),_=r(b),x=function(t,e,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=h.PropTypes.number.apply(h.PropTypes,[t,e,n].concat(o));if(null!==a)return a;if(t.min>=t.max){var s="min"===e?"min should be less than max":"max should be greater than min";return new Error(s)}},w=function(t,e,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=h.PropTypes.number.apply(h.PropTypes,[t,e,n].concat(o));if(null!==a)return a;var s=t[e];return s<t.min||t.max<s?new Error(e+" should be within the range specified by min and max"):void 0},T={x:"height","x-reverse":"height",y:"width","y-reverse":"width"},E={x:"top","x-reverse":"top",y:"left","y-reverse":"left"},C={x:"width","x-reverse":"width",y:"height","y-reverse":"height"},k={x:"marginRight","x-reverse":"marginLeft",y:"marginTop","y-reverse":"marginBottom"},S={x:"marginLeft","x-reverse":"marginRight",y:"marginBottom","y-reverse":"marginTop"},P={x:"left","x-reverse":"right",y:"bottom","y-reverse":"top"},M={x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"},A={x:"clientX","x-reverse":"clientX",y:"clientY","y-reverse":"clientY"},O={x:"right","x-reverse":"left",y:"top","y-reverse":"bottom"},D=function(t){return"x-reverse"===t||"y"===t},L=function(t,e,n){var r,o,i,a,s,u,c=e.muiTheme.slider,f=c.handleSize/2,h=c.trackSize+c.handleSizeDisabled/2,d=t.disabled?" - "+h+"px":"",m=t.axis,y={slider:(r={touchCallout:"none",userSelect:"none",cursor:"default"},l(r,T[m],c.handleSizeActive),l(r,C[m],"100%"),l(r,"position","relative"),l(r,"marginTop",24),l(r,"marginBottom",48),r),track:(o={position:"absolute"},l(o,E[m],(c.handleSizeActive-c.trackSize)/2),l(o,P[m],0),l(o,C[m],"100%"),l(o,T[m],c.trackSize),o),filledAndRemaining:(i={position:"absolute"},l(i,E,0),l(i,T[m],"100%"),l(i,"transition",g["default"].easeOut(null,"margin")),i),handle:(a={boxSizing:"border-box",position:"absolute",cursor:"pointer",pointerEvents:"inherit"},l(a,E[m],0),l(a,P[m],0===n.percent?"0%":100*n.percent+"%"),l(a,"zIndex",1),l(a,"margin",{x:c.trackSize/2+"px 0 0 0","x-reverse":c.trackSize/2+"px 0 0 0",y:"0 0 0 "+c.trackSize/2+"px","y-reverse":"0 0 0 "+c.trackSize/2+"px"}[t.axis]),l(a,"width",c.handleSize),l(a,"height",c.handleSize),l(a,"backgroundColor",c.selectionColor),l(a,"backgroundClip","padding-box"),l(a,"border","0px solid transparent"),l(a,"borderRadius","50%"),l(a,"transform",{x:"translate(-50%, -50%)","x-reverse":"translate(50%, -50%)",y:"translate(-50%, 50%)","y-reverse":"translate(-50%, -50%)"}[t.axis]),l(a,"transition",g["default"].easeOut("450ms","background")+", "+g["default"].easeOut("450ms","border-color")+", "+g["default"].easeOut("450ms","width")+", "+g["default"].easeOut("450ms","height")),l(a,"overflow","visible"),l(a,"outline","none"),a),handleWhenDisabled:{boxSizing:"content-box",cursor:"not-allowed",backgroundColor:c.trackColor,width:c.handleSizeDisabled,height:c.handleSizeDisabled,border:"none"},handleWhenPercentZero:{border:c.trackSize+"px solid "+c.handleColorZero,backgroundColor:c.handleFillColor,boxShadow:"none"},handleWhenPercentZeroAndDisabled:{cursor:"not-allowed",width:c.handleSizeDisabled,height:c.handleSizeDisabled},handleWhenPercentZeroAndFocused:{border:c.trackSize+"px solid "+c.trackColorSelected},handleWhenActive:{width:c.handleSizeActive,height:c.handleSizeActive},ripple:{height:c.handleSize,width:c.handleSize,overflow:"visible"},rippleWhenPercentZero:{top:-c.trackSize,left:-c.trackSize},rippleInner:{height:"300%",width:"300%",top:-c.handleSize,left:-c.handleSize},rippleColor:{fill:0===n.percent?c.handleColorZero:c.rippleColor}};return y.filled=(0,p["default"])({},y.filledAndRemaining,(s={},l(s,P[m],0),l(s,"backgroundColor",t.disabled?c.trackColor:c.selectionColor),l(s,k[m],f),l(s,C[m],"calc("+100*n.percent+"%"+d+")"),s)),y.remaining=(0,p["default"])({},y.filledAndRemaining,(u={},l(u,O[m],0),l(u,"backgroundColor",!n.hovered&&!n.focused||t.disabled?c.trackColor:c.trackColorSelected),l(u,S[m],f),l(u,C[m],"calc("+100*(1-n.percent)+"%"+d+")"),u)),y},I=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={active:!1,dragging:!1,focused:!1,hovered:!1,percent:0,value:0},r.onHandleTouchStart=function(t){document&&(document.addEventListener("touchmove",r.dragTouchHandler,!1),document.addEventListener("touchup",r.dragTouchEndHandler,!1),document.addEventListener("touchend",r.dragTouchEndHandler,!1),document.addEventListener("touchcancel",r.dragTouchEndHandler,!1)),r.onDragStart(t),t.preventDefault()},r.onHandleMouseDown=function(t){document&&(document.addEventListener("mousemove",r.dragHandler,!1),document.addEventListener("mouseup",r.dragEndHandler,!1),t.preventDefault(),r.refs.handle.focus()),r.onDragStart(t)},r.onHandleKeyDown=function(t){var e=r.props,n=e.axis,o=e.min,i=e.max,a=e.step,s=void 0;switch((0,y["default"])(t)){case"page down":case"down":s="y-reverse"===n?"increase":"decrease";break;case"left":s="x-reverse"===n?"increase":"decrease";break;case"page up":case"up":s="y-reverse"===n?"decrease":"increase";break;case"right":s="x-reverse"===n?"decrease":"increase";break;case"home":s="home";break;case"end":s="end"}if(s){var l=void 0,u=void 0;switch(t.preventDefault(),s){case"decrease":l=Math.max(o,r.state.value-a),u=(l-o)/(i-o);break;case"increase":l=Math.min(i,r.state.value+a),u=(l-o)/(i-o);break;case"home":l=o,u=0;break;case"end":l=i,u=1}r.state.value!==l&&r.setState({percent:u,value:parseFloat(l.toFixed(5))},function(){r.props.onChange&&r.props.onChange(t,r.state.value)})}},r.dragHandler=function(t){r.dragRunning||(r.dragRunning=!0,requestAnimationFrame(function(){var e=void 0;e=D(r.props.axis)?r.getTrackOffset()-t[A[r.props.axis]]:t[A[r.props.axis]]-r.getTrackOffset(),r.onDragUpdate(t,e),r.dragRunning=!1}))},r.dragTouchHandler=function(t){r.dragRunning||(r.dragRunning=!0,requestAnimationFrame(function(){var e=void 0;e=D(r.props.axis)?r.getTrackOffset()-t.touches[0][A[r.props.axis]]:t.touches[0][A[r.props.axis]]-r.getTrackOffset(),r.onDragUpdate(t,e),r.dragRunning=!1}))},r.dragEndHandler=function(t){document&&(document.removeEventListener("mousemove",r.dragHandler,!1),document.removeEventListener("mouseup",r.dragEndHandler,!1)),r.onDragStop(t)},r.dragTouchEndHandler=function(t){document&&(document.removeEventListener("touchmove",r.dragTouchHandler,!1),document.removeEventListener("touchup",r.dragTouchEndHandler,!1),document.removeEventListener("touchend",r.dragTouchEndHandler,!1),document.removeEventListener("touchcancel",r.dragTouchEndHandler,!1)),r.onDragStop(t)},r.handleTouchStart=function(t){if(!r.props.disabled&&!r.state.dragging){var e=void 0;e=D(r.props.axis)?r.getTrackOffset()-t.touches[0][A[r.props.axis]]:t.touches[0][A[r.props.axis]]-r.getTrackOffset(),r.dragTo(t,e),r.onHandleTouchStart(t)}},r.handleFocus=function(t){r.setState({focused:!0}),r.props.onFocus&&r.props.onFocus(t)},r.handleBlur=function(t){r.setState({focused:!1,active:!1}),r.props.onBlur&&r.props.onBlur(t)},r.handleMouseDown=function(t){if(!r.props.disabled&&!r.state.dragging){var e=void 0;e=D(r.props.axis)?r.getTrackOffset()-t[A[r.props.axis]]:t[A[r.props.axis]]-r.getTrackOffset(),r.dragTo(t,e),r.onHandleMouseDown(t)}},r.handleMouseUp=function(){r.props.disabled||r.setState({active:!1})},r.handleMouseEnter=function(){r.setState({hovered:!0})},r.handleMouseLeave=function(){r.setState({hovered:!1})},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentWillMount",value:function(){var t=this.props.value;void 0===t&&(t=void 0!==this.props.defaultValue?this.props.defaultValue:this.props.min);var e=(t-this.props.min)/(this.props.max-this.props.min);isNaN(e)&&(e=0),this.setState({percent:e,value:t})}},{key:"componentWillReceiveProps",value:function(t){void 0===t.value||this.state.dragging||this.setValue(t.value,t.min,t.max)}},{key:"getValue",value:function(){return this.state.value}},{key:"setValue",value:function(t,e,n){var r=(t-e)/(n-e);isNaN(r)&&(r=0),this.setState({value:t,percent:r})}},{key:"getPercent",value:function(){return this.state.percent}},{key:"setPercent",value:function(t,e){var n=this.alignValue(this.percentToValue(t)),r=this.props,o=r.min,i=r.max,a=(n-o)/(i-o);this.state.value!==n&&this.setState({value:n,percent:a},e)}},{key:"clearValue",value:function(){this.setValue(this.props.min,this.props.min,this.props.max)}},{key:"alignValue",value:function n(t){var e=this.props,r=e.step,o=e.min,n=Math.round((t-o)/r)*r+o;return parseFloat(n.toFixed(5))}},{key:"getTrackOffset",value:function(){return this.refs.track.getBoundingClientRect()[P[this.props.axis]]}},{key:"onDragStart",value:function(t){this.setState({dragging:!0,active:!0}),this.props.onDragStart&&this.props.onDragStart(t)}},{key:"onDragStop",value:function(t){this.setState({dragging:!1,active:!1}),this.props.onDragStop&&this.props.onDragStop(t)}},{key:"onDragUpdate",value:function(t,e){this.state.dragging&&(this.props.disabled||this.dragTo(t,e))}},{key:"dragTo",value:function(t,e){var n=this.refs.track[M[this.props.axis]];e<0?e=0:e>n&&(e=n),this.updateWithChangeEvent(t,e/n)}},{key:"updateWithChangeEvent",value:function(t,e){var n=this;this.setPercent(e,function(){n.props.onChange&&n.props.onChange(t,n.state.value)})}},{key:"percentToValue",value:function(t){return t*(this.props.max-this.props.min)+this.props.min}},{key:"render",value:function(){var t=this.props,e=(t.axis,t.description),n=t.disabled,r=t.disableFocusRipple,i=t.error,a=t.max,s=t.min,l=t.name,c=(t.onBlur,t.onChange,t.onDragStart,t.onDragStop,t.onFocus,t.required),f=t.sliderStyle,h=t.step,m=t.style,y=o(t,["axis","description","disabled","disableFocusRipple","error","max","min","name","onBlur","onChange","onDragStart","onDragStop","onFocus","required","sliderStyle","step","style"]),v=this.context.muiTheme.prepareStyles,g=L(this.props,this.context,this.state),b={},x=this.state.percent;x>1?x=1:x<0&&(x=0),b=0===x?(0,p["default"])({},g.handle,g.handleWhenPercentZero,this.state.active&&g.handleWhenActive,(this.state.hovered||this.state.focused)&&!n&&g.handleWhenPercentZeroAndFocused,n&&g.handleWhenPercentZeroAndDisabled):(0,p["default"])({},g.handle,this.state.active&&g.handleWhenActive,n&&g.handleWhenDisabled);var w=(0,p["default"])({},g.ripple,0===x&&g.rippleWhenPercentZero),T=(this.state.hovered||this.state.focused)&&!this.state.active,E=void 0;n||r||(E=d["default"].createElement(_["default"],{ref:"focusRipple",key:"focusRipple",style:w,innerStyle:g.rippleInner,show:T,muiTheme:this.context.muiTheme,color:g.rippleColor.fill}));var C=void 0;return n||(C={onTouchStart:this.onHandleTouchStart,onMouseDown:this.onHandleMouseDown,onKeyDown:this.onHandleKeyDown}),d["default"].createElement("div",u({},y,{style:v((0,p["default"])({},m))}),d["default"].createElement("span",null,e),d["default"].createElement("span",null,i),d["default"].createElement("div",{style:v((0,p["default"])(g.slider,f)),onFocus:this.handleFocus,onBlur:this.handleBlur,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart},d["default"].createElement("div",{ref:"track",style:v(g.track)},d["default"].createElement("div",{style:v(g.filled)}),d["default"].createElement("div",{style:v(g.remaining)}),d["default"].createElement("div",u({ref:"handle",style:v(b),tabIndex:0},C),E))),d["default"].createElement("input",{ref:"input",type:"hidden",name:l,value:this.state.value,required:c,min:s,max:a,step:h}))}}]),e}(h.Component);I.propTypes={axis:h.PropTypes.oneOf(["x","x-reverse","y","y-reverse"]),defaultValue:w,description:h.PropTypes.string,disableFocusRipple:h.PropTypes.bool,disabled:h.PropTypes.bool,error:h.PropTypes.string,max:x,min:x,name:h.PropTypes.string,onBlur:h.PropTypes.func,
onChange:h.PropTypes.func,onDragStart:h.PropTypes.func,onDragStop:h.PropTypes.func,onFocus:h.PropTypes.func,required:h.PropTypes.bool,sliderStyle:h.PropTypes.object,step:h.PropTypes.number,style:h.PropTypes.object,value:w},I.defaultProps={axis:"x",disabled:!1,disableFocusRipple:!1,max:1,min:0,required:!0,step:.01,style:{}},I.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=I},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=function(t,e){var n=t.index,r=e.stepper,o=r.orientation,i={root:{flex:"0 0 auto"}};return n>0&&("horizontal"===o?i.root.marginLeft=-6:"vertical"===o&&(i.root.marginTop=-14)),i},m=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.renderChild=function(t){var e=r.props,n=e.active,o=e.completed,i=e.disabled,a=e.index,s=e.last,l=a+1;return h["default"].cloneElement(t,(0,f["default"])({active:n,completed:o,disabled:i,icon:l,last:s},t.props))},o=n,a(r,o)}return s(e,t),u(e,[{key:"render",value:function(){var t=this.props,e=(t.active,t.completed,t.disabled,t.index,t.last,t.children),n=t.style,r=o(t,["active","completed","disabled","index","last","children","style"]),i=this.context.muiTheme.prepareStyles,a=d(this.props,this.context);return h["default"].createElement("div",l({style:i((0,f["default"])(a.root,n))},r),h["default"].Children.map(e,this.renderChild))}}]),e}(p.Component);m.propTypes={active:p.PropTypes.bool,children:p.PropTypes.node,completed:p.PropTypes.bool,disabled:p.PropTypes.bool,index:p.PropTypes.number,last:p.PropTypes.bool,style:p.PropTypes.object},m.contextTypes={muiTheme:p.PropTypes.object.isRequired,stepper:p.PropTypes.object},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=n(799),m=r(d),y=n(801),v=r(y),g=n(1145),b=r(g),_=function(t){return t&&t.type&&"StepLabel"===t.type.muiName},x=function(t,e,n){var r=n.hovered,o=e.muiTheme.stepper,i=o.backgroundColor,a=o.hoverBackgroundColor,s={root:{padding:0,backgroundColor:r?a:i,transition:m["default"].easeOut()}};return"vertical"===e.stepper.orientation&&(s.root.width="100%"),s},w=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={hovered:!1,touched:!1},r.handleMouseEnter=function(t){var e=r.props.onMouseEnter;r.state.touched||r.setState({hovered:!0}),"function"==typeof e&&e(t)},r.handleMouseLeave=function(t){var e=r.props.onMouseLeave;r.setState({hovered:!1}),"function"==typeof e&&e(t)},r.handleTouchStart=function(t){var e=r.props.onTouchStart;r.state.touched||r.setState({touched:!0}),"function"==typeof e&&e(t)},o=n,a(r,o)}return s(e,t),u(e,[{key:"render",value:function(){var t=this.props,e=t.active,n=t.children,r=t.completed,i=t.disabled,a=t.icon,s=(t.last,t.onMouseEnter,t.onMouseLeave,t.onTouchStart,t.style),u=o(t,["active","children","completed","disabled","icon","last","onMouseEnter","onMouseLeave","onTouchStart","style"]),c=x(this.props,this.context,this.state),p=_(n)?n:h["default"].createElement(b["default"],null,n);return h["default"].createElement(v["default"],l({disabled:i,style:(0,f["default"])(c.root,s),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTouchStart:this.handleTouchStart},u),h["default"].cloneElement(p,{active:e,completed:r,disabled:i,icon:a}))}}]),e}(p.Component);w.propTypes={active:p.PropTypes.bool,children:p.PropTypes.node,completed:p.PropTypes.bool,disabled:p.PropTypes.bool,icon:p.PropTypes.oneOfType([p.PropTypes.element,p.PropTypes.string,p.PropTypes.number]),last:p.PropTypes.bool,onMouseEnter:p.PropTypes.func,onMouseLeave:p.PropTypes.func,onTouchStart:p.PropTypes.func,style:p.PropTypes.object},w.contextTypes={muiTheme:p.PropTypes.object.isRequired,stepper:p.PropTypes.object},e["default"]=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(1146),y=r(m),v=n(1038),g=r(v),b=function(t,e){var n=t.active,r=t.completed,o=t.disabled,i=e.muiTheme,a=e.stepper,s=i.stepper,l=s.textColor,u=s.disabledTextColor,c=s.iconColor,f=s.inactiveIconColor,p=a.orientation,h={root:{height:"horizontal"===p?72:64,color:l,display:"flex",alignItems:"center",fontSize:14,paddingLeft:14,paddingRight:14},icon:{color:c,display:"block",fontSize:24,width:24,height:24},iconContainer:{display:"flex",alignItems:"center",paddingRight:8,width:24}};return n&&(h.root.fontWeight=500),r||n||(h.icon.color=f),o&&(h.icon.color=f,h.root.color=u,h.root.cursor="not-allowed"),h},_=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),c(e,[{key:"renderIcon",value:function(t,e,n){var r="undefined"==typeof e?"undefined":u(e);return"number"===r||"string"===r?t?d["default"].createElement(y["default"],{color:n.icon.color,style:n.icon}):d["default"].createElement(g["default"],{color:n.icon.color,style:n.icon},d["default"].createElement("circle",{cx:"12",cy:"12",r:"10"}),d["default"].createElement("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"12",fill:"#fff"},e)):e}},{key:"render",value:function(){var t=this.props,e=(t.active,t.children),n=t.completed,r=t.icon,i=(t.last,t.style),a=o(t,["active","children","completed","icon","last","style"]),s=this.context.muiTheme.prepareStyles,u=b(this.props,this.context),c=this.renderIcon(n,r,u);return d["default"].createElement("span",l({style:s((0,p["default"])(u.root,i))},a),c&&d["default"].createElement("span",{style:s(u.iconContainer)},c),e)}}]),e}(h.Component);_.muiName="StepLabel",_.propTypes={active:h.PropTypes.bool,children:h.PropTypes.node,completed:h.PropTypes.bool,disabled:h.PropTypes.bool,icon:h.PropTypes.oneOfType([h.PropTypes.element,h.PropTypes.string,h.PropTypes.number]),last:h.PropTypes.bool,style:h.PropTypes.object},_.contextTypes={muiTheme:h.PropTypes.object.isRequired,stepper:h.PropTypes.object},e["default"]=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(1031),s=r(a),l=n(1038),u=r(l),c=function(t){return i["default"].createElement(u["default"],t,i["default"].createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))};c=(0,s["default"])(c),c.displayName="ActionCheckCircle",c.muiName="SvgIcon",e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t){return d["default"].createElement(y["default"],t)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(1148),y=r(m),v=n(308),g=(r(v),function(t,e){var n={root:{marginTop:-14,marginLeft:25,paddingLeft:21,paddingRight:16,overflow:"hidden"}};return t.last||(n.root.borderLeft="1px solid "+e.muiTheme.stepper.connectorLineColor),n}),b=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=t.active,n=t.children,r=(t.completed,t.last,t.style),i=t.transition,a=t.transitionDuration,s=o(t,["active","children","completed","last","style","transition","transitionDuration"]),l=this.context,c=l.stepper,f=l.muiTheme.prepareStyles;if("vertical"!==c.orientation)return null;var h=g(this.props,this.context),m={enterDelay:a,transitionDuration:a,open:e};return d["default"].createElement("div",u({style:f((0,p["default"])(h.root,r))},s),d["default"].createElement(i,m,d["default"].createElement("div",{style:{overflow:"hidden"}},n)))}}]),e}(h.Component);b.propTypes={active:h.PropTypes.bool,children:h.PropTypes.node,completed:h.PropTypes.bool,last:h.PropTypes.bool,style:h.PropTypes.object,transition:h.PropTypes.func,transitionDuration:h.PropTypes.number},b.defaultProps={transition:l,transitionDuration:450},b.contextTypes={muiTheme:h.PropTypes.object.isRequired,stepper:h.PropTypes.object},e["default"]=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=n(811),m=r(d),y=n(1149),v=r(y),g=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),u(e,[{key:"renderChildren",value:function(t){var e=this.props,n=e.enterDelay,r=e.transitionDelay,o=e.transitionDuration;return h["default"].Children.map(t,function(t){return h["default"].createElement(v["default"],{enterDelay:n,transitionDelay:r,transitionDuration:o,key:t.key},t)},this)}},{key:"render",value:function(){var t=this.props,e=t.children,n=(t.enterDelay,t.loading),r=t.open,i=t.style,a=(t.transitionDelay,t.transitionDuration,o(t,["children","enterDelay","loading","open","style","transitionDelay","transitionDuration"])),s=this.context.muiTheme.prepareStyles,u=(0,f["default"])({},{position:"relative",overflow:"hidden",height:"100%"},i),c=n?[]:this.renderChildren(e);return h["default"].createElement(m["default"],l({style:s(u),component:"div"},a),r&&c)}}]),e}(p.Component);g.propTypes={children:p.PropTypes.node,enterDelay:p.PropTypes.number,loading:p.PropTypes.bool,open:p.PropTypes.bool,style:p.PropTypes.object,transitionDelay:p.PropTypes.number,transitionDuration:p.PropTypes.number},g.defaultProps={enterDelay:0,transitionDelay:0,transitionDuration:450,loading:!1,open:!1},g.contextTypes={muiTheme:p.PropTypes.object.isRequired},e["default"]=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=n(345),m=r(d),y=n(799),v=r(y),g=function(t){return t.offsetHeight},b=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),u(e,[{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimer),clearTimeout(this.enteredTimer),clearTimeout(this.leaveTimer)}},{key:"componentWillAppear",value:function(t){this.open(),t()}},{key:"componentDidAppear",value:function(){this.setAutoHeight()}},{key:"componentWillEnter",value:function(t){var e=this,n=this.props,r=n.enterDelay,o=n.transitionDelay,i=n.transitionDuration,a=m["default"].findDOMNode(this);a.style.height=0,this.enterTimer=setTimeout(function(){return e.open()},r),this.enteredTimer=setTimeout(function(){return t()},r+o+i)}},{key:"componentDidEnter",value:function(){this.setAutoHeight()}},{key:"componentWillLeave",value:function(t){var e=this.props,n=e.transitionDelay,r=e.transitionDuration,o=m["default"].findDOMNode(this);o.style.height=this.refs.wrapper.clientHeight+"px",g(o),o.style.transitionDuration=r+"ms",o.style.height=0,this.leaveTimer=setTimeout(function(){return t()},n+r)}},{key:"setAutoHeight",value:function(){var t=m["default"].findDOMNode(this),e=t.style;e.transitionDuration=0,e.height="auto"}},{key:"open",value:function(){var t=m["default"].findDOMNode(this);t.style.height=this.refs.wrapper.clientHeight+"px"}},{key:"render",value:function(){var t=this.props,e=t.children,n=(t.enterDelay,t.style),r=t.transitionDelay,i=t.transitionDuration,a=o(t,["children","enterDelay","style","transitionDelay","transitionDuration"]),s=this.context.muiTheme.prepareStyles,u=(0,f["default"])({position:"relative",height:0,width:"100%",top:0,left:0,overflow:"hidden",transition:v["default"].easeOut(i+"ms",["height"],r+"ms")},n);return h["default"].createElement("div",l({},a,{style:s(u)}),h["default"].createElement("div",{ref:"wrapper"},e))}}]),e}(p.Component);b.propTypes={children:p.PropTypes.node,enterDelay:p.PropTypes.number,style:p.PropTypes.object,transitionDelay:p.PropTypes.number,transitionDuration:p.PropTypes.number},b.defaultProps={enterDelay:0,transitionDelay:0,transitionDuration:450},b.contextTypes={muiTheme:p.PropTypes.object.isRequired},e["default"]=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(798),u=r(l),c=n(316),f=r(c),p=n(1151),h=r(p),d=function(t){var e=t.orientation;return{root:{display:"flex",flexDirection:"horizontal"===e?"row":"column",alignContent:"center",alignItems:"horizontal"===e?"center":"stretch",justifyContent:"space-between"}}},m=function(t){function e(){return o(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"getChildContext",value:function(){var t=this.props.orientation;return{stepper:{orientation:t}}}},{key:"render",value:function(){var t=this.props,e=t.activeStep,n=t.children,r=t.linear,o=t.style,i=this.context.muiTheme.prepareStyles,a=d(this.props,this.context),s=f["default"].Children.map(n,function(t,o){var i={index:o};return e===o?i.active=!0:r&&e>o?i.completed=!0:r&&e<o&&(i.disabled=!0),o+1===n.length&&(i.last=!0),[o>0&&f["default"].createElement(h["default"],null),f["default"].cloneElement(t,(0,u["default"])(i,t.props))]});return f["default"].createElement("div",{style:i((0,u["default"])(a.root,o))},s)}}]),e}(c.Component);m.propTypes={activeStep:c.PropTypes.number,children:c.PropTypes.arrayOf(c.PropTypes.element),linear:c.PropTypes.bool,orientation:c.PropTypes.oneOf(["horizontal","vertical"]),style:c.PropTypes.object},m.defaultProps={orientation:"horizontal",linear:!0},m.contextTypes={muiTheme:c.PropTypes.object.isRequired},m.childContextTypes={stepper:c.PropTypes.object},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PlainStepConnector=void 0;var o=n(316),i=r(o),a=n(1031),s=r(a),l={style:o.PropTypes.object},u={muiTheme:o.PropTypes.object.isRequired,stepper:o.PropTypes.object},c=function(t,e){var n=e.muiTheme,r=e.stepper,o={wrapper:{flex:"1 1 auto"},line:{display:"block",borderColor:n.stepper.connectorLineColor}};"horizontal"===r.orientation?(o.line.marginLeft=-6,o.line.borderTopStyle="solid",o.line.borderTopWidth=1):"vertical"===r.orientation&&(o.wrapper.marginLeft=25,o.line.borderLeftStyle="solid",o.line.borderLeftWidth=1,o.line.minHeight=28);var a=n.prepareStyles;return i["default"].createElement("div",{style:a(o.wrapper)},i["default"].createElement("span",{style:a(o.line)}))};c.propTypes=l,c.contextTypes=u,e.PlainStepConnector=c,e["default"]=(0,s["default"])(c)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1153),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){var r=e.muiTheme,o=r.baseTheme.spacing.desktopSubheaderHeight,i=r.zIndex,a=n.open,s={root:{position:"fixed",left:0,display:"flex",right:0,bottom:0,zIndex:i.snackbar,visibility:a?"visible":"hidden",transform:a?"translate(0, 0)":"translate(0, "+o+"px)",transition:y["default"].easeOut("400ms","transform")+", "+y["default"].easeOut("400ms","visibility")}};return s}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(799),y=r(m),v=n(1041),g=r(v),b=n(1154),_=r(b),x=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.componentClickAway=function(){r.timerTransitionId||(null!==r.props.open&&r.props.onRequestClose?r.props.onRequestClose("clickaway"):r.setState({open:!1}))},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentWillMount",value:function(){this.setState({open:this.props.open,message:this.props.message,action:this.props.action})}},{key:"componentDidMount",value:function(){this.state.open&&(this.setAutoHideTimer(),this.setTransitionTimer())}},{key:"componentWillReceiveProps",value:function(t){var e=this;if(this.props.open&&t.open&&(t.message!==this.props.message||t.action!==this.props.action))this.setState({open:!1}),clearTimeout(this.timerOneAtTheTimeId),this.timerOneAtTheTimeId=setTimeout(function(){e.setState({message:t.message,action:t.action,open:!0})},400);else{var n=t.open;this.setState({open:null!==n?n:this.state.open,message:t.message,action:t.action})}}},{key:"componentDidUpdate",value:function(t,e){e.open!==this.state.open&&(this.state.open?(this.setAutoHideTimer(),this.setTransitionTimer()):clearTimeout(this.timerAutoHideId))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerAutoHideId),clearTimeout(this.timerTransitionId),clearTimeout(this.timerOneAtTheTimeId)}},{key:"setAutoHideTimer",value:function(){var t=this,e=this.props.autoHideDuration;e>0&&(clearTimeout(this.timerAutoHideId),this.timerAutoHideId=setTimeout(function(){null!==t.props.open&&t.props.onRequestClose?t.props.onRequestClose("timeout"):t.setState({open:!1})},e))}},{key:"setTransitionTimer",value:function(){var t=this;this.timerTransitionId=setTimeout(function(){t.timerTransitionId=void 0},400)}},{key:"render",value:function(){var t=this.props,e=(t.autoHideDuration,t.message,t.onRequestClose,t.onActionTouchTap),n=t.style,r=t.bodyStyle,i=o(t,["autoHideDuration","message","onRequestClose","onActionTouchTap","style","bodyStyle"]),a=this.state,s=a.action,c=a.message,f=a.open,h=this.context.muiTheme.prepareStyles,m=l(this.props,this.context,this.state);return d["default"].createElement(g["default"],{onClickAway:f&&this.componentClickAway},d["default"].createElement("div",u({},i,{style:h((0,p["default"])(m.root,n))}),d["default"].createElement(_["default"],{open:f,message:c,action:s,style:r,onActionTouchTap:e})))}}]),e}(h.Component);x.propTypes={action:h.PropTypes.node,autoHideDuration:h.PropTypes.number,bodyStyle:h.PropTypes.object,className:h.PropTypes.string,message:h.PropTypes.node.isRequired,onActionTouchTap:h.PropTypes.func,onRequestClose:h.PropTypes.func,open:h.PropTypes.bool.isRequired,style:h.PropTypes.object},x.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){var n=t.open,r=t.width,o=e.muiTheme,i=o.baseTheme,a=i.spacing,s=a.desktopGutter,l=a.desktopSubheaderHeight,u=i.fontFamily,c=o.snackbar,f=c.backgroundColor,d=c.textColor,m=c.actionColor,y=r===h.SMALL,v={root:{fontFamily:u,backgroundColor:f,padding:"0 "+s+"px",height:l,lineHeight:l+"px",borderRadius:y?0:2,maxWidth:y?"inherit":568,minWidth:y?"inherit":288,flexGrow:y?1:0,margin:"auto"},content:{fontSize:14,color:d,opacity:n?1:0,transition:n?p["default"].easeOut("500ms","opacity","100ms"):p["default"].easeOut("400ms","opacity")},action:{color:m,"float":"right",marginTop:6,marginRight:-16,marginLeft:s,backgroundColor:"transparent"}};return v}Object.defineProperty(e,"__esModule",{value:!0}),e.SnackbarBody=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(798),l=r(s),u=n(316),c=r(u),f=n(799),p=r(f),h=n(1155),d=r(h),m=n(1103),y=r(m),v=e.SnackbarBody=function(t,e){var n=(t.open,t.action),r=t.message,s=t.onActionTouchTap,u=t.style,f=o(t,["open","action","message","onActionTouchTap","style"]),p=e.muiTheme.prepareStyles,h=i(t,e),d=n&&c["default"].createElement(y["default"],{style:h.action,label:n,onTouchTap:s});return c["default"].createElement("div",a({},f,{style:p((0,l["default"])(h.root,u))}),c["default"].createElement("div",{style:p(h.content)},c["default"].createElement("span",null,r),d))};v.propTypes={action:u.PropTypes.node,message:u.PropTypes.node.isRequired,onActionTouchTap:u.PropTypes.func,open:u.PropTypes.bool.isRequired,style:u.PropTypes.object,width:u.PropTypes.number.isRequired},v.contextTypes={muiTheme:u.PropTypes.object.isRequired},e["default"]=(0,d["default"])()(v)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.largeWidth,n=void 0===e?992:e,r=t.mediumWidth,s=void 0===r?768:r,p=t.resizeInterval,v=void 0===p?166:p;return function(t){return function(e){function r(){var t,e,n,a;o(this,r);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return e=n=i(this,(t=Object.getPrototypeOf(r)).call.apply(t,[this].concat(l))),n.state={width:d},n.handleResize=function(){clearTimeout(n.deferTimer),n.deferTimer=setTimeout(function(){n.updateWidth()},v)},a=e,i(n,a)}return a(r,e),u(r,[{key:"componentDidMount",value:function(){this.updateWidth()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.deferTimer)}},{key:"updateWidth",value:function(){var t=window.innerWidth,e=void 0;e=t>=n?y:t>=s?m:d,e!==this.state.width&&this.setState({width:e})}},{key:"render",value:function(){return f["default"].createElement(h["default"],{target:"window",onResize:this.handleResize},f["default"].createElement(t,l({},this.props,{width:this.state.width})))}}]),r}(c.Component)}}Object.defineProperty(e,"__esModule",{value:!0}),e.LARGE=e.MEDIUM=e.SMALL=void 0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e["default"]=s;var c=n(316),f=r(c),p=n(1024),h=r(p),d=e.SMALL=1,m=e.MEDIUM=2,y=e.LARGE=3},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.Tabs=e.Tab=void 0;var o=n(1157),i=r(o),a=n(1158),s=r(a);e.Tab=i["default"],e.Tabs=s["default"],e["default"]=s["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=e.muiTheme.tabs;return{root:{color:t.selected?n.selectedTextColor:n.textColor,fontWeight:500,fontSize:14,width:t.width,textTransform:"uppercase",padding:0},button:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:t.label&&t.icon?72:48}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(801),y=r(m),v=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.handleTouchTap=function(t){r.props.onTouchTap&&r.props.onTouchTap(r.props.value,t,r)},o=n,a(r,o)}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=t.icon,n=(t.index,t.onActive,t.onTouchTap,t.selected,t.label),r=t.style,i=(t.value,t.width,o(t,["icon","index","onActive","onTouchTap","selected","label","style","value","width"])),a=l(this.props,this.context),s=void 0;if(e&&d["default"].isValidElement(e)){var c={style:{fontSize:24,color:a.root.color,marginBottom:n?5:0}};"FontIcon"!==e.type.muiName&&(c.color=a.root.color),s=d["default"].cloneElement(e,c)}var f=.3,h=this.context.muiTheme.tabs.selectedTextColor;return d["default"].createElement(y["default"],u({},i,{style:(0,p["default"])(a.root,r),focusRippleColor:h,touchRippleColor:h,focusRippleOpacity:f,touchRippleOpacity:f,onTouchTap:this.handleTouchTap}),d["default"].createElement("div",{style:a.button},s,n))}}]),e}(h.Component);v.muiName="Tab",v.propTypes={className:h.PropTypes.string,icon:h.PropTypes.node,index:h.PropTypes.any,label:h.PropTypes.node,onActive:h.PropTypes.func,onTouchTap:h.PropTypes.func,selected:h.PropTypes.bool,style:h.PropTypes.object,value:h.PropTypes.any,width:h.PropTypes.string},v.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=e.muiTheme.tabs;return{tabItemContainer:{width:"100%",backgroundColor:n.backgroundColor,whiteSpace:"nowrap"}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(345),y=r(m),v=n(1159),g=r(v),b=n(1160),_=r(b),x=n(308),w=(r(x),function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={selectedIndex:0},r.handleTabTouchTap=function(t,e,n){var o=r.getValueLink(r.props),i=n.props.index;(o.value&&o.value!==t||r.state.selectedIndex!==i)&&o.requestChange(t,e,n),r.setState({selectedIndex:i}),n.props.onActive&&n.props.onActive(n)},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentWillMount",value:function(){var t=this.getValueLink(this.props),e=this.props.initialSelectedIndex;this.setState({selectedIndex:void 0!==t.value?this.getSelectedIndex(this.props):e<this.getTabCount()?e:0})}},{key:"componentWillReceiveProps",value:function(t,e){var n=this.getValueLink(t),r={muiTheme:e.muiTheme||this.context.muiTheme};void 0!==n.value&&(r.selectedIndex=this.getSelectedIndex(t)),this.setState(r)}},{key:"getEvenWidth",value:function(){return parseInt(window.getComputedStyle(y["default"].findDOMNode(this)).getPropertyValue("width"),10)}},{key:"getTabs",value:function(){var t=[];return d["default"].Children.forEach(this.props.children,function(e){d["default"].isValidElement(e)&&t.push(e)}),t}},{key:"getTabCount",value:function(){return this.getTabs().length}},{key:"getValueLink",value:function(t){return t.valueLink||{value:t.value,requestChange:t.onChange}}},{key:"getSelectedIndex",value:function(t){var e=this.getValueLink(t),n=-1;return this.getTabs().forEach(function(t,r){e.value===t.props.value&&(n=r)}),n}},{key:"getSelected",value:function(t,e){var n=this.getValueLink(this.props);return n.value?n.value===t.props.value:this.state.selectedIndex===e}},{key:"render",value:function(){var t=this,e=this.props,n=e.contentContainerClassName,r=e.contentContainerStyle,i=(e.initialSelectedIndex,e.inkBarStyle),a=e.style,s=e.tabItemContainerStyle,c=e.tabTemplate,f=o(e,["contentContainerClassName","contentContainerStyle","initialSelectedIndex","inkBarStyle","style","tabItemContainerStyle","tabTemplate"]),h=this.context.muiTheme.prepareStyles,m=l(this.props,this.context),y=this.getValueLink(this.props),v=(y.value,[]),b=100/this.getTabCount(),x=this.getTabs().map(function(e,n){return v.push(e.props.children?d["default"].createElement(c||g["default"],{key:n,selected:t.getSelected(e,n)},e.props.children):void 0),d["default"].cloneElement(e,{key:n,index:n,selected:t.getSelected(e,n),width:b+"%",onTouchTap:t.handleTabTouchTap})}),w=this.state.selectedIndex!==-1?d["default"].createElement(_["default"],{left:b*this.state.selectedIndex+"%",width:b+"%",style:i}):null,T=s?s.width:"100%";return d["default"].createElement("div",u({},f,{style:h((0,p["default"])({},a))}),d["default"].createElement("div",{style:h((0,p["default"])(m.tabItemContainer,s))},x),d["default"].createElement("div",{style:{width:T}},w),d["default"].createElement("div",{style:h((0,p["default"])({},r)),className:n},v))}}]),e}(h.Component));w.propTypes={children:h.PropTypes.node,className:h.PropTypes.string,contentContainerClassName:h.PropTypes.string,contentContainerStyle:h.PropTypes.object,initialSelectedIndex:h.PropTypes.number,inkBarStyle:h.PropTypes.object,onChange:h.PropTypes.func,style:h.PropTypes.object,tabItemContainerStyle:h.PropTypes.object,tabTemplate:h.PropTypes.func,value:h.PropTypes.any},w.defaultProps={initialSelectedIndex:0,onChange:function(){}},w.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(316),u=r(l),c=function(t){function e(){return o(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){var t={width:"100%",position:"relative",textAlign:"initial"};return this.props.selected||(t.height=0,t.overflow="hidden"),u["default"].createElement("div",{style:t},this.props.children)}}]),e}(l.Component);c.propTypes={children:l.PropTypes.node,selected:l.PropTypes.bool},e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n=e.muiTheme.inkBar;return{root:{left:t.left,width:t.width,bottom:0,display:"block",backgroundColor:t.color||n.backgroundColor,height:2,marginTop:-2,position:"relative",transition:d["default"].easeOut("1s","left")}}}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(798),c=r(u),f=n(316),p=r(f),h=n(799),d=r(h),m=function(t){function e(){return o(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),l(e,[{key:"render",value:function(){var t=this.props.style,e=this.context.muiTheme.prepareStyles,n=s(this.props,this.context);return p["default"].createElement("div",{style:e((0,c["default"])(n.root,t))})}}]),e}(f.Component);m.propTypes={color:f.PropTypes.string,left:f.PropTypes.string.isRequired,style:f.PropTypes.object,width:f.PropTypes.string.isRequired},m.contextTypes={muiTheme:f.PropTypes.object.isRequired},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.TableRowColumn=e.TableRow=e.TableHeaderColumn=e.TableHeader=e.TableFooter=e.TableBody=e.Table=void 0;var o=n(1162),i=r(o),a=n(1163),s=r(a),l=n(1165),u=r(l),c=n(1166),f=r(c),p=n(1167),h=r(p),d=n(1168),m=r(d),y=n(1164),v=r(y);e.Table=i["default"],e.TableBody=s["default"],e.TableFooter=u["default"],e.TableHeader=f["default"],e.TableHeaderColumn=h["default"],e.TableRow=m["default"],e.TableRowColumn=v["default"],e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n=e.muiTheme,r=n.baseTheme,o=n.table;return{root:{backgroundColor:o.backgroundColor,padding:"0 "+r.spacing.desktopGutter+"px",width:"100%",borderCollapse:"collapse",borderSpacing:0,tableLayout:"fixed",fontFamily:r.fontFamily},bodyTable:{height:t.fixedHeader||t.fixedFooter?t.height:"auto",overflowX:"hidden",overflowY:"auto"},tableWrapper:{height:t.fixedHeader||t.fixedFooter?"auto":t.height,overflow:"auto"}}}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(798),c=r(u),f=n(316),p=r(f),h=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={allRowsSelected:!1},r.onCellClick=function(t,e,n){r.props.onCellClick&&r.props.onCellClick(t,e,n)},r.onCellHover=function(t,e,n){r.props.onCellHover&&r.props.onCellHover(t,e,n)},r.onCellHoverExit=function(t,e,n){r.props.onCellHoverExit&&r.props.onCellHoverExit(t,e,n)},r.onRowHover=function(t){r.props.onRowHover&&r.props.onRowHover(t)},r.onRowHoverExit=function(t){r.props.onRowHoverExit&&r.props.onRowHoverExit(t)},r.onRowSelection=function(t){r.state.allRowsSelected&&r.setState({allRowsSelected:!1}),r.props.onRowSelection&&r.props.onRowSelection(t)},r.onSelectAll=function(){r.props.onRowSelection&&(r.state.allRowsSelected?r.props.onRowSelection("none"):r.props.onRowSelection("all")),r.setState({allRowsSelected:!r.state.allRowsSelected})},a=n,i(r,a)}return a(e,t),l(e,[{key:"componentWillMount",value:function(){this.props.allRowsSelected&&this.setState({allRowsSelected:!0})}},{key:"isScrollbarVisible",value:function(){var t=this.refs.tableDiv.clientHeight,e=this.refs.tableBody.clientHeight;return e>t}},{key:"createTableHeader",value:function(t){return p["default"].cloneElement(t,{enableSelectAll:t.props.enableSelectAll&&this.props.selectable&&this.props.multiSelectable,onSelectAll:this.onSelectAll,selectAllSelected:this.state.allRowsSelected})}},{key:"createTableBody",value:function(t){return p["default"].cloneElement(t,{allRowsSelected:this.state.allRowsSelected,multiSelectable:this.props.multiSelectable,onCellClick:this.onCellClick,onCellHover:this.onCellHover,onCellHoverExit:this.onCellHoverExit,onRowHover:this.onRowHover,onRowHoverExit:this.onRowHoverExit,onRowSelection:this.onRowSelection,selectable:this.props.selectable,style:(0,c["default"])({height:this.props.height},t.props.style)})}},{key:"createTableFooter",value:function(t){return t}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,r=e.className,o=e.fixedFooter,i=e.fixedHeader,a=e.style,l=e.wrapperStyle,u=e.headerStyle,f=e.bodyStyle,h=e.footerStyle,d=this.context.muiTheme.prepareStyles,m=s(this.props,this.context),y=void 0,v=void 0,g=void 0;if(p["default"].Children.forEach(n,function(e){if(p["default"].isValidElement(e)){var n=e.type.muiName;"TableBody"===n?g=t.createTableBody(e):"TableHeader"===n?y=t.createTableHeader(e):"TableFooter"===n&&(v=t.createTableFooter(e))}}),!g&&!y)return null;var b=(0,c["default"])(m.root,a),_=void 0,x=void 0,w=void 0,T=void 0;return i?_=p["default"].createElement("div",{style:d((0,c["default"])({},u))},p["default"].createElement("table",{className:r,style:b},y)):w=y,void 0!==v&&(o?x=p["default"].createElement("div",{style:d((0,c["default"])({},h))},p["default"].createElement("table",{className:r,style:d(b)},v)):T=v),p["default"].createElement("div",{style:d((0,c["default"])(m.tableWrapper,l))},_,p["default"].createElement("div",{style:d((0,c["default"])(m.bodyTable,f)),ref:"tableDiv"},p["default"].createElement("table",{className:r,style:b,ref:"tableBody"},w,T,g)),x)}}]),e}(f.Component);h.propTypes={allRowsSelected:f.PropTypes.bool,bodyStyle:f.PropTypes.object,children:f.PropTypes.node,className:f.PropTypes.string,fixedFooter:f.PropTypes.bool,fixedHeader:f.PropTypes.bool,footerStyle:f.PropTypes.object,headerStyle:f.PropTypes.object,height:f.PropTypes.string,multiSelectable:f.PropTypes.bool,onCellClick:f.PropTypes.func,onCellHover:f.PropTypes.func,onCellHoverExit:f.PropTypes.func,onRowHover:f.PropTypes.func,onRowHoverExit:f.PropTypes.func,onRowSelection:f.PropTypes.func,selectable:f.PropTypes.bool,style:f.PropTypes.object,wrapperStyle:f.PropTypes.object},h.defaultProps={allRowsSelected:!1,fixedFooter:!0,fixedHeader:!0,height:"inherit",multiSelectable:!1,selectable:!0},h.contextTypes={muiTheme:f.PropTypes.object.isRequired},e["default"]=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(1087),y=r(m),v=n(1164),g=r(v),b=n(1041),_=r(b),x=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={selectedRows:[]},r.handleClickAway=function(){r.props.deselectOnClickaway&&r.state.selectedRows.length&&(r.setState({selectedRows:[]}),r.props.onRowSelection&&r.props.onRowSelection([]))},r.onRowClick=function(t,e){t.stopPropagation(),r.props.selectable&&(window.getSelection().removeAllRanges(),r.processRowSelection(t,e))},r.onCellClick=function(t,e,n){t.stopPropagation(),r.props.onCellClick&&r.props.onCellClick(e,r.getColumnId(n),t)},r.onCellHover=function(t,e,n){r.props.onCellHover&&r.props.onCellHover(e,r.getColumnId(n),t),r.onRowHover(t,e)},r.onCellHoverExit=function(t,e,n){r.props.onCellHoverExit&&r.props.onCellHoverExit(e,r.getColumnId(n),t),r.onRowHoverExit(t,e)},r.onRowHover=function(t,e){r.props.onRowHover&&r.props.onRowHover(e)},r.onRowHoverExit=function(t,e){r.props.onRowHoverExit&&r.props.onRowHoverExit(e)},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentWillMount",value:function(){this.setState({selectedRows:this.calculatePreselectedRows(this.props)})}},{key:"componentWillReceiveProps",value:function(t){this.props.allRowsSelected&&!t.allRowsSelected?this.setState({selectedRows:this.state.selectedRows.length>0?[this.state.selectedRows[this.state.selectedRows.length-1]]:[]}):this.setState({selectedRows:this.calculatePreselectedRows(t)})}},{key:"createRows",value:function(){var t=this,e=d["default"].Children.count(this.props.children),n=0,r={onCellClick:this.onCellClick,onCellHover:this.onCellHover,onCellHoverExit:this.onCellHoverExit,onRowHover:this.onRowHover,onRowHoverExit:this.onRowHoverExit,onRowClick:this.onRowClick};return d["default"].Children.map(this.props.children,function(o){if(d["default"].isValidElement(o)){var i=function(){var i={hoverable:t.props.showRowHover,selected:t.isRowSelected(n),striped:t.props.stripedRows&&n%2===0,rowNumber:n++};n===e&&(i.displayBorder=!1);var a=[t.createRowCheckboxColumn(i)];return d["default"].Children.forEach(o.props.children,function(t){a.push(t)}),{v:d["default"].cloneElement(o,u({},i,r),a)}}();if("object"===("undefined"==typeof i?"undefined":l(i)))return i.v}})}},{key:"createRowCheckboxColumn",value:function(t){if(!this.props.displayRowCheckbox)return null;var e=t.rowNumber+"-cb",n=!this.props.selectable,r=d["default"].createElement(y["default"],{ref:"rowSelectCB",name:e,value:"selected",disabled:n,checked:t.selected});return d["default"].createElement(g["default"],{key:e,columnNumber:0,style:{width:24,cursor:n?"not-allowed":"inherit"}},r)}},{key:"calculatePreselectedRows",value:function(t){var e=[];return t.selectable&&t.preScanRows&&!function(){var n=0;d["default"].Children.forEach(t.children,function(r){d["default"].isValidElement(r)&&(r.props.selected&&(0===e.length||t.multiSelectable)&&e.push(n),n++)})}(),e}},{key:"isRowSelected",value:function(t){if(this.props.allRowsSelected)return!0;for(var e=0;e<this.state.selectedRows.length;e++){var n=this.state.selectedRows[e];if("object"===("undefined"==typeof n?"undefined":l(n))){if(this.isValueInRange(t,n))return!0}else if(n===t)return!0}return!1}},{key:"isValueInRange",value:function(t,e){return!!e&&(e.start<=t&&t<=e.end||e.end<=t&&t<=e.start)}},{key:"processRowSelection",value:function(t,e){var n=this.state.selectedRows;if(t.shiftKey&&this.props.multiSelectable&&n.length){var r=n.length-1,i=n[r];"object"===("undefined"==typeof i?"undefined":l(i))?i.end=e:n.splice(r,1,{start:i,end:e})}else if((t.ctrlKey&&!t.metaKey||t.metaKey&&!t.ctrlKey)&&this.props.multiSelectable){var a=n.indexOf(e);if(a<0){for(var s=!1,u=0;u<n.length;u++){var c=n[u];if("object"===("undefined"==typeof c?"undefined":l(c))&&this.isValueInRange(e,c)){var f;s=!0;var p=this.splitRange(c,e);(f=n).splice.apply(f,[u,1].concat(o(p)))}}s||n.push(e)}else n.splice(a,1)}else n=1===n.length&&n[0]===e?[]:[e];this.setState({selectedRows:n}),this.props.onRowSelection&&this.props.onRowSelection(this.flattenRanges(n))}},{key:"splitRange",value:function(t,e){var n=[],r=t.start-e,i=t.end-e;return n.push.apply(n,o(this.genRangeOfValues(e,r))),n.push.apply(n,o(this.genRangeOfValues(e,i))),n}},{key:"genRangeOfValues",value:function(t,e){for(var n=[],r=e>0?-1:1;0!==e;)n.push(t+e),e+=r;return n}},{key:"flattenRanges",value:function(t){var e=[],n=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if("object"===("undefined"==typeof u?"undefined":l(u))){var c=this.genRangeOfValues(u.end,u.start-u.end);e.push.apply(e,[u.end].concat(o(c)))}else e.push(u)}}catch(f){r=!0,i=f}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw i}}return e.sort()}},{key:"getColumnId",value:function(t){var e=t;return this.props.displayRowCheckbox&&e--,e}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.style,r=this.context.muiTheme.prepareStyles;return d["default"].createElement(_["default"],{onClickAway:this.handleClickAway},d["default"].createElement("tbody",{className:e,style:r((0,p["default"])({},n))},this.createRows()))}}]),e}(h.Component);x.muiName="TableBody",x.propTypes={allRowsSelected:h.PropTypes.bool,children:h.PropTypes.node,className:h.PropTypes.string,deselectOnClickaway:h.PropTypes.bool,displayRowCheckbox:h.PropTypes.bool,multiSelectable:h.PropTypes.bool,onCellClick:h.PropTypes.func,onCellHover:h.PropTypes.func,onCellHoverExit:h.PropTypes.func,onRowHover:h.PropTypes.func,onRowHoverExit:h.PropTypes.func,onRowSelection:h.PropTypes.func,preScanRows:h.PropTypes.bool,selectable:h.PropTypes.bool,showRowHover:h.PropTypes.bool,stripedRows:h.PropTypes.bool,style:h.PropTypes.object},x.defaultProps={allRowsSelected:!1,deselectOnClickaway:!0,displayRowCheckbox:!0,multiSelectable:!1,preScanRows:!0,selectable:!0,style:{}},x.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=e.muiTheme.tableRowColumn,r={root:{paddingLeft:n.spacing,paddingRight:n.spacing,height:n.height,textAlign:"left",fontSize:13,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}};return 1!==d["default"].Children.count(t.children)||isNaN(t.children)||(r.textAlign="right"),r}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={hovered:!1},r.onClick=function(t){r.props.onClick&&r.props.onClick(t,r.props.columnNumber)},r.onMouseEnter=function(t){r.props.hoverable&&(r.setState({hovered:!0}),r.props.onHover&&r.props.onHover(t,r.props.columnNumber))},r.onMouseLeave=function(t){r.props.hoverable&&(r.setState({hovered:!1}),r.props.onHoverExit&&r.props.onHoverExit(t,r.props.columnNumber))},o=n,a(r,o)}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,r=(t.columnNumber,t.hoverable,t.onClick,t.onHover,t.onHoverExit,t.style),i=o(t,["children","className","columnNumber","hoverable","onClick","onHover","onHoverExit","style"]),a=this.context.muiTheme.prepareStyles,s=l(this.props,this.context),c={onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave};return d["default"].createElement("td",u({className:n,style:a((0,p["default"])(s.root,r))},c,i),e)}}]),e}(h.Component);m.propTypes={children:h.PropTypes.node,className:h.PropTypes.string,columnNumber:h.PropTypes.number,hoverable:h.PropTypes.bool,onClick:h.PropTypes.func,onHover:h.PropTypes.func,onHoverExit:h.PropTypes.func,style:h.PropTypes.object},m.defaultProps={hoverable:!1},m.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){var n=e.muiTheme.tableFooter;return{cell:{borderTop:"1px solid "+n.borderColor,verticalAlign:"bottom",padding:20,textAlign:"left",whiteSpace:"nowrap"}}}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=n(798),h=r(p),d=n(316),m=r(d),y=n(1164),v=r(y),g=function(t){function e(){return a(this,e),s(this,Object.getPrototypeOf(e).apply(this,arguments))}return l(e,t),f(e,[{key:"render",value:function(){var t=this.props,e=t.adjustForCheckbox,n=t.children,r=t.className,a=t.style,s=i(t,["adjustForCheckbox","children","className","style"]),l=this.context.muiTheme.prepareStyles,f=u(this.props,this.context),p=m["default"].Children.map(n,function(t,n){var r={displayBorder:!1,key:"f-"+n,rowNumber:n,style:(0,h["default"])({},f.cell,t.props.style)},i=void 0;return e&&(i=[m["default"].createElement(v["default"],{key:"fpcb"+n,style:{width:24}})].concat(o(m["default"].Children.toArray(t.props.children)))),m["default"].cloneElement(t,r,i)});return m["default"].createElement("tfoot",c({className:r,style:l((0,h["default"])({},a))},s),p)}}]),e}(d.Component);g.muiName="TableFooter",g.propTypes={adjustForCheckbox:d.PropTypes.bool,children:d.PropTypes.node,className:d.PropTypes.string,style:d.PropTypes.object},g.defaultProps={adjustForCheckbox:!0,style:{}},g.contextTypes={muiTheme:d.PropTypes.object.isRequired},e["default"]=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n=e.muiTheme.tableHeader;return{root:{borderBottom:"1px solid "+n.borderColor}}}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(798),c=r(u),f=n(316),p=r(f),h=n(1087),d=r(h),m=n(1167),y=r(m),v=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.handleCheckAll=function(t,e){r.props.onSelectAll&&r.props.onSelectAll(e)},a=n,i(r,a)}return a(e,t),l(e,[{key:"createSuperHeaderRows",value:function(){var t=p["default"].Children.count(this.props.children);if(1!==t){for(var e=[],n=0;n<t-1;n++){var r=this.props.children[n];if(p["default"].isValidElement(r)){var o={key:"sh"+n,rowNumber:n};e.push(this.createSuperHeaderRow(r,o))}}return e.length?e:void 0}}},{key:"createSuperHeaderRow",value:function(t,e){var n=[];return this.props.adjustForCheckbox&&n.push(this.getCheckboxPlaceholder(e)),p["default"].Children.forEach(t.props.children,function(t){n.push(t)}),p["default"].cloneElement(t,e,n)}},{key:"createBaseHeaderRow",value:function(){var t=p["default"].Children.count(this.props.children),e=1===t?this.props.children:this.props.children[t-1],n={key:"h"+t,rowNumber:t},r=[this.getSelectAllCheckboxColumn(n)];return p["default"].Children.forEach(e.props.children,function(t){r.push(t)}),p["default"].cloneElement(e,n,r)}},{key:"getCheckboxPlaceholder",value:function(t){if(!this.props.adjustForCheckbox)return null;var e=!this.props.enableSelectAll,n="hpcb"+t.rowNumber;return p["default"].createElement(y["default"],{
key:n,style:{width:24,cursor:e?"not-allowed":"inherit"}})}},{key:"getSelectAllCheckboxColumn",value:function(t){if(!this.props.displaySelectAll)return this.getCheckboxPlaceholder(t);var e=!this.props.enableSelectAll,n=p["default"].createElement(d["default"],{key:"selectallcb",name:"selectallcb",value:"selected",disabled:e,checked:this.props.selectAllSelected,onCheck:this.handleCheckAll}),r="hpcb"+t.rowNumber;return p["default"].createElement(y["default"],{key:r,style:{width:24,cursor:e?"not-allowed":"inherit"}},n)}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.style,r=this.context.muiTheme.prepareStyles,o=s(this.props,this.context),i=this.createSuperHeaderRows(),a=this.createBaseHeaderRow();return p["default"].createElement("thead",{className:e,style:r((0,c["default"])(o.root,n))},i,a)}}]),e}(f.Component);v.muiName="TableHeader",v.propTypes={adjustForCheckbox:f.PropTypes.bool,children:f.PropTypes.node,className:f.PropTypes.string,displaySelectAll:f.PropTypes.bool,enableSelectAll:f.PropTypes.bool,onSelectAll:f.PropTypes.func,selectAllSelected:f.PropTypes.bool,style:f.PropTypes.object},v.defaultProps={adjustForCheckbox:!0,displaySelectAll:!0,enableSelectAll:!0,selectAllSelected:!1},v.contextTypes={muiTheme:f.PropTypes.object.isRequired},e["default"]=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=e.muiTheme.tableHeaderColumn;return{root:{fontWeight:"normal",fontSize:12,paddingLeft:n.spacing,paddingRight:n.spacing,height:n.height,textAlign:"left",whiteSpace:"nowrap",textOverflow:"ellipsis",color:n.textColor,position:"relative"},tooltip:{boxSizing:"border-box",marginTop:n.height/2}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(821),y=r(m),v=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={hovered:!1},r.onMouseEnter=function(){void 0!==r.props.tooltip&&r.setState({hovered:!0})},r.onMouseLeave=function(){void 0!==r.props.tooltip&&r.setState({hovered:!1})},r.onClick=function(t){r.props.onClick&&r.props.onClick(t,r.props.columnNumber)},o=n,a(r,o)}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,r=(t.columnNumber,t.hoverable,t.onClick,t.onHover,t.onHoverExit,t.style),i=t.tooltip,a=t.tooltipStyle,s=o(t,["children","className","columnNumber","hoverable","onClick","onHover","onHoverExit","style","tooltip","tooltipStyle"]),c=this.context.muiTheme.prepareStyles,f=l(this.props,this.context),h={onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick},m=void 0;return void 0!==i&&(m=d["default"].createElement(y["default"],{label:i,show:this.state.hovered,style:(0,p["default"])(f.tooltip,a)})),d["default"].createElement("th",u({className:n,style:c((0,p["default"])(f.root,r))},h,s),m,e)}}]),e}(h.Component);v.propTypes={children:h.PropTypes.node,className:h.PropTypes.string,columnNumber:h.PropTypes.number,hoverable:h.PropTypes.bool,onClick:h.PropTypes.func,onHover:h.PropTypes.func,onHoverExit:h.PropTypes.func,style:h.PropTypes.object,tooltip:h.PropTypes.string,tooltipStyle:h.PropTypes.object},v.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){var r=e.muiTheme.tableRow,o="inherit";return t.hovered||n.hovered?o=r.hoverColor:t.selected?o=r.selectedColor:t.striped&&(o=r.stripeColor),{root:{borderBottom:t.displayBorder&&"1px solid "+r.borderColor,color:r.textColor,height:r.height},cell:{backgroundColor:o}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={hovered:!1},r.onCellClick=function(t,e){r.props.selectable&&r.props.onCellClick&&r.props.onCellClick(t,r.props.rowNumber,e),t.ctrlKey=!0,r.onRowClick(t)},r.onCellHover=function(t,e){r.props.hoverable&&(r.setState({hovered:!0}),r.props.onCellHover&&r.props.onCellHover(t,r.props.rowNumber,e),r.onRowHover(t))},r.onCellHoverExit=function(t,e){r.props.hoverable&&(r.setState({hovered:!1}),r.props.onCellHoverExit&&r.props.onCellHoverExit(t,r.props.rowNumber,e),r.onRowHoverExit(t))},o=n,a(r,o)}return s(e,t),c(e,[{key:"onRowClick",value:function(t){this.props.selectable&&this.props.onRowClick&&this.props.onRowClick(t,this.props.rowNumber)}},{key:"onRowHover",value:function(t){this.props.onRowHover&&this.props.onRowHover(t,this.props.rowNumber)}},{key:"onRowHoverExit",value:function(t){this.props.onRowHoverExit&&this.props.onRowHoverExit(t,this.props.rowNumber)}},{key:"render",value:function(){var t=this,e=this.props,n=e.className,r=(e.displayBorder,e.hoverable,e.hovered,e.onCellClick,e.onCellHover,e.onCellHoverExit,e.onRowClick,e.onRowHover,e.onRowHoverExit,e.rowNumber,e.selectable,e.selected,e.striped,e.style),i=o(e,["className","displayBorder","hoverable","hovered","onCellClick","onCellHover","onCellHoverExit","onRowClick","onRowHover","onRowHoverExit","rowNumber","selectable","selected","striped","style"]),a=this.context.muiTheme.prepareStyles,s=l(this.props,this.context,this.state),c=d["default"].Children.map(this.props.children,function(e,n){if(d["default"].isValidElement(e))return d["default"].cloneElement(e,{columnNumber:n,hoverable:t.props.hoverable,key:t.props.rowNumber+"-"+n,onClick:t.onCellClick,onHover:t.onCellHover,onHoverExit:t.onCellHoverExit,style:(0,p["default"])({},s.cell,e.props.style)})});return d["default"].createElement("tr",u({className:n,style:a((0,p["default"])(s.root,r))},i),c)}}]),e}(h.Component);m.propTypes={children:h.PropTypes.node,className:h.PropTypes.string,displayBorder:h.PropTypes.bool,hoverable:h.PropTypes.bool,hovered:h.PropTypes.bool,onCellClick:h.PropTypes.func,onCellHover:h.PropTypes.func,onCellHoverExit:h.PropTypes.func,onRowClick:h.PropTypes.func,onRowHover:h.PropTypes.func,onRowHoverExit:h.PropTypes.func,rowNumber:h.PropTypes.number,selectable:h.PropTypes.bool,selected:h.PropTypes.bool,striped:h.PropTypes.bool,style:h.PropTypes.object},m.defaultProps={displayBorder:!0,hoverable:!1,hovered:!1,selectable:!0,selected:!1,striped:!1},m.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1170),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=n(308),m=(r(d),n(1171)),y=r(m),v=n(1021),g=r(v),b=n(1176),_=new Date;_.setHours(0),_.setMinutes(0),_.setSeconds(0),_.setMilliseconds(0);var x=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={time:null,dialogTime:new Date},r.handleAcceptDialog=function(t){r.setState({time:t}),r.props.onChange&&r.props.onChange(null,t)},r.handleFocusInput=function(t){t.target.blur(),r.props.onFocus&&r.props.onFocus(t)},r.handleTouchTapInput=function(t){t.preventDefault(),r.props.disabled||r.openDialog(),r.props.onTouchTap&&r.props.onTouchTap(t)},o=n,a(r,o)}return s(e,t),u(e,[{key:"componentWillMount",value:function(){this.setState({time:this.isControlled()?this.getControlledTime():this.props.defaultTime})}},{key:"componentWillReceiveProps",value:function(t){t.value!==this.props.value&&this.setState({time:this.getControlledTime(t)})}},{key:"getTime",value:function(){return this.state.time}},{key:"setTime",value:function(t){this.setState({time:t?t:_})}},{key:"focus",value:function(){this.openDialog()}},{key:"openDialog",value:function(){this.setState({dialogTime:this.state.time}),this.refs.dialogWindow.show()}},{key:"isControlled",value:function(){return null!==this.props.value}},{key:"getControlledTime",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],e=null;return t.value instanceof Date&&(e=t.value),e}},{key:"render",value:function(){var t=this.props,e=t.autoOk,n=t.cancelLabel,r=(t.defaultTime,t.dialogBodyStyle),i=t.dialogStyle,a=t.format,s=t.okLabel,u=(t.onFocus,t.onTouchTap,t.onShow),c=t.onDismiss,p=t.pedantic,d=t.style,m=t.textFieldStyle,v=o(t,["autoOk","cancelLabel","defaultTime","dialogBodyStyle","dialogStyle","format","okLabel","onFocus","onTouchTap","onShow","onDismiss","pedantic","style","textFieldStyle"]),x=this.context.muiTheme.prepareStyles,w=this.state.time;return h["default"].createElement("div",{style:x((0,f["default"])({},d))},h["default"].createElement(g["default"],l({},v,{style:m,ref:"input",value:w===_?null:(0,b.formatTime)(w,a,p),onFocus:this.handleFocusInput,onTouchTap:this.handleTouchTapInput})),h["default"].createElement(y["default"],{ref:"dialogWindow",bodyStyle:r,initialTime:this.state.dialogTime,onAccept:this.handleAcceptDialog,onShow:u,onDismiss:c,format:a,okLabel:s,cancelLabel:n,autoOk:e,style:i}))}}]),e}(p.Component);x.propTypes={autoOk:p.PropTypes.bool,cancelLabel:p.PropTypes.node,defaultTime:p.PropTypes.object,dialogBodyStyle:p.PropTypes.object,dialogStyle:p.PropTypes.object,disabled:p.PropTypes.bool,format:p.PropTypes.oneOf(["ampm","24hr"]),okLabel:p.PropTypes.node,onChange:p.PropTypes.func,onDismiss:p.PropTypes.func,onFocus:p.PropTypes.func,onShow:p.PropTypes.func,onTouchTap:p.PropTypes.func,pedantic:p.PropTypes.bool,style:p.PropTypes.object,textFieldStyle:p.PropTypes.object,value:p.PropTypes.object},x.defaultProps={autoOk:!1,cancelLabel:"Cancel",defaultTime:null,disabled:!1,format:"ampm",okLabel:"OK",pedantic:!1,style:{},value:null},x.contextTypes={muiTheme:p.PropTypes.object.isRequired},e["default"]=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(798),f=r(c),p=n(316),h=r(p),d=n(1024),m=r(d),y=n(806),v=r(y),g=n(1172),b=r(g),_=n(1116),x=r(_),w=n(1103),T=r(w),E=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={open:!1},r.handleRequestClose=function(){r.dismiss()},r.handleTouchTapCancel=function(){r.dismiss()},r.handleTouchTapOK=function(){r.dismiss(),r.props.onAccept&&r.props.onAccept(r.refs.clock.getSelectedTime())},r.handleKeyUp=function(t){switch((0,v["default"])(t)){case"enter":r.handleTouchTapOK()}},o=n,a(r,o)}return s(e,t),u(e,[{key:"show",value:function(){this.props.onShow&&!this.state.open&&this.props.onShow(),this.setState({open:!0})}},{key:"dismiss",value:function(){this.props.onDismiss&&this.state.open&&this.props.onDismiss(),this.setState({open:!1})}},{key:"render",value:function(){var t=this.props,e=t.bodyStyle,n=t.initialTime,r=(t.onAccept,t.format),i=t.autoOk,a=t.okLabel,s=t.cancelLabel,u=t.style,c=o(t,["bodyStyle","initialTime","onAccept","format","autoOk","okLabel","cancelLabel","style"]),p={root:{fontSize:14,color:this.context.muiTheme.timePicker.clockColor},dialogContent:{width:280},body:{padding:0}},d=[h["default"].createElement(T["default"],{key:0,label:s,primary:!0,onTouchTap:this.handleTouchTapCancel}),h["default"].createElement(T["default"],{key:1,label:a,primary:!0,onTouchTap:this.handleTouchTapOK})],y=i===!0?this.handleTouchTapOK:void 0,v=this.state.open;return h["default"].createElement(x["default"],l({},c,{style:(0,f["default"])(p.root,u),bodyStyle:(0,f["default"])(p.body,e),actions:d,contentStyle:p.dialogContent,repositionOnUpdate:!1,open:v,onRequestClose:this.handleRequestClose}),v&&h["default"].createElement(m["default"],{target:"window",onKeyUp:this.handleKeyUp}),v&&h["default"].createElement(b["default"],{ref:"clock",format:r,initialTime:n,onChangeMinutes:y}))}}]),e}(p.Component);E.propTypes={autoOk:p.PropTypes.bool,bodyStyle:p.PropTypes.object,cancelLabel:p.PropTypes.node,format:p.PropTypes.oneOf(["ampm","24hr"]),initialTime:p.PropTypes.object,okLabel:p.PropTypes.node,onAccept:p.PropTypes.func,onDismiss:p.PropTypes.func,onShow:p.PropTypes.func,style:p.PropTypes.object},E.defaultProps={okLabel:"OK",cancelLabel:"Cancel"},E.contextTypes={muiTheme:p.PropTypes.object.isRequired},e["default"]=E},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(316),u=r(l),c=n(1173),f=r(c),p=n(1174),h=r(p),d=n(1178),m=r(d),y=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={selectedTime:null,mode:"hour"},r.setMode=function(t){setTimeout(function(){r.setState({mode:t})},100)},r.handleSelectAffix=function(t){if(t!==r.getAffix()){var e=r.state.selectedTime.getHours();return"am"===t?void r.handleChangeHours(e-12,t):void r.handleChangeHours(e+12,t)}},r.handleChangeHours=function(t,e){var n=new Date(r.state.selectedTime),o=void 0;"string"==typeof e&&(o=e,e=void 0),o||(o=r.getAffix()),"pm"===o&&t<12&&(t+=12),n.setHours(t),r.setState({selectedTime:n}),e&&setTimeout(function(){r.setState({mode:"minute"});var t=r.props.onChangeHours;t&&t(n)},100)},r.handleChangeMinutes=function(t){var e=new Date(r.state.selectedTime);e.setMinutes(t),r.setState({selectedTime:e});var n=r.props.onChangeMinutes;n&&setTimeout(function(){n(e)},0)},a=n,i(r,a)}return a(e,t),s(e,[{key:"componentWillMount",value:function(){this.setState({selectedTime:this.props.initialTime||new Date})}},{key:"getAffix",value:function(){if("ampm"!==this.props.format)return"";var t=this.state.selectedTime.getHours();return t<12?"am":"pm"}},{key:"getSelectedTime",value:function(){return this.state.selectedTime}},{key:"render",value:function(){var t=null,e=this.context.muiTheme,n=e.prepareStyles,r=e.timePicker,o={root:{userSelect:"none"},container:{height:280,padding:10,position:"relative",boxSizing:"content-box"},circle:{position:"absolute",top:20,width:260,height:260,borderRadius:"100%",backgroundColor:r.clockCircleColor}};return t="hour"===this.state.mode?u["default"].createElement(h["default"],{key:"hours",format:this.props.format,onChange:this.handleChangeHours,initialHours:this.state.selectedTime.getHours()}):u["default"].createElement(m["default"],{key:"minutes",onChange:this.handleChangeMinutes,initialMinutes:this.state.selectedTime.getMinutes()}),u["default"].createElement("div",{style:n(o.root)},u["default"].createElement(f["default"],{selectedTime:this.state.selectedTime,mode:this.state.mode,format:this.props.format,affix:this.getAffix(),onSelectAffix:this.handleSelectAffix,onSelectHour:this.setMode.bind(this,"hour"),onSelectMin:this.setMode.bind(this,"minute")}),u["default"].createElement("div",{style:n(o.container)},u["default"].createElement("div",{style:n(o.circle)}),t))}}]),e}(l.Component);y.propTypes={format:l.PropTypes.oneOf(["ampm","24hr"]),initialTime:l.PropTypes.object,onChangeHours:l.PropTypes.func,onChangeMinutes:l.PropTypes.func},y.defaultProps={initialTime:new Date},y.contextTypes={muiTheme:l.PropTypes.object.isRequired},e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={transitionDirection:"up"},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentWillReceiveProps",value:function(t){if(t.selectedTime!==this.props.selectedTime){var e=t.selectedTime>this.props.selectedTime?"up":"down";this.setState({transitionDirection:e})}}},{key:"sanitizeTime",value:function(){var t=this.props.selectedTime.getHours(),e=this.props.selectedTime.getMinutes().toString();return"ampm"===this.props.format&&(t%=12,t=t||12),t=t.toString(),t.length<2&&(t="0"+t),e.length<2&&(e="0"+e),[t,e]}},{key:"render",value:function(){var t=this.props,e=t.affix,n=t.format,r=t.mode,i=t.onSelectAffix,a=t.onSelectHour,s=t.onSelectMin,c=(t.selectedTime,o(t,["affix","format","mode","onSelectAffix","onSelectHour","onSelectMin","selectedTime"])),f=this.context.muiTheme,h=f.prepareStyles,m=f.timePicker,y={root:{padding:"14px 0",borderTopLeftRadius:2,borderTopRightRadius:2,backgroundColor:m.headerColor,color:"white"},text:{margin:"6px 0",lineHeight:"58px",height:58,fontSize:58,display:"flex",justifyContent:"center",alignItems:"baseline"},time:{margin:"0 10px"},affix:{flex:1,position:"relative",lineHeight:"17px",height:17,fontSize:17},affixTop:{position:"absolute",top:-20,left:0},clickable:{cursor:"pointer"},inactive:{opacity:.7}},v=this.sanitizeTime(),g=u(v,2),b=g[0],_=g[1],x=[];return"ampm"===n&&(x=[d["default"].createElement("div",{key:"pm",style:h((0,p["default"])({},y.clickable,"pm"===e?{}:y.inactive)),onTouchTap:function(){return i("pm")}},"PM"),d["default"].createElement("div",{key:"am",style:h((0,p["default"])({},y.affixTop,y.clickable,"am"===e?{}:y.inactive)),onTouchTap:function(){return i("am")}},"AM")]),d["default"].createElement("div",l({},c,{style:h(y.root)}),d["default"].createElement("div",{style:h(y.text)},d["default"].createElement("div",{style:h((0,p["default"])({},y.affix))}),d["default"].createElement("div",{style:h(y.time)},d["default"].createElement("span",{style:h((0,p["default"])({},y.clickable,"hour"===r?{}:y.inactive)),onTouchTap:a},b),d["default"].createElement("span",null,":"),d["default"].createElement("span",{style:h((0,p["default"])({},y.clickable,"minute"===r?{}:y.inactive)),onTouchTap:s},_)),d["default"].createElement("div",{style:h((0,p["default"])({},y.affix))},x)))}}]),e}(h.Component);m.propTypes={affix:h.PropTypes.oneOf(["","pm","am"]),format:h.PropTypes.oneOf(["ampm","24hr"]),mode:h.PropTypes.oneOf(["hour","minute"]),onSelectAffix:h.PropTypes.func,onSelectHour:h.PropTypes.func,onSelectMin:h.PropTypes.func,selectedTime:h.PropTypes.object.isRequired},m.defaultProps={affix:"",mode:"hour"},m.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(316),u=r(l),c=n(345),f=r(c),p=n(1175),h=r(p),d=n(1177),m=r(d),y=n(1176),v=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.handleUp=function(t){t.preventDefault(),r.setClock(t.nativeEvent,!0)},r.handleMove=function(t){t.preventDefault(),1===r.isMousePressed(t)&&r.setClock(t.nativeEvent,!1)},r.handleTouchMove=function(t){t.preventDefault(),r.setClock(t.changedTouches[0],!1)},r.handleTouchEnd=function(t){t.preventDefault(),r.setClock(t.changedTouches[0],!0)},a=n,i(r,a)}return a(e,t),s(e,[{key:"componentDidMount",value:function(){var t=f["default"].findDOMNode(this.refs.mask);this.center={x:t.offsetWidth/2,y:t.offsetHeight/2},this.basePoint={x:this.center.x,y:0}}},{key:"isMousePressed",value:function(t){return"undefined"==typeof t.buttons?t.nativeEvent.which:t.buttons}},{key:"setClock",value:function(t,e){if("undefined"==typeof t.offsetX){var n=(0,y.getTouchEventOffsetValues)(t);t.offsetX=n.offsetX,t.offsetY=n.offsetY}var r=this.getHours(t.offsetX,t.offsetY);this.props.onChange(r,e)}},{key:"getHours",value:function(t,e){var n=30,r=t-this.center.x,o=e-this.center.y,i=this.basePoint.x-this.center.x,a=this.basePoint.y-this.center.y,s=Math.atan2(i,a)-Math.atan2(r,o),l=(0,y.rad2deg)(s);l=Math.round(l/n)*n,l%=360;var u=Math.floor(l/n)||0,c=Math.pow(r,2)+Math.pow(o,2),f=Math.sqrt(c);return u=u||12,"24hr"===this.props.format?f<90&&(u+=12,u%=24):u%=12,u}},{key:"getSelected",value:function(){var t=this.props.initialHours;return"ampm"===this.props.format&&(t%=12,t=t||12),t}},{key:"getHourNumbers",value:function(){for(var t=this,e={pointerEvents:"none"},n="ampm"===this.props.format?12:24,r=[],o=1;o<=n;o++)r.push(o%24);return r.map(function(n){var r=t.getSelected()===n;return u["default"].createElement(h["default"],{key:n,style:e,isSelected:r,type:"hour",value:n})})}},{key:"render",value:function(){var t={root:{height:"100%",width:"100%",borderRadius:"100%",position:"relative",pointerEvents:"none",boxSizing:"border-box"},hitMask:{height:"100%",width:"100%",pointerEvents:"auto"}},e=this.context.muiTheme.prepareStyles,n=this.getSelected(),r=this.getHourNumbers();return u["default"].createElement("div",{ref:"clock",style:e(t.root)},u["default"].createElement(m["default"],{hasSelected:!0,value:n,type:"hour"}),r,u["default"].createElement("div",{ref:"mask",style:e(t.hitMask),onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onMouseUp:this.handleUp,onMouseMove:this.handleMove}))}}]),e}(l.Component);v.propTypes={format:l.PropTypes.oneOf(["ampm","24hr"]),initialHours:l.PropTypes.number,onChange:l.PropTypes.func},v.defaultProps={initialHours:(new Date).getHours(),onChange:function(){},format:"ampm"},v.contextTypes={muiTheme:l.PropTypes.object.isRequired},e["default"]=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n={root:{display:"inline-block",position:"absolute",width:32,height:32,borderRadius:"100%",left:"calc(50% - 16px)",top:10,textAlign:"center",paddingTop:5,userSelect:"none",fontSize:"1.1em",pointerEvents:"none",boxSizing:"border-box"}},r=e.muiTheme,o=t.value;"hour"===t.type?o%=12:o/=5;var i=[[0,5],[54.5,16.6],[94.4,59.5],[109,114],[94.4,168.5],[54.5,208.4],[0,223],[-54.5,208.4],[-94.4,168.5],[-109,114],[-94.4,59.5],[-54.5,19.6]],a=[[0,40],[36.9,49.9],[64,77],[74,114],[64,151],[37,178],[0,188],[-37,178],[-64,151],[-74,114],[-64,77],[-37,50]];t.isSelected&&(n.root.backgroundColor=r.timePicker.accentColor,n.root.color=r.timePicker.selectTextColor);var s=i[o];(0,p.isInner)(t)&&(n.root.width=28,n.root.height=28,n.root.left="calc(50% - 14px)",s=a[o]);var l=s,c=u(l,2),f=c[0],h=c[1];return n.root.transform="translate("+f+"px, "+h+"px)",n}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=n(316),f=r(c),p=n(1176),h=function(t){function e(){return o(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),l(e,[{key:"render",value:function(){var t=this.context.muiTheme.prepareStyles,e=s(this.props,this.context),n=0===this.props.value?"00":this.props.value;return f["default"].createElement("span",{style:t(e.root)},n)}}]),e}(c.Component);h.propTypes={isSelected:c.PropTypes.bool,onSelected:c.PropTypes.func,type:c.PropTypes.oneOf(["hour","minute"]),value:c.PropTypes.number},h.defaultProps={value:0,type:"minute",isSelected:!1},h.contextTypes={muiTheme:c.PropTypes.object.isRequired},e["default"]=h},function(t,e){"use strict";function n(t,e){var n=i(t);return n.setHours(t.getHours()+e),n}function r(t,e){var n=i(t);return n.setMinutes(t.getMinutes()+e),n}function o(t,e){
var n=i(t);return n.setSeconds(t.getMinutes()+e),n}function i(t){return new Date(t.getTime())}function a(t){var e=arguments.length<=1||void 0===arguments[1]?"ampm":arguments[1],n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];if(!t)return"";var r=t.getHours(),o=t.getMinutes().toString();if("ampm"===e){var i=r<12;r%=12;var a=i?" am":" pm";return r=(r||12).toString(),o.length<2&&(o="0"+o),n&&"12"===r&&"00"===o?" pm"===a?"12 noon":"12 midnight":r+("00"===o?"":":"+o)+a}return r=r.toString(),r.length<2&&(r="0"+r),o.length<2&&(o="0"+o),r+":"+o}function s(t){return 57.29577951308232*t}function l(t){var e=t.target,n=e.getBoundingClientRect();return{offsetX:t.clientX-n.left,offsetY:t.clientY-n.top}}function u(t){return"hour"===t.type&&(t.value<1||t.value>12)}Object.defineProperty(e,"__esModule",{value:!0}),e.addHours=n,e.addMinutes=r,e.addSeconds=o,e.formatTime=a,e.rad2deg=s,e.getTouchEventOffsetValues=l,e.isInner=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){t%=e;var n=360/e*t;return n}function l(t,e,n){var r=t.hasSelected,o=t.type,i=t.value,a=n.inner,l=e.muiTheme.timePicker,u="hour"===o?s(i,12):s(i,60),c={root:{height:a?"30%":"40%",background:l.accentColor,width:2,left:"calc(50% - 1px)",position:"absolute",bottom:"50%",transformOrigin:"bottom",pointerEvents:"none",transform:"rotateZ("+u+"deg)"},mark:{background:l.selectTextColor,border:"4px solid "+l.accentColor,display:r&&"none",width:7,height:7,position:"absolute",top:-5,left:-6,borderRadius:"100%"}};return c}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(316),f=r(c),p=n(1176),h=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={inner:!1},a=n,i(r,a)}return a(e,t),u(e,[{key:"componentWillMount",value:function(){this.setState({inner:(0,p.isInner)(this.props)})}},{key:"componentWillReceiveProps",value:function(t){this.setState({inner:(0,p.isInner)(t)})}},{key:"render",value:function(){if(null===this.props.value)return f["default"].createElement("span",null);var t=l(this.props,this.context,this.state),e=this.context.muiTheme.prepareStyles;return f["default"].createElement("div",{style:e(t.root)},f["default"].createElement("div",{style:e(t.mark)}))}}]),e}(c.Component);h.propTypes={hasSelected:c.PropTypes.bool,type:c.PropTypes.oneOf(["hour","minute"]),value:c.PropTypes.number},h.defaultProps={hasSelected:!1,value:null,type:"minute"},h.contextTypes={muiTheme:c.PropTypes.object.isRequired},e["default"]=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(316),u=r(l),c=n(1175),f=r(c),p=n(1177),h=r(p),d=n(1176),m=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.handleUp=function(t){t.preventDefault(),r.setClock(t.nativeEvent,!0)},r.handleMove=function(t){t.preventDefault(),1===r.isMousePressed(t)&&r.setClock(t.nativeEvent,!1)},r.handleTouch=function(t){t.preventDefault(),r.setClock(t.changedTouches[0],!1)},a=n,i(r,a)}return a(e,t),s(e,[{key:"componentDidMount",value:function(){var t=this.refs.mask;this.center={x:t.offsetWidth/2,y:t.offsetHeight/2},this.basePoint={x:this.center.x,y:0}}},{key:"isMousePressed",value:function(t){return"undefined"==typeof t.buttons?t.nativeEvent.which:t.buttons}},{key:"setClock",value:function(t,e){if("undefined"==typeof t.offsetX){var n=(0,d.getTouchEventOffsetValues)(t);t.offsetX=n.offsetX,t.offsetY=n.offsetY}var r=this.getMinutes(t.offsetX,t.offsetY);this.props.onChange(r,e)}},{key:"getMinutes",value:function(t,e){var n=6,r=t-this.center.x,o=e-this.center.y,i=this.basePoint.x-this.center.x,a=this.basePoint.y-this.center.y,s=Math.atan2(i,a)-Math.atan2(r,o),l=(0,d.rad2deg)(s);l=Math.round(l/n)*n,l%=360;var u=Math.floor(l/n)||0;return u}},{key:"getMinuteNumbers",value:function(){for(var t=[],e=0;e<12;e++)t.push(5*e);var n=this.props.initialMinutes,r=!1,o=t.map(function(t){var e=n===t;return e&&(r=!0),u["default"].createElement(f["default"],{key:t,isSelected:e,type:"minute",value:t})});return{numbers:o,hasSelected:r,selected:n}}},{key:"render",value:function(){var t={root:{height:"100%",width:"100%",borderRadius:"100%",position:"relative",pointerEvents:"none",boxSizing:"border-box"},hitMask:{height:"100%",width:"100%",pointerEvents:"auto"}},e=this.context.muiTheme.prepareStyles,n=this.getMinuteNumbers();return u["default"].createElement("div",{ref:"clock",style:e(t.root)},u["default"].createElement(h["default"],{value:n.selected,type:"minute",hasSelected:n.hasSelected}),n.numbers,u["default"].createElement("div",{ref:"mask",style:e(t.hitMask),onTouchMove:this.handleTouch,onTouchEnd:this.handleTouch,onMouseUp:this.handleUp,onMouseMove:this.handleMove}))}}]),e}(l.Component);m.propTypes={initialMinutes:l.PropTypes.number,onChange:l.PropTypes.func},m.defaultProps={initialMinutes:(new Date).getMinutes(),onChange:function(){}},m.contextTypes={muiTheme:l.PropTypes.object.isRequired},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1180),i=r(o);e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){var r=t.disabled,o=e.muiTheme,i=o.baseTheme,a=o.toggle,s=20,l=36,u={icon:{width:36,padding:"4px 0px 6px 2px"},ripple:{top:-10,left:-10,color:n.switched?a.thumbOnColor:i.palette.textColor},toggleElement:{width:l},track:{transition:y["default"].easeOut(),width:"100%",height:14,borderRadius:30,backgroundColor:a.trackOffColor},thumb:{transition:y["default"].easeOut(),position:"absolute",top:1,left:0,width:s,height:s,lineHeight:"24px",borderRadius:"50%",backgroundColor:a.thumbOffColor},trackWhenSwitched:{backgroundColor:a.trackOnColor},thumbWhenSwitched:{backgroundColor:a.thumbOnColor,left:"100%"},trackWhenDisabled:{backgroundColor:a.trackDisabledColor,cursor:"not-allowed"},thumbWhenDisabled:{backgroundColor:a.thumbDisabledColor,cursor:"not-allowed"},label:{color:r?a.labelDisabledColor:a.labelColor,width:"calc(100% - "+(l+10)+"px)",cursor:r?"not-allowed":"initial"}};return u}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=n(799),y=r(m),v=n(947),g=r(v),b=n(1089),_=r(b),x=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={switched:!1},r.handleStateChange=function(t){r.setState({switched:t})},r.handleToggle=function(t,e){r.props.onToggle&&r.props.onToggle(t,e)},o=n,a(r,o)}return s(e,t),c(e,[{key:"componentWillMount",value:function(){var t=this.props,e=t.toggled,n=t.defaultToggled,r=t.valueLink;(e||n||r&&r.value)&&this.setState({switched:!0})}},{key:"isToggled",value:function(){return this.refs.enhancedSwitch.isSwitched()}},{key:"setToggled",value:function(t){this.refs.enhancedSwitch.setSwitched(t)}},{key:"render",value:function(){var t=this.props,e=t.defaultToggled,n=t.elementStyle,r=(t.onToggle,t.toggled),i=o(t,["defaultToggled","elementStyle","onToggle","toggled"]),a=this.context.muiTheme.prepareStyles,s=l(this.props,this.context,this.state),c=(0,p["default"])({},s.track,this.props.trackStyle,this.state.switched&&s.trackWhenSwitched,this.props.disabled&&s.trackWhenDisabled),f=(0,p["default"])({},s.thumb,this.props.thumbStyle,this.state.switched&&s.thumbWhenSwitched,this.props.disabled&&s.thumbWhenDisabled);this.state.switched&&(f.marginLeft=0-f.width);var h=(0,p["default"])({},s.toggleElement,n),m=d["default"].createElement("div",{style:a((0,p["default"])({},h))},d["default"].createElement("div",{style:a((0,p["default"])({},c))}),d["default"].createElement(g["default"],{style:f,circle:!0,zDepth:1})),y=(0,p["default"])({},s.ripple,this.props.rippleStyle),v=(0,p["default"])({},s.icon,this.props.iconStyle),b=(0,p["default"])({},s.label,this.props.labelStyle),x={ref:"enhancedSwitch",inputType:"checkbox",switchElement:m,rippleStyle:y,rippleColor:y.color,iconStyle:v,trackStyle:c,thumbStyle:f,labelStyle:b,switched:this.state.switched,onSwitch:this.handleToggle,onParentShouldUpdate:this.handleStateChange,labelPosition:this.props.labelPosition};return this.props.hasOwnProperty("toggled")?x.checked=r:this.props.hasOwnProperty("defaultToggled")&&(x.defaultChecked=e),d["default"].createElement(_["default"],u({},i,x))}}]),e}(h.Component);x.propTypes={defaultToggled:h.PropTypes.bool,disabled:h.PropTypes.bool,elementStyle:h.PropTypes.object,iconStyle:h.PropTypes.object,inputStyle:h.PropTypes.object,label:h.PropTypes.string,labelPosition:h.PropTypes.oneOf(["left","right"]),labelStyle:h.PropTypes.object,onToggle:h.PropTypes.func,rippleStyle:h.PropTypes.object,style:h.PropTypes.object,thumbStyle:h.PropTypes.object,toggled:h.PropTypes.bool,trackStyle:h.PropTypes.object,valueLink:h.PropTypes.object},x.defaultProps={defaultToggled:!1,disabled:!1,labelPosition:"left"},x.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.ToolbarTitle=e.ToolbarSeparator=e.ToolbarGroup=e.Toolbar=void 0;var o=n(1182),i=r(o),a=n(1183),s=r(a),l=n(1184),u=r(l),c=n(1185),f=r(c);e.Toolbar=i["default"],e.ToolbarGroup=s["default"],e.ToolbarSeparator=u["default"],e.ToolbarTitle=f["default"],e["default"]=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=t.noGutter,r=e.muiTheme,o=r.baseTheme,i=r.toolbar;return{root:{boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",backgroundColor:i.backgroundColor,height:i.height,padding:n?0:"0px "+o.spacing.desktopGutter+"px",display:"flex",justifyContent:"space-between"}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,r=(t.noGutter,t.style),i=o(t,["children","className","noGutter","style"]),a=this.context.muiTheme.prepareStyles,s=l(this.props,this.context);return d["default"].createElement("div",u({},i,{className:n,style:a((0,p["default"])({},s.root,r))}),e)}}]),e}(h.Component);m.propTypes={children:h.PropTypes.node,className:h.PropTypes.string,noGutter:h.PropTypes.bool,style:h.PropTypes.object},m.defaultProps={noGutter:!1},m.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=t.firstChild,r=t.lastChild,o=e.muiTheme,i=o.baseTheme,a=o.button,s=o.toolbar,l=i.spacing.desktopGutter,u=(s.height-a.height)/2,c={root:{position:"relative",marginLeft:n?-l:void 0,marginRight:r?-l:void 0,display:"flex",justifyContent:"space-between"},dropDownMenu:{root:{color:s.color,marginRight:i.spacing.desktopGutter,flex:1,whiteSpace:"nowrap"},controlBg:{backgroundColor:s.menuHoverColor,borderRadius:0},underline:{display:"none"}},button:{margin:u+"px "+l+"px",position:"relative"},icon:{root:{cursor:"pointer",lineHeight:s.height+"px",paddingLeft:i.spacing.desktopGutter}},span:{color:s.iconColor,lineHeight:s.height+"px"}};return c}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),c(e,[{key:"handleMouseLeaveFontIcon",value:function(t){return function(e){e.target.style.zIndex="auto",e.target.style.color=t.root.color}}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,r=e.className,i=(e.firstChild,e.lastChild,e.style),a=o(e,["children","className","firstChild","lastChild","style"]),s=this.context.muiTheme.prepareStyles,c=l(this.props,this.context),f=d["default"].Children.map(n,function(e){if(!e)return null;if(!e.type)return e;switch(e.type.muiName){case"DropDownMenu":return d["default"].cloneElement(e,{style:(0,p["default"])({},c.dropDownMenu.root,e.props.style),underlineStyle:c.dropDownMenu.underline});case"RaisedButton":case"FlatButton":return d["default"].cloneElement(e,{style:(0,p["default"])({},c.button,e.props.style)});case"FontIcon":return d["default"].cloneElement(e,{style:(0,p["default"])({},c.icon.root,e.props.style),color:e.props.color||t.context.muiTheme.toolbar.iconColor,hoverColor:e.props.hoverColor||t.context.muiTheme.toolbar.hoverColor});case"ToolbarSeparator":case"ToolbarTitle":return d["default"].cloneElement(e,{style:(0,p["default"])({},c.span,e.props.style)});default:return e}},this);return d["default"].createElement("div",u({},a,{className:r,style:s((0,p["default"])({},c.root,i))}),f)}}]),e}(h.Component);m.propTypes={children:h.PropTypes.node,className:h.PropTypes.string,firstChild:h.PropTypes.bool,lastChild:h.PropTypes.bool,style:h.PropTypes.object},m.defaultProps={firstChild:!1,lastChild:!1},m.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=e.muiTheme,r=n.baseTheme,o=n.toolbar;return{root:{backgroundColor:o.separatorColor,display:"inline-block",height:r.spacing.desktopGutterMore,marginLeft:r.spacing.desktopGutter,position:"relative",top:(o.height-r.spacing.desktopGutterMore)/2,width:1}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=t.className,n=t.style,r=o(t,["className","style"]),i=this.context.muiTheme.prepareStyles,a=l(this.props,this.context);return d["default"].createElement("span",u({},r,{className:e,style:i((0,p["default"])({},a.root,n))}))}}]),e}(h.Component);m.muiName="ToolbarSeparator",m.propTypes={className:h.PropTypes.string,style:h.PropTypes.object},m.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n=e.muiTheme,r=n.baseTheme,o=n.toolbar;return{root:{paddingRight:r.spacing.desktopGutterLess,lineHeight:o.height+"px",fontSize:o.titleFontSize,position:"relative",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(798),p=r(f),h=n(316),d=r(h),m=function(t){function e(){return i(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=t.className,n=t.style,r=t.text,i=o(t,["className","style","text"]),a=this.context.muiTheme.prepareStyles,s=l(this.props,this.context);return d["default"].createElement("span",u({},i,{className:e,style:a((0,p["default"])({},s.root,n))}),r)}}]),e}(h.Component);m.muiName="ToolbarTitle",m.propTypes={className:h.PropTypes.string,style:h.PropTypes.object,text:h.PropTypes.string},m.contextTypes={muiTheme:h.PropTypes.object.isRequired},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(992),l=r(s),u=n(299),c=r(u),f=n(952),p=r(f),h=n(1187),d=r(h),m=n(1190),y=r(m),v=n(1193),g=r(v),b=n(1194),_=r(b),x=n(1197),w=r(x),T=n(583),E=r(T),C=n(960),k=r(C),S=n(582),P=r(S),M=n(922),A=r(M),O=n(1062),D=n(927),L=r(D),I=n(940),j=r(I),F=n(933),R=r(F),N=n(1198),z=r(N),B=n(950),U=r(B),W=n(1060),q=r(W),V=n(1010),H=n(1087),G=r(H),Y=a["default"].createClass({displayName:"CategoricalChannel",mixins:[(0,k["default"])({redirect:["setProps","onClose"]})],propTypes:{setProps:a["default"].PropTypes.func,chromosome:a["default"].PropTypes.string,start:a["default"].PropTypes.number,end:a["default"].PropTypes.number,width:a["default"].PropTypes.number,height:a["default"].PropTypes.number,sideWidth:a["default"].PropTypes.number,autoYScale:a["default"].PropTypes.bool,fractional:a["default"].PropTypes.bool,yMin:a["default"].PropTypes.number,yMax:a["default"].PropTypes.number,name:a["default"].PropTypes.string,onClose:a["default"].PropTypes.func,table:a["default"].PropTypes.string.isRequired,track:a["default"].PropTypes.string.isRequired},getInitialState:function(){return{knownValues:[]}},getDefaultProps:function(){return{height:100,autoYScale:!0}},render:function(){var t=this,e=this.props,n=e.table,r=e.track,i=e.width,s=e.sideWidth,l=e.name,u=this.state.knownValues;return a["default"].createElement(z["default"],o({},this.props,{side:a["default"].createElement("span",null,l),onClose:this.redirectedProps.onClose,controls:a["default"].createElement(X,o({},this.props,{setProps:this.redirectedProps.setProps})),legend:a["default"].createElement(q["default"],{table:n,property:r,knownValues:u})}),a["default"].createElement(Z,o({},this.props,{width:i-s,onChangeKnownValues:function(e){return t.setState({knownValues:e})}})))}}),Z=a["default"].createClass({displayName:"CategoricalTrack",mixins:[(0,k["default"])({check:["width","height"]}),P["default"],E["default"],(0,A["default"])("chromosome","start","end","table,","track","width","height","yMin","yMax","fractional","autoYScale")],propTypes:{chromosome:a["default"].PropTypes.string,start:a["default"].PropTypes.number,end:a["default"].PropTypes.number,width:a["default"].PropTypes.number,height:a["default"].PropTypes.number,autoYScale:a["default"].PropTypes.bool,fractional:a["default"].PropTypes.bool,yMin:a["default"].PropTypes.number,yMax:a["default"].PropTypes.number,table:a["default"].PropTypes.string.isRequired,track:a["default"].PropTypes.string.isRequired,onChangeKnownValues:a["default"].PropTypes.func,onChangeLoadStatus:a["default"].PropTypes.func,onYLimitChange:a["default"].PropTypes.func},componentWillMount:function(){this.blocks=[],this.debouncedYScale=(0,c["default"])(this.calculateYScale,200)},componentDidUpdate:function(){this.draw(this.props,this.blocks)},getDefaultProps:function(){return{autoYScale:!0,fractional:!1}},fetchData:function(t,e){var n=this,r=t.chromosome,o=t.start,i=t.end,a=t.width,s=t.table,l=t.track,u=t.autoYScale,c=this.config.tablesById[s];if(this.props.chromosome===r&&this.props.track===l&&this.props.table===s||this.applyData(t,[]),!(a<1)){if(!c||!c.propertiesById[l]||!c.propertiesById[l].showInBrowser||!c.propertiesById[l].isCategorical&&!c.propertiesById[l].isBoolean)return void(0,U["default"])(this.getFlux(),s+"/"+l+" is not a valid categorical summary track");var f=(0,V.findBlock)({start:o,end:i,width:a}),p=f.blockLevel,h=f.blockIndex,d=f.needNext,m=f.summaryWindow;this.props.chromosome===r&&this.props.track===l&&this.props.table===s&&this.blockLevel===p&&this.blockIndex===h&&this.needNext===d&&this.requestSummaryWindow===m||!function(){n.blockLevel=p,n.blockIndex=h,n.needNext=d,n.requestSummaryWindow=m,n.props.onChangeLoadStatus("LOADING");var a=[{expr:["/",[c.position,m]],as:"window"},{expr:["count",["*"]],as:"count"},l],u=j["default"].WhereClause.CompareFixed(c.chromosome,"=",r),f={database:n.config.dataset,table:s,columns:a,query:j["default"].WhereClause.encode(u),groupBy:["window",l],orderBy:[["asc","window"],["asc",l]],transpose:!1},y={method:"query",regionField:c.position,queryField:"query",start:o,end:i,useWiderBlocksIfInCache:!1,isBlockTooBig:function(){return!1},postProcessBlock:function(t){return n.rearrangeData(l,t)}};e.request(function(r){return(0,V.regionCacheGet)(f,y,r).then(function(t){n.props.onChangeLoadStatus("DONE"),n.applyData(n.props,t,m)})["catch"](function(t){throw n.props.onChangeLoadStatus("DONE"),t})["catch"](R["default"].filterAborted)["catch"](L["default"].filterCancelled)["catch"](function(r){throw n.applyData(n.props,[]),(0,U["default"])(n.getFlux(),r.message,function(){return n.fetchData(t,e)}),r})})}(),["start","end","yMin","yMax","fractional"].some(function(e){return n.props[e]!==t[e]})&&this.draw(t),u&&["start","end,","autoYScale","fractional"].some(function(e){return n.props[e]!==t[e]})&&this.debouncedYScale(t)}},rearrangeData:function(t,e){e._counts_=[],e._values_=[],e._windows_=[];var n=e.count.array,r=e[t].array,o=e.window.array;if(o.length>0)for(var i=o[0],a=[r[0]],s=[n[0]],l=1,u=o.length+1;l<u;++l)o[l]===i?(a.push(r[l]),s.push(n[l])):(e._windows_.push(i),e._values_.push(a),e._counts_.push(s),i=o[l],a=[r[l]],s=[n[l]]);return e},applyData:function(t,e,n){this.blocks=e,this.summaryWindow=n,this.draw(t),this.debouncedYScale(t)},draw:function(t){var e=t.yMin,n=t.yMax,r=t.height,o=t.start,i=t.end,a=t.width,s=t.fractional,u=t.table,c=t.track;if(this.refs.canvas){var f=this.refs.canvas,p=f.getContext("2d");if(p.clearRect(0,0,f.width,f.height),this.summaryWindow&&this.blocks&&!(this.blocks.length<1)&&(0,l["default"])(e)&&(0,l["default"])(n)){var h=(0,O.propertyColour)(this.config.tablesById[u].propertiesById[c]),d=this.summaryWindow,m=a/(i-o),y=r/(n-e),v=d*m;this.blocks.forEach(function(t){for(var n=t._counts_,i=t._values_,l=t._windows_,u=0,c=l.length;u<c;u++){var f=m*(-.5+l[u]*d-o);if(f>-v&&f<a+v)for(var b=r-y*(0-e),_=n[u],x=i[u],w=s?(0,g["default"])(_):1,T=0,E=_.length;T<E;T++){p.fillStyle=h(x[T]);var C=y*(_[T]/w);p.fillRect(Math.floor(f),b,Math.ceil(v),-C),b-=C}}})}}},calculateYScale:function(t){var e=this,n=t.fractional;return n?void this.props.onYLimitChange({dataYMin:-.1,dataYMax:1.1}):void(this.blocks&&this.summaryWindow&&!function(){var n=t.start,r=t.end,o=[],i=[];e.blocks.forEach(function(t){var a=(0,_["default"])(t._windows_,n/e.summaryWindow),s=(0,w["default"])(t._windows_,r/e.summaryWindow);o.push((0,d["default"])((0,p["default"])(t._counts_.slice(a,s),g["default"]))),Array.prototype.push.apply(i,t._values_.slice(a,s))});var a=0;if(o=(0,d["default"])(o),a===o)a-=.1*a,o+=.1*o;else{var s=.1*(o-a);a-=s,o+=s}e.props.onYLimitChange({dataYMin:a,dataYMax:o}),e.props.onChangeKnownValues((0,y["default"])(i))}())},render:function(){var t=this.props,e=t.width,n=t.height;return a["default"].createElement("canvas",{className:"categorical",ref:"canvas",width:e,height:n})}}),X=a["default"].createClass({displayName:"CategoricalTrackControls",mixins:[(0,k["default"])({check:["autoYScale","yMin","yMax"],redirect:["setProps"]})],propTypes:{autoYScale:a["default"].PropTypes.bool,fractional:a["default"].PropTypes.bool,yMin:a["default"].PropTypes.number,yMax:a["default"].PropTypes.number},render:function(){var t=this,e=this.props,n=e.fractional,r=e.autoYScale,o=e.yMin,i=e.yMax;return a["default"].createElement("div",{className:"channel-controls"},a["default"].createElement("div",{className:"control"},a["default"].createElement("div",{className:"label"},"Fractional:"),a["default"].createElement(G["default"],{name:"fractional",defaultChecked:n,style:{width:"inherit"},onCheck:function(e,n){return t.redirectedProps.setProps({fractional:n})}})),a["default"].createElement("div",{className:"control"},a["default"].createElement("div",{className:"label"},"Auto Y Scale:"),a["default"].createElement(G["default"],{name:"autoYScale",defaultChecked:r,style:{width:"inherit"},onCheck:function(e,n){return t.redirectedProps.setProps({autoYScale:n})}})),r?null:a["default"].createElement("div",{className:"control"},a["default"].createElement("div",{className:"label"},"Y Min:"),a["default"].createElement("input",{className:"numeric-input",ref:"yMin",type:"number",value:o,onChange:function(){var e=parseFloat(t.refs.yMin.value);(0,l["default"])(e)&&t.redirectedProps.setProps({yMin:e})}})),r?null:a["default"].createElement("div",{className:"control"},a["default"].createElement("div",{className:"label"},"Y Max:"),a["default"].createElement("input",{className:"numeric-input",ref:"yMax",type:"number",value:i,onChange:function(){var e=parseFloat(t.refs.yMax.value);(0,l["default"])(e)&&t.redirectedProps.setProps({yMax:e})}})))}});t.exports=Y},function(t,e,n){function r(t){return t&&t.length?o(t,a,i):void 0}var o=n(1188),i=n(1189),a=n(593);t.exports=r},function(t,e,n){function r(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(null!=s&&(void 0===l?s===s&&!o(s):n(s,l)))var l=s,u=a}return u}var o=n(305);t.exports=r},function(t,e){function n(t,e){return t>e}t.exports=n},function(t,e,n){function r(t){return t&&t.length?o(t):[]}var o=n(1191);t.exports=r},function(t,e,n){function r(t,e,n){var r=-1,f=i,p=t.length,h=!0,d=[],m=d;if(n)h=!1,f=a;else if(p>=c){var y=e?null:l(t);if(y)return u(y);h=!1,f=s,m=new o}else m=e?[]:d;t:for(;++r<p;){var v=t[r],g=e?e(v):v;if(v=n||0!==v?v:0,h&&g===g){for(var b=m.length;b--;)if(m[b]===g)continue t;
e&&m.push(g),d.push(v)}else f(m,g,n)||(m!==d&&m.push(g),d.push(v))}return d}var o=n(689),i=n(639),a=n(932),s=n(693),l=n(1192),u=n(698),c=200;t.exports=r},function(t,e,n){var r=n(714),o=n(625),i=n(698),a=1/0,s=r&&1/i(new r([,-0]))[1]==a?function(t){return new r(t)}:o;t.exports=s},function(t,e,n){function r(t){return t&&t.length?o(t,i):0}var o=n(1014),i=n(593);t.exports=r},function(t,e,n){function r(t,e){return o(t,e)}var o=n(1195);t.exports=r},function(t,e,n){function r(t,e,n){var r=0,s=t?t.length:r;if("number"==typeof e&&e===e&&s<=l){for(;r<s;){var u=r+s>>>1,c=t[u];null!==c&&!a(c)&&(n?c<=e:c<e)?r=u+1:s=u}return s}return o(t,e,i,n)}var o=n(1196),i=n(593),a=n(305),s=4294967295,l=s>>>1;t.exports=r},function(t,e,n){function r(t,e,n,r){e=n(e);for(var i=0,u=t?t.length:0,c=e!==e,f=null===e,p=o(e),h=void 0===e;i<u;){var d=s((i+u)/2),m=n(t[d]),y=void 0!==m,v=null===m,g=m===m,b=o(m);if(c)var _=r||g;else _=h?g&&(r||y):f?g&&y&&(r||!v):p?g&&y&&!v&&(r||!b):!v&&!b&&(r?m<=e:m<e);_?i=d+1:u=d}return l(u,a)}var o=n(305),i=4294967295,a=i-1,s=Math.floor,l=Math.min;t.exports=r},function(t,e,n){function r(t,e){return o(t,e,!0)}var o=n(1195);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(992),s=r(a),l=n(952),u=r(l),c=n(960),f=r(c),p=n(1064),h=r(p),d=n(1199),m=r(d),y=n(974),v=i["default"].createClass({displayName:"CanvasGroupChannel",mixins:[(0,f["default"])({redirect:["onClose"]})],propTypes:{chromosome:i["default"].PropTypes.string,start:i["default"].PropTypes.number,end:i["default"].PropTypes.number,width:i["default"].PropTypes.number,height:i["default"].PropTypes.number,sideWidth:i["default"].PropTypes.number,autoYScale:i["default"].PropTypes.bool,yMin:i["default"].PropTypes.number,yMax:i["default"].PropTypes.number,side:i["default"].PropTypes.element,controls:i["default"].PropTypes.element,legend:i["default"].PropTypes.element,onClose:i["default"].PropTypes.func,children:i["default"].PropTypes.node},getDefaultProps:function(){return{height:100}},getInitialState:function(){return{}},componentWillMount:function(){this.yLimits={}},handleClose:function(){this.redirectedProps.onClose&&this.redirectedProps.onClose()},handleYLimitChange:function(t,e){this.yLimits[t]=e;var n=null,r=null;(0,u["default"])(this.yLimits,function(t){var e=t.dataYMin,o=t.dataYMax;(!(0,s["default"])(n)||(0,s["default"])(e)&&e<n)&&(n=e),(!(0,s["default"])(r)||(0,s["default"])(o)&&o>r)&&(r=o)}),(0,s["default"])(n)&&(0,s["default"])(r)&&this.setState({dataYMin:n,dataYMax:r})},render:function(){var t=this,e=this.props,n=e.width,r=e.height,o=e.sideWidth,a=e.yMin,l=e.yMax,u=e.autoYScale,c=e.side,f=e.controls,p=e.legend,d=this.state,v=d.dataYMin,g=d.dataYMax;u&&(0,s["default"])(v)&&(0,s["default"])(g)&&(a=v,l=g),!(0,s["default"])(a)&&(0,s["default"])(this.lastYMin)&&(a=this.lastYMin),!(0,s["default"])(l)&&(0,s["default"])(this.lastYMax)&&(l=this.lastYMax);var b=[a,l];if(this.lastYMin=b[0],this.lastYMax=b[1],n<=0)return null;var _={yMin:(0,s["default"])(a)?a:null,yMax:(0,s["default"])(l)?l:null},x={yMin:(0,y.spring)(_.yMin),yMax:(0,y.spring)(_.yMax)};return i["default"].createElement(h["default"],{width:n,sideWidth:o,height:r,sideComponent:i["default"].createElement("div",{className:"side-name"},c),configComponent:f,legendComponent:p,onClose:this.handleClose},i["default"].createElement(y.Motion,{style:x,defaultStyle:_},function(e){var a=e.yMin,s=e.yMax;return i["default"].createElement("div",{className:"numerical-channel-canvas-holder"},i["default"].createElement(m["default"],{width:n-o,height:r,min:a,max:s}),i["default"].Children.map(t.props.children,function(e,n){return i["default"].cloneElement(e,{yMin:a,yMax:s,height:r,onYLimitChange:function(e){var r=e.dataYMin,o=e.dataYMax;return t.handleYLimitChange(n,{dataYMin:r,dataYMax:o})}})}))}))}});t.exports=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(917),u=r(l),c=i["default"].createClass({displayName:"YScale",mixins:[s["default"]],propTypes:{min:i["default"].PropTypes.number,max:i["default"].PropTypes.number,width:i["default"].PropTypes.number,height:i["default"].PropTypes.number},componentDidMount:function(){this.paint()},componentDidUpdate:function(){this.paint()},render:function(){var t=this.props,e=t.width,n=t.height;return i["default"].createElement("canvas",{ref:"canvas",width:e,height:n})},paint:function(){var t=this.props,e=t.min,n=t.max,r=t.width,o=t.height,i=this.refs.canvas,a=u["default"].scale.linear().domain([e,n]).range([o,0]),s=5,l=a.tickFormat(s,"s"),c=i.getContext("2d");c.lineWidth=.25,c.strokeStyle="darkgrey",c.textAlign="end",c.textBaseline="middle",c.font="12px Roboto,sans-serif",c.clearRect(0,0,i.width,i.height),c.beginPath(),a.ticks(s).forEach(function(t){var e=a(t);e>12&&e<o-12&&(c.fillText(l(t),r-5,e),c.moveTo(0,e),c.lineTo(r,e))}),c.stroke()}});t.exports=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(1201),s=r(a),l=n(1187),u=r(l),c=n(299),f=r(c),p=n(1194),h=r(p),d=n(1197),m=r(d),y=n(992),v=r(y),g=n(960),b=r(g),_=n(583),x=r(_),w=n(582),T=r(w),E=n(922),C=r(E),k=n(1010),S=n(950),P=r(S),M=n(927),A=r(M),O=n(933),D=r(O),L=n(940),I=r(L),j=i["default"].createClass({displayName:"NumericalSummaryTrack",mixins:[(0,b["default"])({check:["width","height"]}),T["default"],x["default"],(0,C["default"])("chromosome","start","end","table,","track","width","height","yMin","yMax","autoYScale")],propTypes:{chromosome:i["default"].PropTypes.string,start:i["default"].PropTypes.number,end:i["default"].PropTypes.number,height:i["default"].PropTypes.number,width:i["default"].PropTypes.number,autoYScale:i["default"].PropTypes.bool,yMin:i["default"].PropTypes.number,yMax:i["default"].PropTypes.number,onYLimitChange:i["default"].PropTypes.func,table:i["default"].PropTypes.string.isRequired,track:i["default"].PropTypes.string.isRequired,onChangeLoadStatus:i["default"].PropTypes.func},getInitialState:function(){return{}},componentWillMount:function(){this.blocks=[],this.debouncedYScale=(0,f["default"])(this.calculateYScale,200)},componentWillUnmount:function(){this.props.onYLimitChange({dataYMin:null,dataYMax:null})},componentDidUpdate:function(){this.draw(this.props,this.blocks)},fetchData:function(t,e){var n=this,r=t.chromosome,o=t.start,i=t.end,a=t.width,s=t.table,l=t.track,u=t.autoYScale,c=this.config.tablesById[s];if(this.props.chromosome===r&&this.props.track===l&&this.props.table===s||this.applyData(t,[]),!(a<1)){if(!(c&&c.propertiesById[l]&&c.propertiesById[l].showInBrowser&&c.propertiesById[l].isNumerical))return void(0,P["default"])(this.getFlux(),s+"/"+l+" is not a valid numerical summary track");var f=(0,k.findBlock)({start:o,end:i,width:a}),p=f.blockLevel,h=f.blockIndex,d=f.needNext,m=f.summaryWindow;this.props.chromosome===r&&this.props.track===l&&this.props.table===s&&this.blockLevel===p&&this.blockIndex===h&&this.needNext===d&&this.requestSummaryWindow===m||!function(){n.blockLevel=p,n.blockIndex=h,n.needNext=d,n.requestSummaryWindow=m,n.props.onChangeLoadStatus("LOADING");var a=[{expr:["/",[c.position,m]],as:"window"},{expr:["count",["*"]],as:"count"},{expr:["avg",[l]],as:"avg"},{expr:["min",[l]],as:"min"},{expr:["max",[l]],as:"max"}],u=I["default"].WhereClause.CompareFixed(c.chromosome,"=",r),f={database:n.config.dataset,table:s,columns:a,query:I["default"].WhereClause.encode(u),groupBy:["window"],orderBy:[["asc","window"]],transpose:!1},y={method:"query",regionField:c.position,queryField:"query",start:o,end:i,useWiderBlocksIfInCache:!1,isBlockTooBig:function(){return!1}};e.request(function(r){return(0,k.regionCacheGet)(f,y,r).then(function(t){n.props.onChangeLoadStatus("DONE"),n.applyData(n.props,t,m)})["catch"](function(t){throw n.props.onChangeLoadStatus("DONE"),t})["catch"](D["default"].filterAborted)["catch"](A["default"].filterCancelled)["catch"](function(r){throw n.applyData(n.props,[]),(0,P["default"])(n.getFlux(),r.message,function(){return n.fetchData(t,e)}),r})})}(),["start","end","yMin","yMax"].some(function(e){return n.props[e]!==t[e]})&&this.draw(t),u&&["start","end,","autoYScale"].some(function(e){return n.props[e]!==t[e]})&&this.debouncedYScale(t)}},applyData:function(t,e,n){this.blocks=e,this.summaryWindow=n,this.draw(t),this.debouncedYScale(t)},draw:function(t){var e=t.yMin,n=t.yMax,r=t.height,o=t.start,i=t.end,a=t.width;if(this.refs.canvas){var s=this.refs.canvas,l=s.getContext("2d");if(l.clearRect(0,0,s.width,s.height),this.summaryWindow&&this.blocks&&!(this.blocks.length<1)&&(0,v["default"])(e)&&(0,v["default"])(n)){var u=D["default"].nullValues[this.blocks[0].min.type],c=this.summaryWindow,f=a/(i-o),p=r/(n-e),h=c*f;l.beginPath(),this.blocks.forEach(function(t){for(var n=t.window.array,i=t.min.array,a=t.max.array,s=0,y=n.length;s<y;s++){if(i[s]!==u&&i[s]==+i[s]){var v=f*(-.5+n[s]*c-o),g=r-p*(i[s]-e),b=r-p*(a[s]-e);l.moveTo(v,g),l.lineTo(v+h,g),l.lineTo(v+h,b),l.lineTo(v,b)}d=i[s]===u||i[s]!=+i[s],m=n[s]}}),l.fillStyle="rgba(61, 139, 213, 0.3)",l.fill();var d=!0,m=null;l.beginPath(),this.blocks.forEach(function(t){for(var n=t.window.array,i=t.avg.array,a=0,s=n.length;a<s;a++){if(i[a]!==u&&i[a]==+i[a]){var y=f*(-.5+n[a]*c-o),v=r-p*(i[a]-e);d||n[a]!==m+1?l.moveTo(y,v):l.lineTo(y,v),l.lineTo(y+h,v)}d=i[a]===u||i[a]!=+i[a],m=n[a]}}),l.strokeStyle="#3d8bd5",l.stroke(),l.beginPath(),this.blocks.forEach(function(t){for(var n=t.window.array,i=t.avg.array,a=t.count.array,s=0,d=n.length;s<d;s++)if(1===a[s]&&i[s]!==u&&i[s]==+i[s]){var m=f*(-.5+n[s]*c-o),y=r-p*(i[s]-e);l.moveTo(m,y),l.arc(m+h/2,y,Math.max(1,Math.min(h-4,4)),0,2*Math.PI,!1)}}),l.fillStyle="#222222",l.fill()}}},calculateYScale:function(t){var e=this,n=t.table,r=t.track;if(this.blocks&&this.summaryWindow)!function(){var n=t.start,r=t.end,o=[],i=[];if(e.blocks.forEach(function(t){var a=(0,h["default"])(t.window.array,n/e.summaryWindow),l=(0,m["default"])(t.window.array,r/e.summaryWindow);o.push((0,s["default"])(t.min.array.subarray(a,l))),i.push((0,u["default"])(t.max.array.subarray(a,l)))}),o=(0,s["default"])(o),i=(0,u["default"])(i),o===i)o-=.1*o,i+=.1*i;else{var a=.1*(i-o);o-=a,i+=a}e.props.onYLimitChange({dataYMin:o,dataYMax:i})}();else{var o=this.config.tablesById[n].propertiesById[r];this.props.onYLimitChange({dataYMin:o.minVal,dataYMax:o.maxVal})}},render:function(){var t=this.props,e=t.width,n=t.height;return i["default"].createElement("canvas",{ref:"canvas",width:e,height:n})}});t.exports=j},function(t,e,n){function r(t){return t&&t.length?o(t,a,i):void 0}var o=n(1188),i=n(1202),a=n(593);t.exports=r},function(t,e){function n(t,e){return t<e}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(574),l=r(s),u=n(992),c=r(u),f=n(721),p=r(f),h=n(583),d=r(h),m=n(582),y=r(m),v=n(960),g=r(v),b=n(1198),_=r(b),x=n(1087),w=r(x),T=n(1103),E=r(T),C=n(954),k=r(C),S=n(1200),P=r(S),M=n(761),A=r(M),O=n(653),D=r(O),L=["NumericalSummaryTrack"],I=a["default"].createClass({displayName:"NumericalTrackGroupChannel",mixins:[(0,g["default"])({redirect:["setProps","onClose"]})],propTypes:{width:a["default"].PropTypes.number,sideWidth:a["default"].PropTypes.number,children:a["default"].PropTypes.node},getInitialState:function(){return{}},getDefaultProps:function(){return{autoYScale:!0}},render:function(){var t=this,e=this.props,n=e.width,r=e.sideWidth,i=e.children;return i=(0,A["default"])(this,i,L),a["default"].createElement(_["default"],o({},this.props,{side:a["default"].createElement("span",null,D["default"].map(i,function(t){return t.props.name}).join(", ")),onClose:this.redirectedProps.onClose,controls:a["default"].createElement(j,o({},this.props,{setProps:this.redirectedProps.setProps}))}),a["default"].Children.map(i,function(e){return a["default"].cloneElement(e,o({},t.props,{width:n-r}))}))}}),j=a["default"].createClass({displayName:"NumericalTrackGroupControls",mixins:[y["default"],d["default"],(0,g["default"])({check:["interpolation","tension","autoYScale","yMin","yMax"],redirect:["setProps"]})],propTypes:{interpolation:a["default"].PropTypes.string,tension:a["default"].PropTypes.number,autoYScale:a["default"].PropTypes.bool,yMin:a["default"].PropTypes.number,yMax:a["default"].PropTypes.number},trackGroups:function(){var t={};return(0,p["default"])(this.config.tables,function(e){e.hasGenomePositions&&!e.isHidden&&(t[e.id]={name:e.capNamePlural,icon:e.icon,items:[]},(0,p["default"])(e.properties,function(n){n.showInBrowser&&n.isNumerical&&n.summaryValues&&t[e.id].items.push({name:n.name,description:n.description,icon:"line-chart",payload:(0,k["default"])(a["default"].createElement(P["default"],{name:n.name,table:e.id,track:n.id}))})}))}),l["default"].fromJS(t)},handleTrackChange:function(t){this.getFlux().actions.session.modalClose(),this.redirectedProps.setProps(function(e){return e.set("children",t)})},render:function(){var t=this,e=this.props,n=e.autoYScale,r=e.yMin,o=e.yMax,i=this.getFlux().actions;return a["default"].createElement("div",{className:"channel-controls"},a["default"].createElement("div",{className:"control"},a["default"].createElement(E["default"],{label:"Add/Remove Tracks",primary:!0,onClick:function(){return i.session.modalOpen("containers/ItemPicker.js",{title:"Pick tracks to be displayed",itemName:"Numerical track",itemVerb:"display",groups:t.trackGroups(),initialSelection:[],onPick:t.handleTrackChange})}})),a["default"].createElement("div",{className:"control"},a["default"].createElement("div",{className:"label"},"Auto Y Scale:"),a["default"].createElement(w["default"],{name:"autoYScale",value:"toggleValue1",defaultChecked:n,style:{width:"inherit"},onCheck:function(e,n){return t.redirectedProps.setProps({autoYScale:n})}})),n?null:a["default"].createElement("div",{className:"control"},a["default"].createElement("div",{className:"label"},"Y Min:"),a["default"].createElement("input",{className:"numeric-input",ref:"yMin",type:"number",value:r,onChange:function(){var e=parseFloat(t.refs.yMin.value);(0,c["default"])(e)&&t.redirectedProps.setProps({yMin:e})}})),n?null:a["default"].createElement("div",{className:"control"},a["default"].createElement("div",{className:"label"},"Y Max:"),a["default"].createElement("input",{className:"numeric-input",ref:"yMax",type:"number",value:o,onChange:function(){var e=parseFloat(t.refs.yMax.value);(0,c["default"])(e)&&t.redirectedProps.setProps({yMax:e})}})))}});t.exports=I},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(583),l=r(s),u=n(960),c=r(u),f=n(582),p=r(f),h=n(922),d=r(h),m=n(768),y=r(m),v=n(1013),g=r(v),b=n(1194),_=r(b),x=n(1197),w=r(x),T=n(1205),E=r(T),C=n(1210),k=r(C),S=n(1211),P=r(S),M=n(1190),A=r(M),O=n(1019),D=r(O),L=n(1059),I=r(L),j=n(1087),F=r(j),R=n(940),N=r(R),z=n(1010),B=n(950),U=r(B),W=n(1016),q=r(W),V=n(933),H=r(V),G=n(927),Y=r(G),Z=n(1065),X=r(Z),K=n(1213),Q=r(K),J=n(1216),$=r(J),tt=n(1218),et=r(tt),nt=n(1064),rt=r(nt),ot=n(1220),it=r(ot),at=60,st=a["default"].createClass({displayName:"GenotypesChannel",mixins:[(0,c["default"])({redirect:["setProps","onClose"],check:["chromosome","width","sideWidth","name","table","columnQuery","rowQuery","rowLabel","rowSort","layoutGaps","cellColour","cellAlpha","cellHeight","rowHeight","pageSize","page"]}),l["default"],p["default"],(0,d["default"])("chromosome","start","end","width","sideWidth","table","columnQuery","rowQuery","rowLabel","rowSort","cellColour","cellAlpha","cellHeight","layoutGaps","rowHeight","pageSize","page")],propTypes:{setProps:a["default"].PropTypes.func,chromosome:a["default"].PropTypes.string,start:a["default"].PropTypes.number,end:a["default"].PropTypes.number,width:a["default"].PropTypes.number,sideWidth:a["default"].PropTypes.number,name:a["default"].PropTypes.string,onClose:a["default"].PropTypes.func,table:a["default"].PropTypes.string.isRequired,columnQuery:a["default"].PropTypes.string,rowQuery:a["default"].PropTypes.string,rowLabel:a["default"].PropTypes.string,rowSort:a["default"].PropTypes.string,rowHeight:a["default"].PropTypes.number,cellColour:a["default"].PropTypes.string,cellAlpha:a["default"].PropTypes.string,cellHeight:a["default"].PropTypes.string,pageSize:a["default"].PropTypes.number,page:a["default"].PropTypes.number,layoutGaps:a["default"].PropTypes.bool,onChangeLoadStatus:a["default"].PropTypes.func},getDefaultProps:function(){return{rowQuery:N["default"].nullQuery,columnQuery:N["default"].nullQuery,layoutGaps:!0,rowHeight:10,pageSize:100,page:0,cellColour:"call",rowSort:null}},getInitialState:function(){return{blocks:[],colPositions:new Float64Array(0),genomicPositions:new Float64Array(0),visibleGenomicPositions:new Float64Array(0),colWidth:1}},layoutColumns:function(t,e){var n=t.start,r=t.end,o=t.layoutGaps,i=(0,_["default"])(e,n),a=(0,w["default"])(e,r),s=e.subarray?e.subarray(i,a):e.slice(i,a),l=o?20:0,u=[];u.push([0,s[0]-n]);for(var c=1,f=s.length;c<f;++c)u.push([c,s[c]-s[c-1]]);u.push([s.length,r-(0,k["default"])(s)]),u=(0,y["default"])(u,function(t){return t[1]>3*((r-n)/u.length)}),u=(0,P["default"])((0,E["default"])(u,function(t){return t[1]}),l);for(var p=(0,g["default"])(u,function(t){return t[1]})/2,h=Math.floor(p/((r-n-p)/s.length)),d=(r-n)/(s.length+h),m=new Uint32Array(s.length+1),v=0;v<h;++v){var b=(0,k["default"])(u);m[b[0]]+=1,b[1]-=d,u=(0,E["default"])(u,function(t){return t[1]})}for(var x=[],T=0,C=m[0],S=0,M=m.length-1;S<M;++S)(m[S+1]>0||S===m.length-2)&&(x.push([T+i,S+1+i,C]),C=C+(S-T+1)+m[S+1],T=S+1);return{colWidth:d,layoutBlocks:x}},fetchData:function(t,e){var n=this,r=t.chromosome,o=t.start,i=t.end,a=t.width,s=t.sideWidth,l=t.table,u=t.columnQuery,c=t.rowQuery,f=t.rowLabel,p=t.cellColour,h=t.cellAlpha,d=t.cellHeight,m=t.page,y=t.pageSize,v=t.rowSort,g=this.config.twoDTablesById[l],b=["chromosome","cellColour","cellAlpha","cellHeight","rowQuery","columnQuery","rowLabel","rowSort","layoutGaps","page","pageSize"];if(b.some(function(e){return n.props[e]!==t[e]})&&this.applyData(t,null),!(a-s<1)){if(f&&!this.config.tablesById[g.rowDataTable].propertiesById[f])return void(0,U["default"])(this.getFlux(),"Genotypes "+l+" channel: "+f+" is not a valid property of "+g.rowDataTable);if(v&&!this.config.tablesById[g.rowDataTable].propertiesById[v]&&"NULL"!=v)return void(0,U["default"])(this.getFlux(),"Genotypes "+l+" channel: "+v+" is not a valid property of "+g.rowDataTable);if("call"!==p&&"fraction"!==p)return void(0,U["default"])(this.getFlux(),"Genotypes "+l+" channel: cellColour must be call or fraction");if(h&&!g.propertiesById[h])return void(0,U["default"])(this.getFlux(),"Genotypes "+l+" channel: "+h+" is not a valid property of "+g.id);if(d&&!g.propertiesById[d])return void(0,U["default"])(this.getFlux(),"Genotypes "+l+" channel: "+d+" is not a valid property of "+g.id);var _=(0,z.findBlock)({start:o,end:i}),x=_.blockLevel,w=_.blockIndex,T=_.needNext;(b.some(function(e){return n.props[e]!==t[e]})||this.blockLevel!==x||this.blockIndex!==w||this.needNext!==T)&&!function(){n.blockLevel=x,n.blockIndex=w,n.needNext=T,n.props.onChangeLoadStatus("LOADING");var t=n.config.tablesById[g.columnDataTable],a=n.config.tablesById[g.rowDataTable],s=[a.primKey],b=[t.primKey,t.position];f&&s.push(f),s=(0,A["default"])(s);var _="call"===p?[g.showInGenomeBrowser.call]:[g.showInGenomeBrowser.alleleDepth];h&&_.push(h),d&&_.push(d),u=N["default"].WhereClause.decode(u),u=N["default"].WhereClause.AND([N["default"].WhereClause.CompareFixed(t.chromosome,"=",r),u]);var E={dataset:n.config.dataset,table:l,colQry:N["default"].WhereClause.encode(u),colOrder:t.position,rowQry:c,rowOrder:v,rowOffset:m*y,rowLimit:(m+1)*y,colProperties:b.join("~"),rowProperties:s.join("~"),"2DProperties":_.join("~"),colOnlyOnLimit:!0},C={method:"twoDPageQuery",regionField:t.position,queryField:"colQry",limitField:"colFailLimit",start:o,end:i,blockLimit:1e3,isBlockTooBig:function(t){return t._over_col_limit},postProcessBlock:n.calculatedDerivedProperties};e.request(function(t){return(0,z.regionCacheGet)(E,C,t).then(function(t){n.props.onChangeLoadStatus("DONE"),n.applyData(n.props,t)})})["catch"](function(t){throw n.props.onChangeLoadStatus("DONE"),t})["catch"](H["default"].filterAborted)["catch"](Y["default"].filterCancelled)["catch"](function(t){throw n.applyData(n.props,null),(0,U["default"])(n.getFlux(),t.message,function(){return n.fetchData(n.props,e)}),t})}()}},calculatedDerivedProperties:function(t){var e=this.config.twoDTablesById[this.props.table].showInGenomeBrowser;if(e.call&&t["2D_"+e.call]){for(var n=t["2D_"+e.call],r=n.array,o=n.shape[2]||1,i=new Int8Array(r.length/o),a=0,s=n.shape[0];a<s;a++)for(var l=0,u=n.shape[1];l<u;l++){for(var c=-2,f=0;f<o;f++){var p=r[a*u*o+l*o+f];if(p=p>0?1:p,p==-1){c=-1;break}if(0==p&&1==c){c=2;break}if(1==p&&0==c){c=2;break}c=p}i[a*u+l]=c}i={array:i,shape:[n.shape[0],n.shape[1]]},t["2D__call"]=i}if(e.alleleDepth&&t["2D_"+e.alleleDepth]){for(var h=t["2D_"+e.alleleDepth],d=h.array,m=h.shape[2]||1,y=new Uint8ClampedArray(d.length/m),v=0,g=h.shape[0];v<g;v++)for(var b=0,_=h.shape[1];b<_;b++){for(var x=d[v*_*m+b*m],w=0,T=1;T<m;T++)w+=d[v*_*m+b*m+T];var E=w/(x+w);E=Math.max(0,E),E=Math.min(1,E),y[v*_+b]=w+x>0?1+255*E:0}y={array:y,shape:[h.shape[0],h.shape[1]]},t["2D__fraction"]=y}return t},componentWillReceiveProps:function(t){var e=this,n=["start","end","layoutMode"];n.some(function(n){return e.props[n]!==t[n]})&&this.state.genomicPositions&&this.setState(this.layoutColumns(t,this.state.genomicPositions))},applyData:function(t,e){if(!e)return void this.setState({rowData:{id:{array:[],shape:[0]},label:{array:[],shape:[0]}},dataBlocks:[],layoutBlocks:[],genomicPositions:new Int32Array(0)});var n=t.table,r=t.rowLabel,i=this.config.twoDTablesById[n],a=this.config.tablesById[i.columnDataTable],s=this.config.tablesById[i.rowDataTable],l=(0,z.combineBlocks)(e,"col_"+a.position);e.length>0&&0===e[0]["row_"+s.primKey].shape[0]&&(e=[]),this.setState(o({rowData:e.length>0?{id:e[0]["row_"+s.primKey],label:e[0]["row_"+r]||e[0]["row_"+s.primKey]}:null,dataBlocks:e,genomicPositions:l},this.layoutColumns(t,l)))},render:function(){var t=this.props,e=t.width,n=t.sideWidth,r=t.table,i=t.start,s=t.end,l=t.rowHeight,u=t.rowLabel,c=t.cellColour,f=t.cellAlpha,p=t.cellHeight,h=this.state,d=h.rowData,m=h.dataBlocks,y=h.layoutBlocks,v=h.genomicPositions,g=h.colWidth,b=this.config.twoDTablesById[r],_=this.config.tablesById[b.rowDataTable],x=d?d.id.shape[0]:0;return a["default"].createElement(rt["default"],{width:e,sideWidth:n,height:l*x+at,sideComponent:a["default"].createElement(et["default"],{table:r,width:n,height:l*x,rowData:d,rowHeight:l,rowLabel:u||_.primKey}),configComponent:a["default"].createElement(lt,o({},this.props,{setProps:this.redirectedProps.setProps})),legendComponent:a["default"].createElement(ut,null),onClose:this.redirectedProps.onClose},a["default"].createElement(Q["default"],{genomicPositions:v,layoutBlocks:y,dataBlocks:m,width:e-n,height:at,start:i,end:s,colWidth:g}),a["default"].createElement($["default"],{table:r,rowData:d,dataBlocks:m,layoutBlocks:y,width:e-n,height:l*x,start:i,end:s,colWidth:g,cellColour:c,cellAlpha:f,cellHeight:p,rowHeight:l}))}}),lt=a["default"].createClass({displayName:"GenotypesControls",mixins:[(0,c["default"])({check:["rowLabel","rowHeight","columnQuery","rowQuery","cellColour","cellAlpha","cellHeight","layoutGaps","rowSort","pageSize","page"],redirect:["setProps"]}),p["default"],l["default"]],propTypes:{table:a["default"].PropTypes.string.isRequired,columnQuery:a["default"].PropTypes.string,rowQuery:a["default"].PropTypes.string,rowLabel:a["default"].PropTypes.string,rowSort:a["default"].PropTypes.string,rowHeight:a["default"].PropTypes.number,cellColour:a["default"].PropTypes.string,cellAlpha:a["default"].PropTypes.string,cellHeight:a["default"].PropTypes.string,pageSize:a["default"].PropTypes.number,page:a["default"].PropTypes.number,layoutGaps:a["default"].PropTypes.bool},render:function(){var t=this,e=this.props,n=e.table,r=e.columnQuery,o=e.rowQuery,i=e.rowHeight,s=e.rowLabel,l=e.cellColour,u=e.cellAlpha,c=e.cellHeight,f=e.layoutGaps,p=e.rowSort,h=e.pageSize,d=e.page,m=this.config.twoDTablesById[n];return a["default"].createElement("div",{className:"channel-controls"},a["default"].createElement("div",{className:"control"},a["default"].createElement(X["default"],{table:m.columnDataTable,query:r,name:this.config.tablesById[m.columnDataTable].capNamePlural,onPick:function(e){return t.redirectedProps.setProps({columnQuery:e})}})),a["default"].createElement("div",{className:"control"},a["default"].createElement(X["default"],{table:m.rowDataTable,query:o,name:this.config.tablesById[m.rowDataTable].capNamePlural,onPick:function(e){return t.redirectedProps.setProps({rowQuery:e})}})),a["default"].createElement("div",{className:"control"},a["default"].createElement(q["default"],{table:m.rowDataTable,value:s||this.config.tablesById[m.rowDataTable].primKey,label:"Row Label",onSelect:function(e){return t.redirectedProps.setProps({rowLabel:e})}})),a["default"].createElement("div",{className:"control"},a["default"].createElement(q["default"],{table:m.rowDataTable,value:p,label:"Row Sort",allowNull:!0,onSelect:function(e){return t.redirectedProps.setProps({rowSort:e})}})),a["default"].createElement("div",{className:"control"},a["default"].createElement(it["default"],{value:i,onChange:function(e){return t.redirectedProps.setProps({rowHeight:e})}})),a["default"].createElement("div",{className:"control"},a["default"].createElement(it["default"],{value:h,onChange:function(e){return t.redirectedProps.setProps({pageSize:e})}})),a["default"].createElement("div",{className:"control"},a["default"].createElement(it["default"],{value:d,onChange:function(e){return t.redirectedProps.setProps({page:e})}})),a["default"].createElement("div",{className:"control"},a["default"].createElement(D["default"],{style:{width:"140px"},value:l,autoWidth:!0,floatingLabelText:"Cell Colour",onChange:function(e,n,r){return t.redirectedProps.setProps({cellColour:r})}},a["default"].createElement(I["default"],{value:"call",primaryText:"Call"}),a["default"].createElement(I["default"],{value:"fraction",primaryText:"Ref fraction"}))),a["default"].createElement("div",{className:"control"},a["default"].createElement(D["default"],{style:{width:"256px"},value:u,autoWidth:!0,floatingLabelText:"Cell Opacity",onChange:function(e,n,r){return t.redirectedProps.setProps({cellAlpha:"none"===r?void 0:r})}},a["default"].createElement(I["default"],{value:"none",primaryText:"None"}),m.showInGenomeBrowser.extraProperties.map(function(t){return a["default"].createElement(I["default"],{value:t,key:t,primaryText:m.propertiesById[t].name})}))),a["default"].createElement("div",{className:"control"},a["default"].createElement(D["default"],{style:{width:"256px"},value:c,autoWidth:!0,floatingLabelText:"Cell Height",onChange:function(e,n,r){return t.redirectedProps.setProps({cellHeight:"none"===r?void 0:r})}},a["default"].createElement(I["default"],{value:"none",primaryText:"None"}),m.showInGenomeBrowser.extraProperties.map(function(t){return a["default"].createElement(I["default"],{value:t,key:t,primaryText:m.propertiesById[t].name})}))),a["default"].createElement("div",{className:"control"},a["default"].createElement("div",{className:"label"},"Space columns:"),a["default"].createElement(F["default"],{name:"layoutGaps",defaultChecked:f,style:{width:"inherit"},onCheck:function(e,n){return t.redirectedProps.setProps({layoutGaps:n})}})))}}),ut=a["default"].createClass({displayName:"GenotypesLegend",mixins:[(0,c["default"])({check:["rowLabel"]})],render:function(){return a["default"].createElement("div",null,"Legend")}});t.exports=st},function(t,e,n){var r=n(966),o=n(1206),i=n(592),a=n(793),s=i(function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),o(t,r(e,1),[])});t.exports=s},function(t,e,n){function r(t,e,n){var r=-1;e=o(e.length?e:[c],l(i));var f=a(t,function(t,n,i){var a=o(e,function(e){return e(t)});return{criteria:a,index:++r,value:t}});return s(f,function(t,e){return u(t,e,n)})}var o=n(767),i=n(727),a=n(953),s=n(1207),l=n(718),u=n(1208),c=n(593);t.exports=r},function(t,e){function n(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}t.exports=n},function(t,e,n){function r(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,l=n.length;++r<s;){var u=o(i[r],a[r]);if(u){if(r>=l)return u;var c=n[r];return u*("desc"==c?-1:1)}}return t.index-e.index}var o=n(1209);t.exports=r},function(t,e,n){function r(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t===t,a=o(t),s=void 0!==e,l=null===e,u=e===e,c=o(e);if(!l&&!c&&!a&&t>e||a&&s&&u&&!l&&!c||r&&s&&u||!n&&u||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||l&&n&&i||!s&&i||!u)return-1}return 0}var o=n(305);t.exports=r},function(t,e){function n(t){var e=t?t.length:0;return e?t[e-1]:void 0}t.exports=n},function(t,e,n){function r(t,e,n){var r=t?t.length:0;return r?(e=n||void 0===e?1:i(e),e=r-e,o(t,e<0?0:e,r)):[]}var o=n(1212),i=n(650);t.exports=r},function(t,e){function n(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(316),s=r(a),l=n(584),u=r(l),c=n(1214),f=r(c),p=n(1009),h=r(p),d=n(768),m=r(d),y=n(1063),v=20,g=s["default"].createClass({displayName:"GenotypesFan",mixins:[u["default"]],propTypes:{genomicPositions:s["default"].PropTypes.any,colWidth:s["default"].PropTypes.number,start:s["default"].PropTypes.number,end:s["default"].PropTypes.number,width:s["default"].PropTypes.number,height:s["default"].PropTypes.number,layoutBlocks:s["default"].PropTypes.array,dataBlocks:s["default"].PropTypes.array},componentDidMount:function(){this.paint(this.refs.canvas,this.props)},componentWillReceiveProps:function(t){this.props.dataBlocks!==t.dataBlocks?this.tooBigBlocks=(0,h["default"])((0,m["default"])(t.dataBlocks,{_tooBig:!0}),function(t,e){var n=t[t.length-1];n&&n._blockStart+n._blockSize===e._blockStart?t[t.length-1]=i({},n,{_blockSize:n._blockSize+e._blockSize}):t.push(e)}):this.tooBigBlocks=[]},componentDidUpdate:function(){this.paint(this.refs.canvas,this.props)},paint:function(t,e){var n=e.genomicPositions,r=e.layoutBlocks,i=e.start,a=e.end,s=e.width,l=e.height,u=e.colWidth,c=t.getContext("2d"),p=s/(a-i);if(c.clearRect(0,0,t.width,t.height),r&&n){c.lineWidth=1,c.strokeStyle="rgba(80,80,80, 0.6)";for(var h=u*p,d=(0,f["default"])(h,5,20),m=l-v,g=.5*m,b=null,_=0,x=r.length;_<x;++_)for(var w=o(r[_],3),T=w[0],E=w[1],C=w[2],k=T,S=C+.5;k<E;++k,++S){var P=S*h,M=(n[k]-i)*p;(h>2||!b||M-b[0]>2||P-b[1]>2)&&(c.beginPath(),c.moveTo(M,0),c.bezierCurveTo(M,g,P,g,P,m),0===d&&c.lineTo(P,l),c.stroke(),b=[M,P])}if(d>0){c.font="12px Roboto",c.fillStyle="rgb(0,0,0)",c.strokeStyle="rgba(0,0,0,0.2)",c.lineWidth=1;for(var A=0,O=r.length;A<O;++A)for(var D=o(r[A],3),T=D[0],E=D[1],C=D[2],L=T,I=C+.5;L<E;++L,++I){var j="rgba(190,190,190, 0.75)";c.strokeStyle="rgba(120,120,120, 0.75)",
c.fillStyle=j;var F=I*h,R=h/2;c.save(),c.translate(F-R,l),c.beginPath(),c.moveTo(0,0),c.bezierCurveTo(0,-10,R,-10,R,-v),c.bezierCurveTo(R,-10,h,-10,h,0),c.closePath(),c.fill(),c.stroke(),c.restore()}}c.strokeStyle="rgba(0,0,0,0.5)",c.textAlign="center",c.textBaseline="middle",c.font="14px Roboto";var N=l/2-12;this.tooBigBlocks.forEach(function(t){var e=p*(t._blockStart-i),n=p*t._blockSize,r=e<0&&e+n>s?s/2:e+n/2;(0,y.hatchRect)(c,e,N,n,24,8),n>100&&(c.save(),c.fillStyle="black",c.strokeStyle="white",c.lineWidth=6,c.lineJoin="miter",c.miterLimit=2,c.strokeText("Zoom in",r,N+12),c.fillText("Zoom in",r,N+12),c.restore())})}},render:function(){var t=this.props,e=t.width,n=t.height;return s["default"].createElement("canvas",{ref:"canvas",width:e,height:n})}});e["default"]=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n,r,o,a){return r=r||i["default"].Easing.Quadratic.InOut,void 0==o&&(o=0),void 0==a&&(a=1),t<=e&&e<=n||t>=e&&e>=n?o:t>=n&&e<=n||t<=n&&e>=n?a:o+r((t-e)/(n-e))*(a-o)};var o=n(1215),i=r(o)},function(t,e,n){var r,o;(function(n){var i=i||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(e){t.push(e)},remove:function(e){var n=t.indexOf(e);n!==-1&&t.splice(n,1)},update:function(e,n){if(0===t.length)return!1;var r=0;for(e=void 0!==e?e:i.now();r<t.length;)t[r].update(e)||n?r++:t.splice(r,1);return!0}}}();!function(){void 0===this.window&&void 0!==this.process?i.now=function(){var t=n.hrtime();return 1e3*t[0]+t[1]/1e3}:void 0!==this.window&&void 0!==window.performance&&void 0!==window.performance.now?i.now=window.performance.now.bind(window.performance):void 0!==Date.now?i.now=Date.now:i.now=function(){return(new Date).getTime()}}(),i.Tween=function(t){var e=t,n={},r={},o={},a=1e3,s=0,l=!1,u=!1,c=!1,f=0,p=null,h=i.Easing.Linear.None,d=i.Interpolation.Linear,m=[],y=null,v=!1,g=null,b=null,_=null;for(var x in t)n[x]=parseFloat(t[x],10);this.to=function(t,e){return void 0!==e&&(a=e),r=t,this},this.start=function(t){i.add(this),u=!0,v=!1,p=void 0!==t?t:i.now(),p+=f;for(var a in r){if(r[a]instanceof Array){if(0===r[a].length)continue;r[a]=[e[a]].concat(r[a])}void 0!==n[a]&&(n[a]=e[a],n[a]instanceof Array==!1&&(n[a]*=1),o[a]=n[a]||0)}return this},this.stop=function(){return u?(i.remove(this),u=!1,null!==_&&_.call(e),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var t=0,e=m.length;t<e;t++)m[t].stop()},this.delay=function(t){return f=t,this},this.repeat=function(t){return s=t,this},this.yoyo=function(t){return l=t,this},this.easing=function(t){return h=t,this},this.interpolation=function(t){return d=t,this},this.chain=function(){return m=arguments,this},this.onStart=function(t){return y=t,this},this.onUpdate=function(t){return g=t,this},this.onComplete=function(t){return b=t,this},this.onStop=function(t){return _=t,this},this.update=function(t){var i,u,_;if(t<p)return!0;v===!1&&(null!==y&&y.call(e),v=!0),u=(t-p)/a,u=u>1?1:u,_=h(u);for(i in r)if(void 0!==n[i]){var x=n[i]||0,w=r[i];w instanceof Array?e[i]=d(w,_):("string"==typeof w&&(w="+"===w.charAt(0)||"-"===w.charAt(0)?x+parseFloat(w,10):parseFloat(w,10)),"number"==typeof w&&(e[i]=x+(w-x)*_))}if(null!==g&&g.call(e,_),1===u){if(s>0){isFinite(s)&&s--;for(i in o){if("string"==typeof r[i]&&(o[i]=o[i]+parseFloat(r[i],10)),l){var T=o[i];o[i]=r[i],r[i]=T}n[i]=o[i]}return l&&(c=!c),p=t+f,!0}null!==b&&b.call(e);for(var E=0,C=m.length;E<C;E++)m[E].start(p+a);return!1}return!0}},i.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-i.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*i.Easing.Bounce.In(2*t):.5*i.Easing.Bounce.Out(2*t-1)+.5}}},i.Interpolation={Linear:function(t,e){var n=t.length-1,r=n*e,o=Math.floor(r),a=i.Interpolation.Utils.Linear;return e<0?a(t[0],t[1],r):e>1?a(t[n],t[n-1],n-r):a(t[o],t[o+1>n?n:o+1],r-o)},Bezier:function(t,e){for(var n=0,r=t.length-1,o=Math.pow,a=i.Interpolation.Utils.Bernstein,s=0;s<=r;s++)n+=o(1-e,r-s)*o(e,s)*t[s]*a(r,s);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,o=Math.floor(r),a=i.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(o=Math.floor(r=n*(1+e))),a(t[(o-1+n)%n],t[o],t[(o+1)%n],t[(o+2)%n],r-o)):e<0?t[0]-(a(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(a(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):a(t[o?o-1:0],t[o],t[n<o+1?n:o+1],t[n<o+2?n:o+2],r-o)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=i.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var r=e;r>1;r--)n*=r;return t[e]=n,n}}(),CatmullRom:function(t,e,n,r,o){var i=.5*(n-t),a=.5*(r-e),s=o*o,l=o*s;return(2*e-2*n+i+a)*l+(-3*e+3*n-2*i-a)*s+i*o+e}}},function(n){r=[],o=function(){return i}.apply(e,r),!(void 0!==o&&(t.exports=o))}(this)}).call(e,n(294))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});for(var o=(function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),i=n(316),a=r(i),s=n(1217),l=r(s),u=n(584),c=r(u),f=n(583),p=r(f),h=n(582),d=r(h),m=[],y=0;y<255;y++)m[y+1]="hsla("+Math.round(240+y/256*120)+",100%,35%,";m[0]="hsl(0,50%,0%)";var v=a["default"].createClass({displayName:"GenotypesTable",mixins:[c["default"],p["default"],d["default"]],propTypes:{table:a["default"].PropTypes.string,genomicPositions:a["default"].PropTypes.any,colPositions:a["default"].PropTypes.any,blocks:a["default"].PropTypes.array,colWidth:a["default"].PropTypes.number,start:a["default"].PropTypes.number,end:a["default"].PropTypes.number,width:a["default"].PropTypes.number,height:a["default"].PropTypes.number,rowHeight:a["default"].PropTypes.number,cellColour:a["default"].PropTypes.string,cellAlpha:a["default"].PropTypes.string,cellHeight:a["default"].PropTypes.string,layoutBlocks:a["default"].PropTypes.array,dataBlocks:a["default"].PropTypes.array},componentDidMount:function(){this.paint(this.refs.gridCanvas,this.refs.overlayCanvas)},componentDidUpdate:function(){this.paint(this.refs.gridCanvas,this.refs.overlayCanvas)},drawOffscreenIfNeeded:function(t){var e=this.props,n=e.cellColour,r=e.cellAlpha,o=e.cellHeight,i=e.rowHeight,a=e.table,s=this.config.twoDTablesById[a];if(t._tooBig)return void(t.len=0);var l=t["2D__"+n].array,u=t["2D__"+n].shape,c=void 0,f=void 0,p=void 0,h=void 0;r&&(c=t["2D_"+r].array,f=t["2D_"+r].shape,p=s.propertiesById[r].minVal,h=s.propertiesById[r].maxVal-p);var d=void 0,y=void 0,v=void 0,g=void 0;if(o&&(d=t["2D_"+o].array,y=t["2D_"+o].shape,v=s.propertiesById[o].minVal,g=s.propertiesById[o].maxVal-v),2!==u.length)throw Error("Wrong array dimension for "+n+" must be 2D");if(f&&2!==f.length&&0!==f[0])throw Error("Wrong array dimension for "+r+" must be 2D");if(y&&2!==y.length&&0!==y[0])throw Error("Wrong array dimension for "+o+" must be 2D");var b=JSON.stringify({cellColour:n,cellAlpha:r,cellHeight:o,rowHeight:i,alphaOffset:p,alphaScale:h,heightOffset:v,heightScale:g});if(t.cacheKey!==b){var _=document.createElement("canvas"),x=u[1];_.width=x,_.height=u[0]*i;for(var w=_.getContext("2d"),T=0,E=x;T<E;T++)for(var C=0,k=u[0];C<k;C++){var S=C*x+T,P=c?Math.max(0,Math.min(1,(c[S]-p)/h)):1,M=d?Math.max(0,Math.min(1,(d[S]-v)/g)):1;if("call"===n)switch(l[S]){case 0:w.fillStyle="rgba(0,128,192,"+P+")";break;case 1:w.fillStyle="rgba(255,50,50,"+P+")";break;case 2:w.fillStyle="rgba(0,192,120,"+P+")";break;default:M=.2,P=.2,w.fillStyle="rgb(230,230,230)"}else if("fraction"===n){var A=l[S];w.fillStyle=A>0?m[A]+P+")":m[0]}w.fillRect(T,C*i+(1-M)*i*.5,1,M*i)}t.len=x||0,t.cache=_,t.cacheKey=b}},paint:function(t,e){var n=this.props,r=n.dataBlocks,i=n.layoutBlocks,a=n.width,s=n.start,l=n.end,u=n.colWidth,c=u*(a/(l-s)),f=t.getContext("2d"),p=e.getContext("2d"),h=c<2;if(f.mozImageSmoothingEnabled=h,f.webkitImageSmoothingEnabled=h,f.msImageSmoothingEnabled=h,f.oImageSmoothingEnabled=h,f.imageSmoothingEnabled=h,f.fillStyle="white",f.fillRect(0,0,t.width,t.height),p.clearRect(0,0,e.width,e.height),i&&r){r.forEach(this.drawOffscreenIfNeeded);for(var d=0,m=0,y=0;y<i.length;y++)for(var v=o(i[y],3),g=v[0],b=v[1],_=v[2];;){var x=r[m];if(d+x.len<=g)m+=1,d+=x.len;else{if(d>b)throw Error("Datablocks not in order? Data is ahead of layout");var w=x.cache,T=g-d,E=Math.min(b-d,x.len),C=E-T;if(f.drawImage(w,T,0,C,w.height,_*c,0,C*c,w.height),this.drawOverlay(p,x,T,C,_),!(b-d>x.len))break;g+=C,_+=C}}}},drawOverlay:function(t,e,n,r,o){var i=this.props,a=i.cellColour,s=i.table,u=i.rowHeight,c=i.width,f=i.start,p=i.end,h=i.colWidth,d=h*(c/(p-f)),m=this.config.twoDTablesById[s],y="call"==a?e["2D_"+m.showInGenomeBrowser.call]:e["2D_"+m.showInGenomeBrowser.alleleDepth];if(y){var v=y.shape[2]||1,g=y.shape[0]||0,b=y.shape[1]||0;y=y.array,t.save(),t.font=""+u+"px Roboto",t.lineWidth=1,t.textBaseline="middle",t.textAlign="center";var _=1,x=t.measureText((0,l["default"])("fraction"==a?"0000,":"88/",v)).width;if(d>x+15&&u>=6){t.fillStyle="rgba(255,255,255,0.6)";for(var w=0;w<r;++w)t.fillRect((o+w+.5)*d-x/2,0,x,g*u);t.fillStyle="rgb(40,40,40)";for(var T=0;T<r;++T)for(var E=0;E<g;++E){for(var C=E*b+T+n,k="",S=C*v,P=C*v+v;S<P;++S)k+=y[S],S<P-1&&(k+="call"==a?",":"/");var M=(o+T+.5)*d,A=(E+.5)*u;if("call"==a){var O=e["2D__call"].array[C];if(O==-1||O==-2){0!=_&&(t.fillStyle="rgb(150,150,150)",_=0),t.fillText("",M,A);continue}0==O?(0!=_&&(t.fillStyle="rgb(150,150,150)",_=0),t.fillText(k,M,A)):(1!=_&&(t.fillStyle="rgb(40,40,40)",_=1),t.fillText(k,M,A))}else t.fillText(k,M,A)}}}},render:function(){var t=this.props,e=t.dataBlocks,n=t.layoutBlocks,r=t.width,o=t.height;return n&&e?a["default"].createElement("div",{className:"genotypes-table"},a["default"].createElement("canvas",{ref:"gridCanvas",width:r,height:o}),a["default"].createElement("canvas",{ref:"overlayCanvas",width:r,height:o})):a["default"].createElement("div",null,a["default"].createElement("canvas",{ref:"gridCanvas",width:r,height:o}),a["default"].createElement("canvas",{ref:"overlayCanvas",width:r,height:o}))}});e["default"]=v},function(t,e){/*!
	 * repeat-string <https://github.com/jonschlinkert/repeat-string>
	 *
	 * Copyright (c) 2014-2015, Jon Schlinkert.
	 * Licensed under the MIT License.
	 */
"use strict";function n(t,e){if("string"!=typeof t)throw new TypeError("repeat-string expects a string.");if(1===e)return t;if(2===e)return t+t;var n=t.length*e;for(r===t&&"undefined"!=typeof r||(r=t,o="");n>o.length&&e>0&&(1&e&&(o+=t),e>>=1);)t+=t;return o.substr(0,n)}var r,o="";t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(584),s=r(a),l=n(583),u=r(l),c=n(582),f=r(c),p=n(1219),h=r(p),d=i["default"].createClass({displayName:"GenotypesRowHeader",mixins:[s["default"],f["default"],u["default"]],propTypes:{table:i["default"].PropTypes.string,height:i["default"].PropTypes.number,width:i["default"].PropTypes.number,rowLabel:i["default"].PropTypes.string,rowHeight:i["default"].PropTypes.number,rowData:i["default"].PropTypes.array},componentDidMount:function(){this.paint(this.refs.canvas)},componentDidUpdate:function(){this.paint(this.refs.canvas)},paint:function(t){var e=this.props,n=e.rowHeight,r=e.width,o=e.rowData,i=e.rowLabel,a=e.table,s=this.config.twoDTablesById[a],l=this.config.tablesById[s.rowDataTable],u=t.getContext("2d");if(u.fillStyle="white",u.fillRect(0,0,t.width,t.height),o){var c=o.id.array,f=o.label.array,p=n>10,d=Math.min(14,n-1);if(u.font=""+d+"px Roboto",u.fillStyle="rgb(0,0,0)",u.strokeStyle="rgba(0,0,0,0.2)",u.lineWidth=1,p){u.beginPath();for(var m=0;m<=c.length;m++){var y=m*n;u.moveTo(0,y+.5),u.lineTo(r,y+.5)}u.stroke()}for(var v=!1,g=function(t,e,o){if(!(o<e)){var i=e*n,a=(o+1)*n;if(a>i+3){if(u.beginPath(),v||(u.moveTo(0,i+.5),u.lineTo(r,i+.5)),u.moveTo(0,a+.5),u.lineTo(r,a+.5),u.stroke(),v=!0,a>i+5){var s=Math.min(12,a-i-1);u.font=""+s+"px Roboto";var l=(a+i)/2-1+s/2;u.fillText(t,2,l)}}else v=!1}},b=null,_=0,x=0;x<=f.length;x++){var w=(x+1)*n,T=(0,h["default"])(l.propertiesById[i],f[x]);p?(u.beginPath(),u.rect(1.5,w-n+2.5,10,n-4),u.fill(),u.stroke(),u.fillStyle="rgb(0,0,0)",u.fillText(T,13,w-1-(n-d)/2)):T!=b&&(g(b,_,x-1),b=T,_=x)}null!=b&&g(b,_,c.length-1)}},render:function(){var t=this.props,e=t.height,n=t.width,r=t.table,o=t.rowLabel,a=this.config.twoDTablesById[r],s=this.config.tablesById[a.rowDataTable];return i["default"].createElement("div",{className:"genotypes-side"},i["default"].createElement("div",{className:"side-name"},a.namePlural),i["default"].createElement("div",{className:"row-label"},s.propertiesById[o].name),i["default"].createElement("canvas",{ref:"canvas",width:n,height:e}))}});e["default"]=d},function(t,e){"use strict";var n=function(t){return new Date(24*(t-2440587.5)*60*60*1e3)};t.exports=function(t,e){if(t.isBoolean)return e?"True":"False";if(t.isDate){if(null==e||"None"==e)return"";var r=n(parseFloat(e));if(isNaN(r.getTime()))return"2000-01-01";var o=function(t){return t<10?"0"+t:t};return r.getUTCFullYear()+"-"+o(r.getUTCMonth()+1)+"-"+o(r.getUTCDate())}return t.isFloat?null==e||"None"==e?"":(e=parseFloat(e),isNaN(e)?"":e.toFixed(t.decimDigits).toString()):void 0===e?"":e.toString()}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(992),i=r(o),a=n(654),s=r(a),l=n(316),u=r(l),c=n(584),f=r(c),p=u["default"].createClass({displayName:"NumericInput",mixins:[f["default"]],propTypes:{value:u["default"].PropTypes.number,onChange:u["default"].PropTypes.func.isRequired},componentWillMount:function(){this.setFromProps(this.props)},componentWillReceiveProps:function(t){this.setFromProps(t)},setFromProps:function(t){var e=t.value;try{this.setState({text:e.toString(),valid:!0})}catch(n){this.setState({text:e,valid:!1})}},handleChange:function(){var t=this.refs.input.value;this.setState({text:t});var e=parseInt(t);return(0,i["default"])(e)?(this.setState({valid:!0}),void this.props.onChange(e)):void this.setState({valid:!1})},render:function(){var t=this.state,e=t.text,n=t.valid;return u["default"].createElement("input",{className:(0,s["default"])({wide:!0,invalid:!n}),ref:"input",type:"number",spellCheck:"false",value:e,onChange:this.handleChange})}});t.exports=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(316),s=r(a),l=n(917),u=r(l),c=n(992),f=r(c),p=n(952),h=r(p),d=n(299),m=r(d),y=n(1201),v=r(y),g=n(1187),b=r(g),_=n(1190),x=r(_),w=n(583),T=r(w),E=n(960),C=r(E),k=n(582),S=r(k),P=n(922),M=r(P),A=n(940),O=r(A),D=n(933),L=r(D),I=n(927),j=r(I),F=n(1222),R=r(F),N=n(1225),z=r(N),B=n(950),U=r(B),W=n(1060),q=r(W),V=n(1016),H=r(V),G=n(1062),Y=n(1087),Z=r(Y),X=n(1028),K=r(X),Q=n(1059),J=r(Q),$=n(1141),tt=r($),et=n(1065),nt=r(et),rt=[{payload:"linear",text:"Linear"},{payload:"step",text:"Step"},{payload:"basis",text:"Basis"},{payload:"bundle",text:"Bundle"},{payload:"cardinal",text:"Cardinal"},{payload:"monotone",text:"Monotone"}],ot={cardinal:!0},it=s["default"].createClass({displayName:"PerRowScaledSVGChannel",mixins:[(0,C["default"])({redirect:["setProps","onClose"]}),S["default"],T["default"]],propTypes:{setProps:s["default"].PropTypes.func,chromosome:s["default"].PropTypes.string,start:s["default"].PropTypes.number,end:s["default"].PropTypes.number,width:s["default"].PropTypes.number,sideWidth:s["default"].PropTypes.number,interpolation:s["default"].PropTypes.string,autoYScale:s["default"].PropTypes.bool,tension:s["default"].PropTypes.number,yMin:s["default"].PropTypes.number,yMax:s["default"].PropTypes.number,query:s["default"].PropTypes.string,table:s["default"].PropTypes.string,channel:s["default"].PropTypes.string,name:s["default"].PropTypes.string,onClose:s["default"].PropTypes.func,colourProperty:s["default"].PropTypes.string},getInitialState:function(){return{dataYMin:0,dataYMax:1}},getDefaultProps:function(){return{interpolation:"step",autoYScale:!0,tension:.5,query:O["default"].nullQuery}},handleYLimitChange:function(t){var e=t.dataYMin,n=t.dataYMax;this.setState({dataYMin:e,dataYMax:n})},handleKnownLegendValuesChange:function(t){this.setState({legendValues:t})},render:function(){var t=this.props,e=t.name,n=t.table,r=t.colourProperty,o=this.state,a=o.dataYMin,l=o.dataYMax,u=o.legendValues;return s["default"].createElement(z["default"],i({},this.props,{dataYMin:a,dataYMax:l,side:s["default"].createElement("span",null,e),onClose:this.redirectedProps.onClose,controls:s["default"].createElement(st,i({},this.props,{setProps:this.redirectedProps.setProps})),legend:r?s["default"].createElement(q["default"],{table:n,property:r,knownValues:u}):null}),s["default"].createElement(at,i({},this.props,{onYLimitChange:this.handleYLimitChange,onKnownLegendValuesChange:this.handleKnownLegendValuesChange})))}}),at=s["default"].createClass({displayName:"PerRowNumericalTrack",mixins:[S["default"],T["default"],(0,M["default"])("chromosome","blockStart","blockEnd","table","channel","query","width","sideWidth","colourProperty")],propTypes:{chromosome:s["default"].PropTypes.string,blockStart:s["default"].PropTypes.number,blockEnd:s["default"].PropTypes.number,blockPixelWidth:s["default"].PropTypes.number,start:s["default"].PropTypes.number,end:s["default"].PropTypes.number,width:s["default"].PropTypes.number,sideWidth:s["default"].PropTypes.number,interpolation:s["default"].PropTypes.string,autoYScale:s["default"].PropTypes.bool,tension:s["default"].PropTypes.number,onYLimitChange:s["default"].PropTypes.func,onKnownLegendValuesChange:s["default"].PropTypes.func,table:s["default"].PropTypes.string.isRequired,channel:s["default"].PropTypes.string.isRequired,query:s["default"].PropTypes.string.isRequired,colourProperty:s["default"].PropTypes.string,onChangeLoadStatus:s["default"].PropTypes.func},getInitialState:function(){return{}},componentWillMount:function(){this.debouncedYScale=(0,m["default"])(this.calculateYScale,200),this.data={dataStart:0,dataStep:0,primKeys:[],colourVals:[],columns:{}}},componentWillUnmount:function(){this.props.onYLimitChange({dataYMin:null,dataYMax:null})},componentWillReceiveProps:function(t){var e=this;["interpolation","tension"].some(function(n){return e.props[n]!==t[n]})&&this.applyData(t),["start","end"].some(function(n){return Math.round(e.props[n])!==Math.round(t[n])})&&this.debouncedYScale(t)},shouldComponentUpdate:function(t,e){return this.state.area!==e.area||this.state.lines!==e.lines},fetchData:function(t,e){var n=this,r=t.chromosome,a=t.blockStart,s=t.blockEnd,l=t.blockPixelWidth,u=t.width,c=t.sideWidth,f=t.table,p=t.channel,h=t.query,d=t.colourProperty,m=this.config.tablesById[f];if(["chromosome","table","channel","query"].some(function(e){return n.props[e]!==t[e]})&&(this.data={dataStart:0,dataStep:0,primKeys:[],colourVals:[],columns:{}},this.applyData(t)),!(u-c<1)){if(!this.config.tablesById[f]||!this.config.tablesById[f].tableBasedSummaryValuesById[p])return void(0,U["default"])(this.getFlux(),t.group+"/"+t.track+" is not a valid per row summary track");if(d&&!this.config.tablesById[f].propertiesById[d])return void(0,U["default"])(this.getFlux(),"Per "+f+" channel: "+d+" is not a valid property of "+f);this.props.onChangeLoadStatus("LOADING");var y=[m.primKey];d&&y.push(d);var v={};y.forEach(function(t){return v[t]=m.propertiesById[t].defaultFetchEncoding});var g={database:this.config.dataset,table:f,columns:v,query:h,transpose:!1};e.request(function(e){return j["default"].get("pageQuery"+JSON.stringify(g),function(t){return L["default"].pageQuery(i({cancellation:t},g))},e).then(function(i){var u=i[m.primKey].slice(0,50);return n.data.primKeys=u,d&&(n.data.colourVals=i[d].slice(0,50)),Promise.all(u.map(function(i){return R["default"].fetch({columns:o({},i,{primKey:i,folder:"SummaryTracks/"+n.config.dataset+"/TableTracks/"+f+"/"+p+"/"+i,config:"Summ",name:p+"_"+i+"_avg"}),minBlockSize:n.tableConfig().tableBasedSummaryValuesById[p].blockSizeMin,chromosome:r,start:a,end:s,targetPointCount:l,cancellation:e}).then(function(e){var r=e.columns,o=e.dataStart,i=e.dataStep;n.data.dataStart=o,n.data.dataStep=i,Object.assign(n.data.columns,r),n.applyData(t),n.calculateYScale(t)})},"colourProperty"))}).then(function(t){return n.props.onChangeLoadStatus("DONE"),t})})["catch"](function(t){throw n.props.onChangeLoadStatus("DONE"),t})["catch"](L["default"].filterAborted)["catch"](j["default"].filterCancelled)["catch"](function(r){(0,U["default"])(n.getFlux(),r.message,function(){return n.fetchData(t,e)})})}},applyData:function(t){var e=this.data,n=e.primKeys,r=e.dataStart,o=e.dataStep,i=e.columns,a=e.colourVals,s=t.interpolation,l=t.tension,c=t.table,p=t.colourProperty,h=t.onKnownLegendValuesChange,d=(0,G.categoryColours)("__default__");p&&(d=(0,G.propertyColour)(this.config.tablesById[c].propertiesById[p]));var m={},y={};n.forEach(function(t,e){i[t]&&(m[t]=u["default"].svg.line().interpolate(s).tension(l).defined(f["default"]).x(function(t,e){return r+e*o}).y(function(t){return t})(i[t].data),y[t]=a?d(a[e]):null)}),c&&p&&h&&this.config.tablesById[c].propertiesById[p].isText&&h((0,x["default"])(a)),this.setState({lines:m,colours:y})},calculateYScale:function(t){var e=t.start,n=t.end,r=this.data,o=r.primKeys,i=r.dataStart,a=r.dataStep,s=r.columns,l=[],u=[];o.forEach(function(t){if(s[t]){var r=Math.max(0,Math.floor((e-i)/a)),o=Math.min(s[t].data.length-1,Math.ceil((n-i)/a));l.push((0,v["default"])(s[t].data.slice(r,o))),u.push((0,b["default"])(s[t].data.slice(r,o)))}});var c=(0,v["default"])(l),f=(0,b["default"])(u);if(c===f)c-=.1*c,f+=.1*f;else{var p=.1*(f-c);c-=p,f+=p}this.props.onYLimitChange({dataYMin:c,dataYMax:f})},render:function(){var t=this.state,e=t.area,n=t.lines,r=t.colours;return s["default"].createElement("g",{className:"numerical-track"},s["default"].createElement("path",{className:"area",d:e}),(0,h["default"])(n,function(t,e){return s["default"].createElement("path",{key:e,className:"line",style:{stroke:r[e]},d:t})}))}}),st=s["default"].createClass({displayName:"PerRowNumericalTrackControls",mixins:[S["default"],T["default"],(0,C["default"])({check:["interpolation","tension","autoYScale","yMin","yMax","table","query","colourProperty"],redirect:["setProps"]})],propTypes:{interpolation:s["default"].PropTypes.string,autoYScale:s["default"].PropTypes.bool,tension:s["default"].PropTypes.number,yMin:s["default"].PropTypes.number,yMax:s["default"].PropTypes.number,query:s["default"].PropTypes.string,table:s["default"].PropTypes.string,colourProperty:s["default"].PropTypes.string},handleQueryPick:function(t){this.redirectedProps.setProps({query:t})},render:function(){var t=this,e=this.props,n=e.interpolation,r=e.tension,o=e.autoYScale,i=e.yMin,a=e.yMax,l=e.query,u=e.table,c=e.colourProperty;return s["default"].createElement("div",{className:"channel-controls"},s["default"].createElement("div",{className:"control"},s["default"].createElement(nt["default"],{table:u,query:l,onPick:this.handleQueryPick})),s["default"].createElement("div",{className:"control"},s["default"].createElement("div",{className:"label"},"Colour By:"),s["default"].createElement(H["default"],{table:u,value:c,onSelect:function(e){return t.redirectedProps.setProps({colourProperty:e})}})),s["default"].createElement("div",{className:"control"},s["default"].createElement("div",{className:"label"},"Interpolation:"),s["default"].createElement(K["default"],{className:"dropdown",value:n,onChange:function(e,n,r){return t.redirectedProps.setProps({interpolation:r})}},rt.map(function(t){return s["default"].createElement(J["default"],{key:t.payload,value:t.payload,primaryText:t.text})}))),ot[n]?s["default"].createElement("div",{className:"control"},s["default"].createElement("div",{className:"label"},"Tension:"),s["default"].createElement(tt["default"],{className:"slider",style:{marginBottom:"0",marginTop:"0"},name:"tension",value:r,defaultValue:r,onChange:function(e,n){return t.redirectedProps.setProps({tension:n})}})):null,s["default"].createElement("div",{className:"control"},s["default"].createElement("div",{className:"label"},"Auto Y Scale:"),s["default"].createElement(Z["default"],{name:"autoYScale",defaultChecked:o,style:{width:"inherit"},onCheck:function(e,n){return t.redirectedProps.setProps({autoYScale:n})}})),o?null:s["default"].createElement("div",{className:"control"},s["default"].createElement("div",{className:"label"},"Y Min:"),s["default"].createElement("input",{className:"numeric-input",ref:"yMin",type:"number",value:i,onChange:function(){var e=parseFloat(t.refs.yMin.value);(0,f["default"])(e)&&t.redirectedProps.setProps({yMin:e})}})),o?null:s["default"].createElement("div",{className:"control"},s["default"].createElement("div",{className:"label"},"Y Max:"),s["default"].createElement("input",{className:"numeric-input",ref:"yMax",type:"number",value:a,onChange:function(){var e=parseFloat(t.refs.yMax.value);(0,f["default"])(e)&&t.redirectedProps.setProps({yMax:e})}})))}});t.exports=it},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(927),s=r(a),l=n(933),u=r(l),c=n(939),f=n(952),p=r(f),h=n(1009),d=r(h),m=n(1223),y=r(m),v=n(721),g=r(v),b=n(940),_=r(b),x=1e4,w=function(t,e,n,r){var o=(e-t)/n,i=Math.max(1,Math.pow(2,Math.round(Math.log(o/r)/Math.log(2))))*r;return i=Math.min(i,1e9)},T=function(t,e,n){var r=Math.max(0,Math.floor(t/n)-1);return[r,Math.max(r,Math.ceil(e/n)+1)]},E=function(t,e,n){for(var r=[],o=Math.floor(t/n)*n;o<Math.ceil(e/n)*n;o+=n)r.push(o);return r},C={fetch:function(t){(0,c.assertRequired)(t,["dataset","table","columns","chromosome","start","end","targetPointCount","chromosomeField","positionField"]);var e=t.dataset,n=t.table,r=t.columns,a=t.chromosome,l=t.start,f=t.end,h=t.chromosomeField,m=t.positionField,v=t.targetPointCount,b=t.cancellation,C=w(l,f,v),k=T(l,f,C),S=i(k,2),P=S[0],M=S[1];r=r.concat({expr:["/",[m,C]],as:"block"});var A=(0,p["default"])(E(P,M,x),function(t){var i={database:e,table:n,columns:r,query:_["default"].WhereClause.encode(_["default"].WhereClause.AND([_["default"].WhereClause.CompareFixed(h,"=",a),_["default"].WhereClause.CompareFixed(m,">=",t*C),_["default"].WhereClause.CompareFixed(m,"<",(t+x)*C)])),groupBy:["block"]};return s["default"].get("summarisation"+JSON.stringify(i),function(t){return u["default"].query(o({cancellation:t},i))},b)}),O=function(t){t.length>0&&!function(){var e=P-Math.floor(P/x)*x,n=M-Math.floor(M/x)*x;t=t.map(function(r,o){return(0,d["default"])(r,function(r,i,a){var s=i.data,l=i.summariser;0==o||o==t.length-1?r[a]={data:s.slice(0==o?e:0,o==t.length-1?n:void 0),summariser:l}:r[a]={data:s,summariser:l}})})}();var e=(0,d["default"])(r,function(e,n,r){return e[r]={data:[],summariser:t[0][r].summariser}}),n=(0,y["default"])(t,function(t,e){return(0,g["default"])(e,function(e,n){var r=e.data;return Array.prototype.push.apply(t[n].data,r)}),t},e);return{columns:n,dataStart:P*C,dataStep:C,chromosome:a}};return Promise.all(A).then(O)}};t.exports=C},function(t,e,n){function r(t,e,n){var r=l(t)?o:s,u=arguments.length<3;return r(t,a(e,4),n,u,i)}var o=n(844),i=n(722),a=n(727),s=n(1224),l=n(630);t.exports=r},function(t,e){function n(t,e,n,r,o){return o(t,function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)}),n}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(316),a=r(i),s=n(917),l=r(s),u=n(992),c=r(u),f=n(960),p=r(f),h=n(1064),d=r(h),m=n(1199),y=r(m),v=n(974),g=n(1226),b=r(g),_=a["default"].createClass({displayName:"ScaledSVGChannel",mixins:[(0,p["default"])({redirect:["onClose"]})],propTypes:{chromosome:a["default"].PropTypes.string,start:a["default"].PropTypes.number,end:a["default"].PropTypes.number,width:a["default"].PropTypes.number,height:a["default"].PropTypes.number,sideWidth:a["default"].PropTypes.number,autoYScale:a["default"].PropTypes.bool,yMin:a["default"].PropTypes.number,yMax:a["default"].PropTypes.number,dataYMin:a["default"].PropTypes.number,dataYMax:a["default"].PropTypes.number,side:a["default"].PropTypes.element,controls:a["default"].PropTypes.element,legend:a["default"].PropTypes.element,onClose:a["default"].PropTypes.func,children:a["default"].PropTypes.object},getDefaultProps:function(){return{height:100}},handleClose:function(){this.redirectedProps.onClose&&this.redirectedProps.onClose()},render:function(){var t=this,e=this.props,n=e.start,r=e.end,i=e.width,s=e.height,u=e.sideWidth,f=e.yMin,p=e.yMax,h=e.autoYScale,m=e.dataYMin,g=e.dataYMax,_=e.side,x=e.controls,w=e.legend;h&&(0,c["default"])(m)&&(0,c["default"])(g)&&(f=m,p=g),!(0,c["default"])(f)&&this.lastYMin&&(f=this.lastYMin),!(0,c["default"])(p)&&this.lastYMax&&(p=this.lastYMax);var T=[f,p];if(this.lastYMin=T[0],this.lastYMax=T[1],i<=0)return null;var E=i-u,C=l["default"].scale.linear().domain([n,r]).range([0,E]),k=(C(r)-C(n))/(r-n),S=C(0)-C(n+.5),P={yMin:(0,c["default"])(f)?f:null,yMax:(0,c["default"])(p)?p:null},M={yMin:(0,v.spring)(P.yMin),yMax:(0,v.spring)(P.yMax)},A=(0,b["default"])(n,r),O=o(A,2),D=o(O[0],2),L=D[0],I=D[1],j=o(O[1],2),F=j[0],R=j[1];this.blockEnd===I&&this.blockStart===L||this.blockEnd===R&&this.blockStart===F||(this.blockStart=L,this.blockEnd=I);var N=(i-u)/2/(r-n)*(this.blockEnd-this.blockStart);return a["default"].createElement(d["default"],{width:i,sideWidth:u,height:s,sideComponent:a["default"].createElement("div",{className:"side-name"},_),configComponent:x,legendComponent:w,onClose:this.handleClose},a["default"].createElement("svg",{className:"numerical-channel",width:E,height:s},a["default"].createElement(v.Motion,{style:M,defaultStyle:P},function(e){var n=e.yMin,r=e.yMax;return a["default"].createElement("g",null,a["default"].createElement("g",{transform:(0,c["default"])(n)&&(0,c["default"])(r)?"translate("+S+", "+(s+n*(s/(r-n)))+") scale("+k+","+-(s/(r-n))+")":""},a["default"].createElement("rect",{className:"origin-shifter",x:-E,y:-s,width:2*E,height:2*s}),a["default"].Children.map(t.props.children,function(e){return a["default"].cloneElement(e,{blockStart:t.blockStart,blockEnd:t.blockEnd,blockPixelWidth:N})})),a["default"].createElement(y["default"],{min:n,max:r,width:E,height:s}))})))}});t.exports=_},function(t,e){"use strict";function n(t,e){var n=Math.max(t,0),r=Math.max(1,Math.pow(2,Math.ceil(Math.log(3*(e-t))/Math.log(2)))),o=Math.floor(n/r)*r,i=o+r,a=o+(t>=o+r/2?r/2:-r/2),s=a+r;return a>t||s<e||a<0?[[o,i],[null,null]]:i<e?[[a,s],[null,null]]:Math.min(i-e,t-o)>Math.min(s-e,t-a)?[[o,i],[a,s]]:[[a,s],[o,i]]}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(316),a=r(i),s=n(971),l=r(s),u=n(1228),c=n(1229),f=r(c),p=n(955),h=r(p),d=n(952),m=r(d),y=n(928),v=r(y),g=n(768),b=r(g),_=n(700),x=r(_),w=n(584),T=r(w),E=n(583),C=r(E),k=n(582),S=r(k),P=n(1066),M=n(957),A=r(M),O=n(750),D=r(O),L=n(1236),I=r(L),j=n(1244),F=r(j);n(1239);var R=a["default"].createClass({displayName:"TreeWithActions",mixins:[T["default"],S["default"],C["default"]],propTypes:{setProps:a["default"].PropTypes.func,title:a["default"].PropTypes.string,sidebar:a["default"].PropTypes.bool,table:a["default"].PropTypes.string,tree:a["default"].PropTypes.string,treeType:a["default"].PropTypes.oneOf((0,x["default"])(u.treeTypes))},getDefaultProps:function(){return{setProps:null,sidebar:!0}},icon:function(){return"tree"},title:function(){return this.props.title||"Tree"},handleCrossLink:function(){var t=this.props,e=t.table,n=t.tree,r=this.getFlux().actions.panoptes,i=e&&n&&this.config.tablesById[e].treesById[n];if(i&&i.crossLink&&(0,v["default"])(this.config.tablesById,i.crossLink.split("::")[0])){var a=i.crossLink.split("::"),s=o(a,2),l=s[0],u=s[1];r.dataItemPopup({table:l,primKey:u})}},handleChangeTable:function(t){this.props.setProps({table:t})},handleChangeTree:function(t){this.props.setProps({tree:t})},handleChangeTreeType:function(t){this.props.setProps({treeType:t})},render:function(){var t=this.props,e=t.sidebar,n=t.table,r=t.tree,o=t.treeType,i=t.setProps,s=(0,m["default"])((0,b["default"])(this.config.visibleTables,function(t){return t.trees.length>0}),function(t){return{value:t.id,leftIcon:a["default"].createElement(D["default"],{fixedWidth:!0,name:t.icon}),label:t.capNamePlural}}),c=[];n&&(c=(0,m["default"])(this.config.tablesById[n].trees,function(t){return{value:t.id,label:t.id}}));var p=(0,m["default"])((0,x["default"])(u.treeTypes),function(t){return{value:t,label:(0,f["default"])(t)}}),d=n&&r&&this.config.tablesById[n].treesById[r],y=a["default"].createElement("div",{className:"sidebar tree-sidebar"},a["default"].createElement(A["default"],{icon:this.icon(),description:"Something here"}),a["default"].createElement("div",{className:"tree-controls vertical stack"},a["default"].createElement(F["default"],{value:n,autoWidth:!0,floatingLabelText:"Table",onChange:this.handleChangeTable,options:s}),n?a["default"].createElement(F["default"],{value:r,autoWidth:!0,floatingLabelText:"Tree",onChange:this.handleChangeTree,options:c}):null,d&&d.crossLink&&(0,v["default"])(this.config.tablesById,d.crossLink.split("::")[0])?a["default"].createElement(P.RaisedButton,{onClick:this.handleCrossLink,label:"Show "+this.config.tablesById[d.crossLink.split("::")[0]].capNameSingle,icon:a["default"].createElement(D["default"],{fixedWidth:!0,name:this.config.tablesById[d.crossLink.split("::")[0]].icon})}):null,d?a["default"].createElement(F["default"],{value:o,autoWidth:!0,floatingLabelText:"Tree Layout",onChange:this.handleChangeTreeType,options:p}):null));return a["default"].createElement(h["default"],{docked:e,styles:{sidebar:{paddingRight:(0,l["default"])()+"px"}},sidebar:y},a["default"].createElement("div",{className:"vertical stack"},a["default"].createElement("div",{className:"top-bar"},a["default"].createElement(D["default"],{className:"pointer icon",name:e?"arrows-h":"bars",title:e?"Expand":"Sidebar",onClick:function(){return i({sidebar:!e})}}),a["default"].createElement("span",{className:"text"},"Tree ",n?"of "+this.config.tablesById[n].capNamePlural:""," ")),a["default"].createElement("div",{className:"grow"},a["default"].createElement(I["default"],this.props))))}});t.exports=R},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="/dist/",e(0)}([function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){var r=t[e]?t:t.prototype,o=r[e];r[e]=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call(this,o,e)}}function a(t){t.call(this,i)}function s(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return new u["default"](t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.nodeRenderers=e.treeTypes=e.Parser=e.Tooltip=e.Branch=e.Tree=void 0;var l=n(1),u=o(l),c=n(7),f=o(c),p=n(9),h=o(p),d=n(30),m=o(d),y=n(11),v=o(y),g=n(8),b=o(g),_=n(2),x=r(_);e.Tree=u["default"],e.Branch=f["default"],e.Tooltip=h["default"],e.Parser=m["default"],e.treeTypes=v["default"],e.nodeRenderers=b["default"],e.utils=x,e["default"]={plugin:a,createTree:s}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),l=n(7),u=r(l),c=n(9),f=n(10),p=r(f),h=n(11),d=r(h),m=n(29),y=r(m),v=s.dom.addClass,g=s.events.fireEvent,b=s.events.addEvent,_=s.canvas.getPixelRatio,x=s.canvas.translateClick,w=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),this.containerElement="string"==typeof e?document.getElementById(e):e,v(this.containerElement,"pc-container"),this.branches={},this.leaves=[],this.root=!1,this.stringRepresentation="",this.backColour=!1,this.originalTree={},"static"===window.getComputedStyle(this.containerElement).position&&(this.containerElement.style.position="relative"),this.containerElement.style.boxSizing="border-box";var r=document.createElement("canvas");r.id=(this.containerElement.id||"")+"__canvas",r.className="phylocanvas",r.style.position="relative",r.height=e.offsetHeight||400,r.width=e.offsetWidth||400,r.style.zIndex="1",this.containerElement.appendChild(r),this.defaultCollapsedOptions={},this.defaultCollapsed=!1,void 0!==n.defaultCollapsed&&n.defaultCollapsed.min&&n.defaultCollapsed.max&&(this.defaultCollapsedOptions=n.defaultCollapsed,this.defaultCollapsed=!0),this.tooltip=new c.ChildNodesTooltip(this),this.drawn=!1,this.highlighters=[],this.zoom=1,this.zoomFactor=.2,this.disableZoom=n.disableZoom||!1,this.fillCanvas=n.fillCanvas||!1,this.branchScaling=!0,this.currentBranchScale=1,this.branchScalingStep=1.2,this.pickedup=!1,this.dragging=!1,this.startx=null,this.starty=null,this.pickedup=!1,this.baseNodeSize=1,this.curx=null,this.cury=null,this.origx=null,this.origy=null,this.canvas=r.getContext("2d"),this.canvas.canvas.onselectstart=function(){return!1},this.canvas.fillStyle="#000000",this.canvas.strokeStyle="#000000",this.canvas.save(),this.offsetx=this.canvas.canvas.width/2,this.offsety=this.canvas.canvas.height/2,this.selectedColour="rgba(49,151,245,1)",this.highlightColour="rgba(49,151,245,1)",this.highlightWidth=4,this.highlightSize=2,this.selectedNodeSizeIncrease=0,this.branchColour="rgba(0,0,0,1)",this.branchScalar=1,this.padding=n.padding||50,this.labelPadding=5,this.multiSelect=!0,this.clickFlag="selected",this.clickFlagPredicate=function(){return!0},this.hoverLabel=!1,this.internalNodesSelectable=!0,this.showLabels=!0,this.showBootstraps=!1,this.setTreeType("radial"),this.maxBranchLength=0,this.lineWidth=1,this.textSize=7,this.font="sans-serif",this.unselectOnClickAway=!0,this.useNavigator&&(this.navigator=new p["default"](this)),this.resizeToContainer(),this.addListener("click",this.clicked.bind(this)),this.addListener("mousedown",this.pickup.bind(this)),this.addListener("mouseup",this.drop.bind(this)),this.addListener("mouseout",this.drop.bind(this)),b(this.canvas.canvas,"mousemove",this.drag.bind(this)),this.disableZoom||(b(this.canvas.canvas,"mousewheel",this.scroll.bind(this)),b(this.canvas.canvas,"DOMMouseScroll",this.scroll.bind(this))),b(window,"resize",function(){this.resizeToContainer(),this.draw()}.bind(this)),this.alignLabels=!1,this.farthestNodeFromRootX=0,this.farthestNodeFromRootY=0,this.maxLabelLength={}}return a(t,[{key:"setInitialCollapsedBranches",value:function(){var t,e,n=arguments.length<=0||void 0===arguments[0]?this.root:arguments[0];if(t=n.getChildProperties("id"),t&&t.length>this.defaultCollapsedOptions.min&&t.length<this.defaultCollapsedOptions.max)return void(n.collapsed=!0);for(e=0;e<n.children.length;e++)this.setInitialCollapsedBranches(n.children[e])}},{key:"getNodeAtMousePosition",value:function(t){var e;return(e=this.root).clicked.apply(e,o(x(t,this)))}},{key:"getSelectedNodeIds",value:function(){return this.getNodeIdsWithFlag("selected")}},{key:"getNodeIdsWithFlag",value:function(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1];return this.leaves.reduce(function(n,r){return r[t]===e&&n.push(r.id),n},[])}},{key:"clicked",value:function(t){var e;if(0===t.button){var n=[];if(this.dragging)return void(this.dragging=!1);if(!this.root)return!1;e=this.getNodeAtMousePosition(t);var r=this.multiSelect&&(t.metaKey||t.ctrlKey);if(e&&e.interactive)if(r){if(e.leaf)e[this.clickFlag]=!e[this.clickFlag];else if(this.internalNodesSelectable){var o=e.getChildProperties(this.clickFlag).some(function(t){return t===!1});e.cascadeFlag(this.clickFlag,o,this.clickFlagPredicate)}n=this.getNodeIdsWithFlag(this.clickFlag),this.draw()}else this.root.cascadeFlag(this.clickFlag,!1,this.clickFlagPredicate),(this.internalNodesSelectable||e.leaf)&&(e.cascadeFlag(this.clickFlag,!0,this.clickFlagPredicate),n=e.getChildProperties("id")),this.draw();else!this.unselectOnClickAway||this.dragging||r||(this.root.cascadeFlag(this.clickFlag,!1,this.clickFlagPredicate),
this.draw());this.pickedup||(this.dragging=!1),this.nodesUpdated(n,this.clickFlag)}}},{key:"dblclicked",value:function(t){if(!this.root)return!1;var e=this.getNodeAtMousePosition(t);e&&(e.cascadeFlag("selected",!1),e.toggleCollapsed()),this.pickedup||(this.dragging=!1),this.draw()}},{key:"displayLabels",value:function(){this.showLabels=!0,this.draw()}},{key:"drag",value:function(t){var e=_(this.canvas);if(!this.drawn)return!1;if(this.pickedup){var n=(t.clientX-this.startx)*e,r=(t.clientY-this.starty)*e;Math.abs(n)+Math.abs(r)>5&&(this.dragging=!0,this.offsetx=this.origx+n,this.offsety=this.origy+r,this.draw())}else{var o=t,i=this.getNodeAtMousePosition(o);i&&i.interactive&&(this.internalNodesSelectable||i.leaf)?(this.root.cascadeFlag("hovered",!1),i.hovered=!0,i.leaf||i.hasCollapsedAncestor()||this.tooltip.open(o.clientX,o.clientY,i),this.containerElement.style.cursor="pointer"):(this.tooltip.close(),this.root.cascadeFlag("hovered",!1),this.containerElement.style.cursor="auto"),this.draw()}}},{key:"draw",value:function(t){if(this.highlighters.length=0,0===this.maxBranchLength)return void this.loadError(new Error("All branches in the tree are identical."));this.canvas.restore(),this.canvas.clearRect(0,0,this.canvas.canvas.width,this.canvas.canvas.height),this.canvas.lineCap="round",this.canvas.lineJoin="round",this.canvas.strokeStyle=this.branchColour,this.canvas.save(),this.drawn&&!t||(this.prerenderer.run(this),t||this.fitInPanel());var e=_(this.canvas);this.canvas.lineWidth=this.lineWidth/this.zoom,this.canvas.translate(this.offsetx*e,this.offsety*e),this.canvas.scale(this.zoom,this.zoom),this.branchRenderer.render(this,this.root),this.highlighters.forEach(function(t){return t()}),this.defaultCollapsed=!1,this.drawn=!0}},{key:"drop",value:function(){return!!this.drawn&&void(this.pickedup=!1)}},{key:"findLeaves",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?"id":arguments[1],n=[],r=!0,o=!1,i=void 0;try{for(var a,s=this.leaves[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;l[e]&&l[e].match(t)&&n.push(l)}}catch(u){o=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}},{key:"updateLeaves",value:function(t,e,n){var r=!0,o=!1,i=void 0;try{for(var a,s=this.leaves[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;l[e]=!n}}catch(u){o=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}var c=!0,f=!1,p=void 0;try{for(var h,d=t[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var l=h.value;l[e]=n}}catch(u){f=!0,p=u}finally{try{!c&&d["return"]&&d["return"]()}finally{if(f)throw p}}this.nodesUpdated(t.map(function(t){return t.id}),e)}},{key:"clearSelect",value:function(){this.root.cascadeFlag("selected",!1),this.draw()}},{key:"getPngUrl",value:function(){return this.canvas.canvas.toDataURL()}},{key:"hideLabels",value:function(){this.showLabels=!1,this.draw()}},{key:"load",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments[2],r=e,o=n;if("function"==typeof e&&(o=e,r={}),o&&(r.callback=o),r.format)return void this.build(t,y["default"][r.format],r);var i=!0,a=!1,s=void 0;try{for(var l,u=Object.keys(y["default"])[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value,f=y["default"][c];if(t.match(f.fileExtension)||t.match(f.validator))return void this.build(t,f,r)}}catch(p){a=!0,s=p}finally{try{!i&&u["return"]&&u["return"]()}finally{if(a)throw s}}var h=new Error("String not recognised as a file or a parseable format string");o&&o(h),this.loadError(h)}},{key:"saveOriginalTree",value:function(){this.originalTree.branches=this.branches,this.originalTree.leaves=this.leaves,this.originalTree.root=this.root,this.originalTree.branchLengths={},this.originalTree.parents={}}},{key:"clearState",value:function(){this.root=!1,this.leaves=[],this.branches={},this.drawn=!1}},{key:"saveState",value:function(){if(this.extractNestedBranches(),this.root.branchLength=0,this.maxBranchLength=0,this.root.setTotalLength(),0===this.maxBranchLength)return void this.loadError(new Error("All branches in the tree are identical."))}},{key:"build",value:function(t,e,n){var r=this;this.originalTree={},this.clearState(),u["default"].lastId=0;var o=new u["default"];o.id="root",this.branches.root=o,this.setRoot(o),e.parse({formatString:t,root:o,options:n},function(e){return e?(n.callback&&n.callback(e),void r.loadError(e)):(r.stringRepresentation=t,r.saveState(),r.setInitialCollapsedBranches(),r.draw(),r.saveOriginalTree(),n.callback&&n.callback(),void r.loadCompleted())})}},{key:"pickup",value:function(t){return!!this.drawn&&(this.origx=this.offsetx,this.origy=this.offsety,0===t.button&&(this.pickedup=!0),this.startx=t.clientX,void(this.starty=t.clientY))}},{key:"redrawFromBranch",value:function(t){this.clearState(),this.resetTree(),this.originalTree.branchLengths[t.id]=t.branchLength,this.originalTree.parents[t.id]=t.parent,this.root=t,this.root.parent=!1,this.saveState(),this.draw(),this.subtreeDrawn(t.id)}},{key:"redrawOriginalTree",value:function(){this.load(this.stringRepresentation)}},{key:"storeNode",value:function(t){if(t.id&&""!==t.id||(t.id=u["default"].generateId()),this.branches[t.id]&&t!==this.branches[t.id]){if(t.leaf)throw new Error("Two nodes on this tree share the id "+t.id);t.id=u["default"].generateId()}this.branches[t.id]=t,t.leaf&&this.leaves.push(t)}},{key:"scroll",value:function(t){var e=this;if(t.preventDefault(),!(this._zooming||"wheelDelta"in t&&0===t.wheelDelta)){var n=t.detail<0||t.wheelDelta>0?1:-1;if(this.branchScaling&&(t.metaKey||t.ctrlKey))this.currentBranchScale*=Math.pow(this.branchScalingStep,n),this.setBranchScale(this.currentBranchScale,{x:t.offsetX,y:t.offsetY});else{var r=Math.log(this.zoom)/Math.log(10)+n*this.zoomFactor;this.setZoom(r,t.offsetX,t.offsetY)}this._zooming=!0,setTimeout(function(){e._zooming=!1},128)}}},{key:"selectNodes",value:function(t){var e,n,r,o=t;if(this.root){this.root.cascadeFlag("selected",!1),"string"==typeof t&&(o=o.split(","));for(n in this.branches)if(this.branches.hasOwnProperty(n))for(e=this.branches[n],r=0;r<o.length;r++)o[r]===e.id&&e.cascadeFlag("selected",!0);this.draw()}}},{key:"setFont",value:function(t){isNaN(t)&&(this.font=t,this.draw())}},{key:"setNodeDisplay",value:function(t,e,n){var r=this;if(t)if(this.drawn){var o=[];if(o="string"==typeof t?t.split(","):t,o.length){var i=!0,a=!1,s=void 0;try{for(var l,u=o[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;c in this.branches&&this.branches[c].setDisplay(e)}}catch(f){a=!0,s=f}finally{try{!i&&u["return"]&&u["return"]()}finally{if(a)throw s}}this.draw()}}else n||!function(){var n=r,o=setInterval(function(){this.drawn&&(n.setNodeColourAndShape(t,e,!0),clearInterval(o))})}()}},{key:"setNodeSize",value:function(t){this.baseNodeSize=Number(t),this.draw()}},{key:"setRoot",value:function(t){t.canvas=this.canvas,t.tree=this,this.root=t}},{key:"setTextSize",value:function(t){this.textSize=Number(t),this.draw()}},{key:"setFontSize",value:function(t){this.textSize=this.calculateFontSize?this.calculateFontSize(t):Math.min(t/2,15),this.canvas.font=this.textSize+"pt "+this.font}},{key:"setTreeType",value:function(t,e){if(!(t in d["default"]))return g(this.containerElement,"error",{error:new Error('"'+t+'" is not a known tree-type.')});var n=this.treeType;this.treeType=t,this.branchRenderer=d["default"][t].branchRenderer,this.prerenderer=d["default"][t].prerenderer,this.labelAlign=d["default"][t].labelAlign,this.scaleCollapsedNode=d["default"][t].scaleCollapsedNode,this.calculateFontSize=d["default"][t].calculateFontSize,this.drawn&&(this.drawn=!1,this.draw()),e||this.treeTypeChanged(n,t)}},{key:"setSize",value:function(t,e){this.canvas.canvas.width=t,this.canvas.canvas.height=e,this.navigator&&this.navigator.resize(),this.adjustForPixelRatio()}},{key:"setZoom",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.canvas.canvas.width/2:arguments[1],n=arguments.length<=2||void 0===arguments[2]?this.canvas.canvas.height/2:arguments[2];if(t>-2&&t<2){var r=this.zoom,o=Math.pow(10,t);this.zoom=o,this.offsetx=this.calculateZoomedOffset(this.offsetx,e,r,o),this.offsety=this.calculateZoomedOffset(this.offsety,n,r,o),this.draw()}}},{key:"calculateZoomedOffset",value:function(t,e,n,r){return-1*((-1*t+e)/n*r-e)}},{key:"setBranchScale",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=arguments.length<=1||void 0===arguments[1]?{x:this.canvas.canvas.width/2,y:this.canvas.canvas.height/2}:arguments[1],n=d["default"][this.treeType];if(n.branchScalingAxis&&!(t<0)){var r=this.branchScalar;this.branchScalar=this.initialBranchScalar*t;var o=this.branchScalar/r,i=this["offset"+n.branchScalingAxis],a=e[n.branchScalingAxis],s=(e[n.branchScalingAxis]-i)*o+i;this["offset"+n.branchScalingAxis]+=a-s,this.draw()}}},{key:"toggleLabels",value:function(){this.showLabels=!this.showLabels,this.draw()}},{key:"setMaxLabelLength",value:function(){var t;void 0===this.maxLabelLength[this.treeType]&&(this.maxLabelLength[this.treeType]=0);for(var e=0;e<this.leaves.length;e++)t=this.canvas.measureText(this.leaves[e].id),t.width>this.maxLabelLength[this.treeType]&&(this.maxLabelLength[this.treeType]=t.width)}},{key:"loadCompleted",value:function(){g(this.containerElement,"loaded")}},{key:"loadStarted",value:function(){g(this.containerElement,"loading")}},{key:"loadError",value:function(t){g(this.containerElement,"error",{error:t})}},{key:"subtreeDrawn",value:function(t){g(this.containerElement,"subtree",{node:t})}},{key:"nodesUpdated",value:function(t,e){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];g(this.containerElement,"updated",{nodeIds:t,property:e,append:n})}},{key:"addListener",value:function(t,e){b(this.containerElement,t,e)}},{key:"getBounds",value:function(){for(var t=this.root.startx,e=this.root.startx,n=this.root.starty,r=this.root.starty,o=this.leaves.length;o--;){var i=this.leaves[o].getBounds();t=Math.min(t,i.minx),e=Math.max(e,i.maxx),n=Math.min(n,i.miny),r=Math.max(r,i.maxy)}return[[t,n],[e,r]]}},{key:"fitInPanel",value:function(){var t=[this.canvas.canvas.width-2*this.padding,this.canvas.canvas.height-2*this.padding],e=this.getBounds(),n=[e[1][0]-e[0][0],e[1][1]-e[0][1]],r=_(this.canvas),o=t[0]/n[0],i=t[1]/n[1];this.zoom=Math.min(o,i),this.offsetx=-1*e[0][0]*this.zoom,this.offsety=-1*e[0][1]*this.zoom,o>i?(this.offsetx+=this.padding+(t[0]-n[0]*this.zoom)/2,this.offsety+=this.padding):(this.offsetx+=this.padding,this.offsety+=this.padding+(t[1]-n[1]*this.zoom)/2),this.offsetx=this.offsetx/r,this.offsety=this.offsety/r}},{key:"adjustForPixelRatio",value:function(){var t=_(this.canvas);this.canvas.canvas.style.height=this.canvas.canvas.height+"px",this.canvas.canvas.style.width=this.canvas.canvas.width+"px",t>1&&(this.canvas.canvas.width*=t,this.canvas.canvas.height*=t)}},{key:"treeTypeChanged",value:function(t,e){g(this.containerElement,"typechanged",{oldType:t,newType:e})}},{key:"resetTree",value:function(){if(this.originalTree.branches){this.branches=this.originalTree.branches;var t=!0,e=!1,n=void 0;try{for(var r,o=Object.keys(this.originalTree.branchLengths)[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value;this.branches[i].branchLength=this.originalTree.branchLengths[i],this.branches[i].parent=this.originalTree.parents[i]}}catch(a){e=!0,n=a}finally{try{!t&&o["return"]&&o["return"]()}finally{if(e)throw n}}this.leaves=this.originalTree.leaves,this.root=this.originalTree.root}}},{key:"rotateBranch",value:function(t){this.branches[t.id].rotate()}},{key:"extractNestedBranches",value:function(){this.branches={},this.leaves=[],this.storeNode(this.root),this.root.extractChildren()}},{key:"exportNwk",value:function(){var t=this.root.getNwk();return t.substr(0,t.lastIndexOf(")")+1)+";"}},{key:"resizeToContainer",value:function(){this.setSize(this.containerElement.offsetWidth,this.containerElement.offsetHeight)}},{key:"alignLabels",get:function(){return this.showLabels&&this.labelAlign&&this.labelAlignEnabled},set:function(t){this.labelAlignEnabled=t}}]),t}();e["default"]=w,w.prototype.on=w.prototype.addListener},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.events=e.dom=e.constants=e.canvas=void 0;var o=n(3),i=r(o),a=n(6),s=r(a),l=n(4),u=r(l),c=n(5),f=r(c);e.canvas=i,e.constants=s,e.dom=u,e.events=f},function(t,e,n){"use strict";function r(t){return t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||1}function o(t){return(window.devicePixelRatio||1)/r(t)}function i(t,e){var n=o(e.canvas);return[(t.offsetX-e.offsetx)/e.zoom*n,(t.offsetY-e.offsety)/e.zoom*n]}function a(t,e){var n=t.x,r=t.y,i=o(e.canvas);return{x:n?(n-e.offsetx)/e.zoom*i:null,y:r?(r-e.offsety)/e.zoom*i:null}}function s(t,e){var n=t.x,r=t.y,i=o(e.canvas);return{x:n?n/i*e.zoom+e.offsetx:null,y:r?r/i*e.zoom+e.offsety:null}}Object.defineProperty(e,"__esModule",{value:!0}),e.getBackingStorePixelRatio=r,e.getPixelRatio=o,e.translateClick=i,e.translatePoint=a,e.undoPointTranslation=s;n(4)},function(t,e,n){"use strict";function r(t){var e=arguments.length<=1||void 0===arguments[1]?"text/plain;charset=utf-8":arguments[1],n=new Blob([t],{type:e});return f.createObjectURL(n)}function o(t,e){var n=document.createElement("a"),r="undefined"!=typeof n.download;n.href=t,n.target="_blank",r&&(n.download=e),(0,c.fireEvent)(n,"click"),r&&f.revokeObjectURL(n.href)}function i(t){for(var e=0;t;)e+=t.offsetLeft,t=t.offsetParent;return e}function a(t){for(var e=0;t;)e+=t.offsetTop,t=t.offsetParent;return e}function s(t,e){var n=t.className.split(" ");n.indexOf(e)===-1&&(n.push(e),t.className=n.join(" "))}function l(t,e){var n=t.className.split(" "),r=n.indexOf(e);r!==-1&&(n.splice(r,1),t.className=n.join(" "))}function u(t,e){var n=t.className.split(" "),r=n.indexOf(e);return r!==-1}Object.defineProperty(e,"__esModule",{value:!0}),e.createBlobUrl=r,e.setupDownloadLink=o,e.getX=i,e.getY=a,e.addClass=s,e.removeClass=l,e.hasClass=u;var c=n(5),f=window.URL||window.webkitURL},function(t,e){"use strict";function n(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function r(t){return t.preventDefault(),!1}function o(t,e){var n,r,o=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(e,!0,!0)):(n=document.createEventObject(),n.eventType=e),n.eventName=e;for(r in o)o.hasOwnProperty(r)&&(n[r]=o[r]);document.createEvent?t.dispatchEvent(n):t.fireEvent("on"+n.eventType,n)}function i(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,function(){return n.call(t,window.event)})}function a(t){t.stopPropagation(),t.preventDefault()}function s(t,e){var r;return r=("undefined"==typeof e?"undefined":n(e))===n("aaa")?function(n){if(t[e])return t[e](n)}:function(){return e(t)}}Object.defineProperty(e,"__esModule",{value:!0}),e.preventDefault=r,e.fireEvent=o,e.addEvent=i,e.killEvent=a,e.createHandler=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Angles={FORTYFIVE:Math.PI/4,QUARTER:Math.PI/2,HALF:Math.PI,FULL:2*Math.PI},e.Shapes={x:"star",s:"square",o:"circle",t:"triangle"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),s=n(8),l=r(s),u=a.constants.Angles,c=a.constants.Shapes,f={minx:0,maxx:0,miny:0,maxy:0},p={lineWidth:null,strokeStyle:null,fillStyle:null},h=function(){function t(){o(this,t),this.angle=0,this.branchLength=!1,this.canvas=null,this.centerx=0,this.centery=0,this.children=[],this.collapsed=!1,this.colour=null,this.data={},this.highlighted=!1,this.hovered=!1,this.id="",this.interx=0,this.intery=0,this.label=null,this.leaf=!0,this.maxChildAngle=0,this.minChildAngle=u.FULL,this.nodeShape="circle",this.parent=null,this.radius=1,this.selected=!1,this.startx=0,this.starty=0,this.totalBranchLength=0,this.tree={},this.pruned=!1,this.labelStyle={},this.interactive=!0,this.leafStyle={}}return i(t,[{key:"clicked",value:function(t,e){var n,r;if(!this.dragging){if(t<this.maxx&&t>this.minx&&e<this.maxy&&e>this.miny)return this;for(n=this.children.length-1;n>=0;n--)if(r=this.children[n].clicked(t,e))return r}}},{key:"drawLabel",value:function(){var t=this.getTextSize(),e=this.getLabel();this.canvas.font=this.getFontString(),this.labelWidth=this.canvas.measureText(e).width,void 0===this.tree.maxLabelLength[this.tree.treeType]&&(this.tree.maxLabelLength[this.tree.treeType]=0),this.labelWidth>this.tree.maxLabelLength[this.tree.treeType]&&(this.tree.maxLabelLength[this.tree.treeType]=this.labelWidth);var n=this.getLabelStartX();this.tree.alignLabels&&(n+=Math.abs(this.tree.labelAlign.getLabelOffset(this))),this.angle>u.QUARTER&&this.angle<u.HALF+u.QUARTER&&(this.canvas.rotate(u.HALF),n=-n-1*this.labelWidth),this.canvas.beginPath(),this.canvas.fillStyle=this.getTextColour(),this.canvas.fillText(e,n,t/2),this.canvas.closePath(),this.angle>u.QUARTER&&this.angle<u.HALF+u.QUARTER&&this.canvas.rotate(u.HALF)}},{key:"setNodeDimensions",value:function(t,e,n){var r=n;(n*this.tree.zoom<5||!this.leaf)&&(r=5/this.tree.zoom),this.minx=t-r,this.maxx=t+r,this.miny=e-r,this.maxy=e+r}},{key:"drawCollapsed",value:function(t,e){var n=this.getChildProperties("id"),r=n.length;this.tree.scaleCollapsedNode&&(r=this.tree.scaleCollapsedNode(r)),this.canvas.globalAlpha=.3,this.canvas.beginPath(),this.canvas.arc(t,e,r,0,2*Math.PI,!1),this.canvas.fillStyle=this.tree.defaultCollapsedOptions.color?this.tree.defaultCollapsedOptions.color:"purple",this.canvas.fill(),this.canvas.globalAlpha=1,this.canvas.closePath()}},{key:"drawLabelConnector",value:function(){var t=this.tree,e=t.highlightColour,n=t.labelAlign;this.canvas.save(),this.canvas.lineWidth=this.canvas.lineWidth/4,this.canvas.strokeStyle=this.isHighlighted?e:this.getColour(),this.canvas.beginPath(),this.canvas.moveTo(this.getRadius(),0),this.canvas.lineTo(n.getLabelOffset(this)+this.getDiameter(),0),this.canvas.stroke(),this.canvas.closePath(),this.canvas.restore()}},{key:"drawLeaf",value:function(){var t=this.tree,e=t.alignLabels,n=t.canvas;e&&this.drawLabelConnector(),n.save(),l["default"][this.nodeShape](n,this.getRadius(),this.getLeafStyle()),n.restore(),(this.tree.showLabels||this.tree.hoverLabel&&this.isHighlighted)&&this.drawLabel()}},{key:"drawHighlight",value:function(t,e){this.canvas.save(),this.canvas.beginPath(),this.canvas.strokeStyle=this.tree.highlightColour,this.canvas.lineWidth=this.getHighlightLineWidth();var n=this.getHighlightRadius();this.canvas.arc(t,e,n,0,u.FULL,!1),this.canvas.stroke(),this.canvas.closePath(),this.canvas.restore()}},{key:"drawNode",value:function(){var t=this.getRadius(),e=t,n=this.leaf?e*Math.cos(this.angle)+this.centerx:this.centerx,r=this.leaf?e*Math.sin(this.angle)+this.centery:this.centery;this.setNodeDimensions(n,r,t),this.collapsed?this.drawCollapsed(n,r):this.leaf&&(this.canvas.save(),this.canvas.translate(this.centerx,this.centery),this.canvas.rotate(this.angle),this.drawLeaf(),this.canvas.restore()),this.isHighlighted&&this.tree.highlighters.push(this.drawHighlight.bind(this,n,r))}},{key:"getChildProperties",value:function(t){if(this.leaf)return[this[t]];for(var e=[],n=0;n<this.children.length;n++)e=e.concat(this.children[n].getChildProperties(t));return e}},{key:"getChildCount",value:function(){if(this.leaf)return 1;for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].getChildCount();return t}},{key:"getChildYTotal",value:function(){if(this.leaf)return this.centery;for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].getChildYTotal();return t}},{key:"cascadeFlag",value:function(t,e,n){if("undefined"==typeof this[t])throw new Error("Unknown property: "+t);("undefined"==typeof n||n(this,t,e))&&(this[t]=e);var r=!0,o=!1,i=void 0;try{for(var a,s=this.children[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;l.cascadeFlag(t,e,n)}}catch(u){o=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}}},{key:"reset",value:function(){var t,e;for(this.startx=0,this.starty=0,this.centerx=0,this.centery=0,this.angle=null,this.minChildAngle=u.FULL,this.maxChildAngle=0,e=0;e<this.children.length;e++)try{this.children[t].pcReset()}catch(n){return n}}},{key:"redrawTreeFromBranch",value:function(){this.tree.redrawFromBranch(this)}},{key:"extractChildren",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,o=this.children[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value;this.tree.storeNode(i),i.extractChildren()}}catch(a){e=!0,n=a}finally{try{!t&&o["return"]&&o["return"]()}finally{if(e)throw n}}}},{key:"hasCollapsedAncestor",value:function(){return!!this.parent&&(this.parent.collapsed||this.parent.hasCollapsedAncestor())}},{key:"collapse",value:function(){this.collapsed=this.leaf===!1}},{key:"expand",value:function(){this.collapsed=!1}},{key:"toggleCollapsed",value:function(){this.collapsed?this.expand():this.collapse()}},{key:"setTotalLength",value:function(){var t;for(this.parent?(this.totalBranchLength=this.parent.totalBranchLength+this.branchLength,this.totalBranchLength>this.tree.maxBranchLength&&(this.tree.maxBranchLength=this.totalBranchLength)):(this.totalBranchLength=this.branchLength,this.tree.maxBranchLength=this.totalBranchLength),t=0;t<this.children.length;t++)this.children[t].setTotalLength()}},{key:"addChild",value:function(t){t.parent=this,t.canvas=this.canvas,t.tree=this.tree,this.leaf=!1,this.children.push(t)}},{key:"getChildColours",value:function(){var t=[];return this.children.forEach(function(e){var n=0===e.children.length?e.colour:e.getColour();t.indexOf(n)===-1&&t.push(n)}),t}},{key:"getColour",value:function(t){return this.selected?this.tree.selectedColour:t||this.colour||this.tree.branchColour}},{key:"getNwk",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.leaf)return this.label+":"+this.branchLength;var e=this.children.map(function(t){return t.getNwk(!1)});return"("+e.join(",")+"):"+this.branchLength+(t?";":"")}},{key:"getTextColour",value:function(){if(this.selected)return this.tree.selectedColour;if(this.isHighlighted)return this.tree.highlightColour;if(this.tree.backColour&&this.children.length){var t=this.getChildColours();if(1===t.length)return t[0]}return this.labelStyle.colour||this.colour||this.tree.branchColour}},{key:"getLabel",value:function(){return void 0!==this.label&&null!==this.label?this.label:""}},{key:"getTextSize",value:function(){return this.labelStyle.textSize||this.tree.textSize}},{key:"getFontString",value:function(){var t=this.labelStyle.font||this.tree.font;return(this.labelStyle.format||"")+" "+this.getTextSize()+"pt "+t}},{key:"getLabelSize",value:function(){return this.canvas.font=this.getFontString(),this.canvas.measureText(this.getLabel()).width}},{key:"getRadius",value:function(){return this.leaf?this.tree.baseNodeSize*this.radius:this.tree.baseNodeSize/this.radius}},{key:"getDiameter",value:function(){return 2*this.getRadius()}},{key:"hasLabelConnector",value:function(){return!!this.tree.alignLabels&&this.tree.labelAlign.getLabelOffset(this)>this.getDiameter()}},{key:"getLabelStartX",value:function(){var t=this.getLeafStyle(),e=t.lineWidth,n=this.hasLabelConnector(),r=this.getDiameter();return this.isHighlighted&&!n&&(r+=this.getHighlightSize()-this.getRadius()),this.isHighlighted||n||(r+=e/2),r+Math.min(this.tree.labelPadding,this.tree.labelPadding/this.tree.zoom)}},{key:"getHighlightLineWidth",value:function(){return this.tree.highlightWidth/this.tree.zoom}},{key:"getHighlightRadius",value:function(){var t=this.getHighlightLineWidth()*this.tree.highlightSize;return t+=this.getLeafStyle().lineWidth/this.tree.highlightSize,this.leaf?this.getRadius()+t:.666*t}},{key:"getHighlightSize",value:function(){return this.getHighlightRadius()+this.getHighlightLineWidth()}},{key:"rotate",value:function(t){for(var e=[],n=this.children.length;n--;)e.push(this.children[n]);this.children=e,t.preventredraw||(this.tree.extractNestedBranches(),this.tree.draw(!0))}},{key:"getChildNo",value:function(){return this.parent.children.indexOf(this)}},{key:"setDisplay",value:function(t){var e=t.colour,n=t.shape,r=t.size,o=t.leafStyle,i=t.labelStyle;e&&(this.colour=e),n&&(this.nodeShape=c[n]?c[n]:n),r&&(this.radius=r),o&&(this.leafStyle=o),i&&(this.labelStyle=i)}},{key:"getTotalLength",value:function(){var t=this.getRadius();return(this.tree.showLabels||this.tree.hoverLabel&&this.isHighlighted)&&(t+=this.getLabelStartX()+this.getLabelSize()),t}},{key:"getBounds",value:function(){var t=this.tree,e=t.alignLabels?t.labelAlign.getX(this):this.centerx,n=t.alignLabels?t.labelAlign.getY(this):this.centery,r=this.getRadius(),o=this.getTotalLength(),i=void 0,a=void 0,s=void 0,l=void 0;return this.angle>u.QUARTER&&this.angle<u.HALF+u.QUARTER?(i=e+o*Math.cos(this.angle),s=n+o*Math.sin(this.angle),a=e-r,l=n-r):(i=e-r,s=n-r,a=e+o*Math.cos(this.angle),l=n+o*Math.sin(this.angle)),f.minx=Math.min(i,a,e-this.getHighlightSize()),f.miny=Math.min(s,l,n-this.getHighlightSize()),f.maxx=Math.max(i,a,e+this.getHighlightSize()),f.maxy=Math.max(s,l,n+this.getHighlightSize()),f}},{key:"getLeafStyle",value:function(){var t=this.leafStyle,e=t.strokeStyle,n=t.fillStyle,r=this.tree.zoom;p.strokeStyle=this.getColour(e),p.fillStyle=this.getColour(n);var o="undefined"!=typeof this.leafStyle.lineWidth?this.leafStyle.lineWidth:this.tree.lineWidth;return p.lineWidth=o/r,p}},{key:"isHighlighted",get:function(){return this.highlighted||this.hovered}}],[{key:"generateId",value:function(){return"pcn"+this.lastId++}}]),t}();h.lastId=0,e["default"]=h},function(t,e,n){"use strict";function r(t,e){t.beginPath(),t.moveTo(0,0),t.lineTo(e,0),t.stroke(),t.closePath()}function o(t,e){var n=e.lineWidth,r=e.strokeStyle,o=e.fillStyle;t.save(),t.lineWidth=n,t.strokeStyle=r,t.fillStyle=o,t.fill(),n>0&&r!==o&&t.stroke(),t.restore()}Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),a=i.constants.Angles,s=function(t){return t*Math.sqrt(2)};e["default"]={circle:function(t,e,n){var i=Math.pow(s(e),2),l=Math.sqrt(i/Math.PI);r(t,e-l),t.beginPath(),t.arc(e,0,l,0,a.FULL,!1),t.closePath(),o(t,n)},square:function(t,e,n){var i=s(e),a=e-i/2;r(t,a),t.beginPath(),t.moveTo(a,0),t.lineTo(a,i/2),t.lineTo(a+i,i/2),t.lineTo(a+i,-i/2),t.lineTo(a,-i/2),t.lineTo(a,0),t.closePath(),o(t,n)},star:function(t,e,n){var i=e,a=0,s=5,l=e,u=.5*l,c=Math.PI/s;r(t,l-u);var f=Math.PI/2*3;t.beginPath(),t.moveTo(i,a-l);for(var p=0;p<s;p++){var h=i+Math.cos(f)*l,d=a+Math.sin(f)*l;t.lineTo(h,d),f+=c,h=i+Math.cos(f)*u,d=a+Math.sin(f)*u,t.lineTo(h,d),f+=c}t.lineTo(i,a-l),t.closePath(),o(t,n)},triangle:function(t,e,n){var i=2*e*Math.cos(30*Math.PI/180),a=Math.sqrt(3)/2*i,s=1/Math.sqrt(3)*(i/2);r(t,e-s),t.beginPath(),t.moveTo(e,s),t.lineTo(e+i/2,s),t.lineTo(e,-(a-s)),t.lineTo(e-i/2,s),t.lineTo(e,s),t.closePath(),o(t,n)}}},function(t,e){"use strict";function n(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.className,r=void 0===n?"phylocanvas-tooltip":n,o=e.element,i=void 0===o?document.createElement("div"):o,a=e.zIndex,s=void 0===a?2e3:a,l=e.parent,u=void 0===l?t.containerElement:l;this.tree=t,this.element=i,this.element.className=r,this.element.style.display="none",this.element.style.position="fixed",this.element.style.zIndex=s,this.closed=!0,u.appendChild(this.element)}function r(t,e){n.call(this,t,e),this.element.style.background="rgba(97, 97, 97, 0.9)",this.element.style.color="#fff",this.element.style.cursor="pointer",this.element.style.padding="8px",this.element.style.marginTop="16px",this.element.style.borderRadius="2px",this.element.style.textAlign="center",this.element.style.fontFamily=this.tree.font||"sans-serif",this.element.style.fontSize="10px",this.element.style.fontWeight="500"}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,e.ChildNodesTooltip=r,n.prototype.close=function(){this.element.style.display="none",this.closed=!0},n.prototype.open=function(){for(var t=arguments.length<=0||void 0===arguments[0]?100:arguments[0],e=arguments.length<=1||void 0===arguments[1]?100:arguments[1],n=arguments[2];this.element.hasChildNodes();)this.element.removeChild(this.element.firstChild);this.createContent(n),this.element.style.top=e+"px",this.element.style.left=t+"px",this.element.style.display="block",this.closed=!1},r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.createContent=function(t){var e=document.createTextNode(t.getChildProperties("id").length);this.element.appendChild(e)}},function(t,e){"use strict";function n(t){this.tree=t,this.cel=document.createElement("canvas"),this.cel.id=this.tree.containerElement.id+"Navi",this.cel.style.zIndex="100",this.cel.style.backgroundColor="#FFFFFF",this.cel.width=this.tree.canvas.canvas.width/3,this.cel.height=this.tree.canvas.canvas.height/3,this.cel.style.position="absolute",this.cel.style.bottom="0px",this.cel.style.right="0px",this.cel.style.border="1px solid #CCCCCC",this.tree.containerElement.appendChild(this.cel),this.ctx=this.cel.getContext("2d"),this.ctx.translate(this.cel.width/2,this.cel.height/2),this.ctx.save()}n.prototype.drawFrame=function(){var t,e,n,r=this.cel.width,o=this.cel.height,i=r/2,a=o/2;this.ctx.restore(),this.ctx.save(),this.ctx.clearRect(-i,-a,r,o),this.ctx.strokeStyle="rgba(180,180,255,1)",this.tree.drawn?this.ctx.drawImage(this.img,-i,-a,this.cel.width,this.cel.height):(t=this.tree.canvas.canvas.toDataURL(),this.img=document.createElement("img"),this.img.src=t,e=this,this.img.onload=function(){e.ctx.drawImage(e.img,-i,-a,e.cel.width,e.cel.height)},this.baseOffsetx=this.tree.offsetx,this.baseOffsety=this.tree.offsety,this.baseZoom=this.tree.zoom),n=1/(this.tree.zoom/this.baseZoom),this.ctx.lineWidth=this.ctx.lineWidth/n,this.ctx.translate((this.baseOffsetx-this.tree.offsetx*n)*n,(this.baseOffsety-this.tree.offsety*n)*n),this.ctx.scale(n,n),this.ctx.strokeRect(-i,-a,r,o)},n.prototype.resize=function(){this.cel.width=this.tree.canvas.canvas.width/3,this.cel.height=this.tree.canvas.canvas.height/3,this.ctx.translate(this.cel.width/2,this.cel.height/2),this.drawFrame()},t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),i=r(o),a=n(17),s=r(a),l=n(20),u=r(l),c=n(23),f=r(c),p=n(26),h=r(p);e["default"]={rectangular:i["default"],circular:s["default"],radial:u["default"],diagonal:f["default"],hierarchical:h["default"]}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(13),i=r(o),a=n(14),s=r(a),l=n(15),u=r(l),c=n(16),f=r(c),p={getX:function(t){return t.tree.farthestNodeFromRootX*t.tree.currentBranchScale},getY:function(t){return t.centery},getLabelOffset:function(t){return t.tree.farthestNodeFromRootX*t.tree.currentBranchScale-t.centerx}};e["default"]={branchRenderer:new i["default"](u["default"]),prerenderer:new s["default"](f["default"]),labelAlign:p,branchScalingAxis:"x"}},function(t,e){"use strict";function n(t){if(!t||!t.draw)throw new Error("`draw` function is required for branch renderers");this.draw=t.draw,this.prepareChild=t.prepareChild}n.prototype.render=function(t,e,n){var r;if(!n&&e&&(e.selected?e.canvas.fillStyle=t.selectedColour:e.canvas.fillStyle=e.colour,e.canvas.strokeStyle=e.getColour(),this.draw(t,e),!e.pruned))for(e.drawNode(),r=0;r<e.children.length;r++)this.prepareChild&&this.prepareChild(e,e.children[r]),
this.render(t,e.children[r],e.collapsed||n)},t.exports=n},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){n(this,t),this.getStep=e.getStep,this.calculate=e.calculate}return r(t,[{key:"run",value:function(t){var e=this.getStep(t);t.root.startx=0,t.root.starty=0,t.root.centerx=0,t.root.centery=0,t.farthestNodeFromRootX=0,t.farthestNodeFromRootY=0,t.currentBranchScale=1,this.calculate(t,e),t.initialBranchScalar=t.branchScalar,t.root.startx=t.root.centerx,t.root.starty=t.root.centery,t.setFontSize(e),t.setMaxLabelLength()}}]),t}();e["default"]=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={draw:function(t,e){var n=e.branchLength*t.branchScalar;e.angle=0,e.parent&&(e.centerx=e.startx+n),e.canvas.beginPath(),e.canvas.moveTo(e.startx,e.starty),e.canvas.lineTo(e.startx,e.centery),e.canvas.lineTo(e.centerx,e.centery),e.canvas.stroke(),e.canvas.closePath()},prepareChild:function(t,e){e.startx=t.centerx,e.starty=t.centery}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={getStep:function(t){return t.fillCanvas?t.canvas.canvas.height/t.leaves.length:Math.max(t.canvas.canvas.height/t.leaves.length,t.leaves[0].getDiameter()+t.labelPadding)},calculate:function(t,e){t.branchScalar=t.canvas.canvas.width/t.maxBranchLength;for(var n=0;n<t.leaves.length;n++){t.leaves[n].angle=0,t.leaves[n].centery=n>0?t.leaves[n-1].centery+e:0,t.leaves[n].centerx=t.leaves[n].totalBranchLength*t.branchScalar,t.leaves[n].centerx>t.farthestNodeFromRootX&&(t.farthestNodeFromRootX=t.leaves[n].centerx),t.leaves[n].centery>t.farthestNodeFromRootY&&(t.farthestNodeFromRootY=t.leaves[n].centery);for(var r=t.leaves[n];r.parent;r=r.parent){var o=r.parent.children;r.parent.centery=(o[0].centery+o[o.length-1].centery)/2}}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(13),i=r(o),a=n(14),s=r(a),l=n(18),u=r(l),c=n(19),f=r(c),p={getX:function(t){return t.centerx+t.labelOffsetX+t.getDiameter()*Math.cos(t.angle)},getY:function(t){return t.centery+t.labelOffsetY+t.getDiameter()*Math.sin(t.angle)},getLabelOffset:function(t){return t.labelOffsetX/Math.cos(t.angle)}};e["default"]={branchRenderer:new i["default"](u["default"]),prerenderer:new s["default"](f["default"]),labelAlign:p,scaleCollapsedNode:function(t){return t/3},calculateFontSize:function(t){return Math.min(10*t+4,40)}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={draw:function(t,e){var n=e.totalBranchLength*t.branchScalar;e.canvas.beginPath(),e.canvas.moveTo(e.startx,e.starty),e.canvas.lineTo(e.centerx,e.centery),e.canvas.stroke(),e.canvas.closePath(),e.canvas.strokeStyle=e.getColour(),e.children.length>1&&!e.collapsed&&(e.canvas.beginPath(),e.canvas.arc(0,0,n,e.minChildAngle,e.maxChildAngle,e.maxChildAngle<e.minChildAngle),e.canvas.stroke(),e.canvas.closePath())}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=r.constants.Angles;e["default"]={getStep:function(t){return o.FULL/t.leaves.length},calculate:function(t,e){t.branchScalar=Math.min(t.canvas.canvas.width,t.canvas.canvas.height)/t.maxBranchLength;var n=t.leaves.length*t.leaves[0].getDiameter()/o.FULL;t.branchScalar*t.maxBranchLength>n?n=t.branchScalar*t.maxBranchLength:t.branchScalar=n/t.maxBranchLength;for(var r=0;r<t.leaves.length;r++){var i=t.leaves[r];for(i.angle=e*r,i.startx=i.parent.totalBranchLength*t.branchScalar*Math.cos(i.angle),i.starty=i.parent.totalBranchLength*t.branchScalar*Math.sin(i.angle),i.centerx=i.totalBranchLength*t.branchScalar*Math.cos(i.angle),i.centery=i.totalBranchLength*t.branchScalar*Math.sin(i.angle),i.labelOffsetX=n*Math.cos(i.angle)-i.centerx,i.labelOffsetY=n*Math.sin(i.angle)-i.centery;i.parent&&(0===i.getChildNo()&&(i.parent.angle=i.angle,i.parent.minChildAngle=i.angle),i.getChildNo()===i.parent.children.length-1);i=i.parent)i.parent.maxChildAngle=i.angle,i.parent.angle=(i.parent.minChildAngle+i.parent.maxChildAngle)/2,i.parent.startx=(i.parent.totalBranchLength-i.parent.branchLength)*t.branchScalar*Math.cos(i.parent.angle),i.parent.starty=(i.parent.totalBranchLength-i.parent.branchLength)*t.branchScalar*Math.sin(i.parent.angle),i.parent.centerx=i.parent.totalBranchLength*t.branchScalar*Math.cos(i.parent.angle),i.parent.centery=i.parent.totalBranchLength*t.branchScalar*Math.sin(i.parent.angle)}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(13),i=r(o),a=n(14),s=r(a),l=n(21),u=r(l),c=n(22),f=r(c);e["default"]={branchRenderer:new i["default"](u["default"]),prerenderer:new s["default"](f["default"]),scaleCollapsedNode:function(t){return t/7},calculateFontSize:function(t){return Math.min(50*t+5,15)}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={draw:function(t,e){e.canvas.beginPath(),e.canvas.moveTo(e.startx,e.starty),e.canvas.lineTo(e.centerx,e.centery),e.canvas.stroke(),e.canvas.closePath()}}},function(t,e,n){"use strict";function r(t,e){e.parent?(e.startx=e.parent.centerx,e.starty=e.parent.centery):(e.startx=0,e.starty=0),e.centerx=e.startx+e.branchLength*t.branchScalar*Math.cos(e.angle),e.centery=e.starty+e.branchLength*t.branchScalar*Math.sin(e.angle);for(var n=0;n<e.children.length;n++)r(t,e.children[n])}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=o.constants.Angles;e["default"]={getStep:function(t){return i.FULL/t.leaves.length},calculate:function(t,e){t.branchScalar=Math.min(t.canvas.canvas.width,t.canvas.canvas.height)/t.maxBranchLength;for(var n=0;n<t.leaves.length;n+=1){t.leaves[n].angle=e*n,t.leaves[n].centerx=t.leaves[n].totalBranchLength*t.branchScalar*Math.cos(t.leaves[n].angle),t.leaves[n].centery=t.leaves[n].totalBranchLength*t.branchScalar*Math.sin(t.leaves[n].angle);for(var o=t.leaves[n];o.parent&&(0===o.getChildNo()&&(o.parent.angle=0),o.parent.angle+=o.angle*o.getChildCount(),o.getChildNo()===o.parent.children.length-1);o=o.parent)o.parent.angle=o.parent.angle/o.parent.getChildCount()}r(t,t.root)}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(13),i=r(o),a=n(14),s=r(a),l=n(24),u=r(l),c=n(25),f=r(c);e["default"]={branchRenderer:new i["default"](u["default"]),prerenderer:new s["default"](f["default"]),calculateFontSize:function(t){return Math.min(t/2,10)}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={draw:function(t,e){e.angle=0,e.canvas.beginPath(),e.canvas.moveTo(e.startx,e.starty),e.canvas.lineTo(e.centerx,e.centery),e.canvas.stroke(),e.canvas.closePath()},prepareChild:function(t,e){e.startx=t.centerx,e.starty=t.centery}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=r.constants.Angles;e["default"]={getStep:function(t){return Math.max(t.canvas.canvas.height/t.leaves.length,t.leaves[0].getDiameter()+t.labelPadding)},calculate:function(t,e){for(var n=0;n<t.leaves.length;n++){t.leaves[n].centerx=0,t.leaves[n].centery=n>0?t.leaves[n-1].centery+e:0,t.leaves[n].angle=0;for(var r=t.leaves[n];r.parent&&r.getChildNo()===r.parent.children.length-1;r=r.parent){r.parent.centery=r.parent.getChildYTotal()/r.parent.getChildCount(),r.parent.centerx=r.parent.children[0].centerx+(r.parent.children[0].centery-r.parent.centery)*Math.tan(o.FORTYFIVE);for(var i=0;i<r.parent.children.length;i++)r.parent.children[i].startx=r.parent.centerx,r.parent.children[i].starty=r.parent.centery}}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(13),i=r(o),a=n(14),s=r(a),l=n(27),u=r(l),c=n(28),f=r(c),p={getX:function(t){return t.centerx},getY:function(t){return t.tree.farthestNodeFromRootY*t.tree.currentBranchScale},getLabelOffset:function(t){return t.tree.farthestNodeFromRootY*t.tree.currentBranchScale-t.centery}};e["default"]={branchRenderer:new i["default"](u["default"]),prerenderer:new s["default"](f["default"]),labelAlign:p,branchScalingAxis:"y"}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={draw:function(t,e){var n=e.branchLength*t.branchScalar;e.parent&&(e.centery=e.starty+n),e.canvas.beginPath(),e!==e.tree.root&&(e.canvas.moveTo(e.startx,e.starty),e.canvas.lineTo(e.centerx,e.starty)),e.canvas.lineTo(e.centerx,e.centery),e.canvas.stroke(),e.canvas.closePath()},prepareChild:function(t,e){e.startx=t.centerx,e.starty=t.centery}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=r.constants.Angles;e["default"]={getStep:function(t){return t.fillCanvas?t.canvas.canvas.width/t.leaves.length:Math.max(t.canvas.canvas.width/t.leaves.length,t.leaves[0].getDiameter()+t.labelPadding)},calculate:function(t,e){t.branchScalar=t.canvas.canvas.height/t.maxBranchLength;for(var n=0;n<t.leaves.length;n++){t.leaves[n].angle=o.QUARTER,t.leaves[n].centerx=n>0?t.leaves[n-1].centerx+e:0,t.leaves[n].centery=t.leaves[n].totalBranchLength*t.branchScalar;for(var r=t.leaves[n];r.parent&&(0===r.getChildNo()&&(r.parent.centerx=r.centerx),r.getChildNo()===r.parent.children.length-1);r=r.parent){r.parent.angle=o.QUARTER,r.parent.centerx=(r.parent.centerx+r.centerx)/2,r.parent.centery=r.parent.totalBranchLength*t.branchScalar;for(var i=0;i<r.parent.children.length;i++)r.parent.children[i].startx=r.parent.centerx,r.parent.children[i].starty=r.parent.centery}t.leaves[n].centerx>t.farthestNodeFromRootX&&(t.farthestNodeFromRootX=t.leaves[n].centerx),t.leaves[n].centery>t.farthestNodeFromRootY&&(t.farthestNodeFromRootY=t.leaves[n].centery)}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(30),i=r(o),a=n(31),s=r(a),l=n(32),u=r(l);e["default"]={nexus:new i["default"](u["default"]),newick:new i["default"](s["default"])}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){var r=e.format,o=e.parseFn,i=e.fileExtension,a=e.validator;n(this,t),this.format=r,this.parseFn=o,this.fileExtension=i,this.validator=a}return r(t,[{key:"parse",value:function(t,e){var n=t.formatString,r=t.root,o=t.options,i=void 0===o?{validate:!0}:o;return n.match(this.validator)||i.validate===!1?this.parseFn({string:n,root:r,options:i},e):e(new Error('Format string does not validate as "'+this.format+'"'))}}]),t}();e["default"]=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return this===t}function i(t){var e="",n=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(m.some(o.bind(l)))break;e+=l}}catch(u){r=!0,i=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw i}}return e}function a(t,e){var n=t.split("**"),r={};if(e.id=n[0],1!==n.length){n=n[1].split("*");for(var o=0;o<n.length;o+=2){var i=n[o+1];switch(n[o]){case"nsz":r.size=window.parseInt(i);break;case"nsh":r.shape=i;break;case"ncol":r.colour=i}}e.setDisplay(r)}}function s(t){var e="",n=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(y.some(o.bind(l)))break;e+=l}}catch(u){r=!0,i=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw i}}return e}function l(t,e,n){var r=i(e.slice(n)),o=n+r.length,l="";return r.match(/\*/)&&a(r,t),":"===e[o]?(l=s(e.slice(o+1)),t.branchLength=Math.max(parseFloat(l),0)):t.branchLength=0,r&&(t.label=r),t.id=r||f["default"].generateId(),o+l.length}function u(t,e){for(var n=t.string,r=t.root,o=n.replace(/(\r|\n)/g,""),i=r,a=0;a<o.length;a++){var s=void 0;switch(o[a]){case"(":s=new f["default"],i.addChild(s),i=s;break;case")":i=i.parent;break;case",":s=new f["default"],i.parent.addChild(s),i=s;break;case";":break;default:try{a=l(i,o,a)}catch(u){return e(u)}}}return e()}Object.defineProperty(e,"__esModule",{value:!0});var c=n(7),f=r(c),p="newick",h=/\.nwk$/,d=/^[\w\W\.\*\:(\),-\/]+;\s?$/gi,m=[":",",",")",";"],y=[")",",",";"];e["default"]={format:p,fileExtension:h,validator:d,parseFn:u}},function(t,e,n){"use strict";function r(t,e){var n=t.string,r=t.root,i=t.options;if(!n.match(/BEGIN TREES/gi))return e(new Error("The nexus file does not contain a tree block"));var a=i.name,s=n.match(/BEGIN TREES;[\S\s]+END;/i)[0].replace(/BEGIN TREES;\n/i,"").replace(/END;/i,""),l={},u=s.match(/TRANSLATE[^;]+;/i);if(u&&u.length){u=u[0],s=s.replace(u,""),u=u.replace(/translate|;/gi,"");for(var c=u.split(","),f=0;f<c.length;f++){var p=c[f].trim().replace("\n","").split(" ");p[0]&&p[1]&&(l[p[0].trim()]=p[1].trim())}}for(var h=s.split("\n"),d={},f=0;f<h.length;f++)if(""!==h[f].trim()){var m=h[f].replace(/tree\s/i,"");a||(a=m.trim().match(/^\w+/)[0]),d[a]=m.trim().match(/[\S]*$/)[0]}return d[a]?void(0,o.parseFn)({string:d[a].trim(),root:r},function(t){if(t)return e(t);if(e(),l){var n=!0,o=!1,i=void 0;try{for(var a,s=Object.keys(l)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value,c=r.tree.branches,f=c[u];delete c[u],f.id=l[u],c[f.id]=f}}catch(p){o=!0,i=p}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw i}}r.tree.draw()}}):new Error("tree "+a+" does not exist in this NEXUS file")}Object.defineProperty(e,"__esModule",{value:!0});var o=n(31),i="nexus",a=/\.n(ex|xs)$/,s=/^#NEXUS[\s\n;\w\W\.\*\:(\),-=\[\]\/&]+$/i;e["default"]={parseFn:r,format:i,fileExtension:a,validator:s}}])})},function(t,e,n){var r=n(1230),o=n(1235);t.exports=function(t,e){return r(t,e).replace(/^.| ./g,function(t){return o(t,e)})}},function(t,e,n){var r=n(1231),o=n(1232),i=n(1233),a=n(1234);t.exports=function(t,e,n){function s(t,e,r){return 0===e||e===r.length-t.length?"":n}return null==t?"":(n=n||" ",t=String(t).replace(i,"$1 $2").replace(a,"$1 $2").replace(o,s),r(t,e))}},function(t,e){var n={tr:{regexp:/\u0130|\u0049|\u0049\u0307/g,map:{"":"i",I:"","I":"i"}},az:{regexp:/[\u0130]/g,map:{"":"i",I:"","I":"i"}},lt:{regexp:/[\u0049\u004A\u012E\u00CC\u00CD\u0128]/g,map:{I:"i",J:"j","":"","":"i","":"i","":"i"}}};t.exports=function(t,e){var r=n[e];return t=null==t?"":String(t),r&&(t=t.replace(r.regexp,function(t){return r.map[t]})),t.toLowerCase()}},function(t,e){t.exports=/[^A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]+/g},function(t,e){t.exports=/([a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19])([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A])/g},function(t,e){t.exports=/([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A]+)([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A][a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A])/g;
},function(t,e){var n={tr:{regexp:/[\u0069]/g,map:{i:""}},az:{regexp:/[\u0069]/g,map:{i:""}},lt:{regexp:/[\u0069\u006A\u012F]\u0307|\u0069\u0307[\u0300\u0301\u0303]/g,map:{"i":"I","j":"J","":"","i":"","i":"","i":""}}};t.exports=function(t,e){var r=n[e];return t=null==t?"":String(t),r&&(t=t.replace(r.regexp,function(t){return r.map[t]})),t.toUpperCase()}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(1228),l=n(700),u=r(l),c=n(1237),f=r(c),p=n(584),h=r(p),d=n(583),m=r(d),y=n(922),v=r(y),g=n(582),b=r(g),_=n(927),x=r(_),w=n(933),T=r(w),E=n(950),C=r(E),k=n(1241),S=r(k),P=a["default"].createClass({displayName:"TreeContainer",mixins:[h["default"],b["default"],m["default"],(0,v["default"])("tree","table")],propTypes:{table:a["default"].PropTypes.string,tree:a["default"].PropTypes.string,treeType:a["default"].PropTypes.oneOf((0,u["default"])(s.treeTypes))},getInitialState:function(){return{data:null,loadStatus:"loaded"}},fetchData:function(t,e){var n=this,r=t.table,i=t.tree;r&&i?!function(){n.setState({loadStatus:"loading"});var a={database:n.config.dataset,table:r,tree:i};e.request(function(t){return x["default"].get("treeData"+JSON.stringify(a),function(t){return T["default"].treeData(o({cancellation:t},a))},t)}).then(function(t){n.setState({data:t.data,loadStatus:"loaded"})})["catch"](function(e){(0,C["default"])(n.getFlux(),e.message,function(){return n.fetchData(t)}),n.setState({loadStatus:"error"})})}():this.setState({data:null,loadStatus:"loaded"})},render:function(){var t=this.state,e=t.data,n=t.loadStatus;return a["default"].createElement("div",{className:"tree-container"},e?a["default"].createElement(f["default"],o({},this.props,{data:e})):null,a["default"].createElement(S["default"],{status:n}))}});t.exports=P},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(1238),l=r(s),u=n(1228),c=n(700),f=r(c),p=n(584),h=r(p),d=n(899),m=r(d);n(1239);var y=a["default"].createClass({displayName:"Tree",mixins:[h["default"]],propTypes:{data:a["default"].PropTypes.string,treeType:a["default"].PropTypes.oneOf((0,f["default"])(u.treeTypes))},handleResize:function(t){this.refs.phylocanvas.tree&&(this.refs.phylocanvas.tree.resizeToContainer(),this.refs.phylocanvas.tree.fitInPanel(),this.refs.phylocanvas.tree.draw())},render:function(){return a["default"].createElement(m["default"],{onResize:this.handleResize},a["default"].createElement(l["default"],o({ref:"phylocanvas",className:"tree"},this.props)))}});t.exports=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(316),u=r(l),c=n(1228),f=r(c),p=n(700),h=r(p),d=function(t){function e(){return o(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"componentDidMount",value:function(){this.tree=f["default"].createTree(this.refs.phyloCanvasDiv),this.componentDidUpdate({})}},{key:"componentDidUpdate",value:function(t){var e=this.props;t.data!==e.data&&this.tree.load(e.data),t.treeType!==e.treeType&&this.tree.setTreeType(e.treeType)}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.style;return u["default"].createElement("div",{ref:"phyloCanvasDiv",style:n,className:e})}}]),e}(u["default"].Component);d.propTypes={className:u["default"].PropTypes.string,data:u["default"].PropTypes.string,style:u["default"].PropTypes.object,treeType:u["default"].PropTypes.oneOf((0,h["default"])(c.treeTypes))},e["default"]=d},function(t,e,n){var r=n(1240);"string"==typeof r&&(r=[[t.id,r,""]]);n(782)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(781)(),e.push([t.id,".tree-sidebar{width:280px}.tree-container{position:absolute}.tree,.tree-container{height:100%;width:100%}.tree{overflow:hidden}.tree canvas{display:block;z-index:inherit!important}.tree-controls{-ms-flex-align:start;align-items:flex-start}.tree-controls .dropdown-option{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.dropdown-option .icon,.tree-controls .dropdown-option .icon{color:#757575;padding-right:7px}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a);n(1242);var l=i["default"].createClass({displayName:"Loading",mixins:[s["default"]],propTypes:{status:i["default"].PropTypes.string.isRequired,children:i["default"].PropTypes.any},render:function(){var t=this.props.status;return"loading"==t?i["default"].createElement("div",{className:"loading-container show"},i["default"].createElement("div",{className:"spinner load-icon"})):"loading-hide"==t?i["default"].createElement("div",{className:"loading-container show hide-content"},i["default"].createElement("div",{className:"spinner load-icon"})):"error"==t?i["default"].createElement("div",{className:"loading-container show"},i["default"].createElement("div",{className:"error load-icon"}),i["default"].createElement("div",{className:"error-text"},this.props.children)):"custom"==t?i["default"].createElement("div",{className:"loading-container show"},i["default"].createElement("div",{className:"custom load-icon"},this.props.children)):i["default"].createElement("div",{className:"loading-container"},i["default"].createElement("div",{className:"spinner load-icon"}))}});t.exports=l},function(t,e,n){var r=n(1243);"string"==typeof r&&(r=[[t.id,r,""]]);n(782)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(781)(),e.push([t.id,".loading-container{position:absolute;overflow:hidden;top:0;left:0;z-index:2;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;height:100%;width:100%;background-color:hsla(0,0%,100%,.6);visibility:hidden;opacity:0;transition:visibility 0s linear .5s,opacity .5s linear}.loading-container .load-icon{opacity:.5;height:50%;width:50%;background-size:contain;background-repeat:no-repeat;background-position:50%}.loading-container .spinner{background-image:url("+n(759)+");animation:spin 2s infinite linear}.loading-container .error{background-image:url("+n(754)+")}.loading-container .error-text{font-style:italic;padding-top:15px}.loading-container .custom{text-align:center;font-style:italic}.loading-container.show{visibility:inherit;opacity:1}.loading-container.hide-content{background-color:#fff}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(582),u=r(l),c=n(1019),f=r(c),p=n(1059),h=r(p),d=100,m=i["default"].createClass({displayName:"SelectFieldWithNativeFallback",mixins:[s["default"],u["default"]],propTypes:{value:i["default"].PropTypes.string,autoWidth:i["default"].PropTypes.bool,floatingLabelText:i["default"].PropTypes.string,onChange:i["default"].PropTypes.func,options:i["default"].PropTypes.array},render:function(){var t=this.props,e=t.value,n=t.autoWidth,r=t.floatingLabelText,o=t.onChange,a=t.options;return a.length>d?i["default"].createElement("div",{style:{fontSize:"16px",lineHeight:"24px",width:"256px",height:"72px",display:"inline-block",position:"relative",fontFamily:"Roboto, sans-serif",transition:"height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",backgroundColor:"transparent"}},i["default"].createElement("label",{style:{position:"absolute",lineHeight:"22px",top:"38px",transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",zIndex:"1",cursor:"text",transform:"perspective(1px) scale(0.75) translate3d(0px, -28px, 0px)",transformOrigin:"left top 0px",pointerEvents:"none",color:"rgba(0, 0, 0, 0.498039)"}},r),i["default"].createElement("div",{style:{display:"block",fontSize:"inherit",height:"100%",fontFamily:"inherit",outline:"none",position:"relative",transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",padding:"0px",width:"100%",border:"none",color:"rgba(0, 0, 0, 0.870588)",fontStyle:"inherit",fontVariant:"inherit",fontWeight:"inherit",fontStretch:"inherit",lineHeight:"inherit",boxSizing:"border-box",marginTop:"14px",backgroundColor:"rgba(0, 0, 0, 0)"}},i["default"].createElement("div",{style:{cursor:"pointer",height:"100%",position:"relative",width:"100%"}},i["default"].createElement("div",{style:{boxSizing:"border-box",display:"table"}}," "),i["default"].createElement("select",{style:{width:"100%",appearance:"none",cursor:"pointer",border:"none",background:"none",display:"block",color:"rgba(0, 0, 0, 0.870588)",lineHeight:"56px",opacity:"1",position:"relative",paddingLeft:"0px",paddingRight:"48px",top:"6px"},value:e,onChange:function(t){return o(t.target.value)}},i["default"].createElement("option",{className:"dropdown-option",value:""}),a.map(function(t){var e=t.value,n=t.label;return i["default"].createElement("option",{className:"dropdown-option",key:e,value:e,label:n||e})})),i["default"].createElement("svg",{viewBox:"0 0 24 24",style:{display:"inline-block",fill:"rgb(224, 224, 224)",height:"24px",width:"24px",transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",position:"absolute",right:"0px",top:"22px"}},i["default"].createElement("path",{d:"M7 10l5 5 5-5z"})),i["default"].createElement("div",{style:{borderTopStyle:"none",bottom:"1px",left:"0px",margin:"-1px 24px",right:"0px",position:"absolute"}}),i["default"].createElement("div",{style:{boxSizing:"borderBox",clear:"both",display:"table"}}," "))),i["default"].createElement("div",null,i["default"].createElement("hr",{style:{borderBottomWidth:"1px",borderStyle:"none none solid",borderColor:"rgb(224, 224, 224)",bottom:"8px",boxSizing:"content-box",margin:"0px",position:"absolute",width:"100%"}}),i["default"].createElement("hr",{style:{borderBottomWidth:"2px",borderStyle:"none none solid",borderColor:"rgb(33, 150, 243)",bottom:"8px",boxSizing:"content-box",margin:"0px",position:"absolute",width:"100%",transform:"scaleX(0)",transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms"}}))):i["default"].createElement(f["default"],{value:e,autoWidth:n,floatingLabelText:r,onChange:function(t,e,n){return o(n)}},a.map(function(t){var e=t.value,n=t.label,r=t.leftIcon,o=t.rightIcon,a=t.disabled;return i["default"].createElement(h["default"],{key:e,value:e,primaryText:i["default"].createElement("div",{className:"dropdown-option"},n||e),leftIcon:r,rightIcon:o,disabled:a})}))}});t.exports=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(761),s=r(a),l=n(653),u=r(l),c=n(584),f=r(c),p=n(582),h=r(p),d=n(583),m=r(d),y=n(652),v=r(y),g=n(771),b=r(g),_=n(921),x=r(_),w=i["default"].createClass({displayName:"DataItemWidget",mixins:[f["default"],h["default"],m["default"]],propTypes:{setProps:i["default"].PropTypes.func,table:i["default"].PropTypes.string.isRequired,primKey:i["default"].PropTypes.string.isRequired,activeTab:i["default"].PropTypes.string,children:i["default"].PropTypes.node},getDefaultProps:function(){return{activeTab:"view_0"}},icon:function(){return this.config.tablesById[this.props.table].icon},title:function(){return this.config.tablesById[this.props.table].capNameSingle+' "'+this.props.primKey+'"'},render:function(){var t=this.props,e=t.table,n=t.primKey,r=t.setProps,o=t.activeTab,a=t.children;return a=(0,s["default"])(this,a),i["default"].createElement("div",{className:"vertical stack",style:{position:"absolute"}},i["default"].createElement("div",{className:"grow"},i["default"].createElement(v["default"],{activeTab:o,onSwitch:function(t){return r({activeTab:t})}},u["default"].map(a,function(t,r){var o="view_"+r;return i["default"].createElement(b["default"],{compId:o,key:o},i["default"].cloneElement(t,{table:e,primKey:n}))}))),i["default"].createElement("div",null,i["default"].createElement(x["default"],{table:e,primKey:n})))}});t.exports=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(584),l=r(s),u=n(582),c=r(u),f=n(933),p=r(f),h=n(950),d=r(h),m=n(923),y=r(m),v=n(927),g=r(v),b=n(1241),_=r(b),x=a["default"].createClass({displayName:"DatasetImportStatusItemView",mixins:[l["default"],c["default"]],propTypes:{logId:a["default"].PropTypes.string.isRequired,title:a["default"].PropTypes.string,icon:a["default"].PropTypes.string},getInitialState:function(){return{logContent:null,loadStatus:"loaded"}},title:function(){return this.props.title},icon:function(){return this.props.icon},componentWillMount:function(){this._requestContext=new y["default"],this.fetchData(this.props,this._requestContext)},componentWillUnmount:function(){this._requestContext.destroy()},fetchData:function(t,e){var n=this;this.setState({loadStatus:"loading"});var r={logId:this.props.logId};e.request(function(t){return p["default"].fetchImportStatusLog(o({cancellation:t},r))}).then(function(t){n.setState({loadStatus:"loaded",logContent:t})})["catch"](p["default"].filterAborted)["catch"](g["default"].filterCancelled)["catch"](function(t){(0,d["default"])(n.getFlux(),p["default"].errorMessage(t),function(){return n.fetchData(n.props)}),n.setState({loadStatus:"error"})})},render:function(){var t=this.state,e=t.loadStatus,n=t.logContent;return a["default"].createElement("div",{style:{minHeight:"200px"}},a["default"].createElement("div",{style:{padding:"10px",whiteSpace:"pre-wrap",maxWidth:"80vw",maxHeight:"80vh"}},n),a["default"].createElement(_["default"],{status:e}))}});t.exports=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(584),l=r(s),u=n(582),c=r(u),f=n(583),p=r(f),h=n(933),d=r(h),m=n(950),y=r(m),v=n(1246),g=r(v),b=n(1241),_=r(b),x=n(750),w=r(x),T=n(1131),E=n(923),C=r(E),k=a["default"].createClass({displayName:"DatasetImportStatusListView",mixins:[l["default"],c["default"],p["default"]],propTypes:{refreshMilliseconds:a["default"].PropTypes.number},getInitialState:function(){return{rows:[],loadStatus:"loaded"}},componentWillMount:function(){this._requestContext=new C["default"],this.fetchData(this.props,this._requestContext)},componentDidMount:function(){var t=this;this.fetchDataInterval=setInterval(function(){return t.fetchData(t.props,t._requestContext)},this.props.refreshMilliseconds)},componentWillUnmount:function(){this._requestContext.destroy(),clearInterval(this.fetchDataInterval)},fetchData:function(t,e){var n=this;this.setState({loadStatus:"loading"});var r={dataset:this.config.dataset};e.request(function(t){return d["default"].fetchImportStatusData(o({cancellation:t},r))}).then(function(t){n.setState({loadStatus:"loaded",rows:t})})["catch"](d["default"].filterAborted)["catch"](function(t){(0,y["default"])(n.getFlux(),d["default"].errorMessage(t),function(){return n.fetchData(n.props)}),n.setState({loadStatus:"error"})})},handleClickImportStatus:function(t,e,n){var r=!0;this.getFlux().actions.session.popupOpen(a["default"].createElement(g["default"],{logId:t,title:e,icon:n}),r)},render:function(){var t=this,e=this.state,n=e.loadStatus,r=e.rows;return a["default"].createElement("div",null,a["default"].createElement(T.List,null,r.map(function(e){if(e.name.indexOf(t.config.dataset)===-1)return null;var n=null,r=!1,o={};return e.failed?(n="warning",o={color:"orange"}):e.completed?(n="check",o={color:"green"}):e.progress?(n="cog",r=!0,o={color:"#2196f3"}):(n="cog",r=!0,o={color:"#2196f3"}),a["default"].createElement(T.ListItem,{key:e.id,primaryText:a["default"].createElement("div",null,a["default"].createElement("span",null,e.status)),secondaryText:a["default"].createElement("div",null,a["default"].createElement("span",null,e.name),a["default"].createElement("br",null),a["default"].createElement("span",null,e.user),a["default"].createElement("span",null,", "),a["default"].createElement("span",null,e.timestamp)),leftIcon:a["default"].createElement("div",null,a["default"].createElement(w["default"],{fixedWidth:!0,name:n,spin:r,style:o})),onClick:function(r){return t.handleClickImportStatus(e.id,e.name+" - "+e.timestamp,n)},secondaryTextLines:2})})),a["default"].createElement(_["default"],{status:n}))}});t.exports=k},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(971),s=r(a),l=n(584),u=r(l),c=n(582),f=r(c),p=n(583),h=r(p),d=n(955),m=r(d),y=n(957),v=r(y),g=n(750),b=r(g),_=n(1249),x=r(_),w=n(1241),T=r(w),E=n(1247),C=r(E),k=n(933),S=r(k),P=i["default"].createClass({displayName:"DatasetManagerActions",mixins:[u["default"],f["default"],h["default"]],propTypes:{setProps:i["default"].PropTypes.func,title:i["default"].PropTypes.string,sidebar:i["default"].PropTypes.bool},getDefaultProps:function(){return{sidebar:!0}},icon:function(){return"database"},title:function(){return this.props.title||"Dataset manager"},handleReloadConfig:function(){S["default"].importDatasetConfig(this.config.dataset)},handleReimport:function(){S["default"].importDataset(this.config.dataset)},render:function(){var t=this,e=this.props,n=e.sidebar,r=e.setProps;if(!this.config.user.isManager)return i["default"].createElement(T["default"],{status:"custom"},"Sorry you do not have management permissions for this dataset");var o=this.config.settings.name,a=this.config.dataset,l=i["default"].createElement("div",{className:"sidebar"},i["default"].createElement(v["default"],{icon:this.icon(),description:"Import and configure the "+o+" ("+a+") dataset"}),i["default"].createElement(x["default"],{label:"Reload config only",primary:!0,icon:i["default"].createElement(b["default"],{fixedWidth:!0,name:"cogs"}),message:"Are you sure you want to reload the configuration for the "+o+" ("+a+") dataset?",onConfirm:function(){return t.handleReloadConfig()}}),i["default"].createElement(x["default"],{label:"Reimport everything",primary:!0,icon:i["default"].createElement(b["default"],{fixedWidth:!0,name:"refresh"}),message:"Are you sure you want to reimport everything for the "+o+" ("+a+") dataset?",onConfirm:function(){return t.handleReimport()}}));return i["default"].createElement(m["default"],{styles:{sidebar:{paddingRight:(0,s["default"])()+"px"}},docked:n,sidebar:l},i["default"].createElement("div",{className:"vertical stack"},i["default"].createElement("div",{className:"top-bar"},i["default"].createElement(b["default"],{className:"pointer icon",name:n?"arrows-h":"bars",onClick:function(){return r({sidebar:!n})},title:n?"Expand":"Sidebar"}),i["default"].createElement("span",{className:"block text"},"Status logs")),i["default"].createElement("div",{className:"grow"},i["default"].createElement(C["default"],{refreshMilliseconds:2e3}))))}});t.exports=P},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(584),l=r(s),u=n(582),c=r(u),f=n(1103),p=r(f),h=a["default"].createClass({displayName:"ConfirmButton",mixins:[l["default"],c["default"]],propTypes:{label:a["default"].PropTypes.string,message:a["default"].PropTypes.string,onConfirm:a["default"].PropTypes.func,onCancel:a["default"].PropTypes.func,confirmButtonLabel:a["default"].PropTypes.string,cancelButtonLabel:a["default"].PropTypes.string,primary:a["default"].PropTypes.bool,icon:a["default"].PropTypes.element},handleClick:function(t){this.getFlux().actions.session.modalOpen("ui/Confirm",o({title:this.props.label},this.props))},render:function(){var t=this.props,e=t.label,n=t.primary,r=t.icon;return a["default"].createElement(p["default"],{label:e,primary:n,onClick:this.handleClick,icon:r})}});e["default"]=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(941),l=r(s),u=n(584),c=r(u),f=n(582),p=r(f),h=n(583),d=r(h),m=n(922),y=r(m),v=n(927),g=r(v),b=n(933),_=r(b),x=n(1251),w=r(x),T=n(950),E=r(T),C=n(1241),k=r(C),S=a["default"].createClass({displayName:"FieldListWidget",mixins:[c["default"],p["default"],d["default"],(0,y["default"])("table","primKey")],propTypes:{title:a["default"].PropTypes.string,table:a["default"].PropTypes.string,primKey:a["default"].PropTypes.string,fields:a["default"].PropTypes.array,className:a["default"].PropTypes.string},getInitialState:function(){return{loadStatus:"loaded"}},fetchData:function(t,e){var n=this,r=t.table,i=t.primKey;this.setState({loadStatus:"loading"});var a={database:this.config.dataset,table:r,primKeyField:this.config.tablesById[r].primKey,primKeyValue:i};e.request(function(t){return g["default"].get("fetchSingleRecord"+JSON.stringify(a),function(t){return _["default"].fetchSingleRecord(o({cancellation:t},a))},t)}).then(function(t){n.setState({loadStatus:"loaded",data:t})})["catch"](_["default"].filterAborted)["catch"](g["default"].filterCancelled)["catch"](function(r){(0,E["default"])(n.getFlux(),r.message,function(){return n.fetchData(t,e)}),n.setState({loadStatus:"error"})})},title:function(){return this.props.title},render:function(){var t=this.props,e=t.table,n=t.fields,r=t.className,o=this.state,i=o.data,s=o.loadStatus;if(!i)return null;for(var u={},c=(0,l["default"])(this.config.tablesById[e].properties),f=0;f<c.length;f++)c[f].value=i[c[f].id],u[c[f].id]=f;var p=[];return n.forEach(function(t){var e=u[t];"undefined"!=typeof e?p.push(c[e]):console.warn("Foreign property: "+t)}),a["default"].createElement("div",null,a["default"].createElement(w["default"],{propertiesData:p,className:r}),a["default"].createElement(k["default"],{status:s}))}});t.exports=S},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(582),u=r(l),c=n(1252),f=r(c),p=i["default"].createClass({displayName:"PropertyList",mixins:[s["default"],u["default"]],propTypes:{propertiesData:i["default"].PropTypes.array.isRequired,className:i["default"].PropTypes.string},render:function(){var t=this.props,e=t.propertiesData,n=t.className;return i["default"].createElement("table",{className:n},i["default"].createElement("tbody",null,e.map(function(t,e){return i["default"].createElement(f["default"],{key:e,rowIndex:e,propertyData:t,tooltipPlacement:"right",tooltipTrigger:["click"]})})))}});t.exports=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(582),u=r(l),c=n(1253),f=r(c),p=n(1334),h=r(p),d=i["default"].createClass({displayName:"PropertyListItem",mixins:[s["default"],u["default"]],propTypes:{propertyData:i["default"].PropTypes.object.isRequired,tooltipPlacement:i["default"].PropTypes.string.isRequired,tooltipTrigger:i["default"].PropTypes.arrayOf(i["default"].PropTypes.string),rowIndex:i["default"].PropTypes.number.isRequired},render:function(){var t=this.props,e=t.propertyData,n=t.tooltipPlacement,r=t.tooltipTrigger,o=t.rowIndex,a=e.name,s=e.description,l=e.value,u="inherit",c="table-col-row-odd";return o%2&&(c="table-col-row-even"),i["default"].createElement("tr",{className:c},i["default"].createElement("th",{className:"table-col-header"},i["default"].createElement(f["default"],{name:a,description:s,tooltipPlacement:n,tooltipTrigger:r})),i["default"].createElement("td",{className:"table-col-cell",style:{backgroundColor:u}},i["default"].createElement(h["default"],{prop:e,value:l})))}});t.exports=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(316),s=r(a),l=n(584),u=r(l),c=n(582),f=r(c),p=n(1254),h=r(p),d=n(750),m=r(d),y=n(1257),v=r(y);n(1332);var g=s["default"].createClass({displayName:"PropertyHeader",mixins:[u["default"],f["default"]],propTypes:{prefix:s["default"].PropTypes.node,name:s["default"].PropTypes.string.isRequired,description:s["default"].PropTypes.string.isRequired,tooltipPlacement:s["default"].PropTypes.string.isRequired,tooltipTrigger:s["default"].PropTypes.arrayOf(s["default"].PropTypes.string),onClick:s["default"].PropTypes.func},render:function(){var t=this.props,e=t.name,n=t.description,r=t.tooltipPlacement,a=t.tooltipTrigger,l=t.prefix,u=t.onClick,c=o(t,["name","description","tooltipPlacement","tooltipTrigger","prefix","onClick"]);delete c.columnKey;var f="";return n&&(f=s["default"].createElement(v["default"],{placement:r,trigger:a,overlay:s["default"].createElement("span",null,n)},s["default"].createElement(m["default"],{className:"info",name:"info-circle"}))),s["default"].createElement("span",i({onClick:function(t){u&&t.target.className.indexOf("info")==-1&&u(t)}},c),l,s["default"].createElement(h["default"],{className:"label"},e),f)}});t.exports=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a);n(1255);var l=i["default"].createClass({displayName:"TooltipEllipsis",mixins:[s["default"]],propTypes:{className:i["default"].PropTypes.string,children:i["default"].PropTypes.any},componentDidUpdate:function(){this.element.offsetWidth<this.element.scrollWidth&&(this.element.title=this.props.children)},render:function(){var t=this;return i["default"].createElement("span",{className:this.props.className+" tooltip-ellipsis",ref:function(e){return t.element=e}},this.props.children)}});t.exports=l},function(t,e,n){var r=n(1256);"string"==typeof r&&(r=[[t.id,r,""]]);n(782)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(781)(),e.push([t.id,".tooltip-ellipsis{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}",""])},function(t,e,n){"use strict";t.exports=n(1258)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(316),s=r(a),l=n(1259),u=n(1260),c=r(u),f=s["default"].createClass({displayName:"Tooltip",propTypes:{trigger:a.PropTypes.any,children:a.PropTypes.any,defaultVisible:a.PropTypes.bool,visible:a.PropTypes.bool,placement:a.PropTypes.string,transitionName:a.PropTypes.string,animation:a.PropTypes.any,onVisibleChange:a.PropTypes.func,afterVisibleChange:a.PropTypes.func,overlay:a.PropTypes.oneOfType([s["default"].PropTypes.node,s["default"].PropTypes.func]).isRequired,overlayStyle:a.PropTypes.object,overlayClassName:a.PropTypes.string,prefixCls:a.PropTypes.string,mouseEnterDelay:a.PropTypes.number,mouseLeaveDelay:a.PropTypes.number,getTooltipContainer:a.PropTypes.func,destroyTooltipOnHide:a.PropTypes.bool,align:a.PropTypes.object,arrowContent:a.PropTypes.any},getDefaultProps:function(){return{prefixCls:"rc-tooltip",mouseEnterDelay:0,destroyTooltipOnHide:!1,mouseLeaveDelay:.1,align:{},placement:"right",trigger:["hover"],arrowContent:null}},getPopupElement:function(){var t=this.props,e=t.arrowContent,n=t.overlay,r=t.prefixCls;return[s["default"].createElement("div",{className:r+"-arrow",key:"arrow"},e),s["default"].createElement("div",{className:r+"-inner",key:"content"},"function"==typeof n?n():n)]},getPopupDomNode:function(){return this.refs.trigger.getPopupDomNode()},render:function(){var t=this.props,e=t.overlayClassName,n=t.trigger,r=t.mouseEnterDelay,a=t.mouseLeaveDelay,u=t.overlayStyle,f=t.prefixCls,p=t.children,h=t.onVisibleChange,d=t.transitionName,m=t.animation,y=t.placement,v=t.align,g=t.destroyTooltipOnHide,b=t.defaultVisible,_=t.getTooltipContainer,x=o(t,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer"]),w=i({},x);return"visible"in this.props&&(w.popupVisible=this.props.visible),s["default"].createElement(c["default"],i({popupClassName:e,ref:"trigger",prefixCls:f,popup:this.getPopupElement,action:n,builtinPlacements:l.placements,popupPlacement:y,popupAlign:v,getPopupContainer:_,onPopupVisibleChange:h,popupTransitionName:d,popupAnimation:m,defaultPopupVisible:b,destroyPopupOnHide:g,mouseLeaveDelay:a,popupStyle:u,mouseEnterDelay:r},w),p)}});e["default"]=f,t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={adjustX:1,adjustY:1},r=[0,0],o=e.placements={left:{points:["cr","cl"],overflow:n,offset:[-4,0],targetOffset:r},right:{points:["cl","cr"],overflow:n,offset:[4,0],targetOffset:r},top:{points:["bc","tc"],overflow:n,offset:[0,-4],targetOffset:r},bottom:{points:["tc","bc"],overflow:n,offset:[0,4],targetOffset:r},topLeft:{points:["bl","tl"],overflow:n,offset:[0,-4],targetOffset:r},leftTop:{points:["tr","tl"],overflow:n,offset:[-4,0],targetOffset:r},topRight:{points:["br","tr"],overflow:n,offset:[0,-4],targetOffset:r},rightTop:{points:["tl","tr"],overflow:n,offset:[4,0],targetOffset:r},bottomRight:{points:["tr","br"],overflow:n,offset:[0,4],targetOffset:r},rightBottom:{points:["bl","br"],overflow:n,offset:[4,0],targetOffset:r},bottomLeft:{points:["tl","bl"],overflow:n,offset:[0,4],targetOffset:r},leftBottom:{points:["br","bl"],overflow:n,offset:[-4,0],targetOffset:r}};e["default"]=o},function(t,e,n){"use strict";t.exports=n(1261)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){}function i(){return""}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1262),s=r(a),l=n(316),u=r(l),c=n(345),f=r(c),p=n(1300),h=r(p),d=n(1301),m=r(d),y=n(1305),v=r(y),g=n(1330),b=n(1331),_=r(b),x=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"],w=u["default"].createClass({displayName:"Trigger",propTypes:{children:l.PropTypes.any,action:l.PropTypes.oneOfType([l.PropTypes.string,l.PropTypes.arrayOf(l.PropTypes.string)]),showAction:l.PropTypes.any,hideAction:l.PropTypes.any,getPopupClassNameFromAlign:l.PropTypes.any,onPopupVisibleChange:l.PropTypes.func,afterPopupVisibleChange:l.PropTypes.func,popup:l.PropTypes.oneOfType([l.PropTypes.node,l.PropTypes.func]).isRequired,popupStyle:l.PropTypes.object,prefixCls:l.PropTypes.string,popupClassName:l.PropTypes.string,
popupPlacement:l.PropTypes.string,builtinPlacements:l.PropTypes.object,popupTransitionName:l.PropTypes.string,popupAnimation:l.PropTypes.any,mouseEnterDelay:l.PropTypes.number,mouseLeaveDelay:l.PropTypes.number,zIndex:l.PropTypes.number,focusDelay:l.PropTypes.number,blurDelay:l.PropTypes.number,getPopupContainer:l.PropTypes.func,destroyPopupOnHide:l.PropTypes.bool,mask:l.PropTypes.bool,maskClosable:l.PropTypes.bool,onPopupAlign:l.PropTypes.func,popupAlign:l.PropTypes.object,popupVisible:l.PropTypes.bool,maskTransitionName:l.PropTypes.string,maskAnimation:l.PropTypes.string},mixins:[(0,_["default"])({autoMount:!1,isVisible:function(t){return t.state.popupVisible},getContainer:function(t){var e=document.createElement("div"),n=t.props.getPopupContainer?t.props.getPopupContainer((0,c.findDOMNode)(t)):document.body;return n.appendChild(e),e},getComponent:function(t){var e=t.props,n=t.state,r={};return t.isMouseEnterToShow()&&(r.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(r.onMouseLeave=t.onPopupMouseLeave),u["default"].createElement(v["default"],(0,s["default"])({prefixCls:e.prefixCls,destroyPopupOnHide:e.destroyPopupOnHide,visible:n.popupVisible,className:e.popupClassName,action:e.action,align:t.getPopupAlign(),onAlign:e.onPopupAlign,animation:e.popupAnimation,getClassNameFromAlign:t.getPopupClassNameFromAlign},r,{getRootDomNode:t.getRootDomNode,style:e.popupStyle,mask:e.mask,zIndex:e.zIndex,transitionName:e.popupTransitionName,maskAnimation:e.maskAnimation,maskTransitionName:e.maskTransitionName}),"function"==typeof e.popup?e.popup():e.popup)}})],getDefaultProps:function(){return{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:i,onPopupVisibleChange:o,afterPopupVisibleChange:o,onPopupAlign:o,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[]}},getInitialState:function(){var t=this.props,e=void 0;return e="popupVisible"in t?!!t.popupVisible:!!t.defaultPopupVisible,{popupVisible:e}},componentWillMount:function(){var t=this;x.forEach(function(e){t["fire"+e]=function(n){t.fireEvents(e,n)}})},componentDidMount:function(){this.componentDidUpdate({},{popupVisible:this.state.popupVisible})},componentWillReceiveProps:function(t){var e=t.popupVisible;void 0!==e&&this.setState({popupVisible:e})},componentDidUpdate:function(t,e){var n=this.props,r=this.state;return this.renderComponent(null,function(){e.popupVisible!==r.popupVisible&&n.afterPopupVisibleChange(r.popupVisible)}),this.isClickToHide()&&r.popupVisible?void(this.clickOutsideHandler||(this.clickOutsideHandler=(0,m["default"])(document,"mousedown",this.onDocumentClick),this.touchOutsideHandler=(0,m["default"])(document,"touchstart",this.onDocumentClick))):void(this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.touchOutsideHandler.remove(),this.clickOutsideHandler=null,this.touchOutsideHandler=null))},componentWillUnmount:function(){this.clearDelayTimer(),this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.touchOutsideHandler.remove(),this.clickOutsideHandler=null,this.touchOutsideHandler=null)},onMouseEnter:function(t){this.fireEvents("onMouseEnter",t),this.delaySetPopupVisible(!0,this.props.mouseEnterDelay)},onMouseLeave:function(t){this.fireEvents("onMouseLeave",t),this.delaySetPopupVisible(!1,this.props.mouseLeaveDelay)},onPopupMouseEnter:function(){this.clearDelayTimer()},onPopupMouseLeave:function(t){t.relatedTarget&&!t.relatedTarget.setTimeout&&this._component&&(0,h["default"])(this._component.getPopupDomNode(),t.relatedTarget)||this.delaySetPopupVisible(!1,this.props.mouseLeaveDelay)},onFocus:function(t){this.fireEvents("onFocus",t),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.props.focusDelay))},onMouseDown:function(t){this.fireEvents("onMouseDown",t),this.preClickTime=Date.now()},onTouchStart:function(t){this.fireEvents("onTouchStart",t),this.preTouchTime=Date.now()},onBlur:function(t){this.fireEvents("onBlur",t),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.props.blurDelay)},onClick:function(t){if(this.fireEvents("onClick",t),this.focusTime){var e=void 0;if(this.preClickTime&&this.preTouchTime?e=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?e=this.preClickTime:this.preTouchTime&&(e=this.preTouchTime),Math.abs(e-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,t.preventDefault();var n=!this.state.popupVisible;(this.isClickToHide()&&!n||n&&this.isClickToShow())&&this.setPopupVisible(!this.state.popupVisible)},onDocumentClick:function(t){if(!this.props.mask||this.props.maskClosable){var e=t.target,n=(0,c.findDOMNode)(this),r=this.getPopupDomNode();(0,h["default"])(n,e)||(0,h["default"])(r,e)||this.close()}},getPopupDomNode:function(){return this._component&&this._component.isMounted()?this._component.getPopupDomNode():null},getRootDomNode:function(){return f["default"].findDOMNode(this)},getPopupClassNameFromAlign:function(t){var e=[],n=this.props,r=n.popupPlacement,o=n.builtinPlacements,i=n.prefixCls;return r&&o&&e.push((0,g.getPopupClassNameFromAlign)(o,i,t)),n.getPopupClassNameFromAlign&&e.push(n.getPopupClassNameFromAlign(t)),e.join(" ")},getPopupAlign:function(){var t=this.props,e=t.popupPlacement,n=t.popupAlign,r=t.builtinPlacements;return e&&r?(0,g.getAlignFromPlacement)(r,e,n):n},setPopupVisible:function(t){this.clearDelayTimer(),this.state.popupVisible!==t&&("popupVisible"in this.props||this.setState({popupVisible:t}),this.props.onPopupVisibleChange(t))},delaySetPopupVisible:function(t,e){var n=this,r=1e3*e;this.clearDelayTimer(),r?this.delayTimer=setTimeout(function(){n.setPopupVisible(t),n.clearDelayTimer()},r):this.setPopupVisible(t)},clearDelayTimer:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},createTwoChains:function(t){var e=this.props.children.props,n=this.props;return e[t]&&n[t]?this["fire"+t]:e[t]||n[t]},isClickToShow:function(){var t=this.props,e=t.action,n=t.showAction;return e.indexOf("click")!==-1||n.indexOf("click")!==-1},isClickToHide:function(){var t=this.props,e=t.action,n=t.hideAction;return e.indexOf("click")!==-1||n.indexOf("click")!==-1},isMouseEnterToShow:function(){var t=this.props,e=t.action,n=t.showAction;return e.indexOf("hover")!==-1||n.indexOf("mouseEnter")!==-1},isMouseLeaveToHide:function(){var t=this.props,e=t.action,n=t.hideAction;return e.indexOf("hover")!==-1||n.indexOf("mouseLeave")!==-1},isFocusToShow:function(){var t=this.props,e=t.action,n=t.showAction;return e.indexOf("focus")!==-1||n.indexOf("focus")!==-1},isBlurToHide:function(){var t=this.props,e=t.action,n=t.hideAction;return e.indexOf("focus")!==-1||n.indexOf("blur")!==-1},forcePopupAlign:function(){this.state.popupVisible&&this.popupInstance&&this.popupInstance.alignInstance&&this.popupInstance.alignInstance.forceAlign()},fireEvents:function(t,e){var n=this.props.children.props[t];n&&n(e);var r=this.props[t];r&&r(e)},close:function(){this.setPopupVisible(!1)},render:function(){var t=this.props,e=t.children,n=u["default"].Children.only(e),r={};return this.isClickToHide()||this.isClickToShow()?(r.onClick=this.onClick,r.onMouseDown=this.onMouseDown,r.onTouchStart=this.onTouchStart):(r.onClick=this.createTwoChains("onClick"),r.onMouseDown=this.createTwoChains("onMouseDown"),r.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?r.onMouseEnter=this.onMouseEnter:r.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?r.onMouseLeave=this.onMouseLeave:r.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(r.onFocus=this.onFocus,r.onBlur=this.onBlur):(r.onFocus=this.createTwoChains("onFocus"),r.onBlur=this.createTwoChains("onBlur")),u["default"].cloneElement(n,r)}});e["default"]=w,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(1263),i=r(o);e["default"]=i["default"]||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){t.exports={"default":n(1264),__esModule:!0}},function(t,e,n){n(1265),t.exports=n(1268).Object.assign},function(t,e,n){var r=n(1266);r(r.S+r.F,"Object",{assign:n(1281)})},function(t,e,n){var r=n(1267),o=n(1268),i=n(1269),a=n(1271),s="prototype",l=function(t,e,n){var u,c,f,p=t&l.F,h=t&l.G,d=t&l.S,m=t&l.P,y=t&l.B,v=t&l.W,g=h?o:o[e]||(o[e]={}),b=g[s],_=h?r:d?r[e]:(r[e]||{})[s];h&&(n=e);for(u in n)c=!p&&_&&void 0!==_[u],c&&u in g||(f=c?_[u]:n[u],g[u]=h&&"function"!=typeof _[u]?n[u]:y&&c?i(f,r):v&&_[u]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[s]=t[s],e}(f):m&&"function"==typeof f?i(Function.call,f):f,m&&((g.virtual||(g.virtual={}))[u]=f,t&l.R&&b&&!b[u]&&a(b,u,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(1270);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(1272),o=n(1280);t.exports=n(1276)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(1273),o=n(1275),i=n(1279),a=Object.defineProperty;e.f=n(1276)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(1274);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(1276)&&!n(1277)(function(){return 7!=Object.defineProperty(n(1278)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(1277)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(1274),o=n(1267).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(1274);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var r=n(1282),o=n(1297),i=n(1298),a=n(1299),s=n(1286),l=Object.assign;t.exports=!l||n(1277)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r})?function(t,e){for(var n=a(t),l=arguments.length,u=1,c=o.f,f=i.f;l>u;)for(var p,h=s(arguments[u++]),d=c?r(h).concat(c(h)):r(h),m=d.length,y=0;m>y;)f.call(h,p=d[y++])&&(n[p]=h[p]);return n}:l},function(t,e,n){var r=n(1283),o=n(1296);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(1284),o=n(1285),i=n(1289)(!1),a=n(1293)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~i(u,n)||u.push(n));return u}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(1286),o=n(1288);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(1287);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(1285),o=n(1290),i=n(1292);t.exports=function(t){return function(e,n,a){var s,l=r(e),u=o(l.length),c=i(a,u);if(t&&n!=n){for(;u>c;)if(s=l[c++],s!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(1291),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(1291),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(1294)("keys"),o=n(1295);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(1267),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(1288);t.exports=function(t){return Object(r(t))}},function(t,e){"use strict";t.exports=function(t,e){for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){var r=l["default"].unstable_batchedUpdates?function(t){l["default"].unstable_batchedUpdates(n,t)}:n;return(0,a["default"])(t,e,r)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var i=n(1302),a=r(i),s=n(345),l=r(s);t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){function r(e){var r=new a["default"](e);n.call(t,r)}return t.addEventListener?(t.addEventListener(e,r,!1),{remove:function(){t.removeEventListener(e,r,!1)}}):t.attachEvent?(t.attachEvent("on"+e,r),{remove:function(){t.detachEvent("on"+e,r)}}):void 0}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var i=n(1303),a=r(i);t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return null===t||void 0===t}function i(){return p}function a(){return h}function s(t){var e=t.type,n="function"==typeof t.stopPropagation||"boolean"==typeof t.cancelBubble;u["default"].call(this),this.nativeEvent=t;var r=a;"defaultPrevented"in t?r=t.defaultPrevented?i:a:"getPreventDefault"in t?r=t.getPreventDefault()?i:a:"returnValue"in t&&(r=t.returnValue===h?i:a),this.isDefaultPrevented=r;var o=[],s=void 0,l=void 0,c=void 0,f=d.concat();for(m.forEach(function(t){e.match(t.reg)&&(f=f.concat(t.props),t.fix&&o.push(t.fix))}),l=f.length;l;)c=f[--l],this[c]=t[c];for(!this.target&&n&&(this.target=t.srcElement||document),this.target&&3===this.target.nodeType&&(this.target=this.target.parentNode),l=o.length;l;)(s=o[--l])(this,t);this.timeStamp=t.timeStamp||Date.now()}Object.defineProperty(e,"__esModule",{value:!0});var l=n(1304),u=r(l),c=n(318),f=r(c),p=!0,h=!1,d=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","shiftKey","target","timeStamp","view","type"],m=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function(t,e){o(t.which)&&(t.which=o(e.charCode)?e.keyCode:e.charCode),void 0===t.metaKey&&(t.metaKey=t.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^hashchange$/,props:["newURL","oldURL"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},{reg:/^(mousewheel|DOMMouseScroll)$/,props:[],fix:function(t,e){var n=void 0,r=void 0,o=void 0,i=e.wheelDelta,a=e.axis,s=e.wheelDeltaY,l=e.wheelDeltaX,u=e.detail;i&&(o=i/120),u&&(o=0-(u%3===0?u/3:u)),void 0!==a&&(a===t.HORIZONTAL_AXIS?(r=0,n=0-o):a===t.VERTICAL_AXIS&&(n=0,r=o)),void 0!==s&&(r=s/120),void 0!==l&&(n=-1*l/120),n||r||(r=o),void 0!==n&&(t.deltaX=n),void 0!==r&&(t.deltaY=r),void 0!==o&&(t.delta=o)}},{reg:/^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,props:["buttons","clientX","clientY","button","offsetX","relatedTarget","which","fromElement","toElement","offsetY","pageX","pageY","screenX","screenY"],fix:function(t,e){var n=void 0,r=void 0,i=void 0,a=t.target,s=e.button;return a&&o(t.pageX)&&!o(e.clientX)&&(n=a.ownerDocument||document,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===s||(1&s?t.which=1:2&s?t.which=3:4&s?t.which=2:t.which=0),!t.relatedTarget&&t.fromElement&&(t.relatedTarget=t.fromElement===a?t.toElement:t.fromElement),t}}],y=u["default"].prototype;(0,f["default"])(s.prototype,y,{constructor:s,preventDefault:function(){var t=this.nativeEvent;t.preventDefault?t.preventDefault():t.returnValue=h,y.preventDefault.call(this)},stopPropagation:function(){var t=this.nativeEvent;t.stopPropagation?t.stopPropagation():t.cancelBubble=p,y.stopPropagation.call(this)}}),e["default"]=s,t.exports=e["default"]},function(t,e){"use strict";function n(){return!1}function r(){return!0}function o(){this.timeStamp=Date.now(),this.target=void 0,this.currentTarget=void 0}Object.defineProperty(e,"__esModule",{value:!0}),o.prototype={isEventObject:1,constructor:o,isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){this.isDefaultPrevented=r},stopPropagation:function(){this.isPropagationStopped=r},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r,this.stopPropagation()},halt:function(t){t?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()}},e["default"]=o,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1262),i=r(o),a=n(316),s=r(a),l=n(345),u=r(l),c=n(1306),f=r(c),p=n(1318),h=r(p),d=n(1327),m=r(d),y=n(1328),v=r(y),g=s["default"].createClass({displayName:"Popup",propTypes:{visible:a.PropTypes.bool,style:a.PropTypes.object,getClassNameFromAlign:a.PropTypes.func,onAlign:a.PropTypes.func,getRootDomNode:a.PropTypes.func,onMouseEnter:a.PropTypes.func,align:a.PropTypes.any,destroyPopupOnHide:a.PropTypes.bool,className:a.PropTypes.string,prefixCls:a.PropTypes.string,onMouseLeave:a.PropTypes.func},componentDidMount:function(){this.rootNode=this.getPopupDomNode()},onAlign:function(t,e){var n=this.props,r=n.getClassNameFromAlign(n.align),o=n.getClassNameFromAlign(e);r!==o&&(this.currentAlignClassName=o,t.className=this.getClassName(o)),n.onAlign(t,e)},getPopupDomNode:function(){return u["default"].findDOMNode(this.refs.popup)},getTarget:function(){return this.props.getRootDomNode()},getMaskTransitionName:function(){var t=this.props,e=t.maskTransitionName,n=t.maskAnimation;return!e&&n&&(e=t.prefixCls+"-"+n),e},getTransitionName:function(){var t=this.props,e=t.transitionName;return!e&&t.animation&&(e=t.prefixCls+"-"+t.animation),e},getClassName:function(t){return this.props.prefixCls+" "+this.props.className+" "+t},getPopupElement:function(){var t=this.props,e=t.align,n=t.style,r=t.visible,o=t.prefixCls,a=t.destroyPopupOnHide,l=this.getClassName(this.currentAlignClassName||t.getClassNameFromAlign(e)),u=o+"-hidden";r||(this.currentAlignClassName=null);var c=(0,i["default"])({},n,this.getZIndexStyle()),p={className:l,prefixCls:o,ref:"popup",onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,style:c};return a?s["default"].createElement(h["default"],{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName()},r?s["default"].createElement(f["default"],{target:this.getTarget,key:"popup",ref:this.saveAlign,monitorWindowResize:!0,align:e,onAlign:this.onAlign},s["default"].createElement(m["default"],(0,i["default"])({visible:!0},p),t.children)):null):s["default"].createElement(h["default"],{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName(),showProp:"xVisible"},s["default"].createElement(f["default"],{target:this.getTarget,key:"popup",ref:this.saveAlign,monitorWindowResize:!0,xVisible:r,childrenProps:{visible:"xVisible"},disabled:!r,align:e,onAlign:this.onAlign},s["default"].createElement(m["default"],(0,i["default"])({hiddenClassName:u},p),t.children)))},getZIndexStyle:function(){var t={},e=this.props;return void 0!==e.zIndex&&(t.zIndex=e.zIndex),t},getMaskElement:function(){var t=this.props,e=void 0;if(t.mask){var n=this.getMaskTransitionName();e=s["default"].createElement(v["default"],{style:this.getZIndexStyle(),key:"mask",className:t.prefixCls+"-mask",hiddenClassName:t.prefixCls+"-mask-hidden",visible:t.visible}),n&&(e=s["default"].createElement(h["default"],{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},e))}return e},saveAlign:function(t){this.alignInstance=t},render:function(){return s["default"].createElement("div",null,this.getMaskElement(),this.getPopupElement())}});e["default"]=g,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1307),i=r(o);e["default"]=i["default"],t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){function n(){o&&(clearTimeout(o),o=null)}function r(){n(),o=setTimeout(t,e)}var o=void 0;return r.clear=n,r}Object.defineProperty(e,"__esModule",{value:!0});var i=n(316),a=r(i),s=n(345),l=r(s),u=n(1308),c=r(u),f=n(1301),p=r(f),h=n(1317),d=r(h),m=a["default"].createClass({displayName:"Align",propTypes:{childrenProps:i.PropTypes.object,align:i.PropTypes.object.isRequired,target:i.PropTypes.func,onAlign:i.PropTypes.func,monitorBufferTime:i.PropTypes.number,monitorWindowResize:i.PropTypes.bool,disabled:i.PropTypes.bool,children:i.PropTypes.any},getDefaultProps:function(){return{target:function(){return window},onAlign:function(){},monitorBufferTime:50,monitorWindowResize:!1,disabled:!1}},componentDidMount:function(){var t=this.props;this.forceAlign(),!t.disabled&&t.monitorWindowResize&&this.startMonitorWindowResize()},componentDidUpdate:function(t){var e=!1,n=this.props;if(!n.disabled)if(t.disabled||t.align!==n.align)e=!0;else{var r=t.target(),o=n.target();(0,d["default"])(r)&&(0,d["default"])(o)?e=!1:r!==o&&(e=!0)}e&&this.forceAlign(),n.monitorWindowResize&&!n.disabled?this.startMonitorWindowResize():this.stopMonitorWindowResize()},componentWillUnmount:function(){this.stopMonitorWindowResize()},startMonitorWindowResize:function(){this.resizeHandler||(this.bufferMonitor=o(this.forceAlign,this.props.monitorBufferTime),this.resizeHandler=(0,p["default"])(window,"resize",this.bufferMonitor))},stopMonitorWindowResize:function(){this.resizeHandler&&(this.bufferMonitor.clear(),this.resizeHandler.remove(),this.resizeHandler=null)},forceAlign:function(){var t=this.props;if(!t.disabled){var e=l["default"].findDOMNode(this);t.onAlign(e,(0,c["default"])(e,t.target(),t.align))}},render:function(){var t=this.props,e=t.childrenProps,n=t.children,r=a["default"].Children.only(n);if(e){var o={};for(var i in e)e.hasOwnProperty(i)&&(o[i]=this.props[e[i]]);return a["default"].cloneElement(r,o)}return r}});e["default"]=m,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return t.left<n.left||t.left+e.width>n.right}function i(t,e,n){return t.top<n.top||t.top+e.height>n.bottom}function a(t,e,n){return t.left>n.right||t.left+e.width<n.left}function s(t,e,n){return t.top>n.bottom||t.top+e.height<n.top}function l(t,e,n){var r=[];return d["default"].each(t,function(t){r.push(t.replace(e,function(t){return n[t]}))}),r}function u(t,e){return t[e]=-t[e],t}function c(t,e){var n=void 0;return n=/%$/.test(t)?parseInt(t.substring(0,t.length-1),10)/100*e:parseInt(t,10),n||0}function f(t,e){t[0]=c(t[0],e.width),t[1]=c(t[1],e.height)}function p(t,e,n){var r=n.points,c=n.offset||[0,0],p=n.targetOffset||[0,0],h=n.overflow,m=n.target||e,y=n.source||t;c=[].concat(c),p=[].concat(p),h=h||{};var v={},b=0,x=(0,g["default"])(y),T=(0,w["default"])(y),C=(0,w["default"])(m);f(c,T),f(p,C);var k=(0,E["default"])(T,C,r,c,p),S=d["default"].merge(T,k);if(x&&(h.adjustX||h.adjustY)){if(h.adjustX&&o(k,T,x)){var P=l(r,/[lr]/gi,{l:"r",r:"l"}),M=u(c,0),A=u(p,0),O=(0,E["default"])(T,C,P,M,A);a(O,T,x)||(b=1,r=P,c=M,p=A)}if(h.adjustY&&i(k,T,x)){var D=l(r,/[tb]/gi,{t:"b",b:"t"}),L=u(c,1),I=u(p,1),j=(0,E["default"])(T,C,D,L,I);s(j,T,x)||(b=1,r=D,c=L,p=I)}b&&(k=(0,E["default"])(T,C,r,c,p),d["default"].mix(S,k)),v.adjustX=h.adjustX&&o(k,T,x),v.adjustY=h.adjustY&&i(k,T,x),(v.adjustX||v.adjustY)&&(S=(0,_["default"])(k,T,x,v))}return S.width!==T.width&&d["default"].css(y,"width",d["default"].width(y)+S.width-T.width),S.height!==T.height&&d["default"].css(y,"height",d["default"].height(y)+S.height-T.height),d["default"].offset(y,{left:S.left,top:S.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform}),{points:r,offset:c,targetOffset:p,overflow:v}}Object.defineProperty(e,"__esModule",{value:!0});var h=n(1309),d=r(h),m=n(1311),y=r(m),v=n(1312),g=r(v),b=n(1313),_=r(b),x=n(1314),w=r(x),T=n(1315),E=r(T);p.__getOffsetParent=y["default"],p.__getVisibleRectForElement=g["default"],e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";function r(t,e){return t+e}function o(t,e,n){var r=n;{if("object"!==("undefined"==typeof e?"undefined":C(e)))return"undefined"!=typeof r?("number"==typeof r&&(r+="px"),void(t.style[e]=r)):P(t,e);for(var i in e)e.hasOwnProperty(i)&&o(t,i,e[i])}}function i(t){var e=void 0,n=void 0,r=void 0,o=t.ownerDocument,i=o.body,a=o&&o.documentElement;return e=t.getBoundingClientRect(),n=e.left,r=e.top,n-=a.clientLeft||i.clientLeft||0,r-=a.clientTop||i.clientTop||0,{left:n,top:r}}function a(t,e){var n=t["page"+(e?"Y":"X")+"Offset"],r="scroll"+(e?"Top":"Left");if("number"!=typeof n){var o=t.document;n=o.documentElement[r],"number"!=typeof n&&(n=o.body[r])}return n}function s(t){return a(t)}function l(t){return a(t,!0)}function u(t){var e=i(t),n=t.ownerDocument,r=n.defaultView||n.parentWindow;return e.left+=s(r),e.top+=l(r),e}function c(t,e,n){var r=n,o="",i=t.ownerDocument;return r=r||i.defaultView.getComputedStyle(t,null),r&&(o=r.getPropertyValue(e)||r[e]),o}function f(t,e){var n=t[O]&&t[O][e];if(M.test(n)&&!A.test(e)){var r=t.style,o=r[L],i=t[D][L];t[D][L]=t[O][L],r[L]="fontSize"===e?"1em":n||0,n=r.pixelLeft+I,r[L]=o,t[D][L]=i}return""===n?"auto":n}function p(t,e){return"left"===t?e.useCssRight?"right":t:e.useCssBottom?"bottom":t}function h(t){return"left"===t?"right":"right"===t?"left":"top"===t?"bottom":"bottom"===t?"top":void 0}function d(t,e,n){"static"===o(t,"position")&&(t.style.position="relative");var i=-999,a=-999,s=p("left",n),l=p("top",n),c=h(s),f=h(l);"left"!==s&&(i=999),"top"!==l&&(a=999);var d="",m=u(t);("left"in e||"top"in e)&&(d=(0,k.getTransitionProperty)(t)||"",(0,k.setTransitionProperty)(t,"none")),"left"in e&&(t.style[c]="",t.style[s]=i+"px"),"top"in e&&(t.style[f]="",t.style[l]=a+"px");var y=u(t),v={};for(var g in e)if(e.hasOwnProperty(g)){var b=p(g,n),_="left"===g?i:a,x=m[g]-y[g];b===g?v[b]=_+x:v[b]=_-x}o(t,v),r(t.offsetTop,t.offsetLeft),("left"in e||"top"in e)&&(0,k.setTransitionProperty)(t,d);var w={};for(var T in e)if(e.hasOwnProperty(T)){var E=p(T,n),C=e[T]-m[T];T===E?w[E]=v[E]+C:w[E]=v[E]-C}o(t,w)}function m(t,e){var n=u(t),r=(0,k.getTransformXY)(t),o={x:r.x,y:r.y};"left"in e&&(o.x=r.x+e.left-n.left),"top"in e&&(o.y=r.y+e.top-n.top),(0,k.setTransformXY)(t,o)}function y(t,e,n){n.useCssRight||n.useCssBottom?d(t,e,n):n.useCssTransform&&(0,k.getTransformName)()in document.body.style?m(t,e,n):d(t,e,n)}function v(t,e){for(var n=0;n<t.length;n++)e(t[n])}function g(t){return"border-box"===P(t,"boxSizing")}function b(t,e,n){var r={},o=t.style,i=void 0;for(i in e)e.hasOwnProperty(i)&&(r[i]=o[i],o[i]=e[i]);n.call(t);for(i in e)e.hasOwnProperty(i)&&(o[i]=r[i])}function _(t,e,n){var r=0,o=void 0,i=void 0,a=void 0;for(i=0;i<e.length;i++)if(o=e[i])for(a=0;a<n.length;a++){var s=void 0;s="border"===o?""+o+n[a]+"Width":o+n[a],r+=parseFloat(P(t,s))||0}return r}function x(t){return null!==t&&void 0!==t&&t==t.window}function w(t,e,n){var r=n;if(x(t))return"width"===e?B.viewportWidth(t):B.viewportHeight(t);if(9===t.nodeType)return"width"===e?B.docWidth(t):B.docHeight(t);var o="width"===e?["Left","Right"]:["Top","Bottom"],i="width"===e?t.offsetWidth:t.offsetHeight,a=P(t),s=g(t,a),l=0;(null===i||void 0===i||i<=0)&&(i=void 0,l=P(t,e),(null===l||void 0===l||Number(l)<0)&&(l=t.style[e]||0),l=parseFloat(l)||0),void 0===r&&(r=s?N:F);var u=void 0!==i||s,c=i||l;return r===F?u?c-_(t,["border","padding"],o,a):l:u?r===N?c:c+(r===R?-_(t,["border"],o,a):_(t,["margin"],o,a)):l+_(t,j.slice(r),o,a)}function T(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=void 0,o=e[0];return 0!==o.offsetWidth?r=w.apply(void 0,e):b(o,U,function(){r=w.apply(void 0,e)}),r}function E(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}Object.defineProperty(e,"__esModule",{value:!0});var C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},k=n(1310),S=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,P=void 0,M=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),A=/^(top|right|bottom|left)$/,O="currentStyle",D="runtimeStyle",L="left",I="px";"undefined"!=typeof window&&(P=window.getComputedStyle?c:f);var j=["margin","border","padding"],F=-1,R=2,N=1,z=0,B={};v(["Width","Height"],function(t){B["doc"+t]=function(e){var n=e.document;return Math.max(n.documentElement["scroll"+t],n.body["scroll"+t],B["viewport"+t](n))},B["viewport"+t]=function(e){var n="client"+t,r=e.document,o=r.body,i=r.documentElement,a=i[n];return"CSS1Compat"===r.compatMode&&a||o&&o[n]||a}});var U={position:"absolute",visibility:"hidden",display:"block"};v(["width","height"],function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);B["outer"+e]=function(e,n){return e&&T(e,t,n?z:N)};var n="width"===t?["Left","Right"]:["Top","Bottom"];B[t]=function(e,r){var i=r;{if(void 0===i)return e&&T(e,t,F);if(e){var a=P(e),s=g(e);return s&&(i+=_(e,["padding","border"],n,a)),o(e,t,i)}}}});var W={getWindow:function(t){if(t&&t.document&&t.setTimeout)return t;var e=t.ownerDocument||t;return e.defaultView||e.parentWindow},offset:function(t,e,n){return"undefined"==typeof e?u(t):void y(t,e,n||{})},isWindow:x,each:v,css:o,clone:function(t){var e=void 0,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);var r=t.overflow;if(r)for(e in t)t.hasOwnProperty(e)&&(n.overflow[e]=t.overflow[e]);return n},mix:E,getWindowScrollLeft:function(t){return s(t)},getWindowScrollTop:function(t){return l(t)},merge:function(){for(var t={},e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var o=0;o<n.length;o++)W.mix(t,n[o]);return t},viewportWidth:0,viewportHeight:0};E(W,B),e["default"]=W,t.exports=e["default"]},function(t,e){"use strict";function n(){if(void 0!==c)return c;c="";var t=document.createElement("p").style,e="Transform";for(var n in f)n+e in t&&(c=n);return c}function r(){return n()?n()+"TransitionProperty":"transitionProperty"}function o(){return n()?n()+"Transform":"transform";
}function i(t,e){var n=r();n&&(t.style[n]=e,"transitionProperty"!==n&&(t.style.transitionProperty=e))}function a(t,e){var n=o();n&&(t.style[n]=e,"transform"!==n&&(t.style.transform=e))}function s(t){return t.style.transitionProperty||t.style[r()]}function l(t){var e=window.getComputedStyle(t,null),n=e.getPropertyValue("transform")||e.getPropertyValue(o());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}function u(t,e){var n=window.getComputedStyle(t,null),r=n.getPropertyValue("transform")||n.getPropertyValue(o());if(r&&"none"!==r){var i=void 0,s=r.match(p);if(s)s=s[1],i=s.split(",").map(function(t){return parseFloat(t,10)}),i[4]=e.x,i[5]=e.y,a(t,"matrix("+i.join(",")+")");else{var l=r.match(h)[1];i=l.split(",").map(function(t){return parseFloat(t,10)}),i[12]=e.x,i[13]=e.y,a(t,"matrix3d("+i.join(",")+")")}}else a(t,"translateX("+e.x+"px) translateY("+e.y+"px) translateZ(0)")}Object.defineProperty(e,"__esModule",{value:!0}),e.getTransformName=o,e.setTransitionProperty=i,e.getTransitionProperty=s,e.getTransformXY=l,e.setTransformXY=u;var c=void 0,f={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"},p=/matrix\((.*)\)/,h=/matrix3d\((.*)\)/},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=t.ownerDocument,n=e.body,r=void 0,o=a["default"].css(t,"position"),i="fixed"===o||"absolute"===o;if(!i)return"html"===t.nodeName.toLowerCase()?null:t.parentNode;for(r=t.parentNode;r&&r!==n;r=r.parentNode)if(o=a["default"].css(r,"position"),"static"!==o)return r;return null}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1309),a=r(i);e["default"]=o,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){for(var e={left:0,right:1/0,top:0,bottom:1/0},n=(0,l["default"])(t),r=void 0,o=void 0,i=void 0,s=t.ownerDocument,u=s.defaultView||s.parentWindow,c=s.body,f=s.documentElement;n;){if(navigator.userAgent.indexOf("MSIE")!==-1&&0===n.clientWidth||n===c||n===f||"visible"===a["default"].css(n,"overflow")){if(n===c||n===f)break}else{var p=a["default"].offset(n);p.left+=n.clientLeft,p.top+=n.clientTop,e.top=Math.max(e.top,p.top),e.right=Math.min(e.right,p.left+n.clientWidth),e.bottom=Math.min(e.bottom,p.top+n.clientHeight),e.left=Math.max(e.left,p.left)}n=(0,l["default"])(n)}return r=a["default"].getWindowScrollLeft(u),o=a["default"].getWindowScrollTop(u),e.left=Math.max(e.left,r),e.top=Math.max(e.top,o),i={width:a["default"].viewportWidth(u),height:a["default"].viewportHeight(u)},e.right=Math.min(e.right,r+i.width),e.bottom=Math.min(e.bottom,o+i.height),e.top>=0&&e.left>=0&&e.bottom>e.top&&e.right>e.left?e:null}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1309),a=r(i),s=n(1311),l=r(s);e["default"]=o,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n,r){var o=a["default"].clone(t),i={width:e.width,height:e.height};return r.adjustX&&o.left<n.left&&(o.left=n.left),r.resizeWidth&&o.left>=n.left&&o.left+i.width>n.right&&(i.width-=o.left+i.width-n.right),r.adjustX&&o.left+i.width>n.right&&(o.left=Math.max(n.right-i.width,n.left)),r.adjustY&&o.top<n.top&&(o.top=n.top),r.resizeHeight&&o.top>=n.top&&o.top+i.height>n.bottom&&(i.height-=o.top+i.height-n.bottom),r.adjustY&&o.top+i.height>n.bottom&&(o.top=Math.max(n.bottom-i.height,n.top)),a["default"].mix(o,i)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1309),a=r(i);e["default"]=o,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=void 0,n=void 0,r=void 0;if(a["default"].isWindow(t)||9===t.nodeType){var o=a["default"].getWindow(t);e={left:a["default"].getWindowScrollLeft(o),top:a["default"].getWindowScrollTop(o)},n=a["default"].viewportWidth(o),r=a["default"].viewportHeight(o)}else e=a["default"].offset(t),n=a["default"].outerWidth(t),r=a["default"].outerHeight(t);return e.width=n,e.height=r,e}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1309),a=r(i);e["default"]=o,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n,r,o){var i=void 0,s=void 0,l=void 0,u=void 0;return i={left:t.left,top:t.top},l=(0,a["default"])(e,n[1]),u=(0,a["default"])(t,n[0]),s=[u.left-l.left,u.top-l.top],{left:i.left-s[0]+r[0]-o[0],top:i.top-s[1]+r[1]-o[1]}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1316),a=r(i);e["default"]=o,t.exports=e["default"]},function(t,e){"use strict";function n(t,e){var n=e.charAt(0),r=e.charAt(1),o=t.width,i=t.height,a=void 0,s=void 0;return a=t.left,s=t.top,"c"===n?s+=i/2:"b"===n&&(s+=i),"c"===r?a+=o/2:"r"===r&&(a+=o),{left:a,top:s}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function n(t){return null!=t&&t==t.window}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";t.exports=n(1319)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){var e=t.children;return l["default"].isValidElement(e)&&!e.key?l["default"].cloneElement(e,{key:d}):e}function a(){}Object.defineProperty(e,"__esModule",{value:!0});var s=n(316),l=r(s),u=n(1320),c=n(1321),f=r(c),p=n(1326),h=r(p),d="rc_animate_"+Date.now(),m=l["default"].createClass({displayName:"Animate",propTypes:{component:l["default"].PropTypes.any,animation:l["default"].PropTypes.object,transitionName:l["default"].PropTypes.oneOfType([l["default"].PropTypes.string,l["default"].PropTypes.object]),transitionEnter:l["default"].PropTypes.bool,transitionAppear:l["default"].PropTypes.bool,exclusive:l["default"].PropTypes.bool,transitionLeave:l["default"].PropTypes.bool,onEnd:l["default"].PropTypes.func,onEnter:l["default"].PropTypes.func,onLeave:l["default"].PropTypes.func,onAppear:l["default"].PropTypes.func,showProp:l["default"].PropTypes.string},getDefaultProps:function(){return{animation:{},component:"span",transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:a,onEnter:a,onLeave:a,onAppear:a}},getInitialState:function(){return this.currentlyAnimatingKeys={},this.keysToEnter=[],this.keysToLeave=[],{children:(0,u.toArrayChildren)(i(this.props))}},componentDidMount:function(){var t=this,e=this.props.showProp,n=this.state.children;e&&(n=n.filter(function(t){return!!t.props[e]})),n.forEach(function(e){e&&t.performAppear(e.key)})},componentWillReceiveProps:function(t){var e=this;this.nextProps=t;var n=(0,u.toArrayChildren)(i(t)),r=this.props;r.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach(function(t){e.stop(t)});var a=r.showProp,s=this.currentlyAnimatingKeys,c=r.exclusive?(0,u.toArrayChildren)(i(r)):this.state.children,f=[];a?(c.forEach(function(t){var e=t&&(0,u.findChildInChildrenByKey)(n,t.key),r=void 0;r=e&&e.props[a]||!t.props[a]?e:l["default"].cloneElement(e||t,o({},a,!0)),r&&f.push(r)}),n.forEach(function(t){t&&(0,u.findChildInChildrenByKey)(c,t.key)||f.push(t)})):f=(0,u.mergeChildren)(c,n),this.setState({children:f}),n.forEach(function(t){var n=t&&t.key;if(!t||!s[n]){var r=t&&(0,u.findChildInChildrenByKey)(c,n);if(a){var o=t.props[a];if(r){var i=(0,u.findShownChildInChildrenByKey)(c,n,a);!i&&o&&e.keysToEnter.push(n)}else o&&e.keysToEnter.push(n)}else r||e.keysToEnter.push(n)}}),c.forEach(function(t){var r=t&&t.key;if(!t||!s[r]){var o=t&&(0,u.findChildInChildrenByKey)(n,r);if(a){var i=t.props[a];if(o){var l=(0,u.findShownChildInChildrenByKey)(n,r,a);!l&&i&&e.keysToLeave.push(r)}else i&&e.keysToLeave.push(r)}else o||e.keysToLeave.push(r)}})},componentDidUpdate:function(){var t=this.keysToEnter;this.keysToEnter=[],t.forEach(this.performEnter);var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)},performEnter:function(t){this.refs[t]&&(this.currentlyAnimatingKeys[t]=!0,this.refs[t].componentWillEnter(this.handleDoneAdding.bind(this,t,"enter")))},performAppear:function(t){this.refs[t]&&(this.currentlyAnimatingKeys[t]=!0,this.refs[t].componentWillAppear(this.handleDoneAdding.bind(this,t,"appear")))},handleDoneAdding:function(t,e){var n=this.props;if(delete this.currentlyAnimatingKeys[t],!n.exclusive||n===this.nextProps){var r=(0,u.toArrayChildren)(i(n));this.isValidChildByKey(r,t)?"appear"===e?h["default"].allowAppearCallback(n)&&(n.onAppear(t),n.onEnd(t,!0)):h["default"].allowEnterCallback(n)&&(n.onEnter(t),n.onEnd(t,!0)):this.performLeave(t)}},performLeave:function(t){this.refs[t]&&(this.currentlyAnimatingKeys[t]=!0,this.refs[t].componentWillLeave(this.handleDoneLeaving.bind(this,t)))},handleDoneLeaving:function(t){var e=this.props;if(delete this.currentlyAnimatingKeys[t],!e.exclusive||e===this.nextProps){var n=(0,u.toArrayChildren)(i(e));if(this.isValidChildByKey(n,t))this.performEnter(t);else{var r=function(){h["default"].allowLeaveCallback(e)&&(e.onLeave(t),e.onEnd(t,!1))};this.isMounted()&&!(0,u.isSameChildren)(this.state.children,n,e.showProp)?this.setState({children:n},r):r()}}},isValidChildByKey:function(t,e){var n=this.props.showProp;return n?(0,u.findShownChildInChildrenByKey)(t,e,n):(0,u.findChildInChildrenByKey)(t,e)},stop:function(t){delete this.currentlyAnimatingKeys[t];var e=this.refs[t];e&&e.stop()},render:function(){var t=this.props;this.nextProps=t;var e=this.state.children,n=null;e&&(n=e.map(function(e){if(null===e||void 0===e)return e;if(!e.key)throw new Error("must set key for <rc-animate> children");return l["default"].createElement(f["default"],{key:e.key,ref:e.key,animation:t.animation,transitionName:t.transitionName,transitionEnter:t.transitionEnter,transitionAppear:t.transitionAppear,transitionLeave:t.transitionLeave},e)}));var r=t.component;if(r){var o=t;return"string"==typeof r&&(o={className:t.className,style:t.style}),l["default"].createElement(r,o,n)}return n[0]||null}});e["default"]=m,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=[];return f["default"].Children.forEach(t,function(t){e.push(t)}),e}function i(t,e){var n=null;return t&&t.forEach(function(t){n||t&&t.key===e&&(n=t)}),n}function a(t,e,n){var r=null;return t&&t.forEach(function(t){if(t&&t.key===e&&t.props[n]){if(r)throw new Error("two child with same key for <rc-animate> children");r=t}}),r}function s(t,e,n){var r=0;return t&&t.forEach(function(t){r||(r=t&&t.key===e&&!t.props[n])}),r}function l(t,e,n){var r=t.length===e.length;return r&&t.forEach(function(t,o){var i=e[o];t&&i&&(t&&!i||!t&&i?r=!1:t.key!==i.key?r=!1:n&&t.props[n]!==i.props[n]&&(r=!1))}),r}function u(t,e){var n=[],r={},o=[];return t.forEach(function(t){t&&i(e,t.key)?o.length&&(r[t.key]=o,o=[]):o.push(t)}),e.forEach(function(t){t&&r.hasOwnProperty(t.key)&&(n=n.concat(r[t.key])),n.push(t)}),n=n.concat(o)}Object.defineProperty(e,"__esModule",{value:!0}),e.toArrayChildren=o,e.findChildInChildrenByKey=i,e.findShownChildInChildrenByKey=a,e.findHiddenChildInChildrenByKey=s,e.isSameChildren=l,e.mergeChildren=u;var c=n(316),f=r(c)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},i=n(316),a=r(i),s=n(345),l=r(s),u=n(1322),c=r(u),f=n(1326),p=r(f),h={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},d=a["default"].createClass({displayName:"AnimateChild",propTypes:{children:a["default"].PropTypes.any},componentWillUnmount:function(){this.stop()},componentWillEnter:function(t){p["default"].isEnterSupported(this.props)?this.transition("enter",t):t()},componentWillAppear:function(t){p["default"].isAppearSupported(this.props)?this.transition("appear",t):t()},componentWillLeave:function(t){p["default"].isLeaveSupported(this.props)?this.transition("leave",t):t()},transition:function(t,e){var n=this,r=l["default"].findDOMNode(this),i=this.props,a=i.transitionName,s="object"===("undefined"==typeof a?"undefined":o(a));this.stop();var f=function(){n.stopper=null,e()};if((u.isCssAnimationSupported||!i.animation[t])&&a&&i[h[t]]){var p=s?a[t]:a+"-"+t,d=p+"-active";s&&a[t+"Active"]&&(d=a[t+"Active"]),this.stopper=(0,c["default"])(r,{name:p,active:d},f)}else this.stopper=i.animation[t](r,f)},stop:function(){var t=this.stopper;t&&(this.stopper=null,t.stop())},render:function(){return this.props.children}});e["default"]=d,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){for(var n=window.getComputedStyle(t),r="",o=0;o<d.length&&!(r=n.getPropertyValue(d[o]+e));o++);return r}function i(t){if(p){var e=parseFloat(o(t,"transition-delay"))||0,n=parseFloat(o(t,"transition-duration"))||0,r=parseFloat(o(t,"animation-delay"))||0,i=parseFloat(o(t,"animation-duration"))||0,a=Math.max(n+e,i+r);t.rcEndAnimTimeout=setTimeout(function(){t.rcEndAnimTimeout=null,t.rcEndListener&&t.rcEndListener()},1e3*a+200)}}function a(t){t.rcEndAnimTimeout&&(clearTimeout(t.rcEndAnimTimeout),t.rcEndAnimTimeout=null)}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},l=n(1323),u=r(l),c=n(1324),f=r(c),p=0!==u["default"].endEvents.length,h=["Webkit","Moz","O","ms"],d=["-webkit-","-moz-","-o-","ms-",""],m=function(t,e,n){var r="object"===("undefined"==typeof e?"undefined":s(e)),o=r?e.name:e,l=r?e.active:e+"-active",c=n,p=void 0,h=void 0,d=(0,f["default"])(t);return n&&"[object Object]"===Object.prototype.toString.call(n)&&(c=n.end,p=n.start,h=n.active),t.rcEndListener&&t.rcEndListener(),t.rcEndListener=function(e){e&&e.target!==t||(t.rcAnimTimeout&&(clearTimeout(t.rcAnimTimeout),t.rcAnimTimeout=null),a(t),d.remove(o),d.remove(l),u["default"].removeEndEventListener(t,t.rcEndListener),t.rcEndListener=null,c&&c())},u["default"].addEndEventListener(t,t.rcEndListener),p&&p(),d.add(o),t.rcAnimTimeout=setTimeout(function(){t.rcAnimTimeout=null,d.add(l),h&&setTimeout(h,0),i(t)},30),{stop:function(){t.rcEndListener&&t.rcEndListener()}}};m.style=function(t,e,n){t.rcEndListener&&t.rcEndListener(),t.rcEndListener=function(e){e&&e.target!==t||(t.rcAnimTimeout&&(clearTimeout(t.rcAnimTimeout),t.rcAnimTimeout=null),a(t),u["default"].removeEndEventListener(t,t.rcEndListener),t.rcEndListener=null,n&&n())},u["default"].addEndEventListener(t,t.rcEndListener),t.rcAnimTimeout=setTimeout(function(){for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);t.rcAnimTimeout=null,i(t)},0)},m.setTransition=function(t,e,n){var r=e,o=n;void 0===n&&(o=r,r=""),r=r||"",h.forEach(function(e){t.style[e+"Transition"+r]=o})},m.isCssAnimationSupported=p,e["default"]=m,t.exports=e["default"]},function(t,e){"use strict";function n(){var t=document.createElement("div"),e=t.style;"AnimationEvent"in window||delete i.animationend.animation,"TransitionEvent"in window||delete i.transitionend.transition;for(var n in i)if(i.hasOwnProperty(n)){var r=i[n];for(var o in r)if(o in e){a.push(r[o]);break}}}function r(t,e,n){t.addEventListener(e,n,!1)}function o(t,e,n){t.removeEventListener(e,n,!1)}Object.defineProperty(e,"__esModule",{value:!0});var i={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},a=[];"undefined"!=typeof window&&"undefined"!=typeof document&&n();var s={addEndEventListener:function(t,e){return 0===a.length?void window.setTimeout(e,0):void a.forEach(function(n){r(t,n,e)})},endEvents:a,removeEndEventListener:function(t,e){0!==a.length&&a.forEach(function(n){o(t,n,e)})}};e["default"]=s,t.exports=e["default"]},function(t,e,n){function r(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}try{var o=n(1325)}catch(i){var o=n(1325)}var a=/\s+/,s=Object.prototype.toString;t.exports=function(t){return new r(t)},r.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array(),n=o(e,t);return~n||e.push(t),this.el.className=e.join(" "),this},r.prototype.remove=function(t){if("[object RegExp]"==s.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),n=o(e,t);return~n&&e.splice(n,1),this.el.className=e.join(" "),this},r.prototype.removeMatching=function(t){for(var e=this.array(),n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this},r.prototype.toggle=function(t,e){return this.list?("undefined"!=typeof e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):("undefined"!=typeof e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},r.prototype.array=function(){var t=this.el.getAttribute("class")||"",e=t.replace(/^\s+|\s+$/g,""),n=e.split(a);return""===n[0]&&n.shift(),n},r.prototype.has=r.prototype.contains=function(t){return this.list?this.list.contains(t):!!~o(this.array(),t)}},function(t,e){t.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={isAppearSupported:function(t){return t.transitionName&&t.transitionAppear||t.animation.appear},isEnterSupported:function(t){return t.transitionName&&t.transitionEnter||t.animation.enter},isLeaveSupported:function(t){return t.transitionName&&t.transitionLeave||t.animation.leave},allowAppearCallback:function(t){return t.transitionAppear||t.animation.appear},allowEnterCallback:function(t){return t.transitionEnter||t.animation.enter},allowLeaveCallback:function(t){return t.transitionLeave||t.animation.leave}};e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=n(1328),s=r(a),l=i["default"].createClass({displayName:"PopupInner",propTypes:{hiddenClassName:o.PropTypes.string,className:o.PropTypes.string,prefixCls:o.PropTypes.string,onMouseEnter:o.PropTypes.func,onMouseLeave:o.PropTypes.func,children:o.PropTypes.any},render:function(){var t=this.props,e=t.className;return t.visible||(e+=" "+t.hiddenClassName),i["default"].createElement("div",{className:e,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,style:t.style},i["default"].createElement(s["default"],{className:t.prefixCls+"-content",visible:t.visible},t.children))}});e["default"]=l,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1329),i=r(o),a=n(316),s=r(a),l=s["default"].createClass({displayName:"LazyRenderBox",propTypes:{children:a.PropTypes.any,className:a.PropTypes.string,visible:a.PropTypes.bool,hiddenClassName:a.PropTypes.string},shouldComponentUpdate:function(t){return t.hiddenClassName||t.visible},render:function(){var t=this.props,e=t.hiddenClassName,n=t.visible,r=(0,i["default"])(t,["hiddenClassName","visible"]);return e||s["default"].Children.count(r.children)>1?(!n&&e&&(r.className+=" "+e),s["default"].createElement("div",r)):s["default"].Children.only(r.children)}});e["default"]=l,t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){return t[0]===e[0]&&t[1]===e[1]}function i(t,e,n){var r=t[e]||{};return(0,l["default"])({},r,n)}function a(t,e,n){var r=n.points;for(var i in t)if(t.hasOwnProperty(i)&&o(t[i].points,r))return e+"-placement-"+i;return""}Object.defineProperty(e,"__esModule",{value:!0});var s=n(1262),l=r(s);e.getAlignFromPlacement=i,e.getPopupClassNameFromAlign=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){var t=document.createElement("div");return document.body.appendChild(t),t}function i(t){function e(t,e,n){(!c||t._component||c(t))&&(t._container||(t._container=h(t)),l["default"].unstable_renderSubtreeIntoContainer(t,f(t,e),t._container,function(){t._component=this,n&&n.call(this)}))}function n(t){if(t._container){var e=t._container;l["default"].unmountComponentAtNode(e),e.parentNode.removeChild(e),t._container=null}}var r=t.autoMount,i=void 0===r||r,s=t.autoDestroy,u=void 0===s||s,c=t.isVisible,f=t.getComponent,p=t.getContainer,h=void 0===p?o:p,d=void 0;return i&&(d=a({},d,{componentDidMount:function(){e(this)},componentDidUpdate:function(){e(this)}})),i&&u||(d=a({},d,{renderComponent:function(t,n){e(this,t,n)}})),d=u?a({},d,{componentWillUnmount:function(){n(this)}}):a({},d,{removeContainer:function(){n(this)}})}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e["default"]=i;var s=n(345),l=r(s);t.exports=e["default"]},function(t,e,n){var r=n(1333);"string"==typeof r&&(r=[[t.id,r,""]]);n(782)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(781)(),e.push([t.id,".rc-tooltip{position:absolute;z-index:1070;display:block;visibility:visible;font-size:12px;line-height:1.5;opacity:.9}.rc-tooltip-hidden{display:none}.rc-tooltip-placement-top,.rc-tooltip-placement-topLeft,.rc-tooltip-placement-topRight{padding:5px 0 9px}.rc-tooltip-placement-right,.rc-tooltip-placement-rightBottom,.rc-tooltip-placement-rightTop{padding:0 5px 0 9px}.rc-tooltip-placement-bottom,.rc-tooltip-placement-bottomLeft,.rc-tooltip-placement-bottomRight{padding:9px 0 5px}.rc-tooltip-placement-left,.rc-tooltip-placement-leftBottom,.rc-tooltip-placement-leftTop{padding:0 9px 0 5px}.rc-tooltip-inner{padding:8px 10px;color:#fff;text-align:left;text-decoration:none;background-color:#373737;border-radius:6px;box-shadow:0 0 4px rgba(0,0,0,.17);min-height:34px}.rc-tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.rc-tooltip-placement-top .rc-tooltip-arrow,.rc-tooltip-placement-topLeft .rc-tooltip-arrow,.rc-tooltip-placement-topRight .rc-tooltip-arrow{bottom:4px;margin-left:-5px;border-width:5px 5px 0;border-top-color:#373737}.rc-tooltip-placement-top .rc-tooltip-arrow{left:50%}.rc-tooltip-placement-topLeft .rc-tooltip-arrow{left:15%}.rc-tooltip-placement-topRight .rc-tooltip-arrow{right:15%}.rc-tooltip-placement-right .rc-tooltip-arrow,.rc-tooltip-placement-rightBottom .rc-tooltip-arrow,.rc-tooltip-placement-rightTop .rc-tooltip-arrow{left:4px;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:#373737}.rc-tooltip-placement-right .rc-tooltip-arrow{top:50%}.rc-tooltip-placement-rightTop .rc-tooltip-arrow{top:15%;margin-top:0}.rc-tooltip-placement-rightBottom .rc-tooltip-arrow{bottom:15%}.rc-tooltip-placement-left .rc-tooltip-arrow,.rc-tooltip-placement-leftBottom .rc-tooltip-arrow,.rc-tooltip-placement-leftTop .rc-tooltip-arrow{right:4px;margin-top:-5px;border-width:5px 0 5px 5px;border-left-color:#373737}.rc-tooltip-placement-left .rc-tooltip-arrow{top:50%}.rc-tooltip-placement-leftTop .rc-tooltip-arrow{top:15%;margin-top:0}.rc-tooltip-placement-leftBottom .rc-tooltip-arrow{bottom:15%}.rc-tooltip-placement-bottom .rc-tooltip-arrow,.rc-tooltip-placement-bottomLeft .rc-tooltip-arrow,.rc-tooltip-placement-bottomRight .rc-tooltip-arrow{top:4px;margin-left:-5px;border-width:0 5px 5px;border-bottom-color:#373737}.rc-tooltip-placement-bottom .rc-tooltip-arrow{left:50%}.rc-tooltip-placement-bottomLeft .rc-tooltip-arrow{left:15%}.rc-tooltip-placement-bottomRight .rc-tooltip-arrow{right:15%}.rc-tooltip.rc-tooltip-zoom-enter,.rc-tooltip.rc-tooltip-zoom-leave{display:block}.rc-tooltip-zoom-appear,.rc-tooltip-zoom-enter{opacity:0;animation-duration:.3s;animation-fill-mode:both;animation-timing-function:cubic-bezier(.18,.89,.32,1.28);animation-play-state:paused}.rc-tooltip-zoom-leave{animation-duration:.3s;animation-fill-mode:both;animation-timing-function:cubic-bezier(.6,-.3,.74,.05);animation-play-state:paused}.rc-tooltip-zoom-appear.rc-tooltip-zoom-appear-active,.rc-tooltip-zoom-enter.rc-tooltip-zoom-enter-active{animation-name:rcToolTipZoomIn;animation-play-state:running}.rc-tooltip-zoom-leave.rc-tooltip-zoom-leave-active{animation-name:rcToolTipZoomOut;animation-play-state:running}@keyframes rcToolTipZoomIn{0%{opacity:0;transform-origin:50% 50%;transform:scale(0)}to{opacity:1;transform-origin:50% 50%;transform:scale(1)}}@keyframes rcToolTipZoomOut{0%{opacity:1;transform-origin:50% 50%;transform:scale(1)}to{opacity:0;transform-origin:50% 50%;transform:scale(0)}}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(316),a=r(i),s=n(584),l=r(s),u=n(1219),c=r(u),f=n(750),p=r(f),h=n(582),d=r(h),m=n(1335),y=r(m),v=a["default"].createClass({displayName:"PropertyCell",mixins:[l["default"],d["default"]],propTypes:{prop:a["default"].PropTypes.object,value:a["default"].PropTypes.any},render:function(){var t=this.props,e=t.prop,n=t.value,r=(0,c["default"])(e,n),i=a["default"].createElement("i",{className:"fa fa-external-link external-link-icon"});if(e.externalUrl){var s=function(){var t=n.split(";");return{v:a["default"].createElement("span",{className:"prop"},t.map(function(n,r){return a["default"].createElement("span",{key:r},0===r?i:null,a["default"].createElement("a",{target:"_blank",href:e.externalUrl.replace("{value}",n)},n),r<t.length-1?", ":null)}))}}();if("object"===("undefined"==typeof s?"undefined":o(s)))return s.v}else{if("Boolean"==e.dispDataType&&""!==n){var l=1===n||"True"===n;return a["default"].createElement(p["default"],{className:l?"prop bool true":"prop bool false",fixedWidth:!1,name:l?"check":"times"})}if(e.isPrimKey)return a["default"].createElement(y["default"],{table:e.tableId,primKey:n})}return a["default"].createElement("span",{className:"prop"},r)}});t.exports=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(582),u=r(l),c=i["default"].createClass({displayName:"ItemLink",mixins:[s["default"],u["default"]],propTypes:{table:i["default"].PropTypes.string,primKey:i["default"].PropTypes.string},handleClick:function(t){var e=this.props,n=e.table,r=e.primKey,o=1==t.button||t.metaKey||t.ctrlKey;o||t.stopPropagation(),this.getFlux().actions.panoptes.dataItemPopup({table:n,primKey:r.toString(),switchTo:!o})},render:function(){var t=this,e=this.props.primKey;return i["default"].createElement("span",{className:"prop internal-link",onClick:function(e){return t.handleClick(e)}},e)}});t.exports=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(316),a=r(i),s=n(1337),l=r(s),u=n(971),c=r(u),f=n(955),p=r(f),h=n(941),d=r(h),m=n(768),y=r(m),v=n(602),g=(r(v),n(952)),b=r(g),_=n(583),x=r(_),w=n(582),T=r(w),E=n(584),C=r(E),k=n(1059),S=r(k),P=n(1019),M=r(P),A=n(1021),O=r(A),D=n(1339),L=r(D),I=n(1065),j=r(I),F=n(750),R=r(F),N=n(1377),z=r(N),B=n(1378),U=r(B),W=n(1379),q=r(W),V=n(1386),H=r(V),G=n(1387),Y=r(G),Z=n(1244),X=r(Z),K=n(957),Q=r(K),J=n(940),$=r(J),tt=n(1388),et=r(tt),nt=n(1389),rt=r(nt),ot=n(1380),it=r(ot);n(1397),n(1399);var at=" Default ",st=" None ",lt=" None ",ut=a["default"].createClass({displayName:"MapActions",mixins:[x["default"],T["default"],C["default"]],propTypes:{center:a["default"].PropTypes.object,setProps:a["default"].PropTypes.func,query:a["default"].PropTypes.string,sidebar:a["default"].PropTypes.bool,baseTileLayer:a["default"].PropTypes.string,baseTileLayerProps:a["default"].PropTypes.object,overlayLayer:a["default"].PropTypes.string,table:a["default"].PropTypes.string,title:a["default"].PropTypes.string,zoom:a["default"].PropTypes.number},getDefaultProps:function(){return{query:$["default"].nullQuery,baseTileLayer:at,overlayLayer:lt,sidebar:!0,table:st}},componentDidMount:function(){this.attributions={},this.baseTileLayers={},this.baseTileLayersMenu=[],this.overlayLayers={},this.overlayLayersMenu=[],this.baseTileLayers[at]={},this.baseTileLayersMenu.push(a["default"].createElement(S["default"],{key:at,primaryText:at,value:at})),this.overlayLayers[lt]={},this.overlayLayersMenu.push(a["default"].createElement(S["default"],{key:lt,primaryText:lt,value:lt}));for(var t in this.config.mapLayers)this.overlayLayersMenu.push(a["default"].createElement(S["default"],{key:t,primaryText:this.config.mapLayers[t].name,value:t}));if(void 0!==window.L.TileLayer.Provider.providers){var e=Object.keys(window.L.TileLayer.Provider.providers);e.sort();for(var n=0,r=e.length;n<r;n++){var i=e[n],s=window.L.TileLayer.Provider.providers[i];if("HERE"!==i&&"MapBox"!==i&&"NASAGIBS"!==i){var l=void 0!==s.options?s.options.attribution:void 0;this.attributions[i]=l;var u={attribution:l,ext:void 0!==s.options?s.options.ext:void 0,format:void 0!==s.options?s.options.format:void 0,maxZoom:void 0!==s.options?s.options.maxZoom:void 0,minZoom:void 0!==s.options?s.options.minZoom:void 0,name:i,variant:void 0!==s.options?s.options.variant:void 0,url:s.url};if(void 0!==u.url&&(!s.url.includes("{variant}")||s.url.includes("{variant}")&&void 0!==u.variant)&&!i.match("BasemapAT|FreeMapSK|NLS|OpenSeaMap")){var c=i;this.baseTileLayers[c]=u,this.baseTileLayersMenu.push(a["default"].createElement(S["default"],{key:n,primaryText:c,value:c}))}if(void 0!==s.variants&&"object"===o(s.variants)&&!i.match("BasemapAT")){var f=Object.keys(s.variants);f.sort();for(var p=0,h=f.length;p<h;p++){var d=f[p],m=s.variants[d],y=void 0!==m.options&&void 0!==m.options.variant?m.options.variant:u.variant;"string"==typeof m&&(y=m);var v=i+"."+d,g={attribution:void 0!==m.options&&void 0!==m.options.attribution?m.options.attribution:u.attribution,ext:void 0!==m.options&&void 0!==m.options.ext?m.options.ext:u.ext,format:void 0!==m.options&&void 0!==m.options.format?m.options.format:u.format,maxZoom:void 0!==m.options&&void 0!==m.options.maxZoom?m.options.maxZoom:u.maxZoom,minZoom:void 0!==m.options&&void 0!==m.options.minZoom?m.options.minZoom:u.minZoom,name:v,variant:y,url:void 0!==m.options&&void 0!==m.options.url?m.options.url:u.url};void 0!==g.url?(this.baseTileLayers[v]=g,this.baseTileLayersMenu.push(a["default"].createElement(S["default"],{key:n+"_"+p,primaryText:v,value:v}))):console.warn("URL could not be determined for map tile layer: "+v)}}}}}},handleQueryPick:function(t){this.props.setProps({query:t})},handleChangeTable:function(t){t===st?this.props.setProps({table:void 0}):this.props.setProps({table:t})},handleChangeBaseTileLayer:function(t,e,n){if(n===at)this.props.setProps({baseTileLayer:void 0,baseTileLayerProps:void 0,zoom:void 0});else{var r=(0,d["default"])(this.baseTileLayers[n]),o=this.props.zoom;this.props.zoom>r.maxZoom&&(o=r.maxZoom),this.props.zoom<r.minZoom&&(o=r.minZoom),r.attribution=this.attributionReplacer(r.attribution),this.props.setProps({baseTileLayer:n,baseTileLayerProps:r,zoom:o})}},handleChangeMap:function(t){var e=t.center,n=t.zoom;this.props.setProps({center:e,zoom:n})},handleChangeOverlayLayer:function(t,e,n){
n===lt?this.props.setProps({overlayLayer:void 0}):this.props.setProps({overlayLayer:n})},icon:function(){return"globe"},title:function(){return this.props.title||"Map Composer"},attributionReplacer:function(t){var e=this;if(void 0!=t)return t.indexOf("{attribution.")===-1?t:t.replace(/\{attribution.(\w*)\}/,function(t,n){return e.attributionReplacer(e.attributions[n])})},render:function(){var t=this,e=this.props,n=e.center,r=e.setProps,o=e.query,i=e.baseTileLayer,s=e.baseTileLayerProps,u=e.overlayLayer,f=e.sidebar,h=e.table,d=e.zoom,m=(0,b["default"])((0,y["default"])(this.config.visibleTables,function(t){return t.hasGeoCoord}),function(t){return{value:t.id,leftIcon:a["default"].createElement(R["default"],{fixedWidth:!0,name:t.icon}),label:t.capNamePlural}});m=[{value:st,leftIcon:void 0,label:st}].concat(m);var v=null,g=null,_=null;if(void 0!==h&&h!==st&&(v=a["default"].createElement(H["default"],{checked:!0,name:this.config.tablesById[h].capNamePlural},a["default"].createElement(rt["default"],{locationDataTable:h}))),void 0!==i&&i!==at&&(s.zIndex=void 0!==s.zIndex?s.zIndex:1,g=a["default"].createElement(L["default"],{checked:!0,name:s.name},a["default"].createElement(it["default"],s))),void 0!==u&&u!==lt){var x=this.config.mapLayers[u],w=void 0!==x.bounds?[[x.bounds.southLat,x.bounds.westLng],[x.bounds.northLat,x.bounds.eastLng]]:void 0,T=("/panoptes/Maps/"+this.config.dataset+"/"+u+"/",/^https?:\/\/|^\/\//i),E={attribution:x.attribution,bounds:w,maxNativeZoom:x.maxNativeZoom,opacity:x.opacity};"tile"===this.config.mapLayers[u].format?(E.maxNativeZoom=x.maxNativeZoom,E.tms=x.tms,E.url=T.test(x.filePattern)?x.filePattern:"/dist/Maps/"+this.config.dataset+"/"+u+"/"+x.filePattern,E.zIndex=void 0!==E.zIndex?E.zIndex:2,_=a["default"].createElement(H["default"],{checked:!0,name:this.config.mapLayers[u].name},a["default"].createElement(it["default"],E))):"image"===this.config.mapLayers[u].format&&(E.url="/panoptes/Maps/"+this.config.dataset+"/"+u+"/data.png",_=a["default"].createElement(H["default"],{checked:!0,name:this.config.mapLayers[u].name},a["default"].createElement(z["default"],E)))}var C=a["default"].createElement(q["default"],{center:n,setProps:r,onChange:this.handleChangeMap,zoom:d});v&&(C=a["default"].createElement(et["default"],{center:n,setProps:r,table:h,onChange:this.handleChangeMap,zoom:d})),(g||_)&&(g||(g=a["default"].createElement(L["default"],{checked:!0},a["default"].createElement(it["default"],{zIndex:"1"}))),C=a["default"].createElement(q["default"],{center:n,setProps:r,onChange:this.handleChangeMap,zoom:d},a["default"].createElement(U["default"],null,g,_,v)));var k='<div style="width:300px;height:300px">'+(0,l["default"])(C,{ignoreProps:["setProps","onChange"]})+"</div>",S=a["default"].createElement("div",{className:"sidebar map-sidebar"},a["default"].createElement(Q["default"],{icon:this.icon(),description:"View data geographically"}),a["default"].createElement("div",{className:"map-controls vertical stack"},a["default"].createElement(X["default"],{autoWidth:!0,floatingLabelText:"Markers:",onChange:this.handleChangeTable,options:m,value:h}),h?a["default"].createElement(j["default"],{table:h,query:o,onPick:this.handleQueryPick}):null,a["default"].createElement(M["default"],{autoWidth:!0,floatingLabelText:"Base layer:",onChange:function(e,n,r){return t.handleChangeBaseTileLayer(e,n,r)},value:i},this.baseTileLayersMenu),a["default"].createElement(M["default"],{autoWidth:!0,floatingLabelText:"Overlay:",onChange:function(e,n,r){return t.handleChangeOverlayLayer(e,n,r)},value:u},this.overlayLayersMenu),this.config.user.isManager?a["default"].createElement(O["default"],{floatingLabelText:"Template code:",multiLine:!0,textareaStyle:{fontFamily:"'Courier New', Courier, monospace",fontSize:"8pt",lineHeight:"8pt"},value:k}):null)),P="Map";return void 0!==i&&i!=at&&(P=i+" map"),void 0!==h&&h!==st&&(P=P+" of "+this.config.tablesById[h].namePlural),a["default"].createElement(p["default"],{docked:f,styles:{sidebar:{paddingRight:(0,c["default"])()+"px"}},sidebar:S},a["default"].createElement("div",{className:"vertical stack"},a["default"].createElement("div",{className:"top-bar"},a["default"].createElement(R["default"],{className:"pointer icon",name:f?"arrows-h":"bars",title:f?"Expand":"Sidebar",onClick:function(){return r({sidebar:!f})}}),a["default"].createElement("span",{className:"text"},P),h?a["default"].createElement("span",{className:"block text"},a["default"].createElement(Y["default"],{prepend:"Filter:",table:h,query:o})):null),a["default"].createElement("div",{className:"grow map-content"},C)))}});t.exports=ut},function(t,e,n){"use strict";function r(t,e,n){return!!t&&t[e]===n}function o(t,e){var n;return Array.isArray(t)?n=t.map(function(t){return o(t)}):t&&"object"===("undefined"==typeof t?"undefined":s(t))?(n={},Object.keys(t).map(function(r){var a=t[r];l.isValidElement(a)?a=i(a,e):Array.isArray(a)?a=a.map(function(t){return o(t,e)}):"object"===("undefined"==typeof a?"undefined":s(a))?a=o(a,e):"function"==typeof a&&(a="..."),n[r]=a})):n=t,n}function i(t,e){var n={displayName:t.type.displayName||t.type.name||t.type,ignoreProps:[],keyValueOverride:{},spacing:0},f=a({},n,e),p={name:f.displayName};if(delete f.displayName,t.props&&(p.props=Object.keys(t.props).map(function(e){if("children"===e||r(t.type.defaultProps,e,t.props[e])||f.ignoreProps.indexOf(e)>-1)return"";var n=t.props[e];return"string"==typeof n?" "+e+'="'+n+'"':(l.isValidElement(n)?n=i(n,f):"object"===("undefined"==typeof n?"undefined":s(n))?(n=u(o(n,f)),n=n.replace(c,function(t){return t.slice(1,t.length-1)})):"function"==typeof n&&(n="...")," "+e+"={"+(f.keyValueOverride[e]||n)+"}")}).join("")),t.props.children){f.spacing+=2;var h=new Array(f.spacing+1).join(" ");return"string"==typeof t.props.children?p.children=t.props.children:"object"!==s(t.props.children)||Array.isArray(t.props.children)?p.children=t.props.children.filter(function(t){return t}).map(function(t){return"string"==typeof t?t:i(t,f)}).join("\n"+h):p.children=i(t.props.children,f),"<"+p.name+p.props+">\n"+h+p.children+"\n"+h.slice(0,-2)+"</"+p.name+">"}return"<"+p.name+p.props+" />"}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},l=n(316),u=n(1338),c=/"<.+>"/g;e["default"]=i,t.exports=e["default"]},function(t,e){function n(t,e){e=e||{};var n=JSON.stringify([1],null,o(e,"indent",2)).slice(2,-3),i=""===n?1/0:o(e,"maxLength",80);return function a(t,e,o){t&&"function"==typeof t.toJSON&&(t=t.toJSON());var s=JSON.stringify(t);if(void 0===s)return s;var l=i-e.length-o;if(s.length<=l){var u=r(s);if(u.length<=l)return u}if("object"==typeof t&&null!==t){var c,f=e+n,p=[],h=function(t,e){return e===t.length-1?0:1};if(Array.isArray(t)){for(var d=0;d<t.length;d++)p.push(a(t[d],f,h(t,d))||"null");c="[]"}else Object.keys(t).forEach(function(e,n,r){var o=JSON.stringify(e)+": ",i=a(t[e],f,o.length+h(r,n));void 0!==i&&p.push(o+i)}),c="{}";if(p.length>0)return[c[0],n+p.join(",\n"+f),c[1]].join("\n"+e)}return s}(t,"",0)}function r(t){return t.replace(i,function(t,e){return e?t:t+" "})}function o(t,e,n){return e in t?t[e]:n}var i=/("(?:[^"]|\\.)*")|[:,]/g;t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(1340),s=n(582),l=r(s),u=n(761),c=r(u),f=a.LayersControl.BaseLayer,p=["TileLayerWidget","FeatureGroupWidget"],h=i["default"].createClass({displayName:"BaseLayerWidget",mixins:[l["default"]],contextTypes:{layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object},propTypes:{addBaseLayer:i["default"].PropTypes.func,checked:i["default"].PropTypes.bool,children:i["default"].PropTypes.node,layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object,name:i["default"].PropTypes.string,removeLayer:i["default"].PropTypes.func,removeLayerControl:i["default"].PropTypes.func},childContextTypes:{layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object},getChildContext:function(){return{layerContainer:void 0!==this.props.layerContainer?this.props.layerContainer:this.context.layerContainer,map:void 0!==this.props.map?this.props.map:this.context.map}},getDefaultProps:function(){return{name:"Base layer"}},render:function(){var t=this.props,e=t.addBaseLayer,n=t.checked,r=t.children,o=t.name,a=t.removeLayer,s=t.removeLayerControl;return r=(0,c["default"])(this,r,p),r&&(r=i["default"].Children.only(r)),i["default"].createElement(f,{addBaseLayer:e,checked:n,children:r,name:o,removeLayer:a,removeLayerControl:s})}});t.exports=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.ZoomControl=e.WMSTileLayer=e.Tooltip=e.TileLayer=e.ScaleControl=e.Rectangle=e.Popup=e.Polyline=e.Polygon=e.Path=e.Marker=e.MapLayer=e.MapControl=e.MapComponent=e.Map=e.LayersControl=e.LayerGroup=e.ImageOverlay=e.GridLayer=e.GeoJSON=e.FeatureGroup=e.CircleMarker=e.Circle=e.AttributionControl=e.PropTypes=void 0;var i=n(1341),a=o(i),s=n(1350),l=r(s),u=n(1352),c=r(u),f=n(1358),p=r(f),h=n(1359),d=r(h),m=n(1360),y=r(m),v=n(1361),g=r(v),b=n(1362),_=r(b),x=n(1363),w=r(x),T=n(1364),E=r(T),C=n(1365),k=r(C),S=n(1356),P=r(S),M=n(1351),A=r(M),O=n(1355),D=r(O),L=n(1367),I=r(L),j=n(1353),F=r(j),R=n(1368),N=r(R),z=n(1369),B=r(z),U=n(1370),W=r(U),q=n(1371),V=r(q),H=n(1372),G=r(H),Y=n(1373),Z=r(Y),X=n(1374),K=r(X),Q=n(1375),J=r(Q),$=n(1376),tt=r($);e.PropTypes=a,e.AttributionControl=l["default"],e.Circle=c["default"],e.CircleMarker=p["default"],e.FeatureGroup=d["default"],e.GeoJSON=y["default"],e.GridLayer=g["default"],e.ImageOverlay=_["default"],e.LayerGroup=w["default"],e.LayersControl=E["default"],e.Map=k["default"],e.MapComponent=P["default"],e.MapControl=A["default"],e.MapLayer=D["default"],e.Marker=I["default"],e.Path=F["default"],e.Polygon=N["default"],e.Polyline=B["default"],e.Popup=W["default"],e.Rectangle=V["default"],e.ScaleControl=G["default"],e.TileLayer=Z["default"],e.Tooltip=K["default"],e.WMSTileLayer=J["default"],e.ZoomControl=tt["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.map=e.layerContainer=e.latlngList=e.latlng=e.controlPosition=e.children=e.bounds=void 0;var o=n(1342),i=r(o),a=n(1346),s=r(a),l=n(1347),u=r(l),c=n(1345),f=r(c),p=n(1344),h=r(p),d=n(1348),m=r(d),y=n(1349),v=r(y);e.bounds=i["default"],e.children=s["default"],e.controlPosition=u["default"],e.latlng=f["default"],e.latlngList=h["default"],e.layerContainer=m["default"],e.map=v["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=n(1343),a=n(1344),s=r(a);e["default"]=o.PropTypes.oneOfType([o.PropTypes.instanceOf(i.LatLngBounds),s["default"]])},function(t,e,n){var r,o;!function(i,a,s){function l(){var t=i.L;u.noConflict=function(){return i.L=t,this},i.L=u}var u={version:"1.0.1"};"object"==typeof t&&"object"==typeof t.exports?t.exports=u:(r=u,o="function"==typeof r?r.call(e,n,e,t):r,!(o!==s&&(t.exports=o))),"undefined"!=typeof i&&l(),u.Util={extend:function(t){var e,n,r,o;for(n=1,r=arguments.length;n<r;n++){o=arguments[n];for(e in o)t[e]=o[e]}return t},create:Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),bind:function(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var r=n.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(n.call(arguments)):arguments)}},stamp:function(t){return t._leaflet_id=t._leaflet_id||++u.Util.lastId,t._leaflet_id},lastId:0,throttle:function(t,e,n){var r,o,i,a;return a=function(){r=!1,o&&(i.apply(n,o),o=!1)},i=function(){r?o=arguments:(t.apply(n,arguments),setTimeout(a,e),r=!0)}},wrapNum:function(t,e,n){var r=e[1],o=e[0],i=r-o;return t===r&&n?t:((t-o)%i+i)%i+o},falseFn:function(){return!1},formatNum:function(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return u.Util.trim(t).split(/\s+/)},setOptions:function(t,e){t.hasOwnProperty("options")||(t.options=t.options?u.Util.create(t.options):{});for(var n in e)t.options[n]=e[n];return t.options},getParamString:function(t,e,n){var r=[];for(var o in t)r.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&e.indexOf("?")!==-1?"&":"?")+r.join("&")},template:function(t,e){return t.replace(u.Util.templateRe,function(t,n){var r=e[n];if(r===s)throw new Error("No value provided for variable "+t);return"function"==typeof r&&(r=r(e)),r})},templateRe:/\{ *([\w_\-]+) *\}/g,isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},indexOf:function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function t(t){return i["webkit"+t]||i["moz"+t]||i["ms"+t]}function e(t){var e=+new Date,r=Math.max(0,16-(e-n));return n=e+r,i.setTimeout(t,r)}var n=0,r=i.requestAnimationFrame||t("RequestAnimationFrame")||e,o=i.cancelAnimationFrame||t("CancelAnimationFrame")||t("CancelRequestAnimationFrame")||function(t){i.clearTimeout(t)};u.Util.requestAnimFrame=function(t,n,o){return o&&r===e?void t.call(n):r.call(i,u.bind(t,n))},u.Util.cancelAnimFrame=function(t){t&&o.call(i,t)}}(),u.extend=u.Util.extend,u.bind=u.Util.bind,u.stamp=u.Util.stamp,u.setOptions=u.Util.setOptions,u.Class=function(){},u.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,r=u.Util.create(n);r.constructor=e,e.prototype=r;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&(e[o]=this[o]);return t.statics&&(u.extend(e,t.statics),delete t.statics),t.includes&&(u.Util.extend.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=u.Util.extend(u.Util.create(r.options),t.options)),u.extend(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},e},u.Class.include=function(t){return u.extend(this.prototype,t),this},u.Class.mergeOptions=function(t){return u.extend(this.prototype.options,t),this},u.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this},u.Evented=u.Class.extend({on:function(t,e,n){if("object"==typeof t)for(var r in t)this._on(r,t[r],e);else{t=u.Util.splitWords(t);for(var o=0,i=t.length;o<i;o++)this._on(t[o],e,n)}return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var r in t)this._off(r,t[r],e);else{t=u.Util.splitWords(t);for(var o=0,i=t.length;o<i;o++)this._off(t[o],e,n)}else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var r=this._events[t];r||(r=[],this._events[t]=r),n===this&&(n=s);for(var o={fn:e,ctx:n},i=r,a=0,l=i.length;a<l;a++)if(i[a].fn===e&&i[a].ctx===n)return;i.push(o),r.count++},_off:function(t,e,n){var r,o,i;if(this._events&&(r=this._events[t])){if(!e){for(o=0,i=r.length;o<i;o++)r[o].fn=u.Util.falseFn;return void delete this._events[t]}if(n===this&&(n=s),r)for(o=0,i=r.length;o<i;o++){var a=r[o];if(a.ctx===n&&a.fn===e)return a.fn=u.Util.falseFn,this._firingCount&&(this._events[t]=r=r.slice()),void r.splice(o,1)}}},fire:function(t,e,n){if(!this.listens(t,n))return this;var r=u.Util.extend({},e,{type:t,target:this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var i=0,a=o.length;i<a;i++){var s=o[i];s.fn.call(s.ctx||this,r)}this._firingCount--}}return n&&this._propagateEvent(r),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var r in this._eventParents)if(this._eventParents[r].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var r in t)this.once(r,t[r],e);return this}var o=u.bind(function(){this.off(t,e,n).off(t,o,n)},this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[u.stamp(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[u.stamp(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,u.extend({layer:t.target},t),!0)}});var c=u.Evented.prototype;c.addEventListener=c.on,c.removeEventListener=c.clearAllEventListeners=c.off,c.addOneTimeEventListener=c.once,c.fireEvent=c.fire,c.hasEventListeners=c.listens,u.Mixin={Events:c},function(){var t=navigator.userAgent.toLowerCase(),e=a.documentElement,n="ActiveXObject"in i,r=t.indexOf("webkit")!==-1,o=t.indexOf("phantom")!==-1,s=t.search("android [23]")!==-1,l=t.indexOf("chrome")!==-1,c=t.indexOf("gecko")!==-1&&!r&&!i.opera&&!n,f=0===navigator.platform.indexOf("Win"),p="undefined"!=typeof orientation||t.indexOf("mobile")!==-1,h=!i.PointerEvent&&i.MSPointerEvent,d=i.PointerEvent||h,m=n&&"transition"in e.style,y="WebKitCSSMatrix"in i&&"m11"in new i.WebKitCSSMatrix&&!s,v="MozPerspective"in e.style,g="OTransition"in e.style,b=!i.L_NO_TOUCH&&(d||"ontouchstart"in i||i.DocumentTouch&&a instanceof i.DocumentTouch);u.Browser={ie:n,ielt9:n&&!a.addEventListener,edge:"msLaunchUri"in navigator&&!("documentMode"in a),webkit:r,gecko:c,android:t.indexOf("android")!==-1,android23:s,chrome:l,safari:!l&&t.indexOf("safari")!==-1,win:f,ie3d:m,webkit3d:y,gecko3d:v,opera12:g,any3d:!i.L_DISABLE_3D&&(m||y||v)&&!g&&!o,mobile:p,mobileWebkit:p&&r,mobileWebkit3d:p&&y,mobileOpera:p&&i.opera,mobileGecko:p&&c,touch:!!b,msPointer:!!h,pointer:!!d,retina:(i.devicePixelRatio||i.screen.deviceXDPI/i.screen.logicalXDPI)>1}}(),u.Point=function(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e},u.Point.prototype={clone:function(){return new u.Point(this.x,this.y)},add:function(t){return this.clone()._add(u.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(u.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new u.Point(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new u.Point(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){t=u.point(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=u.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=u.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+u.Util.formatNum(this.x)+", "+u.Util.formatNum(this.y)+")"}},u.point=function(t,e,n){return t instanceof u.Point?t:u.Util.isArray(t)?new u.Point(t[0],t[1]):t===s||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new u.Point(t.x,t.y):new u.Point(t,e,n)},u.Bounds=function(t,e){if(t)for(var n=e?[t,e]:t,r=0,o=n.length;r<o;r++)this.extend(n[r])},u.Bounds.prototype={extend:function(t){return t=u.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new u.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new u.Point(this.min.x,this.max.y)},getTopRight:function(){return new u.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"==typeof t[0]||t instanceof u.Point?u.point(t):u.bounds(t),t instanceof u.Bounds?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=u.bounds(t);var e=this.min,n=this.max,r=t.min,o=t.max,i=o.x>=e.x&&r.x<=n.x,a=o.y>=e.y&&r.y<=n.y;return i&&a},overlaps:function(t){t=u.bounds(t);var e=this.min,n=this.max,r=t.min,o=t.max,i=o.x>e.x&&r.x<n.x,a=o.y>e.y&&r.y<n.y;return i&&a},isValid:function(){return!(!this.min||!this.max)}},u.bounds=function(t,e){return!t||t instanceof u.Bounds?t:new u.Bounds(t,e)},u.Transformation=function(t,e,n,r){this._a=t,this._b=e,this._c=n,this._d=r},u.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new u.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},u.DomUtil={get:function(t){return"string"==typeof t?a.getElementById(t):t},getStyle:function(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&a.defaultView){var r=a.defaultView.getComputedStyle(t,null);n=r?r[e]:null}return"auto"===n?null:n},create:function(t,e,n){var r=a.createElement(t);return r.className=e||"",n&&n.appendChild(r),r},remove:function(t){var e=t.parentNode;e&&e.removeChild(t)},empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},toFront:function(t){t.parentNode.appendChild(t)},toBack:function(t){var e=t.parentNode;e.insertBefore(t,e.firstChild)},hasClass:function(t,e){if(t.classList!==s)return t.classList.contains(e);var n=u.DomUtil.getClass(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)},addClass:function(t,e){if(t.classList!==s)for(var n=u.Util.splitWords(e),r=0,o=n.length;r<o;r++)t.classList.add(n[r]);else if(!u.DomUtil.hasClass(t,e)){var i=u.DomUtil.getClass(t);u.DomUtil.setClass(t,(i?i+" ":"")+e)}},removeClass:function(t,e){t.classList!==s?t.classList.remove(e):u.DomUtil.setClass(t,u.Util.trim((" "+u.DomUtil.getClass(t)+" ").replace(" "+e+" "," ")))},setClass:function(t,e){t.className.baseVal===s?t.className=e:t.className.baseVal=e},getClass:function(t){return t.className.baseVal===s?t.className:t.className.baseVal},setOpacity:function(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&u.DomUtil._setOpacityIE(t,e)},_setOpacityIE:function(t,e){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(r)}catch(o){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+r+"(opacity="+e+")"},testProp:function(t){for(var e=a.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1},setTransform:function(t,e,n){var r=e||new u.Point(0,0);t.style[u.DomUtil.TRANSFORM]=(u.Browser.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")},setPosition:function(t,e){t._leaflet_pos=e,u.Browser.any3d?u.DomUtil.setTransform(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos||new u.Point(0,0)}},function(){u.DomUtil.TRANSFORM=u.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var t=u.DomUtil.TRANSITION=u.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);if(u.DomUtil.TRANSITION_END="webkitTransition"===t||"OTransition"===t?t+"End":"transitionend","onselectstart"in a)u.DomUtil.disableTextSelection=function(){u.DomEvent.on(i,"selectstart",u.DomEvent.preventDefault)},u.DomUtil.enableTextSelection=function(){u.DomEvent.off(i,"selectstart",u.DomEvent.preventDefault)};else{var e=u.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);u.DomUtil.disableTextSelection=function(){if(e){var t=a.documentElement.style;this._userSelect=t[e],t[e]="none"}},u.DomUtil.enableTextSelection=function(){e&&(a.documentElement.style[e]=this._userSelect,delete this._userSelect)}}u.DomUtil.disableImageDrag=function(){u.DomEvent.on(i,"dragstart",u.DomEvent.preventDefault)},u.DomUtil.enableImageDrag=function(){u.DomEvent.off(i,"dragstart",u.DomEvent.preventDefault)},u.DomUtil.preventOutline=function(t){for(;t.tabIndex===-1;)t=t.parentNode;t&&t.style&&(u.DomUtil.restoreOutline(),this._outlineElement=t,this._outlineStyle=t.style.outline,t.style.outline="none",u.DomEvent.on(i,"keydown",u.DomUtil.restoreOutline,this))},u.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,u.DomEvent.off(i,"keydown",u.DomUtil.restoreOutline,this))}}(),u.LatLng=function(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,n!==s&&(this.alt=+n)},u.LatLng.prototype={equals:function(t,e){if(!t)return!1;t=u.latLng(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return n<=(e===s?1e-9:e)},toString:function(t){return"LatLng("+u.Util.formatNum(this.lat,t)+", "+u.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){return u.CRS.Earth.distance(this,u.latLng(t))},wrap:function(){return u.CRS.Earth.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return u.latLngBounds([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new u.LatLng(this.lat,this.lng,this.alt)}},u.latLng=function(t,e,n){return t instanceof u.LatLng?t:u.Util.isArray(t)&&"object"!=typeof t[0]?3===t.length?new u.LatLng(t[0],t[1],t[2]):2===t.length?new u.LatLng(t[0],t[1]):null:t===s||null===t?t:"object"==typeof t&&"lat"in t?new u.LatLng(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===s?null:new u.LatLng(t,e,n)},u.LatLngBounds=function(t,e){if(t)for(var n=e?[t,e]:t,r=0,o=n.length;r<o;r++)this.extend(n[r])},u.LatLngBounds.prototype={extend:function(t){var e,n,r=this._southWest,o=this._northEast;if(t instanceof u.LatLng)e=t,n=t;else{if(!(t instanceof u.LatLngBounds))return t?this.extend(u.latLng(t)||u.latLngBounds(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return r||o?(r.lat=Math.min(e.lat,r.lat),r.lng=Math.min(e.lng,r.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new u.LatLng(e.lat,e.lng),this._northEast=new u.LatLng(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,r=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new u.LatLngBounds(new u.LatLng(e.lat-r,e.lng-o),new u.LatLng(n.lat+r,n.lng+o))},getCenter:function(){return new u.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new u.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new u.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof u.LatLng?u.latLng(t):u.latLngBounds(t);var e,n,r=this._southWest,o=this._northEast;return t instanceof u.LatLngBounds?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=r.lat&&n.lat<=o.lat&&e.lng>=r.lng&&n.lng<=o.lng},intersects:function(t){t=u.latLngBounds(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),o=t.getNorthEast(),i=o.lat>=e.lat&&r.lat<=n.lat,a=o.lng>=e.lng&&r.lng<=n.lng;return i&&a},overlaps:function(t){t=u.latLngBounds(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),o=t.getNorthEast(),i=o.lat>e.lat&&r.lat<n.lat,a=o.lng>e.lng&&r.lng<n.lng;return i&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return!!t&&(t=u.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast()))},isValid:function(){return!(!this._southWest||!this._northEast)}},u.latLngBounds=function(t,e){return t instanceof u.LatLngBounds?t:new u.LatLngBounds(t,e)},u.Projection={},u.Projection.LonLat={project:function(t){return new u.Point(t.lng,t.lat)},unproject:function(t){return new u.LatLng(t.y,t.x)},bounds:u.bounds([-180,-90],[180,90])},u.Projection.SphericalMercator={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,t.lat),-n),o=Math.sin(r*e);return new u.Point(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new u.LatLng((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return u.bounds([-t,-t],[t,t])}()},u.CRS={latLngToPoint:function(t,e){var n=this.projection.project(t),r=this.scale(e);return this.transformation._transform(n,r)},pointToLatLng:function(t,e){var n=this.scale(e),r=this.transformation.untransform(t,n);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t),r=this.transformation.transform(e.min,n),o=this.transformation.transform(e.max,n);return u.bounds(r,o)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?u.Util.wrapNum(t.lng,this.wrapLng,!0):t.lng,n=this.wrapLat?u.Util.wrapNum(t.lat,this.wrapLat,!0):t.lat,r=t.alt;return u.latLng(n,e,r)}},u.CRS.Simple=u.extend({},u.CRS,{projection:u.Projection.LonLat,transformation:new u.Transformation(1,0,(-1),0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,r=e.lat-t.lat;return Math.sqrt(n*n+r*r)},infinite:!0}),u.CRS.Earth=u.extend({},u.CRS,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,r=t.lat*n,o=e.lat*n,i=Math.sin(r)*Math.sin(o)+Math.cos(r)*Math.cos(o)*Math.cos((e.lng-t.lng)*n);return this.R*Math.acos(Math.min(i,1))}}),u.CRS.EPSG3857=u.extend({},u.CRS.Earth,{code:"EPSG:3857",projection:u.Projection.SphericalMercator,transformation:function(){var t=.5/(Math.PI*u.Projection.SphericalMercator.R);return new u.Transformation(t,.5,(-t),.5)}()}),u.CRS.EPSG900913=u.extend({},u.CRS.EPSG3857,{code:"EPSG:900913"}),u.CRS.EPSG4326=u.extend({},u.CRS.Earth,{code:"EPSG:4326",projection:u.Projection.LonLat,transformation:new u.Transformation(1/180,1,-1/180,.5)}),u.Map=u.Evented.extend({options:{crs:u.CRS.EPSG3857,center:s,zoom:s,minZoom:s,maxZoom:s,layers:[],maxBounds:s,renderer:s,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=u.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=u.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==s&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==s&&this.setView(u.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._addLayers(this.options.layers);
},setView:function(t,e){return e=e===s?this.getZoom():e,this._resetView(u.latLng(t),e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(u.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(u.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var r=this.getZoomScale(e),o=this.getSize().divideBy(2),i=t instanceof u.Point?t:this.latLngToContainerPoint(t),a=i.subtract(o).multiplyBy(1-1/r),s=this.containerPointToLatLng(o.add(a));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():u.latLngBounds(t);var n=u.point(e.paddingTopLeft||e.padding||[0,0]),r=u.point(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(r));o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o;var i=r.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),o),s=this.project(t.getNorthEast(),o),l=this.unproject(a.add(s).divideBy(2).add(i),o);return{center:l,zoom:o}},fitBounds:function(t,e){if(t=u.latLngBounds(t),!t.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(u.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=u.latLngBounds(t),t.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,u.latLngBounds(t));return n.equals(r)||this.panTo(r,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=u.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),r=e.divideBy(2).round(),o=n.divideBy(2).round(),i=r.subtract(o);return i.x||i.y?(t.animate&&t.pan?this.panBy(i):(t.pan&&this._rawPanBy(i),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=s,this._containerId=s}u.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");for(var e in this._layers)this._layers[e].remove();return this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),r=u.DomUtil.create("div",n,e||this._mapPane);return t&&(this._panes[t]=r),r},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new u.LatLngBounds(e,n)},getMinZoom:function(){return this.options.minZoom===s?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===s?this._layersMaxZoom===s?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=u.latLngBounds(t),n=u.point(n||[0,0]);var r=this.getZoom()||0,o=this.getMinZoom(),i=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),l=this.getSize().subtract(n),c=this.project(s,r).subtract(this.project(a,r)),f=u.Browser.any3d?this.options.zoomSnap:1,p=Math.min(l.x/c.x,l.y/c.y);return r=this.getScaleZoom(p,r),f&&(r=Math.round(r/(f/100))*(f/100),r=e?Math.ceil(r/f)*f:Math.floor(r/f)*f),Math.max(o,Math.min(i,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new u.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new u.Bounds(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===s?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=e===s?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=e===s?this._zoom:e;var r=n.zoom(t*n.scale(e));return isNaN(r)?1/0:r},project:function(t,e){return e=e===s?this._zoom:e,this.options.crs.latLngToPoint(u.latLng(t),e)},unproject:function(t,e){return e=e===s?this._zoom:e,this.options.crs.pointToLatLng(u.point(t),e)},layerPointToLatLng:function(t){var e=u.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(u.latLng(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(u.latLng(t))},distance:function(t,e){return this.options.crs.distance(u.latLng(t),u.latLng(e))},containerPointToLayerPoint:function(t){return u.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return u.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(u.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(u.latLng(t)))},mouseEventToContainerPoint:function(t){return u.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=u.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");u.DomEvent.addListener(e,"scroll",this._onScroll,this),this._containerId=u.Util.stamp(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&u.Browser.any3d,u.DomUtil.addClass(t,"leaflet-container"+(u.Browser.touch?" leaflet-touch":"")+(u.Browser.retina?" leaflet-retina":"")+(u.Browser.ielt9?" leaflet-oldie":"")+(u.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=u.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),u.DomUtil.setPosition(this._mapPane,new u.Point(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(u.DomUtil.addClass(t.markerPane,"leaflet-zoom-hide"),u.DomUtil.addClass(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){u.DomUtil.setPosition(this._mapPane,new u.Point(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var r=this._zoom!==e;this._moveStart(r)._move(t,e)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,e,n){e===s&&(e=this._zoom);var r=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return u.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){u.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){if(u.DomEvent){this._targets={},this._targets[u.stamp(this._container)]=this;var e=t?"off":"on";u.DomEvent[e](this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&u.DomEvent[e](i,"resize",this._onResize,this),u.Browser.any3d&&this.options.transform3DLimit&&this[e]("moveend",this._onMoveEnd)}},_onResize:function(){u.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=u.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,r=[],o="mouseout"===e||"mouseover"===e,i=t.target||t.srcElement,a=!1;i;){if(n=this._targets[u.stamp(i)],n&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(o&&!u.DomEvent._isExternalTarget(i,t))break;if(r.push(n),o)break}if(i===this._container)break;i=i.parentNode}return r.length||a||o||!u.DomEvent._isExternalTarget(i,t)||(r=[this]),r},_handleDOMEvent:function(t){if(this._loaded&&!u.DomEvent._skipped(t)){var e="keypress"===t.type&&13===t.keyCode?"click":t.type;"mousedown"===e&&u.DomUtil.preventOutline(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_fireDOMEvent:function(t,e,n){if("click"===t.type){var r=u.Util.extend({},t);r.type="preclick",this._fireDOMEvent(r,r.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e)),n.length)){var o=n[0];"contextmenu"===e&&o.listens(e,!0)&&u.DomEvent.preventDefault(t);var i={originalEvent:t};if("keypress"!==t.type){var a=o instanceof u.Marker;i.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),i.layerPoint=this.containerPointToLayerPoint(i.containerPoint),i.latlng=a?o.getLatLng():this.layerPointToLatLng(i.layerPoint)}for(var s=0;s<n.length;s++)if(n[s].fire(e,i,!0),i.originalEvent._stopped||n[s].options.nonBubblingEvents&&u.Util.indexOf(n[s].options.nonBubblingEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return u.DomUtil.getPosition(this._mapPane)||new u.Point(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var n=t&&e!==s?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(r)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var r=this.project(t,e),o=this.getSize().divideBy(2),i=new u.Bounds(r.subtract(o),r.add(o)),a=this._getBoundsOffset(i,n,e);return a.round().equals([0,0])?t:this.unproject(r.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),r=new u.Bounds(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(r,e))},_getBoundsOffset:function(t,e,n){var r=u.bounds(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=r.min.subtract(t.min),i=r.max.subtract(t.max),a=this._rebound(o.x,-i.x),s=this._rebound(o.y,-i.y);return new u.Point(a,s)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),r=u.Browser.any3d?this.options.zoomSnap:1;return r&&(t=Math.round(t/r)*r),Math.max(e,Math.min(n,t))}}),u.map=function(t,e){return new u.Map(t,e)},u.Layer=u.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[]},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[u.stamp(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[u.stamp(t)],this},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&this._map.attributionControl&&this._map.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}}),u.Map.include({addLayer:function(t){var e=u.stamp(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=u.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&u.stamp(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?u.Util.isArray(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[u.stamp(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=u.stamp(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-(1/0),n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var o=this._zoomBoundLayers[r].options;t=o.minZoom===s?t:Math.min(t,o.minZoom),e=o.maxZoom===s?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-(1/0)?s:e,this._layersMinZoom=t===1/0?s:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange")}}),u.Projection.Mercator={R:6378137,R_MINOR:6356752.314245179,bounds:u.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,r=t.lat*e,o=this.R_MINOR/n,i=Math.sqrt(1-o*o),a=i*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),i/2);return r=-n*Math.log(Math.max(s,1e-10)),new u.Point(t.lng*e*n,r)},unproject:function(t){for(var e,n=180/Math.PI,r=this.R,o=this.R_MINOR/r,i=Math.sqrt(1-o*o),a=Math.exp(-t.y/r),s=Math.PI/2-2*Math.atan(a),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)e=i*Math.sin(s),e=Math.pow((1-e)/(1+e),i/2),c=Math.PI/2-2*Math.atan(a*e)-s,s+=c;return new u.LatLng(s*n,t.x*n/r)}},u.CRS.EPSG3395=u.extend({},u.CRS.Earth,{code:"EPSG:3395",projection:u.Projection.Mercator,transformation:function(){var t=.5/(Math.PI*u.Projection.Mercator.R);return new u.Transformation(t,.5,(-t),.5)}()}),u.GridLayer=u.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:u.Browser.mobile,updateWhenZooming:!0,updateInterval:200,attribution:null,zIndex:1,bounds:null,minZoom:0,maxZoom:s,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){u.setOptions(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),u.DomUtil.remove(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(u.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(u.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return a.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof u.Point?t:new u.Point(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==s&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,r=-t(-(1/0),1/0),o=0,i=n.length;o<i;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(r=t(r,+e));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!u.Browser.ielt9){u.DomUtil.setOpacity(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var r in this._tiles){var o=this._tiles[r];if(o.current&&o.loaded){var i=Math.min(1,(t-o.loaded)/200);u.DomUtil.setOpacity(o.el,i),i<1?e=!0:(o.active&&(n=!0),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(u.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=u.Util.requestAnimFrame(this._updateOpacity,this))}},_initContainer:function(){this._container||(this._container=u.DomUtil.create("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t===s)return s;for(var n in this._levels)this._levels[n].el.children.length||n===t?this._levels[n].el.style.zIndex=e-Math.abs(t-n):(u.DomUtil.remove(this._levels[n].el),this._removeTilesAtZoom(n),delete this._levels[n]);var r=this._levels[t],o=this._map;return r||(r=this._levels[t]={},r.el=u.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=e,r.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),r.zoom=t,this._setZoomTransform(r,o.getCenter(),o.getZoom()),u.Util.falseFn(r.el.offsetWidth)),this._level=r,r},_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)return void this._removeAllTiles();for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var r=e.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)u.DomUtil.remove(this._levels[t].el),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(t,e,n,r){var o=Math.floor(t/2),i=Math.floor(e/2),a=n-1,s=new u.Point((+o),(+i));s.z=+a;var l=this._tileCoordsToKey(s),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>r&&this._retainParent(o,i,a,r))},_retainChildren:function(t,e,n,r){for(var o=2*t;o<2*t+2;o++)for(var i=2*e;i<2*e+2;i++){var a=new u.Point(o,i);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<r&&this._retainChildren(o,i,n+1,r))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_setView:function(t,e,n,r){var o=Math.round(e);(this.options.maxZoom!==s&&o>this.options.maxZoom||this.options.minZoom!==s&&o<this.options.minZoom)&&(o=s);var i=this.options.updateWhenZooming&&o!==this._tileZoom;r&&!i||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),o!==s&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var r=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(e,n)).round();u.Browser.any3d?u.DomUtil.setTransform(t.el,o,r):u.DomUtil.setPosition(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],r).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],r).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],r).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),r=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),i=e.getSize().divideBy(2*r);return new u.Bounds(o.subtract(i),o.add(i))},_update:function(t){var e=this._map;if(e){var n=e.getZoom();if(t===s&&(t=e.getCenter()),this._tileZoom!==s){var r=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(r),i=o.getCenter(),l=[],c=this.options.keepBuffer,f=new u.Bounds(o.getBottomLeft().subtract([c,-c]),o.getTopRight().add([c,-c]));for(var p in this._tiles){var h=this._tiles[p].coords;h.z===this._tileZoom&&f.contains(u.point(h.x,h.y))||(this._tiles[p].current=!1)}if(Math.abs(n-this._tileZoom)>1)return void this._setView(t,n);for(var d=o.min.y;d<=o.max.y;d++)for(var m=o.min.x;m<=o.max.x;m++){var y=new u.Point(m,d);if(y.z=this._tileZoom,this._isValidTile(y)){var v=this._tiles[this._tileCoordsToKey(y)];v?v.current=!0:l.push(y)}}if(l.sort(function(t,e){return t.distanceTo(i)-e.distanceTo(i)}),0!==l.length){this._loading||(this._loading=!0,this.fire("loading"));var g=a.createDocumentFragment();for(m=0;m<l.length;m++)this._addTile(l[m],g);this._level.el.appendChild(g)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(t);return u.latLngBounds(this.options.bounds).overlaps(r)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var e=this._map,n=this.getTileSize(),r=t.scaleBy(n),o=r.add(n),i=e.unproject(r,t.z),a=e.unproject(o,t.z);return this.options.noWrap||(i=e.wrapLatLng(i),a=e.wrapLatLng(a)),new u.LatLngBounds(i,a)},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new u.Point((+e[0]),(+e[1]));return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(u.DomUtil.remove(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){u.DomUtil.addClass(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=u.Util.falseFn,t.onmousemove=u.Util.falseFn,u.Browser.ielt9&&this.options.opacity<1&&u.DomUtil.setOpacity(t,this.options.opacity),u.Browser.android&&!u.Browser.android23&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),r=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),u.bind(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&u.Util.requestAnimFrame(u.bind(this._tileReady,this,t,null,o)),u.DomUtil.setPosition(o,n),this._tiles[r]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){if(this._map){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var r=this._tileCoordsToKey(t);n=this._tiles[r],n&&(n.loaded=+new Date,this._map._fadeAnimated?(u.DomUtil.setOpacity(n.el,0),u.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=u.Util.requestAnimFrame(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(u.DomUtil.addClass(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),u.Browser.ielt9||!this._map._fadeAnimated?u.Util.requestAnimFrame(this._pruneTiles,this):setTimeout(u.bind(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new u.Point(this._wrapX?u.Util.wrapNum(t.x,this._wrapX):t.x,this._wrapY?u.Util.wrapNum(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new u.Bounds(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),u.gridLayer=function(t){return new u.GridLayer(t)},u.TileLayer=u.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=u.setOptions(this,e),e.detectRetina&&u.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),u.Browser.android||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=a.createElement("img");return u.DomEvent.on(n,"load",u.bind(this._tileOnLoad,this,e,n)),u.DomEvent.on(n,"error",u.bind(this._tileOnError,this,e,n)),this.options.crossOrigin&&(n.crossOrigin=""),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:u.Browser.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return u.Util.template(this._url,u.extend(e,this.options))},_tileOnLoad:function(t,e){u.Browser.ielt9?setTimeout(u.bind(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var r=this.options.errorTileUrl;r&&(e.src=r),t(n,e)},getTileSize:function(){var t=this._map,e=u.GridLayer.prototype.getTileSize.call(this),n=this._tileZoom+this.options.zoomOffset,r=this.options.maxNativeZoom;return null!==r&&n>r?e.divideBy(t.getZoomScale(r,n)).round():e},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this.options,e=this._tileZoom;return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,null!==t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=u.Util.falseFn,e.onerror=u.Util.falseFn,e.complete||(e.src=u.Util.emptyImageUrl,u.DomUtil.remove(e)))}}),u.tileLayer=function(t,e){return new u.TileLayer(t,e)},u.TileLayer.WMS=u.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=u.extend({},this.defaultWmsParams);for(var r in e)r in this.options||(n[r]=e[r]);e=u.setOptions(this,e),n.width=n.height=e.tileSize*(e.detectRetina&&u.Browser.retina?2:1),this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,u.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),n=this._crs.project(e.getNorthWest()),r=this._crs.project(e.getSouthEast()),o=(this._wmsVersion>=1.3&&this._crs===u.CRS.EPSG4326?[r.y,n.x,n.y,r.x]:[n.x,r.y,r.x,n.y]).join(","),i=u.TileLayer.prototype.getTileUrl.call(this,t);return i+u.Util.getParamString(this.wmsParams,i,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(t,e){return u.extend(this.wmsParams,t),e||this.redraw(),this}}),u.tileLayer.wms=function(t,e){return new u.TileLayer.WMS(t,e)},u.ImageOverlay=u.Layer.extend({options:{opacity:1,alt:"",interactive:!1,attribution:null,crossOrigin:!1},initialize:function(t,e,n){this._url=t,this._bounds=u.latLngBounds(e),u.setOptions(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(u.DomUtil.addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){u.DomUtil.remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&u.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&u.DomUtil.toBack(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=t,this._map&&this._reset(),this},getAttribution:function(){return this.options.attribution},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=u.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));t.onselectstart=u.Util.falseFn,t.onmousemove=u.Util.falseFn,t.onload=u.bind(this.fire,this,"load"),this.options.crossOrigin&&(t.crossOrigin=""),
t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngToNewLayerPoint(this._bounds.getNorthWest(),t.zoom,t.center);u.DomUtil.setTransform(this._image,n,e)},_reset:function(){var t=this._image,e=new u.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();u.DomUtil.setPosition(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){u.DomUtil.setOpacity(this._image,this.options.opacity)}}),u.imageOverlay=function(t,e,n){return new u.ImageOverlay(t,e,n)},u.Icon=u.Class.extend({initialize:function(t){u.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(r,t),r},_setIconStyles:function(t,e){var n=this.options,r=n[e+"Size"];"number"==typeof r&&(r=[r,r]);var o=u.point(r),i=u.point("shadow"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),i&&(t.style.marginLeft=-i.x+"px",t.style.marginTop=-i.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return e=e||a.createElement("img"),e.src=t,e},_getIconUrl:function(t){return u.Browser.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),u.icon=function(t){return new u.Icon(t)},u.Icon.Default=u.Icon.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return u.Icon.Default.imagePath||(u.Icon.Default.imagePath=this._detectIconPath()),(this.options.imagePath||u.Icon.Default.imagePath)+u.Icon.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=u.DomUtil.create("div","leaflet-default-icon-path",a.body),e=u.DomUtil.getStyle(t,"background-image")||u.DomUtil.getStyle(t,"backgroundImage");return a.body.removeChild(t),0===e.indexOf("url")?e.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,""):""}}),u.Marker=u.Layer.extend({options:{icon:new u.Icon.Default,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover","mouseout","contextmenu"]},initialize:function(t,e){u.setOptions(this,e),this._latlng=u.latLng(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=u.latLng(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,t.title&&(n.title=t.title),t.alt&&(n.alt=t.alt)),u.DomUtil.addClass(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),i=!1;o!==this._shadow&&(this._removeShadow(),i=!0),o&&u.DomUtil.addClass(o,e),this._shadow=o,t.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&i&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),u.DomUtil.remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&u.DomUtil.remove(this._shadow),this._shadow=null},_setPos:function(t){u.DomUtil.setPosition(this._icon,t),this._shadow&&u.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(u.DomUtil.addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),u.Handler.MarkerDrag)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new u.Handler.MarkerDrag(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;u.DomUtil.setOpacity(this._icon,t),this._shadow&&u.DomUtil.setOpacity(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),u.marker=function(t,e){return new u.Marker(t,e)},u.DivIcon=u.Icon.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:a.createElement("div"),n=this.options;if(e.innerHTML=n.html!==!1?n.html:"",n.bgPos){var r=u.point(n.bgPos);e.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}),u.divIcon=function(t){return new u.DivIcon(t)},u.DivOverlay=u.Layer.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){u.setOptions(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&u.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&u.DomUtil.setOpacity(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(u.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(u.bind(u.DomUtil.remove,u.DomUtil,this._container),200)):u.DomUtil.remove(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=u.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&u.DomUtil.toFront(this._container),this},bringToBack:function(){return this._map&&u.DomUtil.toBack(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=u.point(this.options.offset),n=this._getAnchor();this._zoomAnimated?u.DomUtil.setPosition(this._container,t.add(n)):e=e.add(t).add(n);var r=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=r+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),u.Popup=u.DivOverlay.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){u.DivOverlay.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof u.Path||this._source.on("preclick",u.DomEvent.stopPropagation))},onRemove:function(t){u.DivOverlay.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof u.Path||this._source.off("preclick",u.DomEvent.stopPropagation))},getEvents:function(){var t=u.DivOverlay.prototype.getEvents.call(this);return("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=u.DomUtil.create("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated");if(this.options.closeButton){var n=this._closeButton=u.DomUtil.create("a",t+"-close-button",e);n.href="#close",n.innerHTML="&#215;",u.DomEvent.on(n,"click",this._onCloseButtonClick,this)}var r=this._wrapper=u.DomUtil.create("div",t+"-content-wrapper",e);this._contentNode=u.DomUtil.create("div",t+"-content",r),u.DomEvent.disableClickPropagation(r).disableScrollPropagation(this._contentNode).on(r,"contextmenu",u.DomEvent.stopPropagation),this._tipContainer=u.DomUtil.create("div",t+"-tip-container",e),this._tip=u.DomUtil.create("div",t+"-tip",this._tipContainer)},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var r=t.offsetHeight,o=this.options.maxHeight,i="leaflet-popup-scrolled";o&&r>o?(e.height=o+"px",u.DomUtil.addClass(t,i)):u.DomUtil.removeClass(t,i),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();u.DomUtil.setPosition(this._container,e.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(u.DomUtil.getStyle(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,r=this._containerWidth,o=new u.Point(this._containerLeft,-n-this._containerBottom);o._add(u.DomUtil.getPosition(this._container));var i=t.layerPointToContainerPoint(o),a=u.point(this.options.autoPanPadding),s=u.point(this.options.autoPanPaddingTopLeft||a),l=u.point(this.options.autoPanPaddingBottomRight||a),c=t.getSize(),f=0,p=0;i.x+r+l.x>c.x&&(f=i.x+r-c.x+l.x),i.x-f-s.x<0&&(f=i.x-s.x),i.y+n+l.y>c.y&&(p=i.y+n-c.y+l.y),i.y-p-s.y<0&&(p=i.y-s.y),(f||p)&&t.fire("autopanstart").panBy([f,p])}},_onCloseButtonClick:function(t){this._close(),u.DomEvent.stop(t)},_getAnchor:function(){return u.point(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),u.popup=function(t,e){return new u.Popup(t,e)},u.Map.mergeOptions({closePopupOnClick:!0}),u.Map.include({openPopup:function(t,e,n){return t instanceof u.Popup||(t=new u.Popup(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),u.Layer.include({bindPopup:function(t,e){return t instanceof u.Popup?(u.setOptions(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new u.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof u.Layer||(e=t,t=this),t instanceof u.FeatureGroup)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(this._popup&&this._map)return u.DomEvent.stop(t),e instanceof u.Path?void this.openPopup(t.layer||t.target,t.latlng):void(this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),u.Marker.include({_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]}}),u.Tooltip=u.DivOverlay.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){u.DivOverlay.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){u.DivOverlay.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=u.DivOverlay.prototype.getEvents.call(this);return u.Browser.touch&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=u.DomUtil.create("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,r=e.latLngToContainerPoint(e.getCenter()),o=e.layerPointToContainerPoint(t),i=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,l=u.point(this.options.offset),c=this._getAnchor();"top"===i?t=t.add(u.point(-a/2+l.x,-s+l.y+c.y)):"bottom"===i?t=t.subtract(u.point(a/2-l.x,-l.y)):"center"===i?t=t.subtract(u.point(a/2+l.x,s/2-c.y+l.y)):"right"===i||"auto"===i&&o.x<r.x?(i="right",t=t.add([l.x+c.x,c.y-s/2+l.y])):(i="left",t=t.subtract(u.point(a+c.x-l.x,s/2-c.y-l.y))),u.DomUtil.removeClass(n,"leaflet-tooltip-right"),u.DomUtil.removeClass(n,"leaflet-tooltip-left"),u.DomUtil.removeClass(n,"leaflet-tooltip-top"),u.DomUtil.removeClass(n,"leaflet-tooltip-bottom"),u.DomUtil.addClass(n,"leaflet-tooltip-"+i),u.DomUtil.setPosition(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&u.DomUtil.setOpacity(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return u.point(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),u.tooltip=function(t,e){return new u.Tooltip(t,e)},u.Map.include({openTooltip:function(t,e,n){return t instanceof u.Tooltip||(t=new u.Tooltip(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),u.Layer.include({bindTooltip:function(t,e){return t instanceof u.Tooltip?(u.setOptions(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=u.tooltip(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),u.Browser.touch&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof u.Layer||(e=t,t=this),t instanceof u.FeatureGroup)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(u.DomUtil.addClass(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(u.DomUtil.removeClass(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:s)},_moveTooltip:function(t){var e,n,r=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}}),u.Marker.include({_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),u.LayerGroup=u.Layer.extend({initialize:function(t){this._layers={};var e,n;if(t)for(e=0,n=t.length;e<n;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var e,n,r=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,r);return this},onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return u.stamp(t)}}),u.layerGroup=function(t){return new u.LayerGroup(t)},u.FeatureGroup=u.LayerGroup.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),u.LayerGroup.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),u.LayerGroup.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new u.LatLngBounds;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),u.featureGroup=function(t){return new u.FeatureGroup(t)},u.Renderer=u.Layer.extend({options:{padding:.1},initialize:function(t){u.setOptions(this,t),u.stamp(this)},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&u.DomUtil.addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update()},onRemove:function(){u.DomUtil.remove(this._container)},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),r=u.DomUtil.getPosition(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,e),a=this._map.project(t,e),s=a.subtract(i),l=o.multiplyBy(-n).add(r).add(o).subtract(s);u.Browser.any3d?u.DomUtil.setTransform(this._container,l,n):u.DomUtil.setPosition(this._container,l)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom)},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new u.Bounds(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),u.Map.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&u.canvas()||u.svg()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||t===s)return!1;var e=this._paneRenderers[t];return e===s&&(e=u.SVG&&u.svg({pane:t})||u.Canvas&&u.canvas({pane:t}),this._paneRenderers[t]=e),e}}),u.Path=u.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this),this._renderer.on("update",this._update,this)},onRemove:function(){this._renderer._removePath(this),this._renderer.off("update",this._update,this)},getEvents:function(){return{zoomend:this._project,viewreset:this._reset}},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return u.setOptions(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(u.Browser.touch?10:0)}}),u.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=this._reducePoints(t,n),t=this._simplifyDP(t,n)},pointToSegmentDistance:function(t,e,n){return Math.sqrt(this._sqClosestPointOnSegment(t,e,n,!0))},closestPointOnSegment:function(t,e,n){return this._sqClosestPointOnSegment(t,e,n)},_simplifyDP:function(t,e){var n=t.length,r=typeof Uint8Array!=s+""?Uint8Array:Array,o=new r(n);o[0]=o[n-1]=1,this._simplifyDPStep(t,o,e,0,n-1);var i,a=[];for(i=0;i<n;i++)o[i]&&a.push(t[i]);return a},_simplifyDPStep:function(t,e,n,r,o){var i,a,s,l=0;for(a=r+1;a<=o-1;a++)s=this._sqClosestPointOnSegment(t[a],t[r],t[o],!0),s>l&&(i=a,l=s);l>n&&(e[i]=1,this._simplifyDPStep(t,e,n,r,i),this._simplifyDPStep(t,e,n,i,o))},_reducePoints:function(t,e){for(var n=[t[0]],r=1,o=0,i=t.length;r<i;r++)this._sqDist(t[r],t[o])>e&&(n.push(t[r]),o=r);return o<i-1&&n.push(t[i-1]),n},clipSegment:function(t,e,n,r,o){var i,a,s,l=r?this._lastCode:this._getBitCode(t,n),u=this._getBitCode(e,n);for(this._lastCode=u;;){if(!(l|u))return[t,e];if(l&u)return!1;i=l||u,a=this._getEdgeIntersection(t,e,i,n,o),s=this._getBitCode(a,n),i===l?(t=a,l=s):(e=a,u=s)}},_getEdgeIntersection:function(t,e,n,r,o){var i,a,s=e.x-t.x,l=e.y-t.y,c=r.min,f=r.max;return 8&n?(i=t.x+s*(f.y-t.y)/l,a=f.y):4&n?(i=t.x+s*(c.y-t.y)/l,a=c.y):2&n?(i=f.x,a=t.y+l*(f.x-t.x)/s):1&n&&(i=c.x,a=t.y+l*(c.x-t.x)/s),new u.Point(i,a,o)},_getBitCode:function(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n},_sqDist:function(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r},_sqClosestPointOnSegment:function(t,e,n,r){var o,i=e.x,a=e.y,s=n.x-i,l=n.y-a,c=s*s+l*l;return c>0&&(o=((t.x-i)*s+(t.y-a)*l)/c,o>1?(i=n.x,a=n.y):o>0&&(i+=s*o,a+=l*o)),s=t.x-i,l=t.y-a,r?s*s+l*l:new u.Point(i,a)}},u.Polyline=u.Path.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){u.setOptions(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,r=1/0,o=null,i=u.LineUtil._sqClosestPointOnSegment,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],c=1,f=l.length;c<f;c++){e=l[c-1],n=l[c];var p=i(t,e,n,!0);p<r&&(r=p,o=i(t,e,n))}return o&&(o.distance=Math.sqrt(r)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,o,i,a,s=this._rings[0],l=s.length;if(!l)return null;for(t=0,e=0;t<l-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(t=0,r=0;t<l-1;t++)if(o=s[t],i=s[t+1],n=o.distanceTo(i),r+=n,r>e)return a=(r-e)/n,this._map.layerPointToLatLng([i.x-a*(i.x-o.x),i.y-a*(i.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=u.latLng(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new u.LatLngBounds,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return u.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=u.Polyline._flat(t),r=0,o=t.length;r<o;r++)n?(e[r]=u.latLng(t[r]),this._bounds.extend(e[r])):e[r]=this._convertLatLngs(t[r]);return e},_project:function(){var t=new u.Bounds;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new u.Point(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,e,n){var r,o,i=t[0]instanceof u.LatLng,a=t.length;if(i){for(o=[],r=0;r<a;r++)o[r]=this._map.latLngToLayerPoint(t[r]),n.extend(o[r]);e.push(o)}else for(r=0;r<a;r++)this._projectLatlngs(t[r],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var e,n,r,o,i,a,s,l=this._parts;for(e=0,r=0,o=this._rings.length;e<o;e++)for(s=this._rings[e],n=0,i=s.length;n<i-1;n++)a=u.LineUtil.clipSegment(s[n],s[n+1],t,n,!0),a&&(l[r]=l[r]||[],l[r].push(a[0]),a[1]===s[n+1]&&n!==i-2||(l[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,r=t.length;n<r;n++)t[n]=u.LineUtil.simplify(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)}}),u.polyline=function(t,e){return new u.Polyline(t,e)},u.Polyline._flat=function(t){return!u.Util.isArray(t[0])||"object"!=typeof t[0][0]&&"undefined"!=typeof t[0][0]},u.PolyUtil={},u.PolyUtil.clipPolygon=function(t,e,n){var r,o,i,a,s,l,c,f,p,h=[1,4,2,8],d=u.LineUtil;for(o=0,c=t.length;o<c;o++)t[o]._code=d._getBitCode(t[o],e);for(a=0;a<4;a++){for(f=h[a],r=[],o=0,c=t.length,i=c-1;o<c;i=o++)s=t[o],l=t[i],s._code&f?l._code&f||(p=d._getEdgeIntersection(l,s,f,e,n),p._code=d._getBitCode(p,e),r.push(p)):(l._code&f&&(p=d._getEdgeIntersection(l,s,f,e,n),p._code=d._getBitCode(p,e),r.push(p)),r.push(s));t=r}return t},u.Polygon=u.Polyline.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,o,i,a,s,l,u=this._rings[0],c=u.length;if(!c)return null;for(i=a=s=0,t=0,e=c-1;t<c;e=t++)n=u[t],r=u[e],o=n.y*r.x-r.y*n.x,a+=(n.x+r.x)*o,s+=(n.y+r.y)*o,i+=3*o;return l=0===i?u[0]:[a/i,s/i],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=u.Polyline.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof u.LatLng&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){u.Polyline.prototype._setLatLngs.call(this,t),u.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return u.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new u.Point(e,e);if(t=new u.Bounds(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var r,o=0,i=this._rings.length;o<i;o++)r=u.PolyUtil.clipPolygon(this._rings[o],t,!0),r.length&&this._parts.push(r)}},_updatePath:function(){this._renderer._updatePoly(this,!0)}}),u.polygon=function(t,e){return new u.Polygon(t,e)},u.Rectangle=u.Polygon.extend({initialize:function(t,e){u.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=u.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),u.rectangle=function(t,e){return new u.Rectangle(t,e)},u.CircleMarker=u.Path.extend({options:{fill:!0,radius:10},initialize:function(t,e){u.setOptions(this,e),this._latlng=u.latLng(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=u.latLng(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return u.Path.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),r=[t+n,e+n];this._pxBounds=new u.Bounds(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}}),u.circleMarker=function(t,e){return new u.CircleMarker(t,e)},u.Circle=u.CircleMarker.extend({initialize:function(t,e,n){if("number"==typeof e&&(e=u.extend({},n,{radius:e})),u.setOptions(this,e),this._latlng=u.latLng(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,
this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new u.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:u.Path.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===u.CRS.Earth.distance){var o=Math.PI/180,i=this._mRadius/u.CRS.Earth.R/o,a=n.project([e+i,t]),s=n.project([e-i,t]),l=a.add(s).divideBy(2),c=n.unproject(l).lat,f=Math.acos((Math.cos(i*o)-Math.sin(e*o)*Math.sin(c*o))/(Math.cos(e*o)*Math.cos(c*o)))/o;(isNaN(f)||0===f)&&(f=i/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(f)?0:Math.max(Math.round(l.x-n.project([c,t-f]).x),1),this._radiusY=Math.max(Math.round(l.y-a.y),1)}else{var p=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(p).x}this._updateBounds()}}),u.circle=function(t,e,n){return new u.Circle(t,e,n)},u.SVG=u.Renderer.extend({getEvents:function(){var t=u.Renderer.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=u.SVG.create("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=u.SVG.create("g"),this._container.appendChild(this._rootGroup)},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){u.Renderer.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),u.DomUtil.setPosition(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=u.SVG.create("path");t.options.className&&u.DomUtil.addClass(e,t.options.className),t.options.interactive&&u.DomUtil.addClass(e,"leaflet-interactive"),this._updateStyle(t)},_addPath:function(t){this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){u.DomUtil.remove(t._path),t.removeInteractiveTarget(t._path)},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,u.SVG.pointsToPath(t._parts,e))},_updateCircle:function(t){var e=t._point,n=t._radius,r=t._radiusY||n,o="a"+n+","+r+" 0 1,0 ",i=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+o+2*n+",0 "+o+2*-n+",0 ";this._setPath(t,i)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){u.DomUtil.toFront(t._path)},_bringToBack:function(t){u.DomUtil.toBack(t._path)}}),u.extend(u.SVG,{create:function(t){return a.createElementNS("http://www.w3.org/2000/svg",t)},pointsToPath:function(t,e){var n,r,o,i,a,s,l="";for(n=0,o=t.length;n<o;n++){for(a=t[n],r=0,i=a.length;r<i;r++)s=a[r],l+=(r?"L":"M")+s.x+" "+s.y;l+=e?u.Browser.svg?"z":"x":""}return l||"M0 0"}}),u.Browser.svg=!(!a.createElementNS||!u.SVG.create("svg").createSVGRect),u.svg=function(t){return u.Browser.svg||u.Browser.vml?new u.SVG(t):null},u.Browser.vml=!u.Browser.svg&&function(){try{var t=a.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(n){return!1}}(),u.SVG.include(u.Browser.vml?{_initContainer:function(){this._container=u.DomUtil.create("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(u.Renderer.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=u.SVG.create("shape");u.DomUtil.addClass(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=u.SVG.create("path"),e.appendChild(t._path),this._updateStyle(t)},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;u.DomUtil.remove(e),t.removeInteractiveTarget(e)},_updateStyle:function(t){var e=t._stroke,n=t._fill,r=t.options,o=t._container;o.stroked=!!r.stroke,o.filled=!!r.fill,r.stroke?(e||(e=t._stroke=u.SVG.create("stroke")),o.appendChild(e),e.weight=r.weight+"px",e.color=r.color,e.opacity=r.opacity,r.dashArray?e.dashStyle=u.Util.isArray(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=r.lineCap.replace("butt","flat"),e.joinstyle=r.lineJoin):e&&(o.removeChild(e),t._stroke=null),r.fill?(n||(n=t._fill=u.SVG.create("fill")),o.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),r=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+r+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){u.DomUtil.toFront(t._container)},_bringToBack:function(t){u.DomUtil.toBack(t._container)}}:{}),u.Browser.vml&&(u.SVG.create=function(){try{return a.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return a.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return a.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),u.Canvas=u.Renderer.extend({onAdd:function(){u.Renderer.prototype.onAdd.call(this),this._layers=this._layers||{},this._draw()},_initContainer:function(){var t=this._container=a.createElement("canvas");u.DomEvent.on(t,"mousemove",u.Util.throttle(this._onMouseMove,32,this),this).on(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this).on(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},u.Renderer.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),r=u.Browser.retina?2:1;u.DomUtil.setPosition(e,t.min),e.width=r*n.x,e.height=r*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",u.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_initPath:function(t){this._updateDashArray(t),this._layers[u.stamp(t)]=t},_addPath:u.Util.falseFn,_removePath:function(t){t._removed=!0,this._requestRedraw(t)},_updatePath:function(t){this._redrawBounds=t._pxBounds,this._draw(!0),t._project(),t._update(),this._draw(),this._redrawBounds=null},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,n=t.options.dashArray.split(","),r=[];for(e=0;e<n.length;e++)r.push(Number(n[e]));t.options._dashArray=r}},_requestRedraw:function(t){if(this._map){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new u.Bounds,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e])),this._redrawRequest=this._redrawRequest||u.Util.requestAnimFrame(this._redraw,this)}},_redraw:function(){this._redrawRequest=null,this._draw(!0),this._draw(),this._redrawBounds=null},_draw:function(t){this._clear=t;var e,n=this._redrawBounds;this._ctx.save(),n&&(this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,n.max.x-n.min.x,n.max.y-n.min.y),this._ctx.clip());for(var r in this._layers)e=this._layers[r],(!n||e._pxBounds&&e._pxBounds.intersects(n))&&e._updatePath(),t&&e._removed&&(delete e._removed,delete this._layers[r]);this._ctx.restore()},_updatePoly:function(t,e){var n,r,o,i,a=t._parts,s=a.length,l=this._ctx;if(s){for(this._drawnLayers[t._leaflet_id]=t,l.beginPath(),l.setLineDash&&l.setLineDash(t.options&&t.options._dashArray||[]),n=0;n<s;n++){for(r=0,o=a[n].length;r<o;r++)i=a[n][r],l[r?"lineTo":"moveTo"](i.x,i.y);e&&l.closePath()}this._fillStroke(l,t)}},_updateCircle:function(t){if(!t._empty()){var e=t._point,n=this._ctx,r=t._radius,o=(t._radiusY||r)/r;this._drawnLayers[t._leaflet_id]=t,1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,r,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=this._clear,r=e.options;t.globalCompositeOperation=n?"destination-out":"source-over",r.fill&&(t.globalAlpha=n?1:r.fillOpacity,t.fillStyle=r.fillColor||r.color,t.fill(r.fillRule||"evenodd")),r.stroke&&0!==r.weight&&(t.globalAlpha=n?1:r.opacity,e._prevWeight=t.lineWidth=n?e._prevWeight+1:r.weight,t.strokeStyle=r.color,t.lineCap=r.lineCap,t.lineJoin=r.lineJoin,t.stroke())},_onClick:function(t){var e,n=this._map.mouseEventToLayerPoint(t),r=[];for(var o in this._layers)e=this._layers[o],e.options.interactive&&e._containsPoint(n)&&!this._map._draggableMoved(e)&&(u.DomEvent._fakeStop(t),r.push(e));r.length&&this._fireEvent(r,t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseOut(t,e),this._handleMouseHover(t,e)}},_handleMouseOut:function(t,e){var n=this._hoveredLayer;!n||"mouseout"!==t.type&&n._containsPoint(e)||(u.DomUtil.removeClass(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){var n,r;for(n in this._drawnLayers)r=this._drawnLayers[n],r.options.interactive&&r._containsPoint(e)&&(u.DomUtil.addClass(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseover"),this._hoveredLayer=r);this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:u.Util.falseFn,_bringToBack:u.Util.falseFn}),u.Browser.canvas=function(){return!!a.createElement("canvas").getContext}(),u.canvas=function(t){return u.Browser.canvas?new u.Canvas(t):null},u.Polyline.prototype._containsPoint=function(t,e){var n,r,o,i,a,s,l=this._clickTolerance();if(!this._pxBounds.contains(t))return!1;for(n=0,i=this._parts.length;n<i;n++)for(s=this._parts[n],r=0,a=s.length,o=a-1;r<a;o=r++)if((e||0!==r)&&u.LineUtil.pointToSegmentDistance(t,s[o],s[r])<=l)return!0;return!1},u.Polygon.prototype._containsPoint=function(t){var e,n,r,o,i,a,s,l,c=!1;if(!this._pxBounds.contains(t))return!1;for(o=0,s=this._parts.length;o<s;o++)for(e=this._parts[o],i=0,l=e.length,a=l-1;i<l;a=i++)n=e[i],r=e[a],n.y>t.y!=r.y>t.y&&t.x<(r.x-n.x)*(t.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||u.Polyline.prototype._containsPoint.call(this,t,!0)},u.CircleMarker.prototype._containsPoint=function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()},u.GeoJSON=u.FeatureGroup.extend({initialize:function(t,e){u.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,r,o=u.Util.isArray(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)r=o[e],(r.geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var i=this.options;if(i.filter&&!i.filter(t))return this;var a=u.GeoJSON.geometryToLayer(t,i);return a?(a.feature=u.GeoJSON.asFeature(t),a.defaultOptions=a.options,this.resetStyle(a),i.onEachFeature&&i.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=u.Util.extend({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),u.extend(u.GeoJSON,{geometryToLayer:function(t,e){var n,r,o,i,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,l=[],c=e&&e.pointToLayer,f=e&&e.coordsToLatLng||this.coordsToLatLng;if(!s&&!a)return null;switch(a.type){case"Point":return n=f(s),c?c(t,n):new u.Marker(n);case"MultiPoint":for(o=0,i=s.length;o<i;o++)n=f(s[o]),l.push(c?c(t,n):new u.Marker(n));return new u.FeatureGroup(l);case"LineString":case"MultiLineString":return r=this.coordsToLatLngs(s,"LineString"===a.type?0:1,f),new u.Polyline(r,e);case"Polygon":case"MultiPolygon":return r=this.coordsToLatLngs(s,"Polygon"===a.type?1:2,f),new u.Polygon(r,e);case"GeometryCollection":for(o=0,i=a.geometries.length;o<i;o++){var p=this.geometryToLayer({geometry:a.geometries[o],type:"Feature",properties:t.properties},e);p&&l.push(p)}return new u.FeatureGroup(l);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new u.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,n){for(var r,o=[],i=0,a=t.length;i<a;i++)r=e?this.coordsToLatLngs(t[i],e-1,n):(n||this.coordsToLatLng)(t[i]),o.push(r);return o},latLngToCoords:function(t){return t.alt!==s?[t.lng,t.lat,t.alt]:[t.lng,t.lat]},latLngsToCoords:function(t,e,n){for(var r=[],o=0,i=t.length;o<i;o++)r.push(e?u.GeoJSON.latLngsToCoords(t[o],e-1,n):u.GeoJSON.latLngToCoords(t[o]));return!e&&n&&r.push(r[0]),r},getFeature:function(t,e){return t.feature?u.extend({},t.feature,{geometry:e}):u.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var f={toGeoJSON:function(){return u.GeoJSON.getFeature(this,{type:"Point",coordinates:u.GeoJSON.latLngToCoords(this.getLatLng())})}};u.Marker.include(f),u.Circle.include(f),u.CircleMarker.include(f),u.Polyline.prototype.toGeoJSON=function(){var t=!u.Polyline._flat(this._latlngs),e=u.GeoJSON.latLngsToCoords(this._latlngs,t?1:0);return u.GeoJSON.getFeature(this,{type:(t?"Multi":"")+"LineString",coordinates:e})},u.Polygon.prototype.toGeoJSON=function(){var t=!u.Polyline._flat(this._latlngs),e=t&&!u.Polyline._flat(this._latlngs[0]),n=u.GeoJSON.latLngsToCoords(this._latlngs,e?2:t?1:0,!0);return t||(n=[n]),u.GeoJSON.getFeature(this,{type:(e?"Multi":"")+"Polygon",coordinates:n})},u.LayerGroup.include({toMultiPoint:function(){var t=[];return this.eachLayer(function(e){t.push(e.toGeoJSON().geometry.coordinates)}),u.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint();var e="GeometryCollection"===t,n=[];return this.eachLayer(function(t){if(t.toGeoJSON){var r=t.toGeoJSON();n.push(e?r.geometry:u.GeoJSON.asFeature(r))}}),e?u.GeoJSON.getFeature(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}}),u.geoJSON=function(t,e){return new u.GeoJSON(t,e)},u.geoJson=u.geoJSON;var p="_leaflet_events";u.DomEvent={on:function(t,e,n,r){if("object"==typeof e)for(var o in e)this._on(t,o,e[o],n);else{e=u.Util.splitWords(e);for(var i=0,a=e.length;i<a;i++)this._on(t,e[i],n,r)}return this},off:function(t,e,n,r){if("object"==typeof e)for(var o in e)this._off(t,o,e[o],n);else{e=u.Util.splitWords(e);for(var i=0,a=e.length;i<a;i++)this._off(t,e[i],n,r)}return this},_on:function(t,e,n,r){var o=e+u.stamp(n)+(r?"_"+u.stamp(r):"");if(t[p]&&t[p][o])return this;var a=function(e){return n.call(r||t,e||i.event)},s=a;return u.Browser.pointer&&0===e.indexOf("touch")?this.addPointerListener(t,e,a,o):u.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener?this.addDoubleTapListener(t,a,o):"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",a,!1):"mouseenter"===e||"mouseleave"===e?(a=function(e){e=e||i.event,u.DomEvent._isExternalTarget(t,e)&&s(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",a,!1)):("click"===e&&u.Browser.android&&(a=function(t){return u.DomEvent._filterClick(t,s)}),t.addEventListener(e,a,!1)):"attachEvent"in t&&t.attachEvent("on"+e,a),t[p]=t[p]||{},t[p][o]=a,this},_off:function(t,e,n,r){var o=e+u.stamp(n)+(r?"_"+u.stamp(r):""),i=t[p]&&t[p][o];return i?(u.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,o):u.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,o):"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",i,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,i,!1):"detachEvent"in t&&t.detachEvent("on"+e,i),t[p][o]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,u.DomEvent._skipped(t),this},disableScrollPropagation:function(t){return u.DomEvent.on(t,"mousewheel",u.DomEvent.stopPropagation)},disableClickPropagation:function(t){var e=u.DomEvent.stopPropagation;return u.DomEvent.on(t,u.Draggable.START.join(" "),e),u.DomEvent.on(t,{click:u.DomEvent._fakeStop,dblclick:e})},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return u.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new u.Point(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new u.Point(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},_wheelPxFactor:u.Browser.win&&u.Browser.chrome?2:u.Browser.gecko?i.devicePixelRatio:1,getWheelDelta:function(t){return u.Browser.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/u.DomEvent._wheelPxFactor:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0},_skipEvents:{},_fakeStop:function(t){u.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_isExternalTarget:function(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(r){return!1}return n!==t},_filterClick:function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,r=u.DomEvent._lastClick&&n-u.DomEvent._lastClick;return r&&r>100&&r<500||t.target._simulatedClick&&!t._simulated?void u.DomEvent.stop(t):(u.DomEvent._lastClick=n,void e(t))}},u.DomEvent.addListener=u.DomEvent.on,u.DomEvent.removeListener=u.DomEvent.off,u.Draggable=u.Evented.extend({options:{clickTolerance:3},statics:{START:u.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e,n){this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(u.DomEvent.on(this._dragStartTarget,u.Draggable.START.join(" "),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(u.DomEvent.off(this._dragStartTarget,u.Draggable.START.join(" "),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!u.DomUtil.hasClass(this._element,"leaflet-zoom-anim")&&!(u.Draggable._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&this._enabled&&(u.Draggable._dragging=!0,this._preventOutline&&u.DomUtil.preventOutline(this._element),u.DomUtil.disableImageDrag(),u.DomUtil.disableTextSelection(),!this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new u.Point(e.clientX,e.clientY),u.DomEvent.on(a,u.Draggable.MOVE[t.type],this._onMove,this).on(a,u.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new u.Point(e.clientX,e.clientY),r=n.subtract(this._startPoint);(r.x||r.y)&&(Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(u.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=u.DomUtil.getPosition(this._element).subtract(r),u.DomUtil.addClass(a.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,i.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),u.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,u.Util.cancelAnimFrame(this._animRequest),this._lastEvent=t,this._animRequest=u.Util.requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),u.DomUtil.setPosition(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){if(!t._simulated&&this._enabled){u.DomUtil.removeClass(a.body,"leaflet-dragging"),this._lastTarget&&(u.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var e in u.Draggable.MOVE)u.DomEvent.off(a,u.Draggable.MOVE[e],this._onMove,this).off(a,u.Draggable.END[e],this._onUp,this);u.DomUtil.enableImageDrag(),u.DomUtil.enableTextSelection(),this._moved&&this._moving&&(u.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,u.Draggable._dragging=!1}}}),u.Handler=u.Class.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),u.Map.mergeOptions({dragging:!0,inertia:!u.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),u.Map.Drag=u.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new u.Draggable(t._mapPane,t._container),this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}u.DomUtil.addClass(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){u.DomUtil.removeClass(this._map._container,"leaflet-grab"),u.DomUtil.removeClass(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDown:function(){this._map._stop()},_onDragStart:function(){var t=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=u.latLngBounds(this._map.options.maxBounds);this._offsetLimit=u.bounds(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),e-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,o=(r-e+n)%t+e-n,i=(r+e+n)%t-e-n,a=Math.abs(o+n)<Math.abs(i+n)?o:i;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,r=!n.inertia||this._times.length<2;if(e.fire("dragend",t),r)e.fire("moveend");else{var o=this._lastPos.subtract(this._positions[0]),i=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=o.multiplyBy(a/i),l=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),f=s.multiplyBy(c/l),p=c/(n.inertiaDeceleration*a),h=f.multiplyBy(-p/2).round();h.x||h.y?(h=e._limitOffset(h,e.options.maxBounds),u.Util.requestAnimFrame(function(){e.panBy(h,{duration:p,easeLinearity:a,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}}),u.Map.addInitHook("addHandler","dragging",u.Map.Drag),u.Map.mergeOptions({doubleClickZoom:!0}),u.Map.DoubleClickZoom=u.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),r=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-r:n+r;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}}),u.Map.addInitHook("addHandler","doubleClickZoom",u.Map.DoubleClickZoom),u.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),u.Map.ScrollWheelZoom=u.Handler.extend({addHooks:function(){u.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){u.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=u.DomEvent.getWheelDelta(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u.bind(this._performZoom,this),r),u.DomEvent.stop(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,i=n?Math.ceil(o/n)*n:o,a=t._limitZoom(e+(this._delta>0?i:-i))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}}),u.Map.addInitHook("addHandler","scrollWheelZoom",u.Map.ScrollWheelZoom),u.extend(u.DomEvent,{_touchstart:u.Browser.msPointer?"MSPointerDown":u.Browser.pointer?"pointerdown":"touchstart",_touchend:u.Browser.msPointer?"MSPointerUp":u.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,e,n){function r(t){var e;if(e=u.Browser.pointer?u.DomEvent._pointersCount:t.touches.length,!(e>1)){var n=Date.now(),r=n-(i||n);a=t.touches?t.touches[0]:t,s=r>0&&r<=l,i=n}}function o(){if(s&&!a.cancelBubble){if(u.Browser.pointer){var t,n,r={};for(n in a)t=a[n],r[n]=t&&t.bind?t.bind(a):t;a=r}a.type="dblclick",e(a),i=null}}var i,a,s=!1,l=250,c="_leaflet_",f=this._touchstart,p=this._touchend;return t[c+f+n]=r,t[c+p+n]=o,t[c+"dblclick"+n]=e,t.addEventListener(f,r,!1),t.addEventListener(p,o,!1),u.Browser.edge||t.addEventListener("dblclick",e,!1),this},removeDoubleTapListener:function(t,e){var n="_leaflet_",r=t[n+this._touchstart+e],o=t[n+this._touchend+e],i=t[n+"dblclick"+e];return t.removeEventListener(this._touchstart,r,!1),t.removeEventListener(this._touchend,o,!1),u.Browser.edge||t.removeEventListener("dblclick",i,!1),this}}),u.extend(u.DomEvent,{POINTER_DOWN:u.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:u.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:u.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:u.Browser.msPointer?"MSPointerCancel":"pointercancel",TAG_WHITE_LIST:["INPUT","SELECT","OPTION"],_pointers:{},_pointersCount:0,addPointerListener:function(t,e,n,r){return"touchstart"===e?this._addPointerStart(t,n,r):"touchmove"===e?this._addPointerMove(t,n,r):"touchend"===e&&this._addPointerEnd(t,n,r),this},removePointerListener:function(t,e,n){var r=t["_leaflet_"+e+n];return"touchstart"===e?t.removeEventListener(this.POINTER_DOWN,r,!1):"touchmove"===e?t.removeEventListener(this.POINTER_MOVE,r,!1):"touchend"===e&&(t.removeEventListener(this.POINTER_UP,r,!1),t.removeEventListener(this.POINTER_CANCEL,r,!1)),this},_addPointerStart:function(t,e,n){var r=u.bind(function(t){if("mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(this.TAG_WHITE_LIST.indexOf(t.target.tagName)<0))return;u.DomEvent.preventDefault(t)}this._handlePointer(t,e)},this);if(t["_leaflet_touchstart"+n]=r,t.addEventListener(this.POINTER_DOWN,r,!1),!this._pointerDocListener){var o=u.bind(this._globalPointerUp,this);a.documentElement.addEventListener(this.POINTER_DOWN,u.bind(this._globalPointerDown,this),!0),a.documentElement.addEventListener(this.POINTER_MOVE,u.bind(this._globalPointerMove,this),!0),a.documentElement.addEventListener(this.POINTER_UP,o,!0),a.documentElement.addEventListener(this.POINTER_CANCEL,o,!0),this._pointerDocListener=!0}},_globalPointerDown:function(t){this._pointers[t.pointerId]=t,this._pointersCount++},_globalPointerMove:function(t){this._pointers[t.pointerId]&&(this._pointers[t.pointerId]=t)},_globalPointerUp:function(t){delete this._pointers[t.pointerId],this._pointersCount--},_handlePointer:function(t,e){t.touches=[];for(var n in this._pointers)t.touches.push(this._pointers[n]);t.changedTouches=[t],e(t)},_addPointerMove:function(t,e,n){var r=u.bind(function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&this._handlePointer(t,e)},this);t["_leaflet_touchmove"+n]=r,t.addEventListener(this.POINTER_MOVE,r,!1)},_addPointerEnd:function(t,e,n){var r=u.bind(function(t){this._handlePointer(t,e)},this);t["_leaflet_touchend"+n]=r,t.addEventListener(this.POINTER_UP,r,!1),t.addEventListener(this.POINTER_CANCEL,r,!1)}}),u.Map.mergeOptions({touchZoom:u.Browser.touch&&!u.Browser.android23,bounceAtZoomLimits:!0}),u.Map.TouchZoom=u.Handler.extend({addHooks:function(){u.DomUtil.addClass(this._map._container,"leaflet-touch-zoom"),u.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){u.DomUtil.removeClass(this._map._container,"leaflet-touch-zoom"),u.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),u.DomEvent.on(a,"touchmove",this._onTouchMove,this).on(a,"touchend",this._onTouchEnd,this),u.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var i=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===i.x&&0===i.y)return;
this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(i),this._zoom)}this._moved||(e._moveStart(!0),this._moved=!0),u.Util.cancelAnimFrame(this._animRequest);var a=u.bind(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=u.Util.requestAnimFrame(a,this,!0),u.DomEvent.preventDefault(t)}},_onTouchEnd:function(){return this._moved&&this._zooming?(this._zooming=!1,u.Util.cancelAnimFrame(this._animRequest),u.DomEvent.off(a,"touchmove",this._onTouchMove).off(a,"touchend",this._onTouchEnd),void(this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom)))):void(this._zooming=!1)}}),u.Map.addInitHook("addHandler","touchZoom",u.Map.TouchZoom),u.Map.mergeOptions({tap:!0,tapTolerance:15}),u.Map.Tap=u.Handler.extend({addHooks:function(){u.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){u.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(u.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new u.Point(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&u.DomUtil.addClass(n,"leaflet-active"),this._holdTimeout=setTimeout(u.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),u.DomEvent.on(a,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),u.DomEvent.off(a,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&u.DomUtil.removeClass(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new u.Point(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=a.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,i,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}}),u.Browser.touch&&!u.Browser.pointer&&u.Map.addInitHook("addHandler","tap",u.Map.Tap),u.Map.mergeOptions({boxZoom:!0}),u.Map.BoxZoom=u.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){u.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){u.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=!1},_onMouseDown:function(t){return!(!t.shiftKey||1!==t.which&&1!==t.button)&&(this._resetState(),u.DomUtil.disableTextSelection(),u.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(t),void u.DomEvent.on(a,{contextmenu:u.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=u.DomUtil.create("div","leaflet-zoom-box",this._container),u.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new u.Bounds(this._point,this._startPoint),n=e.getSize();u.DomUtil.setPosition(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(u.DomUtil.remove(this._box),u.DomUtil.removeClass(this._container,"leaflet-crosshair")),u.DomUtil.enableTextSelection(),u.DomUtil.enableImageDrag(),u.DomEvent.off(a,{contextmenu:u.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){setTimeout(u.bind(this._resetState,this),0);var e=new u.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),u.Map.addInitHook("addHandler","boxZoom",u.Map.BoxZoom),u.Map.mergeOptions({keyboard:!0,keyboardPanDelta:80}),u.Map.Keyboard=u.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),u.DomEvent.on(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),u.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=a.body,e=a.documentElement,n=t.scrollTop||e.scrollTop,r=t.scrollLeft||e.scrollLeft;this._map._container.focus(),i.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,r=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;e<n;e++)r[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;e<n;e++)r[o.right[e]]=[t,0];for(e=0,n=o.down.length;e<n;e++)r[o.down[e]]=[0,t];for(e=0,n=o.up.length;e<n;e++)r[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,r=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;e<n;e++)r[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;e<n;e++)r[o.zoomOut[e]]=-t},_addHooks:function(){u.DomEvent.on(a,"keydown",this._onKeyDown,this)},_removeHooks:function(){u.DomEvent.off(a,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,r=this._map;if(n in this._panKeys){if(r._panAnim&&r._panAnim._inProgress)return;e=this._panKeys[n],t.shiftKey&&(e=u.point(e).multiplyBy(3)),r.panBy(e),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n)return;r.closePopup()}u.DomEvent.stop(t)}}}),u.Map.addInitHook("addHandler","keyboard",u.Map.Keyboard),u.Handler.MarkerDrag=u.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new u.Draggable(t,t,(!0))),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),u.DomUtil.addClass(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&u.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,n=e._shadow,r=u.DomUtil.getPosition(e._icon),o=e._map.layerPointToLatLng(r);n&&u.DomUtil.setPosition(n,r),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),u.Control=u.Class.extend({options:{position:"topright"},initialize:function(t){u.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),r=t._controlCorners[n];return u.DomUtil.addClass(e,"leaflet-control"),n.indexOf("bottom")!==-1?r.insertBefore(e,r.firstChild):r.appendChild(e),this},remove:function(){return this._map?(u.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),u.control=function(t){return new u.Control(t)},u.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,o){var i=n+t+" "+n+o;e[t+o]=u.DomUtil.create("div",i,r)}var e=this._controlCorners={},n="leaflet-",r=this._controlContainer=u.DomUtil.create("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){u.DomUtil.remove(this._controlContainer)}}),u.Control.Zoom=u.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=u.DomUtil.create("div",e+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,r,o){var i=u.DomUtil.create("a",n,r);return i.innerHTML=t,i.href="#",i.title=e,u.DomEvent.on(i,"mousedown dblclick",u.DomEvent.stopPropagation).on(i,"click",u.DomEvent.stop).on(i,"click",o,this).on(i,"click",this._refocusOnMap,this),i},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";u.DomUtil.removeClass(this._zoomInButton,e),u.DomUtil.removeClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&u.DomUtil.addClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&u.DomUtil.addClass(this._zoomInButton,e)}}),u.Map.mergeOptions({zoomControl:!0}),u.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new u.Control.Zoom,this.addControl(this.zoomControl))}),u.control.zoom=function(t){return new u.Control.Zoom(t)},u.Control.Attribution=u.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){u.setOptions(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=u.DomUtil.create("div","leaflet-control-attribution"),u.DomEvent&&u.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}}),u.Map.mergeOptions({attributionControl:!0}),u.Map.addInitHook(function(){this.options.attributionControl&&(new u.Control.Attribution).addTo(this)}),u.control.attribution=function(t){return new u.Control.Attribution(t)},u.Control.Scale=u.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=u.DomUtil.create("div",e),r=this.options;return this._addScales(r,e+"-line",n),t.on(r.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=u.DomUtil.create("div",e,n)),t.imperial&&(this._iScale=u.DomUtil.create("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,r,o=3.2808399*t;o>5280?(e=o/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(r=this._getRoundNum(o),this._updateScale(this._iScale,r+" ft",r/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),u.control.scale=function(t){return new u.Control.Scale(t)},u.Control.Layers=u.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1},initialize:function(t,e,n){u.setOptions(this,n),this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var r in t)this._addLayer(t[r],r);for(r in e)this._addLayer(e[r],r,!0)},onAdd:function(t){return this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this),this._container},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(u.stamp(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){u.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(u.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):u.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return u.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=u.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),u.DomEvent.disableClickPropagation(e),u.Browser.touch||u.DomEvent.disableScrollPropagation(e);var n=this._form=u.DomUtil.create("form",t+"-list");if(this.options.collapsed){u.Browser.android||u.DomEvent.on(e,{mouseenter:this.expand,mouseleave:this.collapse},this);var r=this._layersLink=u.DomUtil.create("a",t+"-toggle",e);r.href="#",r.title="Layers",u.Browser.touch?u.DomEvent.on(r,"click",u.DomEvent.stop).on(r,"click",this.expand,this):u.DomEvent.on(r,"focus",this.expand,this),u.DomEvent.on(n,"click",function(){setTimeout(u.bind(this._onInputClick,this),0)},this),this._map.on("click",this.collapse,this)}else this.expand();this._baseLayersList=u.DomUtil.create("div",t+"-base",n),this._separator=u.DomUtil.create("div",t+"-separator",n),this._overlaysList=u.DomUtil.create("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&u.stamp(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return this;u.DomUtil.empty(this._baseLayersList),u.DomUtil.empty(this._overlaysList);var t,e,n,r,o=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),e=e||r.overlay,t=t||!r.overlay,o+=r.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(u.stamp(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",r=a.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(t){var e,n=a.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?(e=a.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers",r),e.layerId=u.stamp(t.layer),u.DomEvent.on(e,"click",this._onInputClick,this);var o=a.createElement("span");o.innerHTML=" "+t.name;var i=a.createElement("div");n.appendChild(i),i.appendChild(e),i.appendChild(o);var s=t.overlay?this._overlaysList:this._baseLayersList;return s.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n,r=this._form.getElementsByTagName("input"),o=[],i=[];this._handlingClick=!0;for(var a=r.length-1;a>=0;a--)t=r[a],e=this._getLayer(t.layerId).layer,n=this._map.hasLayer(e),t.checked&&!n?o.push(e):!t.checked&&n&&i.push(e);for(a=0;a<i.length;a++)this._map.removeLayer(i[a]);for(a=0;a<o.length;a++)this._map.addLayer(o[a]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._form.getElementsByTagName("input"),r=this._map.getZoom(),o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.disabled=e.options.minZoom!==s&&r<e.options.minZoom||e.options.maxZoom!==s&&r>e.options.maxZoom},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),u.control.layers=function(t,e,n){return new u.Control.Layers(t,e,n)},u.PosAnimation=u.Evented.extend({run:function(t,e,n,r){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=u.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=u.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),u.DomUtil.setPosition(this._el,n),this.fire("step")},_complete:function(){u.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),u.Map.include({setView:function(t,e,n){if(e=e===s?this._zoom:this._limitZoom(e),t=this._limitCenter(u.latLng(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==s&&(n.zoom=u.extend({animate:n.animate},n.zoom),n.pan=u.extend({animate:n.animate,duration:n.duration},n.pan));var r=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=u.point(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new u.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){u.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){u.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return!((e&&e.animate)!==!0&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)}}),u.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});var h=u.DomUtil.TRANSITION&&u.Browser.any3d&&!u.Browser.mobileOpera;h&&u.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),u.DomEvent.on(this._proxy,u.DomUtil.TRANSITION_END,this._catchTransitionEnd,this))}),u.Map.include(h?{_createAnimProxy:function(){var t=this._proxy=u.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var n=u.DomUtil.TRANSFORM,r=t.style[n];u.DomUtil.setTransform(t,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),r===t.style[n]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var e=this.getCenter(),n=this.getZoom();u.DomUtil.setTransform(t,this.project(e,n),this.getZoomScale(n,1))},this)},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/r);return!(n.animate!==!0&&!this.getSize().contains(o))&&(u.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,n,r){n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,u.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),setTimeout(u.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(u.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),u.Util.requestAnimFrame(function(){this._moveEnd(!0)},this))}}:{}),u.Map.include({flyTo:function(t,e,n){function r(t){var e=t?-1:1,n=t?g:v,r=g*g-v*v+e*x*x*b*b,o=2*n*x*b,i=r/o,a=Math.sqrt(i*i+1)-i,s=a<1e-9?-18:Math.log(a);return s}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function i(t){return(Math.exp(t)+Math.exp(-t))/2}function a(t){return o(t)/i(t)}function l(t){return v*(i(w)/i(w+_*t))}function c(t){return v*(i(w)*a(w+_*t)-o(w))/x}function f(t){return 1-Math.pow(1-t,1.5)}function p(){var n=(Date.now()-T)/C,r=f(n)*E;n<=1?(this._flyToFrame=u.Util.requestAnimFrame(p,this),this._move(this.unproject(h.add(d.subtract(h).multiplyBy(c(r)/b)),y),this.getScaleZoom(v/l(r),y),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}if(n=n||{},n.animate===!1||!u.Browser.any3d)return this.setView(t,e,n);this._stop();var h=this.project(this.getCenter()),d=this.project(t),m=this.getSize(),y=this._zoom;t=u.latLng(t),e=e===s?y:e;var v=Math.max(m.x,m.y),g=v*this.getZoomScale(y,e),b=d.distanceTo(h)||1,_=1.42,x=_*_,w=r(0),T=Date.now(),E=(r(1)-w)/_,C=n.duration?1e3*n.duration:1e3*E*.8;return this._moveStart(!0),p.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)}}),u.Map.include({_defaultLocateOptions:{timeout:1e4,watch:!1},locate:function(t){if(t=this._locateOptions=u.extend({},this._defaultLocateOptions,t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=u.bind(this._handleGeolocationResponse,this),n=u.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,r=new u.LatLng(e,n),o=r.toBounds(t.coords.accuracy),i=this._locateOptions;if(i.setView){var a=this.getBoundsZoom(o);this.setView(r,i.maxZoom?Math.min(a,i.maxZoom):a)}var s={latlng:r,bounds:o,timestamp:t.timestamp};for(var l in t.coords)"number"==typeof t.coords[l]&&(s[l]=t.coords[l]);this.fire("locationfound",s)}})}(window,document)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=n(1345),a=r(i);e["default"]=o.PropTypes.arrayOf(a["default"])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(316);e["default"]=r.PropTypes.oneOfType([r.PropTypes.arrayOf(r.PropTypes.number),r.PropTypes.shape({lat:r.PropTypes.number,lng:r.PropTypes.number}),r.PropTypes.shape({lat:r.PropTypes.number,lon:r.PropTypes.number})])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(316);e["default"]=r.PropTypes.oneOfType([r.PropTypes.arrayOf(r.PropTypes.node),r.PropTypes.node])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(316);e["default"]=r.PropTypes.oneOf(["topleft","topright","bottomleft","bottomright"])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(316);e["default"]=r.PropTypes.shape({addLayer:r.PropTypes.func.isRequired,removeLayer:r.PropTypes.func.isRequired})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1343),o=n(316);e["default"]=o.PropTypes.instanceOf(r.Map)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1343),u=n(316),c=n(1351),f=r(c),p=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"componentWillMount",value:function(){this.leafletElement=l.control.attribution(this.props)}}]),e}(f["default"]);p.propTypes={prefix:u.PropTypes.string},e["default"]=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(316),u=n(1347),c=r(u),f=n(1349),p=r(f),h=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"componentDidMount",value:function(){this.leafletElement.addTo(this.context.map)}},{key:"componentDidUpdate",value:function(t){this.props.position!==t.position&&this.leafletElement.setPosition(this.props.position)}},{key:"componentWillUnmount",value:function(){this.leafletElement.remove()}},{key:"render",value:function(){return null}}]),e}(l.Component);h.propTypes={position:c["default"]},h.contextTypes={map:p["default"]},e["default"]=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function v(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:v(o,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(1343),f=n(316),p=n(1345),h=r(p),d=n(1353),m=r(d),y=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),l(e,[{key:"componentWillMount",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillMount",this).call(this);var t=this.props,n=t.center,r=t.radius,i=o(t,["center","radius"]);this.leafletElement=(0,c.circle)(n,r,i)}},{key:"componentDidUpdate",value:function(t){this.props.center!==t.center&&this.leafletElement.setLatLng(this.props.center),this.props.radius!==t.radius&&this.leafletElement.setRadius(this.props.radius),this.setStyleIfChanged(t,this.props)}}]),e}(m["default"]);y.propTypes={center:h["default"].isRequired,radius:f.PropTypes.number.isRequired},e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{
"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(1354),l=r(s),u=n(655),c=r(u),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=n(316),h=n(1355),d=r(h),m=["stroke","color","weight","opacity","fill","fillColor","fillOpacity","fillRule","dashArray","lineCap","lineJoin","clickable","pointerEvents","className"],y=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),f(e,[{key:"getChildContext",value:function(){return{popupContainer:this.leafletElement}}},{key:"getPathOptions",value:function(t){return(0,l["default"])(t,m)}},{key:"setStyle",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.leafletElement.setStyle(t)}},{key:"setStyleIfChanged",value:function(t,e){var n=this.getPathOptions(e);(0,c["default"])(n,this.getPathOptions(t))||this.setStyle(n)}}]),e}(d["default"]);y.childContextTypes={popupContainer:p.PropTypes.object},e["default"]=y},function(t,e,n){var r=n(767),o=n(962),i=n(964),a=n(743),s=i(function(t,e){return null==t?{}:o(t,r(e,a))});t.exports=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function _(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:_(o,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},u=n(316),c=r(u),f=n(1346),p=r(f),h=n(1348),d=r(h),m=n(1349),y=r(m),v=n(1356),g=r(v),b=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"componentDidMount",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentDidMount",this).call(this),this.layerContainer.addLayer(this.leafletElement)}},{key:"componentWillUnmount",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillUnmount",this).call(this),this.layerContainer.removeLayer(this.leafletElement)}},{key:"render",value:function(){return c["default"].createElement("div",{style:{display:"none"}},this.props.children)}},{key:"layerContainer",get:function(){return this.context.layerContainer||this.context.map}}]),e}(g["default"]);b.propTypes={children:p["default"]},b.contextTypes={layerContainer:d["default"],map:y["default"]},e["default"]=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(1223),l=r(s),u=n(700),c=r(u),f=n(721),p=r(f),h=n(1357),d=r(h),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),y=n(316),v=/^on(.+)$/i,g=function(t){function e(t,n){o(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r._leafletEvents={},r}return a(e,t),m(e,[{key:"componentWillMount",value:function(){this._leafletEvents=this.extractLeafletEvents(this.props)}},{key:"componentDidMount",value:function(){this.bindLeafletEvents(this._leafletEvents)}},{key:"componentWillReceiveProps",value:function(t){var e=this.extractLeafletEvents(t);this._leafletEvents=this.bindLeafletEvents(e,this._leafletEvents)}},{key:"componentWillUnmount",value:function(){var t=this.leafletElement;t&&(0,p["default"])(this._leafletEvents,function(e,n){t.off(n,e)})}},{key:"extractLeafletEvents",value:function(t){return(0,l["default"])((0,c["default"])(t),function(e,n){if(v.test(n)){var r=n.replace(v,function(t,e){return e.toLowerCase()});e[r]=t[n]}return e},{})}},{key:"bindLeafletEvents",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=this.leafletElement;if(!n||!n.on)return{};var r=(0,d["default"])(e);return(0,p["default"])(e,function(e,o){t[o]&&e===t[o]||(delete r[o],n.off(o,e))}),(0,p["default"])(t,function(t,o){e[o]&&t===e[o]||(r[o]=t,n.on(o,t))}),r}},{key:"fireLeafletEvent",value:function(t,e){var n=this.leafletElement;n&&n.fire(t,e)}}]),e}(y.Component);e["default"]=g},function(t,e,n){function r(t){return o(t,!1,!0)}var o=n(829);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function v(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:v(o,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(1343),f=n(316),p=n(1345),h=r(p),d=n(1353),m=r(d),y=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),l(e,[{key:"componentWillMount",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillMount",this).call(this);var t=this.props,n=t.center,r=o(t,["center"]);this.leafletElement=(0,c.circleMarker)(n,r)}},{key:"componentDidUpdate",value:function(t){this.props.center!==t.center&&this.leafletElement.setLatLng(this.props.center),this.props.radius!==t.radius&&this.leafletElement.setRadius(this.props.radius),this.setStyleIfChanged(t,this.props)}}]),e}(m["default"]);y.propTypes={center:h["default"].isRequired,radius:f.PropTypes.number},e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function y(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:y(o,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},u=n(1343),c=n(316),f=n(1348),p=r(f),h=n(1353),d=r(h),m=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"getChildContext",value:function(){return{layerContainer:this.leafletElement,popupContainer:this.leafletElement}}},{key:"componentWillMount",value:function(){this.leafletElement=(0,u.featureGroup)()}},{key:"componentDidMount",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentDidMount",this).call(this),this.setStyle(this.props)}},{key:"componentDidUpdate",value:function(t){this.setStyleIfChanged(t,this.props)}}]),e}(d["default"]);m.childContextTypes={layerContainer:p["default"],popupContainer:c.PropTypes.object},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=n(602),u=r(l),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=function v(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:v(o,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},p=n(1343),h=n(316),d=n(1353),m=r(d),y=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),c(e,[{key:"componentWillMount",value:function(){f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillMount",this).call(this);var t=this.props,n=t.data,r=o(t,["data"]);this.leafletElement=(0,p.geoJSON)(n,r)}},{key:"componentDidUpdate",value:function(t){(0,u["default"])(this.props.style)?this.setStyle(this.props.style):this.setStyleIfChanged(t,this.props)}}]),e}(m["default"]);y.propTypes={data:h.PropTypes.oneOfType([h.PropTypes.array,h.PropTypes.object]).isRequired},e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function d(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:d(o,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},u=n(1343),c=n(316),f=n(1355),p=r(f),h=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"componentWillMount",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillMount",this).call(this),this.leafletElement=(0,u.gridLayer)(this.props)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.opacity,r=e.zIndex;n!==t.opacity&&this.leafletElement.setOpacity(n),r!==t.zIndex&&this.leafletElement.setZIndex(r)}},{key:"render",value:function(){return null}}]),e}(p["default"]);h.propTypes={opacity:c.PropTypes.number,zIndex:c.PropTypes.number},e["default"]=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function v(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:v(o,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(1343),f=n(316),p=n(1342),h=r(p),d=n(1355),m=r(d),y=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),l(e,[{key:"componentWillMount",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillMount",this).call(this);var t=this.props,n=t.bounds,r=t.url,i=o(t,["bounds","url"]);this.leafletElement=(0,c.imageOverlay)(r,n,i)}},{key:"componentDidUpdate",value:function(t){this.props.url!==t.url&&this.leafletElement.setUrl(this.props.url),this.props.opacity!==t.opacity&&this.leafletElement.setOpacity(this.props.opacity)}},{key:"render",value:function(){return null}}]),e}(m["default"]);y.propTypes={attribution:f.PropTypes.string,bounds:h["default"].isRequired,opacity:f.PropTypes.number,url:f.PropTypes.string.isRequired},e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function m(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:m(o,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},u=n(1343),c=n(1348),f=r(c),p=n(1355),h=r(p),d=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"getChildContext",value:function(){return{layerContainer:this.leafletElement}}},{key:"componentWillMount",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillMount",this).call(this),this.leafletElement=(0,u.layerGroup)()}}]),e}(h["default"]);d.childContextTypes={layerContainer:f["default"]},e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function k(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:k(o,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1343),f=n(316),p=r(f),h=n(1346),d=r(h),m=n(1348),y=r(m),v=n(1349),g=r(v),b=n(1351),_=r(b),x={addBaseLayer:f.PropTypes.func,addOverlay:f.PropTypes.func,checked:f.PropTypes.bool,children:f.PropTypes.node.isRequired,name:f.PropTypes.string.isRequired,removeLayer:f.PropTypes.func,removeLayerControl:f.PropTypes.func},w=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),u(e,[{key:"getChildContext",value:function(){return{layerContainer:{addLayer:this.addLayer.bind(this),removeLayer:this.removeLayer.bind(this)}}}},{key:"componentWillReceiveProps",value:function(t){var e=t.checked;e&&!this.props.checked?this.context.map.addLayer(this.layer):this.props.checked&&!e&&this.context.map.removeLayer(this.layer)}},{key:"componentWillUnmount",value:function(){this.props.removeLayerControl(this.layer)}},{key:"addLayer",value:function(){throw new Error("Must be implemented in extending class")}},{key:"removeLayer",value:function(t){this.props.removeLayer(t)}},{key:"render",value:function(){return this.props.children||null}}]),e}(f.Component);w.propTypes=x,w.contextTypes={map:g["default"]},w.childContextTypes={layerContainer:y["default"]};var T=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),u(e,[{key:"addLayer",value:function(t){this.layer=t;var e=this.props,n=e.addBaseLayer,r=e.checked,o=e.name;n(t,o,r)}}]),e}(w);T.propTypes=x;var E=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),u(e,[{key:"addLayer",value:function(t){this.layer=t;var e=this.props,n=e.addOverlay,r=e.checked,o=e.name;n(t,o,r)}}]),e}(w);E.propTypes=x;var C=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),u(e,[{key:"componentWillMount",value:function(){var t=this.props,e=(t.children,o(t,["children"]));this.leafletElement=c.control.layers(void 0,void 0,e),this.controlProps={addBaseLayer:this.addBaseLayer.bind(this),addOverlay:this.addOverlay.bind(this),removeLayer:this.removeLayer.bind(this),removeLayerControl:this.removeLayerControl.bind(this)}}},{key:"componentWillUnmount",value:function(){var t=this;setTimeout(function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillUnmount",t).call(t)},0)}},{key:"addBaseLayer",value:function(t,e){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];n&&this.context.map.addLayer(t),this.leafletElement.addBaseLayer(t,e)}},{key:"addOverlay",value:function(t,e){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];n&&this.context.map.addLayer(t),this.leafletElement.addOverlay(t,e)}},{key:"removeLayer",value:function(t){this.context.map.removeLayer(t)}},{key:"removeLayerControl",value:function(t){this.leafletElement.removeLayer(t)}},{key:"render",value:function(){var t=this,e=f.Children.map(this.props.children,function(e){return e?(0,f.cloneElement)(e,t.controlProps):null});return p["default"].createElement("div",{style:{display:"none"}},e)}}]),e}(_["default"]);C.propTypes={baseLayers:f.PropTypes.object,children:d["default"],overlays:f.PropTypes.object},C.contextTypes={layerContainer:y["default"],map:g["default"]},e["default"]=C,C.BaseLayer=T,C.Overlay=E},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(961),l=r(s),u=n(1366),c=r(u),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=function S(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:S(o,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},h=n(1343),d=r(h),m=n(316),y=r(m),v=n(1342),g=r(v),b=n(1346),_=r(b),x=n(1345),w=r(x),T=n(1356),E=r(T),C=function(t){return Array.isArray(t)?t:[t.lat,t.lon?t.lon:t.lng]},k=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.bindContainer=function(t){r.container=t},a=n,i(r,a)}return a(e,t),f(e,[{key:"getChildContext",value:function(){return{map:this.leafletElement}}},{key:"componentDidMount",value:function(){var t=(0,l["default"])(this.props,["children","className","id","style"]);this.leafletElement=d["default"].map(this.container,t),p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentDidMount",this).call(this),this.setState({map:this.leafletElement}),(0,c["default"])(t.bounds)||this.leafletElement.fitBounds(t.bounds,t.boundsOptions)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.animate,r=e.bounds,o=e.boundsOptions,i=e.center,a=e.maxBounds,s=e.useFlyTo,l=e.zoom;i&&this.shouldUpdateCenter(i,t.center)?s?this.leafletElement.flyTo(i,l,{animate:n}):this.leafletElement.setView(i,l,{animate:n}):l&&l!==t.zoom&&this.leafletElement.setZoom(l),a&&this.shouldUpdateBounds(a,t.maxBounds)&&this.leafletElement.setMaxBounds(a),r&&(this.shouldUpdateBounds(r,t.bounds)||o!==t.boundsOptions)&&(s?this.leafletElement.flyToBounds(r,o):this.leafletElement.fitBounds(r,o))}},{key:"componentWillUnmount",value:function(){p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillUnmount",this).call(this),this.leafletElement.remove()}},{key:"shouldUpdateCenter",value:function(t,e){return!e||(t=C(t),e=C(e),t[0]!==e[0]||t[1]!==e[1])}},{key:"shouldUpdateBounds",value:function(t,e){return!e||(t=d["default"].latLngBounds(t),e=d["default"].latLngBounds(e),!t.equals(e))}},{key:"render",value:function(){var t=this.leafletElement,e=t?y["default"].Children.map(this.props.children,function(e){return e?y["default"].cloneElement(e,{map:t,layerContainer:t}):null}):null;return y["default"].createElement("div",{className:this.props.className,id:this.props.id,ref:this.bindContainer,style:this.props.style},e)}}]),e}(E["default"]);k.propTypes={animate:m.PropTypes.bool,bounds:g["default"],boundsOptions:m.PropTypes.object,center:w["default"],children:_["default"],className:m.PropTypes.string,id:m.PropTypes.string,maxBounds:g["default"],maxZoom:m.PropTypes.number,minZoom:m.PropTypes.number,style:m.PropTypes.object,useFlyTo:m.PropTypes.bool,zoom:m.PropTypes.number},k.defaultProps={animate:!1,useFlyTo:!1},k.childContextTypes={map:m.PropTypes.instanceOf(d["default"].Map)},e["default"]=k},function(t,e){function n(t){return void 0===t}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function v(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:v(o,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(1343),f=n(316),p=n(1345),h=r(p),d=n(1355),m=r(d),y=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),l(e,[{key:"getChildContext",value:function(){return{popupContainer:this.leafletElement}}},{key:"componentWillMount",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillMount",this).call(this);var t=this.props,n=t.position,r=o(t,["position"]);this.leafletElement=(0,c.marker)(n,r)}},{key:"componentDidUpdate",value:function(t){this.props.position!==t.position&&this.leafletElement.setLatLng(this.props.position),this.props.icon!==t.icon&&this.leafletElement.setIcon(this.props.icon),this.props.zIndexOffset!==t.zIndexOffset&&this.leafletElement.setZIndexOffset(this.props.zIndexOffset),this.props.opacity!==t.opacity&&this.leafletElement.setOpacity(this.props.opacity),this.props.draggable!==t.draggable&&(this.props.draggable?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable())}},{key:"render",value:function(){return this.props.children||null}}]),e}(m["default"]);y.propTypes={icon:f.PropTypes.instanceOf(c.Icon),opacity:f.PropTypes.number,position:h["default"].isRequired,zIndexOffset:f.PropTypes.number},y.childContextTypes={popupContainer:f.PropTypes.object},e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function g(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:g(o,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(1343),f=n(316),p=n(1344),h=r(p),d=n(1353),m=r(d),y=f.PropTypes.arrayOf(h["default"]),v=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),l(e,[{key:"componentWillMount",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillMount",this).call(this);var t=this.props,n=t.positions,r=o(t,["positions"]);this.leafletElement=(0,c.polygon)(n,r)}},{key:"componentDidUpdate",value:function(t){this.props.positions!==t.positions&&this.leafletElement.setLatLngs(this.props.positions),this.setStyleIfChanged(t,this.props)}}]),e}(m["default"]);v.propTypes={positions:f.PropTypes.oneOfType([h["default"],y,f.PropTypes.arrayOf(y)]).isRequired},e["default"]=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");
}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function v(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:v(o,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(1343),f=n(316),p=n(1344),h=r(p),d=n(1353),m=r(d),y=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),l(e,[{key:"componentWillMount",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillMount",this).call(this);var t=this.props,n=t.positions,r=o(t,["positions"]);this.leafletElement=(0,c.polyline)(n,r)}},{key:"componentDidUpdate",value:function(t){this.props.positions!==t.positions&&this.leafletElement.setLatLngs(this.props.positions),this.setStyleIfChanged(t,this.props)}}]),e}(m["default"]);y.propTypes={positions:f.PropTypes.oneOfType([h["default"],f.PropTypes.arrayOf(h["default"])]).isRequired},e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function _(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:_(o,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(1343),f=n(316),p=n(345),h=n(1345),d=r(h),m=n(1349),y=r(m),v=n(1356),g=r(v),b=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.onPopupOpen=function(t){var e=t.popup;e===r.leafletElement&&r.renderPopupContent()},r.onPopupClose=function(t){var e=t.popup;e===r.leafletElement&&r.removePopupContent()},r.renderPopupContent=function(){r.props.children?((0,p.render)(f.Children.only(r.props.children),r.leafletElement._contentNode),r.leafletElement.update()):r.removePopupContent()},r.removePopupContent=function(){r.leafletElement._contentNode&&(0,p.unmountComponentAtNode)(r.leafletElement._contentNode)},o=n,a(r,o)}return s(e,t),l(e,[{key:"componentWillMount",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillMount",this).call(this);var t=this.props,n=(t.children,o(t,["children"]));this.leafletElement=(0,c.popup)(n,this.context.popupContainer),this.context.map.on({popupopen:this.onPopupOpen,popupclose:this.onPopupClose})}},{key:"componentDidMount",value:function(){var t=this.props.position,e=this.context,n=e.map,r=e.popupContainer,o=this.leafletElement;r?r.bindPopup(o):(t&&o.setLatLng(t),o.openOn(n))}},{key:"componentDidUpdate",value:function(t){var e=this.props.position;e!==t.position&&this.leafletElement.setLatLng(e),this.leafletElement.isOpen()&&this.renderPopupContent()}},{key:"componentWillUnmount",value:function(){this.context.map.off({popupopen:this.onPopupOpen,popupclose:this.onPopupClose}),this.context.map.removeLayer(this.leafletElement),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillUnmount",this).call(this)}},{key:"render",value:function(){return null}}]),e}(g["default"]);b.propTypes={children:f.PropTypes.node,position:d["default"]},b.contextTypes={map:y["default"],popupContainer:f.PropTypes.object},e["default"]=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function y(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:y(o,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(1343),f=n(1342),p=r(f),h=n(1353),d=r(h),m=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),l(e,[{key:"componentWillMount",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillMount",this).call(this);var t=this.props,n=t.bounds,r=o(t,["bounds"]);this.leafletElement=(0,c.rectangle)(n,r)}},{key:"componentDidUpdate",value:function(t){this.props.bounds!==t.bounds&&this.leafletElement.setBounds(this.props.bounds),this.setStyleIfChanged(t,this.props)}}]),e}(d["default"]);m.propTypes={bounds:p["default"].isRequired},e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1343),u=n(316),c=n(1351),f=r(c),p=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"componentWillMount",value:function(){this.leafletElement=l.control.scale(this.props)}}]),e}(f["default"]);p.propTypes={imperial:u.PropTypes.bool,maxWidth:u.PropTypes.number,metric:u.PropTypes.bool,updateWhenIdle:u.PropTypes.bool},e["default"]=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function m(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:m(o,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(1343),f=n(316),p=n(1361),h=r(p),d=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),l(e,[{key:"componentWillMount",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillMount",this).call(this);var t=this.props,n=t.url,r=o(t,["url"]);this.leafletElement=(0,c.tileLayer)(n,r)}},{key:"componentDidUpdate",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentDidUpdate",this).call(this,t);var n=this.props.url;n!==t.url&&this.leafletElement.setUrl(n)}}]),e}(h["default"]);d.propTypes={url:f.PropTypes.string.isRequired},e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function g(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:g(o,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(1343),f=n(316),p=n(345),h=n(1349),d=r(h),m=n(1356),y=r(m),v=function(t){function e(){var t,n,r,o;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.onTooltipOpen=function(t){var e=t.tooltip;e===r.leafletElement&&r.renderTooltipContent()},r.onTooltipClose=function(t){var e=t.tooltip;e===r.leafletElement&&r.removeTooltipContent()},r.renderTooltipContent=function(){r.props.children?((0,p.render)(f.Children.only(r.props.children),r.leafletElement._contentNode),r.leafletElement.update()):r.removeTooltipContent()},r.removeTooltipContent=function(){r.leafletElement._contentNode&&(0,p.unmountComponentAtNode)(r.leafletElement._contentNode)},o=n,a(r,o)}return s(e,t),l(e,[{key:"componentWillMount",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillMount",this).call(this);var t=this.props,n=(t.children,o(t,["children"]));this.leafletElement=(0,c.tooltip)(n,this.context.popupContainer),this.context.popupContainer.on({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose})}},{key:"componentDidMount",value:function(){this.context.popupContainer.bindTooltip(this.leafletElement)}},{key:"componentDidUpdate",value:function(){this.leafletElement.isOpen()&&this.renderTooltipContent()}},{key:"componentWillUnmount",value:function(){this.context.popupContainer.off({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose}),this.context.map.removeLayer(this.leafletElement),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillUnmount",this).call(this)}},{key:"render",value:function(){return null}}]),e}(y["default"]);v.propTypes={children:f.PropTypes.node},v.contextTypes={map:d["default"],popupContainer:f.PropTypes.object},e["default"]=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function m(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:m(o,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(1343),f=n(316),p=n(1361),h=r(p),d=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),l(e,[{key:"componentWillMount",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillMount",this).call(this);var t=this.props,n=t.url,r=o(t,["url"]);this.leafletElement=c.tileLayer.wms(n,r)}}]),e}(h["default"]);d.propTypes={url:f.PropTypes.string.isRequired},e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1343),u=n(316),c=n(1351),f=r(c),p=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"componentWillMount",value:function(){this.leafletElement=l.control.zoom(this.props)}}]),e}(f["default"]);p.propTypes={zoomInText:u.PropTypes.string,zoomInTitle:u.PropTypes.string,zoomOutText:u.PropTypes.string,zoomOutTitle:u.PropTypes.string},e["default"]=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(1340),s=n(582),l=r(s),u=i["default"].createClass({displayName:"ImageOverlayWidget",mixins:[l["default"]],contextTypes:{layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object},propTypes:{attribution:i["default"].PropTypes.string,bounds:i["default"].PropTypes.array,url:i["default"].PropTypes.string,layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object,opacity:i["default"].PropTypes.number},childContextTypes:{layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object},getChildContext:function(){return{layerContainer:void 0!==this.props.layerContainer?this.props.layerContainer:this.context.layerContainer,map:void 0!==this.props.map?this.props.map:this.context.map}},render:function(){var t=this.props,e=t.attribution,n=t.bounds,r=t.url,o=t.opacity;return i["default"].createElement(a.ImageOverlay,{attribution:e,bounds:n,key:JSON.stringify({attribution:e,bounds:n}),opacity:o,url:r})}});t.exports=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(1340),s=n(582),l=r(s),u=n(761),c=r(u),f=n(941),p=(r(f),["BaseLayerWidget","OverlayWidget"]),h=i["default"].createClass({displayName:"LayersControlWidget",mixins:[l["default"]],contextTypes:{layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object},propTypes:{autoZIndex:i["default"].PropTypes.bool,children:i["default"].PropTypes.node,layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object,removeLayer:i["default"].PropTypes.func,removeLayerControl:i["default"].PropTypes.func},childContextTypes:{layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object},getChildContext:function(){return{layerContainer:void 0!==this.props.layerContainer?this.props.layerContainer:this.context.layerContainer,map:void 0!==this.props.map?this.props.map:this.context.map}},render:function(){var t=this.props,e=t.autoZIndex,n=t.children,r=t.removeLayer,o=t.removeLayerControl;return n=(0,c["default"])(this,n,p),i["default"].createElement(a.LayersControl,{autoZIndex:e,children:n,removeLayer:r,removeLayerControl:o})}});t.exports=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(1340),a=n(316),s=r(a),l=n(762),u=r(l),c=n(582),f=r(c),p=n(761),h=r(p),d=n(899),m=r(d),y=n(1241),v=r(y),g=n(1380),b=r(g),_=n(941),x=r(_),w=n(630),T=r(w),E=n(655),C=r(E),k=n(300),S=r(k),P=n(764),M=r(P),A=n(1187),O=r(A),D=n(1201),L=r(D);n(1381);var I=["LayersControlWidget","TableMarkersLayerWidget","TileLayerWidget","FeatureGroupWidget","MarkerWidget","OverlayWidget"],j=s["default"].createClass({displayName:"MapWidget",mixins:[f["default"]],propTypes:{center:s["default"].PropTypes.object,children:s["default"].PropTypes.node,setProps:s["default"].PropTypes.func,onChange:s["default"].PropTypes.func,title:s["default"].PropTypes.string,zoom:s["default"].PropTypes.number},childContextTypes:{crs:s["default"].PropTypes.object,changeLayerStatus:s["default"].PropTypes.func},getChildContext:function(){return{crs:void 0!==this.map&&null!==this.map?this.map.leafletElement.options.crs:window.L.CRS.EPSG3857,changeLayerStatus:this.handleChangeLayerStatus}},getDefaultProps:function(){return{center:void 0,zoom:void 0}},getInitialState:function(){return{bounds:void 0,loadStatus:"loaded"}},handleChangeLayerStatus:function(t){var e=t.loadStatus,n=t.bounds;if(void 0===this.state.bounds&&void 0!==n)this.setState({bounds:n});else if(void 0!==this.state.bounds&&void 0!==n){var r=this.state.bounds.getNorthEast(),o=this.state.bounds.getSouthWest(),i=n.getNorthEast(),a=n.getSouthWest(),s=(0,O["default"])([r.lat,i.lat]),l=(0,O["default"])([r.lng,i.lng]),u=(0,L["default"])([o.lat,a.lat]),c=(0,L["default"])([o.lng,a.lng]);if(s!==r.lat||l!==r.lng||u!==o.lat||c!==o.lng){var f=window.L.latLng(u,c),p=window.L.latLng(s,l),h=window.L.latLngBounds(f,p);this.setState({bounds:h})}}this.setState({loadStatus:e})},handleDetectResize:function(){null!==this.map&&this.map.leafletElement.invalidateSize()},handleMapMoveEnd:function(t){if(null!==this.map){var e=this.map.leafletElement.getCenter(),n=this.map.leafletElement.getMaxZoom(),r={lat:e.lat,lng:e.lng},o=this.map.leafletElement.getZoom();o>n&&console.warn("Zooming beyond maxZoom:"+o+">"+n),(0,C["default"])(r,this.props.center)&&o===this.props.zoom||(void 0!==this.props.onChange&&this.props.onChange({center:this.map.leafletElement.getCenter(),zoom:this.map.leafletElement.getZoom()}),void 0!==this.props.setProps&&this.props.setProps({center:r,zoom:o}))}},title:function(){return this.props.title||"Map"},render:function(){var t=this,e=this.props,n=e.center,r=e.children,a=e.zoom;r=(0,h["default"])(this,r,I);var l=this.state,c=l.bounds,f=l.loadStatus;void 0===c&&void 0===n&&(n={lat:0,lng:0}),void 0===c&&void 0===a&&(a=0);var p={height:"100%"},d={bounds:n&&void 0!==a?void 0:c,center:n,onMoveEnd:function(e){return t.handleMapMoveEnd(e)},style:p,ref:function(e){return t.map=e},zoom:a},y=null;if(r&&r.length){var g=0,_=r;1===r.length&&void 0!==r[0].type&&"FeatureGroupWidget"===r[0].type.displayName&&(_=r[0].props.children);for(var w=[],E=0,C=_.length;E<C;E++)void 0!==_[0].type&&"MarkerWidget"!==_[E].type.displayName&&g++,w[E]=(0,x["default"])(_[E]),(0,M["default"])(w[E])||(w[E].key=E);y=0===g?s["default"].createElement(i.Map,o({},d,{center:n,zoom:a}),s["default"].createElement(b["default"],{key:"0"}),w):s["default"].createElement(i.Map,o({children:r},d,{center:n,zoom:a}))}else if((0,S["default"])(r)&&!(0,T["default"])(r))if(r&&"LayersControlWidget"===(0,u["default"])(r.type)&&(0,S["default"])(r.props.children)&&!(0,T["default"])(r.props.children)&&"BaseLayerWidget"===(0,u["default"])(r.props.children.type)){var k=(0,x["default"])(r);k.props.children.props.checked=!0,y=s["default"].createElement(i.Map,o({children:k},d,{center:n,zoom:a}))}else y=s["default"].createElement(i.Map,o({children:r},d,{center:n,zoom:a}));else y=s["default"].createElement(i.Map,o({},d,{center:n,zoom:a}),s["default"].createElement(b["default"],null));return s["default"].createElement(m["default"],{onResize:this.handleDetectResize},s["default"].createElement("div",{style:p},s["default"].createElement("div",{style:p},y),s["default"].createElement(v["default"],{status:f})))}});t.exports=j},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(1340),l=n(582),u=r(l),c=a["default"].createClass({displayName:"TileLayerWidget",mixins:[u["default"]],contextTypes:{layerContainer:a["default"].PropTypes.object,map:a["default"].PropTypes.object},propTypes:{attribution:a["default"].PropTypes.string,bounds:a["default"].PropTypes.array,ext:a["default"].PropTypes.string,format:a["default"].PropTypes.string,layerContainer:a["default"].PropTypes.object,map:a["default"].PropTypes.object,maxNativeZoom:a["default"].PropTypes.oneOfType([a["default"].PropTypes.number,a["default"].PropTypes.string]),maxZoom:a["default"].PropTypes.oneOfType([a["default"].PropTypes.number,a["default"].PropTypes.string]),minZoom:a["default"].PropTypes.oneOfType([a["default"].PropTypes.number,a["default"].PropTypes.string]),opacity:a["default"].PropTypes.oneOfType([a["default"].PropTypes.number,a["default"].PropTypes.string]),tms:a["default"].PropTypes.oneOfType([a["default"].PropTypes.bool,a["default"].PropTypes.string]),url:a["default"].PropTypes.string.isRequired,variant:a["default"].PropTypes.string,zIndex:a["default"].PropTypes.oneOfType([a["default"].PropTypes.number,a["default"].PropTypes.string])},childContextTypes:{layerContainer:a["default"].PropTypes.object,map:a["default"].PropTypes.object},getChildContext:function(){return{layerContainer:void 0!==this.props.layerContainer?this.props.layerContainer:this.context.layerContainer,map:void 0!==this.props.map?this.props.map:this.context.map}},getDefaultProps:function(){return{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',ext:"png",maxZoom:17,minZoom:0,url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}},render:function(){var t=this.props,e=t.attribution,n=t.bounds,r=t.ext,i=t.format,l=t.maxNativeZoom,u=t.maxZoom,c=t.minZoom,f=t.opacity,p=t.tms,h=t.url,d=t.variant,m=t.zIndex,y={};return void 0!==l&&(y.maxNativeZoom=l),a["default"].createElement(s.TileLayer,o({},y,{attribution:e,bounds:n,children:void 0,detectRetinea:"true",ext:r,format:i,key:JSON.stringify({attribution:e,maxNativeZoom:l,maxZoom:u,minZoom:c,variant:d}),maxZoom:u,minZoom:c,opacity:f,reuseTiles:"true",tms:p,url:h,variant:d,zIndex:m}))}});t.exports=c},function(t,e,n){var r=n(1382);"string"==typeof r&&(r=[[t.id,r,""]]);n(782)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(781)(),e.push([t.id,".leaflet-image-layer,.leaflet-layer,.leaflet-map-pane canvas,.leaflet-map-pane svg,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane,.leaflet-tile,.leaflet-tile-container,.leaflet-zoom-box{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-overlay-pane svg,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer{max-width:none!important}.leaflet-container.leaflet-touch-zoom{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{-ms-touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-drag{-ms-touch-action:none;touch-action:none}.leaflet-tile{-webkit-filter:inherit;filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-bottom,.leaflet-top{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-tile{will-change:opacity}.leaflet-fade-anim .leaflet-popup{opacity:0;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{transform-origin:0 0}.leaflet-zoom-anim .leaflet-zoom-animated{will-change:transform;transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-pan-anim .leaflet-tile,.leaflet-zoom-anim .leaflet-tile{transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:-webkit-grab;cursor:-moz-grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-control,.leaflet-popup-pane{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing}.leaflet-image-layer,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-image-layer.leaflet-interactive,.leaflet-marker-icon.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline:0}.leaflet-container a{color:#0078a8}.leaflet-container a.leaflet-active{outline:2px solid orange}.leaflet-zoom-box{border:2px dotted #38f;background:hsla(0,0%,100%,.5)}.leaflet-container{font:12px/1.5 Helvetica Neue,Arial,Helvetica,sans-serif}.leaflet-bar{box-shadow:0 1px 5px rgba(0,0,0,.65);border-radius:4px}.leaflet-bar a,.leaflet-bar a:hover{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-control-zoom-out{font-size:20px}.leaflet-touch .leaflet-control-zoom-in{font-size:22px}.leaflet-touch .leaflet-control-zoom-out{font-size:24px}.leaflet-control-layers{box-shadow:0 1px 5px rgba(0,0,0,.4);background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url("+n(1383)+");width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url("+n(1384)+");background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers-expanded .leaflet-control-layers-toggle,.leaflet-control-layers .leaflet-control-layers-list{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url("+n(1385)+')}.leaflet-container .leaflet-control-attribution{background:#fff;background:hsla(0,0%,100%,.7);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover{text-decoration:underline}.leaflet-container .leaflet-control-attribution,.leaflet-container .leaflet-control-scale{font-size:11px}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;font-size:11px;white-space:nowrap;overflow:hidden;box-sizing:border-box;background:#fff;background:hsla(0,0%,100%,.5)}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers{box-shadow:none}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-layers{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 19px;line-height:1.4}.leaflet-popup-content p{margin:18px 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;color:#333;box-shadow:0 3px 14px rgba(0,0,0,.4)}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;padding:4px 4px 0 0;border:none;text-align:center;width:18px;height:14px;font:16px/14px Tahoma,Verdana,sans-serif;color:#c3c3c3;text-decoration:none;font-weight:700;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover{color:#999}.leaflet-popup-scrolled{overflow:auto;border-bottom:1px solid #ddd;border-top:1px solid #ddd}.leaflet-oldie .leaflet-popup-content-wrapper{zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678,M12=0.70710678,M21=-0.70710678,M22=0.70710678)}.leaflet-oldie .leaflet-popup-tip-container{margin-top:-1px}.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px rgba(0,0,0,.4)}.leaflet-tooltip.leaflet-clickable{cursor:pointer;pointer-events:auto}.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before,.leaflet-tooltip-top:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}',""]);
},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(1340),s=n(582),l=r(s),u=n(761),c=r(u),f=a.LayersControl.Overlay,p=["CircleWidget","FeatureGroupWidget","ImageOverlayWidget","MarkerWidget","PopupWidget","RectangleWidget","TableMarkersLayerWidget","TileLayerWidget"],h=i["default"].createClass({displayName:"OverlayWidget",mixins:[l["default"]],contextTypes:{layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object},propTypes:{addOverlay:i["default"].PropTypes.func,checked:i["default"].PropTypes.bool,children:i["default"].PropTypes.node,layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object,name:i["default"].PropTypes.string,removeLayer:i["default"].PropTypes.func,removeLayerControl:i["default"].PropTypes.func},childContextTypes:{layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object},getDefaultProps:function(){return{name:"Overlay"}},render:function(){var t=this.props,e=t.addOverlay,n=t.checked,r=t.children,o=t.name,a=t.removeLayer,s=t.removeLayerControl;return r=(0,c["default"])(this,r,p),i["default"].createElement(f,{addOverlay:e,checked:n,children:i["default"].Children.only(r),name:o,removeLayer:a,removeLayerControl:s})}});t.exports=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(583),u=r(l),c=n(582),f=r(c),p=n(590),h=r(p),d=n(940),m=r(d),y=n(1219),v=r(y),g=i["default"].createClass({displayName:"QueryString",mixins:[s["default"],f["default"],u["default"],(0,h["default"])("PanoptesStore")],propTypes:{table:i["default"].PropTypes.string.isRequired,query:i["default"].PropTypes.string.isRequired,prepend:i["default"].PropTypes.string.isRequired},getStateFromFlux:function(){return{subsets:this.getFlux().store("PanoptesStore").getStoredSubsetsFor(this.props.table)}},render:function(){var t=this,e=this.props,n=e.query,r=e.prepend,o=m["default"].WhereClause.decode(n);if(!o||o.isTrivial)return i["default"].createElement("span",null,r+" No filter");var a={};this.tableConfig().properties.forEach(function(e){a[e.id]={name:e.name,toDisplayString:v["default"].bind(t,e)}});var s={};this.state.subsets.map(function(t){s[t.id]={name:t.name}});var l={fieldInfoMap:a,subsetMap:s};return i["default"].createElement("span",null,r+" "+o.toQueryDisplayString(l,0))}});t.exports=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(583),s=r(a),l=n(582),u=r(l),c=n(1379),f=r(c),p=n(1380),h=r(p),d=n(1389),m=r(d),y=i["default"].createClass({displayName:"TableMapWidget",mixins:[s["default"],u["default"]],propTypes:{center:i["default"].PropTypes.object,highlight:i["default"].PropTypes.string,locationDataTable:i["default"].PropTypes.string,onChange:i["default"].PropTypes.func,primKey:i["default"].PropTypes.string,query:i["default"].PropTypes.string,setProps:i["default"].PropTypes.func,table:i["default"].PropTypes.string,title:i["default"].PropTypes.string,zoom:i["default"].PropTypes.number},title:function(){return this.props.title||"Table Map"},render:function(){var t=this.props,e=t.center,n=t.highlight,r=t.locationDataTable,o=t.onChange,a=t.primKey,s=t.query,l=t.setProps,u=t.table,c=t.zoom;void 0===r&&void 0!==u&&(r=u);var p={height:"100%"};return i["default"].createElement(f["default"],{center:e,setProps:l,onChange:o,style:p,zoom:c},i["default"].createElement(h["default"],null),i["default"].createElement(m["default"],{highlight:n,locationDataTable:r,primKey:a,query:s}))}});t.exports=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(316),s=r(a),l=n(583),u=r(l),c=n(922),f=r(c),p=n(582),h=r(p),d=n(933),m=r(d),y=n(1390),v=r(y),g=n(1393),b=r(g),_=n(950),x=r(_),w=n(1396),T=r(w),E=n(927),C=r(E),k=n(940),S=r(k),P=s["default"].createClass({displayName:"TableMarkersLayerWidget",mixins:[h["default"],u["default"],(0,f["default"])("highlight","locationDataTable","primKey","query","table")],contextTypes:{layerContainer:s["default"].PropTypes.object,map:s["default"].PropTypes.object,changeLayerStatus:s["default"].PropTypes.func},propTypes:{highlight:s["default"].PropTypes.string,layerContainer:s["default"].PropTypes.object,locationDataTable:s["default"].PropTypes.string,map:s["default"].PropTypes.object,primKey:s["default"].PropTypes.string,query:s["default"].PropTypes.string,table:s["default"].PropTypes.string},childContextTypes:{layerContainer:s["default"].PropTypes.object,map:s["default"].PropTypes.object,onClickMarker:s["default"].PropTypes.func},getChildContext:function(){return{layerContainer:void 0!==this.props.layerContainer?this.props.layerContainer:this.context.layerContainer,map:void 0!==this.props.map?this.props.map:this.context.map,onClickMarker:this.handleClickMarker}},getInitialState:function(){return{markers:[]}},handleClickMarker:function(t,e){var n=1==t.originalEvent.button||t.originalEvent.metaKey||t.originalEvent.ctrlKey;n||t.originalEvent.stopPropagation(),this.getFlux().actions.panoptes.dataItemPopup({table:e.table,primKey:e.primKey,switchTo:!n})},fetchData:function(t,e){var n=this,r=t.highlight,a=t.locationDataTable,s=t.primKey,l=t.query,u=t.table,c=void 0!==l?l:S["default"].nullQuery;void 0===a&&void 0!==u&&(a=u);var f=this.context.changeLayerStatus,p=this.config.tablesById[a];if(void 0===p)return console.error("locationTableConfig === undefined"),null;if(p.hasGeoCoord===!1)return console.error("locationTableConfig.hasGeoCoord === false"),null;f({loadStatus:"loading"});var h=p.primKey,d=p.longitude,y=p.latitude,g=[h,d,y];if(void 0===r&&void 0!==s&&(r=h+":"+s),void 0!==r&&"string"==typeof r&&""!==r){var b=r.split(":"),_=i(b,1),w=_[0];void 0!==w&&(void 0===p.propertiesById[w]?console.error("The specified highlight field "+w+" was not found in the table "+a):g.push(w))}var T={};g.map(function(t){return T[t]=p.propertiesById[t].defaultDisplayEncoding}),e.request(function(t){var e={columns:T,database:n.config.dataset,query:c,table:p.fetchTableName};return C["default"].get("pageQuery"+JSON.stringify(e),function(t){return m["default"].pageQuery(o({cancellation:t},e))},t)}).then(function(t){var e=[],o=n.config.tablesById[a],s=o.primKey,l=void 0,u=null;if(void 0!==r&&"string"==typeof r&&""!==r){var c=r.split(":"),p=i(c,2);l=p[0],u=p[1]}for(var h=0;h<t.length;h++){var d=t[h][s],m=!1;null!==l&&null!==u&&(m=t[h][l]===u),e.push({isHighlighted:m,table:a,lat:parseFloat(t[h][o.latitude]),lng:parseFloat(t[h][o.longitude]),primKey:d,title:d})}n.setState({markers:e}),f({loadStatus:"loaded",bounds:v["default"].calcMapBounds(e)})})["catch"](m["default"].filterAborted)["catch"](C["default"].filterCancelled)["catch"](function(e){(0,x["default"])(n.getFlux(),e.message,function(){return n.fetchData(t)}),f({loadStatus:"error"})})},render:function(){var t=this,e=this.context,n=e.layerContainer,r=e.map,o=this.state.markers;if(!o.length)return null;for(var i=[],a=function(e,n){var r=o[e];r.isHighlighted||1===n?i.push(s["default"].createElement(b["default"],{key:e,position:{lat:r.lat,lng:r.lng},title:r.title,onClick:function(e){return t.handleClickMarker(e,r)}})):i.push(s["default"].createElement(b["default"],{key:e,position:{lat:r.lat,lng:r.lng},title:r.title,onClick:function(e){return t.handleClickMarker(e,r)}},s["default"].createElement("svg",{height:"12",width:"12"},s["default"].createElement("circle",{cx:"6",cy:"6",r:"5",stroke:"#1E1E1E",strokeWidth:"1",fill:"#3D8BD5"}))))},l=0,u=o.length;l<u;l++)a(l,u);return s["default"].createElement(T["default"],{children:i,layerContainer:n,map:r})}});t.exports=P},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=window.L,n=void 0;if(void 0!==t&&t.length>=1){var r=e.latLng((0,a["default"])(t,function(t){return t.lat}).lat,(0,l["default"])(t,function(t){return t.lng}).lng),o=e.latLng((0,l["default"])(t,function(t){return t.lat}).lat,(0,a["default"])(t,function(t){return t.lng}).lng);n=e.latLngBounds(r,o)}return n}var i=n(1391),a=r(i),s=n(1392),l=r(s);t.exports={calcMapBounds:o}},function(t,e,n){function r(t,e){return t&&t.length?o(t,a(e,2),i):void 0}var o=n(1188),i=n(1189),a=n(727);t.exports=r},function(t,e,n){function r(t,e){return t&&t.length?o(t,i(e,2),a):void 0}var o=n(1188),i=n(727),a=n(1202);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(1394),s=r(a),l=n(1395),u=r(l),c=n(582),f=r(c),p=i["default"].createClass({displayName:"ComponentMarkerWidget",mixins:[f["default"]],contextTypes:{layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object},propTypes:{children:i["default"].PropTypes.node,onClick:i["default"].PropTypes.func,position:i["default"].PropTypes.object,title:i["default"].PropTypes.string,alt:i["default"].PropTypes.string},handleClick:function(t){this.props.onClick(t)},render:function(){var t=this,e=this.context,n=e.layerContainer,r=e.map,o=this.props,a=o.alt,l=o.children,c=o.onClick,f=o.position,p=o.title;return void 0===a&&void 0!==p&&(a=p),void 0===l&&(l=i["default"].createElement(u["default"],{alt:a,children:l,layerContainer:n,map:r,onClick:function(e){return c(e,t)},position:f,title:p})),i["default"].createElement(s["default"],{alt:a,children:i["default"].Children.only(l),className:"panoptes-map-componentmarker",onClick:function(e){return c(e,t)},position:f,title:p})}});t.exports=p},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function m(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:m(o,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(316),f=n(345),p=n(1343),h=n(1340),d=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),l(e,[{key:"componentWillMount",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillMount",this).call(this);var t=this.props,n=t.position,o=r(t,["position"]);this.icon=new p.DivIcon(o),this.leafletElement=(0,p.marker)(n,s({icon:this.icon},o)),this.leafletElement.on("add",this.renderContent.bind(this)),this.leafletElement.on("remove",this.removeContent.bind(this))}},{key:"componentDidUpdate",value:function(t){this.props.position!==t.position&&this.leafletElement.setLatLng(this.props.position),this.props.zIndexOffset!==t.zIndexOffset&&this.leafletElement.setZIndexOffset(this.props.zIndexOffset),this.props.opacity!==t.opacity&&this.leafletElement.setOpacity(this.props.opacity),this.props.draggable!==t.draggable&&(this.props.draggable?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable()),this.renderContent()}},{key:"renderContent",value:function(){var t=this.leafletElement._icon;t&&(0,f.render)(c.Children.only(this.props.children),t)}},{key:"removeContent",value:function(){var t=this.leafletElement._icon;t&&(0,f.unmountComponentAtNode)(t)}},{key:"render",value:function(){return null}}]),e}(h.MapLayer);d.propTypes={opacity:c.PropTypes.number,zIndexOffset:c.PropTypes.number},e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(1340),s=n(582),l=r(s),u=n(761),c=r(u),f=["PopupWidget"],p=i["default"].createClass({displayName:"MarkerWidget",mixins:[l["default"]],contextTypes:{layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object},propTypes:{alt:i["default"].PropTypes.string,children:i["default"].PropTypes.node,layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object,onClick:i["default"].PropTypes.func,opacity:i["default"].PropTypes.number,zIndexOffset:i["default"].PropTypes.number,position:i["default"].PropTypes.object,title:i["default"].PropTypes.string},childContextTypes:{layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object},getChildContext:function(){return{layerContainer:void 0!==this.props.layerContainer?this.props.layerContainer:this.context.layerContainer,map:void 0!==this.props.map?this.props.map:this.context.map}},render:function(){var t=this.props,e=t.alt,n=t.children,r=t.onClick,o=t.opacity,s=t.position,l=t.title,u=t.zIndexOffset;return n=(0,c["default"])(this,n,f),n&&(n=i["default"].Children.only(n)),i["default"].createElement(a.Marker,{position:s,onClick:r||function(){return null},alt:e,title:l||e,children:n,opacity:o,zIndexOffset:u})}});t.exports=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(1340),s=n(582),l=r(s),u=n(761),c=r(u),f=["ComponentMarkerWidget","TableMarkersLayerWidget","MarkerWidget","CircleWidget","RectangleWidget","PopupWidget","FeatureGroupWidget","TileLayerWidget","PieChartMarkersLayerWidget"],p=i["default"].createClass({displayName:"FeatureGroupWidget",mixins:[l["default"]],contextTypes:{layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object},propTypes:{children:i["default"].PropTypes.node,layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object},childContextTypes:{layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object},getChildContext:function(){return{layerContainer:void 0!==this.props.layerContainer?this.props.layerContainer:this.context.layerContainer,map:void 0!==this.props.map?this.props.map:this.context.map}},render:function(){var t=this.props.children;return t=(0,c["default"])(this,t,f),i["default"].createElement(a.FeatureGroup,{children:t})}});t.exports=p},function(t,e,n){var r=n(1398);"string"==typeof r&&(r=[[t.id,r,""]]);n(782)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(781)(),e.push([t.id,".map-sidebar{width:280px}.map-controls{-ms-flex-align:start;align-items:flex-start}.map-controls .dropdown-option{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.map-controls .dropdown-option .icon{color:#757575;padding-right:7px}.map-content{height:calc(100% - 33px)}.dropdown-option .icon{color:#757575;padding-right:7px}",""])},function(t,e,n){var r,o,i;!function(a,s){o=[n(1343)],r=s,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i))}(this,function(t){"use strict";return t.TileLayer.Provider=t.TileLayer.extend({initialize:function(e,n){var r=t.TileLayer.Provider.providers,o=e.split("."),i=o[0],a=o[1];if(!r[i])throw"No such provider ("+i+")";var s={url:r[i].url,options:r[i].options};if(a&&"variants"in r[i]){if(!(a in r[i].variants))throw"No such variant of "+i+" ("+a+")";var l,u=r[i].variants[a];l="string"==typeof u?{variant:u}:u.options,s={url:u.url||s.url,options:t.Util.extend({},s.options,l)}}var c="file:"===window.location.protocol||s.options.forceHTTP;0===s.url.indexOf("//")&&c&&(s.url="http:"+s.url),s.options.retina&&(n.detectRetina&&t.Browser.retina?n.detectRetina=!1:s.options.retina="");var f=function(t){return t.indexOf("{attribution.")===-1?t:t.replace(/\{attribution.(\w*)\}/,function(t,e){return f(r[e].options.attribution)})};s.options.attribution=f(s.options.attribution);var p=t.Util.extend({},s.options,n);t.TileLayer.prototype.initialize.call(this,s.url,p)}}),t.TileLayer.Provider.providers={OpenStreetMap:{url:"//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'},variants:{Mapnik:{},BlackAndWhite:{url:"http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",options:{maxZoom:18}},DE:{url:"http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png",options:{maxZoom:18}},France:{url:"//{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",options:{maxZoom:20,attribution:"&copy; Openstreetmap France | {attribution.OpenStreetMap}"}},HOT:{url:"//{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>'}}}},OpenSeaMap:{url:"http://tiles.openseamap.org/seamark/{z}/{x}/{y}.png",options:{attribution:'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors'}},OpenTopoMap:{url:"//{s}.tile.opentopomap.org/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: {attribution.OpenStreetMap}, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},Thunderforest:{url:"//{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png",options:{attribution:'&copy; <a href="http://www.thunderforest.com/">Thunderforest</a>, {attribution.OpenStreetMap}',variant:"cycle"},variants:{OpenCycleMap:"cycle",Transport:{options:{variant:"transport",maxZoom:19}},TransportDark:{options:{variant:"transport-dark",maxZoom:19}},SpinalMap:{options:{variant:"spinal-map",maxZoom:11}},Landscape:"landscape",Outdoors:"outdoors",Pioneer:"pioneer"}},OpenMapSurfer:{url:"http://korona.geog.uni-heidelberg.de/tiles/{variant}/x={x}&y={y}&z={z}",options:{maxZoom:20,variant:"roads",attribution:'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Roads:"roads",AdminBounds:{options:{variant:"adminb",maxZoom:19}},Grayscale:{options:{variant:"roadsg",maxZoom:19}}}},Hydda:{url:"//{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png",options:{variant:"full",attribution:'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Full:"full",Base:"base",RoadsAndLabels:"roads_and_labels"}},MapBox:{url:"//api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}",options:{attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd"}},Stamen:{url:"//stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd",minZoom:0,maxZoom:20,variant:"toner",ext:"png"},variants:{Toner:"toner",TonerBackground:"toner-background",TonerHybrid:"toner-hybrid",TonerLines:"toner-lines",TonerLabels:"toner-labels",TonerLite:"toner-lite",Watercolor:{options:{variant:"watercolor",minZoom:1,maxZoom:16}},Terrain:{options:{variant:"terrain",minZoom:0,maxZoom:18}},TerrainBackground:{options:{variant:"terrain-background",minZoom:0,maxZoom:18}},TopOSMRelief:{options:{variant:"toposm-color-relief",ext:"jpg",bounds:[[22,-132],[51,-56]]}},TopOSMFeatures:{options:{variant:"toposm-features",bounds:[[22,-132],[51,-56]],opacity:.9}}}},Esri:{url:"//server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}",options:{variant:"World_Street_Map",attribution:"Tiles &copy; Esri"},variants:{WorldStreetMap:{options:{attribution:"{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}},DeLorme:{options:{variant:"Specialty/DeLorme_World_Base_Map",minZoom:1,maxZoom:11,attribution:"{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme"}},WorldTopoMap:{options:{variant:"World_Topo_Map",attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}},WorldImagery:{options:{variant:"World_Imagery",attribution:"{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},WorldTerrain:{options:{variant:"World_Terrain_Base",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS"}},WorldShadedRelief:{options:{variant:"World_Shaded_Relief",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: Esri"}},WorldPhysical:{options:{variant:"World_Physical_Map",maxZoom:8,attribution:"{attribution.Esri} &mdash; Source: US National Park Service"}},OceanBasemap:{options:{variant:"Ocean_Basemap",maxZoom:13,attribution:"{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}},NatGeoWorldMap:{options:{variant:"NatGeo_World_Map",maxZoom:16,attribution:"{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC"}},WorldGrayCanvas:{options:{variant:"Canvas/World_Light_Gray_Base",maxZoom:16,attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ"}}}},OpenWeatherMap:{url:"http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',opacity:.5},variants:{Clouds:"clouds",CloudsClassic:"clouds_cls",Precipitation:"precipitation",PrecipitationClassic:"precipitation_cls",Rain:"rain",RainClassic:"rain_cls",Pressure:"pressure",PressureContour:"pressure_cntr",Wind:"wind",Temperature:"temp",Snow:"snow"}},HERE:{url:"//{s}.{base}.maps.cit.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}",options:{attribution:'Map &copy; 1987-2014 <a href="http://developer.here.com">HERE</a>',subdomains:"1234",mapID:"newest",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",base:"base",variant:"normal.day",maxZoom:20,type:"maptile",language:"eng",format:"png8",size:"256"},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",basicMap:{options:{type:"basetile"}},mapLabels:{options:{type:"labeltile",format:"png"}},trafficFlow:{options:{base:"traffic",type:"flowtile"}},carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},FreeMapSK:{url:"http://t{s}.freemap.sk/T/{z}/{x}/{y}.jpeg",options:{minZoom:8,maxZoom:16,subdomains:"1234",bounds:[[47.204642,15.996093],[49.830896,22.576904]],attribution:'{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href="http://freemap.sk">Freemap.sk</a>'}},MtbMap:{url:"http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",options:{attribution:"{attribution.OpenStreetMap} &amp; USGS"}},CartoDB:{url:"http://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap} &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',subdomains:"abcd",maxZoom:19,variant:"light_all"},variants:{Positron:"light_all",PositronNoLabels:"light_nolabels",PositronOnlyLabels:"light_only_labels",DarkMatter:"dark_all",DarkMatterNoLabels:"dark_nolabels",DarkMatterOnlyLabels:"dark_only_labels"}},HikeBike:{url:"http://{s}.tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:"{attribution.OpenStreetMap}",variant:"hikebike"},variants:{HikeBike:{},HillShading:{options:{maxZoom:15,variant:"hillshading"}}}},BasemapAT:{url:"//maps{s}.wien.gv.at/basemap/{variant}/normal/google3857/{z}/{y}/{x}.{format}",options:{maxZoom:19,attribution:'Datenquelle: <a href="www.basemap.at">basemap.at</a>',subdomains:["","1","2","3","4"],format:"png",bounds:[[46.35877,8.782379],[49.037872,17.189532]],variant:"geolandbasemap"},variants:{basemap:"geolandbasemap",grau:"bmapgrau",overlay:"bmapoverlay",highdpi:{options:{variant:"bmaphidpi",format:"jpeg"}},orthofoto:{options:{variant:"bmaporthofoto30cm",format:"jpeg"}}}},NASAGIBS:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{maxZoom}/{z}/{y}/{x}.{format}",options:{attribution:'Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href="https://earthdata.nasa.gov">ESDIS</a>) with funding provided by NASA/HQ.',bounds:[[-85.0511287776,-179.999999975],[85.0511287776,179.999999975]],minZoom:1,maxZoom:9,format:"jpg",time:"",tilematrixset:"GoogleMapsCompatible_Level"},variants:{ModisTerraTrueColorCR:"MODIS_Terra_CorrectedReflectance_TrueColor",ModisTerraBands367CR:"MODIS_Terra_CorrectedReflectance_Bands367",ViirsEarthAtNight2012:{options:{variant:"VIIRS_CityLights_2012",maxZoom:8}},ModisTerraLSTDay:{options:{variant:"MODIS_Terra_Land_Surface_Temp_Day",format:"png",maxZoom:7,opacity:.75}},ModisTerraSnowCover:{options:{variant:"MODIS_Terra_Snow_Cover",format:"png",maxZoom:8,opacity:.75}},ModisTerraAOD:{options:{variant:"MODIS_Terra_Aerosol",format:"png",maxZoom:6,opacity:.75}},ModisTerraChlorophyll:{options:{variant:"MODIS_Terra_Chlorophyll_A",format:"png",maxZoom:7,opacity:.75}}}},NLS:{url:"//nls-{s}.tileserver.com/nls/{z}/{x}/{y}.jpg",options:{attribution:'<a href="http://geo.nls.uk/maps/">National Library of Scotland Historic Maps</a>',bounds:[[49.6,-12],[61.7,3]],
minZoom:1,maxZoom:18,subdomains:"0123"}}},t.tileLayer.provider=function(e,n){return new t.TileLayer.Provider(e,n)},t})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(582),s=r(a),l=n(1379),u=r(l),c=n(1396),f=r(c),p=n(1380),h=r(p),d=n(1401),m=r(d),y=i["default"].createClass({displayName:"PieChartMapWidget",mixins:[s["default"]],propTypes:{chartDataTable:i["default"].PropTypes.string,center:i["default"].PropTypes.object,componentColumns:i["default"].PropTypes.array,setProps:i["default"].PropTypes.func,locationDataTable:i["default"].PropTypes.string,locationNameProperty:i["default"].PropTypes.string,locationSizeProperty:i["default"].PropTypes.string,primKey:i["default"].PropTypes.string,table:i["default"].PropTypes.string,title:i["default"].PropTypes.string,zoom:i["default"].PropTypes.number},title:function(){return this.props.title||"Pie Chart Map"},render:function(){var t=this.props,e=t.center,n=t.chartDataTable,r=t.componentColumns,o=t.setProps,a=t.locationDataTable,s=t.locationNameProperty,l=t.locationSizeProperty,c=t.primKey,p=t.table,d=t.zoom;void 0===n&&void 0!==p&&(n=p);var y={height:"100%"};return i["default"].createElement(u["default"],{center:e,setProps:o,style:y,zoom:d},i["default"].createElement(f["default"],null,i["default"].createElement(h["default"],null),i["default"].createElement(m["default"],{locationDataTable:a,chartDataTable:n,componentColumns:r,locationNameProperty:s,locationSizeProperty:l,primKey:c})))}});t.exports=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(316),s=r(a),l=n(583),u=r(l),c=n(922),f=r(c),p=n(582),h=r(p),d=n(933),m=r(d),y=n(1390),v=r(y),g=n(1393),b=r(g),_=n(950),x=r(_),w=n(1396),T=r(w),E=n(1402),C=r(E),k=n(1409),S=n(927),P=r(S),M=n(920),A=r(M),O=n(941),D=r(O),L=n(1013),I=r(L),j=n(768),F=r(j),R=n(952),N=r(R),z=n(1193),B=r(z),U=s["default"].createClass({displayName:"PieChartMarkersLayerWidget",mixins:[h["default"],u["default"],(0,f["default"])("locationDataTable","chartDataTable","primKey")],contextTypes:{crs:s["default"].PropTypes.object,layerContainer:s["default"].PropTypes.object,map:s["default"].PropTypes.object,changeLayerStatus:s["default"].PropTypes.func},propTypes:{defaultResidualFractionName:s["default"].PropTypes.string,defaultResidualSectorColor:s["default"].PropTypes.string,chartDataTable:s["default"].PropTypes.string.isRequired,componentColumns:s["default"].PropTypes.array.isRequired,primKey:s["default"].PropTypes.string.isRequired,locationDataTable:s["default"].PropTypes.string.isRequired,locationNameProperty:s["default"].PropTypes.string,locationSizeProperty:s["default"].PropTypes.string,residualFractionName:s["default"].PropTypes.string,residualSectorColor:s["default"].PropTypes.string},childContextTypes:{onClickMarker:s["default"].PropTypes.func},getChildContext:function(){return{onClickMarker:this.handleClickMarker}},getDefaultProps:function(){return{defaultResidualFractionName:"Other",defaultResidualSectorColor:"rgb(191,191,191)"}},getInitialState:function(){return{markers:[]}},handleClickMarker:function(t,e){var n=1==t.originalEvent.button||t.originalEvent.metaKey||t.originalEvent.ctrlKey;n||t.originalEvent.stopPropagation(),this.getFlux().actions.panoptes.dataItemPopup({table:e.chartDataTable,primKey:e.primKey,switchTo:!n})},adaptMarkerRadii:function(t,e){var n=this,r=(0,D["default"])(t);return e&&r.length>0?!function(){var t=e.getNorthWest(),o=e.getSouthEast();o.lng<t.lng&&(o.lng=180,t.lng=-180);var i=(0,B["default"])((0,N["default"])((0,F["default"])(r,function(e){return e.lat>=o.lat&&e.lat<=t.lat&&e.lng>=t.lng&&e.lng<=o.lng}),function(t){return t.radius*t.radius*2*Math.PI})),a=.01;if(i>0){t=(0,k.latlngToMercatorXY)(t),o=(0,k.latlngToMercatorXY)(o);var s=(t.y-o.y)*(o.x-t.x),l=a*Math.sqrt(s/i);n.lastFactor=l}n.lastFactor?r.forEach(function(t){return t.radius=t.radius*n.lastFactor}):r=[]}():r=[],r},fetchData:function(t,e){var n=this,r=t.defaultResidualFractionName,a=t.defaultResidualSectorColor,s=t.locationDataTable,l=t.locationNameProperty,u=t.locationSizeProperty,c=t.primKey,f=t.chartDataTable,p=t.componentColumns,h=t.residualFractionName,d=t.residualSectorColor,y=this.context.changeLayerStatus,g=this.config.tablesById[s];if(void 0===g)return console.error("locationTableConfig === undefined"),null;if(g.hasGeoCoord===!1)return console.error("locationTableConfig.hasGeoCoord === false"),null;y({loadStatus:"loading"});var b=g.primKey,_=g.longitude,w=g.latitude,T=[b,_,w];l&&T.push(l),u&&T.push(u);var E={};T.map(function(t){return E[t]=g.propertiesById[t].defaultDisplayEncoding});var C={database:this.config.dataset,table:g.fetchTableName,columns:E},k={database:this.config.dataset,table:f,primKeyField:this.config.tablesById[f].primKey,primKeyValue:c};e.request(function(t){return Promise.all([P["default"].get("pageQuery"+JSON.stringify(C),function(t){return m["default"].pageQuery(i({cancellation:t},C))},t),P["default"].get("fetchSingleRecord"+JSON.stringify(k),function(t){return m["default"].fetchSingleRecord(i({cancellation:t},k))},t)])}).then(function(t){for(var e=o(t,2),i=e[0],m=e[1],g=[],b=n.config.tablesById[s],_=b.primKey,x=0;x<i.length;x++){for(var w=[],T=i[x][_],E=0;E<p.length;E++){var C=p[E].pattern.replace("{locid}",T);w.push({name:p[E].name,value:null!==m[C]?m[C]:0,color:p[E].color})}var k=(0,I["default"])(w,"value");k<1&&w.push({name:null!=h?h:r,value:(1-k).toFixed(2),color:null!=d?d:a}),g.push({chartDataTable:f,key:x,lat:i[x][b.latitude],lng:i[x][b.longitude],name:i[x][l],radius:Math.sqrt(i[x][u]),chartData:w,locationTable:s,locationPrimKey:T,primKey:c})}var S=v["default"].calcMapBounds(g);g=n.adaptMarkerRadii(g,S),n.setState({markers:g}),y({loadStatus:"loaded",bounds:S})})["catch"](m["default"].filterAborted)["catch"](P["default"].filterCancelled)["catch"](function(r){throw(0,x["default"])(n.getFlux(),r.message,function(){return n.fetchData(t,e)}),y({loadStatus:"error"}),r})},render:function(){var t=this,e=this.context,n=e.crs,r=e.layerContainer,o=e.map,i=this.state.markers;return i.length?s["default"].createElement(C["default"],{nodes:i},function(e){return s["default"].createElement(T["default"],{layerContainer:r,map:o},e.map(function(e,r){return s["default"].createElement(b["default"],{key:r,position:{lat:e.lat,lng:e.lng},onClick:function(n){return t.handleClickMarker(n,e)}},s["default"].createElement(A["default"],{chartData:e.chartData,crs:n,key:r,lat:e.lat,lng:e.lng,name:e.name,originalLat:e.lat,originalLng:e.lng,radius:e.radius}))}))}):null}});t.exports=U},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=t.collisionRadius+16,n=t.x-e,r=t.x+e,o=t.y-e,i=t.y+e;return function(e,a,s,l,u){if(e.point&&e.point!==t){var c=t.x-e.point.x,f=t.y-e.point.y,p=Math.sqrt(c*c+f*f),h=t.collisionRadius+e.point.collisionRadius;p<h&&(p=(p-h)/p*.5,t.x-=c*=.15*p,t.y-=f*=.15*p,e.point.x+=c,e.point.y+=f)}return a>r||l<n||s>i||u<o}}function i(t){var e=t.propNodes,n=t.prevRenderNodes,r=(0,m["default"])(e);r.forEach(l),r.forEach(a);var o=(0,m["default"])(e);(0,x["default"])(o,r).forEach(function(t){var e=u(t,2),n=e[0],r=e[1];n.fixed=!0,r.fixed=!1,r.originalNode=n});var i=(0,b["default"])(n,"key");return r.forEach(function(t){i[t.key]&&["x","y","lat","lng"].forEach(function(e){return t[e]=i[t.key][e]})}),{fixedNodes:o,nextRenderNodes:r}}function a(t){t.collisionRadius=(0,w.latlngToMercatorXY)({lat:0,lng:t.radius}).x}function s(t){var e=(0,w.mercatorXYtolatlng)(t),n=e.lat,r=e.lng;t.lng=r,t.lat=n}function l(t){var e=(0,w.latlngToMercatorXY)(t),n=e.x,r=e.y;t.x=n,t.y=r}var u=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=n(917),f=r(c),p=n(316),h=r(p),d=n(941),m=r(d),y=n(1015),v=r(y),g=n(1403),b=r(g),_=n(1407),x=r(_),w=n(1409),T=h["default"].createClass({displayName:"GeoLayouter",propTypes:{nodes:h["default"].PropTypes.array.isRequired,children:h["default"].PropTypes.func.isRequired},getDefaultProps:function(){return{nodes:[]}},componentWillMount:function(){this.renderNodes=[],this.force=f["default"].layout.force(),this.force.on("tick",this.handleTick),this.force.gravity(0),this.force.friction(.1),this.force.linkStrength(.9),this.force.linkDistance(0),this.force.charge(0),this.initForceUsingProps(),this.force.start()},componentWillUnmount:function(){this.force.stop()},handleTick:function(){this.detectCollisions(),this.forceUpdate()},detectCollisions:function(){var t=f["default"].geom.quadtree(this.renderNodes);(0,v["default"])(this.renderNodes,function(e){return t.visit(o(e))})},initForceUsingProps:function(){var t=this.props.nodes,e=i({propNodes:t,prevRenderNodes:this.renderNodes}),n=e.fixedNodes,r=e.nextRenderNodes;this.force.nodes(n.concat(r));for(var o=[],a=0;a<n.size;a++)o.push({source:a,target:n.size+a});this.force.links(o),this.renderNodes=r},render:function(){return(0,v["default"])(this.renderNodes,s),this.props.children(this.renderNodes)}});t.exports=T},function(t,e,n){var r=n(790),o=n(1404),i=o(function(t,e,n){r(t,n,e)});t.exports=i},function(t,e,n){function r(t,e){return function(n,r){var l=s(n)?o:i,u=e?e():{};return l(n,t,a(r,2),u)}}var o=n(1405),i=n(1406),a=n(727),s=n(630);t.exports=r},function(t,e){function n(t,e,n,r){for(var o=-1,i=t?t.length:0;++o<i;){var a=t[o];e(r,a,n(a),t)}return r}t.exports=n},function(t,e,n){function r(t,e,n,r){return o(t,function(t,o,i){e(r,t,n(t),i)}),r}var o=n(722);t.exports=r},function(t,e,n){var r=n(592),o=n(1408),i=r(o);t.exports=i},function(t,e,n){function r(t){if(!t||!t.length)return[];var e=0;return t=o(t,function(t){if(l(t))return e=u(t.length,e),!0}),s(e,function(e){return i(t,a(e))})}var o=n(769),i=n(767),a=n(748),s=n(702),l=n(704),u=Math.max;t.exports=r},function(t,e){"use strict";var n=Math.PI,r=Math.exp,o=Math.log,i=Math.sin,a=Math.asin,s=n/180,l=180/n,u=function(t){return(r(t)-r(-t))/2},c=function(t){return(r(t)+r(-t))/2},f=function(t){return u(t)/c(t)},p=function(t){return o((1+t)/(1-t))/2};t.exports={latlngToMercatorXY:function(t){var e=t.lat,r=t.lng;return{x:r/180,y:p(i(e*s))/n}},mercatorXYtolatlng:function(t){var e=t.x,r=t.y;return{lat:a(f(r*n))*l,lng:180*(e>0?(e+1)%2-1:(e-1)%2+1)}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(1340),s=n(582),l=r(s),u=i["default"].createClass({displayName:"CircleWidget",mixins:[l["default"]],propTypes:{center:i["default"].PropTypes.object,radius:i["default"].PropTypes.number},render:function(){var t=this.props,e=t.center,n=t.radius;return i["default"].createElement(a.Circle,{children:null,center:e,radius:n})}});t.exports=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(1340),s=n(761),l=r(s),u=n(582),c=r(u),f=i["default"].createClass({displayName:"PopupWidget",mixins:[c["default"]],contextTypes:{layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object},propTypes:{children:i["default"].PropTypes.node,layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object},childContextTypes:{layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object},getChildContext:function(){return{layerContainer:void 0!==this.props.layerContainer?this.props.layerContainer:this.context.layerContainer,map:void 0!==this.props.map?this.props.map:this.context.map}},render:function(){var t=(0,l["default"])(this,this.props.children);return i["default"].createElement(a.Popup,{children:i["default"].Children.only(t)})}});t.exports=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(1340),s=n(582),l=r(s),u=i["default"].createClass({displayName:"RectangleWidget",mixins:[l["default"]],propTypes:{bounds:i["default"].PropTypes.array},render:function(){return i["default"].createElement(a.Rectangle,{bounds:this.props.bounds})}});t.exports=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(1340),s=n(582),l=r(s),u=i["default"].createClass({displayName:"WMSTileLayerWidget",mixins:[l["default"]],contextTypes:{layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object},propTypes:{attribution:i["default"].PropTypes.string,format:i["default"].PropTypes.string,layerContainer:i["default"].PropTypes.object,layers:i["default"].PropTypes.string,map:i["default"].PropTypes.object,transparent:i["default"].PropTypes.bool,url:i["default"].PropTypes.string.isRequired,version:i["default"].PropTypes.string},childContextTypes:{layerContainer:i["default"].PropTypes.object,map:i["default"].PropTypes.object},getChildContext:function(){return{layerContainer:void 0!==this.props.layerContainer?this.props.layerContainer:this.context.layerContainer,map:void 0!==this.props.map?this.props.map:this.context.map}},getDefaultProps:function(){return{attribution:"Weather data  2012 IEM Nexrad",format:"image/png",layers:"nexrad-n0r-900913",transparent:!0,url:"http://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r.cgi"}},render:function(){var t=this.props,e=t.attribution,n=t.format,r=t.layers,o=t.transparent,s=t.url;return i["default"].createElement(a.WMSTileLayer,{attribution:e,children:void 0,format:n,layers:r,transparent:o,url:s})}});t.exports=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(941),l=r(s),u=n(584),c=r(u),f=n(582),p=r(f),h=n(583),d=r(h),m=n(922),y=r(m),v=n(927),g=r(v),b=n(933),_=r(b),x=n(1251),w=r(x),T=n(950),E=r(T),C=n(1241),k=r(C),S=a["default"].createClass({displayName:"OverviewWidget",mixins:[c["default"],p["default"],d["default"],(0,y["default"])("table","primKey")],propTypes:{title:a["default"].PropTypes.string,table:a["default"].PropTypes.string,primKey:a["default"].PropTypes.string,className:a["default"].PropTypes.string},getInitialState:function(){return{loadStatus:"loaded"}},fetchData:function(t,e){var n=this,r=t.table,i=t.primKey;this.setState({loadStatus:"loading"});var a={database:this.config.dataset,table:r,primKeyField:this.config.tablesById[r].primKey,primKeyValue:i};e.request(function(t){return g["default"].get("fetchSingleRecord"+JSON.stringify(a),function(t){return _["default"].fetchSingleRecord(o({cancellation:t},a))},t)}).then(function(t){n.setState({loadStatus:"loaded",data:t})})["catch"](_["default"].filterAborted)["catch"](g["default"].filterCancelled)["catch"](function(r){(0,E["default"])(n.getFlux(),r.message,function(){return n.fetchData(t,e)}),n.setState({loadStatus:"error"})})},title:function(){return this.props.title},render:function(){var t=this.props,e=t.table,n=t.className,r=this.state,o=r.data,i=r.loadStatus;if(!o)return null;for(var s=(0,l["default"])(this.config.tablesById[e].properties),u=0;u<s.length;u++)s[u].value=o[s[u].id];return a["default"].createElement("div",null,a["default"].createElement(w["default"],{propertiesData:s,className:n}),a["default"].createElement(k["default"],{status:i}))}});t.exports=S},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(316),s=r(a),l=n(1229),u=r(l),c=n(971),f=r(c),p=n(955),h=r(p),d=n(952),m=r(d),y=n(1223),v=r(y),g=n(584),b=r(g),_=n(583),x=r(_),w=n(582),T=r(w),E=n(1019),C=r(E),k=n(1059),S=r(k),P=n(957),M=r(P),A=n(750),O=r(A),D=n(1016),L=r(D),I=n(940),j=r(I),F=n(1416),R=r(F),N=n(1387),z=r(N),B=n(1421),U=n(1244),W=r(U),q=n(1065),V=r(q);n(1422);var H=s["default"].createClass({displayName:"TablePlotActions",mixins:[b["default"],x["default"],T["default"]],propTypes:i({setProps:s["default"].PropTypes.func,title:s["default"].PropTypes.string,sidebar:s["default"].PropTypes.bool,plotType:s["default"].PropTypes.string,table:s["default"].PropTypes.string,query:s["default"].PropTypes.string},(0,v["default"])(B.allDimensions,function(t,e){return t[e]=s["default"].PropTypes.string,t},{})),getDefaultProps:function(){return{query:j["default"].nullQuery,setProps:null,sidebar:!0}},componentWillMount:function(){},icon:function(){return"bar-chart"},title:function(){return this.props.title||"Table Plotter"},handleQueryPick:function(t){this.props.setProps({query:t})},handleChangeTable:function(t){this.props.setProps({table:t})},render:function(){var t=this,e=this.props,n=e.sidebar,r=e.table,i=e.query,a=e.plotType,l=e.setProps,c=(0,m["default"])(this.config.visibleTables,function(t){return{value:t.id,leftIcon:s["default"].createElement(O["default"],{fixedWidth:!0,name:t.icon}),label:t.capNamePlural}}),p=s["default"].createElement("div",{className:"sidebar plot-sidebar"},s["default"].createElement(M["default"],{icon:this.icon(),description:"View table data graphically"}),s["default"].createElement("div",{className:"plot-controls vertical stack"},s["default"].createElement(W["default"],{value:r,autoWidth:!0,floatingLabelText:"Table",onChange:this.handleChangeTable,options:c}),r?s["default"].createElement(V["default"],{table:r,query:i,onPick:this.handleQueryPick}):null,s["default"].createElement(C["default"],{value:a,autoWidth:!0,floatingLabelText:"Plot Type:",onChange:function(t,e,n){return l({plotType:n})}},(0,m["default"])(B.plotTypes,function(t,e){return s["default"].createElement(S["default"],{value:e,key:e,primaryText:t.displayName})})),r&&a?(0,m["default"])(B.plotTypes[a].dimensions,function(e){return s["default"].createElement(L["default"],{table:r,key:e,value:t.config.tablesById[r].propertiesById[t.props[e]]?t.props[e]:null,label:(0,u["default"])(e),onSelect:function(t){return l(o({},e,t))}})}):null));return s["default"].createElement(h["default"],{docked:n,styles:{sidebar:{paddingRight:(0,f["default"])()+"px"}},sidebar:p},s["default"].createElement("div",{className:"vertical stack"},s["default"].createElement("div",{className:"top-bar"},s["default"].createElement(O["default"],{className:"pointer icon",name:n?"arrows-h":"bars",title:n?"Expand":"Sidebar",onClick:function(){return l({sidebar:!n})}}),s["default"].createElement("span",{className:"text"},a&&r?B.plotTypes[a].displayName+" plot of "+this.config.tablesById[r].namePlural:"Plot"),a&&r?s["default"].createElement("span",{className:"block text"},s["default"].createElement(z["default"],{prepend:"Filter:",table:r,query:i})):null),s["default"].createElement("div",{className:"grow"},r?s["default"].createElement(R["default"],this.props):null)))}});t.exports=H},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(768),l=r(s),u=n(952),c=r(u),f=n(1223),p=r(f),h=n(1417),d=r(h),m=n(584),y=r(m),v=n(583),g=r(v),b=n(922),_=r(b),x=n(582),w=r(x),T=n(1241),E=r(T),C=n(927),k=r(C),S=n(933),P=r(S),M=n(940),A=r(M),O=n(950),D=r(O),L=n(1421);n(1422);var I=a["default"].createClass({displayName:"TablePlotWidget",mixins:[y["default"],g["default"],w["default"],_["default"].apply(void 0,["table","query"].concat(L.allDimensions))],propTypes:o({setProps:a["default"].PropTypes.func,table:a["default"].PropTypes.string,query:a["default"].PropTypes.string},(0,p["default"])(L.allDimensions,function(t,e){return t[e]=a["default"].PropTypes.string,t},{})),getDefaultProps:function(){return{query:A["default"].nullQuery}},getInitialState:function(){return{loadStatus:"loaded"}},fetchData:function(t,e){var n=this,r=t.table,i=t.query,a=this.config.tablesById[r],s=(0,l["default"])(L.allDimensions,function(e){return t[e]&&a.propertiesById[t[e]]}),u=(0,c["default"])(s,function(e){return t[e]}),f={};(0,c["default"])(u,function(t){return f[t]=a.propertiesById[t].defaultFetchEncoding}),u.length>0?!function(){n.setState({loadStatus:"loading"});var r={database:n.config.dataset,table:a.fetchTableName,columns:f,query:i,transpose:!1};e.request(function(t){return k["default"].get("pageQuery"+JSON.stringify(r),function(t){return P["default"].pageQuery(o({cancellation:t},r))},t)}).then(function(e){n.setState((0,p["default"])(L.allDimensions,function(n,r){return n[r]=e[t[r]]||null,n},{loadStatus:"loaded"}))})["catch"](function(e){(0,D["default"])(n.getFlux(),e.message,function(){return n.fetchData(t)}),n.setState({loadStatus:"error"})})}():this.setState((0,p["default"])(L.allDimensions,function(t,e){return t[e]=null,t},{loadStatus:"loaded"}))},render:function(){var t=this.props.plotType,e=this.state.loadStatus;return a["default"].createElement("div",{className:"plot-container"},t?a["default"].createElement(d["default"],o({className:"plot",plotType:t},this.state)):null,a["default"].createElement(E["default"],{status:e}))}});t.exports=I},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(1418),l=r(s),u=n(1223),c=r(u),f=n(584),p=r(f),h=n(899),d=r(h),m=n(1421),y=a["default"].createClass({displayName:"Plot",mixins:[p["default"]],propTypes:o({plotType:a["default"].PropTypes.string},(0,c["default"])(m.allDimensions,function(t,e){return t[e]=a["default"].PropTypes.array,t},{})),getInitialState:function(){return{width:0,height:0}},componentDidMount:function(){},render:function(){var t=this,e=this.state,n=e.width,r=e.height,o=this.props.plotType,i={barmode:"overlay",autosize:!1,width:n,height:r},s={showLink:!1,displayModeBar:!0};return a["default"].createElement(d["default"],{onResize:function(e){t.setState(e)}},a["default"].createElement(l["default"],{className:"plot",data:m.plotTypes[o].plotlyTraces(this.props),layout:i,config:s}))}});t.exports=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(316),s=r(a),l=n(1419),u=r(l),c=n(1420),f=r(c),p=s["default"].createClass({displayName:"Plotly",propTypes:{data:s["default"].PropTypes.array,layout:s["default"].PropTypes.object,config:s["default"].PropTypes.object,onClick:s["default"].PropTypes.func,onBeforeHover:s["default"].PropTypes.func,onHover:s["default"].PropTypes.func,onUnHover:s["default"].PropTypes.func,onSelected:s["default"].PropTypes.func},attachListeners:function(){this.props.onClick&&this.container.on("plotly_click",this.props.onClick),this.props.onBeforeHover&&this.container.on("plotly_beforehover",this.props.onBeforeHover),this.props.onHover&&this.container.on("plotly_hover",this.props.onHover),this.props.onUnHover&&this.container.on("plotly_unhover",this.props.onUnHover),this.props.onSelected&&this.container.on("plotly_selected",this.props.onSelected)},shouldComponentUpdate:function(t){return!0},componentDidMount:function(){var t=this.props,e=t.data,n=t.layout,r=t.config;u["default"].newPlot(this.container,e,(0,f["default"])(n),r),this.attachListeners()},componentDidUpdate:function(t){t.data===this.props.data&&t.layout===this.props.layout||(u["default"].newPlot(this.container,this.props.data,this.props.layout),this.attachListeners())},componentWillUnmount:function(){u["default"].purge(this.container)},resize:function(){u["default"].Plots.resize(this.container)},render:function(){var t=this,e=this.props,n=(e.data,e.layout,e.config,o(e,["data","layout","config"]));return s["default"].createElement("div",i({},n,{ref:function(e){return t.container=e}}))}});t.exports=p},function(t,e){!function(n){if("object"==typeof e&&"undefined"!=typeof t)t.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.Plotly=n()}}(function(){var t;return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){"use strict";var r=t("../src/lib"),o={"X,X div":"font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .modebar":"position:absolute;top:2px;right:2px;z-index:1001;background:rgba(255,255,255,0.7);","X .modebar--hover":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;margin-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group:first-child":"margin-left:0px;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar-btn path":"fill:rgba(0,31,95,0.3);","X .modebar-btn.active path,X .modebar-btn:hover path":"fill:rgba(0,22,72,0.5);","X .modebar-btn.modebar-btn--logo":"padding:3px 1px;","X .modebar-btn.modebar-btn--logo path":"fill:#447adb !important;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans';position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in o){var a=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");r.addStyleRule(a,o[i])}},{"../src/lib":633}],2:[function(t,e,n){"use strict";e.exports={undo:{width:857.1,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",ascent:850,descent:-150},home:{width:928.6,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",ascent:850,descent:-150},"camera-retro":{width:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",ascent:850,descent:-150},zoombox:{width:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",ascent:850,descent:-150},pan:{width:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",ascent:850,descent:-150},zoom_plus:{width:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",ascent:850,descent:-150},zoom_minus:{width:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",ascent:850,descent:-150},autoscale:{width:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",
ascent:850,descent:-150},tooltip_basic:{width:1500,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",ascent:850,descent:-150},tooltip_compare:{width:1125,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",ascent:850,descent:-150},plotlylogo:{width:1542,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",ascent:850,descent:-150},"z-axis":{width:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",ascent:850,descent:-150},"3d_rotate":{width:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",ascent:850,descent:-150},camera:{width:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",ascent:850,descent:-150},movie:{width:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",ascent:850,descent:-150},question:{width:857.1,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",ascent:850,descent:-150},disk:{width:857.1,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",ascent:850,descent:-150},lasso:{width:1031,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",ascent:850,descent:-150},selectbox:{width:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",ascent:850,descent:-150}}},{}],3:[function(t,e,n){"use strict";e.exports=t("../src/traces/bar")},{"../src/traces/bar":749}],4:[function(t,e,n){"use strict";e.exports=t("../src/traces/box")},{"../src/traces/box":760}],5:[function(t,e,n){"use strict";e.exports=t("../src/traces/choropleth")},{"../src/traces/choropleth":769}],6:[function(t,e,n){"use strict";e.exports=t("../src/traces/contour")},{"../src/traces/contour":776}],7:[function(t,e,n){"use strict";e.exports=t("../src/core")},{"../src/core":621}],8:[function(t,e,n){"use strict";e.exports=t("../src/traces/heatmap")},{"../src/traces/heatmap":788}],9:[function(t,e,n){"use strict";e.exports=t("../src/traces/histogram")},{"../src/traces/histogram":799}],10:[function(t,e,n){"use strict";e.exports=t("../src/traces/histogram2d")},{"../src/traces/histogram2d":804}],11:[function(t,e,n){"use strict";e.exports=t("../src/traces/histogram2dcontour")},{"../src/traces/histogram2dcontour":808}],12:[function(t,e,n){"use strict";var r=t("./core");r.register([t("./bar"),t("./box"),t("./heatmap"),t("./histogram"),t("./histogram2d"),t("./histogram2dcontour"),t("./pie"),t("./contour"),t("./scatter3d"),t("./surface"),t("./mesh3d"),t("./scattergeo"),t("./choropleth"),t("./scattergl"),t("./pointcloud"),t("./scatterternary"),t("./scattermapbox")]),e.exports=r},{"./bar":3,"./box":4,"./choropleth":5,"./contour":6,"./core":7,"./heatmap":8,"./histogram":9,"./histogram2d":10,"./histogram2dcontour":11,"./mesh3d":13,"./pie":14,"./pointcloud":15,"./scatter3d":16,"./scattergeo":17,"./scattergl":18,"./scattermapbox":19,"./scatterternary":20,"./surface":21}],13:[function(t,e,n){"use strict";e.exports=t("../src/traces/mesh3d")},{"../src/traces/mesh3d":812}],14:[function(t,e,n){"use strict";e.exports=t("../src/traces/pie")},{"../src/traces/pie":818}],15:[function(t,e,n){"use strict";e.exports=t("../src/traces/pointcloud")},{"../src/traces/pointcloud":827}],16:[function(t,e,n){"use strict";e.exports=t("../src/traces/scatter3d")},{"../src/traces/scatter3d":857}],17:[function(t,e,n){"use strict";e.exports=t("../src/traces/scattergeo")},{"../src/traces/scattergeo":861}],18:[function(t,e,n){"use strict";e.exports=t("../src/traces/scattergl")},{"../src/traces/scattergl":866}],19:[function(t,e,n){"use strict";e.exports=t("../src/traces/scattermapbox")},{"../src/traces/scattermapbox":872}],20:[function(t,e,n){"use strict";e.exports=t("../src/traces/scatterternary")},{"../src/traces/scatterternary":878}],21:[function(t,e,n){"use strict";e.exports=t("../src/traces/surface")},{"../src/traces/surface":887}],22:[function(t,e,n){"use strict";function r(t,e,n){return Math.min(e,Math.max(t,n))}function o(t,e,n){this.dimension=t.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var r=0;r<this.dimension;++r)this.bounds[0][r]=-(1/0),this.bounds[1][r]=1/0;this._state=t.slice().reverse(),this._velocity=e.slice().reverse(),this._time=[n],this._scratch=[t.slice(),t.slice(),t.slice(),t.slice(),t.slice()]}function i(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}function a(t,e,n){switch(arguments.length){case 0:return new o([0],[0],0);case 1:if("number"==typeof t){var r=i(t);return new o(r,r,0)}return new o(t,i(t.length),0);case 2:if("number"==typeof e){var r=i(t.length);return new o(t,r,(+e))}n=0;case 3:if(t.length!==e.length)throw new Error("state and velocity lengths must match");return new o(t,e,n)}}e.exports=a;var s=t("cubic-hermite"),l=t("binary-search-bounds"),u=o.prototype;u.flush=function(t){var e=l.gt(this._time,t)-1;e<=0||(this._time.splice(0,e),this._state.splice(0,e*this.dimension),this._velocity.splice(0,e*this.dimension))},u.curve=function(t){var e=this._time,n=e.length,o=l.le(e,t),i=this._scratch[0],a=this._state,u=this._velocity,c=this.dimension,f=this.bounds;if(o<0)for(var p=c-1,h=0;h<c;++h,--p)i[h]=a[p];else if(o>=n-1)for(var p=a.length-1,d=t-e[n-1],h=0;h<c;++h,--p)i[h]=a[p]+d*u[p];else{for(var p=c*(o+1)-1,m=e[o],y=e[o+1],v=y-m||1,g=this._scratch[1],b=this._scratch[2],_=this._scratch[3],x=this._scratch[4],w=!0,h=0;h<c;++h,--p)g[h]=a[p],_[h]=u[p]*v,b[h]=a[p+c],x[h]=u[p+c]*v,w=w&&g[h]===b[h]&&_[h]===x[h]&&0===_[h];if(w)for(var h=0;h<c;++h)i[h]=g[h];else s(g,_,b,x,(t-m)/v,i)}for(var T=f[0],E=f[1],h=0;h<c;++h)i[h]=r(T[h],E[h],i[h]);return i},u.dcurve=function(t){var e=this._time,n=e.length,r=l.le(e,t),o=this._scratch[0],i=this._state,a=this._velocity,u=this.dimension;if(r>=n-1)for(var c=i.length-1,f=(t-e[n-1],0);f<u;++f,--c)o[f]=a[c];else{for(var c=u*(r+1)-1,p=e[r],h=e[r+1],d=h-p||1,m=this._scratch[1],y=this._scratch[2],v=this._scratch[3],g=this._scratch[4],b=!0,f=0;f<u;++f,--c)m[f]=i[c],v[f]=a[c]*d,y[f]=i[c+u],g[f]=a[c+u]*d,b=b&&m[f]===y[f]&&v[f]===g[f]&&0===v[f];if(b)for(var f=0;f<u;++f)o[f]=0;else{s.derivative(m,v,y,g,(t-p)/d,o);for(var f=0;f<u;++f)o[f]/=d}}return o},u.lastT=function(){var t=this._time;return t[t.length-1]},u.stable=function(){for(var t=this._velocity,e=t.length,n=this.dimension-1;n>=0;--n)if(t[--e])return!1;return!0},u.jump=function(t){var e=this.lastT(),n=this.dimension;if(!(t<e||arguments.length!==n+1)){var o=this._state,i=this._velocity,a=o.length-this.dimension,s=this.bounds,l=s[0],u=s[1];this._time.push(e,t);for(var c=0;c<2;++c)for(var f=0;f<n;++f)o.push(o[a++]),i.push(0);this._time.push(t);for(var f=n;f>0;--f)o.push(r(l[f-1],u[f-1],arguments[f])),i.push(0)}},u.push=function(t){var e=this.lastT(),n=this.dimension;if(!(t<e||arguments.length!==n+1)){var o=this._state,i=this._velocity,a=o.length-this.dimension,s=t-e,l=this.bounds,u=l[0],c=l[1],f=s>1e-6?1/s:0;this._time.push(t);for(var p=n;p>0;--p){var h=r(u[p-1],c[p-1],arguments[p]);o.push(h),i.push((h-o[a++])*f)}}},u.set=function(t){var e=this.dimension;if(!(t<this.lastT()||arguments.length!==e+1)){var n=this._state,o=this._velocity,i=this.bounds,a=i[0],s=i[1];this._time.push(t);for(var l=e;l>0;--l)n.push(r(a[l-1],s[l-1],arguments[l])),o.push(0)}},u.move=function(t){var e=this.lastT(),n=this.dimension;if(!(t<=e||arguments.length!==n+1)){var o=this._state,i=this._velocity,a=o.length-this.dimension,s=this.bounds,l=s[0],u=s[1],c=t-e,f=c>1e-6?1/c:0;this._time.push(t);for(var p=n;p>0;--p){var h=arguments[p];o.push(r(l[p-1],u[p-1],o[a++]+h)),i.push(h*f)}}},u.idle=function(t){var e=this.lastT();if(!(t<e)){var n=this.dimension,o=this._state,i=this._velocity,a=o.length-n,s=this.bounds,l=s[0],u=s[1],c=t-e;this._time.push(t);for(var f=n-1;f>=0;--f)o.push(r(l[f],u[f],o[a]+c*i[a])),i.push(0),a+=1}}},{"binary-search-bounds":23,"cubic-hermite":24}],23:[function(t,e,n){"use strict";function r(t,e,n,r,o,i){var a=["function ",t,"(a,l,h,",r.join(","),"){",i?"":"var i=",n?"l-1":"h+1",";while(l<=h){\tvar m=(l+h)>>>1,x=a",o?".get(m)":"[m]"];return i?e.indexOf("c")<0?a.push(";if(x===y){return m}else if(x<=y){"):a.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):a.push(";if(",e,"){i=m;"),n?a.push("l=m+1}else{h=m-1}"):a.push("h=m-1}else{l=m+1}"),a.push("}"),i?a.push("return -1};"):a.push("return i};"),a.join("")}function o(t,e,n,o){var i=new Function([r("A","x"+t+"y",e,["y"],!1,o),r("B","x"+t+"y",e,["y"],!0,o),r("P","c(x,y)"+t+"0",e,["y","c"],!1,o),r("Q","c(x,y)"+t+"0",e,["y","c"],!0,o),"function dispatchBsearch",n,"(a,y,c,l,h){\tif(a.shape){\tif(typeof(c)==='function'){\treturn Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)\t}else{\treturn B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)\t}}else{\tif(typeof(c)==='function'){\treturn P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)\t}else{\treturn A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)\t}}}\treturn dispatchBsearch",n].join(""));return i()}e.exports={ge:o(">=",!1,"GE"),gt:o(">",!1,"GT"),lt:o("<",!0,"LT"),le:o("<=",!0,"LE"),eq:o("-",!0,"EQ",!0)}},{}],24:[function(t,e,n){"use strict";function r(t,e,n,r,o,i){var a=6*o*o-6*o,s=3*o*o-4*o+1,l=-6*o*o+6*o,u=3*o*o-2*o;if(t.length){i||(i=new Array(t.length));for(var c=t.length-1;c>=0;--c)i[c]=a*t[c]+s*e[c]+l*n[c]+u*r[c];return i}return a*t+s*e+l*n[c]+u*r}function o(t,e,n,r,o,i){var a=o-1,s=o*o,l=a*a,u=(1+2*o)*l,c=o*l,f=s*(3-2*o),p=s*a;if(t.length){i||(i=new Array(t.length));for(var h=t.length-1;h>=0;--h)i[h]=u*t[h]+c*e[h]+f*n[h]+p*r[h];return i}return u*t+c*e+f*n+p*r}e.exports=o,e.exports.derivative=r},{}],25:[function(t,e,n){function r(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],l=n[2];return t[0]=o*l-i*s,t[1]=i*a-r*l,t[2]=r*s-o*a,t}e.exports=r},{}],26:[function(t,e,n){function r(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}e.exports=r},{}],27:[function(t,e,n){function r(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}e.exports=r},{}],28:[function(t,e,n){function r(t,e,n,r){var o=e[0],i=e[1],a=e[2];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=a+r*(n[2]-a),t}e.exports=r},{}],29:[function(t,e,n){function r(t,e){var n=e[0],r=e[1],o=e[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t}e.exports=r},{}],30:[function(t,e,n){"use strict";function r(t){this._components=t.slice(),this._time=[0],this.prevMatrix=t.slice(),this.nextMatrix=t.slice(),this.computedMatrix=t.slice(),this.computedInverse=t.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-(1/0),1/0]}function o(t){t=t||{};var e=t.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new r(e)}var i=t("binary-search-bounds"),a=t("mat4-interpolate"),s=t("gl-mat4/invert"),l=t("gl-mat4/rotateX"),u=t("gl-mat4/rotateY"),c=t("gl-mat4/rotateZ"),f=t("gl-mat4/lookAt"),p=t("gl-mat4/translate"),h=(t("gl-mat4/scale"),t("gl-vec3/normalize")),d=[0,0,0];e.exports=o;var m=r.prototype;m.recalcMatrix=function(t){var e=this._time,n=i.le(e,t),r=this.computedMatrix;if(!(n<0)){var o=this._components;if(n===e.length-1)for(var l=16*n,u=0;u<16;++u)r[u]=o[l++];else{for(var c=e[n+1]-e[n],l=16*n,f=this.prevMatrix,p=!0,u=0;u<16;++u)f[u]=o[l++];for(var d=this.nextMatrix,u=0;u<16;++u)d[u]=o[l++],p=p&&f[u]===d[u];if(c<1e-6||p)for(var u=0;u<16;++u)r[u]=f[u];else a(r,f,d,(t-e[n])/c)}var m=this.computedUp;m[0]=r[1],m[1]=r[5],m[2]=r[6],h(m,m);var y=this.computedInverse;s(y,r);var v=this.computedEye,g=y[15];v[0]=y[12]/g,v[1]=y[13]/g,v[2]=y[14]/g;for(var b=this.computedCenter,_=Math.exp(this.computedRadius[0]),u=0;u<3;++u)b[u]=v[u]-r[2+4*u]*_}},m.idle=function(t){if(!(t<this.lastT())){for(var e=this._components,n=e.length-16,r=0;r<16;++r)e.push(e[n++]);this._time.push(t)}},m.flush=function(t){var e=i.gt(this._time,t)-2;e<0||(this._time.slice(0,e),this._components.slice(0,16*e))},m.lastT=function(){return this._time[this._time.length-1]},m.lookAt=function(t,e,n,r){this.recalcMatrix(t),e=e||this.computedEye,n=n||d,r=r||this.computedUp,this.setMatrix(t,f(this.computedMatrix,e,n,r));for(var o=0,i=0;i<3;++i)o+=Math.pow(n[i]-e[i],2);o=Math.log(Math.sqrt(o)),this.computedRadius[0]=o},m.rotate=function(t,e,n,r){this.recalcMatrix(t);var o=this.computedInverse;e&&u(o,o,e),n&&l(o,o,n),r&&c(o,o,r),this.setMatrix(t,s(this.computedMatrix,o))};var y=[0,0,0];m.pan=function(t,e,n,r){y[0]=-(e||0),y[1]=-(n||0),y[2]=-(r||0),this.recalcMatrix(t);var o=this.computedInverse;p(o,o,y),this.setMatrix(t,s(o,o))},m.translate=function(t,e,n,r){y[0]=e||0,y[1]=n||0,y[2]=r||0,this.recalcMatrix(t);var o=this.computedMatrix;p(o,o,y),this.setMatrix(t,o)},m.setMatrix=function(t,e){if(!(t<this.lastT())){this._time.push(t);for(var n=0;n<16;++n)this._components.push(e[n])}},m.setDistance=function(t,e){this.computedRadius[0]=e},m.setDistanceLimits=function(t,e){var n=this._limits;n[0]=t,n[1]=e},m.getDistanceLimits=function(t){var e=this._limits;return t?(t[0]=e[0],t[1]=e[1],t):e}},{"binary-search-bounds":31,"gl-mat4/invert":149,"gl-mat4/lookAt":150,"gl-mat4/rotateX":154,"gl-mat4/rotateY":155,"gl-mat4/rotateZ":156,"gl-mat4/scale":157,"gl-mat4/translate":158,"gl-vec3/normalize":29,"mat4-interpolate":32}],31:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],32:[function(t,e,n){function r(t,e,n,r){if(0===c(e)||0===c(n))return!1;var o=u(e,p.translate,p.scale,p.skew,p.perspective,p.quaternion),i=u(n,h.translate,h.scale,h.skew,h.perspective,h.quaternion);return!(!o||!i)&&(s(d.translate,p.translate,h.translate,r),s(d.skew,p.skew,h.skew,r),s(d.scale,p.scale,h.scale,r),s(d.perspective,p.perspective,h.perspective,r),f(d.quaternion,p.quaternion,h.quaternion,r),l(t,d.translate,d.scale,d.skew,d.perspective,d.quaternion),!0)}function o(){return{translate:i(),scale:i(1),skew:i(),perspective:a(),quaternion:a()}}function i(t){return[t||0,t||0,t||0]}function a(){return[0,0,0,1]}var s=t("gl-vec3/lerp"),l=t("mat4-recompose"),u=t("mat4-decompose"),c=t("gl-mat4/determinant"),f=t("quat-slerp"),p=o(),h=o(),d=o();e.exports=r},{"gl-mat4/determinant":145,"gl-vec3/lerp":28,"mat4-decompose":33,"mat4-recompose":35,"quat-slerp":36}],33:[function(t,e,n){function r(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,t[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,t[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,t[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,t}function o(t,e){t[0][0]=e[0],t[0][1]=e[1],t[0][2]=e[2],t[1][0]=e[4],t[1][1]=e[5],t[1][2]=e[6],t[2][0]=e[8],t[2][1]=e[9],t[2][2]=e[10]}function i(t,e,n,r,o){t[0]=e[0]*r+n[0]*o,t[1]=e[1]*r+n[1]*o,t[2]=e[2]*r+n[2]*o}var a=t("./normalize"),s=t("gl-mat4/create"),l=t("gl-mat4/clone"),u=t("gl-mat4/determinant"),c=t("gl-mat4/invert"),f=t("gl-mat4/transpose"),p={length:t("gl-vec3/length"),normalize:t("gl-vec3/normalize"),dot:t("gl-vec3/dot"),cross:t("gl-vec3/cross")},h=s(),d=s(),m=[0,0,0,0],y=[[0,0,0],[0,0,0],[0,0,0]],v=[0,0,0];e.exports=function(t,e,n,s,g,b){if(e||(e=[0,0,0]),n||(n=[0,0,0]),s||(s=[0,0,0]),g||(g=[0,0,0,1]),b||(b=[0,0,0,1]),!a(h,t))return!1;if(l(d,h),d[3]=0,d[7]=0,d[11]=0,d[15]=1,Math.abs(u(d)<1e-8))return!1;var _=h[3],x=h[7],w=h[11],T=h[12],E=h[13],C=h[14],k=h[15];if(0!==_||0!==x||0!==w){m[0]=_,m[1]=x,m[2]=w,m[3]=k;var S=c(d,d);if(!S)return!1;f(d,d),r(g,m,d)}else g[0]=g[1]=g[2]=0,g[3]=1;if(e[0]=T,e[1]=E,e[2]=C,o(y,h),n[0]=p.length(y[0]),p.normalize(y[0],y[0]),s[0]=p.dot(y[0],y[1]),i(y[1],y[1],y[0],1,-s[0]),n[1]=p.length(y[1]),p.normalize(y[1],y[1]),s[0]/=n[1],s[1]=p.dot(y[0],y[2]),i(y[2],y[2],y[0],1,-s[1]),s[2]=p.dot(y[1],y[2]),i(y[2],y[2],y[1],1,-s[2]),n[2]=p.length(y[2]),p.normalize(y[2],y[2]),s[1]/=n[2],s[2]/=n[2],p.cross(v,y[1],y[2]),p.dot(y[0],v)<0)for(var P=0;P<3;P++)n[P]*=-1,y[P][0]*=-1,y[P][1]*=-1,y[P][2]*=-1;return b[0]=.5*Math.sqrt(Math.max(1+y[0][0]-y[1][1]-y[2][2],0)),b[1]=.5*Math.sqrt(Math.max(1-y[0][0]+y[1][1]-y[2][2],0)),b[2]=.5*Math.sqrt(Math.max(1-y[0][0]-y[1][1]+y[2][2],0)),b[3]=.5*Math.sqrt(Math.max(1+y[0][0]+y[1][1]+y[2][2],0)),y[2][1]>y[1][2]&&(b[0]=-b[0]),y[0][2]>y[2][0]&&(b[1]=-b[1]),y[1][0]>y[0][1]&&(b[2]=-b[2]),!0}},{"./normalize":34,"gl-mat4/clone":143,"gl-mat4/create":144,"gl-mat4/determinant":145,"gl-mat4/invert":149,"gl-mat4/transpose":159,"gl-vec3/cross":25,"gl-vec3/dot":26,"gl-vec3/length":27,"gl-vec3/normalize":29}],34:[function(t,e,n){e.exports=function(t,e){var n=e[15];if(0===n)return!1;for(var r=1/n,o=0;o<16;o++)t[o]=e[o]*r;return!0}},{}],35:[function(t,e,n){var r={identity:t("gl-mat4/identity"),translate:t("gl-mat4/translate"),multiply:t("gl-mat4/multiply"),create:t("gl-mat4/create"),scale:t("gl-mat4/scale"),fromRotationTranslation:t("gl-mat4/fromRotationTranslation")},o=(r.create(),r.create());e.exports=function(t,e,n,i,a,s){return r.identity(t),r.fromRotationTranslation(t,s,e),t[3]=a[0],t[7]=a[1],t[11]=a[2],t[15]=a[3],r.identity(o),0!==i[2]&&(o[9]=i[2],r.multiply(t,t,o)),0!==i[1]&&(o[9]=0,o[8]=i[1],r.multiply(t,t,o)),0!==i[0]&&(o[8]=0,o[4]=i[0],r.multiply(t,t,o)),r.scale(t,t,n),t}},{"gl-mat4/create":144,"gl-mat4/fromRotationTranslation":147,"gl-mat4/identity":148,"gl-mat4/multiply":151,"gl-mat4/scale":157,"gl-mat4/translate":158}],36:[function(t,e,n){e.exports=t("gl-quat/slerp")},{"gl-quat/slerp":37}],37:[function(t,e,n){function r(t,e,n,r){var o,i,a,s,l,u=e[0],c=e[1],f=e[2],p=e[3],h=n[0],d=n[1],m=n[2],y=n[3];return i=u*h+c*d+f*m+p*y,i<0&&(i=-i,h=-h,d=-d,m=-m,y=-y),1-i>1e-6?(o=Math.acos(i),a=Math.sin(o),s=Math.sin((1-r)*o)/a,l=Math.sin(r*o)/a):(s=1-r,l=r),t[0]=s*u+l*h,t[1]=s*c+l*d,t[2]=s*f+l*m,t[3]=s*p+l*y,t}e.exports=r},{}],38:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s,l,u){var c=e+i+u;if(f>0){var f=Math.sqrt(c+1);t[0]=.5*(a-l)/f,t[1]=.5*(s-r)/f,t[2]=.5*(n-i)/f,t[3]=.5*f}else{var p=Math.max(e,i,u),f=Math.sqrt(2*p-c+1);e>=p?(t[0]=.5*f,t[1]=.5*(o+n)/f,t[2]=.5*(s+r)/f,t[3]=.5*(a-l)/f):i>=p?(t[0]=.5*(n+o)/f,t[1]=.5*f,t[2]=.5*(l+a)/f,t[3]=.5*(s-r)/f):(t[0]=.5*(r+s)/f,t[1]=.5*(a+l)/f,t[2]=.5*f,t[3]=.5*(n-o)/f)}return t}e.exports=r},{}],39:[function(t,e,n){"use strict";function r(t,e,n){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(n,2))}function o(t,e,n,r){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(n,2)+Math.pow(r,2))}function i(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],s=o(n,r,i,a);s>1e-6?(t[0]=n/s,t[1]=r/s,t[2]=i/s,t[3]=a/s):(t[0]=t[1]=t[2]=0,t[3]=1)}function a(t,e,n){this.radius=l([n]),this.center=l(e),this.rotation=l(t),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}function s(t){t=t||{};var e=t.center||[0,0,0],n=t.rotation||[0,0,0,1],r=t.radius||1;e=[].slice.call(e,0,3),n=[].slice.call(n,0,4),i(n,n);var o=new a(n,e,Math.log(r));return o.setDistanceLimits(t.zoomMin,t.zoomMax),("eye"in t||"up"in t)&&o.lookAt(0,t.eye,t.center,t.up),o}e.exports=s;var l=t("filtered-vector"),u=t("gl-mat4/lookAt"),c=t("gl-mat4/fromQuat"),f=t("gl-mat4/invert"),p=t("./lib/quatFromFrame"),h=a.prototype;h.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},h.recalcMatrix=function(t){this.radius.curve(t),this.center.curve(t),this.rotation.curve(t);var e=this.computedRotation;i(e,e);var n=this.computedMatrix;c(n,e);var r=this.computedCenter,o=this.computedEye,a=this.computedUp,s=Math.exp(this.computedRadius[0]);o[0]=r[0]+s*n[2],o[1]=r[1]+s*n[6],o[2]=r[2]+s*n[10],a[0]=n[1],a[1]=n[5],a[2]=n[9];for(var l=0;l<3;++l){for(var u=0,f=0;f<3;++f)u+=n[l+4*f]*o[f];n[12+l]=-u}},h.getMatrix=function(t,e){this.recalcMatrix(t);var n=this.computedMatrix;if(e){for(var r=0;r<16;++r)e[r]=n[r];return e}return n},h.idle=function(t){this.center.idle(t),this.radius.idle(t),this.rotation.idle(t)},h.flush=function(t){this.center.flush(t),this.radius.flush(t),this.rotation.flush(t)},h.pan=function(t,e,n,o){e=e||0,n=n||0,o=o||0,this.recalcMatrix(t);var i=this.computedMatrix,a=i[1],s=i[5],l=i[9],u=r(a,s,l);a/=u,s/=u,l/=u;var c=i[0],f=i[4],p=i[8],h=c*a+f*s+p*l;c-=a*h,f-=s*h,p-=l*h;var d=r(c,f,p);c/=d,f/=d,p/=d;var m=i[2],y=i[6],v=i[10],g=m*a+y*s+v*l,b=m*c+y*f+v*p;m-=g*a+b*c,y-=g*s+b*f,v-=g*l+b*p;var _=r(m,y,v);m/=_,y/=_,v/=_;var x=c*e+a*n,w=f*e+s*n,T=p*e+l*n;this.center.move(t,x,w,T);var E=Math.exp(this.computedRadius[0]);E=Math.max(1e-4,E+o),this.radius.set(t,Math.log(E))},h.rotate=function(t,e,n,i){this.recalcMatrix(t),e=e||0,n=n||0;var a=this.computedMatrix,s=a[0],l=a[4],u=a[8],c=a[1],f=a[5],p=a[9],h=a[2],d=a[6],m=a[10],y=e*s+n*c,v=e*l+n*f,g=e*u+n*p,b=-(d*g-m*v),_=-(m*y-h*g),x=-(h*v-d*y),w=Math.sqrt(Math.max(0,1-Math.pow(b,2)-Math.pow(_,2)-Math.pow(x,2))),T=o(b,_,x,w);T>1e-6?(b/=T,_/=T,x/=T,w/=T):(b=_=x=0,w=1);var E=this.computedRotation,C=E[0],k=E[1],S=E[2],P=E[3],M=C*w+P*b+k*x-S*_,A=k*w+P*_+S*b-C*x,O=S*w+P*x+C*_-k*b,D=P*w-C*b-k*_-S*x;if(i){b=h,_=d,x=m;var L=Math.sin(i)/r(b,_,x);b*=L,_*=L,x*=L,w=Math.cos(e),M=M*w+D*b+A*x-O*_,A=A*w+D*_+O*b-M*x,O=O*w+D*x+M*_-A*b,D=D*w-M*b-A*_-O*x}var I=o(M,A,O,D);I>1e-6?(M/=I,A/=I,O/=I,D/=I):(M=A=O=0,D=1),this.rotation.set(t,M,A,O,D)},h.lookAt=function(t,e,n,r){this.recalcMatrix(t),n=n||this.computedCenter,e=e||this.computedEye,r=r||this.computedUp;var o=this.computedMatrix;u(o,e,n,r);var a=this.computedRotation;p(a,o[0],o[1],o[2],o[4],o[5],o[6],o[8],o[9],o[10]),i(a,a),this.rotation.set(t,a[0],a[1],a[2],a[3]);for(var s=0,l=0;l<3;++l)s+=Math.pow(n[l]-e[l],2);this.radius.set(t,.5*Math.log(Math.max(s,1e-6))),this.center.set(t,n[0],n[1],n[2])},h.translate=function(t,e,n,r){this.center.move(t,e||0,n||0,r||0)},h.setMatrix=function(t,e){var n=this.computedRotation;p(n,e[0],e[1],e[2],e[4],e[5],e[6],e[8],e[9],e[10]),i(n,n),this.rotation.set(t,n[0],n[1],n[2],n[3]);var r=this.computedMatrix;f(r,e);var o=r[15];if(Math.abs(o)>1e-6){var a=r[12]/o,s=r[13]/o,l=r[14]/o;this.recalcMatrix(t);var u=Math.exp(this.computedRadius[0]);this.center.set(t,a-r[2]*u,s-r[6]*u,l-r[10]*u),this.radius.idle(t)}else this.center.idle(t),this.radius.idle(t)},h.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},h.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-(1/0),e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},h.getDistanceLimits=function(t){var e=this.radius.bounds;return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},h.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},h.fromJSON=function(t){var e=this.lastT(),n=t.center;n&&this.center.set(e,n[0],n[1],n[2]);var r=t.rotation;r&&this.rotation.set(e,r[0],r[1],r[2],r[3]);var o=t.distance;o&&o>0&&this.radius.set(e,Math.log(o)),this.setDistanceLimits(t.zoomMin,t.zoomMax)}},{"./lib/quatFromFrame":38,"filtered-vector":22,"gl-mat4/fromQuat":146,"gl-mat4/invert":149,"gl-mat4/lookAt":150}],40:[function(t,e,n){"use strict";function r(t,e,n){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(n,2))}function o(t){return Math.min(1,Math.max(-1,t))}function i(t){var e=Math.abs(t[0]),n=Math.abs(t[1]),r=Math.abs(t[2]),o=[0,0,0];e>Math.max(n,r)?o[2]=1:n>Math.max(e,r)?o[0]=1:o[1]=1;for(var i=0,a=0,s=0;s<3;++s)i+=t[s]*t[s],a+=o[s]*t[s];for(var s=0;s<3;++s)o[s]-=a/i*t[s];return p(o,o),o}function a(t,e,n,r,o,i,a,s){this.center=l(n),this.up=l(r),this.right=l(o),this.radius=l([i]),this.angle=l([a,s]),this.angle.bounds=[[-(1/0),-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(t,e),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var u=0;u<16;++u)this.computedMatrix[u]=.5;this.recalcMatrix(0)}function s(t){t=t||{};var e=t.center||[0,0,0],n=t.up||[0,1,0],o=t.right||i(n),s=t.radius||1,l=t.theta||0,u=t.phi||0;if(e=[].slice.call(e,0,3),n=[].slice.call(n,0,3),p(n,n),o=[].slice.call(o,0,3),p(o,o),"eye"in t){var c=t.eye,d=[c[0]-e[0],c[1]-e[1],c[2]-e[2]];f(o,d,n),r(o[0],o[1],o[2])<1e-6?o=i(n):p(o,o),s=r(d[0],d[1],d[2]);var m=h(n,d)/s,y=h(o,d)/s;u=Math.acos(m),l=Math.acos(y)}return s=Math.log(s),new a(t.zoomMin,t.zoomMax,e,n,o,s,l,u)}e.exports=s;var l=t("filtered-vector"),u=t("gl-mat4/invert"),c=t("gl-mat4/rotate"),f=t("gl-vec3/cross"),p=t("gl-vec3/normalize"),h=t("gl-vec3/dot"),d=a.prototype;d.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-(1/0),e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},d.getDistanceLimits=function(t){var e=this.radius.bounds[0];return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},d.recalcMatrix=function(t){this.center.curve(t),this.up.curve(t),this.right.curve(t),this.radius.curve(t),this.angle.curve(t);for(var e=this.computedUp,n=this.computedRight,o=0,i=0,a=0;a<3;++a)i+=e[a]*n[a],o+=e[a]*e[a];for(var s=Math.sqrt(o),l=0,a=0;a<3;++a)n[a]-=e[a]*i/o,l+=n[a]*n[a],e[a]/=s;for(var u=Math.sqrt(l),a=0;a<3;++a)n[a]/=u;var c=this.computedToward;f(c,e,n),p(c,c);for(var h=Math.exp(this.computedRadius[0]),d=this.computedAngle[0],m=this.computedAngle[1],y=Math.cos(d),v=Math.sin(d),g=Math.cos(m),b=Math.sin(m),_=this.computedCenter,x=y*g,w=v*g,T=b,E=-y*b,C=-v*b,k=g,S=this.computedEye,P=this.computedMatrix,a=0;a<3;++a){var M=x*n[a]+w*c[a]+T*e[a];P[4*a+1]=E*n[a]+C*c[a]+k*e[a],P[4*a+2]=M,P[4*a+3]=0}var A=P[1],O=P[5],D=P[9],L=P[2],I=P[6],j=P[10],F=O*j-D*I,R=D*L-A*j,N=A*I-O*L,z=r(F,R,N);F/=z,R/=z,N/=z,P[0]=F,P[4]=R,P[8]=N;for(var a=0;a<3;++a)S[a]=_[a]+P[2+4*a]*h;for(var a=0;a<3;++a){for(var l=0,B=0;B<3;++B)l+=P[a+4*B]*S[B];P[12+a]=-l}P[15]=1},d.getMatrix=function(t,e){this.recalcMatrix(t);var n=this.computedMatrix;if(e){for(var r=0;r<16;++r)e[r]=n[r];return e}return n};var m=[0,0,0];d.rotate=function(t,e,n,r){if(this.angle.move(t,e,n),r){this.recalcMatrix(t);var o=this.computedMatrix;m[0]=o[2],m[1]=o[6],m[2]=o[10];for(var i=this.computedUp,a=this.computedRight,s=this.computedToward,l=0;l<3;++l)o[4*l]=i[l],o[4*l+1]=a[l],o[4*l+2]=s[l];c(o,o,r,m);for(var l=0;l<3;++l)i[l]=o[4*l],a[l]=o[4*l+1];this.up.set(t,i[0],i[1],i[2]),this.right.set(t,a[0],a[1],a[2])}},d.pan=function(t,e,n,o){e=e||0,n=n||0,o=o||0,this.recalcMatrix(t);var i=this.computedMatrix,a=(Math.exp(this.computedRadius[0]),i[1]),s=i[5],l=i[9],u=r(a,s,l);a/=u,s/=u,l/=u;var c=i[0],f=i[4],p=i[8],h=c*a+f*s+p*l;c-=a*h,f-=s*h,p-=l*h;var d=r(c,f,p);c/=d,f/=d,p/=d;var m=c*e+a*n,y=f*e+s*n,v=p*e+l*n;this.center.move(t,m,y,v);var g=Math.exp(this.computedRadius[0]);g=Math.max(1e-4,g+o),this.radius.set(t,Math.log(g))},d.translate=function(t,e,n,r){this.center.move(t,e||0,n||0,r||0)},d.setMatrix=function(t,e,n,i){var a=1;"number"==typeof n&&(a=0|n),(a<0||a>3)&&(a=1);var s=(a+2)%3;e||(this.recalcMatrix(t),e=this.computedMatrix);var l=e[a],c=e[a+4],f=e[a+8];if(i){var p=Math.abs(l),h=Math.abs(c),d=Math.abs(f),m=Math.max(p,h,d);p===m?(l=l<0?-1:1,c=f=0):d===m?(f=f<0?-1:1,l=c=0):(c=c<0?-1:1,l=f=0)}else{var y=r(l,c,f);l/=y,c/=y,f/=y}var v=e[s],g=e[s+4],b=e[s+8],_=v*l+g*c+b*f;v-=l*_,g-=c*_,b-=f*_;var x=r(v,g,b);v/=x,g/=x,b/=x;var w=c*b-f*g,T=f*v-l*b,E=l*g-c*v,C=r(w,T,E);w/=C,T/=C,E/=C,this.center.jump(t,V,H,G),this.radius.idle(t),this.up.jump(t,l,c,f),this.right.jump(t,v,g,b);var k,S;if(2===a){var P=e[1],M=e[5],A=e[9],O=P*v+M*g+A*b,D=P*w+M*T+A*E;k=F<0?-Math.PI/2:Math.PI/2,S=Math.atan2(D,O)}else{var L=e[2],I=e[6],j=e[10],F=L*l+I*c+j*f,R=L*v+I*g+j*b,N=L*w+I*T+j*E;k=Math.asin(o(F)),S=Math.atan2(N,R)}this.angle.jump(t,S,k),this.recalcMatrix(t);var z=e[2],B=e[6],U=e[10],W=this.computedMatrix;u(W,e);var q=W[15],V=W[12]/q,H=W[13]/q,G=W[14]/q,Y=Math.exp(this.computedRadius[0]);this.center.jump(t,V-z*Y,H-B*Y,G-U*Y)},d.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},d.idle=function(t){this.center.idle(t),this.up.idle(t),this.right.idle(t),this.radius.idle(t),this.angle.idle(t)},d.flush=function(t){this.center.flush(t),this.up.flush(t),this.right.flush(t),this.radius.flush(t),this.angle.flush(t)},d.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},d.lookAt=function(t,e,n,i){this.recalcMatrix(t),e=e||this.computedEye,n=n||this.computedCenter,i=i||this.computedUp;var a=i[0],s=i[1],l=i[2],u=r(a,s,l);if(!(u<1e-6)){a/=u,s/=u,l/=u;var c=e[0]-n[0],f=e[1]-n[1],p=e[2]-n[2],h=r(c,f,p);if(!(h<1e-6)){c/=h,f/=h,p/=h;var d=this.computedRight,m=d[0],y=d[1],v=d[2],g=a*m+s*y+l*v;m-=g*a,y-=g*s,v-=g*l;var b=r(m,y,v);if(!(b<.01&&(m=s*p-l*f,y=l*c-a*p,v=a*f-s*c,b=r(m,y,v),b<1e-6))){m/=b,y/=b,v/=b,this.up.set(t,a,s,l),this.right.set(t,m,y,v),this.center.set(t,n[0],n[1],n[2]),this.radius.set(t,Math.log(h));var _=s*v-l*y,x=l*m-a*v,w=a*y-s*m,T=r(_,x,w);_/=T,x/=T,w/=T;var E=a*c+s*f+l*p,C=m*c+y*f+v*p,k=_*c+x*f+w*p,S=Math.asin(o(E)),P=Math.atan2(k,C),M=this.angle._state,A=M[M.length-1],O=M[M.length-2];
A%=2*Math.PI;var D=Math.abs(A+2*Math.PI-P),L=Math.abs(A-P),I=Math.abs(A-2*Math.PI-P);D<L&&(A+=2*Math.PI),I<L&&(A-=2*Math.PI),this.angle.jump(this.angle.lastT(),A,O),this.angle.set(t,P,S)}}}}},{"filtered-vector":22,"gl-mat4/invert":149,"gl-mat4/rotate":153,"gl-vec3/cross":25,"gl-vec3/dot":26,"gl-vec3/normalize":29}],41:[function(t,e,n){"use strict";function r(t,e){this._controllerNames=Object.keys(t),this._controllerList=this._controllerNames.map(function(e){return t[e]}),this._mode=e,this._active=t[e],this._active||(this._mode="turntable",this._active=t.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}function o(t){t=t||{};var e=t.eye||[0,0,1],n=t.center||[0,0,0],o=t.up||[0,1,0],l=t.distanceLimits||[0,1/0],u=t.mode||"turntable",c=i(),f=a(),p=s();return c.setDistanceLimits(l[0],l[1]),c.lookAt(0,e,n,o),f.setDistanceLimits(l[0],l[1]),f.lookAt(0,e,n,o),p.setDistanceLimits(l[0],l[1]),p.lookAt(0,e,n,o),new r({turntable:c,orbit:f,matrix:p},u)}e.exports=o;var i=t("turntable-camera-controller"),a=t("orbit-camera-controller"),s=t("matrix-camera-controller"),l=r.prototype,u=[["flush",1],["idle",1],["lookAt",4],["rotate",4],["pan",4],["translate",4],["setMatrix",2],["setDistanceLimits",2],["setDistance",2]];u.forEach(function(t){for(var e=t[0],n=[],r=0;r<t[1];++r)n.push("a"+r);var o="var cc=this._controllerList;for(var i=0;i<cc.length;++i){cc[i]."+t[0]+"("+n.join()+")}";l[e]=Function.apply(null,n.concat(o))}),l.recalcMatrix=function(t){this._active.recalcMatrix(t)},l.getDistance=function(t){return this._active.getDistance(t)},l.getDistanceLimits=function(t){return this._active.getDistanceLimits(t)},l.lastT=function(){return this._active.lastT()},l.setMode=function(t){if(t!==this._mode){var e=this._controllerNames.indexOf(t);if(!(e<0)){var n=this._active,r=this._controllerList[e],o=Math.max(n.lastT(),r.lastT());n.recalcMatrix(o),r.setMatrix(o,n.computedMatrix),this._active=r,this._mode=t,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},l.getMode=function(){return this._mode}},{"matrix-camera-controller":30,"orbit-camera-controller":39,"turntable-camera-controller":40}],42:[function(t,e,n){function r(t,e){return i(o(t,e))}e.exports=r;var o=t("alpha-complex"),i=t("simplicial-complex-boundary")},{"alpha-complex":43,"simplicial-complex-boundary":46}],43:[function(t,e,n){"use strict";function r(t,e){return o(e).filter(function(n){for(var r=new Array(n.length),o=0;o<n.length;++o)r[o]=e[n[o]];return i(r)*t<1})}e.exports=r;var o=t("delaunay-triangulate"),i=t("circumradius")},{circumradius:44,"delaunay-triangulate":126}],44:[function(t,e,n){function r(t){for(var e=o(t),n=0,r=0;r<t.length;++r)for(var i=t[r],a=0;a<e.length;++a)n+=Math.pow(i[a]-e[a],2);return Math.sqrt(n/t.length)}e.exports=r;var o=t("circumcenter")},{circumcenter:45}],45:[function(t,e,n){"use strict";function r(t,e){for(var n=0,r=t.length,o=0;o<r;++o)n+=t[o]*e[o];return n}function o(t){var e=t.length;if(0===e)return[];var n=(t[0].length,a([t.length+1,t.length+1],1)),o=a([t.length+1],1);n[e][e]=0;for(var i=0;i<e;++i){for(var l=0;l<=i;++l)n[l][i]=n[i][l]=2*r(t[i],t[l]);o[i]=r(t[i],t[i])}for(var u=s(n,o),c=0,f=u[e+1],i=0;i<f.length;++i)c+=f[i];for(var p=new Array(e),i=0;i<e;++i){for(var f=u[i],h=0,l=0;l<f.length;++l)h+=f[l];p[i]=h/c}return p}function i(t){if(0===t.length)return[];for(var e=t[0].length,n=a([e]),r=o(t),i=0;i<t.length;++i)for(var s=0;s<e;++s)n[s]+=t[i][s]*r[i];return n}var a=t("dup"),s=t("robust-linear-solve");i.barycenetric=o,e.exports=i},{dup:127,"robust-linear-solve":488}],46:[function(t,e,n){"use strict";function r(t){return i(o(t))}e.exports=r;var o=t("boundary-cells"),i=t("reduce-simplicial-complex")},{"boundary-cells":47,"reduce-simplicial-complex":50}],47:[function(t,e,n){"use strict";function r(t){for(var e=t.length,n=0,r=0;r<e;++r)n+=t[r].length;for(var o=new Array(n),i=0,r=0;r<e;++r)for(var a=t[r],s=a.length,l=0;l<s;++l)for(var u=o[i++]=new Array(s-1),c=1;c<s;++c)u[c-1]=a[(l+c)%s];return o}e.exports=r},{}],48:[function(t,e,n){"use strict";function r(t){for(var e=1,n=1;n<t.length;++n)for(var r=0;r<n;++r)if(t[n]<t[r])e=-e;else if(t[r]===t[n])return 0;return e}e.exports=r},{}],49:[function(t,e,n){"use strict";function r(t,e){return o(t,e)||i(t)-i(e)}var o=t("compare-cell"),i=t("cell-orientation");e.exports=r},{"cell-orientation":48,"compare-cell":113}],50:[function(t,e,n){"use strict";function r(t){t.sort(i);for(var e=t.length,n=0,r=0;r<e;++r){var s=t[r],l=a(s);if(0!==l){if(n>0){var u=t[n-1];if(0===o(s,u)&&a(u)!==l){n-=1;continue}}t[n++]=s}}return t.length=n,t}var o=t("compare-cell"),i=t("compare-oriented-cell"),a=t("cell-orientation");e.exports=r},{"cell-orientation":48,"compare-cell":113,"compare-oriented-cell":49}],51:[function(t,e,n){"use strict";var r=function(){function t(t){return!Array.isArray(t)&&null!==t&&"object"==typeof t}function e(t,e,n){for(var r=(e-t)/Math.max(n-1,1),o=[],i=0;i<n;i++)o.push(t+i*r);return o}function n(){for(var t=[].slice.call(arguments),e=t.map(function(t){return t.length}),n=Math.min.apply(null,e),r=[],o=0;o<n;o++){r[o]=[];for(var i=0;i<t.length;++i)r[o][i]=t[i][o]}return r}function r(t,e,n){for(var r=Math.min.apply(null,[t.length,e.length,n.length]),o=[],i=0;i<r;i++)o.push([t[i],e[i],n[i]]);return o}function o(t){function e(t){for(var r=0;r<t.length;r++)Array.isArray(t[r])?e(t[r],n):n+=t[r]}var n=0;return e(t,n),n}function i(t){for(var e=[],n=0;n<t.length;++n){e[n]=[];for(var r=0;r<t[n].length;++r)e[n][r]=t[n][r]}return e}function a(t){for(var e=[],n=0;n<t.length;++n)e[n]=t[n];return e}function s(t,e){if(t.length!==e.length)return!1;for(var n=t.length;n--;)if(t[n]!==e[n])return!1;return!0}function l(t,e){var n,r;if("string"!=typeof t)return t;if(n=[],"#"===t[0]?(t=t.substr(1),3===t.length&&(t+=t),r=parseInt(t,16),n[0]=r>>16&255,n[1]=r>>8&255,n[2]=255&r):f.test(t)&&(r=t.match(p),n[0]=parseInt(r[1]),n[1]=parseInt(r[2]),n[2]=parseInt(r[3])),!e)for(var o=0;o<3;++o)n[o]=n[o]/255;return n}function u(t,e){var n,r;if("string"!=typeof t)return t;if(n=[],"#"===t[0]?(t=t.substr(1),3===t.length&&(t+=t),r=parseInt(t,16),n[0]=r>>16&255,n[1]=r>>8&255,n[2]=255&r):f.test(t)&&(r=t.match(p),n[0]=parseInt(r[1]),n[1]=parseInt(r[2]),n[2]=parseInt(r[3]),r[4]?n[3]=parseFloat(r[4]):n[3]=1),!e)for(var o=0;o<3;++o)n[o]=n[o]/255;return n}var c={},f=/^rgba?\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*(,.*)?\)$/,p=/^rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,?\s*(.*)?\)$/;return c.isPlainObject=t,c.linspace=e,c.zip3=r,c.sum=o,c.zip=n,c.isEqual=s,c.copy2D=i,c.copy1D=a,c.str2RgbArray=l,c.str2RgbaArray=u,c};e.exports=r()},{}],52:[function(t,e,n){"use strict";"use restrict";function r(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}var o=32;n.INT_BITS=o,n.INT_MAX=2147483647,n.INT_MIN=-1<<o-1,n.sign=function(t){return(t>0)-(t<0)},n.abs=function(t){var e=t>>o-1;return(t^e)-e},n.min=function(t,e){return e^(t^e)&-(t<e)},n.max=function(t,e){return t^(t^e)&-(t<e)},n.isPow2=function(t){return!(t&t-1||!t)},n.log2=function(t){var e,n;return e=(t>65535)<<4,t>>>=e,n=(t>255)<<3,t>>>=n,e|=n,n=(t>15)<<2,t>>>=n,e|=n,n=(t>3)<<1,t>>>=n,e|=n,e|t>>1},n.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},n.popCount=function(t){return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},n.countTrailingZeros=r,n.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},n.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},n.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,27030>>>t&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,o=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--o;t[e]=r<<o&255}}(i),n.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},n.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},n.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},n.interleave3=function(t,e,n){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),t|n<<2},n.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},n.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},{}],53:[function(t,e,n){(function(e){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function r(){try{var t=new Uint8Array(1);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function o(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t){return this instanceof i?(i.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof t?a(this,t):"string"==typeof t?s(this,t,arguments.length>1?arguments[1]:"utf8"):l(this,t)):arguments.length>1?new i(t,arguments[1]):new i(t)}function a(t,e){if(t=m(t,e<0?0:0|y(e)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;n++)t[n]=0;return t}function s(t,e,n){"string"==typeof n&&""!==n||(n="utf8");var r=0|g(e,n);return t=m(t,r),t.write(e,n),t}function l(t,e){if(i.isBuffer(e))return u(t,e);if(K(e))return c(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(e.buffer instanceof ArrayBuffer)return f(t,e);if(e instanceof ArrayBuffer)return p(t,e)}return e.length?h(t,e):d(t,e)}function u(t,e){var n=0|y(e.length);return t=m(t,n),e.copy(t,0,0,n),t}function c(t,e){var n=0|y(e.length);t=m(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function f(t,e){var n=0|y(e.length);t=m(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t,e){return e.byteLength,i.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=i.prototype):t=f(t,new Uint8Array(e)),t}function h(t,e){var n=0|y(e.length);t=m(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t,e){var n,r=0;"Buffer"===e.type&&K(e.data)&&(n=e.data,r=0|y(n.length)),t=m(t,r);for(var o=0;o<r;o+=1)t[o]=255&n[o];return t}function m(t,e){i.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=i.prototype):t.length=e;var n=0!==e&&e<=i.poolSize>>>1;return n&&(t.parent=Q),t}function y(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function v(t,e){if(!(this instanceof v))return new v(t,e);var n=new i(t,e);return delete n.parent,n}function g(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(r)return q(t).length;e=(""+e).toLowerCase(),r=!0}}function b(t,e,n){var r=!1;if(e=0|e,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),e<0&&(e=0),n>this.length&&(n=this.length),n<=e)return"";for(;;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return M(this,e,n);case"binary":return A(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function _(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=e.length;if(i%2!==0)throw new Error("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[n+a]=s}return a}function x(t,e,n,r){return Y(q(e,t.length-n),t,n,r)}function w(t,e,n,r){return Y(V(e),t,n,r)}function T(t,e,n,r){return w(t,e,n,r)}function E(t,e,n,r){return Y(G(e),t,n,r)}function C(t,e,n,r){return Y(H(e,t.length-n),t,n,r)}function k(t,e,n){return 0===e&&n===t.length?Z.fromByteArray(t):Z.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i=t[o],a=null,s=i>239?4:i>223?3:i>191?2:1;if(o+s<=n){var l,u,c,f;switch(s){case 1:i<128&&(a=i);break;case 2:l=t[o+1],128===(192&l)&&(f=(31&i)<<6|63&l,f>127&&(a=f));break;case 3:l=t[o+1],u=t[o+2],128===(192&l)&&128===(192&u)&&(f=(15&i)<<12|(63&l)<<6|63&u,f>2047&&(f<55296||f>57343)&&(a=f));break;case 4:l=t[o+1],u=t[o+2],c=t[o+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(f=(15&i)<<18|(63&l)<<12|(63&u)<<6|63&c,f>65535&&f<1114112&&(a=f))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=s}return P(r)}function P(t){var e=t.length;if(e<=J)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=J));return n}function M(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;o++)r+=String.fromCharCode(127&t[o]);return r}function A(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;o++)r+=String.fromCharCode(t[o]);return r}function O(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;i++)o+=W(t[i]);return o}function D(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function L(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,n,r,o,a){if(!i.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>o||e<a)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range")}function j(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;o++)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function F(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;o++)t[n+o]=e>>>8*(r?o:3-o)&255}function R(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("index out of range");if(n<0)throw new RangeError("index out of range")}function N(t,e,n,r,o){return o||R(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(t,e,n,r,23,4),n+4}function z(t,e,n,r,o){return o||R(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(t,e,n,r,52,8),n+8}function B(t){if(t=U(t).replace($,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function U(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function W(t){return t<16?"0"+t.toString(16):t.toString(16)}function q(t,e){e=e||1/0;for(var n,r=t.length,o=null,i=[],a=0;a<r;a++){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=(o-55296<<10|n-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function V(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function H(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);a++)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function G(t){return Z.toByteArray(B(t))}function Y(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);o++)e[o+n]=t[o];return o}var Z=t("base64-js"),X=t("ieee754"),K=t("isarray");n.Buffer=i,n.SlowBuffer=v,n.INSPECT_MAX_BYTES=50,i.poolSize=8192;var Q={};i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:r(),i._augment=function(t){return t.__proto__=i.prototype,t},i.TYPED_ARRAY_SUPPORT?(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})):(i.prototype.length=void 0,i.prototype.parent=void 0),i.isBuffer=function(t){return!(null==t||!t._isBuffer)},i.compare=function(t,e){if(!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,a=Math.min(n,r);o<a&&t[o]===e[o];)++o;return o!==a&&(n=t[o],r=e[o]),n<r?-1:r<n?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!K(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new i(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var r=new i(e),o=0;for(n=0;n<t.length;n++){var a=t[n];a.copy(r,o),o+=a.length}return r},i.byteLength=g,i.prototype._isBuffer=!0,i.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):b.apply(this,arguments)},i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===i.compare(this,t)},i.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},i.prototype.compare=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:i.compare(this,t)},i.prototype.indexOf=function(t,e){function n(t,e,n){for(var r=-1,o=0;n+o<t.length;o++)if(t[n+o]===e[r===-1?0:o-r]){if(r===-1&&(r=o),o-r+1===e.length)return n+r}else r=-1;return-1}if(e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(e<0&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(i.isBuffer(t))return n(this,t,e);if("number"==typeof t)return i.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):n(this,[t],e);throw new TypeError("val must be string, number or Buffer")},i.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var o=r;r=e,e=0|n,n=o}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return w(this,t,e,n);case"binary":return T(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;i.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);var r;if(i.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=i.prototype;else{var o=e-t;r=new i(o,(void 0));for(var a=0;a<o;a++)r[a]=this[a+t]}return r.length&&(r.parent=this.parent||this),r},i.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||L(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},i.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||L(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},i.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||L(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},i.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||L(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},i.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},i.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),X.read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),X.read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),X.read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),X.read(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||I(this,t,e,n,Math.pow(2,8*n),0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},i.prototype.writeUIntBE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||I(this,t,e,n,Math.pow(2,8*n),0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},i.prototype.writeUInt8=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,1,255,0),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},i.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},i.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},i.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},i.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},i.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e=0|e,!r){var o=Math.pow(2,8*n-1);I(this,t,e,n,o-1,-o)}var i=0,a=1,s=t<0?1:0;for(this[e]=255&t;++i<n&&(a*=256);)this[e+i]=(t/a>>0)-s&255;return e+n},i.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e=0|e,!r){var o=Math.pow(2,8*n-1);I(this,t,e,n,o-1,-o)}var i=n-1,a=1,s=t<0?1:0;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=(t/a>>0)-s&255;return e+n},i.prototype.writeInt8=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,1,127,-128),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},i.prototype.writeInt16LE=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},i.prototype.writeInt16BE=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},i.prototype.writeInt32LE=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},i.prototype.writeInt32BE=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},i.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},i.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},i.prototype.writeDoubleLE=function(t,e,n){return z(this,t,e,!0,n)},i.prototype.writeDoubleBE=function(t,e,n){return z(this,t,e,!1,n)},i.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,a=r-n;if(this===t&&n<e&&e<r)for(o=a-1;o>=0;o--)t[o+e]=this[o+n];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<a;o++)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},i.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),n<e)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(e<0||e>=this.length)throw new RangeError("start out of bounds");if(n<0||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;r<n;r++)this[r]=t;else{var o=q(t.toString()),i=o.length;for(r=e;r<n;r++)this[r]=o[r%i]}return this}};var $=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":54,ieee754:55,isarray:56}],54:[function(t,e,n){"use strict";function r(){var t,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=e.length;for(t=0;t<n;t++)l[t]=e[t];for(t=0;t<n;++t)u[e.charCodeAt(t)]=t;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63}function o(t){var e,n,r,o,i,a,s=t.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===t[s-2]?2:"="===t[s-1]?1:0,a=new c(3*s/4-i),r=i>0?s-4:s;var l=0;for(e=0,n=0;e<r;e+=4,n+=3)o=u[t.charCodeAt(e)]<<18|u[t.charCodeAt(e+1)]<<12|u[t.charCodeAt(e+2)]<<6|u[t.charCodeAt(e+3)],a[l++]=(16711680&o)>>16,a[l++]=(65280&o)>>8,a[l++]=255&o;return 2===i?(o=u[t.charCodeAt(e)]<<2|u[t.charCodeAt(e+1)]>>4,a[l++]=255&o):1===i&&(o=u[t.charCodeAt(e)]<<10|u[t.charCodeAt(e+1)]<<4|u[t.charCodeAt(e+2)]>>2,a[l++]=o>>8&255,a[l++]=255&o),a}function i(t){return l[t>>18&63]+l[t>>12&63]+l[t>>6&63]+l[63&t]}function a(t,e,n){for(var r,o=[],a=e;a<n;a+=3)r=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(i(r));return o.join("")}function s(t){for(var e,n=t.length,r=n%3,o="",i=[],s=16383,u=0,c=n-r;u<c;u+=s)i.push(a(t,u,u+s>c?c:u+s));return 1===r?(e=t[n-1],o+=l[e>>2],o+=l[e<<4&63],o+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],o+=l[e>>10],o+=l[e>>4&63],o+=l[e<<2&63],o+="="),i.push(o),i.join("")}n.toByteArray=o,n.fromByteArray=s;var l=[],u=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array;r()},{}],55:[function(t,e,n){n.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?o-1:0,p=n?-1:1,h=t[e+f];for(f+=p,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+t[e+f],f+=p,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=p,c-=8);if(0===i)i=1-u;else{if(i===l)return a?NaN:(h?-1:1)*(1/0);a+=Math.pow(2,r),i-=u}return(h?-1:1)*a*Math.pow(2,i-r)},n.write=function(t,e,n,r,o,i){var a,s,l,u=8*i-o-1,c=(1<<u)-1,f=c>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),e+=a+f>=1?p/l:p*Math.pow(2,1-f),e*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*l-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&s,h+=d,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;t[n+h]=255&a,h+=d,a/=256,u-=8);t[n+h-d]|=128*m}},{}],56:[function(t,e,n){var r={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},{}],57:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(t){return"function"==typeof t}function i(t){return"number"==typeof t}function a(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,i,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],s(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(a(n))for(i=Array.prototype.slice.call(arguments,1),u=n.slice(),r=u.length,l=0;l<r;l++)u[l].apply(this,i);return!0},r.prototype.addListener=function(t,e){var n;if(!o(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,o(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!o(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,i,s;if(!o(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],i=n.length,r=-1,n===e||o(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(n)){for(s=i;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],o(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?o(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(o(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}],58:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],59:[function(t,e,n){(function(t){function e(t,e){for(var n=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return o.exec(t).slice(1)};n.resolve=function(){for(var n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,o="/"===a.charAt(0))}return n=e(r(n.split("/"),function(t){return!!t}),!o).join("/"),(o?"/":"")+n||"."},n.normalize=function(t){var o=n.isAbsolute(t),i="/"===a(t,-1);return t=e(r(t.split("/"),function(t){return!!t}),!o).join("/"),t||o||(t="."),t&&i&&(t+="/"),(o?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},n.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var o=r(t.split("/")),i=r(e.split("/")),a=Math.min(o.length,i.length),s=a,l=0;l<a;l++)if(o[l]!==i[l]){s=l;break}for(var u=[],l=s;l<o.length;l++)u.push("..");return u=u.concat(i.slice(s)),u.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){var e=i(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return i(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:60}],60:[function(t,e,n){function r(){c=!1,s.length?u=s.concat(u):f=-1,u.length&&o()}function o(){if(!c){var t=setTimeout(r);c=!0;for(var e=u.length;e;){for(s=u,u=[];++f<e;)s&&s[f].run();f=-1,e=u.length}s=null,c=!1,clearTimeout(t)}}function i(t,e){this.fun=t,this.array=e}function a(){}var s,l=e.exports={},u=[],c=!1,f=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new i(t,e)),1!==u.length||c||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=a,l.addListener=a,l.once=a,l.off=a,l.removeListener=a,l.removeAllListeners=a,l.emit=a,l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],61:[function(e,n,r){(function(e){!function(o){function i(t){throw new RangeError(I[t])}function a(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function s(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(L,".");var o=t.split("."),i=a(o,e).join(".");return r+i}function l(t){for(var e,n,r=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function u(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=R(t>>>10&1023|55296),t=56320|1023&t),e+=R(t)}).join("")}function c(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:T}function f(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function p(t,e,n){var r=0;for(t=n?F(t/S):t>>1,t+=F(t/e);t>j*C>>1;r+=T)t=F(t/j);return F(r+(j+1)*t/(t+k))}function h(t){var e,n,r,o,a,s,l,f,h,d,m=[],y=t.length,v=0,g=M,b=P;for(n=t.lastIndexOf(A),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&i("not-basic"),m.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<y;){for(a=v,s=1,l=T;o>=y&&i("invalid-input"),f=c(t.charCodeAt(o++)),(f>=T||f>F((w-v)/s))&&i("overflow"),v+=f*s,h=l<=b?E:l>=b+C?C:l-b,!(f<h);l+=T)d=T-h,s>F(w/d)&&i("overflow"),s*=d;e=m.length+1,b=p(v-a,e,0==a),F(v/e)>w-g&&i("overflow"),g+=F(v/e),v%=e,m.splice(v++,0,g)}return u(m)}function d(t){var e,n,r,o,a,s,u,c,h,d,m,y,v,g,b,_=[];for(t=l(t),y=t.length,e=M,n=0,a=P,s=0;s<y;++s)m=t[s],m<128&&_.push(R(m));for(r=o=_.length,o&&_.push(A);r<y;){for(u=w,s=0;s<y;++s)m=t[s],m>=e&&m<u&&(u=m);for(v=r+1,u-e>F((w-n)/v)&&i("overflow"),n+=(u-e)*v,e=u,s=0;s<y;++s)if(m=t[s],m<e&&++n>w&&i("overflow"),m==e){for(c=n,h=T;d=h<=a?E:h>=a+C?C:h-a,!(c<d);h+=T)b=c-d,g=T-d,_.push(R(f(d+b%g,0))),c=F(b/g);_.push(R(f(c,0))),a=p(n,v,r==o),n=0,++r}++n,++e}return _.join("")}function m(t){return s(t,function(t){return O.test(t)?h(t.slice(4).toLowerCase()):t})}function y(t){return s(t,function(t){return D.test(t)?"xn--"+d(t):t})}var v="object"==typeof r&&r&&!r.nodeType&&r,g="object"==typeof n&&n&&!n.nodeType&&n,b="object"==typeof e&&e;b.global!==b&&b.window!==b&&b.self!==b||(o=b);var _,x,w=2147483647,T=36,E=1,C=26,k=38,S=700,P=72,M=128,A="-",O=/^xn--/,D=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=T-E,F=Math.floor,R=String.fromCharCode;if(_={version:"1.3.2",ucs2:{decode:l,encode:u},decode:h,encode:d,toASCII:y,toUnicode:m},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return _});else if(v&&g)if(n.exports==v)g.exports=_;else for(x in _)_.hasOwnProperty(x)&&(v[x]=_[x]);else o.punycode=_}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],62:[function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,i){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var u=t.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var f,p,h,d,m=t[c].replace(s,"%20"),y=m.indexOf(n);y>=0?(f=m.substr(0,y),p=m.substr(y+1)):(f=m,p=""),h=decodeURIComponent(f),d=decodeURIComponent(p),r(a,h)?o(a[h])?a[h].push(d):a[h]=[a[h],d]:a[h]=d}return a};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],63:[function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(a(t),function(a){var s=encodeURIComponent(o(a))+n;return i(t[a])?r(t[a],function(t){return s+encodeURIComponent(o(t))}).join(e):s+encodeURIComponent(o(t[a]))}).join(e):s?encodeURIComponent(o(s))+n+encodeURIComponent(o(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],64:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":62,"./encode":63}],65:[function(t,e,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(t,e,n){if(t&&u.isObject(t)&&t instanceof r)return t;var o=new r;return o.parse(t,e,n),o}function i(t){return u.isString(t)&&(t=o(t)),t instanceof r?t.format():r.prototype.format.call(t)}function a(t,e){return o(t,!1,!0).resolve(e)}function s(t,e){return t?o(t,!1,!0).resolveObject(e):e}var l=t("punycode"),u=t("./util");n.parse=o,n.resolve=a,n.resolveObject=s,n.format=i,n.Url=r;var c=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(h),m=["'"].concat(d),y=["%","/","?",";","#"].concat(m),v=["/","?","#"],g=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},T={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=t("querystring");r.prototype.parse=function(t,e,n){if(!u.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),o=r!==-1&&r<t.indexOf("#")?"?":"#",i=t.split(o),a=/\\/g;i[0]=i[0].replace(a,"/"),t=i.join(o);var s=t;if(s=s.trim(),!n&&1===t.split("#").length){var f=p.exec(s);if(f)return this.path=s,this.href=s,this.pathname=f[1],f[2]?(this.search=f[2],e?this.query=E.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",
this.query={}),this}var h=c.exec(s);if(h){h=h[0];var d=h.toLowerCase();this.protocol=d,s=s.substr(h.length)}if(n||h||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===s.substr(0,2);!C||h&&w[h]||(s=s.substr(2),this.slashes=!0)}if(!w[h]&&(C||h&&!T[h])){for(var k=-1,S=0;S<v.length;S++){var P=s.indexOf(v[S]);P!==-1&&(k===-1||P<k)&&(k=P)}var M,A;A=k===-1?s.lastIndexOf("@"):s.lastIndexOf("@",k),A!==-1&&(M=s.slice(0,A),s=s.slice(A+1),this.auth=decodeURIComponent(M)),k=-1;for(var S=0;S<y.length;S++){var P=s.indexOf(y[S]);P!==-1&&(k===-1||P<k)&&(k=P)}k===-1&&(k=s.length),this.host=s.slice(0,k),s=s.slice(k),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var D=this.hostname.split(/\./),S=0,L=D.length;S<L;S++){var I=D[S];if(I&&!I.match(b)){for(var j="",F=0,R=I.length;F<R;F++)j+=I.charCodeAt(F)>127?"x":I[F];if(!j.match(b)){var N=D.slice(0,S),z=D.slice(S+1),B=I.match(_);B&&(N.push(B[1]),z.unshift(B[2])),z.length&&(s="/"+z.join(".")+s),this.hostname=N.join(".");break}}}this.hostname.length>g?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=l.toASCII(this.hostname));var U=this.port?":"+this.port:"",W=this.hostname||"";this.host=W+U,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!x[d])for(var S=0,L=m.length;S<L;S++){var q=m[S];if(s.indexOf(q)!==-1){var V=encodeURIComponent(q);V===q&&(V=escape(q)),s=s.split(q).join(V)}}var H=s.indexOf("#");H!==-1&&(this.hash=s.substr(H),s=s.slice(0,H));var G=s.indexOf("?");if(G!==-1?(this.search=s.substr(G),this.query=s.substr(G+1),e&&(this.query=E.parse(this.query)),s=s.slice(0,G)):e&&(this.search="",this.query={}),s&&(this.pathname=s),T[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",Y=this.search||"";this.path=U+Y}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=t+this.host:this.hostname&&(o=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(i=E.stringify(this.query));var a=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||T[e])&&o!==!1?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+o+n+a+r},r.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(u.isString(t)){var e=new r;e.parse(t,!1,!0),t=e}for(var n=new r,o=Object.keys(this),i=0;i<o.length;i++){var a=o[i];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),l=0;l<s.length;l++){var c=s[l];"protocol"!==c&&(n[c]=t[c])}return T[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!T[t.protocol]){for(var f=Object.keys(t),p=0;p<f.length;p++){var h=f[p];n[h]=t[h]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||w[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=g||v||n.host&&t.pathname,_=b,x=n.pathname&&n.pathname.split("/")||[],d=t.pathname&&t.pathname.split("/")||[],E=n.protocol&&!T[n.protocol];if(E&&(n.hostname="",n.port=null,n.host&&(""===x[0]?x[0]=n.host:x.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),b=b&&(""===d[0]||""===x[0])),g)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,x=d;else if(d.length)x||(x=[]),x.pop(),x=x.concat(d),n.search=t.search,n.query=t.query;else if(!u.isNullOrUndefined(t.search)){if(E){n.hostname=n.host=x.shift();var C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");C&&(n.auth=C.shift(),n.host=n.hostname=C.shift())}return n.search=t.search,n.query=t.query,u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!x.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var k=x.slice(-1)[0],S=(n.host||t.host||x.length>1)&&("."===k||".."===k)||""===k,P=0,M=x.length;M>=0;M--)k=x[M],"."===k?x.splice(M,1):".."===k?(x.splice(M,1),P++):P&&(x.splice(M,1),P--);if(!b&&!_)for(;P--;P)x.unshift("..");!b||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),S&&"/"!==x.join("/").substr(-1)&&x.push("");var A=""===x[0]||x[0]&&"/"===x[0].charAt(0);if(E){n.hostname=n.host=A?"":x.length?x.shift():"";var C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");C&&(n.auth=C.shift(),n.host=n.hostname=C.shift())}return b=b||n.host&&x.length,b&&!A&&x.unshift(""),x.length?n.pathname=x.join("/"):(n.pathname=null,n.path=null),u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=f.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":66,punycode:61,querystring:64}],66:[function(t,e,n){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],67:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],68:[function(t,e,n){(function(e,r){function o(t,e){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(e)?r.showHidden=e:e&&n._extend(r,e),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),l(r,t,r.depth)}function i(t,e){var n=o.styles[e];return n?"["+o.colors[n][0]+"m"+t+"["+o.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function l(t,e,r){if(t.customInspect&&e&&k(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var o=e.inspect(r,t);return b(o)||(o=l(t,o,r)),o}var i=u(t,e);if(i)return i;var a=Object.keys(e),m=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),C(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(e);if(0===a.length){if(k(e)){var y=e.name?": "+e.name:"";return t.stylize("[Function"+y+"]","special")}if(w(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(E(e))return t.stylize(Date.prototype.toString.call(e),"date");if(C(e))return c(e)}var v="",g=!1,_=["{","}"];if(d(e)&&(g=!0,_=["[","]"]),k(e)){var x=e.name?": "+e.name:"";v=" [Function"+x+"]"}if(w(e)&&(v=" "+RegExp.prototype.toString.call(e)),E(e)&&(v=" "+Date.prototype.toUTCString.call(e)),C(e)&&(v=" "+c(e)),0===a.length&&(!g||0==e.length))return _[0]+v+_[1];if(r<0)return w(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var T;return T=g?f(t,e,r,m,a):a.map(function(n){return p(t,e,r,m,n,g)}),t.seen.pop(),h(T,v,_)}function u(t,e){if(x(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,o){for(var i=[],a=0,s=e.length;a<s;++a)O(e,String(a))?i.push(p(t,e,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(t,e,n,r,o,!0))}),i}function p(t,e,n,r,o,i){var a,s,u;if(u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},u.get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),O(r,o)||(a="["+o+"]"),s||(t.seen.indexOf(u.value)<0?(s=y(n)?l(t,u.value,null):l(t,u.value,n-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),x(a)){if(i&&o.match(/^\d+$/))return s;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function h(t,e,n){var r=0,o=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function y(t){return null===t}function v(t){return null==t}function g(t){return"number"==typeof t}function b(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function x(t){return void 0===t}function w(t){return T(t)&&"[object RegExp]"===P(t)}function T(t){return"object"==typeof t&&null!==t}function E(t){return T(t)&&"[object Date]"===P(t)}function C(t){return T(t)&&("[object Error]"===P(t)||t instanceof Error)}function k(t){return"function"==typeof t}function S(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function P(t){return Object.prototype.toString.call(t)}function M(t){return t<10?"0"+t.toString(10):t.toString(10)}function A(){var t=new Date,e=[M(t.getHours()),M(t.getMinutes()),M(t.getSeconds())].join(":");return[t.getDate(),j[t.getMonth()],e].join(" ")}function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var D=/%[sdj%]/g;n.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,i=r.length,a=String(t).replace(D,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),s=r[n];n<i;s=r[++n])a+=y(s)||!T(s)?" "+s:" "+o(s);return a},n.deprecate=function(t,o){function i(){if(!a){if(e.throwDeprecation)throw new Error(o);e.traceDeprecation?console.trace(o):console.error(o),a=!0}return t.apply(this,arguments)}if(x(r.process))return function(){return n.deprecate(t,o).apply(this,arguments)};if(e.noDeprecation===!0)return t;var a=!1;return i};var L,I={};n.debuglog=function(t){if(x(L)&&(L=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!I[t])if(new RegExp("\\b"+t+"\\b","i").test(L)){var r=e.pid;I[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}}else I[t]=function(){};return I[t]},n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=m,n.isNull=y,n.isNullOrUndefined=v,n.isNumber=g,n.isString=b,n.isSymbol=_,n.isUndefined=x,n.isRegExp=w,n.isObject=T,n.isDate=E,n.isError=C,n.isFunction=k,n.isPrimitive=S,n.isBuffer=t("./support/isBuffer");var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",A(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!T(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":67,_process:60,inherits:58}],69:[function(t,e,n){"use strict";function r(t){return[Math.min(t[0],t[1]),Math.max(t[0],t[1])]}function o(t,e){return t[0]-e[0]||t[1]-e[1]}function i(t){return t.map(r).sort(o)}function a(t,e,n){return e in t?t[e]:n}function s(t,e,n){Array.isArray(e)?(n=n||{},e=e||[]):(n=e||{},e=[]);var r=!!a(n,"delaunay",!0),o=!!a(n,"interior",!0),s=!!a(n,"exterior",!0),p=!!a(n,"infinity",!1);if(!o&&!s||0===t.length)return[];var h=l(t,e);if(r||o!==s||p){for(var d=u(t.length,i(e)),m=0;m<h.length;++m){var y=h[m];d.addTriangle(y[0],y[1],y[2])}return r&&c(t,d),s?o?p?f(d,0,p):d.cells():f(d,1,p):f(d,-1)}return h}var l=t("./lib/monotone"),u=t("./lib/triangulation"),c=t("./lib/delaunay"),f=t("./lib/filter");e.exports=s},{"./lib/delaunay":70,"./lib/filter":71,"./lib/monotone":72,"./lib/triangulation":73}],70:[function(t,e,n){"use strict";function r(t,e,n,r,o,a){var s=e.opposite(r,o);if(!(s<0)){if(o<r){var l=r;r=o,o=l,l=a,a=s,s=l}e.isConstraint(r,o)||i(t[r],t[o],t[a],t[s])<0&&n.push(r,o)}}function o(t,e){for(var n=[],o=t.length,a=e.stars,s=0;s<o;++s)for(var l=a[s],u=1;u<l.length;u+=2){var c=l[u];if(!(c<s||e.isConstraint(s,c))){for(var f=l[u-1],p=-1,h=1;h<l.length;h+=2)if(l[h-1]===c){p=l[h];break}p<0||i(t[s],t[c],t[f],t[p])<0&&n.push(s,c)}}for(;n.length>0;){for(var c=n.pop(),s=n.pop(),f=-1,p=-1,l=a[s],d=1;d<l.length;d+=2){var m=l[d-1],y=l[d];m===c?p=y:y===c&&(f=m)}f<0||p<0||i(t[s],t[c],t[f],t[p])>=0||(e.flip(s,c),r(t,e,n,f,s,p),r(t,e,n,s,p,f),r(t,e,n,p,c,f),r(t,e,n,c,f,p))}}var i=t("robust-in-sphere")[4];t("binary-search-bounds");e.exports=o},{"binary-search-bounds":74,"robust-in-sphere":75}],71:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a){this.cells=t,this.neighbor=e,this.flags=r,this.constraint=n,this.active=o,this.next=i,this.boundary=a}function o(t,e){return t[0]-e[0]||t[1]-e[1]||t[2]-e[2]}function i(t,e){for(var n=t.cells(),i=n.length,a=0;a<i;++a){var s=n[a],l=s[0],u=s[1],c=s[2];u<c?u<l&&(s[0]=u,s[1]=c,s[2]=l):c<l&&(s[0]=c,s[1]=l,s[2]=u)}n.sort(o);for(var f=new Array(i),a=0;a<f.length;++a)f[a]=0;var p=[],h=[],d=new Array(3*i),m=new Array(3*i),y=null;e&&(y=[]);for(var v=new r(n,d,m,f,p,h,y),a=0;a<i;++a)for(var s=n[a],g=0;g<3;++g){var l=s[g],u=s[(g+1)%3],b=d[3*a+g]=v.locate(u,l,t.opposite(u,l)),_=m[3*a+g]=t.isConstraint(l,u);b<0&&(_?h.push(a):(p.push(a),f[a]=1),e&&y.push([u,l,-1]))}return v}function a(t,e,n){for(var r=0,o=0;o<t.length;++o)e[o]===n&&(t[r++]=t[o]);return t.length=r,t}function s(t,e,n){var r=i(t,n);if(0===e)return n?r.cells.concat(r.boundary):r.cells;for(var o=1,s=r.active,l=r.next,u=r.flags,c=r.cells,f=r.constraint,p=r.neighbor;s.length>0||l.length>0;){for(;s.length>0;){var h=s.pop();if(u[h]!==-o){u[h]=o;for(var d=(c[h],0);d<3;++d){var m=p[3*h+d];m>=0&&0===u[m]&&(f[3*h+d]?l.push(m):(s.push(m),u[m]=o))}}}var y=l;l=s,s=y,l.length=0,o=-o}var v=a(c,u,e);return n?v.concat(r.boundary):v}var l=t("binary-search-bounds");e.exports=s;var u=r.prototype;u.locate=function(){var t=[0,0,0];return function(e,n,r){var i=e,a=n,s=r;return n<r?n<e&&(i=n,a=r,s=e):r<e&&(i=r,a=e,s=n),i<0?-1:(t[0]=i,t[1]=a,t[2]=s,l.eq(this.cells,t,o))}}()},{"binary-search-bounds":74}],72:[function(t,e,n){"use strict";function r(t,e,n,r,o){this.a=t,this.b=e,this.idx=n,this.lowerIds=r,this.upperIds=o}function o(t,e,n,r){this.a=t,this.b=e,this.type=n,this.idx=r}function i(t,e){var n=t.a[0]-e.a[0]||t.a[1]-e.a[1]||t.type-e.type;return n?n:t.type!==d&&(n=h(t.a,t.b,e.b))?n:t.idx-e.idx}function a(t,e){return h(t.a,t.b,e)}function s(t,e,n,r,o){for(var i=p.lt(e,r,a),s=p.gt(e,r,a),l=i;l<s;++l){for(var u=e[l],c=u.lowerIds,f=c.length;f>1&&h(n[c[f-2]],n[c[f-1]],r)>0;)t.push([c[f-1],c[f-2],o]),f-=1;c.length=f,c.push(o);for(var d=u.upperIds,f=d.length;f>1&&h(n[d[f-2]],n[d[f-1]],r)<0;)t.push([d[f-2],d[f-1],o]),f-=1;d.length=f,d.push(o)}}function l(t,e){var n;return(n=t.a[0]<e.a[0]?h(t.a,t.b,e.a):h(e.b,e.a,t.a))?n:(n=e.b[0]<t.b[0]?h(t.a,t.b,e.b):h(e.b,e.a,t.b),n||t.idx-e.idx)}function u(t,e,n){var o=p.le(t,n,l),i=t[o],a=i.upperIds,s=a[a.length-1];i.upperIds=[s],t.splice(o+1,0,new r(n.a,n.b,n.idx,[s],a))}function c(t,e,n){var r=n.a;n.a=n.b,n.b=r;var o=p.eq(t,n,l),i=t[o],a=t[o-1];a.upperIds=i.upperIds,t.splice(o,1)}function f(t,e){for(var n=t.length,a=e.length,l=[],f=0;f<n;++f)l.push(new o(t[f],null,d,f));for(var f=0;f<a;++f){var p=e[f],h=t[p[0]],v=t[p[1]];h[0]<v[0]?l.push(new o(h,v,y,f),new o(v,h,m,f)):h[0]>v[0]&&l.push(new o(v,h,y,f),new o(h,v,m,f))}l.sort(i);for(var g=l[0].a[0]-(1+Math.abs(l[0].a[0]))*Math.pow(2,-52),b=[new r([g,1],[g,0],(-1),[],[],[],[])],_=[],f=0,x=l.length;f<x;++f){var w=l[f],T=w.type;T===d?s(_,b,t,w.a,w.idx):T===y?u(b,t,w):c(b,t,w)}return _}var p=t("binary-search-bounds"),h=t("robust-orientation")[3],d=0,m=1,y=2;e.exports=f},{"binary-search-bounds":74,"robust-orientation":491}],73:[function(t,e,n){"use strict";function r(t,e){this.stars=t,this.edges=e}function o(t,e,n){for(var r=1,o=t.length;r<o;r+=2)if(t[r-1]===e&&t[r]===n)return t[r-1]=t[o-2],t[r]=t[o-1],void(t.length=o-2)}function i(t,e){for(var n=new Array(t),o=0;o<t;++o)n[o]=[];return new r(n,e)}var a=t("binary-search-bounds");e.exports=i;var s=r.prototype;s.isConstraint=function(){function t(t,e){return t[0]-e[0]||t[1]-e[1]}var e=[0,0];return function(n,r){return e[0]=Math.min(n,r),e[1]=Math.max(n,r),a.eq(this.edges,e,t)>=0}}(),s.removeTriangle=function(t,e,n){var r=this.stars;o(r[t],e,n),o(r[e],n,t),o(r[n],t,e)},s.addTriangle=function(t,e,n){var r=this.stars;r[t].push(e,n),r[e].push(n,t),r[n].push(t,e)},s.opposite=function(t,e){for(var n=this.stars[e],r=1,o=n.length;r<o;r+=2)if(n[r]===t)return n[r-1];return-1},s.flip=function(t,e){var n=this.opposite(t,e),r=this.opposite(e,t);this.removeTriangle(t,e,n),this.removeTriangle(e,t,r),this.addTriangle(t,r,n),this.addTriangle(e,n,r)},s.edges=function(){for(var t=this.stars,e=[],n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,a=o.length;i<a;i+=2)e.push([o[i],o[i+1]]);return e},s.cells=function(){for(var t=this.stars,e=[],n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,a=o.length;i<a;i+=2){var s=o[i],l=o[i+1];n<Math.min(s,l)&&e.push([n,s,l])}return e}},{"binary-search-bounds":74}],74:[function(t,e,n){"use strict";function r(t,e,n,r,o){var i=["function ",t,"(a,l,h,",r.join(","),"){",o?"":"var i=",n?"l-1":"h+1",";while(l<=h){\tvar m=(l+h)>>>1,x=a[m]"];return o?e.indexOf("c")<0?i.push(";if(x===y){return m}else if(x<=y){"):i.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):i.push(";if(",e,"){i=m;"),n?i.push("l=m+1}else{h=m-1}"):i.push("h=m-1}else{l=m+1}"),i.push("}"),o?i.push("return -1};"):i.push("return i};"),i.join("")}function o(t,e,n,o){var i=new Function([r("A","x"+t+"y",e,["y"],o),r("P","c(x,y)"+t+"0",e,["y","c"],o),"function dispatchBsearch",n,"(a,y,c,l,h){\tif(typeof(c)==='function'){\treturn P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)\t}else{\treturn A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)\t}}\treturn dispatchBsearch",n].join(""));return i()}e.exports={ge:o(">=",!1,"GE"),gt:o(">",!1,"GT"),lt:o("<",!0,"LT"),le:o("<=",!0,"LE"),eq:o("-",!0,"EQ",!0)}},{}],75:[function(t,e,n){"use strict";function r(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var o=n[r-1]=new Array(t.length-1),i=0,a=0;i<t.length;++i)i!==e&&(o[a++]=t[r][i]);return n}function o(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-2,"]"].join("")}return e}function i(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",i(t.slice(0,e)),",",i(t.slice(e)),")"].join("")}function a(t,e){if("m"===t.charAt(0)){if("w"===e.charAt(0)){var n=t.split("[");return["w",e.substr(1),"m",n[0].substr(1)].join("")}return["prod(",t,",",e,")"].join("")}return a(e,t)}function s(t){return t&!0?"-":""}function l(t){if(2===t.length)return[["diff(",a(t[0][0],t[1][1]),",",a(t[1][0],t[0][1]),")"].join("")];for(var e=[],n=0;n<t.length;++n)e.push(["scale(",i(l(r(t,n))),",",s(n),t[0][n],")"].join(""));return e}function u(t,e){for(var n=[],r=0;r<e-2;++r)n.push(["prod(m",t,"[",r,"],m",t,"[",r,"])"].join(""));return i(n)}function c(t){for(var e=[],n=[],a=o(t),s=0;s<t;++s)a[0][s]="1",a[t-1][s]="w"+s;for(var s=0;s<t;++s)0===(1&s)?e.push.apply(e,l(r(a,s))):n.push.apply(n,l(r(a,s)));for(var c=i(e),f=i(n),p="exactInSphere"+t,h=[],s=0;s<t;++s)h.push("m"+s);for(var d=["function ",p,"(",h.join(),"){"],s=0;s<t;++s){d.push("var w",s,"=",u(s,t),";");for(var m=0;m<t;++m)m!==s&&d.push("var w",s,"m",m,"=scale(w",s,",m",m,"[0]);")}d.push("var p=",c,",n=",f,",d=diff(p,n);return d[d.length-1];}return ",p);var _=new Function("sum","diff","prod","scale",d.join(""));return _(v,g,y,b)}function f(){return 0}function p(){return 0}function h(){return 0}function d(t){var e=x[t.length];return e||(e=x[t.length]=c(t.length)),e.apply(void 0,t)}function m(){for(;x.length<=_;)x.push(c(x.length));for(var t=[],n=["slow"],r=0;r<=_;++r)t.push("a"+r),n.push("o"+r);for(var o=["function testInSphere(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"],r=2;r<=_;++r)o.push("case ",r,":return o",r,"(",t.slice(0,r).join(),");");o.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return testInSphere"),n.push(o.join(""));var i=Function.apply(void 0,n);e.exports=i.apply(void 0,[d].concat(x));for(var r=0;r<=_;++r)e.exports[r]=x[r]}var y=t("two-product"),v=t("robust-sum"),g=t("robust-subtract"),b=t("robust-scale"),_=6,x=[f,p,h];m()},{"robust-scale":492,"robust-subtract":493,"robust-sum":494,"two-product":508}],76:[function(t,e,n){"use strict";function r(t){var e=_(t),n=b(g(e),t);return n<0?[e,w(e,1/0)]:n>0?[w(e,-(1/0)),e]:[e,e]}function o(t,e){for(var n=new Array(e.length),r=0;r<e.length;++r){var o=e[r],i=t[o[0]],a=t[o[1]];n[r]=[Math.min(i[0],a[0]),Math.min(i[1],a[1]),Math.max(i[0],a[0]),Math.max(i[1],a[1])]}return n}function i(t){for(var e=new Array(t.length),n=0;n<t.length;++n){var r=t[n];e[n]=[r[0],r[1],r[0],r[1]]}return e}function a(t,e,n){var r=[];return y(n,function(n,o){var i=e[n],a=e[o];if(i[0]!==a[0]&&i[0]!==a[1]&&i[1]!==a[0]&&i[1]!==a[1]){var s=t[i[0]],l=t[i[1]],u=t[a[0]],c=t[a[1]];v(s,l,u,c)&&r.push([n,o])}}),r}function s(t,e,n,r){var o=[];return y(n,r,function(n,r){var i=e[n];if(i[0]!==r&&i[1]!==r){var a=t[r],s=t[i[0]],l=t[i[1]];v(s,l,a,a)&&o.push([n,r])}}),o}function l(t,e,n,r,o){function i(e){if(e>=t.length)return a[e-t.length];var n=t[e];return[g(n[0]),g(n[1])]}for(var a=[],s=0;s<n.length;++s){var l=n[s],u=l[0],c=l[1],f=e[u],p=e[c],h=T(x(t[f[0]]),x(t[f[1]]),x(t[p[0]]),x(t[p[1]]));if(h){var d=a.length+t.length;a.push(h),r.push([u,d],[c,d])}}r.sort(function(t,e){if(t[0]!==e[0])return t[0]-e[0];var n=i(t[1]),r=i(e[1]);return b(n[0],r[0])||b(n[1],r[1])});for(var s=r.length-1;s>=0;--s){var m=r[s],u=m[0],y=e[u],v=y[0],_=y[1],w=t[v],E=t[_];if((w[0]-E[0]||w[1]-E[1])<0){var C=v;v=_,_=C}y[0]=v;var k,S=y[1]=m[1];for(o&&(k=y[2]);s>0&&r[s-1][0]===u;){var m=r[--s],P=m[1];o?e.push([S,P,k]):e.push([S,P]),S=P}o?e.push([S,_,k]):e.push([S,_])}return a}function u(t,e,n){for(var o=t.length+e.length,i=new m(o),a=n,s=0;s<e.length;++s){var l=e[s],u=r(l[0]),c=r(l[1]);a.push([u[0],c[0],u[1],c[1]]),t.push([_(l[0]),_(l[1])])}y(a,function(t,e){i.link(t,e)});for(var f=0,p=!0,h=new Array(o),s=0;s<o;++s){var d=i.find(s);d===s?(h[s]=f,t[f++]=t[s]):(p=!1,h[s]=-1)}if(t.length=f,p)return null;for(var s=0;s<o;++s)h[s]<0&&(h[s]=h[i.find(s)]);return h}function c(t,e){return t[0]-e[0]||t[1]-e[1]}function f(t,e){var n=t[0]-e[0]||t[1]-e[1];return n?n:t[2]<e[2]?-1:t[2]>e[2]?1:0}function p(t,e,n){if(0!==t.length){if(e)for(var r=0;r<t.length;++r){var o=t[r],i=e[o[0]],a=e[o[1]];o[0]=Math.min(i,a),o[1]=Math.max(i,a)}else for(var r=0;r<t.length;++r){var o=t[r],i=o[0],a=o[1];o[0]=Math.min(i,a),o[1]=Math.max(i,a)}n?t.sort(f):t.sort(c);for(var s=1,r=1;r<t.length;++r){var l=t[r-1],u=t[r];(u[0]!==l[0]||u[1]!==l[1]||n&&u[2]!==l[2])&&(t[s++]=u)}t.length=s}}function h(t,e,n){var r=o(t,e),c=a(t,e,r),f=i(t),h=s(t,e,r,f),d=l(t,e,c,h,n),m=u(t,d,f);return p(e,m,n),!!m||(c.length>0||h.length>0)}function d(t,e,n){var r,o=!1;if(n){r=e;for(var i=new Array(e.length),a=0;a<e.length;++a){var s=e[a];i[a]=[s[0],s[1],n[a]]}e=i}for(;h(t,e,!!n);)o=!0;if(n&&o){r.length=0,n.length=0;for(var a=0;a<e.length;++a){var s=e[a];r.push([s[0],s[1]]),n.push(s[2])}}return o}e.exports=d;var m=t("union-find"),y=t("box-intersect"),v=(t("compare-cell"),t("robust-segment-intersect")),g=t("big-rat"),b=t("big-rat/cmp"),_=t("big-rat/to-float"),x=t("rat-vec"),w=t("nextafter"),T=t("./lib/rat-seg-intersect")},{"./lib/rat-seg-intersect":77,"big-rat":81,"big-rat/cmp":79,"big-rat/to-float":94,"box-intersect":95,"compare-cell":113,nextafter:103,"rat-vec":105,"robust-segment-intersect":108,"union-find":109}],77:[function(t,e,n){"use strict";function r(t,e){return s(i(t[0],e[1]),i(t[1],e[0]))}function o(t,e,n,o){var i=u(e,t),s=u(o,n),p=r(i,s);if(0===l(p))return null;var h=u(t,n),d=r(s,h),m=a(d,p);return c(t,f(i,m))}e.exports=o;var i=t("big-rat/mul"),a=t("big-rat/div"),s=t("big-rat/sub"),l=t("big-rat/sign"),u=t("rat-vec/sub"),c=t("rat-vec/add"),f=t("rat-vec/muls");t("big-rat/to-float")},{"big-rat/div":80,"big-rat/mul":90,"big-rat/sign":92,"big-rat/sub":93,"big-rat/to-float":94,"rat-vec/add":104,"rat-vec/muls":106,"rat-vec/sub":107}],78:[function(t,e,n){"use strict";function r(t,e){return o(t[0].mul(e[1]).add(e[0].mul(t[1])),t[1].mul(e[1]))}var o=t("./lib/rationalize");e.exports=r},{"./lib/rationalize":88}],79:[function(t,e,n){"use strict";function r(t,e){return t[0].mul(e[1]).cmp(e[0].mul(t[1]))}e.exports=r},{}],80:[function(t,e,n){"use strict";function r(t,e){return o(t[0].mul(e[1]),t[1].mul(e[0]))}var o=t("./lib/rationalize");e.exports=r},{"./lib/rationalize":88}],81:[function(t,e,n){"use strict";function r(t,e){if(o(t))return e?u(t,r(e)):[t[0].clone(),t[1].clone()];var n,c,f=0;if(i(t))n=t.clone();else if("string"==typeof t)n=s(t);else{if(0===t)return[a(0),a(1)];if(t===Math.floor(t))n=a(t);else{for(;t!==Math.floor(t);)t*=Math.pow(2,256),f-=256;n=a(t)}}if(o(e))n.mul(e[1]),c=e[0].clone();else if(i(e))c=e.clone();else if("string"==typeof e)c=s(e);else if(e)if(e===Math.floor(e))c=a(e);else{for(;e!==Math.floor(e);)e*=Math.pow(2,256),f+=256;c=a(e)}else c=a(1);return f>0?n=n.shln(f):f<0&&(c=c.shln(-f)),l(n,c)}var o=t("./is-rat"),i=t("./lib/is-bn"),a=t("./lib/num-to-bn"),s=t("./lib/str-to-bn"),l=t("./lib/rationalize"),u=t("./div");e.exports=r},{"./div":80,"./is-rat":82,"./lib/is-bn":86,"./lib/num-to-bn":87,"./lib/rationalize":88,"./lib/str-to-bn":89}],82:[function(t,e,n){"use strict";function r(t){return Array.isArray(t)&&2===t.length&&o(t[0])&&o(t[1])}var o=t("./lib/is-bn");e.exports=r},{"./lib/is-bn":86}],83:[function(t,e,n){"use strict";function r(t){return t.cmp(new o(0))}var o=t("bn.js");e.exports=r},{"bn.js":91}],84:[function(t,e,n){"use strict";function r(t){var e=t.length,n=t.words,r=0;if(1===e)r=n[0];else if(2===e)r=n[0]+67108864*n[1];else for(var r=0,o=0;o<e;o++){var i=n[o];r+=i*Math.pow(67108864,o)}return t.sign?-r:r}e.exports=r},{}],85:[function(t,e,n){"use strict";function r(t){var e=i(o.lo(t));if(e<32)return e;var n=i(o.hi(t));return n>20?52:n+32}var o=t("double-bits"),i=t("bit-twiddle").countTrailingZeros;e.exports=r},{"bit-twiddle":52,"double-bits":102}],86:[function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&Boolean(t.words)}t("bn.js");e.exports=r},{"bn.js":91}],87:[function(t,e,n){"use strict";function r(t){var e=i.exponent(t);return e<52?new o(t):new o(t*Math.pow(2,52-e)).shln(e-52)}var o=t("bn.js"),i=t("double-bits");e.exports=r},{"bn.js":91,"double-bits":102}],88:[function(t,e,n){"use strict";function r(t,e){var n=i(t),r=i(e);if(0===n)return[o(0),o(1)];if(0===r)return[o(0),o(0)];r<0&&(t=t.neg(),e=e.neg());var a=t.gcd(e);return a.cmpn(1)?[t.div(a),e.div(a)]:[t,e]}var o=t("./num-to-bn"),i=t("./bn-sign");e.exports=r},{"./bn-sign":83,"./num-to-bn":87}],89:[function(t,e,n){"use strict";function r(t){return new o(t)}var o=t("bn.js");e.exports=r},{"bn.js":91}],90:[function(t,e,n){"use strict";function r(t,e){return o(t[0].mul(e[0]),t[1].mul(e[1]))}var o=t("./lib/rationalize");e.exports=r},{"./lib/rationalize":88}],91:[function(t,e,n){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function r(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){return null!==t&&"object"==typeof t&&Array.isArray(t.words)?t:(this.sign=!1,this.words=null,this.length=0,this.red=null,"le"!==e&&"be"!==e||(n=e,e=10),void(null!==t&&this._init(t||0,e||10,n||"be")))}function i(t,e,n){for(var r=0,o=Math.min(t.length,n),i=e;i<o;i++){var a=t.charCodeAt(i)-48;r<<=4,r|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return r}function a(t,e,n,r){for(var o=0,i=Math.min(t.length,n),a=e;a<i;a++){var s=t.charCodeAt(a)-48;o*=r,o+=s>=49?s-49+10:s>=17?s-17+10:s}return o}function s(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).ishln(this.n).isub(this.p),this.tmp=this._tmp()}function l(){s.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function u(){s.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function c(){s.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function f(){s.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function p(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else this.m=t,this.prime=null}function h(t){p.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).ishln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv.sign=!0,this.minv=this.minv.mod(this.r)}"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26,o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36),t=t.toString().replace(/\s+/g,"");var o=0;"-"===t[0]&&o++,16===e?this._parseHex(t,o):this._parseBase(t,e,o),"-"===t[0]&&(this.sign=!0),this.strip(),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.sign=!0,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var i=0;if("be"===r)for(var o=t.length-1,a=0;o>=0;o-=3){var s=t[o]|t[o-1]<<8|t[o-2]<<16;this.words[a]|=s<<i&67108863,this.words[a+1]=s>>>26-i&67108863,i+=24,i>=26&&(i-=26,a++)}else if("le"===r)for(var o=0,a=0;o<t.length;o+=3){var s=t[o]|t[o+1]<<8|t[o+2]<<16;this.words[a]|=s<<i&67108863,this.words[a+1]=s>>>26-i&67108863,i+=24,i>=26&&(i-=26,a++)}return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;for(var r=0,n=t.length-6,o=0;n>=e;n-=6){var a=i(t,n,n+6);this.words[o]|=a<<r&67108863,
this.words[o+1]|=a>>>26-r&4194303,r+=24,r>=26&&(r-=26,o++)}if(n+6!==e){var a=i(t,e,n+6);this.words[o]|=a<<r&67108863,this.words[o+1]|=a>>>26-r&4194303}this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,o=1;o<=67108863;o*=e)r++;r--,o=o/e|0;for(var i=t.length-n,s=i%r,l=Math.min(i,i-s)+n,u=0,c=n;c<l;c+=r)u=a(t,c,c+r,e),this.imuln(o),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){for(var f=1,u=a(t,c,t.length,e),c=0;c<s;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.sign=this.sign,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.sign=!1),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){if(t=t||10,16===t||"hex"===t){for(var r="",o=0,e=0|e||1,i=0,a=0;a<this.length;a++){var s=this.words[a],l=(16777215&(s<<o|i)).toString(16);i=s>>>24-o&16777215,r=0!==i||a!==this.length-1?d[6-l.length]+l+r:l+r,o+=2,o>=26&&(o-=26,a--)}for(0!==i&&(r=i.toString(16)+r);r.length%e!==0;)r="0"+r;return this.sign&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var u=m[t],c=y[t],r="",f=this.clone();for(f.sign=!1;0!==f.cmpn(0);){var p=f.modn(c).toString(t);f=f.idivn(c),r=0!==f.cmpn(0)?d[u-p.length]+p+r:p+r}return 0===this.cmpn(0)&&(r="0"+r),this.sign&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toArray=function(t){this.strip();var e=new Array(this.byteLength());e[0]=0;var n=this.clone();if("le"!==t)for(var r=0;0!==n.cmpn(0);r++){var o=n.andln(255);n.ishrn(8),e[e.length-r-1]=o}else for(var r=0;0!==n.cmpn(0);r++){var o=n.andln(255);n.ishrn(8),e[r]=o}return e},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0===(8191&e)&&(n+=13,e>>>=13),0===(127&e)&&(n+=7,e>>>=7),0===(15&e)&&(n+=4,e>>>=4),0===(3&e)&&(n+=2,e>>>=2),0===(1&e)&&n++,n},o.prototype.bitLength=function(){var t=0,e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(0===this.cmpn(0))return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.neg=function(){if(0===this.cmpn(0))return this.clone();var t=this.clone();return t.sign=!this.sign,t},o.prototype.ior=function(t){for(this.sign=this.sign||t.sign;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.iand=function(t){this.sign=this.sign&&t.sign;var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.ixor=function(t){this.sign=this.sign||t.sign;var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);for(var r=t/26|0,o=t%26;this.length<=r;)this.words[this.length++]=0;return e?this.words[r]=this.words[r]|1<<o:this.words[r]=this.words[r]&~(1<<o),this.strip()},o.prototype.iadd=function(t){if(this.sign&&!t.sign){this.sign=!1;var e=this.isub(t);return this.sign=!this.sign,this._normSign()}if(!this.sign&&t.sign){t.sign=!1;var e=this.isub(t);return t.sign=!0,e._normSign()}var n,r;this.length>t.length?(n=this,r=t):(n=t,r=this);for(var o=0,i=0;i<r.length;i++){var e=n.words[i]+r.words[i]+o;this.words[i]=67108863&e,o=e>>>26}for(;0!==o&&i<n.length;i++){var e=n.words[i]+o;this.words[i]=67108863&e,o=e>>>26}if(this.length=n.length,0!==o)this.words[this.length]=o,this.length++;else if(n!==this)for(;i<n.length;i++)this.words[i]=n.words[i];return this},o.prototype.add=function(t){if(t.sign&&!this.sign){t.sign=!1;var e=this.sub(t);return t.sign=!0,e}if(!t.sign&&this.sign){this.sign=!1;var e=t.sub(this);return this.sign=!0,e}return this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(t.sign){t.sign=!1;var e=this.iadd(t);return t.sign=!0,e._normSign()}if(this.sign)return this.sign=!1,this.iadd(t),this.sign=!0,this._normSign();var n=this.cmp(t);if(0===n)return this.sign=!1,this.length=1,this.words[0]=0,this;var r,o;n>0?(r=this,o=t):(r=t,o=this);for(var i=0,a=0;a<o.length;a++){var e=r.words[a]-o.words[a]+i;i=e>>26,this.words[a]=67108863&e}for(;0!==i&&a<r.length;a++){var e=r.words[a]+i;i=e>>26,this.words[a]=67108863&e}if(0===i&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.sign=!0),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)},o.prototype._smallMulTo=function(t,e){e.sign=t.sign!==this.sign,e.length=this.length+t.length;for(var n=0,r=0;r<e.length-1;r++){for(var o=n>>>26,i=67108863&n,a=Math.min(r,t.length-1),s=Math.max(0,r-this.length+1);s<=a;s++){var l=r-s,u=0|this.words[l],c=0|t.words[s],f=u*c,p=67108863&f;o=o+(f/67108864|0)|0,p=p+i|0,i=67108863&p,o=o+(p>>>26)|0}e.words[r]=i,n=o}return 0!==n?e.words[r]=n:e.length--,e.strip()},o.prototype._bigMulTo=function(t,e){e.sign=t.sign!==this.sign,e.length=this.length+t.length;for(var n=0,r=0,o=0;o<e.length-1;o++){var i=r;r=0;for(var a=67108863&n,s=Math.min(o,t.length-1),l=Math.max(0,o-this.length+1);l<=s;l++){var u=o-l,c=0|this.words[u],f=0|t.words[l],p=c*f,h=67108863&p;i=i+(p/67108864|0)|0,h=h+a|0,a=67108863&h,i=i+(h>>>26)|0,r+=i>>>26,i&=67108863}e.words[o]=a,n=i,i=r}return 0!==n?e.words[o]=n:e.length--,e.strip()},o.prototype.mulTo=function(t,e){var n;return n=this.length+t.length<63?this._smallMulTo(t,e):this._bigMulTo(t,e)},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.imul=function(t){if(0===this.cmpn(0)||0===t.cmpn(0))return this.words[0]=0,this.length=1,this;var e=this.length,n=t.length;this.sign=t.sign!==this.sign,this.length=this.length+t.length,this.words[this.length-1]=0;for(var r=this.length-2;r>=0;r--){for(var o=0,i=0,a=Math.min(r,n-1),s=Math.max(0,r-e+1);s<=a;s++){var l=r-s,u=this.words[l],c=t.words[s],f=u*c,p=67108863&f;o+=f/67108864|0,p+=i,i=67108863&p,o+=p>>>26}this.words[r]=i,this.words[r+1]+=o,o=0}for(var o=0,l=1;l<this.length;l++){var h=this.words[l]+o;this.words[l]=67108863&h,o=h>>>26}return this.strip()},o.prototype.imuln=function(t){n("number"==typeof t);for(var e=0,r=0;r<this.length;r++){var o=this.words[r]*t,i=(67108863&o)+(67108863&e);e>>=26,e+=o/67108864|0,e+=i>>>26,this.words[r]=67108863&i}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.mul(this)},o.prototype.ishln=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,o=67108863>>>26-e<<26-e;if(0!==e){for(var i=0,a=0;a<this.length;a++){var s=this.words[a]&o,l=this.words[a]-s<<e;this.words[a]=l|i,i=s>>>26-e}i&&(this.words[a]=i,this.length++)}if(0!==r){for(var a=this.length-1;a>=0;a--)this.words[a+r]=this.words[a];for(var a=0;a<r;a++)this.words[a]=0;this.length+=r}return this.strip()},o.prototype.ishrn=function(t,e,r){n("number"==typeof t&&t>=0);var o;o=e?(e-e%26)/26:0;var i=t%26,a=Math.min((t-i)/26,this.length),s=67108863^67108863>>>i<<i,l=r;if(o-=a,o=Math.max(0,o),l){for(var u=0;u<a;u++)l.words[u]=this.words[u];l.length=a}if(0===a);else if(this.length>a){this.length-=a;for(var u=0;u<this.length;u++)this.words[u]=this.words[u+a]}else this.words[0]=0,this.length=1;for(var c=0,u=this.length-1;u>=0&&(0!==c||u>=o);u--){var f=this.words[u];this.words[u]=c<<26-i|f>>>i,c=f&s}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip(),this},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,o=1<<e;if(this.length<=r)return!1;var i=this.words[r];return!!(i&o)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(!this.sign,"imaskn works only with positive numbers"),0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var o=67108863^67108863>>>e<<e;this.words[this.length-1]&=o}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),t<0?this.isubn(-t):this.sign?1===this.length&&this.words[0]<t?(this.words[0]=t-this.words[0],this.sign=!1,this):(this.sign=!1,this.isubn(t),this.sign=!0,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),t<0)return this.iaddn(-t);if(this.sign)return this.sign=!1,this.iaddn(t),this.sign=!0,this;this.words[0]-=t;for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.sign=!1,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var o,i=t.length+r;if(this.words.length<i){for(var a=new Array(i),o=0;o<this.length;o++)a[o]=this.words[o];this.words=a}else o=this.length;for(this.length=Math.max(this.length,i);o<this.length;o++)this.words[o]=0;for(var s=0,o=0;o<t.length;o++){var l=this.words[o+r]+s,u=t.words[o]*e;l-=67108863&u,s=(l>>26)-(u/67108864|0),this.words[o+r]=67108863&l}for(;o<this.length-r;o++){var l=this.words[o+r]+s;s=l>>26,this.words[o+r]=67108863&l}if(0===s)return this.strip();n(s===-1),s=0;for(var o=0;o<this.length;o++){var l=-this.words[o]+s;s=l>>26,this.words[o]=67108863&l}return this.sign=!0,this.strip()},o.prototype._wordDiv=function(t,e){var n=this.length-t.length,r=this.clone(),i=t,a=i.words[i.length-1],s=this._countBits(a);n=26-s,0!==n&&(i=i.shln(n),r.ishln(n),a=i.words[i.length-1]);var l,u=r.length-i.length;if("mod"!==e){l=new o(null),l.length=u+1,l.words=new Array(l.length);for(var c=0;c<l.length;c++)l.words[c]=0}var f=r.clone()._ishlnsubmul(i,1,u);f.sign||(r=f,l&&(l.words[u]=1));for(var p=u-1;p>=0;p--){var h=67108864*r.words[i.length+p]+r.words[i.length+p-1];for(h=Math.min(h/a|0,67108863),r._ishlnsubmul(i,h,p);r.sign;)h--,r.sign=!1,r._ishlnsubmul(i,1,p),0!==r.cmpn(0)&&(r.sign=!r.sign);l&&(l.words[p]=h)}return l&&l.strip(),r.strip(),"div"!==e&&0!==n&&r.ishrn(n),{div:l?l:null,mod:r}},o.prototype.divmod=function(t,e){if(n(0!==t.cmpn(0)),this.sign&&!t.sign){var r,i,a=this.neg().divmod(t,e);return"mod"!==e&&(r=a.div.neg()),"div"!==e&&(i=0===a.mod.cmpn(0)?a.mod:t.sub(a.mod)),{div:r,mod:i}}if(!this.sign&&t.sign){var r,a=this.divmod(t.neg(),e);return"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}}return this.sign&&t.sign?this.neg().divmod(t.neg(),e):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e)},o.prototype.div=function(t){return this.divmod(t,"div").div},o.prototype.mod=function(t){return this.divmod(t,"mod").mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(0===e.mod.cmpn(0))return e.div;var n=e.div.sign?e.mod.isub(t):e.mod,r=t.shrn(1),o=t.andln(1),i=n.cmp(r);return i<0||1===o&&0===i?e.div:e.div.sign?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,o=this.length-1;o>=0;o--)r=(e*r+this.words[o])%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var o=this.words[r]+67108864*e;this.words[r]=o/t|0,e=o%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(!t.sign),n(0!==t.cmpn(0));var e=this,r=t.clone();e=e.sign?e.mod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),l=new o(1),u=0;e.isEven()&&r.isEven();)e.ishrn(1),r.ishrn(1),++u;for(var c=r.clone(),f=e.clone();0!==e.cmpn(0);){for(;e.isEven();)e.ishrn(1),i.isEven()&&a.isEven()?(i.ishrn(1),a.ishrn(1)):(i.iadd(c).ishrn(1),a.isub(f).ishrn(1));for(;r.isEven();)r.ishrn(1),s.isEven()&&l.isEven()?(s.ishrn(1),l.ishrn(1)):(s.iadd(c).ishrn(1),l.isub(f).ishrn(1));e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(l)):(r.isub(e),s.isub(i),l.isub(a))}return{a:s,b:l,gcd:r.ishln(u)}},o.prototype._invmp=function(t){n(!t.sign),n(0!==t.cmpn(0));var e=this,r=t.clone();e=e.sign?e.mod(t):e.clone();for(var i=new o(1),a=new o(0),s=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(;e.isEven();)e.ishrn(1),i.isEven()?i.ishrn(1):i.iadd(s).ishrn(1);for(;r.isEven();)r.ishrn(1),a.isEven()?a.ishrn(1):a.iadd(s).ishrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a)):(r.isub(e),a.isub(i))}return 0===e.cmpn(1)?i:a},o.prototype.gcd=function(t){if(0===this.cmpn(0))return t.clone();if(0===t.cmpn(0))return this.clone();var e=this.clone(),n=t.clone();e.sign=!1,n.sign=!1;for(var r=0;e.isEven()&&n.isEven();r++)e.ishrn(1),n.ishrn(1);for(;;){for(;e.isEven();)e.ishrn(1);for(;n.isEven();)n.ishrn(1);var o=e.cmp(n);if(o<0){var i=e;e=n,n=i}else if(0===o||0===n.cmpn(1))break;e.isub(n)}return n.ishln(r)},o.prototype.invm=function(t){return this.egcd(t).a.mod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,o=1<<e;if(this.length<=r){for(var i=this.length;i<r+1;i++)this.words[i]=0;return this.words[r]|=o,this.length=r+1,this}for(var a=o,i=r;0!==a&&i<this.length;i++){var s=this.words[i];s+=a,a=s>>>26,s&=67108863,this.words[i]=s}return 0!==a&&(this.words[i]=a,this.length++),this},o.prototype.cmpn=function(t){var e=t<0;if(e&&(t=-t),this.sign&&!e)return-1;if(!this.sign&&e)return 1;t&=67108863,this.strip();var n;if(this.length>1)n=1;else{var r=this.words[0];n=r===t?0:r<t?-1:1}return this.sign&&(n=-n),n},o.prototype.cmp=function(t){if(this.sign&&!t.sign)return-1;if(!this.sign&&t.sign)return 1;var e=this.ucmp(t);return this.sign?-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=this.words[n],o=t.words[n];if(r!==o){r<o?e=-1:r>o&&(e=1);break}}return e},o.red=function(t){return new p(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(!this.sign,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};s.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},s.prototype.ireduce=function(t){var e,n=t;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),e=n.bitLength();while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},s.prototype.split=function(t,e){t.ishrn(this.n,0,e)},s.prototype.imulK=function(t){return t.imul(this.k)},r(l,s),l.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),o=0;o<r;o++)e.words[o]=t.words[o];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];e.words[e.length++]=i&n;for(var o=10;o<t.length;o++){var a=t.words[o];t.words[o-10]=(a&n)<<4|i>>>22,i=a}t.words[o-10]=i>>>22,t.length-=9},l.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e,n=0,r=0;r<t.length;r++){var o=t.words[r];e=64*o,n+=977*o,e+=n/67108864|0,n&=67108863,t.words[r]=n,n=e}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},r(u,s),r(c,s),r(f,s),f.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*t.words[n]+e,o=67108863&r;r>>>=26,t.words[n]=o,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function g(t){if(v[t])return v[t];var g;if("k256"===t)g=new l;else if("p224"===t)g=new u;else if("p192"===t)g=new c;else{if("p25519"!==t)throw new Error("Unknown prime "+t);g=new f}return v[t]=g,g},p.prototype._verify1=function(t){n(!t.sign,"red works only with positives"),n(t.red,"red works only with red numbers")},p.prototype._verify2=function(t,e){n(!t.sign&&!e.sign,"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},p.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.mod(this.m)._forceRed(this)},p.prototype.neg=function(t){var e=t.clone();return e.sign=!e.sign,e.iadd(this.m)._forceRed(this)},p.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},p.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},p.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},p.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},p.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.shln(e))},p.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},p.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},p.prototype.isqr=function(t){return this.imul(t,t)},p.prototype.sqr=function(t){return this.mul(t,t)},p.prototype.sqrt=function(t){if(0===t.cmpn(0))return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).ishrn(2),i=this.pow(t,r);return i}for(var a=this.m.subn(1),s=0;0!==a.cmpn(0)&&0===a.andln(1);)s++,a.ishrn(1);n(0!==a.cmpn(0));var l=new o(1).toRed(this),u=l.redNeg(),c=this.m.subn(1).ishrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var p=this.pow(f,a),i=this.pow(t,a.addn(1).ishrn(1)),h=this.pow(t,a),d=s;0!==h.cmp(l);){for(var m=h,y=0;0!==m.cmp(l);y++)m=m.redSqr();n(y<d);var v=this.pow(p,new o(1).ishln(d-y-1));i=i.redMul(v),p=v.redSqr(),h=h.redMul(p),d=y}return i},p.prototype.invm=function(t){var e=t._invmp(this.m);return e.sign?(e.sign=!1,this.imod(e).redNeg()):this.imod(e)},p.prototype.pow=function(t,e){var n=[];if(0===e.cmpn(0))return new o(1);for(var r=e.clone();0!==r.cmpn(0);)n.push(r.andln(1)),r.ishrn(1);for(var i=t,a=0;a<n.length&&0===n[a];a++,i=this.sqr(i));if(++a<n.length)for(var r=this.sqr(i);a<n.length;a++,r=this.sqr(r))0!==n[a]&&(i=this.mul(i,r));return i},p.prototype.convertTo=function(t){var e=t.mod(this.m);return e===t?e.clone():e},p.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new h(t)},r(h,p),h.prototype.convertTo=function(t){return this.imod(t.shln(this.shift))},h.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},h.prototype.imul=function(t,e){if(0===t.cmpn(0)||0===e.cmpn(0))return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(r).ishrn(this.shift),i=o;return o.cmp(this.m)>=0?i=o.isub(this.m):o.cmpn(0)<0&&(i=o.iadd(this.m)),i._forceRed(this)},h.prototype.mul=function(t,e){if(0===t.cmpn(0)||0===e.cmpn(0))return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).ishrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},h.prototype.invm=function(t){var e=this.imod(t._invmp(this.m).mul(this.r2));return e._forceRed(this)}}("undefined"==typeof e||e,this)},{}],92:[function(t,e,n){"use strict";function r(t){return o(t[0])*o(t[1])}var o=t("./lib/bn-sign");e.exports=r},{"./lib/bn-sign":83}],93:[function(t,e,n){"use strict";function r(t,e){return o(t[0].mul(e[1]).sub(t[1].mul(e[0])),t[1].mul(e[1]))}var o=t("./lib/rationalize");e.exports=r},{"./lib/rationalize":88}],94:[function(t,e,n){"use strict";function r(t){var e=t[0],n=t[1];if(0===e.cmpn(0))return 0;var r=e.divmod(n),a=r.div,s=o(a),l=r.mod;if(0===l.cmpn(0))return s;if(s){var u=i(s)+4,c=o(l.shln(u).divRound(n));return s<0&&(c=-c),s+c*Math.pow(2,-u)}var f=n.bitLength()-l.bitLength()+53,c=o(l.shln(f).divRound(n));return f<1023?c*Math.pow(2,-f):(c*=Math.pow(2,-1023),c*Math.pow(2,1023-f))}var o=t("./lib/bn-to-num"),i=t("./lib/ctz");e.exports=r},{"./lib/bn-to-num":84,"./lib/ctz":85}],95:[function(t,e,n){"use strict";function r(t,e){for(var n=0;n<t;++n)if(!(e[n]<=e[n+t]))return!0;return!1}function o(t,e,n,o){for(var i=0,a=0,s=0,l=t.length;s<l;++s){var u=t[s];if(!r(e,u)){for(var c=0;c<2*e;++c)n[i++]=u[c];o[a++]=s}}return a}function i(t,e,n,r){var i=t.length,a=e.length;if(!(i<=0||a<=0)){var s=t[0].length>>>1;if(!(s<=0)){var l,u=f.mallocDouble(2*s*i),c=f.mallocInt32(i);if(i=o(t,s,u,c),i>0){if(1===s&&r)p.init(i),l=p.sweepComplete(s,n,0,i,u,c,0,i,u,c);else{var d=f.mallocDouble(2*s*a),m=f.mallocInt32(a);a=o(e,s,d,m),a>0&&(p.init(i+a),l=1===s?p.sweepBipartite(s,n,0,i,u,c,0,a,d,m):h(s,n,r,i,u,c,a,d,m),f.free(d),f.free(m))}f.free(u),f.free(c)}return l}}}function a(t,e){c.push([t,e])}function s(t){return c=[],i(t,t,a,!0),c}function l(t,e){return c=[],i(t,e,a,!1),c}function u(t,e,n){switch(arguments.length){case 1:return s(t);case 2:return"function"==typeof e?i(t,t,e,!0):l(t,e);case 3:return i(t,e,n,!1);default:throw new Error("box-intersect: Invalid arguments")}}e.exports=u;var c,f=t("typedarray-pool"),p=t("./lib/sweep"),h=t("./lib/intersect")},{"./lib/intersect":97,"./lib/sweep":101,"typedarray-pool":510}],96:[function(t,e,n){"use strict";function r(t,e,n){var r="bruteForce"+(t?"Red":"Blue")+(e?"Flip":"")+(n?"Full":""),o=["function ",r,"(",w.join(),"){","var ",u,"=2*",i,";"],l="for(var i="+c+","+d+"="+u+"*"+c+";i<"+f+";++i,"+d+"+="+u+"){var x0="+p+"["+a+"+"+d+"],x1="+p+"["+a+"+"+d+"+"+i+"],xi="+h+"[i];",T="for(var j="+m+","+b+"="+u+"*"+m+";j<"+y+";++j,"+b+"+="+u+"){var y0="+v+"["+a+"+"+b+"],"+(n?"y1="+v+"["+a+"+"+b+"+"+i+"],":"")+"yi="+g+"[j];";return t?o.push(l,x,":",T):o.push(T,x,":",l),n?o.push("if(y1<x0||x1<y0)continue;"):e?o.push("if(y0<=x0||x1<y0)continue;"):o.push("if(y0<x0||x1<y0)continue;"),o.push("for(var k="+a+"+1;k<"+i+";++k){var r0="+p+"[k+"+d+"],r1="+p+"[k+"+i+"+"+d+"],b0="+v+"[k+"+b+"],b1="+v+"[k+"+i+"+"+b+"];if(r1<b0||b1<r0)continue "+x+";}var "+_+"="+s+"("),e?o.push("yi,xi"):o.push("xi,yi"),o.push(");if("+_+"!==void 0)return "+_+";}}}"),{name:r,code:o.join("")}}function o(t){function e(e,n){var i=r(e,n,t);o.push(i.code),a.push("return "+i.name+"("+w.join()+");")}var n="bruteForce"+(t?"Full":"Partial"),o=[],i=w.slice();t||i.splice(3,0,l);var a=["function "+n+"("+i.join()+"){"];a.push("if("+f+"-"+c+">"+y+"-"+m+"){"),t?(e(!0,!1),a.push("}else{"),e(!1,!1)):(a.push("if("+l+"){"),e(!0,!0),a.push("}else{"),e(!0,!1),a.push("}}else{if("+l+"){"),e(!1,!0),a.push("}else{"),e(!1,!1),a.push("}")),a.push("}}return "+n);var s=o.join("")+a.join(""),u=new Function(s);return u()}var i="d",a="ax",s="vv",l="fp",u="es",c="rs",f="re",p="rb",h="ri",d="rp",m="bs",y="be",v="bb",g="bi",b="bp",_="rv",x="Q",w=[i,a,s,c,f,p,h,m,y,v,g];n.partial=o(!1),n.full=o(!0)},{}],97:[function(t,e,n){"use strict";function r(t,e){var n=8*u.log2(e+1)*(t+1)|0,r=u.nextPow2(C*n);P.length<r&&(l.free(P),P=l.mallocInt32(r));var o=u.nextPow2(k*n);M<o&&(l.free(M),M=l.mallocDouble(o))}function o(t,e,n,r,o,i,a,s,l){var u=C*t;P[u]=e,P[u+1]=n,P[u+2]=r,P[u+3]=o,P[u+4]=i,P[u+5]=a;var c=k*t;M[c]=s,M[c+1]=l}function i(t,e,n,r,o,i,a,s,l,u,c){var f=2*t,p=l*f,h=u[p+e];t:for(var d=o,m=o*f;d<i;++d,m+=f){var y=a[m+e],v=a[m+e+t];if(!(h<y||v<h||r&&h===y)){for(var g=s[d],b=e+1;b<t;++b){var y=a[m+b],v=a[m+b+t],_=u[p+b],x=u[p+b+t];if(v<_||x<y)continue t}var w;if(w=r?n(c,g):n(g,c),void 0!==w)return w}}}function a(t,e,n,r,o,i,a,s,l,u){var c=2*t,f=s*c,p=l[f+e];t:for(var h=r,d=r*c;h<o;++h,d+=c){var m=a[h];if(m!==u){var y=i[d+e],v=i[d+e+t];if(!(p<y||v<p)){for(var g=e+1;g<t;++g){var y=i[d+g],v=i[d+g+t],b=l[f+g],_=l[f+g+t];if(v<b||_<y)continue t}var x=n(m,u);if(void 0!==x)return x}}}}function s(t,e,n,s,l,u,c,m,S){r(t,s+c);var A,O=0,D=2*t;for(o(O++,0,0,s,0,c,n?16:0,-(1/0),1/0),n||o(O++,0,0,c,0,s,1,-(1/0),1/0);O>0;){O-=1;var L=O*C,I=P[L],j=P[L+1],F=P[L+2],R=P[L+3],N=P[L+4],z=P[L+5],B=O*k,U=M[B],W=M[B+1],q=1&z,V=!!(16&z),H=l,G=u,Y=m,Z=S;if(q&&(H=m,G=S,Y=l,Z=u),!(2&z&&(F=x(t,I,j,F,H,G,W),j>=F)||4&z&&(j=w(t,I,j,F,H,G,U),j>=F))){var X=F-j,K=N-R;if(V){if(t*X*(X+K)<g){if(A=h.scanComplete(t,I,e,j,F,H,G,R,N,Y,Z),void 0!==A)return A;continue}}else{if(t*Math.min(X,K)<y){if(A=f(t,I,e,q,j,F,H,G,R,N,Y,Z),void 0!==A)return A;continue}if(t*X*K<v){if(A=h.scanBipartite(t,I,e,q,j,F,H,G,R,N,Y,Z),void 0!==A)return A;continue}}var Q=b(t,I,j,F,H,G,U,W);if(j<Q)if(t*(Q-j)<y){if(A=p(t,I+1,e,j,Q,H,G,R,N,Y,Z),void 0!==A)return A}else if(I===t-2){if(A=q?h.sweepBipartite(t,e,R,N,Y,Z,j,Q,H,G):h.sweepBipartite(t,e,j,Q,H,G,R,N,Y,Z),void 0!==A)return A}else o(O++,I+1,j,Q,R,N,q,-(1/0),1/0),o(O++,I+1,R,N,j,Q,1^q,-(1/0),1/0);if(Q<F){var J=d(t,I,R,N,Y,Z),$=Y[D*J+I],tt=_(t,I,J,N,Y,Z,$);if(tt<N&&o(O++,I,Q,F,tt,N,(4|q)+(V?16:0),$,W),R<J&&o(O++,I,Q,F,R,J,(2|q)+(V?16:0),U,$),J+1===tt){if(A=V?a(t,I,e,Q,F,H,G,J,Y,Z[J]):i(t,I,e,q,Q,F,H,G,J,Y,Z[J]),void 0!==A)return A}else if(J<tt){var et;if(V){if(et=T(t,I,Q,F,H,G,$),Q<et){var nt=_(t,I,Q,et,H,G,$);if(I===t-2){if(Q<nt&&(A=h.sweepComplete(t,e,Q,nt,H,G,J,tt,Y,Z),void 0!==A))return A;if(nt<et&&(A=h.sweepBipartite(t,e,nt,et,H,G,J,tt,Y,Z),void 0!==A))return A}else Q<nt&&o(O++,I+1,Q,nt,J,tt,16,-(1/0),1/0),nt<et&&(o(O++,I+1,nt,et,J,tt,0,-(1/0),1/0),o(O++,I+1,J,tt,nt,et,1,-(1/0),1/0))}}else et=q?E(t,I,Q,F,H,G,$):T(t,I,Q,F,H,G,$),Q<et&&(I===t-2?A=q?h.sweepBipartite(t,e,J,tt,Y,Z,Q,et,H,G):h.sweepBipartite(t,e,Q,et,H,G,J,tt,Y,Z):(o(O++,I+1,Q,et,J,tt,q,-(1/0),1/0),o(O++,I+1,J,tt,Q,et,1^q,-(1/0),1/0)))}}}}}e.exports=s;var l=t("typedarray-pool"),u=t("bit-twiddle"),c=t("./brute"),f=c.partial,p=c.full,h=t("./sweep"),d=t("./median"),m=t("./partition"),y=128,v=1<<22,g=1<<22,b=m("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),_=m("lo===p0",["p0"]),x=m("lo<p0",["p0"]),w=m("hi<=p0",["p0"]),T=m("lo<=p0&&p0<=hi",["p0"]),E=m("lo<p0&&p0<=hi",["p0"]),C=6,k=2,S=1024,P=l.mallocInt32(S),M=l.mallocDouble(S)},{"./brute":96,"./median":98,"./partition":99,"./sweep":101,"bit-twiddle":52,"typedarray-pool":510}],98:[function(t,e,n){"use strict";function r(t,e,n,r,o,i){for(var a=2*t,s=a*(n+1)+e,l=n+1;l<r;++l,s+=a)for(var u=o[s],c=l,f=a*(l-1);c>n&&o[f+e]>u;--c,f-=a){for(var p=f,h=f+a,d=0;d<a;++d,++p,++h){var m=o[p];o[p]=o[h],o[h]=m}var y=i[c];i[c]=i[c-1],i[c-1]=y}}function o(t,e,n,o,i,l){if(o<=n+1)return n;for(var u=n,c=o,f=o+n>>>1,p=2*t,h=f,d=i[p*f+e];u<c;){if(c-u<s){r(t,e,u,c,i,l),d=i[p*f+e];break}var m=c-u,y=Math.random()*m+u|0,v=i[p*y+e],g=Math.random()*m+u|0,b=i[p*g+e],_=Math.random()*m+u|0,x=i[p*_+e];v<=b?x>=b?(h=g,d=b):v>=x?(h=y,d=v):(h=_,d=x):b>=x?(h=g,d=b):x>=v?(h=y,d=v):(h=_,d=x);for(var w=p*(c-1),T=p*h,E=0;E<p;++E,++w,++T){var C=i[w];i[w]=i[T],i[T]=C}var k=l[c-1];l[c-1]=l[h],l[h]=k,h=a(t,e,u,c-1,i,l,d);for(var w=p*(c-1),T=p*h,E=0;E<p;++E,++w,++T){var C=i[w];i[w]=i[T],i[T]=C}var k=l[c-1];if(l[c-1]=l[h],l[h]=k,f<h){for(c=h-1;u<c&&i[p*(c-1)+e]===d;)c-=1;c+=1}else{if(!(h<f))break;for(u=h+1;u<c&&i[p*u+e]===d;)u+=1}}return a(t,e,n,f,i,l,i[p*f+e])}e.exports=o;var i=t("./partition"),a=i("lo<p0",["p0"]),s=8},{"./partition":99}],99:[function(t,e,n){"use strict";function r(t,e){var n="abcdef".split("").concat(e),r=[];return t.indexOf("lo")>=0&&r.push("lo=e[k+n]"),t.indexOf("hi")>=0&&r.push("hi=e[k+o]"),n.push(o.replace("_",r.join()).replace("$",t)),Function.apply(void 0,n)}e.exports=r;var o="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m"},{}],100:[function(t,e,n){"use strict";function r(t,e){e<=4*p?o(0,e-1,t):f(0,e-1,t)}function o(t,e,n){for(var r=2*(t+1),o=t+1;o<=e;++o){for(var i=n[r++],a=n[r++],s=o,l=r-2;s-- >t;){var u=n[l-2],c=n[l-1];if(u<i)break;if(u===i&&c<a)break;n[l]=u,n[l+1]=c,l-=2}n[l]=i,n[l+1]=a}}function i(t,e,n){t*=2,e*=2;var r=n[t],o=n[t+1];n[t]=n[e],n[t+1]=n[e+1],n[e]=r,n[e+1]=o}function a(t,e,n){t*=2,e*=2,n[t]=n[e],n[t+1]=n[e+1]}function s(t,e,n,r){t*=2,e*=2,n*=2;var o=r[t],i=r[t+1];r[t]=r[e],r[t+1]=r[e+1],r[e]=r[n],r[e+1]=r[n+1],r[n]=o,r[n+1]=i}function l(t,e,n,r,o){t*=2,e*=2,o[t]=o[e],o[e]=n,
o[t+1]=o[e+1],o[e+1]=r}function u(t,e,n){t*=2,e*=2;var r=n[t],o=n[e];return!(r<o)&&(r!==o||n[t+1]>n[e+1])}function c(t,e,n,r){t*=2;var o=r[t];return o<e||o===e&&r[t+1]<n}function f(t,e,n){var r=(e-t+1)/6|0,h=t+r,d=e-r,m=t+e>>1,y=m-r,v=m+r,g=h,b=y,_=m,x=v,w=d,T=t+1,E=e-1,C=0;u(g,b,n)&&(C=g,g=b,b=C),u(x,w,n)&&(C=x,x=w,w=C),u(g,_,n)&&(C=g,g=_,_=C),u(b,_,n)&&(C=b,b=_,_=C),u(g,x,n)&&(C=g,g=x,x=C),u(_,x,n)&&(C=_,_=x,x=C),u(b,w,n)&&(C=b,b=w,w=C),u(b,_,n)&&(C=b,b=_,_=C),u(x,w,n)&&(C=x,x=w,w=C);for(var k=n[2*b],S=n[2*b+1],P=n[2*x],M=n[2*x+1],A=2*g,O=2*_,D=2*w,L=2*h,I=2*m,j=2*d,F=0;F<2;++F){var R=n[A+F],N=n[O+F],z=n[D+F];n[L+F]=R,n[I+F]=N,n[j+F]=z}a(y,t,n),a(v,e,n);for(var B=T;B<=E;++B)if(c(B,k,S,n))B!==T&&i(B,T,n),++T;else if(!c(B,P,M,n))for(;;){if(c(E,P,M,n)){c(E,k,S,n)?(s(B,T,E,n),++T,--E):(i(B,E,n),--E);break}if(--E<B)break}l(t,T-1,k,S,n),l(e,E+1,P,M,n),T-2-t<=p?o(t,T-2,n):f(t,T-2,n),e-(E+2)<=p?o(E+2,e,n):f(E+2,e,n),E-T<=p?o(T,E,n):f(T,E,n)}e.exports=r;var p=32},{}],101:[function(t,e,n){"use strict";function r(t){var e=f.nextPow2(t);m.length<e&&(c.free(m),m=c.mallocInt32(e)),y.length<e&&(c.free(y),y=c.mallocInt32(e)),v.length<e&&(c.free(v),v=c.mallocInt32(e)),g.length<e&&(c.free(g),g=c.mallocInt32(e)),b.length<e&&(c.free(b),b=c.mallocInt32(e)),_.length<e&&(c.free(_),_=c.mallocInt32(e));var n=8*e;x.length<n&&(c.free(x),x=c.mallocDouble(n))}function o(t,e,n,r){var o=e[r],i=t[n-1];t[o]=i,e[i]=o}function i(t,e,n,r){t[n]=r,e[r]=n}function a(t,e,n,r,a,s,l,u,c,f){for(var d=0,b=2*t,_=t-1,w=b-1,T=n;T<r;++T){var E=s[T],C=b*T;x[d++]=a[C+_],x[d++]=-(E+1),x[d++]=a[C+w],x[d++]=E}for(var T=l;T<u;++T){var E=f[T]+h,k=b*T;x[d++]=c[k+_],x[d++]=-E,x[d++]=c[k+w],x[d++]=E}var S=d>>>1;p(x,S);for(var P=0,M=0,T=0;T<S;++T){var A=0|x[2*T+1];if(A>=h)A=A-h|0,o(v,g,M--,A);else if(A>=0)o(m,y,P--,A);else if(A<=-h){A=-A-h|0;for(var O=0;O<P;++O){var D=e(m[O],A);if(void 0!==D)return D}i(v,g,M++,A)}else{A=-A-1|0;for(var O=0;O<M;++O){var D=e(A,v[O]);if(void 0!==D)return D}i(m,y,P++,A)}}}function s(t,e,n,r,a,s,l,u,c,f){for(var h=0,d=2*t,w=t-1,T=d-1,E=n;E<r;++E){var C=s[E]+1<<1,k=d*E;x[h++]=a[k+w],x[h++]=-C,x[h++]=a[k+T],x[h++]=C}for(var E=l;E<u;++E){var C=f[E]+1<<1,S=d*E;x[h++]=c[S+w],x[h++]=1|-C,x[h++]=c[S+T],x[h++]=1|C}var P=h>>>1;p(x,P);for(var M=0,A=0,O=0,E=0;E<P;++E){var D=0|x[2*E+1],L=1&D;if(E<P-1&&D>>1===x[2*E+3]>>1&&(L=2,E+=1),D<0){for(var I=-(D>>1)-1,j=0;j<O;++j){var F=e(b[j],I);if(void 0!==F)return F}if(0!==L)for(var j=0;j<M;++j){var F=e(m[j],I);if(void 0!==F)return F}if(1!==L)for(var j=0;j<A;++j){var F=e(v[j],I);if(void 0!==F)return F}0===L?i(m,y,M++,I):1===L?i(v,g,A++,I):2===L&&i(b,_,O++,I)}else{var I=(D>>1)-1;0===L?o(m,y,M--,I):1===L?o(v,g,A--,I):2===L&&o(b,_,O--,I)}}}function l(t,e,n,r,a,s,l,u,c,f,d,v){var g=0,b=2*t,_=e,w=e+t,T=1,E=1;r?E=h:T=h;for(var C=a;C<s;++C){var k=C+T,S=b*C;x[g++]=l[S+_],x[g++]=-k,x[g++]=l[S+w],x[g++]=k}for(var C=c;C<f;++C){var k=C+E,P=b*C;x[g++]=d[P+_],x[g++]=-k}var M=g>>>1;p(x,M);for(var A=0,C=0;C<M;++C){var O=0|x[2*C+1];if(O<0){var k=-O,D=!1;if(k>=h?(D=!r,k-=h):(D=!!r,k-=1),D)i(m,y,A++,k);else{var L=v[k],I=b*k,j=d[I+e+1],F=d[I+e+1+t];t:for(var R=0;R<A;++R){var N=m[R],z=b*N;if(!(F<l[z+e+1]||l[z+e+1+t]<j)){for(var B=e+2;B<t;++B)if(d[I+B+t]<l[z+B]||l[z+B+t]<d[I+B])continue t;var U,W=u[N];if(U=r?n(L,W):n(W,L),void 0!==U)return U}}}}else o(m,y,A--,O-T)}}function u(t,e,n,r,o,i,a,s,l,u,c){for(var f=0,d=2*t,y=e,v=e+t,g=r;g<o;++g){var b=g+h,_=d*g;x[f++]=i[_+y],x[f++]=-b,x[f++]=i[_+v],x[f++]=b}for(var g=s;g<l;++g){var b=g+1,w=d*g;x[f++]=u[w+y],x[f++]=-b}var T=f>>>1;p(x,T);for(var E=0,g=0;g<T;++g){var C=0|x[2*g+1];if(C<0){var b=-C;if(b>=h)m[E++]=b-h;else{b-=1;var k=c[b],S=d*b,P=u[S+e+1],M=u[S+e+1+t];t:for(var A=0;A<E;++A){var O=m[A],D=a[O];if(D===k)break;var L=d*O;if(!(M<i[L+e+1]||i[L+e+1+t]<P)){for(var I=e+2;I<t;++I)if(u[S+I+t]<i[L+I]||i[L+I+t]<u[S+I])continue t;var j=n(D,k);if(void 0!==j)return j}}}}else{for(var b=C-h,A=E-1;A>=0;--A)if(m[A]===b){for(var I=A+1;I<E;++I)m[I-1]=m[I];break}--E}}}e.exports={init:r,sweepBipartite:a,sweepComplete:s,scanBipartite:l,scanComplete:u};var c=t("typedarray-pool"),f=t("bit-twiddle"),p=t("./sort"),h=1<<28,d=1024,m=c.mallocInt32(d),y=c.mallocInt32(d),v=c.mallocInt32(d),g=c.mallocInt32(d),b=c.mallocInt32(d),_=c.mallocInt32(d),x=c.mallocDouble(8*d)},{"./sort":100,"bit-twiddle":52,"typedarray-pool":510}],102:[function(t,e,n){(function(t){function n(t,e){return h[0]=t,h[1]=e,p[0]}function r(t){return p[0]=t,h[0]}function o(t){return p[0]=t,h[1]}function i(t,e){return h[1]=t,h[0]=e,p[0]}function a(t){return p[0]=t,h[1]}function s(t){return p[0]=t,h[0]}function l(t,e){return d.writeUInt32LE(t,0,!0),d.writeUInt32LE(e,4,!0),d.readDoubleLE(0,!0)}function u(t){return d.writeDoubleLE(t,0,!0),d.readUInt32LE(0,!0)}function c(t){return d.writeDoubleLE(t,0,!0),d.readUInt32LE(4,!0)}var f=!1;if("undefined"!=typeof Float64Array){var p=new Float64Array(1),h=new Uint32Array(p.buffer);p[0]=1,f=!0,1072693248===h[1]?(e.exports=function(t){return p[0]=t,[h[0],h[1]]},e.exports.pack=n,e.exports.lo=r,e.exports.hi=o):1072693248===h[0]?(e.exports=function(t){return p[0]=t,[h[1],h[0]]},e.exports.pack=i,e.exports.lo=a,e.exports.hi=s):f=!1}if(!f){var d=new t(8);e.exports=function(t){return d.writeDoubleLE(t,0,!0),[d.readUInt32LE(0,!0),d.readUInt32LE(4,!0)]},e.exports.pack=l,e.exports.lo=u,e.exports.hi=c}e.exports.sign=function(t){return e.exports.hi(t)>>>31},e.exports.exponent=function(t){var n=e.exports.hi(t);return(n<<1>>>21)-1023},e.exports.fraction=function(t){var n=e.exports.lo(t),r=e.exports.hi(t),o=1048575&r;return 2146435072&r&&(o+=1<<20),[n,o]},e.exports.denormalized=function(t){var n=e.exports.hi(t);return!(2146435072&n)}}).call(this,t("buffer").Buffer)},{buffer:53}],103:[function(t,e,n){"use strict";function r(t,e){if(isNaN(t)||isNaN(e))return NaN;if(t===e)return t;if(0===t)return e<0?-i:i;var n=o.hi(t),r=o.lo(t);return e>t==t>0?r===a?(n+=1,r=0):r+=1:0===r?(r=a,n-=1):r-=1,o.pack(r,n)}var o=t("double-bits"),i=Math.pow(2,-1074),a=-1>>>0;e.exports=r},{"double-bits":102}],104:[function(t,e,n){"use strict";function r(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=o(t[i],e[i]);return r}var o=t("big-rat/add");e.exports=r},{"big-rat/add":78}],105:[function(t,e,n){"use strict";function r(t){for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=o(t[n]);return e}e.exports=r;var o=t("big-rat")},{"big-rat":81}],106:[function(t,e,n){"use strict";function r(t,e){for(var n=o(e),r=t.length,a=new Array(r),s=0;s<r;++s)a[s]=i(t[s],n);return a}var o=t("big-rat"),i=t("big-rat/mul");e.exports=r},{"big-rat":81,"big-rat/mul":90}],107:[function(t,e,n){"use strict";function r(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=o(t[i],e[i]);return r}var o=t("big-rat/sub");e.exports=r},{"big-rat/sub":93}],108:[function(t,e,n){"use strict";function r(t,e,n,r){for(var o=0;o<2;++o){var i=t[o],a=e[o],s=Math.min(i,a),l=Math.max(i,a),u=n[o],c=r[o],f=Math.min(u,c),p=Math.max(u,c);if(p<s||l<f)return!1}return!0}function o(t,e,n,o){var a=i(t,n,o),s=i(e,n,o);if(a>0&&s>0||a<0&&s<0)return!1;var l=i(n,t,e),u=i(o,t,e);return!(l>0&&u>0||l<0&&u<0)&&(0!==a||0!==s||0!==l||0!==u||r(t,e,n,o))}e.exports=o;var i=t("robust-orientation")[3]},{"robust-orientation":491}],109:[function(t,e,n){"use strict";"use restrict";function r(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}e.exports=r;var o=r.prototype;Object.defineProperty(o,"length",{get:function(){return this.roots.length}}),o.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},o.find=function(t){for(var e=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[e]!==t;){var r=n[e];n[e]=t,e=r}return t},o.link=function(t,e){var n=this.find(t),r=this.find(e);if(n!==r){var o=this.ranks,i=this.roots,a=o[n],s=o[r];a<s?i[n]=r:s<a?i[r]=n:(i[r]=n,++o[n])}}},{}],110:[function(t,e,n){(function(t){var n=function(){"use strict";function e(n,r,o,i){function s(n,o){if(null===n)return null;if(0==o)return n;var l,p;if("object"!=typeof n)return n;if(e.__isArray(n))l=[];else if(e.__isRegExp(n))l=new RegExp(n.source,a(n)),n.lastIndex&&(l.lastIndex=n.lastIndex);else if(e.__isDate(n))l=new Date(n.getTime());else{if(f&&t.isBuffer(n))return l=new t(n.length),n.copy(l),l;"undefined"==typeof i?(p=Object.getPrototypeOf(n),l=Object.create(p)):(l=Object.create(i),p=i)}if(r){var h=u.indexOf(n);if(h!=-1)return c[h];u.push(n),c.push(l)}for(var d in n){var m;p&&(m=Object.getOwnPropertyDescriptor(p,d)),m&&null==m.set||(l[d]=s(n[d],o-1))}return l}var l;"object"==typeof r&&(o=r.depth,i=r.prototype,l=r.filter,r=r.circular);var u=[],c=[],f="undefined"!=typeof t;return"undefined"==typeof r&&(r=!0),"undefined"==typeof o&&(o=1/0),s(n,o)}function n(t){return Object.prototype.toString.call(t)}function r(t){return"object"==typeof t&&"[object Date]"===n(t)}function o(t){return"object"==typeof t&&"[object Array]"===n(t)}function i(t){return"object"==typeof t&&"[object RegExp]"===n(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return e.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},e.__objToStr=n,e.__isDate=r,e.__isArray=o,e.__isRegExp=i,e.__getRegExpFlags=a,e}();"object"==typeof e&&e.exports&&(e.exports=n)}).call(this,t("buffer").Buffer)},{buffer:53}],111:[function(t,e,n){e.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],cool:[{index:0,rgb:[0,255,255]},{index:1,rgb:[255,0,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:0,rgb:[255,255,255,1]}]}},{}],112:[function(t,e,n){"use strict";function r(t){for(var e,n="#",r=0;r<3;++r)e=t[r],e=e.toString(16),n+=("00"+e).substr(e.length);return n}function o(t){return"rgba("+t.join(",")+")"}var i=t("arraytools"),a=t("clone"),s=t("./colorScales");e.exports=function(t){var e,n,l,u,c,f,p,h,d,m,y,v,g,b=[],_=[],x=[],w=[];if(i.isPlainObject(t)||(t={}),d=t.nshades||72,h=t.format||"hex",p=t.colormap,p||(p="jet"),"string"==typeof p){if(p=p.toLowerCase(),!s[p])throw Error(p+" not a supported colorscale");f=a(s[p])}else{if(!Array.isArray(p))throw Error("unsupported colormap option",p);f=a(p)}if(f.length>d)throw new Error(p+" map requires nshades to be at least size "+f.length);for(y=Array.isArray(t.alpha)?2!==t.alpha.length?[1,1]:a(t.alpha):"number"==typeof t.alpha?[t.alpha,t.alpha]:[1,1],e=f.map(function(t){return Math.round(t.index*d)}),y[0]<0&&(y[0]=0),y[1]<0&&(y[0]=0),y[0]>1&&(y[0]=1),y[1]>1&&(y[0]=1),g=0;g<e.length;++g)v=f[g].index,n=f[g].rgb,4===n.length&&n[3]>=0&&n[3]<=1||(n[3]=y[0]+(y[1]-y[0])*v);for(g=0;g<e.length-1;++g)c=e[g+1]-e[g],l=f[g].rgb,u=f[g+1].rgb,b=b.concat(i.linspace(l[0],u[0],c)),_=_.concat(i.linspace(l[1],u[1],c)),x=x.concat(i.linspace(l[2],u[2],c)),w=w.concat(i.linspace(l[3],u[3],c));return b=b.map(Math.round),_=_.map(Math.round),x=x.map(Math.round),m=i.zip(b,_,x,w),"hex"===h&&(m=m.map(r)),"rgbaString"===h&&(m=m.map(o)),m}},{"./colorScales":111,arraytools:51,clone:110}],113:[function(t,e,n){function r(t,e){return t-e}function o(t,e){var n=t.length,o=t.length-e.length;if(o)return o;switch(n){case 0:return 0;case 1:return t[0]-e[0];case 2:return t[0]+t[1]-e[0]-e[1]||i(t[0],t[1])-i(e[0],e[1]);case 3:var a=t[0]+t[1],s=e[0]+e[1];if(o=a+t[2]-(s+e[2]))return o;var l=i(t[0],t[1]),u=i(e[0],e[1]);return i(l,t[2])-i(u,e[2])||i(l+t[2],a)-i(u+e[2],s);case 4:var c=t[0],f=t[1],p=t[2],h=t[3],d=e[0],m=e[1],y=e[2],v=e[3];return c+f+p+h-(d+m+y+v)||i(c,f,p,h)-i(d,m,y,v,d)||i(c+f,c+p,c+h,f+p,f+h,p+h)-i(d+m,d+y,d+v,m+y,m+v,y+v)||i(c+f+p,c+f+h,c+p+h,f+p+h)-i(d+m+y,d+m+v,d+y+v,m+y+v);default:for(var g=t.slice().sort(r),b=e.slice().sort(r),_=0;_<n;++_)if(o=g[_]-b[_])return o;return 0}}e.exports=o;var i=Math.min},{}],114:[function(t,e,n){"use strict";function r(t){var e=t.length;if(0===e)return[];if(1===e)return[[0]];var n=t[0].length;return 0===n?[]:1===n?o(t):2===n?i(t):a(t,n)}var o=t("./lib/ch1d"),i=t("./lib/ch2d"),a=t("./lib/chnd");e.exports=r},{"./lib/ch1d":115,"./lib/ch2d":116,"./lib/chnd":117}],115:[function(t,e,n){"use strict";function r(t){for(var e=0,n=0,r=1;r<t.length;++r)t[r][0]<t[e][0]&&(e=r),t[r][0]>t[n][0]&&(n=r);return e<n?[[e],[n]]:e>n?[[n],[e]]:[[e]]}e.exports=r},{}],116:[function(t,e,n){"use strict";function r(t){var e=o(t),n=e.length;if(n<=2)return[];for(var r=new Array(n),i=e[n-1],a=0;a<n;++a){var s=e[a];r[a]=[i,s],i=s}return r}e.exports=r;var o=t("monotone-convex-hull-2d")},{"monotone-convex-hull-2d":119}],117:[function(t,e,n){"use strict";function r(t,e){for(var n=t.length,r=new Array(n),o=0;o<e.length;++o)r[o]=t[e[o]];for(var i=e.length,o=0;o<n;++o)e.indexOf(o)<0&&(r[i++]=t[o]);return r}function o(t,e){for(var n=t.length,r=e.length,o=0;o<n;++o)for(var i=t[o],a=0;a<i.length;++a){var s=i[a];if(s<r)i[a]=e[s];else{s-=r;for(var l=0;l<r;++l)s>=e[l]&&(s+=1);i[a]=s}}return t}function i(t,e){try{return a(t,!0)}catch(n){var i=s(t);if(i.length<=e)return[];var l=r(t,i),u=a(l,!0);return o(u,i)}}e.exports=i;var a=t("incremental-convex-hull"),s=t("affine-hull")},{"affine-hull":118,"incremental-convex-hull":275}],118:[function(t,e,n){"use strict";function r(t,e){for(var n=new Array(e+1),r=0;r<t.length;++r)n[r]=t[r];for(var r=0;r<=t.length;++r){for(var o=t.length;o<=e;++o){for(var a=new Array(e),s=0;s<e;++s)a[s]=Math.pow(o+1-r,s);n[o]=a}var l=i.apply(void 0,n);if(l)return!0}return!1}function o(t){var e=t.length;if(0===e)return[];if(1===e)return[0];for(var n=t[0].length,o=[t[0]],i=[0],a=1;a<e;++a)if(o.push(t[a]),r(o,n)){if(i.push(a),i.length===n+1)return i}else o.pop();return i}e.exports=o;var i=t("robust-orientation")},{"robust-orientation":491}],119:[function(t,e,n){"use strict";function r(t){var e=t.length;if(e<3){for(var n=new Array(e),r=0;r<e;++r)n[r]=r;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}for(var i=new Array(e),r=0;r<e;++r)i[r]=r;i.sort(function(e,n){var r=t[e][0]-t[n][0];return r?r:t[e][1]-t[n][1]});for(var a=[i[0],i[1]],s=[i[0],i[1]],r=2;r<e;++r){for(var l=i[r],u=t[l],c=a.length;c>1&&o(t[a[c-2]],t[a[c-1]],u)<=0;)c-=1,a.pop();for(a.push(l),c=s.length;c>1&&o(t[s[c-2]],t[s[c-1]],u)>=0;)c-=1,s.pop();s.push(l)}for(var n=new Array(s.length+a.length-2),f=0,r=0,p=a.length;r<p;++r)n[f++]=a[r];for(var h=s.length-2;h>0;--h)n[f++]=s[h];return n}e.exports=r;var o=t("robust-orientation")[3]},{"robust-orientation":491}],120:[function(t,e,n){e.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CPV:"verde",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bdr|\\bdr.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",COG:"^(?!.*\\bdem)(?!.*\\bdr)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CZE:"^(?=.*rep).*czech|czechia|bohemia",CSK:"czechoslovakia",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"ireland",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat).*\\bkorea|^(?=.*people).*\\bkorea|^(?=.*north).*\\bkorea|dprk",KOR:"^(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MKD:"macedonia|fyrom",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"micronesia",MDA:"moldov|b(a|e)ssarabia",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"\\bs\\w*.?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa",TJK:"tajik",TZA:"tanzania",THA:"thailand|\\bsiam",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",USA:"united.?states|\\bu\\.?s\\.?a\\.?\\b|\\bu\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},{}],121:[function(t,e,n){"use strict";function r(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function o(t){var e=new r;e.pre=t.pre,e.body=t.body,e.post=t.post;var n=t.args.slice(0);e.argTypes=n;for(var o=0;o<n.length;++o){var a=n[o];if("array"===a||"object"==typeof a&&a.blockIndices){if(e.argTypes[o]="array",e.arrayArgs.push(o),e.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),e.shimArgs.push("array"+o),o<e.pre.args.length&&e.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array args");if(o<e.post.args.length&&e.post.args[o].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)e.scalarArgs.push(o),e.shimArgs.push("scalar"+o);else if("index"===a){if(e.indexArgs.push(o),o<e.pre.args.length&&e.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array index");if(o<e.body.args.length&&e.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array index");if(o<e.post.args.length&&e.post.args[o].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(e.shapeArgs.push(o),o<e.pre.args.length&&e.pre.args[o].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(o<e.body.args.length&&e.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array shape");if(o<e.post.args.length&&e.post.args[o].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+n[o]);e.argTypes[o]="offset",e.offsetArgs.push({array:a.array,offset:a.offset}),e.offsetArgIndex.push(o)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,i(e)}var i=t("./lib/thunk.js");e.exports=o},{"./lib/thunk.js":123}],122:[function(t,e,n){"use strict";function r(t,e,n){var r,o,i=t.length,a=e.arrayArgs.length,s=e.indexArgs.length>0,l=[],u=[],c=0,f=0;for(r=0;r<i;++r)u.push(["i",r,"=0"].join(""));for(o=0;o<a;++o)for(r=0;r<i;++r)f=c,c=t[r],0===r?u.push(["d",o,"s",r,"=t",o,"p",c].join("")):u.push(["d",o,"s",r,"=(t",o,"p",c,"-s",f,"*t",o,"p",f,")"].join(""));for(l.push("var "+u.join(",")),r=i-1;r>=0;--r)c=t[r],l.push(["for(i",r,"=0;i",r,"<s",c,";++i",r,"){"].join(""));for(l.push(n),r=0;r<i;++r){for(f=c,c=t[r],o=0;o<a;++o)l.push(["p",o,"+=d",o,"s",r].join(""));s&&(r>0&&l.push(["index[",f,"]-=s",f].join("")),l.push(["++index[",c,"]"].join(""))),l.push("}")}return l.join("\n")}function o(t,e,n,o){for(var i=e.length,a=n.arrayArgs.length,s=n.blockSize,l=n.indexArgs.length>0,u=[],c=0;c<a;++c)u.push(["var offset",c,"=p",c].join(""));for(var c=t;c<i;++c)u.push(["for(var j"+c+"=SS[",e[c],"]|0;j",c,">0;){"].join("")),u.push(["if(j",c,"<",s,"){"].join("")),u.push(["s",e[c],"=j",c].join("")),u.push(["j",c,"=0"].join("")),u.push(["}else{s",e[c],"=",s].join("")),u.push(["j",c,"-=",s,"}"].join("")),l&&u.push(["index[",e[c],"]=j",c].join(""));for(var c=0;c<a;++c){for(var f=["offset"+c],p=t;p<i;++p)f.push(["j",p,"*t",c,"p",e[p]].join(""));u.push(["p",c,"=(",f.join("+"),")"].join(""))}u.push(r(e,n,o));for(var c=t;c<i;++c)u.push("}");return u.join("\n")}function i(t){for(var e=0,n=t[0].length;e<n;){for(var r=1;r<t.length;++r)if(t[r][e]!==t[0][e])return e;++e}return e}function a(t,e,n){for(var r=t.body,o=[],i=[],a=0;a<t.args.length;++a){var s=t.args[a];if(!(s.count<=0)){var l=new RegExp(s.name,"g"),u="",c=e.arrayArgs.indexOf(a);switch(e.argTypes[a]){case"offset":var f=e.offsetArgIndex.indexOf(a),p=e.offsetArgs[f];c=p.array,u="+q"+f;case"array":u="p"+c+u;var h="l"+a,d="a"+c;if(0===e.arrayBlockIndices[c])1===s.count?"generic"===n[c]?s.lvalue?(o.push(["var ",h,"=",d,".get(",u,")"].join("")),r=r.replace(l,h),i.push([d,".set(",u,",",h,")"].join(""))):r=r.replace(l,[d,".get(",u,")"].join("")):r=r.replace(l,[d,"[",u,"]"].join("")):"generic"===n[c]?(o.push(["var ",h,"=",d,".get(",u,")"].join("")),r=r.replace(l,h),s.lvalue&&i.push([d,".set(",u,",",h,")"].join(""))):(o.push(["var ",h,"=",d,"[",u,"]"].join("")),r=r.replace(l,h),s.lvalue&&i.push([d,"[",u,"]=",h].join("")));else{for(var m=[s.name],y=[u],v=0;v<Math.abs(e.arrayBlockIndices[c]);v++)m.push("\\s*\\[([^\\]]+)\\]"),y.push("$"+(v+1)+"*t"+c+"b"+v);if(l=new RegExp(m.join(""),"g"),u=y.join("+"),"generic"===n[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(l,[d,"[",u,"]"].join(""))}break;case"scalar":r=r.replace(l,"Y"+e.scalarArgs.indexOf(a));break;case"index":r=r.replace(l,"index");break;case"shape":r=r.replace(l,"shape")}}}return[o.join("\n"),r,i.join("\n")].join("\n").trim()}function s(t){for(var e=new Array(t.length),n=!0,r=0;r<t.length;++r){var o=t[r],i=o.match(/\d+/);i=i?i[0]:"",0===o.charAt(0)?e[r]="u"+o.charAt(1)+i:e[r]=o.charAt(0)+i,r>0&&(n=n&&e[r]===e[r-1])}return n?e[0]:e.join("")}function l(t,e){for(var n=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,l=new Array(t.arrayArgs.length),c=new Array(t.arrayArgs.length),f=0;f<t.arrayArgs.length;++f)c[f]=e[2*f],l[f]=e[2*f+1];for(var p=[],h=[],d=[],m=[],y=[],f=0;f<t.arrayArgs.length;++f){t.arrayBlockIndices[f]<0?(d.push(0),m.push(n),p.push(n),h.push(n+t.arrayBlockIndices[f])):(d.push(t.arrayBlockIndices[f]),m.push(t.arrayBlockIndices[f]+n),p.push(0),h.push(t.arrayBlockIndices[f]));for(var v=[],g=0;g<l[f].length;g++)d[f]<=l[f][g]&&l[f][g]<m[f]&&v.push(l[f][g]-d[f]);y.push(v)}for(var b=["SS"],_=["'use strict'"],x=[],g=0;g<n;++g)x.push(["s",g,"=SS[",g,"]"].join(""));for(var f=0;f<t.arrayArgs.length;++f){b.push("a"+f),b.push("t"+f),b.push("p"+f);for(var g=0;g<n;++g)x.push(["t",f,"p",g,"=t",f,"[",d[f]+g,"]"].join(""));for(var g=0;g<Math.abs(t.arrayBlockIndices[f]);++g)x.push(["t",f,"b",g,"=t",f,"[",p[f]+g,"]"].join(""))}for(var f=0;f<t.scalarArgs.length;++f)b.push("Y"+f);if(t.shapeArgs.length>0&&x.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var w=new Array(n),f=0;f<n;++f)w[f]="0";x.push(["index=[",w.join(","),"]"].join(""))}for(var f=0;f<t.offsetArgs.length;++f){for(var T=t.offsetArgs[f],E=[],g=0;g<T.offset.length;++g)0!==T.offset[g]&&(1===T.offset[g]?E.push(["t",T.array,"p",g].join("")):E.push([T.offset[g],"*t",T.array,"p",g].join("")));0===E.length?x.push("q"+f+"=0"):x.push(["q",f,"=",E.join("+")].join(""))}var C=u([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));x=x.concat(C),_.push("var "+x.join(","));for(var f=0;f<t.arrayArgs.length;++f)_.push("p"+f+"|=0");t.pre.body.length>3&&_.push(a(t.pre,t,c));var k=a(t.body,t,c),S=i(y);S<n?_.push(o(S,y[0],t,k)):_.push(r(y[0],t,k)),t.post.body.length>3&&_.push(a(t.post,t,c)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+_.join("\n")+"\n----------");var P=[t.funcName||"unnamed","_cwise_loop_",l[0].join("s"),"m",S,s(c)].join(""),M=new Function(["function ",P,"(",b.join(","),"){",_.join("\n"),"} return ",P].join(""));return M()}var u=t("uniq");e.exports=l},{uniq:511}],123:[function(t,e,n){"use strict";function r(t){var e=["'use strict'","var CACHED={}"],n=[],r=t.funcName+"_cwise_thunk";e.push(["return function ",r,"(",t.shimArgs.join(","),"){"].join(""));for(var i=[],a=[],s=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],l=[],u=[],c=0;c<t.arrayArgs.length;++c){var f=t.arrayArgs[c];n.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),i.push("t"+f),i.push("r"+f),a.push("t"+f),a.push("r"+f+".join()"),s.push("array"+f+".data"),s.push("array"+f+".stride"),s.push("array"+f+".offset|0"),c>0&&(l.push("array"+t.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[c]))),u.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[c])+"]"))}t.arrayArgs.length>1&&(e.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),
e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}"));for(var c=0;c<t.scalarArgs.length;++c)s.push("scalar"+t.scalarArgs[c]);n.push(["type=[",a.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),e.push("var "+n.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------");var p=new Function("compile",e.join("\n"));return p(o.bind(void 0,t))}var o=t("./compile.js");e.exports=r},{"./compile.js":122}],124:[function(t,e,n){e.exports=t("cwise-compiler")},{"cwise-compiler":121}],125:[function(e,n,r){!function(){function e(t){return t&&(t.ownerDocument||t.document||t).documentElement}function r(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function o(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function i(t){return null===t?NaN:+t}function a(t){return!isNaN(t)}function s(t){return{left:function(e,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=e.length);r<o;){var i=r+o>>>1;t(e[i],n)<0?r=i+1:o=i}return r},right:function(e,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=e.length);r<o;){var i=r+o>>>1;t(e[i],n)>0?o=i:r=i+1}return r}}}function l(t){return t.length}function u(t){for(var e=1;t*e%1;)e*=10;return e}function c(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function f(){this._=Object.create(null)}function p(t){return(t+="")===Ta||t[0]===Ea?Ea+t:t}function h(t){return(t+="")[0]===Ea?t.slice(1):t}function d(t){return p(t)in this._}function m(t){return(t=p(t))in this._&&delete this._[t]}function y(){var t=[];for(var e in this._)t.push(h(e));return t}function v(){var t=0;for(var e in this._)++t;return t}function g(){for(var t in this._)return!1;return!0}function b(){this._=Object.create(null)}function _(t){return t}function x(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function w(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=Ca.length;n<r;++n){var o=Ca[n]+e;if(o in t)return o}}function T(){}function E(){}function C(t){function e(){for(var e,r=n,o=-1,i=r.length;++o<i;)(e=r[o].on)&&e.apply(this,arguments);return t}var n=[],r=new f;return e.on=function(e,o){var i,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,i=n.indexOf(a)).concat(n.slice(i+1)),r.remove(e)),o&&n.push(r.set(e,{on:o})),t)},e}function k(){ca.event.preventDefault()}function S(){for(var t,e=ca.event;t=e.sourceEvent;)e=t;return e}function P(t){for(var e=new E,n=0,r=arguments.length;++n<r;)e[arguments[n]]=C(e);return e.of=function(n,r){return function(o){try{var i=o.sourceEvent=ca.event;o.target=t,ca.event=o,e[o.type].apply(n,r)}finally{ca.event=i}}},e}function M(t){return Sa(t,Oa),t}function A(t){return"function"==typeof t?t:function(){return Pa(t,this)}}function O(t){return"function"==typeof t?t:function(){return Ma(t,this)}}function D(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function o(){this.setAttribute(t,e)}function i(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=ca.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?i:o}function L(t){return t.trim().replace(/\s+/g," ")}function I(t){return new RegExp("(?:^|\\s+)"+ca.requote(t)+"(?:\\s+|$)","g")}function j(t){return(t+"").trim().split(/^|\s+/)}function F(t,e){function n(){for(var n=-1;++n<o;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<o;)t[n](this,r)}t=j(t).map(R);var o=t.length;return"function"==typeof e?r:n}function R(t){var e=I(t);return function(n,r){if(o=n.classList)return r?o.add(t):o.remove(t);var o=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(o)||n.setAttribute("class",L(o+" "+t))):n.setAttribute("class",L(o.replace(e," ")))}}function N(t,e,n){function r(){this.style.removeProperty(t)}function o(){this.style.setProperty(t,e,n)}function i(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?i:o}function z(t,e){function n(){delete this[t]}function r(){this[t]=e}function o(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?o:r}function B(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n===Da&&e.documentElement.namespaceURI===Da?e.createElement(t):e.createElementNS(n,t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=ca.ns.qualify(t)).local?n:e}function U(){var t=this.parentNode;t&&t.removeChild(this)}function W(t){return{__data__:t}}function q(t){return function(){return Aa(this,t)}}function V(t){return arguments.length||(t=o),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function H(t,e){for(var n=0,r=t.length;n<r;n++)for(var o,i=t[n],a=0,s=i.length;a<s;a++)(o=i[a])&&e(o,a,n);return t}function G(t){return Sa(t,Ia),t}function Y(t){var e,n;return function(r,o,i){var a,s=t[i].update,l=s.length;for(i!=n&&(n=i,e=0),o>=e&&(e=o+1);!(a=s[e])&&++e<l;);return a}}function Z(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function o(){var o=l(e,pa(arguments));r.call(this),this.addEventListener(t,this[a]=o,o.$=n),o._=e}function i(){var e,n=new RegExp("^__on([^.]+)"+ca.requote(t)+"$");for(var r in this)if(e=r.match(n)){var o=this[r];this.removeEventListener(e[1],o,o.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),l=X;s>0&&(t=t.slice(0,s));var u=ja.get(t);return u&&(t=u,l=K),s?e?o:r:e?T:i}function X(t,e){return function(n){var r=ca.event;ca.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{ca.event=r}}}function K(t,e){var n=X(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function Q(t){var n=".dragsuppress-"+ ++Ra,o="click"+n,i=ca.select(r(t)).on("touchmove"+n,k).on("dragstart"+n,k).on("selectstart"+n,k);if(null==Fa&&(Fa=!("onselectstart"in t)&&w(t.style,"userSelect")),Fa){var a=e(t).style,s=a[Fa];a[Fa]="none"}return function(t){if(i.on(n,null),Fa&&(a[Fa]=s),t){var e=function(){i.on(o,null)};i.on(o,function(){k(),e()},!0),setTimeout(e,0)}}}function J(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();if(Na<0){var i=r(t);if(i.scrollX||i.scrollY){n=ca.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=n[0][0].getScreenCTM();Na=!(a.f||a.e),n.remove()}}return Na?(o.x=e.pageX,o.y=e.pageY):(o.x=e.clientX,o.y=e.clientY),o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function $(){return ca.event.changedTouches[0].identifier}function tt(t){return t>0?1:t<0?-1:0}function et(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function nt(t){return t>1?0:t<-1?Ua:Math.acos(t)}function rt(t){return t>1?Va:t<-1?-Va:Math.asin(t)}function ot(t){return((t=Math.exp(t))-1/t)/2}function it(t){return((t=Math.exp(t))+1/t)/2}function at(t){return((t=Math.exp(2*t))-1)/(t+1)}function st(t){return(t=Math.sin(t/2))*t}function lt(){}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.s,t.l):Tt(""+t,Et,ut):new ut(t,e,n)}function ct(t,e,n){function r(t){return t>360?t-=360:t<0&&(t+=360),t<60?i+(a-i)*t/60:t<180?a:t<240?i+(a-i)*(240-t)/60:i}function o(t){return Math.round(255*r(t))}var i,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,a=n<=.5?n*(1+e):n+e-n*e,i=2*n-a,new bt(o(t+120),o(t),o(t-120))}function ft(t,e,n){return this instanceof ft?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ft?new ft(t.h,t.c,t.l):t instanceof ht?mt(t.l,t.a,t.b):mt((t=Ct((t=ca.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ft(t,e,n)}function pt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ht(n,Math.cos(t*=Ha)*e,Math.sin(t)*e)}function ht(t,e,n){return this instanceof ht?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ht?new ht(t.l,t.a,t.b):t instanceof ft?pt(t.h,t.c,t.l):Ct((t=bt(t)).r,t.g,t.b):new ht(t,e,n)}function dt(t,e,n){var r=(t+16)/116,o=r+e/500,i=r-n/200;return o=yt(o)*ns,r=yt(r)*rs,i=yt(i)*os,new bt(gt(3.2404542*o-1.5371385*r-.4985314*i),gt(-.969266*o+1.8760108*r+.041556*i),gt(.0556434*o-.2040259*r+1.0572252*i))}function mt(t,e,n){return t>0?new ft(Math.atan2(n,e)*Ga,Math.sqrt(e*e+n*n),t):new ft(NaN,NaN,t)}function yt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function vt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function gt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function bt(t,e,n){return this instanceof bt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof bt?new bt(t.r,t.g,t.b):Tt(""+t,bt,ct):new bt(t,e,n)}function _t(t){return new bt(t>>16,t>>8&255,255&t)}function xt(t){return _t(t)+""}function wt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function Tt(t,e,n){var r,o,i,a=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(o=r[2].split(","),r[1]){case"hsl":return n(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return e(St(o[0]),St(o[1]),St(o[2]))}return(i=ss.get(t))?e(i.r,i.g,i.b):(null==t||"#"!==t.charAt(0)||isNaN(i=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&i)>>4,a=a>>4|a,s=240&i,s=s>>4|s,l=15&i,l=l<<4|l):7===t.length&&(a=(16711680&i)>>16,s=(65280&i)>>8,l=255&i)),e(a,s,l))}function Et(t,e,n){var r,o,i=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-i,l=(a+i)/2;return s?(o=l<.5?s/(a+i):s/(2-a-i),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,o=l>0&&l<1?0:r),new ut(r,o,l)}function Ct(t,e,n){t=kt(t),e=kt(e),n=kt(n);var r=vt((.4124564*t+.3575761*e+.1804375*n)/ns),o=vt((.2126729*t+.7151522*e+.072175*n)/rs),i=vt((.0193339*t+.119192*e+.9503041*n)/os);return ht(116*o-16,500*(r-o),200*(o-i))}function kt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function St(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Pt(t){return"function"==typeof t?t:function(){return t}}function Mt(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),At(e,n,t,r)}}function At(t,e,n,r){function o(){var t,e=l.status;if(!e&&Dt(l)||e>=200&&e<300||304===e){try{t=n.call(i,l)}catch(r){return void a.error.call(i,r)}a.load.call(i,t)}else a.error.call(i,l)}var i={},a=ca.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=o:l.onreadystatechange=function(){l.readyState>3&&o()},l.onprogress=function(t){var e=ca.event;ca.event=t;try{a.progress.call(i,l)}finally{ca.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(u=t,i):u},i.response=function(t){return n=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(pa(arguments)))}}),i.send=function(n,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=o&&i.on("error",o).on("load",function(t){o(null,t)}),a.beforesend.call(i,l),l.send(null==r?null:r),i},i.abort=function(){return l.abort(),i},ca.rebind(i,a,"on"),null==r?i:i.get(Ot(r))}function Ot(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Dt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Lt(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var o=n+e,i={c:t,t:o,n:null};return us?us.n=i:ls=i,us=i,cs||(fs=clearTimeout(fs),cs=1,ps(It)),i}function It(){var t=jt(),e=Ft()-t;e>24?(isFinite(e)&&(clearTimeout(fs),fs=setTimeout(It,e)),cs=0):(cs=1,ps(It))}function jt(){for(var t=Date.now(),e=ls;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Ft(){for(var t,e=ls,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:ls=e.n;return us=t,n}function Rt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Nt(t,e){var n=Math.pow(10,3*wa(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function zt(t){var e=t.decimal,n=t.thousands,r=t.grouping,o=t.currency,i=r&&n?function(t,e){for(var o=t.length,i=[],a=0,s=r[0],l=0;o>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),i.push(t.substring(o-=s,o+s)),!((l+=s+1)>e));)s=r[a=(a+1)%r.length];return i.reverse().join(n)}:_;return function(t){var n=ds.exec(t),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],f=n[7],p=n[8],h=n[9],d=1,m="",y="",v=!1,g=!0;switch(p&&(p=+p.substring(1)),(u||"0"===r&&"="===a)&&(u=r="0",a="="),h){case"n":f=!0,h="g";break;case"%":d=100,y="%",h="f";break;case"p":d=100,y="%",h="r";break;case"b":case"o":case"x":case"X":"#"===l&&(m="0"+h.toLowerCase());case"c":g=!1;case"d":v=!0,p=0;break;case"s":d=-1,h="r"}"$"===l&&(m=o[0],y=o[1]),"r"!=h||p||(h="g"),null!=p&&("g"==h?p=Math.max(1,Math.min(21,p)):"e"!=h&&"f"!=h||(p=Math.max(0,Math.min(20,p)))),h=ms.get(h)||Bt;var b=u&&f;return function(t){var n=y;if(v&&t%1)return"";var o=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(d<0){var l=ca.formatPrefix(t,p);t=l.scale(t),n=l.symbol+y}else t*=d;t=h(t,p);var _,x,w=t.lastIndexOf(".");if(w<0){var T=g?t.lastIndexOf("e"):-1;T<0?(_=t,x=""):(_=t.substring(0,T),x=t.substring(T))}else _=t.substring(0,w),x=e+t.substring(w+1);!u&&f&&(_=i(_,1/0));var E=m.length+_.length+x.length+(b?0:o.length),C=E<c?new Array(E=c-E+1).join(r):"";return b&&(_=i(C+_,C.length?c-x.length:1/0)),o+=m,t=_+x,("<"===a?o+t+C:">"===a?C+o+t:"^"===a?C.substring(0,E>>=1)+o+t+C.substring(E):o+(b?t:C+t))+n}}}function Bt(t){return t+""}function Ut(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Wt(t,e,n){function r(e){var n=t(e),r=i(n,1);return e-n<r-e?n:r}function o(n){return e(n=t(new vs(n-1)),1),n}function i(t,n){return e(t=new vs((+t)),n),t}function a(t,r,i){var a=o(t),s=[];if(i>1)for(;a<r;)n(a)%i||s.push(new Date((+a))),e(a,1);else for(;a<r;)s.push(new Date((+a))),e(a,1);return s}function s(t,e,n){try{vs=Ut;var r=new Ut;return r._=t,a(r,e,n)}finally{vs=Date}}t.floor=t,t.round=r,t.ceil=o,t.offset=i,t.range=a;var l=t.utc=qt(t);return l.floor=l,l.round=qt(r),l.ceil=qt(o),l.offset=qt(i),l.range=s,t}function qt(t){return function(e,n){try{vs=Ut;var r=new Ut;return r._=e,t(r,n)._}finally{vs=Date}}}function Vt(t){function e(t){function e(e){for(var n,o,i,a=[],s=-1,l=0;++s<r;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(o=bs[n=t.charAt(++s)])&&(n=t.charAt(++s)),(i=P[n])&&(n=i(e,null==o?"e"===n?" ":"0":o)),a.push(n),l=s+1);return a.push(t.slice(l,s)),a.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},o=n(r,t,e,0);if(o!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&vs!==Ut,a=new(i?Ut:vs);return"j"in r?a.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?a._:a},e.toString=function(){return t},e}function n(t,e,n,r){for(var o,i,a,s=0,l=e.length,u=n.length;s<l;){if(r>=u)return-1;if(o=e.charCodeAt(s++),37===o){if(a=e.charAt(s++),i=M[a in bs?e.charAt(s++):a],!i||(r=i(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){w.lastIndex=0;var r=w.exec(e.slice(n));return r?(t.w=T.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.w=x.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){k.lastIndex=0;var r=k.exec(e.slice(n));return r?(t.m=S.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){E.lastIndex=0;var r=E.exec(e.slice(n));return r?(t.m=C.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,P.c.toString(),e,r)}function l(t,e,r){return n(t,P.x.toString(),e,r)}function u(t,e,r){return n(t,P.X.toString(),e,r)}function c(t,e,n){var r=b.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var f=t.dateTime,p=t.date,h=t.time,d=t.periods,m=t.days,y=t.shortDays,v=t.months,g=t.shortMonths;e.utc=function(t){function n(t){try{vs=Ut;var e=new vs;return e._=t,r(e)}finally{vs=Date}}var r=e(t);return n.parse=function(t){try{vs=Ut;var e=r.parse(t);return e&&e._}finally{vs=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=ce;var b=ca.map(),_=Gt(m),x=Yt(m),w=Gt(y),T=Yt(y),E=Gt(v),C=Yt(v),k=Gt(g),S=Yt(g);d.forEach(function(t,e){b.set(t.toLowerCase(),e)});var P={a:function(t){return y[t.getDay()]},A:function(t){return m[t.getDay()]},b:function(t){return g[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(f),d:function(t,e){return Ht(t.getDate(),e,2)},e:function(t,e){return Ht(t.getDate(),e,2)},H:function(t,e){return Ht(t.getHours(),e,2)},I:function(t,e){return Ht(t.getHours()%12||12,e,2)},j:function(t,e){return Ht(1+ys.dayOfYear(t),e,3)},L:function(t,e){return Ht(t.getMilliseconds(),e,3)},m:function(t,e){return Ht(t.getMonth()+1,e,2)},M:function(t,e){return Ht(t.getMinutes(),e,2)},p:function(t){return d[+(t.getHours()>=12)]},S:function(t,e){return Ht(t.getSeconds(),e,2)},U:function(t,e){return Ht(ys.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ht(ys.mondayOfYear(t),e,2)},x:e(p),X:e(h),y:function(t,e){return Ht(t.getFullYear()%100,e,2)},Y:function(t,e){return Ht(t.getFullYear()%1e4,e,4)},Z:le,"%":function(){return"%"}},M={a:r,A:o,b:i,B:a,c:s,d:ne,e:ne,H:oe,I:oe,j:re,L:se,m:ee,M:ie,p:c,S:ae,U:Xt,w:Zt,W:Kt,x:l,X:u,y:Jt,Y:Qt,Z:$t,"%":ue};return e}function Ht(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}function Gt(t){return new RegExp("^(?:"+t.map(ca.requote).join("|")+")","i")}function Yt(t){for(var e=new f,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Zt(t,e,n){_s.lastIndex=0;var r=_s.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Xt(t,e,n){_s.lastIndex=0;var r=_s.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Kt(t,e,n){_s.lastIndex=0;var r=_s.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Qt(t,e,n){_s.lastIndex=0;var r=_s.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Jt(t,e,n){_s.lastIndex=0;var r=_s.exec(e.slice(n,n+2));return r?(t.y=te(+r[0]),n+r[0].length):-1}function $t(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function te(t){return t+(t>68?1900:2e3)}function ee(t,e,n){_s.lastIndex=0;var r=_s.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ne(t,e,n){_s.lastIndex=0;var r=_s.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function re(t,e,n){_s.lastIndex=0;var r=_s.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function oe(t,e,n){_s.lastIndex=0;var r=_s.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ie(t,e,n){_s.lastIndex=0;var r=_s.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ae(t,e,n){_s.lastIndex=0;var r=_s.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function se(t,e,n){_s.lastIndex=0;var r=_s.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function le(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=wa(e)/60|0,o=wa(e)%60;return n+Ht(r,"0",2)+Ht(o,"0",2)}function ue(t,e,n){xs.lastIndex=0;var r=xs.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ce(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function fe(){}function pe(t,e,n){var r=n.s=t+e,o=r-t,i=r-o;n.t=t-i+(e-o)}function he(t,e){t&&Cs.hasOwnProperty(t.type)&&Cs[t.type](t,e)}function de(t,e,n){var r,o=-1,i=t.length-n;for(e.lineStart();++o<i;)r=t[o],e.point(r[0],r[1],r[2]);e.lineEnd()}function me(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)de(t[n],e,1);e.polygonEnd()}function ye(){function t(t,e){t*=Ha,e=e*Ha/2+Ua/4;var n=t-r,a=n>=0?1:-1,s=a*n,l=Math.cos(e),u=Math.sin(e),c=i*u,f=o*l+c*Math.cos(s),p=c*a*Math.sin(s);Ss.add(Math.atan2(p,f)),r=t,o=l,i=u}var e,n,r,o,i;Ps.point=function(a,s){Ps.point=t,r=(e=a)*Ha,o=Math.cos(s=(n=s)*Ha/2+Ua/4),i=Math.sin(s)},Ps.lineEnd=function(){t(e,n)}}function ve(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function ge(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function be(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function _e(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function xe(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function we(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Te(t){return[Math.atan2(t[1],t[0]),rt(t[2])]}function Ee(t,e){return wa(t[0]-e[0])<za&&wa(t[1]-e[1])<za}function Ce(t,e){t*=Ha;var n=Math.cos(e*=Ha);ke(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function ke(t,e,n){++Ms,Os+=(t-Os)/Ms,Ds+=(e-Ds)/Ms,Ls+=(n-Ls)/Ms}function Se(){function t(t,o){t*=Ha;var i=Math.cos(o*=Ha),a=i*Math.cos(t),s=i*Math.sin(t),l=Math.sin(o),u=Math.atan2(Math.sqrt((u=n*l-r*s)*u+(u=r*a-e*l)*u+(u=e*s-n*a)*u),e*a+n*s+r*l);As+=u,Is+=u*(e+(e=a)),js+=u*(n+(n=s)),Fs+=u*(r+(r=l)),ke(e,n,r)}var e,n,r;Bs.point=function(o,i){o*=Ha;var a=Math.cos(i*=Ha);e=a*Math.cos(o),n=a*Math.sin(o),r=Math.sin(i),Bs.point=t,ke(e,n,r)}}function Pe(){Bs.point=Ce}function Me(){function t(t,e){t*=Ha;var n=Math.cos(e*=Ha),a=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),u=o*l-i*s,c=i*a-r*l,f=r*s-o*a,p=Math.sqrt(u*u+c*c+f*f),h=r*a+o*s+i*l,d=p&&-nt(h)/p,m=Math.atan2(p,h);Rs+=d*u,Ns+=d*c,zs+=d*f,As+=m,Is+=m*(r+(r=a)),js+=m*(o+(o=s)),Fs+=m*(i+(i=l)),ke(r,o,i)}var e,n,r,o,i;Bs.point=function(a,s){e=a,n=s,Bs.point=t,a*=Ha;var l=Math.cos(s*=Ha);r=l*Math.cos(a),o=l*Math.sin(a),i=Math.sin(s),ke(r,o,i)},Bs.lineEnd=function(){t(e,n),Bs.lineEnd=Pe,Bs.point=Ce}}function Ae(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function Oe(){return!0}function De(t,e,n,r,o){var i=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Ee(n,r)){o.lineStart();for(var s=0;s<e;++s)o.point((n=t[s])[0],n[1]);return void o.lineEnd()}var l=new Ie(n,t,null,(!0)),u=new Ie(n,null,l,(!1));l.o=u,i.push(l),a.push(u),l=new Ie(r,t,null,(!1)),u=new Ie(r,null,l,(!0)),l.o=u,i.push(l),a.push(u)}}),a.sort(e),Le(i),Le(a),i.length){for(var s=0,l=n,u=a.length;s<u;++s)a[s].e=l=!l;for(var c,f,p=i[0];;){for(var h=p,d=!0;h.v;)if((h=h.n)===p)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(var s=0,u=c.length;s<u;++s)o.point((f=c[s])[0],f[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(d){c=h.p.z;for(var s=c.length-1;s>=0;--s)o.point((f=c[s])[0],f[1])}else r(h.x,h.p.x,-1,o);h=h.p}h=h.o,c=h.z,d=!d}while(!h.v);o.lineEnd()}}}function Le(t){if(e=t.length){for(var e,n,r=0,o=t[0];++r<e;)o.n=n=t[r],n.p=o,o=n;o.n=n=t[0],n.p=o}}function Ie(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function je(t,e,n,r){return function(o,i){function a(e,n){var r=o(e,n);t(e=r[0],n=r[1])&&i.point(e,n)}function s(t,e){var n=o(t,e);y.point(n[0],n[1])}function l(){g.point=s,y.lineStart()}function u(){g.point=a,y.lineEnd()}function c(t,e){m.push([t,e]);var n=o(t,e);_.point(n[0],n[1])}function f(){_.lineStart(),m=[]}function p(){c(m[0][0],m[0][1]),_.lineEnd();var t,e=_.clean(),n=b.buffer(),r=n.length;if(m.pop(),d.push(m),m=null,r)if(1&e){t=n[0];var o,r=t.length-1,a=-1;if(r>0){for(x||(i.polygonStart(),x=!0),i.lineStart();++a<r;)i.point((o=t[a])[0],o[1]);i.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Fe))}var h,d,m,y=e(i),v=o.invert(r[0],r[1]),g={point:a,lineStart:l,lineEnd:u,polygonStart:function(){g.point=c,g.lineStart=f,g.lineEnd=p,h=[],d=[]},polygonEnd:function(){g.point=a,g.lineStart=l,g.lineEnd=u,h=ca.merge(h);var t=We(v,d);h.length?(x||(i.polygonStart(),x=!0),De(h,Ne,t,n,i)):t&&(x||(i.polygonStart(),x=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),x&&(i.polygonEnd(),x=!1),h=d=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}},b=Re(),_=e(b),x=!1;return g}}function Fe(t){return t.length>1}function Re(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:T,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Ne(t,e){return((t=t.x)[0]<0?t[1]-Va-za:Va-t[1])-((e=e.x)[0]<0?e[1]-Va-za:Va-e[1])}function ze(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,a){var s=i>0?Ua:-Ua,l=wa(i-n);wa(l-Ua)<za?(t.point(n,r=(r+a)/2>0?Va:-Va),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(i,r),e=0):o!==s&&l>=Ua&&(wa(n-o)<za&&(n-=o*za),wa(i-s)<za&&(i-=s*za),r=Be(n,r,i,a),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=i,r=a),o=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function Be(t,e,n,r){var o,i,a=Math.sin(t-n);return wa(a)>za?Math.atan((Math.sin(e)*(i=Math.cos(r))*Math.sin(n)-Math.sin(r)*(o=Math.cos(e))*Math.sin(t))/(o*i*a)):(e+r)/2}function Ue(t,e,n,r){var o;if(null==t)o=n*Va,r.point(-Ua,o),r.point(0,o),r.point(Ua,o),r.point(Ua,0),r.point(Ua,-o),r.point(0,-o),r.point(-Ua,-o),r.point(-Ua,0),r.point(-Ua,o);else if(wa(t[0]-e[0])>za){var i=t[0]<e[0]?Ua:-Ua;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(e[0],e[1])}function We(t,e){var n=t[0],r=t[1],o=[Math.sin(n),-Math.cos(n),0],i=0,a=0;Ss.reset();for(var s=0,l=e.length;s<l;++s){var u=e[s],c=u.length;if(c)for(var f=u[0],p=f[0],h=f[1]/2+Ua/4,d=Math.sin(h),m=Math.cos(h),y=1;;){y===c&&(y=0),t=u[y];var v=t[0],g=t[1]/2+Ua/4,b=Math.sin(g),_=Math.cos(g),x=v-p,w=x>=0?1:-1,T=w*x,E=T>Ua,C=d*b;if(Ss.add(Math.atan2(C*w*Math.sin(T),m*_+C*Math.cos(T))),i+=E?x+w*Wa:x,E^p>=n^v>=n){var k=be(ve(f),ve(t));we(k);var S=be(o,k);we(S);var P=(E^x>=0?-1:1)*rt(S[2]);(r>P||r===P&&(k[0]||k[1]))&&(a+=E^x>=0?1:-1)}if(!y++)break;p=v,d=b,m=_,f=t}}return(i<-za||i<za&&Ss<0)^1&a}function qe(t){function e(t,e){return Math.cos(t)*Math.cos(e)>i}function n(t){var n,i,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(f,p){var h,d=[f,p],m=e(f,p),y=a?m?0:o(f,p):m?o(f+(f<0?Ua:-Ua),p):0;if(!n&&(u=l=m)&&t.lineStart(),m!==l&&(h=r(n,d),(Ee(n,h)||Ee(d,h))&&(d[0]+=za,d[1]+=za,m=e(d[0],d[1]))),m!==l)c=0,m?(t.lineStart(),h=r(d,n),t.point(h[0],h[1])):(h=r(n,d),t.point(h[0],h[1]),t.lineEnd()),n=h;else if(s&&n&&a^m){var v;y&i||!(v=r(d,n,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!m||n&&Ee(n,d)||t.point(d[0],d[1]),n=d,l=m,i=y},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function r(t,e,n){var r=ve(t),o=ve(e),a=[1,0,0],s=be(r,o),l=ge(s,s),u=s[0],c=l-u*u;if(!c)return!n&&t;var f=i*l/c,p=-i*u/c,h=be(a,s),d=xe(a,f),m=xe(s,p);_e(d,m);var y=h,v=ge(d,y),g=ge(y,y),b=v*v-g*(ge(d,d)-1);if(!(b<0)){var _=Math.sqrt(b),x=xe(y,(-v-_)/g);if(_e(x,d),x=Te(x),!n)return x;var w,T=t[0],E=e[0],C=t[1],k=e[1];E<T&&(w=T,T=E,E=w);var S=E-T,P=wa(S-Ua)<za,M=P||S<za;if(!P&&k<C&&(w=C,C=k,k=w),M?P?C+k>0^x[1]<(wa(x[0]-T)<za?C:k):C<=x[1]&&x[1]<=k:S>Ua^(T<=x[0]&&x[0]<=E)){var A=xe(y,(-v+_)/g);return _e(A,d),[x,Te(A)]}}}function o(e,n){var r=a?t:Ua-t,o=0;return e<-r?o|=1:e>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}var i=Math.cos(t),a=i>0,s=wa(i)>za,l=vn(t,6*Ha);return je(e,n,l,a?[0,-t]:[-Ua,t-Ua])}function Ve(t,e,n,r){return function(o){var i,a=o.a,s=o.b,l=a.x,u=a.y,c=s.x,f=s.y,p=0,h=1,d=c-l,m=f-u;if(i=t-l,d||!(i>0)){if(i/=d,d<0){if(i<p)return;i<h&&(h=i)}else if(d>0){if(i>h)return;i>p&&(p=i)}if(i=n-l,d||!(i<0)){if(i/=d,d<0){if(i>h)return;i>p&&(p=i)}else if(d>0){if(i<p)return;i<h&&(h=i)}if(i=e-u,m||!(i>0)){if(i/=m,m<0){if(i<p)return;i<h&&(h=i)}else if(m>0){if(i>h)return;i>p&&(p=i)}if(i=r-u,m||!(i<0)){if(i/=m,m<0){if(i>h)return;i>p&&(p=i)}else if(m>0){if(i<p)return;i<h&&(h=i)}return p>0&&(o.a={x:l+p*d,y:u+p*m}),h<1&&(o.b={x:l+h*d,y:u+h*m}),o}}}}}}function He(t,e,n,r){function o(r,o){return wa(r[0]-t)<za?o>0?0:3:wa(r[0]-n)<za?o>0?2:1:wa(r[1]-e)<za?o>0?1:0:o>0?3:2}function i(t,e){return a(t.x,e.x)}function a(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t){for(var e=0,n=y.length,r=t[1],o=0;o<n;++o)for(var i,a=1,s=y[o],l=s.length,u=s[0];a<l;++a)i=s[a],u[1]<=r?i[1]>r&&et(u,i,t)>0&&++e:i[1]<=r&&et(u,i,t)<0&&--e,u=i;return 0!==e}function u(i,s,l,u){var c=0,f=0;if(null==i||(c=o(i,l))!==(f=o(s,l))||a(i,s)<0^l>0){do u.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+l+4)%4)!==f)}else u.point(s[0],s[1])}function c(o,i){return t<=o&&o<=n&&e<=i&&i<=r}function f(t,e){c(t,e)&&s.point(t,e)}function p(){M.point=d,y&&y.push(v=[]),E=!0,T=!1,x=w=NaN}function h(){m&&(d(g,b),_&&T&&S.rejoin(),m.push(S.buffer())),M.point=f,T&&s.lineEnd()}function d(t,e){t=Math.max(-Ws,Math.min(Ws,t)),e=Math.max(-Ws,Math.min(Ws,e));var n=c(t,e);if(y&&v.push([t,e]),E)g=t,b=e,_=n,E=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&T)s.point(t,e);else{var r={a:{x:x,y:w},b:{x:t,y:e}};P(r)?(T||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),C=!1):n&&(s.lineStart(),s.point(t,e),C=!1)}x=t,w=e,T=n}var m,y,v,g,b,_,x,w,T,E,C,k=s,S=Re(),P=Ve(t,e,n,r),M={point:f,lineStart:p,lineEnd:h,polygonStart:function(){s=S,m=[],y=[],C=!0},polygonEnd:function(){s=k,m=ca.merge(m);var e=l([t,r]),n=C&&e,o=m.length;(n||o)&&(s.polygonStart(),n&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),o&&De(m,i,e,u,s),s.polygonEnd()),m=y=v=null}};return M}}function Ge(t){var e=0,n=Ua/3,r=un(t),o=r(e,n);return o.parallels=function(t){return arguments.length?r(e=t[0]*Ua/180,n=t[1]*Ua/180):[e/Ua*180,n/Ua*180]},o}function Ye(t,e){function n(t,e){var n=Math.sqrt(i-2*o*Math.sin(e))/o;return[n*Math.sin(t*=o),a-n*Math.cos(t)]}var r=Math.sin(t),o=(r+Math.sin(e))/2,i=1+r*(2*o-r),a=Math.sqrt(i)/o;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/o,rt((i-(t*t+n*n)*o*o)/(2*o))]},n}function Ze(){function t(t,e){Vs+=o*t-r*e,r=t,o=e}var e,n,r,o;Xs.point=function(i,a){Xs.point=t,e=r=i,n=o=a},Xs.lineEnd=function(){t(e,n)}}function Xe(t,e){t<Hs&&(Hs=t),t>Ys&&(Ys=t),e<Gs&&(Gs=e),e>Zs&&(Zs=e)}function Ke(){function t(t,e){a.push("M",t,",",e,i)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function o(){a.push("Z")}var i=Qe(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return i=Qe(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Qe(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Je(t,e){Os+=t,Ds+=e,++Ls}function $e(){function t(t,r){var o=t-e,i=r-n,a=Math.sqrt(o*o+i*i);Is+=a*(e+t)/2,js+=a*(n+r)/2,Fs+=a,Je(e=t,n=r)}var e,n;Qs.point=function(r,o){Qs.point=t,Je(e=r,n=o)}}function tn(){Qs.point=Je}function en(){function t(t,e){var n=t-r,i=e-o,a=Math.sqrt(n*n+i*i);Is+=a*(r+t)/2,js+=a*(o+e)/2,Fs+=a,a=o*t-r*e,Rs+=a*(r+t),Ns+=a*(o+e),zs+=3*a,Je(r=t,o=e)}
var e,n,r,o;Qs.point=function(i,a){Qs.point=t,Je(e=r=i,n=o=a)},Qs.lineEnd=function(){t(e,n)}}function nn(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Wa)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function o(){s.point=e}function i(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:o,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=o,s.point=e},pointRadius:function(t){return a=t,s},result:T};return s}function rn(t){function e(t){return(s?r:n)(t)}function n(e){return sn(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){b=NaN,E.point=i,e.lineStart()}function i(n,r){var i=ve([n,r]),a=t(n,r);o(b,_,g,x,w,T,b=a[0],_=a[1],g=n,x=i[0],w=i[1],T=i[2],s,e),e.point(b,_)}function a(){E.point=n,e.lineEnd()}function l(){r(),E.point=u,E.lineEnd=c}function u(t,e){i(f=t,p=e),h=b,d=_,m=x,y=w,v=T,E.point=i}function c(){o(b,_,g,x,w,T,h,d,f,m,y,v,s,e),E.lineEnd=a,a()}var f,p,h,d,m,y,v,g,b,_,x,w,T,E={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),E.lineStart=l},polygonEnd:function(){e.polygonEnd(),E.lineStart=r}};return E}function o(e,n,r,s,l,u,c,f,p,h,d,m,y,v){var g=c-e,b=f-n,_=g*g+b*b;if(_>4*i&&y--){var x=s+h,w=l+d,T=u+m,E=Math.sqrt(x*x+w*w+T*T),C=Math.asin(T/=E),k=wa(wa(T)-1)<za||wa(r-p)<za?(r+p)/2:Math.atan2(w,x),S=t(k,C),P=S[0],M=S[1],A=P-e,O=M-n,D=b*A-g*O;(D*D/_>i||wa((g*A+b*O)/_-.5)>.3||s*h+l*d+u*m<a)&&(o(e,n,r,s,l,u,P,M,k,x/=E,w/=E,T,y,v),v.point(P,M),o(P,M,k,x,w,T,c,f,p,h,d,m,y,v))}}var i=.5,a=Math.cos(30*Ha),s=16;return e.precision=function(t){return arguments.length?(s=(i=t*t)>0&&16,e):Math.sqrt(i)},e}function on(t){var e=rn(function(e,n){return t([e*Ga,n*Ga])});return function(t){return cn(e(t))}}function an(t){this.stream=t}function sn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function ln(t){return un(function(){return t})()}function un(t){function e(t){return t=s(t[0]*Ha,t[1]*Ha),[t[0]*p+l,u-t[1]*p]}function n(t){return t=s.invert((t[0]-l)/p,(u-t[1])/p),t&&[t[0]*Ga,t[1]*Ga]}function r(){s=Ae(a=hn(v,g,b),i);var t=i(m,y);return l=h-t[0]*p,u=d+t[1]*p,o()}function o(){return c&&(c.valid=!1,c=null),e}var i,a,s,l,u,c,f=rn(function(t,e){return t=i(t,e),[t[0]*p+l,u-t[1]*p]}),p=150,h=480,d=250,m=0,y=0,v=0,g=0,b=0,x=Us,w=_,T=null,E=null;return e.stream=function(t){return c&&(c.valid=!1),c=cn(x(a,f(w(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(x=null==t?(T=t,Us):qe((T=+t)*Ha),o()):T},e.clipExtent=function(t){return arguments.length?(E=t,w=t?He(t[0][0],t[0][1],t[1][0],t[1][1]):_,o()):E},e.scale=function(t){return arguments.length?(p=+t,r()):p},e.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],r()):[h,d]},e.center=function(t){return arguments.length?(m=t[0]%360*Ha,y=t[1]%360*Ha,r()):[m*Ga,y*Ga]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Ha,g=t[1]%360*Ha,b=t.length>2?t[2]%360*Ha:0,r()):[v*Ga,g*Ga,b*Ga]},ca.rebind(e,f,"precision"),function(){return i=t.apply(this,arguments),e.invert=i.invert&&n,r()}}function cn(t){return sn(t,function(e,n){t.point(e*Ha,n*Ha)})}function fn(t,e){return[t,e]}function pn(t,e){return[t>Ua?t-Wa:t<-Ua?t+Wa:t,e]}function hn(t,e,n){return t?e||n?Ae(mn(t),yn(e,n)):mn(t):e||n?yn(e,n):pn}function dn(t){return function(e,n){return e+=t,[e>Ua?e-Wa:e<-Ua?e+Wa:e,n]}}function mn(t){var e=dn(t);return e.invert=dn(-t),e}function yn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*r+s*o;return[Math.atan2(l*i-c*a,s*r-u*o),rt(c*i+l*a)]}var r=Math.cos(t),o=Math.sin(t),i=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*i-l*a;return[Math.atan2(l*i+u*a,s*r+c*o),rt(c*r-s*o)]},n}function vn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(o,i,a,s){var l=a*e;null!=o?(o=gn(n,o),i=gn(n,i),(a>0?o<i:o>i)&&(o+=a*Wa)):(o=t+a*Wa,i=t-.5*l);for(var u,c=o;a>0?c>i:c<i;c-=l)s.point((u=Te([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function gn(t,e){var n=ve(e);n[0]-=t,we(n);var r=nt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-za)%(2*Math.PI)}function bn(t,e,n){var r=ca.range(t,e-za,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function _n(t,e,n){var r=ca.range(t,e-za,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function xn(t){return t.source}function wn(t){return t.target}function Tn(t,e,n,r){var o=Math.cos(e),i=Math.sin(e),a=Math.cos(r),s=Math.sin(r),l=o*Math.cos(t),u=o*Math.sin(t),c=a*Math.cos(n),f=a*Math.sin(n),p=2*Math.asin(Math.sqrt(st(r-e)+o*a*st(n-t))),h=1/Math.sin(p),d=p?function(t){var e=Math.sin(t*=p)*h,n=Math.sin(p-t)*h,r=n*l+e*c,o=n*u+e*f,a=n*i+e*s;return[Math.atan2(o,r)*Ga,Math.atan2(a,Math.sqrt(r*r+o*o))*Ga]}:function(){return[t*Ga,e*Ga]};return d.distance=p,d}function En(){function t(t,o){var i=Math.sin(o*=Ha),a=Math.cos(o),s=wa((t*=Ha)-e),l=Math.cos(s);Js+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*i-n*a*l)*s),n*i+r*a*l),e=t,n=i,r=a}var e,n,r;$s.point=function(o,i){e=o*Ha,n=Math.sin(i*=Ha),r=Math.cos(i),$s.point=t},$s.lineEnd=function(){$s.point=$s.lineEnd=T}}function Cn(t,e){function n(e,n){var r=Math.cos(e),o=Math.cos(n),i=t(r*o);return[i*o*Math.sin(e),i*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),o=e(r),i=Math.sin(o),a=Math.cos(o);return[Math.atan2(t*i,r*a),Math.asin(r&&n*i/r)]},n}function kn(t,e){function n(t,e){a>0?e<-Va+za&&(e=-Va+za):e>Va-za&&(e=Va-za);var n=a/Math.pow(o(e),i);return[n*Math.sin(i*t),a-n*Math.cos(i*t)]}var r=Math.cos(t),o=function(t){return Math.tan(Ua/4+t/2)},i=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(o(e)/o(t)),a=r*Math.pow(o(t),i)/i;return i?(n.invert=function(t,e){var n=a-e,r=tt(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(a/r,1/i))-Va]},n):Pn}function Sn(t,e){function n(t,e){var n=i-e;return[n*Math.sin(o*t),i-n*Math.cos(o*t)]}var r=Math.cos(t),o=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),i=r/o+t;return wa(o)<za?fn:(n.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/o,i-tt(o)*Math.sqrt(t*t+n*n)]},n)}function Pn(t,e){return[t,Math.log(Math.tan(Ua/4+e/2))]}function Mn(t){var e,n=ln(t),r=n.scale,o=n.translate,i=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=o.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=i.apply(n,arguments);if(a===n){if(e=null==t){var s=Ua*r(),l=o();i([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function An(t,e){return[Math.log(Math.tan(Ua/4+e/2)),-t]}function On(t){return t[0]}function Dn(t){return t[1]}function Ln(t){for(var e=t.length,n=[0,1],r=2,o=2;o<e;o++){for(;r>1&&et(t[n[r-2]],t[n[r-1]],t[o])<=0;)--r;n[r++]=o}return n.slice(0,r)}function In(t,e){return t[0]-e[0]||t[1]-e[1]}function jn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Fn(t,e,n,r){var o=t[0],i=n[0],a=e[0]-o,s=r[0]-i,l=t[1],u=n[1],c=e[1]-l,f=r[1]-u,p=(s*(l-u)-f*(o-i))/(f*a-s*c);return[o+p*a,l+p*c]}function Rn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Nn(){ir(this),this.edge=this.site=this.circle=null}function zn(t){var e=fl.pop()||new Nn;return e.site=t,e}function Bn(t){Kn(t),ll.remove(t),fl.push(t),ir(t)}function Un(t){var e=t.circle,n=e.x,r=e.cy,o={x:n,y:r},i=t.P,a=t.N,s=[t];Bn(t);for(var l=i;l.circle&&wa(n-l.circle.x)<za&&wa(r-l.circle.cy)<za;)i=l.P,s.unshift(l),Bn(l),l=i;s.unshift(l),Kn(l);for(var u=a;u.circle&&wa(n-u.circle.x)<za&&wa(r-u.circle.cy)<za;)a=u.N,s.push(u),Bn(u),u=a;s.push(u),Kn(u);var c,f=s.length;for(c=1;c<f;++c)u=s[c],l=s[c-1],nr(u.edge,l.site,u.site,o);l=s[0],u=s[f-1],u.edge=tr(l.site,u.site,null,o),Xn(l),Xn(u)}function Wn(t){for(var e,n,r,o,i=t.x,a=t.y,s=ll._;s;)if(r=qn(s,a)-i,r>za)s=s.L;else{if(o=i-Vn(s,a),!(o>za)){r>-za?(e=s.P,n=s):o>-za?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=zn(t);if(ll.insert(e,l),e||n){if(e===n)return Kn(e),n=zn(e.site),ll.insert(l,n),l.edge=n.edge=tr(e.site,l.site),Xn(e),void Xn(n);if(!n)return void(l.edge=tr(e.site,l.site));Kn(e),Kn(n);var u=e.site,c=u.x,f=u.y,p=t.x-c,h=t.y-f,d=n.site,m=d.x-c,y=d.y-f,v=2*(p*y-h*m),g=p*p+h*h,b=m*m+y*y,_={x:(y*g-h*b)/v+c,y:(p*b-m*g)/v+f};nr(n.edge,u,d,_),l.edge=tr(u,t,null,_),n.edge=tr(t,d,null,_),Xn(e),Xn(n)}}function qn(t,e){var n=t.site,r=n.x,o=n.y,i=o-e;if(!i)return r;var a=t.P;if(!a)return-(1/0);n=a.site;var s=n.x,l=n.y,u=l-e;if(!u)return s;var c=s-r,f=1/i-1/u,p=c/u;return f?(-p+Math.sqrt(p*p-2*f*(c*c/(-2*u)-l+u/2+o-i/2)))/f+r:(r+s)/2}function Vn(t,e){var n=t.N;if(n)return qn(n,e);var r=t.site;return r.y===e?r.x:1/0}function Hn(t){this.site=t,this.edges=[]}function Gn(t){for(var e,n,r,o,i,a,s,l,u,c,f=t[0][0],p=t[1][0],h=t[0][1],d=t[1][1],m=sl,y=m.length;y--;)if(i=m[y],i&&i.prepare())for(s=i.edges,l=s.length,a=0;a<l;)c=s[a].end(),r=c.x,o=c.y,u=s[++a%l].start(),e=u.x,n=u.y,(wa(r-e)>za||wa(o-n)>za)&&(s.splice(a,0,new rr(er(i.site,c,wa(r-f)<za&&d-o>za?{x:f,y:wa(e-f)<za?n:d}:wa(o-d)<za&&p-r>za?{x:wa(n-d)<za?e:p,y:d}:wa(r-p)<za&&o-h>za?{x:p,y:wa(e-p)<za?n:h}:wa(o-h)<za&&r-f>za?{x:wa(n-h)<za?e:f,y:h}:null),i.site,null)),++l)}function Yn(t,e){return e.angle-t.angle}function Zn(){ir(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,o=t.site,i=n.site;if(r!==i){var a=o.x,s=o.y,l=r.x-a,u=r.y-s,c=i.x-a,f=i.y-s,p=2*(l*f-u*c);if(!(p>=-Ba)){var h=l*l+u*u,d=c*c+f*f,m=(f*h-u*d)/p,y=(l*d-c*h)/p,f=y+s,v=pl.pop()||new Zn;v.arc=t,v.site=o,v.x=m+a,v.y=f+Math.sqrt(m*m+y*y),v.cy=f,t.circle=v;for(var g=null,b=cl._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){g=b.P;break}b=b.L}else{if(!b.R){g=b;break}b=b.R}cl.insert(g,v),g||(ul=v)}}}}function Kn(t){var e=t.circle;e&&(e.P||(ul=e.N),cl.remove(e),pl.push(e),ir(e),t.circle=null)}function Qn(t){for(var e,n=al,r=Ve(t[0][0],t[0][1],t[1][0],t[1][1]),o=n.length;o--;)e=n[o],(!Jn(e,t)||!r(e)||wa(e.a.x-e.b.x)<za&&wa(e.a.y-e.b.y)<za)&&(e.a=e.b=null,n.splice(o,1))}function Jn(t,e){var n=t.b;if(n)return!0;var r,o,i=t.a,a=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,f=t.r,p=c.x,h=c.y,d=f.x,m=f.y,y=(p+d)/2,v=(h+m)/2;if(m===h){if(y<a||y>=s)return;if(p>d){if(i){if(i.y>=u)return}else i={x:y,y:l};n={x:y,y:u}}else{if(i){if(i.y<l)return}else i={x:y,y:u};n={x:y,y:l}}}else if(r=(p-d)/(m-h),o=v-r*y,r<-1||r>1)if(p>d){if(i){if(i.y>=u)return}else i={x:(l-o)/r,y:l};n={x:(u-o)/r,y:u}}else{if(i){if(i.y<l)return}else i={x:(u-o)/r,y:u};n={x:(l-o)/r,y:l}}else if(h<m){if(i){if(i.x>=s)return}else i={x:a,y:r*a+o};n={x:s,y:r*s+o}}else{if(i){if(i.x<a)return}else i={x:s,y:r*s+o};n={x:a,y:r*a+o}}return t.a=i,t.b=n,!0}function $n(t,e){this.l=t,this.r=e,this.a=this.b=null}function tr(t,e,n,r){var o=new $n(t,e);return al.push(o),n&&nr(o,t,e,n),r&&nr(o,e,t,r),sl[t.i].edges.push(new rr(o,t,e)),sl[e.i].edges.push(new rr(o,e,t)),o}function er(t,e,n){var r=new $n(t,null);return r.a=e,r.b=n,al.push(r),r}function nr(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function rr(t,e,n){var r=t.a,o=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(o.x-r.x,r.y-o.y):Math.atan2(r.x-o.x,o.y-r.y)}function or(){this._=null}function ir(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ar(t,e){var n=e,r=e.R,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function sr(t,e){var n=e,r=e.L,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function lr(t){for(;t.L;)t=t.L;return t}function ur(t,e){var n,r,o,i=t.sort(cr).pop();for(al=[],sl=new Array(t.length),ll=new or,cl=new or;;)if(o=ul,i&&(!o||i.y<o.y||i.y===o.y&&i.x<o.x))i.x===n&&i.y===r||(sl[i.i]=new Hn(i),Wn(i),n=i.x,r=i.y),i=t.pop();else{if(!o)break;Un(o.arc)}e&&(Qn(e),Gn(e));var a={cells:sl,edges:al};return ll=cl=al=sl=null,a}function cr(t,e){return e.y-t.y||e.x-t.x}function fr(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function pr(t){return t.x}function hr(t){return t.y}function dr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function mr(t,e,n,r,o,i){if(!t(e,n,r,o,i)){var a=.5*(n+o),s=.5*(r+i),l=e.nodes;l[0]&&mr(t,l[0],n,r,a,s),l[1]&&mr(t,l[1],a,r,o,s),l[2]&&mr(t,l[2],n,s,a,i),l[3]&&mr(t,l[3],a,s,o,i)}}function yr(t,e,n,r,o,i,a){var s,l=1/0;return function u(t,c,f,p,h){if(!(c>i||f>a||p<r||h<o)){if(d=t.point){var d,m=e-t.x,y=n-t.y,v=m*m+y*y;if(v<l){var g=Math.sqrt(l=v);r=e-g,o=n-g,i=e+g,a=n+g,s=d}}for(var b=t.nodes,_=.5*(c+p),x=.5*(f+h),w=e>=_,T=n>=x,E=T<<1|w,C=E+4;E<C;++E)if(t=b[3&E])switch(3&E){case 0:u(t,c,f,_,x);break;case 1:u(t,_,f,p,x);break;case 2:u(t,c,x,_,h);break;case 3:u(t,_,x,p,h)}}}(t,r,o,i,a),s}function vr(t,e){t=ca.rgb(t),e=ca.rgb(e);var n=t.r,r=t.g,o=t.b,i=e.r-n,a=e.g-r,s=e.b-o;return function(t){return"#"+wt(Math.round(n+i*t))+wt(Math.round(r+a*t))+wt(Math.round(o+s*t))}}function gr(t,e){var n,r={},o={};for(n in t)n in e?r[n]=xr(t[n],e[n]):o[n]=t[n];for(n in e)n in t||(o[n]=e[n]);return function(t){for(n in r)o[n]=r[n](t);return o}}function br(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function _r(t,e){var n,r,o,i=dl.lastIndex=ml.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=dl.exec(t))&&(r=ml.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:br(n,r)})),i=ml.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function xr(t,e){for(var n,r=ca.interpolators.length;--r>=0&&!(n=ca.interpolators[r](t,e)););return n}function wr(t,e){var n,r=[],o=[],i=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(xr(t[n],e[n]));for(;n<i;++n)o[n]=t[n];for(;n<a;++n)o[n]=e[n];return function(t){for(n=0;n<s;++n)o[n]=r[n](t);return o}}function Tr(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function Er(t){return function(e){return 1-t(1-e)}}function Cr(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function kr(t){return t*t}function Sr(t){return t*t*t}function Pr(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Mr(t){return function(e){return Math.pow(e,t)}}function Ar(t){return 1-Math.cos(t*Va)}function Or(t){return Math.pow(2,10*(t-1))}function Dr(t){return 1-Math.sqrt(1-t*t)}function Lr(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Wa*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Wa/e)}}function Ir(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function jr(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Fr(t,e){t=ca.hcl(t),e=ca.hcl(e);var n=t.h,r=t.c,o=t.l,i=e.h-n,a=e.c-r,s=e.l-o;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(i)?(i=0,n=isNaN(n)?e.h:n):i>180?i-=360:i<-180&&(i+=360),function(t){return pt(n+i*t,r+a*t,o+s*t)+""}}function Rr(t,e){t=ca.hsl(t),e=ca.hsl(e);var n=t.h,r=t.s,o=t.l,i=e.h-n,a=e.s-r,s=e.l-o;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(i)?(i=0,n=isNaN(n)?e.h:n):i>180?i-=360:i<-180&&(i+=360),function(t){return ct(n+i*t,r+a*t,o+s*t)+""}}function Nr(t,e){t=ca.lab(t),e=ca.lab(e);var n=t.l,r=t.a,o=t.b,i=e.l-n,a=e.a-r,s=e.b-o;return function(t){return dt(n+i*t,r+a*t,o+s*t)+""}}function zr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Br(t){var e=[t.a,t.b],n=[t.c,t.d],r=Wr(e),o=Ur(e,n),i=Wr(qr(n,e,-o))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,o*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ga,this.translate=[t.e,t.f],this.scale=[r,i],this.skew=i?Math.atan2(o,i)*Ga:0}function Ur(t,e){return t[0]*e[0]+t[1]*e[1]}function Wr(t){var e=Math.sqrt(Ur(t,t));return e&&(t[0]/=e,t[1]/=e),e}function qr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Vr(t){return t.length?t.pop()+",":""}function Hr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var o=n.push("translate(",null,",",null,")");r.push({i:o-4,x:br(t[0],e[0])},{i:o-2,x:br(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Gr(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(Vr(n)+"rotate(",null,")")-2,x:br(t,e)})):e&&n.push(Vr(n)+"rotate("+e+")")}function Yr(t,e,n,r){t!==e?r.push({i:n.push(Vr(n)+"skewX(",null,")")-2,x:br(t,e)}):e&&n.push(Vr(n)+"skewX("+e+")")}function Zr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var o=n.push(Vr(n)+"scale(",null,",",null,")");r.push({i:o-4,x:br(t[0],e[0])},{i:o-2,x:br(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Vr(n)+"scale("+e+")")}function Xr(t,e){var n=[],r=[];return t=ca.transform(t),e=ca.transform(e),Hr(t.translate,e.translate,n,r),Gr(t.rotate,e.rotate,n,r),Yr(t.skew,e.skew,n,r),Zr(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,o=-1,i=r.length;++o<i;)n[(e=r[o]).i]=e.x(t);return n.join("")}}function Kr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Qr(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Jr(t){for(var e=t.source,n=t.target,r=to(e,n),o=[e];e!==r;)e=e.parent,o.push(e);for(var i=o.length;n!==r;)o.splice(i,0,n),n=n.parent;return o}function $r(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function to(t,e){if(t===e)return t;for(var n=$r(t),r=$r(e),o=n.pop(),i=r.pop(),a=null;o===i;)a=o,o=n.pop(),i=r.pop();return a}function eo(t){t.fixed|=2}function no(t){t.fixed&=-7}function ro(t){t.fixed|=4,t.px=t.x,t.py=t.y}function oo(t){t.fixed&=-5}function io(t,e,n){var r=0,o=0;if(t.charge=0,!t.leaf)for(var i,a=t.nodes,s=a.length,l=-1;++l<s;)i=a[l],null!=i&&(io(i,e,n),t.charge+=i.charge,r+=i.charge*i.cx,o+=i.charge*i.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,r+=u*t.point.x,o+=u*t.point.y}t.cx=r/t.charge,t.cy=o/t.charge}function ao(t,e){return ca.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=po,t}function so(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(o=t.children)&&(r=o.length))for(var r,o;--r>=0;)n.push(o[r])}function lo(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(i=t.children)&&(o=i.length))for(var o,i,a=-1;++a<o;)n.push(i[a]);for(;null!=(t=r.pop());)e(t)}function uo(t){return t.children}function co(t){return t.value}function fo(t,e){return e.value-t.value}function po(t){return ca.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function ho(t){return t.x}function mo(t){return t.y}function yo(t,e,n){t.y0=e,t.y=n}function vo(t){return ca.range(t.length)}function go(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function bo(t){for(var e,n=1,r=0,o=t[0][1],i=t.length;n<i;++n)(e=t[n][1])>o&&(r=n,o=e);return r}function _o(t){return t.reduce(xo,0)}function xo(t,e){return t+e[1]}function wo(t,e){return To(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function To(t,e){for(var n=-1,r=+t[0],o=(t[1]-r)/e,i=[];++n<=e;)i[n]=o*n+r;return i}function Eo(t){return[ca.min(t),ca.max(t)]}function Co(t,e){return t.value-e.value}function ko(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function So(t,e){t._pack_next=e,e._pack_prev=t}function Po(t,e){var n=e.x-t.x,r=e.y-t.y,o=t.r+e.r;return.999*o*o>n*n+r*r}function Mo(t){function e(t){c=Math.min(t.x-t.r,c),f=Math.max(t.x+t.r,f),p=Math.min(t.y-t.r,p),h=Math.max(t.y+t.r,h)}if((n=t.children)&&(u=n.length)){var n,r,o,i,a,s,l,u,c=1/0,f=-(1/0),p=1/0,h=-(1/0);if(n.forEach(Ao),r=n[0],r.x=-r.r,r.y=0,e(r),u>1&&(o=n[1],o.x=o.r,o.y=0,e(o),u>2))for(i=n[2],Lo(r,o,i),e(i),ko(r,i),r._pack_prev=i,ko(i,o),o=r._pack_next,a=3;a<u;a++){Lo(r,o,i=n[a]);var d=0,m=1,y=1;for(s=o._pack_next;s!==o;s=s._pack_next,m++)if(Po(s,i)){d=1;break}if(1==d)for(l=r._pack_prev;l!==s._pack_prev&&!Po(l,i);l=l._pack_prev,y++);d?(m<y||m==y&&o.r<r.r?So(r,o=s):So(r=l,o),a--):(ko(r,i),o=i,e(i))}var v=(c+f)/2,g=(p+h)/2,b=0;for(a=0;a<u;a++)i=n[a],i.x-=v,i.y-=g,b=Math.max(b,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=b,n.forEach(Oo)}}function Ao(t){t._pack_next=t._pack_prev=t}function Oo(t){delete t._pack_next,delete t._pack_prev}function Do(t,e,n,r){var o=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,o)for(var i=-1,a=o.length;++i<a;)Do(o[i],e,n,r)}function Lo(t,e,n){var r=t.r+n.r,o=e.x-t.x,i=e.y-t.y;if(r&&(o||i)){var a=e.r+n.r,s=o*o+i*i;a*=a,r*=r;var l=.5+(r-a)/(2*s),u=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+l*o+u*i,n.y=t.y+l*i-u*o}else n.x=t.x+r,n.y=t.y}function Io(t,e){return t.parent==e.parent?1:2}function jo(t){var e=t.children;return e.length?e[0]:t.t}function Fo(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Ro(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function No(t){for(var e,n=0,r=0,o=t.children,i=o.length;--i>=0;)e=o[i],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function zo(t,e,n){return t.a.parent===e.parent?t.a:n}function Bo(t){return 1+ca.max(t,function(t){return t.y})}function Uo(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Wo(t){var e=t.children;return e&&e.length?Wo(e[0]):t}function qo(t){var e,n=t.children;return n&&(e=n.length)?qo(n[e-1]):t}function Vo(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Ho(t,e){var n=t.x+e[3],r=t.y+e[0],o=t.dx-e[1]-e[3],i=t.dy-e[0]-e[2];return o<0&&(n+=o/2,o=0),i<0&&(r+=i/2,i=0),{x:n,y:r,dx:o,dy:i}}function Go(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Yo(t){return t.rangeExtent?t.rangeExtent():Go(t.range())}function Zo(t,e,n,r){var o=n(t[0],t[1]),i=r(e[0],e[1]);return function(t){return i(o(t))}}function Xo(t,e){var n,r=0,o=t.length-1,i=t[r],a=t[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),t[r]=e.floor(i),t[o]=e.ceil(a),t}function Ko(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:kl}function Qo(t,e,n,r){var o=[],i=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)o.push(n(t[a-1],t[a])),i.push(r(e[a-1],e[a]));return function(e){var n=ca.bisect(t,e,1,s)-1;return i[n](o[n](e))}}function Jo(t,e,n,r){function o(){var o=Math.min(t.length,e.length)>2?Qo:Zo,l=r?Qr:Kr;return a=o(t,e,l,n),s=o(e,t,l,xr),i}function i(t){return a(t)}var a,s;return i.invert=function(t){return s(t)},i.domain=function(e){return arguments.length?(t=e.map(Number),o()):t},i.range=function(t){return arguments.length?(e=t,o()):e},i.rangeRound=function(t){return i.range(t).interpolate(zr)},i.clamp=function(t){return arguments.length?(r=t,o()):r},i.interpolate=function(t){return arguments.length?(n=t,o()):n},i.ticks=function(e){return ni(t,e)},i.tickFormat=function(e,n){return ri(t,e,n)},i.nice=function(e){return ti(t,e),o()},i.copy=function(){return Jo(t,e,n,r)},o()}function $o(t,e){return ca.rebind(t,e,"range","rangeRound","interpolate","clamp")}function ti(t,e){return Xo(t,Ko(ei(t,e)[2])),Xo(t,Ko(ei(t,e)[2])),t}function ei(t,e){null==e&&(e=10);var n=Go(t),r=n[1]-n[0],o=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),i=e/r*o;return i<=.15?o*=10:i<=.35?o*=5:i<=.75&&(o*=2),n[0]=Math.ceil(n[0]/o)*o,n[1]=Math.floor(n[1]/o)*o+.5*o,n[2]=o,n}function ni(t,e){return ca.range.apply(ca,ei(t,e))}function ri(t,e,n){var r=ei(t,e);if(n){var o=ds.exec(n);if(o.shift(),"s"===o[8]){var i=ca.formatPrefix(Math.max(wa(r[0]),wa(r[1])));return o[7]||(o[7]="."+oi(i.scale(r[2]))),o[8]="f",n=ca.format(o.join("")),function(t){return n(i.scale(t))+i.symbol}}o[7]||(o[7]="."+ii(o[8],r)),n=o.join("")}else n=",."+oi(r[2])+"f";return ca.format(n)}function oi(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function ii(t,e){var n=oi(e[2]);return t in Sl?Math.abs(n-oi(Math.max(wa(e[0]),wa(e[1]))))+ +("e"!==t):n-2*("%"===t)}function ai(t,e,n,r){function o(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function i(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(o(e))}return a.invert=function(e){return i(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(o)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(o)),a):e},a.nice=function(){var e=Xo(r.map(o),n?Math:Ml);return t.domain(e),r=e.map(i),a},a.ticks=function(){var t=Go(r),a=[],s=t[0],l=t[1],u=Math.floor(o(s)),c=Math.ceil(o(l)),f=e%1?2:e;if(isFinite(c-u)){if(n){for(;u<c;u++)for(var p=1;p<f;p++)a.push(i(u)*p);a.push(i(u))}else for(a.push(i(u));u++<c;)for(var p=f-1;p>0;p--)a.push(i(u)*p);for(u=0;a[u]<s;u++);for(c=a.length;a[c-1]>l;c--);a=a.slice(u,c)}return a},a.tickFormat=function(t,n){if(!arguments.length)return Pl;arguments.length<2?n=Pl:"function"!=typeof n&&(n=ca.format(n));var r=Math.max(1,e*t/a.ticks().length);return function(t){var a=t/i(Math.round(o(t)));return a*e<e-.5&&(a*=e),a<=r?n(t):""}},a.copy=function(){return ai(t.copy(),e,n,r)},$o(a,t)}function si(t,e,n){function r(e){return t(o(e))}var o=li(e),i=li(1/e);return r.invert=function(e){return i(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(o)),r):n},r.ticks=function(t){return ni(n,t)},r.tickFormat=function(t,e){return ri(n,t,e)},r.nice=function(t){return r.domain(ti(n,t))},r.exponent=function(a){return arguments.length?(o=li(e=a),i=li(1/e),t.domain(n.map(o)),r):e},r.copy=function(){return si(t.copy(),e,n)},$o(r,t)}function li(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ui(t,e){function n(n){return i[((o.get(n)||("range"===e.t?o.set(n,t.push(n)):NaN))-1)%i.length]}function r(e,n){return ca.range(t.length).map(function(t){return e+n*t})}var o,i,a;return n.domain=function(r){if(!arguments.length)return t;t=[],o=new f;for(var i,a=-1,s=r.length;++a<s;)o.has(i=r[a])||o.set(i,t.push(i));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(i=t,a=0,e={t:"range",a:arguments},n):i},n.rangePoints=function(o,s){arguments.length<2&&(s=0);var l=o[0],u=o[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+s);return i=r(l+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(o,s){arguments.length<2&&(s=0);var l=o[0],u=o[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+s)|0;return i=r(l+Math.round(c*s/2+(u-l-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(o,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=o[1]<o[0],c=o[u-0],f=o[1-u],p=(f-c)/(t.length-s+2*l);return i=r(c+p*l,p),u&&i.reverse(),a=p*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(o,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=o[1]<o[0],c=o[u-0],f=o[1-u],p=Math.floor((f-c)/(t.length-s+2*l));return i=r(c+Math.round((f-c-(t.length-s)*p)/2),p),u&&i.reverse(),a=Math.round(p*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Go(e.a[0])},n.copy=function(){return ui(t,e)},n.domain(t)}function ci(t,e){function n(){var n=0,o=e.length;for(s=[];++n<o;)s[n-1]=ca.quantile(t,n/o);return r}function r(t){if(!isNaN(t=+t))return e[ca.bisect(s,t)]}var s;return r.domain=function(e){return arguments.length?(t=e.map(i).filter(a).sort(o),n()):t},r.range=function(t){return arguments.length?(e=t,n()):e},r.quantiles=function(){return s},r.invertExtent=function(n){return n=e.indexOf(n),n<0?[NaN,NaN]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},r.copy=function(){return ci(t,e)},n()}function fi(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(i*(e-t))))]}function o(){return i=n.length/(e-t),a=n.length-1,r}var i,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],o()):[t,e]},r.range=function(t){return arguments.length?(n=t,o()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=e<0?NaN:e/i+t,[e,e+1/i]},r.copy=function(){return fi(t,e,n)},o()}function pi(t,e){function n(n){if(n<=n)return e[ca.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return pi(t,e)},n}function hi(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return ni(t,e)},e.tickFormat=function(e,n){return ri(t,e,n)},e.copy=function(){return hi(t)},e}function di(){return 0}function mi(t){return t.innerRadius}function yi(t){return t.outerRadius}function vi(t){return t.startAngle}function gi(t){return t.endAngle}function bi(t){return t&&t.padAngle}function _i(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function xi(t,e,n,r,o){var i=t[0]-e[0],a=t[1]-e[1],s=(o?r:-r)/Math.sqrt(i*i+a*a),l=s*a,u=-s*i,c=t[0]+l,f=t[1]+u,p=e[0]+l,h=e[1]+u,d=(c+p)/2,m=(f+h)/2,y=p-c,v=h-f,g=y*y+v*v,b=n-r,_=c*h-p*f,x=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*g-_*_)),w=(_*v-y*x)/g,T=(-_*y-v*x)/g,E=(_*v+y*x)/g,C=(-_*y+v*x)/g,k=w-d,S=T-m,P=E-d,M=C-m;return k*k+S*S>P*P+M*M&&(w=E,T=C),[[w-l,T-u],[w*n/b,T*n/b]]}function wi(t){function e(e){function a(){u.push("M",i(t(c),s))}for(var l,u=[],c=[],f=-1,p=e.length,h=Pt(n),d=Pt(r);++f<p;)o.call(this,l=e[f],f)?c.push([+h.call(this,l,f),+d.call(this,l,f)]):c.length&&(a(),c=[]);return c.length&&a(),u.length?u.join(""):null}var n=On,r=Dn,o=Oe,i=Ti,a=i.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?i=t:(i=jl.get(t)||Ti).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function Ti(t){return t.length>1?t.join("L"):t+"Z"}function Ei(t){return t.join("L")+"Z"}function Ci(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&o.push("H",r[0]),o.join("")}function ki(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("V",(r=t[e])[1],"H",r[0]);return o.join("")}function Si(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("H",(r=t[e])[0],"V",r[1]);return o.join("")}function Pi(t,e){return t.length<4?Ti(t):t[1]+Oi(t.slice(1,-1),Di(t,e))}function Mi(t,e){return t.length<3?Ei(t):t[0]+Oi((t.push(t[0]),t),Di([t[t.length-2]].concat(t,[t[1]]),e))}function Ai(t,e){return t.length<3?Ti(t):t[0]+Oi(t,Di(t,e))}function Oi(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ti(t);var n=t.length!=e.length,r="",o=t[0],i=t[1],a=e[0],s=a,l=1;if(n&&(r+="Q"+(i[0]-2*a[0]/3)+","+(i[1]-2*a[1]/3)+","+i[0]+","+i[1],o=t[1],l=2),e.length>1){s=e[1],i=t[l],l++,r+="C"+(o[0]+a[0])+","+(o[1]+a[1])+","+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1];for(var u=2;u<e.length;u++,l++)i=t[l],s=e[u],r+="S"+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1]}if(n){var c=t[l];r+="Q"+(i[0]+2*s[0]/3)+","+(i[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Di(t,e){for(var n,r=[],o=(1-e)/2,i=t[0],a=t[1],s=1,l=t.length;++s<l;)n=i,i=a,a=t[s],r.push([o*(a[0]-n[0]),o*(a[1]-n[1])]);return r}function Li(t){if(t.length<3)return Ti(t);var e=1,n=t.length,r=t[0],o=r[0],i=r[1],a=[o,o,o,(r=t[1])[0]],s=[i,i,i,r[1]],l=[o,",",i,"L",Ri(Nl,a),",",Ri(Nl,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Ni(l,a,s);return t.pop(),l.push("L",r),l.join("")}function Ii(t){if(t.length<4)return Ti(t);for(var e,n=[],r=-1,o=t.length,i=[0],a=[0];++r<3;)e=t[r],i.push(e[0]),a.push(e[1]);for(n.push(Ri(Nl,i)+","+Ri(Nl,a)),--r;++r<o;)e=t[r],i.shift(),i.push(e[0]),a.shift(),a.push(e[1]),Ni(n,i,a);return n.join("")}function ji(t){for(var e,n,r=-1,o=t.length,i=o+4,a=[],s=[];++r<4;)n=t[r%o],a.push(n[0]),s.push(n[1]);for(e=[Ri(Nl,a),",",Ri(Nl,s)],--r;++r<i;)n=t[r%o],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ni(e,a,s);return e.join("")}function Fi(t,e){var n=t.length-1;if(n)for(var r,o,i=t[0][0],a=t[0][1],s=t[n][0]-i,l=t[n][1]-a,u=-1;++u<=n;)r=t[u],o=u/n,r[0]=e*r[0]+(1-e)*(i+o*s),r[1]=e*r[1]+(1-e)*(a+o*l);return Li(t)}function Ri(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ni(t,e,n){t.push("C",Ri(Fl,e),",",Ri(Fl,n),",",Ri(Rl,e),",",Ri(Rl,n),",",Ri(Nl,e),",",Ri(Nl,n));
}function zi(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Bi(t){for(var e=0,n=t.length-1,r=[],o=t[0],i=t[1],a=r[0]=zi(o,i);++e<n;)r[e]=(a+(a=zi(o=i,i=t[e+1])))/2;return r[e]=a,r}function Ui(t){for(var e,n,r,o,i=[],a=Bi(t),s=-1,l=t.length-1;++s<l;)e=zi(t[s],t[s+1]),wa(e)<za?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,o=n*n+r*r,o>9&&(o=3*e/Math.sqrt(o),a[s]=o*n,a[s+1]=o*r));for(s=-1;++s<=l;)o=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),i.push([o||0,a[s]*o||0]);return i}function Wi(t){return t.length<3?Ti(t):t[0]+Oi(t,Ui(t))}function qi(t){for(var e,n,r,o=-1,i=t.length;++o<i;)e=t[o],n=e[0],r=e[1]-Va,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Vi(t){function e(e){function l(){m.push("M",s(t(v),f),c,u(t(y.reverse()),f),"Z")}for(var p,h,d,m=[],y=[],v=[],g=-1,b=e.length,_=Pt(n),x=Pt(o),w=n===r?function(){return h}:Pt(r),T=o===i?function(){return d}:Pt(i);++g<b;)a.call(this,p=e[g],g)?(y.push([h=+_.call(this,p,g),d=+x.call(this,p,g)]),v.push([+w.call(this,p,g),+T.call(this,p,g)])):y.length&&(l(),y=[],v=[]);return y.length&&l(),m.length?m.join(""):null}var n=On,r=On,o=0,i=Dn,a=Oe,s=Ti,l=s.key,u=s,c="L",f=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(o=i=t,e):i},e.y0=function(t){return arguments.length?(o=t,e):o},e.y1=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=jl.get(t)||Ti).key,u=s.reverse||s,c=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(f=t,e):f},e}function Hi(t){return t.radius}function Gi(t){return[t.x,t.y]}function Yi(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Va;return[n*Math.cos(r),n*Math.sin(r)]}}function Zi(){return 64}function Xi(){return"circle"}function Ki(t){var e=Math.sqrt(t/Ua);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Qi(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Ji(t,e,n){return Sa(t,Hl),t.namespace=e,t.id=n,t}function $i(t,e,n,r){var o=t.id,i=t.namespace;return H(t,"function"==typeof n?function(t,a,s){t[i][o].tween.set(e,r(n.call(t,t.__data__,a,s)))}:(n=r(n),function(t){t[i][o].tween.set(e,n)}))}function ta(t){return null==t&&(t=""),function(){this.textContent=t}}function ea(t){return null==t?"__transition__":"__transition_"+t+"__"}function na(t,e,n,r,o){function i(t){var e=m.delay;return u.t=e+l,e<=t?a(t-e):void(u.c=a)}function a(n){var o=d.active,i=d[o];i&&(i.timer.c=null,i.timer.t=NaN,--d.count,delete d[o],i.event&&i.event.interrupt.call(t,t.__data__,i.index));for(var a in d)if(+a<r){var f=d[a];f.timer.c=null,f.timer.t=NaN,--d.count,delete d[a]}u.c=s,Lt(function(){return u.c&&s(n||1)&&(u.c=null,u.t=NaN),1},0,l),d.active=r,m.event&&m.event.start.call(t,t.__data__,e),h=[],m.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&h.push(r)}),p=m.ease,c=m.duration}function s(o){for(var i=o/c,a=p(i),s=h.length;s>0;)h[--s].call(t,a);if(i>=1)return m.event&&m.event.end.call(t,t.__data__,e),--d.count?delete d[r]:delete t[n],1}var l,u,c,p,h,d=t[n]||(t[n]={active:0,count:0}),m=d[r];m||(l=o.time,u=Lt(i,0,l),m=d[r]={tween:new f,time:l,timer:u,delay:o.delay,duration:o.duration,ease:o.ease,index:e},o=null,++d.count)}function ra(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function oa(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function ia(t){return t.toISOString()}function aa(t,e,n){function r(e){return t(e)}function o(t,n){var r=t[1]-t[0],o=r/n,i=ca.bisect(tu,o);return i==tu.length?[e.year,ei(t.map(function(t){return t/31536e6}),n)[2]]:i?e[o/tu[i-1]<tu[i]/o?i-1:i]:[ru,ei(t,n)[2]]}return r.invert=function(e){return sa(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(sa)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,sa(+n+1),e).length}var i=r.domain(),a=Go(i),s=null==t?o(a,10):"number"==typeof t&&o(a,t);return s&&(t=s[0],e=s[1]),r.domain(Xo(i,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=sa(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=sa(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Go(r.domain()),i=null==t?o(n,10):"number"==typeof t?o(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],sa(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return aa(t.copy(),e,n)},$o(r,t)}function sa(t){return new Date(t)}function la(t){return JSON.parse(t.responseText)}function ua(t){var e=ha.createRange();return e.selectNode(ha.body),e.createContextualFragment(t.responseText)}var ca={version:"3.5.16"},fa=[].slice,pa=function(t){return fa.call(t)},ha=this.document;if(ha)try{pa(ha.documentElement.childNodes)[0].nodeType}catch(da){pa=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),ha)try{ha.createElement("DIV").style.setProperty("opacity",0,"")}catch(ma){var ya=this.Element.prototype,va=ya.setAttribute,ga=ya.setAttributeNS,ba=this.CSSStyleDeclaration.prototype,_a=ba.setProperty;ya.setAttribute=function(t,e){va.call(this,t,e+"")},ya.setAttributeNS=function(t,e,n){ga.call(this,t,e,n+"")},ba.setProperty=function(t,e,n){_a.call(this,t,e+"",n)}}ca.ascending=o,ca.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},ca.min=function(t,e){var n,r,o=-1,i=t.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=t[o])&&r>=r){n=r;break}for(;++o<i;)null!=(r=t[o])&&n>r&&(n=r)}else{for(;++o<i;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=r;break}for(;++o<i;)null!=(r=e.call(t,t[o],o))&&n>r&&(n=r)}return n},ca.max=function(t,e){var n,r,o=-1,i=t.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=t[o])&&r>=r){n=r;break}for(;++o<i;)null!=(r=t[o])&&r>n&&(n=r)}else{for(;++o<i;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=r;break}for(;++o<i;)null!=(r=e.call(t,t[o],o))&&r>n&&(n=r)}return n},ca.extent=function(t,e){var n,r,o,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=o=r;break}for(;++i<a;)null!=(r=t[i])&&(n>r&&(n=r),o<r&&(o=r))}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=o=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&(n>r&&(n=r),o<r&&(o=r))}return[n,o]},ca.sum=function(t,e){var n,r=0,o=t.length,i=-1;if(1===arguments.length)for(;++i<o;)a(n=+t[i])&&(r+=n);else for(;++i<o;)a(n=+e.call(t,t[i],i))&&(r+=n);return r},ca.mean=function(t,e){var n,r=0,o=t.length,s=-1,l=o;if(1===arguments.length)for(;++s<o;)a(n=i(t[s]))?r+=n:--l;else for(;++s<o;)a(n=i(e.call(t,t[s],s)))?r+=n:--l;if(l)return r/l},ca.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),o=+t[r-1],i=n-r;return i?o+i*(t[r]-o):o},ca.median=function(t,e){var n,r=[],s=t.length,l=-1;if(1===arguments.length)for(;++l<s;)a(n=i(t[l]))&&r.push(n);else for(;++l<s;)a(n=i(e.call(t,t[l],l)))&&r.push(n);if(r.length)return ca.quantile(r.sort(o),.5)},ca.variance=function(t,e){var n,r,o=t.length,s=0,l=0,u=-1,c=0;if(1===arguments.length)for(;++u<o;)a(n=i(t[u]))&&(r=n-s,s+=r/++c,l+=r*(n-s));else for(;++u<o;)a(n=i(e.call(t,t[u],u)))&&(r=n-s,s+=r/++c,l+=r*(n-s));if(c>1)return l/(c-1)},ca.deviation=function(){var t=ca.variance.apply(this,arguments);return t?Math.sqrt(t):t};var xa=s(o);ca.bisectLeft=xa.left,ca.bisect=ca.bisectRight=xa.right,ca.bisector=function(t){return s(1===t.length?function(e,n){return o(t(e),n)}:t)},ca.shuffle=function(t,e,n){(i=arguments.length)<3&&(n=t.length,i<2&&(e=0));for(var r,o,i=n-e;i;)o=Math.random()*i--|0,r=t[i+e],t[i+e]=t[o+e],t[o+e]=r;return t},ca.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},ca.pairs=function(t){for(var e,n=0,r=t.length-1,o=t[0],i=new Array(r<0?0:r);n<r;)i[n]=[e=o,o=t[++n]];return i},ca.transpose=function(t){if(!(o=t.length))return[];for(var e=-1,n=ca.min(t,l),r=new Array(n);++e<n;)for(var o,i=-1,a=r[e]=new Array(o);++i<o;)a[i]=t[i][e];return r},ca.zip=function(){return ca.transpose(arguments)},ca.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ca.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ca.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ca.merge=function(t){for(var e,n,r,o=t.length,i=-1,a=0;++i<o;)a+=t[i].length;for(n=new Array(a);--o>=0;)for(r=t[o],e=r.length;--e>=0;)n[--a]=r[e];return n};var wa=Math.abs;ca.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,o=[],i=u(wa(n)),a=-1;if(t*=i,e*=i,n*=i,n<0)for(;(r=t+n*++a)>e;)o.push(r/i);else for(;(r=t+n*++a)<e;)o.push(r/i);return o},ca.map=function(t,e){var n=new f;if(t instanceof f)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,o=-1,i=t.length;if(1===arguments.length)for(;++o<i;)n.set(o,t[o]);else for(;++o<i;)n.set(e.call(t,r=t[o],o),r)}else for(var a in t)n.set(a,t[a]);return n};var Ta="__proto__",Ea="\0";c(f,{has:d,get:function(t){return this._[p(t)]},set:function(t,e){return this._[p(t)]=e},remove:m,keys:y,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:h(e),value:this._[e]});return t},size:v,empty:g,forEach:function(t){for(var e in this._)t.call(this,h(e),this._[e])}}),ca.nest=function(){function t(e,a,s){if(s>=i.length)return r?r.call(o,a):n?a.sort(n):a;for(var l,u,c,p,h=-1,d=a.length,m=i[s++],y=new f;++h<d;)(p=y.get(l=m(u=a[h])))?p.push(u):y.set(l,[u]);return e?(u=e(),c=function(n,r){u.set(n,t(e,r,s))}):(u={},c=function(n,r){u[n]=t(e,r,s)}),y.forEach(c),u}function e(t,n){if(n>=i.length)return t;var r=[],o=a[n++];return t.forEach(function(t,o){r.push({key:t,values:e(o,n)})}),o?r.sort(function(t,e){return o(t.key,e.key)}):r}var n,r,o={},i=[],a=[];return o.map=function(e,n){return t(n,e,0)},o.entries=function(n){return e(t(ca.map,n,0),0)},o.key=function(t){return i.push(t),o},o.sortKeys=function(t){return a[i.length-1]=t,o},o.sortValues=function(t){return n=t,o},o.rollup=function(t){return r=t,o},o},ca.set=function(t){var e=new b;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},c(b,{has:d,add:function(t){return this._[p(t+="")]=!0,t},remove:m,values:y,size:v,empty:g,forEach:function(t){for(var e in this._)t.call(this,h(e))}}),ca.behavior={},ca.rebind=function(t,e){for(var n,r=1,o=arguments.length;++r<o;)t[n=arguments[r]]=x(t,e,e[n]);return t};var Ca=["webkit","ms","moz","Moz","o","O"];ca.dispatch=function(){for(var t=new E,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=C(t);return t},E.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},ca.event=null,ca.requote=function(t){return t.replace(ka,"\\$&")};var ka=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Sa={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Pa=function(t,e){return e.querySelector(t)},Ma=function(t,e){return e.querySelectorAll(t)},Aa=function(t,e){var n=t.matches||t[w(t,"matchesSelector")];return(Aa=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Pa=function(t,e){return Sizzle(t,e)[0]||null},Ma=Sizzle,Aa=Sizzle.matchesSelector),ca.selection=function(){return ca.select(ha.documentElement)};var Oa=ca.selection.prototype=[];Oa.select=function(t){var e,n,r,o,i=[];t=A(t);for(var a=-1,s=this.length;++a<s;){i.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var l=-1,u=r.length;++l<u;)(o=r[l])?(e.push(n=t.call(o,o.__data__,l,a)),n&&"__data__"in o&&(n.__data__=o.__data__)):e.push(null)}return M(i)},Oa.selectAll=function(t){var e,n,r=[];t=O(t);for(var o=-1,i=this.length;++o<i;)for(var a=this[o],s=-1,l=a.length;++s<l;)(n=a[s])&&(r.push(e=pa(t.call(n,n.__data__,s,o))),e.parentNode=n);return M(r)};var Da="http://www.w3.org/1999/xhtml",La={svg:"http://www.w3.org/2000/svg",xhtml:Da,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ca.ns={prefix:La,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),La.hasOwnProperty(n)?{space:La[n],local:t}:t}},Oa.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=ca.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(D(e,t[e]));return this}return this.each(D(t,e))},Oa.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=j(t)).length,o=-1;if(e=n.classList){for(;++o<r;)if(!e.contains(t[o]))return!1}else for(e=n.getAttribute("class");++o<r;)if(!I(t[o]).test(e))return!1;return!0}for(e in t)this.each(F(e,t[e]));return this}return this.each(F(t,e))},Oa.style=function(t,e,n){var o=arguments.length;if(o<3){if("string"!=typeof t){o<2&&(e="");for(n in t)this.each(N(n,t[n],e));return this}if(o<2){var i=this.node();return r(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(N(t,e,n))},Oa.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(z(e,t[e]));return this}return this.each(z(t,e))},Oa.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Oa.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Oa.append=function(t){return t=B(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Oa.insert=function(t,e){return t=B(t),e=A(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Oa.remove=function(){return this.each(U)},Oa.data=function(t,e){function n(t,n){var r,o,i,a=t.length,c=n.length,p=Math.min(a,c),h=new Array(c),d=new Array(c),m=new Array(a);if(e){var y,v=new f,g=new Array(a);for(r=-1;++r<a;)(o=t[r])&&(v.has(y=e.call(o,o.__data__,r))?m[r]=o:v.set(y,o),g[r]=y);for(r=-1;++r<c;)(o=v.get(y=e.call(n,i=n[r],r)))?o!==!0&&(h[r]=o,o.__data__=i):d[r]=W(i),v.set(y,!0);for(r=-1;++r<a;)r in g&&v.get(g[r])!==!0&&(m[r]=t[r])}else{for(r=-1;++r<p;)o=t[r],i=n[r],o?(o.__data__=i,h[r]=o):d[r]=W(i);for(;r<c;++r)d[r]=W(n[r]);for(;r<a;++r)m[r]=t[r]}d.update=h,d.parentNode=h.parentNode=m.parentNode=t.parentNode,s.push(d),l.push(h),u.push(m)}var r,o,i=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++i<a;)(o=r[i])&&(t[i]=o.__data__);return t}var s=G([]),l=M([]),u=M([]);if("function"==typeof t)for(;++i<a;)n(r=this[i],t.call(r,r.parentNode.__data__,i));else for(;++i<a;)n(r=this[i],t);return l.enter=function(){return s},l.exit=function(){return u},l},Oa.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Oa.filter=function(t){var e,n,r,o=[];"function"!=typeof t&&(t=q(t));for(var i=0,a=this.length;i<a;i++){o.push(e=[]),e.parentNode=(n=this[i]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,i)&&e.push(r)}return M(o)},Oa.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],o=r.length-1,i=r[o];--o>=0;)(n=r[o])&&(i&&i!==n.nextSibling&&i.parentNode.insertBefore(n,i),i=n);return this},Oa.sort=function(t){t=V.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Oa.each=function(t){return H(this,function(e,n,r){t.call(e,e.__data__,n,r)})},Oa.call=function(t){var e=pa(arguments);return t.apply(e[0]=this,e),this},Oa.empty=function(){return!this.node()},Oa.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,o=n.length;r<o;r++){var i=n[r];if(i)return i}return null},Oa.size=function(){var t=0;return H(this,function(){++t}),t};var Ia=[];ca.selection.enter=G,ca.selection.enter.prototype=Ia,Ia.append=Oa.append,Ia.empty=Oa.empty,Ia.node=Oa.node,Ia.call=Oa.call,Ia.size=Oa.size,Ia.select=function(t){for(var e,n,r,o,i,a=[],s=-1,l=this.length;++s<l;){r=(o=this[s]).update,a.push(e=[]),e.parentNode=o.parentNode;for(var u=-1,c=o.length;++u<c;)(i=o[u])?(e.push(r[u]=n=t.call(o.parentNode,i.__data__,u,s)),n.__data__=i.__data__):e.push(null)}return M(a)},Ia.insert=function(t,e){return arguments.length<2&&(e=Y(this)),Oa.insert.call(this,t,e)},ca.select=function(t){var n;return"string"==typeof t?(n=[Pa(t,ha)],n.parentNode=ha.documentElement):(n=[t],n.parentNode=e(t)),M([n])},ca.selectAll=function(t){var e;return"string"==typeof t?(e=pa(Ma(t,ha)),e.parentNode=ha.documentElement):(e=pa(t),e.parentNode=null),M([e])},Oa.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e=!1);for(n in t)this.each(Z(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(Z(t,e,n))};var ja=ca.map({mouseenter:"mouseover",mouseleave:"mouseout"});ha&&ja.forEach(function(t){"on"+t in ha&&ja.remove(t)});var Fa,Ra=0;ca.mouse=function(t){return J(t,S())};var Na=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ca.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=S().changedTouches),e)for(var r,o=0,i=e.length;o<i;++o)if((r=e[o]).identifier===n)return J(t,r)},ca.behavior.drag=function(){function t(){this.on("mousedown.drag",i).on("touchstart.drag",a)}function e(t,e,r,i,a){return function(){function s(){var t,n,r=e(p,m);r&&(t=r[0]-b[0],n=r[1]-b[1],d|=t|n,b=r,h({type:"drag",x:r[0]+u[0],y:r[1]+u[1],dx:t,dy:n}))}function l(){e(p,m)&&(v.on(i+y,null).on(a+y,null),g(d),h({type:"dragend"}))}var u,c=this,f=ca.event.target.correspondingElement||ca.event.target,p=c.parentNode,h=n.of(c,arguments),d=0,m=t(),y=".drag"+(null==m?"":"-"+m),v=ca.select(r(f)).on(i+y,s).on(a+y,l),g=Q(f),b=e(p,m);o?(u=o.apply(c,arguments),u=[u.x-b[0],u.y-b[1]]):u=[0,0],h({type:"dragstart"})}}var n=P(t,"drag","dragstart","dragend"),o=null,i=e(T,ca.mouse,r,"mousemove","mouseup"),a=e($,ca.touch,_,"touchmove","touchend");return t.origin=function(e){return arguments.length?(o=e,t):o},ca.rebind(t,n,"on")},ca.touches=function(t,e){return arguments.length<2&&(e=S().touches),e?pa(e).map(function(e){var n=J(t,e);return n.identifier=e.identifier,n}):[]};var za=1e-6,Ba=za*za,Ua=Math.PI,Wa=2*Ua,qa=Wa-za,Va=Ua/2,Ha=Ua/180,Ga=180/Ua,Ya=Math.SQRT2,Za=2,Xa=4;ca.interpolateZoom=function(t,e){var n,r,o=t[0],i=t[1],a=t[2],s=e[0],l=e[1],u=e[2],c=s-o,f=l-i,p=c*c+f*f;if(p<Ba)r=Math.log(u/a)/Ya,n=function(t){return[o+t*c,i+t*f,a*Math.exp(Ya*t*r)]};else{var h=Math.sqrt(p),d=(u*u-a*a+Xa*p)/(2*a*Za*h),m=(u*u-a*a-Xa*p)/(2*u*Za*h),y=Math.log(Math.sqrt(d*d+1)-d),v=Math.log(Math.sqrt(m*m+1)-m);r=(v-y)/Ya,n=function(t){var e=t*r,n=it(y),s=a/(Za*h)*(n*at(Ya*e+y)-ot(y));return[o+s*c,i+s*f,a*n/it(Ya*e+y)]}}return n.duration=1e3*r,n},ca.behavior.zoom=function(){function t(t){t.on(O,f).on(Qa+".zoom",h).on("dblclick.zoom",d).on(I,p)}function e(t){return[(t[0]-E.x)/E.k,(t[1]-E.y)/E.k]}function n(t){return[t[0]*E.k+E.x,t[1]*E.k+E.y]}function o(t){E.k=Math.max(S[0],Math.min(S[1],t))}function i(t,e){e=n(e),E.x+=t[0]-e[0],E.y+=t[1]-e[1]}function a(e,n,r,a){e.__chart__={x:E.x,y:E.y,k:E.k},o(Math.pow(2,a)),i(y=n,r),e=ca.select(e),M>0&&(e=e.transition().duration(M)),e.call(t.event)}function s(){x&&x.domain(_.range().map(function(t){return(t-E.x)/E.k}).map(_.invert)),T&&T.domain(w.range().map(function(t){return(t-E.y)/E.k}).map(w.invert))}function l(t){A++||t({type:"zoomstart"})}function u(t){s(),t({type:"zoom",scale:E.k,translate:[E.x,E.y]})}function c(t){--A||(t({type:"zoomend"}),y=null)}function f(){function t(){s=1,i(ca.mouse(o),p),u(a)}function n(){f.on(D,null).on(L,null),h(s),c(a)}var o=this,a=j.of(o,arguments),s=0,f=ca.select(r(o)).on(D,t).on(L,n),p=e(ca.mouse(o)),h=Q(o);Vl.call(o),l(a)}function p(){function t(){var t=ca.touches(d);return h=E.k,t.forEach(function(t){t.identifier in y&&(y[t.identifier]=e(t))}),t}function n(){var e=ca.event.target;ca.select(e).on(_,r).on(x,s),w.push(e);for(var n=ca.event.changedTouches,o=0,i=n.length;o<i;++o)y[n[o].identifier]=null;var l=t(),u=Date.now();if(1===l.length){if(u-b<500){var c=l[0];a(d,c,y[c.identifier],Math.floor(Math.log(E.k)/Math.LN2)+1),k()}b=u}else if(l.length>1){var c=l[0],f=l[1],p=c[0]-f[0],h=c[1]-f[1];v=p*p+h*h}}function r(){var t,e,n,r,a=ca.touches(d);Vl.call(d);for(var s=0,l=a.length;s<l;++s,r=null)if(n=a[s],r=y[n.identifier]){if(e)break;t=n,e=r}if(r){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,f=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+r[0])/2,(e[1]+r[1])/2],o(f*h)}b=null,i(t,e),u(m)}function s(){if(ca.event.touches.length){for(var e=ca.event.changedTouches,n=0,r=e.length;n<r;++n)delete y[e[n].identifier];for(var o in y)return void t()}ca.selectAll(w).on(g,null),T.on(O,f).on(I,p),C(),c(m)}var h,d=this,m=j.of(d,arguments),y={},v=0,g=".zoom-"+ca.event.changedTouches[0].identifier,_="touchmove"+g,x="touchend"+g,w=[],T=ca.select(d),C=Q(d);n(),l(m),T.on(O,null).on(I,n)}function h(){var t=j.of(this,arguments);g?clearTimeout(g):(Vl.call(this),m=e(y=v||ca.mouse(this)),l(t)),g=setTimeout(function(){g=null,c(t)},50),k(),o(Math.pow(2,.002*Ka())*E.k),i(y,m),u(t)}function d(){var t=ca.mouse(this),n=Math.log(E.k)/Math.LN2;a(this,t,e(t),ca.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var m,y,v,g,b,_,x,w,T,E={x:0,y:0,k:1},C=[960,500],S=Ja,M=250,A=0,O="mousedown.zoom",D="mousemove.zoom",L="mouseup.zoom",I="touchstart.zoom",j=P(t,"zoomstart","zoom","zoomend");return Qa||(Qa="onwheel"in ha?(Ka=function(){return-ca.event.deltaY*(ca.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ha?(Ka=function(){return ca.event.wheelDelta},"mousewheel"):(Ka=function(){return-ca.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=j.of(this,arguments),e=E;Wl?ca.select(this).transition().each("start.zoom",function(){E=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var n=C[0],r=C[1],o=y?y[0]:n/2,i=y?y[1]:r/2,a=ca.interpolateZoom([(o-E.x)/E.k,(i-E.y)/E.k,n/E.k],[(o-e.x)/e.k,(i-e.y)/e.k,n/e.k]);return function(e){var r=a(e),s=n/r[2];this.__chart__=E={x:o-r[0]*s,y:i-r[1]*s,k:s},u(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=E,l(t),u(t),c(t))})},t.translate=function(e){return arguments.length?(E={x:+e[0],y:+e[1],k:E.k},s(),t):[E.x,E.y]},t.scale=function(e){return arguments.length?(E={x:E.x,y:E.y,k:null},o(+e),s(),t):E.k},t.scaleExtent=function(e){return arguments.length?(S=null==e?Ja:[+e[0],+e[1]],t):S},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(C=e&&[+e[0],+e[1]],t):C},t.duration=function(e){return arguments.length?(M=+e,t):M},t.x=function(e){return arguments.length?(x=e,_=e.copy(),E={x:0,y:0,k:1},t):x},t.y=function(e){return arguments.length?(T=e,w=e.copy(),E={x:0,y:0,k:1},t):T},ca.rebind(t,j,"on")};var Ka,Qa,Ja=[0,1/0];ca.color=lt,lt.prototype.toString=function(){return this.rgb()+""},ca.hsl=ut;var $a=ut.prototype=new lt;$a.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new ut(this.h,this.s,this.l/t)},$a.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ut(this.h,this.s,t*this.l)},$a.rgb=function(){return ct(this.h,this.s,this.l)},ca.hcl=ft;var ts=ft.prototype=new lt;ts.brighter=function(t){return new ft(this.h,this.c,Math.min(100,this.l+es*(arguments.length?t:1)))},ts.darker=function(t){return new ft(this.h,this.c,Math.max(0,this.l-es*(arguments.length?t:1)))},ts.rgb=function(){return pt(this.h,this.c,this.l).rgb()},ca.lab=ht;var es=18,ns=.95047,rs=1,os=1.08883,is=ht.prototype=new lt;is.brighter=function(t){return new ht(Math.min(100,this.l+es*(arguments.length?t:1)),this.a,this.b)},is.darker=function(t){return new ht(Math.max(0,this.l-es*(arguments.length?t:1)),this.a,this.b)},is.rgb=function(){return dt(this.l,this.a,this.b)},ca.rgb=bt;var as=bt.prototype=new lt;as.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,o=30;return e||n||r?(e&&e<o&&(e=o),n&&n<o&&(n=o),r&&r<o&&(r=o),new bt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new bt(o,o,o)},as.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new bt(t*this.r,t*this.g,t*this.b)},as.hsl=function(){return Et(this.r,this.g,this.b)},as.toString=function(){return"#"+wt(this.r)+wt(this.g)+wt(this.b)};var ss=ca.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ss.forEach(function(t,e){ss.set(t,_t(e))}),ca.functor=Pt,ca.xhr=Mt(_),ca.dsv=function(t,e){function n(t,n,i){arguments.length<3&&(i=n,n=null);var a=At(t,e,null==n?r:o(n),i);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:o(t)):n},a}function r(t){return n.parse(t.responseText)}function o(t){return function(e){return n.parse(e.responseText,t)}}function i(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var o=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(o(t),n)}:o})},n.parseRows=function(t,e){function n(){if(c>=u)return a;if(o)return o=!1,i;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(o=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(o=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<u;){var r=t.charCodeAt(c++),s=1;if(10===r)o=!0;else if(13===r)o=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==l)continue;return t.slice(e,c-s)}return t.slice(e)}for(var r,o,i={},a={},s=[],u=t.length,c=0,f=0;(r=n())!==a;){for(var p=[];r!==i&&r!==a;)p.push(r),r=n();e&&null==(p=e(p,f++))||s.push(p)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new b,o=[];return e.forEach(function(t){for(var e in t)r.has(e)||o.push(r.add(e))}),[o.map(a).join(t)].concat(e.map(function(e){return o.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(i).join("\n")},n},ca.csv=ca.dsv(",","text/csv"),ca.tsv=ca.dsv("\t","text/tab-separated-values");var ls,us,cs,fs,ps=this[w(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ca.timer=function(){Lt.apply(this,arguments)},ca.timer.flush=function(){jt(),Ft()},ca.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var hs=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Nt);ca.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=ca.round(t,Rt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),hs[8+n/3]};var ds=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ms=ca.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ca.round(t,Rt(t,e))).toFixed(Math.max(0,Math.min(20,Rt(t*(1+1e-15),e))))}}),ys=ca.time={},vs=Date;Ut.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){gs.setUTCDate.apply(this._,arguments)},setDay:function(){gs.setUTCDay.apply(this._,arguments)},setFullYear:function(){gs.setUTCFullYear.apply(this._,arguments)},setHours:function(){gs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){gs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){gs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){gs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){gs.setUTCSeconds.apply(this._,arguments)},setTime:function(){gs.setTime.apply(this._,arguments)}};var gs=Date.prototype;ys.year=Wt(function(t){return t=ys.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ys.years=ys.year.range,ys.years.utc=ys.year.utc.range,ys.day=Wt(function(t){var e=new vs(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ys.days=ys.day.range,ys.days.utc=ys.day.utc.range,ys.dayOfYear=function(t){var e=ys.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){
e=7-e;var n=ys[t]=Wt(function(t){return(t=ys.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ys.year(t).getDay();return Math.floor((ys.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ys[t+"s"]=n.range,ys[t+"s"].utc=n.utc.range,ys[t+"OfYear"]=function(t){var n=ys.year(t).getDay();return Math.floor((ys.dayOfYear(t)+(n+e)%7)/7)}}),ys.week=ys.sunday,ys.weeks=ys.sunday.range,ys.weeks.utc=ys.sunday.utc.range,ys.weekOfYear=ys.sundayOfYear;var bs={"-":"",_:" ",0:"0"},_s=/^\s*\d+/,xs=/^%/;ca.locale=function(t){return{numberFormat:zt(t),timeFormat:Vt(t)}};var ws=ca.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ca.format=ws.numberFormat,ca.geo={},fe.prototype={s:0,t:0,add:function(t){pe(t,this.t,Ts),pe(Ts.s,this.s,this),this.s?this.t+=Ts.t:this.s=Ts.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Ts=new fe;ca.geo.stream=function(t,e){t&&Es.hasOwnProperty(t.type)?Es[t.type](t,e):he(t,e)};var Es={Feature:function(t,e){he(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)he(n[r].geometry,e)}},Cs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){de(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)de(n[r],e,0)},Polygon:function(t,e){me(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)me(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)he(n[r],e)}};ca.geo.area=function(t){return ks=0,ca.geo.stream(t,Ps),ks};var ks,Ss=new fe,Ps={sphere:function(){ks+=4*Ua},point:T,lineStart:T,lineEnd:T,polygonStart:function(){Ss.reset(),Ps.lineStart=ye},polygonEnd:function(){var t=2*Ss;ks+=t<0?4*Ua+t:t,Ps.lineStart=Ps.lineEnd=Ps.point=T}};ca.geo.bounds=function(){function t(t,e){b.push(_=[c=t,p=t]),e<f&&(f=e),e>h&&(h=e)}function e(e,n){var r=ve([e*Ha,n*Ha]);if(v){var o=be(v,r),i=[o[1],-o[0],0],a=be(i,o);we(a),a=Te(a);var l=e-d,u=l>0?1:-1,m=a[0]*Ga*u,y=wa(l)>180;if(y^(u*d<m&&m<u*e)){var g=a[1]*Ga;g>h&&(h=g)}else if(m=(m+360)%360-180,y^(u*d<m&&m<u*e)){var g=-a[1]*Ga;g<f&&(f=g)}else n<f&&(f=n),n>h&&(h=n);y?e<d?s(c,e)>s(c,p)&&(p=e):s(e,p)>s(c,p)&&(c=e):p>=c?(e<c&&(c=e),e>p&&(p=e)):e>d?s(c,e)>s(c,p)&&(p=e):s(e,p)>s(c,p)&&(c=e)}else t(e,n);v=r,d=e}function n(){x.point=e}function r(){_[0]=c,_[1]=p,x.point=t,v=null}function o(t,n){if(v){var r=t-d;g+=wa(r)>180?r+(r>0?360:-360):r}else m=t,y=n;Ps.point(t,n),e(t,n)}function i(){Ps.lineStart()}function a(){o(m,y),Ps.lineEnd(),wa(g)>za&&(c=-(p=180)),_[0]=c,_[1]=p,v=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,f,p,h,d,m,y,v,g,b,_,x={point:t,lineStart:n,lineEnd:r,polygonStart:function(){x.point=o,x.lineStart=i,x.lineEnd=a,g=0,Ps.polygonStart()},polygonEnd:function(){Ps.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=r,Ss<0?(c=-(p=180),f=-(h=90)):g>za?h=90:g<-za&&(f=-90),_[0]=c,_[1]=p}};return function(t){h=p=-(c=f=1/0),b=[],ca.geo.stream(t,x);var e=b.length;if(e){b.sort(l);for(var n,r=1,o=b[0],i=[o];r<e;++r)n=b[r],u(n[0],o)||u(n[1],o)?(s(o[0],n[1])>s(o[0],o[1])&&(o[1]=n[1]),s(n[0],o[1])>s(o[0],o[1])&&(o[0]=n[0])):i.push(o=n);for(var a,n,d=-(1/0),e=i.length-1,r=0,o=i[e];r<=e;o=n,++r)n=i[r],(a=s(o[1],n[0]))>d&&(d=a,c=n[0],p=o[1])}return b=_=null,c===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,f],[p,h]]}}(),ca.geo.centroid=function(t){Ms=As=Os=Ds=Ls=Is=js=Fs=Rs=Ns=zs=0,ca.geo.stream(t,Bs);var e=Rs,n=Ns,r=zs,o=e*e+n*n+r*r;return o<Ba&&(e=Is,n=js,r=Fs,As<za&&(e=Os,n=Ds,r=Ls),o=e*e+n*n+r*r,o<Ba)?[NaN,NaN]:[Math.atan2(n,e)*Ga,rt(r/Math.sqrt(o))*Ga]};var Ms,As,Os,Ds,Ls,Is,js,Fs,Rs,Ns,zs,Bs={sphere:T,point:Ce,lineStart:Se,lineEnd:Pe,polygonStart:function(){Bs.lineStart=Me},polygonEnd:function(){Bs.lineStart=Se}},Us=je(Oe,ze,Ue,[-Ua,-Ua/2]),Ws=1e9;ca.geo.clipExtent=function(){var t,e,n,r,o,i,a={stream:function(t){return o&&(o.valid=!1),o=i(t),o.valid=!0,o},extent:function(s){return arguments.length?(i=He(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),o&&(o.valid=!1,o=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(ca.geo.conicEqualArea=function(){return Ge(Ye)}).raw=Ye,ca.geo.albers=function(){return ca.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ca.geo.albersUsa=function(){function t(t){var i=t[0],a=t[1];return e=null,n(i,a),e||(r(i,a),e)||o(i,a),e}var e,n,r,o,i=ca.geo.albers(),a=ca.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ca.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?a:o>=.166&&o<.234&&r>=-.214&&r<-.115?s:i).invert(t)},t.stream=function(t){var e=i.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,o){e.point(t,o),n.point(t,o),r.point(t,o)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(i.precision(e),a.precision(e),s.precision(e),t):i.precision()},t.scale=function(e){return arguments.length?(i.scale(e),a.scale(.35*e),s.scale(e),t.translate(i.translate())):i.scale()},t.translate=function(e){if(!arguments.length)return i.translate();var u=i.scale(),c=+e[0],f=+e[1];return n=i.translate(e).clipExtent([[c-.455*u,f-.238*u],[c+.455*u,f+.238*u]]).stream(l).point,r=a.translate([c-.307*u,f+.201*u]).clipExtent([[c-.425*u+za,f+.12*u+za],[c-.214*u-za,f+.234*u-za]]).stream(l).point,o=s.translate([c-.205*u,f+.212*u]).clipExtent([[c-.214*u+za,f+.166*u+za],[c-.115*u-za,f+.234*u-za]]).stream(l).point,t},t.scale(1070)};var qs,Vs,Hs,Gs,Ys,Zs,Xs={point:T,lineStart:T,lineEnd:T,polygonStart:function(){Vs=0,Xs.lineStart=Ze},polygonEnd:function(){Xs.lineStart=Xs.lineEnd=Xs.point=T,qs+=wa(Vs/2)}},Ks={point:Xe,lineStart:T,lineEnd:T,polygonStart:T,polygonEnd:T},Qs={point:Je,lineStart:$e,lineEnd:tn,polygonStart:function(){Qs.lineStart=en},polygonEnd:function(){Qs.point=Je,Qs.lineStart=$e,Qs.lineEnd=tn}};ca.geo.path=function(){function t(t){return t&&("function"==typeof s&&i.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=o(i)),ca.geo.stream(t,a)),i.result()}function e(){return a=null,t}var n,r,o,i,a,s=4.5;return t.area=function(t){return qs=0,ca.geo.stream(t,o(Xs)),qs},t.centroid=function(t){return Os=Ds=Ls=Is=js=Fs=Rs=Ns=zs=0,ca.geo.stream(t,o(Qs)),zs?[Rs/zs,Ns/zs]:Fs?[Is/Fs,js/Fs]:Ls?[Os/Ls,Ds/Ls]:[NaN,NaN]},t.bounds=function(t){return Ys=Zs=-(Hs=Gs=1/0),ca.geo.stream(t,o(Ks)),[[Hs,Gs],[Ys,Zs]]},t.projection=function(t){return arguments.length?(o=(n=t)?t.stream||on(t):_,e()):n},t.context=function(t){return arguments.length?(i=null==(r=t)?new Ke:new nn(t),"function"!=typeof s&&i.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(i.pointRadius(+e),+e),t):s},t.projection(ca.geo.albersUsa()).context(null)},ca.geo.transform=function(t){return{stream:function(e){var n=new an(e);for(var r in t)n[r]=t[r];return n}}},an.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ca.geo.projection=ln,ca.geo.projectionMutator=un,(ca.geo.equirectangular=function(){return ln(fn)}).raw=fn.invert=fn,ca.geo.rotation=function(t){function e(e){return e=t(e[0]*Ha,e[1]*Ha),e[0]*=Ga,e[1]*=Ga,e}return t=hn(t[0]%360*Ha,t[1]*Ha,t.length>2?t[2]*Ha:0),e.invert=function(e){return e=t.invert(e[0]*Ha,e[1]*Ha),e[0]*=Ga,e[1]*=Ga,e},e},pn.invert=fn,ca.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=hn(-t[0]*Ha,-t[1]*Ha,0).invert,o=[];return n(null,null,1,{point:function(t,n){o.push(t=e(t,n)),t[0]*=Ga,t[1]*=Ga}}),{type:"Polygon",coordinates:[o]}}var e,n,r=[0,0],o=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=vn((e=+r)*Ha,o*Ha),t):e},t.precision=function(r){return arguments.length?(n=vn(e*Ha,(o=+r)*Ha),t):o},t.angle(90)},ca.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Ha,o=t[1]*Ha,i=e[1]*Ha,a=Math.sin(r),s=Math.cos(r),l=Math.sin(o),u=Math.cos(o),c=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((n=f*a)*n+(n=u*c-l*f*s)*n),l*c+u*f*s)},ca.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return ca.range(Math.ceil(i/y)*y,o,y).map(p).concat(ca.range(Math.ceil(u/v)*v,l,v).map(h)).concat(ca.range(Math.ceil(r/d)*d,n,d).filter(function(t){return wa(t%y)>za}).map(c)).concat(ca.range(Math.ceil(s/m)*m,a,m).filter(function(t){return wa(t%v)>za}).map(f))}var n,r,o,i,a,s,l,u,c,f,p,h,d=10,m=d,y=90,v=360,g=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[p(i).concat(h(l).slice(1),p(o).reverse().slice(1),h(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(i=+e[0][0],o=+e[1][0],u=+e[0][1],l=+e[1][1],i>o&&(e=i,i=o,o=e),u>l&&(e=u,u=l,l=e),t.precision(g)):[[i,u],[o,l]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(g)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(y=+e[0],v=+e[1],t):[y,v]},t.minorStep=function(e){return arguments.length?(d=+e[0],m=+e[1],t):[d,m]},t.precision=function(e){return arguments.length?(g=+e,c=bn(s,a,90),f=_n(r,n,g),p=bn(u,l,90),h=_n(i,o,g),t):g},t.majorExtent([[-180,-90+za],[180,90-za]]).minorExtent([[-180,-80-za],[180,80+za]])},ca.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||o.apply(this,arguments)]}}var e,n,r=xn,o=wn;return t.distance=function(){return ca.geo.distance(e||r.apply(this,arguments),n||o.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(o=e,n="function"==typeof e?null:e,t):o},t.precision=function(){return arguments.length?t:0},t},ca.geo.interpolate=function(t,e){return Tn(t[0]*Ha,t[1]*Ha,e[0]*Ha,e[1]*Ha)},ca.geo.length=function(t){return Js=0,ca.geo.stream(t,$s),Js};var Js,$s={sphere:T,point:T,lineStart:En,lineEnd:T,polygonStart:T,polygonEnd:T},tl=Cn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ca.geo.azimuthalEqualArea=function(){return ln(tl)}).raw=tl;var el=Cn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},_);(ca.geo.azimuthalEquidistant=function(){return ln(el)}).raw=el,(ca.geo.conicConformal=function(){return Ge(kn)}).raw=kn,(ca.geo.conicEquidistant=function(){return Ge(Sn)}).raw=Sn;var nl=Cn(function(t){return 1/t},Math.atan);(ca.geo.gnomonic=function(){return ln(nl)}).raw=nl,Pn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Va]},(ca.geo.mercator=function(){return Mn(Pn)}).raw=Pn;var rl=Cn(function(){return 1},Math.asin);(ca.geo.orthographic=function(){return ln(rl)}).raw=rl;var ol=Cn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ca.geo.stereographic=function(){return ln(ol)}).raw=ol,An.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Va]},(ca.geo.transverseMercator=function(){var t=Mn(An),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=An,ca.geom={},ca.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,o=Pt(n),i=Pt(r),a=t.length,s=[],l=[];for(e=0;e<a;e++)s.push([+o.call(this,t[e],e),+i.call(this,t[e],e),e]);for(s.sort(In),e=0;e<a;e++)l.push([s[e][0],-s[e][1]]);var u=Ln(s),c=Ln(l),f=c[0]===u[0],p=c[c.length-1]===u[u.length-1],h=[];for(e=u.length-1;e>=0;--e)h.push(t[s[u[e]][2]]);for(e=+f;e<c.length-p;++e)h.push(t[s[c[e]][2]]);return h}var n=On,r=Dn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},ca.geom.polygon=function(t){return Sa(t,il),t};var il=ca.geom.polygon.prototype=[];il.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],o=0;++e<n;)t=r,r=this[e],o+=t[1]*r[0]-t[0]*r[1];return.5*o},il.centroid=function(t){var e,n,r=-1,o=this.length,i=0,a=0,s=this[o-1];for(arguments.length||(t=-1/(6*this.area()));++r<o;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],i+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[i*t,a*t]},il.clip=function(t){for(var e,n,r,o,i,a,s=Rn(t),l=-1,u=this.length-Rn(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,o=this[l],i=e[(r=e.length-s)-1],n=-1;++n<r;)a=e[n],jn(a,c,o)?(jn(i,c,o)||t.push(Fn(i,a,c,o)),t.push(a)):jn(i,c,o)&&t.push(Fn(i,a,c,o)),i=a;s&&t.push(t[0]),c=o}return t};var al,sl,ll,ul,cl,fl=[],pl=[];Hn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Yn),e.length},rr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},or.prototype={insert:function(t,e){var n,r,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=lr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(o=r.R,o&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.R&&(ar(this,n),t=n,n=t.U),n.C=!1,r.C=!0,sr(this,r))):(o=r.L,o&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.L&&(sr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ar(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,o=t.U,i=t.L,a=t.R;if(n=i?a?lr(a):i:a,o?o.L===t?o.L=n:o.R=n:this._=n,i&&a?(r=n.C,n.C=t.C,n.L=i,i.U=n,n!==a?(o=n.U,n.U=t.U,t=n.R,o.L=t,n.R=a,a.U=n):(n.U=o,o=n,t=n.R)):(r=t.C,t=n),t&&(t.U=o),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===o.L){if(e=o.R,e.C&&(e.C=!1,o.C=!0,ar(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,sr(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,ar(this,o),t=this._;break}}else if(e=o.L,e.C&&(e.C=!1,o.C=!0,sr(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ar(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,sr(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}},ca.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],o=s[0][1],i=s[1][0],a=s[1][1];return ur(n(t),s).cells.forEach(function(n,s){var l=n.edges,u=n.site,c=e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=r&&u.x<=i&&u.y>=o&&u.y<=a?[[r,a],[i,a],[i,o],[r,o]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(i(t,e)/za)*za,y:Math.round(a(t,e)/za)*za,i:e}})}var r=On,o=Dn,i=r,a=o,s=hl;return t?e(t):(e.links=function(t){return ur(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return ur(n(t)).cells.forEach(function(n,r){for(var o,i,a=n.site,s=n.edges.sort(Yn),l=-1,u=s.length,c=s[u-1].edge,f=c.l===a?c.r:c.l;++l<u;)o=c,i=f,c=s[l].edge,f=c.l===a?c.r:c.l,r<i.i&&r<f.i&&fr(a,i,f)<0&&e.push([t[r],t[i.i],t[f.i]])}),e},e.x=function(t){return arguments.length?(i=Pt(r=t),e):r},e.y=function(t){return arguments.length?(a=Pt(o=t),e):o},e.clipExtent=function(t){return arguments.length?(s=null==t?hl:t,e):s===hl?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===hl?null:s&&s[1]},e)};var hl=[[-1e6,-1e6],[1e6,1e6]];ca.geom.delaunay=function(t){return ca.geom.voronoi().triangles(t)},ca.geom.quadtree=function(t,e,n,r,o){function i(t){function i(t,e,n,r,o,i,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(wa(l-n)+wa(c-r)<.01)u(t,e,n,r,o,i,a,s);else{var f=t.point;t.x=t.y=t.point=null,u(t,f,l,c,o,i,a,s),u(t,e,n,r,o,i,a,s)}else t.x=n,t.y=r,t.point=e}else u(t,e,n,r,o,i,a,s)}function u(t,e,n,r,o,a,s,l){var u=.5*(o+s),c=.5*(a+l),f=n>=u,p=r>=c,h=p<<1|f;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]=dr()),f?o=u:s=u,p?a=c:l=c,i(t,e,n,r,o,a,s,l)}var c,f,p,h,d,m,y,v,g,b=Pt(s),_=Pt(l);if(null!=e)m=e,y=n,v=r,g=o;else if(v=g=-(m=y=1/0),f=[],p=[],d=t.length,a)for(h=0;h<d;++h)c=t[h],c.x<m&&(m=c.x),c.y<y&&(y=c.y),c.x>v&&(v=c.x),c.y>g&&(g=c.y),f.push(c.x),p.push(c.y);else for(h=0;h<d;++h){var x=+b(c=t[h],h),w=+_(c,h);x<m&&(m=x),w<y&&(y=w),x>v&&(v=x),w>g&&(g=w),f.push(x),p.push(w)}var T=v-m,E=g-y;T>E?g=y+T:v=m+E;var C=dr();if(C.add=function(t){i(C,t,+b(t,++h),+_(t,h),m,y,v,g)},C.visit=function(t){mr(t,C,m,y,v,g)},C.find=function(t){return yr(C,t[0],t[1],m,y,v,g)},h=-1,null==e){for(;++h<d;)i(C,t[h],f[h],p[h],m,y,v,g);--h}else t.forEach(C.add);return f=p=t=c=null,C}var a,s=On,l=Dn;return(a=arguments.length)?(s=pr,l=hr,3===a&&(o=n,r=e,n=e=0),i(t)):(i.x=function(t){return arguments.length?(s=t,i):s},i.y=function(t){return arguments.length?(l=t,i):l},i.extent=function(t){return arguments.length?(null==t?e=n=r=o=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],o=+t[1][1]),i):null==e?null:[[e,n],[r,o]]},i.size=function(t){return arguments.length?(null==t?e=n=r=o=null:(e=n=0,r=+t[0],o=+t[1]),i):null==e?null:[r-e,o-n]},i)},ca.interpolateRgb=vr,ca.interpolateObject=gr,ca.interpolateNumber=br,ca.interpolateString=_r;var dl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ml=new RegExp(dl.source,"g");ca.interpolate=xr,ca.interpolators=[function(t,e){var n=typeof e;return("string"===n?ss.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?vr:_r:e instanceof lt?vr:Array.isArray(e)?wr:"object"===n&&isNaN(e)?gr:br)(t,e)}],ca.interpolateArray=wr;var yl=function(){return _},vl=ca.map({linear:yl,poly:Mr,quad:function(){return kr},cubic:function(){return Sr},sin:function(){return Ar},exp:function(){return Or},circle:function(){return Dr},elastic:Lr,back:Ir,bounce:function(){return jr}}),gl=ca.map({"in":_,out:Er,"in-out":Cr,"out-in":function(t){return Cr(Er(t))}});ca.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=vl.get(n)||yl,r=gl.get(r)||_,Tr(r(n.apply(null,fa.call(arguments,1))))},ca.interpolateHcl=Fr,ca.interpolateHsl=Rr,ca.interpolateLab=Nr,ca.interpolateRound=zr,ca.transform=function(t){var e=ha.createElementNS(ca.ns.prefix.svg,"g");return(ca.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Br(n?n.matrix:bl)})(t)},Br.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var bl={a:1,b:0,c:0,d:1,e:0,f:0};ca.interpolateTransform=Xr,ca.layout={},ca.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Jr(t[n]));return e}},ca.layout.chord=function(){function t(){var t,u,f,p,h,d={},m=[],y=ca.range(i),v=[];for(n=[],r=[],t=0,p=-1;++p<i;){for(u=0,h=-1;++h<i;)u+=o[p][h];m.push(u),v.push(ca.range(i)),t+=u}for(a&&y.sort(function(t,e){return a(m[t],m[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(o[e][t],o[e][n])})}),t=(Wa-c*i)/t,u=0,p=-1;++p<i;){for(f=u,h=-1;++h<i;){var g=y[p],b=v[g][h],_=o[g][b],x=u,w=u+=_*t;d[g+"-"+b]={index:g,subindex:b,startAngle:x,endAngle:w,value:_}}r[g]={index:g,startAngle:f,endAngle:u,value:m[g]},u+=c}for(p=-1;++p<i;)for(h=p-1;++h<i;){var T=d[p+"-"+h],E=d[h+"-"+p];(T.value||E.value)&&n.push(T.value<E.value?{source:E,target:T}:{source:T,target:E})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,o,i,a,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(i=(o=t)&&o.length,n=r=null,u):o},u.padding=function(t){return arguments.length?(c=t,n=r=null,u):c},u.sortGroups=function(t){return arguments.length?(a=t,n=r=null,u):a},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return r||t(),r},u},ca.layout.force=function(){function t(t){return function(e,n,r,o){if(e.point!==t){var i=e.cx-t.x,a=e.cy-t.y,s=o-n,l=i*i+a*a;if(s*s/v<l){if(l<m){var u=e.charge/l;t.px-=i*u,t.py-=a*u}return!0}if(e.point&&l&&l<m){var u=e.pointCharge/l;t.px-=i*u,t.py-=a*u}}return!e.charge}}function e(t){t.px=ca.event.x,t.py=ca.event.y,l.resume()}var n,r,o,i,a,s,l={},u=ca.dispatch("start","tick","end"),c=[1,1],f=.9,p=_l,h=xl,d=-30,m=wl,y=.1,v=.64,g=[],b=[];return l.tick=function(){if((o*=.99)<.005)return n=null,u.end({type:"end",alpha:o=0}),!0;var e,r,l,p,h,m,v,_,x,w=g.length,T=b.length;for(r=0;r<T;++r)l=b[r],p=l.source,h=l.target,_=h.x-p.x,x=h.y-p.y,(m=_*_+x*x)&&(m=o*a[r]*((m=Math.sqrt(m))-i[r])/m,_*=m,x*=m,h.x-=_*(v=p.weight+h.weight?p.weight/(p.weight+h.weight):.5),h.y-=x*v,p.x+=_*(v=1-v),p.y+=x*v);if((v=o*y)&&(_=c[0]/2,x=c[1]/2,r=-1,v))for(;++r<w;)l=g[r],l.x+=(_-l.x)*v,l.y+=(x-l.y)*v;if(d)for(io(e=ca.geom.quadtree(g),o,s),r=-1;++r<w;)(l=g[r]).fixed||e.visit(t(l));for(r=-1;++r<w;)l=g[r],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*f,l.y-=(l.py-(l.py=l.y))*f);u.tick({type:"tick",alpha:o})},l.nodes=function(t){return arguments.length?(g=t,l):g},l.links=function(t){return arguments.length?(b=t,l):b},l.size=function(t){return arguments.length?(c=t,l):c},l.linkDistance=function(t){return arguments.length?(p="function"==typeof t?t:+t,l):p},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,l):h},l.friction=function(t){return arguments.length?(f=+t,l):f},l.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,l):d},l.chargeDistance=function(t){return arguments.length?(m=t*t,l):Math.sqrt(m)},l.gravity=function(t){return arguments.length?(y=+t,l):y},l.theta=function(t){return arguments.length?(v=t*t,l):Math.sqrt(v)},l.alpha=function(t){return arguments.length?(t=+t,o?t>0?o=t:(n.c=null,n.t=NaN,n=null,u.end({type:"end",alpha:o=0})):t>0&&(u.start({type:"start",alpha:o=t}),n=Lt(l.tick)),l):o},l.start=function(){function t(t,r){if(!n){for(n=new Array(o),l=0;l<o;++l)n[l]=[];for(l=0;l<u;++l){var i=b[l];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var a,s=n[e],l=-1,c=s.length;++l<c;)if(!isNaN(a=s[l][t]))return a;return Math.random()*r}var e,n,r,o=g.length,u=b.length,f=c[0],m=c[1];for(e=0;e<o;++e)(r=g[e]).index=e,r.weight=0;for(e=0;e<u;++e)r=b[e],"number"==typeof r.source&&(r.source=g[r.source]),"number"==typeof r.target&&(r.target=g[r.target]),++r.source.weight,++r.target.weight;for(e=0;e<o;++e)r=g[e],isNaN(r.x)&&(r.x=t("x",f)),isNaN(r.y)&&(r.y=t("y",m)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof p)for(e=0;e<u;++e)i[e]=+p.call(this,b[e],e);else for(e=0;e<u;++e)i[e]=p;if(a=[],"function"==typeof h)for(e=0;e<u;++e)a[e]=+h.call(this,b[e],e);else for(e=0;e<u;++e)a[e]=h;if(s=[],"function"==typeof d)for(e=0;e<o;++e)s[e]=+d.call(this,g[e],e);else for(e=0;e<o;++e)s[e]=d;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return r||(r=ca.behavior.drag().origin(_).on("dragstart.force",eo).on("drag.force",e).on("dragend.force",no)),arguments.length?void this.on("mouseover.force",ro).on("mouseout.force",oo).call(r):r},ca.rebind(l,u,"on")};var _l=20,xl=1,wl=1/0;ca.layout.hierarchy=function(){function t(o){var i,a=[o],s=[];for(o.depth=0;null!=(i=a.pop());)if(s.push(i),(u=n.call(t,i,i.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)a.push(c=u[l]),c.parent=i,c.depth=i.depth+1;r&&(i.value=0),i.children=u}else r&&(i.value=+r.call(t,i,i.depth)||0),delete i.children;return lo(o,function(t){var n,o;e&&(n=t.children)&&n.sort(e),r&&(o=t.parent)&&(o.value+=t.value)}),s}var e=fo,n=uo,r=co;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(so(e,function(t){t.children&&(t.value=0)}),lo(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},ca.layout.partition=function(){function t(e,n,r,o){var i=e.children;if(e.x=n,e.y=e.depth*o,e.dx=r,e.dy=o,i&&(a=i.length)){var a,s,l,u=-1;for(r=e.value?r/e.value:0;++u<a;)t(s=i[u],n,l=s.value*r,o),n+=l}}function e(t){var n=t.children,r=0;if(n&&(o=n.length))for(var o,i=-1;++i<o;)r=Math.max(r,e(n[i]));return 1+r}function n(n,i){var a=r.call(this,n,i);return t(a[0],0,o[0],o[1]/e(a[0])),a}var r=ca.layout.hierarchy(),o=[1,1];return n.size=function(t){return arguments.length?(o=t,n):o},ao(n,r)},ca.layout.pie=function(){function t(a){var s,l=a.length,u=a.map(function(n,r){return+e.call(t,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof o?o.apply(this,arguments):o)-c,p=Math.min(Math.abs(f)/l,+("function"==typeof i?i.apply(this,arguments):i)),h=p*(f<0?-1:1),d=ca.sum(u),m=d?(f-l*h)/d:0,y=ca.range(l),v=[];return null!=n&&y.sort(n===Tl?function(t,e){return u[e]-u[t]}:function(t,e){return n(a[t],a[e])}),y.forEach(function(t){v[t]={data:a[t],value:s=u[t],startAngle:c,endAngle:c+=s*m+h,padAngle:p}}),v}var e=Number,n=Tl,r=0,o=Wa,i=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(o=e,t):o},t.padAngle=function(e){return arguments.length?(i=e,t):i},t};var Tl={};ca.layout.stack=function(){function t(s,l){if(!(p=s.length))return s;var u=s.map(function(n,r){return e.call(t,n,r)}),c=u.map(function(e){return e.map(function(e,n){return[i.call(t,e,n),a.call(t,e,n)]})}),f=n.call(t,c,l);u=ca.permute(u,f),c=ca.permute(c,f);var p,h,d,m,y=r.call(t,c,l),v=u[0].length;for(d=0;d<v;++d)for(o.call(t,u[0][d],m=y[d],c[0][d][1]),h=1;h<p;++h)o.call(t,u[h][d],m+=c[h-1][d][1],c[h][d][1]);return s}var e=_,n=vo,r=go,o=yo,i=ho,a=mo;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:El.get(e)||vo,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:Cl.get(e)||go,t):r},t.x=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(o=e,t):o},t};var El=ca.map({"inside-out":function(t){var e,n,r=t.length,o=t.map(bo),i=t.map(_o),a=ca.range(r).sort(function(t,e){return o[t]-o[e]}),s=0,l=0,u=[],c=[];for(e=0;e<r;++e)n=a[e],s<l?(s+=i[n],u.push(n)):(l+=i[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return ca.range(t.length).reverse()},"default":vo}),Cl=ca.map({silhouette:function(t){var e,n,r,o=t.length,i=t[0].length,a=[],s=0,l=[];for(n=0;n<i;++n){for(e=0,r=0;e<o;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<i;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,r,o,i,a,s,l,u,c=t.length,f=t[0],p=f.length,h=[];for(h[0]=l=u=0,n=1;n<p;++n){for(e=0,o=0;e<c;++e)o+=t[e][n][1];for(e=0,i=0,s=f[n][0]-f[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;i+=a*t[e][n][1]}h[n]=l-=o?i/o*s:0,l<u&&(u=l)}for(n=0;n<p;++n)h[n]-=u;return h},expand:function(t){var e,n,r,o=t.length,i=t[0].length,a=1/o,s=[];for(n=0;n<i;++n){for(e=0,r=0;e<o;e++)r+=t[e][n][1];if(r)for(e=0;e<o;e++)t[e][n][1]/=r;else for(e=0;e<o;e++)t[e][n][1]=a}for(n=0;n<i;++n)s[n]=0;return s},zero:go});ca.layout.histogram=function(){function t(t,i){for(var a,s,l=[],u=t.map(n,this),c=r.call(this,u,i),f=o.call(this,c,u,i),i=-1,p=u.length,h=f.length-1,d=e?1:1/p;++i<h;)a=l[i]=[],a.dx=f[i+1]-(a.x=f[i]),a.y=0;if(h>0)for(i=-1;++i<p;)s=u[i],s>=c[0]&&s<=c[1]&&(a=l[ca.bisect(f,s,1,h)-1],a.y+=d,a.push(t[i]));return l}var e=!0,n=Number,r=Eo,o=wo;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=Pt(e),t):r},t.bins=function(e){return arguments.length?(o="number"==typeof e?function(t){return To(t,e)}:Pt(e),t):o},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},ca.layout.pack=function(){function t(t,i){var a=n.call(this,t,i),s=a[0],l=o[0],u=o[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,lo(s,function(t){t.r=+c(t.value)}),lo(s,Mo),r){var f=r*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;lo(s,function(t){t.r+=f}),lo(s,Mo),lo(s,function(t){t.r-=f})}return Do(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),a}var e,n=ca.layout.hierarchy().sort(Co),r=0,o=[1,1];return t.size=function(e){return arguments.length?(o=e,t):o},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},ao(t,n)},ca.layout.tree=function(){function t(t,o){var c=a.call(this,t,o),f=c[0],p=e(f);if(lo(p,n),p.parent.m=-p.z,so(p,r),u)so(f,i);else{var h=f,d=f,m=f;so(f,function(t){t.x<h.x&&(h=t),t.x>d.x&&(d=t),t.depth>m.depth&&(m=t)});var y=s(h,d)/2-h.x,v=l[0]/(d.x+s(d,h)/2+y),g=l[1]/(m.depth||1);so(f,function(t){t.x=(t.x+y)*v,t.y=t.depth*g})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var o,i=e.children,a=0,s=i.length;a<s;++a)r.push((i[a]=o={_:i[a],parent:e,children:(o=i[a].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=o);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){No(t);var i=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+s(t._,r._));t.parent.A=o(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var r,o=t,i=t,a=e,l=o.parent.children[0],u=o.m,c=i.m,f=a.m,p=l.m;a=Fo(a),o=jo(o),a&&o;)l=jo(l),i=Fo(i),i.a=t,r=a.z+f-o.z-u+s(a._,o._),r>0&&(Ro(zo(a,t,n),t,r),u+=r,c+=r),f+=a.m,u+=o.m,p+=l.m,c+=i.m;a&&!Fo(i)&&(i.t=a,i.m+=f-c),o&&!jo(l)&&(l.t=o,l.m+=u-p,n=t)}return n}function i(t){t.x*=l[0],t.y=t.depth*l[1]}var a=ca.layout.hierarchy().sort(null).value(null),s=Io,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(u=null==(l=e)?i:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:i,t):u?l:null},ao(t,a)},ca.layout.cluster=function(){function t(t,i){var a,s=e.call(this,t,i),l=s[0],u=0;lo(l,function(t){var e=t.children;e&&e.length?(t.x=Uo(e),t.y=Bo(e)):(t.x=a?u+=n(t,a):0,t.y=0,a=t)});var c=Wo(l),f=qo(l),p=c.x-n(c,f)/2,h=f.x+n(f,c)/2;return lo(l,o?function(t){t.x=(t.x-l.x)*r[0],t.y=(l.y-t.y)*r[1]}:function(t){t.x=(t.x-p)/(h-p)*r[0],t.y=(1-(l.y?t.y/l.y:1))*r[1]}),s}var e=ca.layout.hierarchy().sort(null).value(null),n=Io,r=[1,1],o=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(o=null==(r=e),t):o?null:r},t.nodeSize=function(e){return arguments.length?(o=null!=(r=e),t):o?r:null},ao(t,e)},ca.layout.treemap=function(){function t(t,e){for(var n,r,o=-1,i=t.length;++o<i;)r=(n=t[o]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function e(n){var i=n.children;
if(i&&i.length){var a,s,l,u=f(n),c=[],p=i.slice(),d=1/0,m="slice"===h?u.dx:"dice"===h?u.dy:"slice-dice"===h?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(p,u.dx*u.dy/n.value),c.area=0;(l=p.length)>0;)c.push(a=p[l-1]),c.area+=a.area,"squarify"!==h||(s=r(c,m))<=d?(p.pop(),d=s):(c.area-=c.pop().area,o(c,m,u,!1),m=Math.min(u.dx,u.dy),c.length=c.area=0,d=1/0);c.length&&(o(c,m,u,!0),c.length=c.area=0),i.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var i,a=f(e),s=r.slice(),l=[];for(t(s,a.dx*a.dy/e.value),l.area=0;i=s.pop();)l.push(i),l.area+=i.area,null!=i.z&&(o(l,i.z?a.dx:a.dy,a,!s.length),l.length=l.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,o=0,i=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<i&&(i=n),n>o&&(o=n));return r*=r,e*=e,r?Math.max(e*o*d/r,r/(e*i*d)):1/0}function o(t,e,n,r){var o,i=-1,a=t.length,s=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++i<a;)o=t[i],o.x=s,o.y=u,o.dy=c,s+=o.dx=Math.min(n.x+n.dx-s,c?l(o.area/c):0);o.z=!0,o.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++i<a;)o=t[i],o.x=s,o.y=u,o.dx=c,u+=o.dy=Math.min(n.y+n.dy-u,c?l(o.area/c):0);o.z=!1,o.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function i(r){var o=a||s(r),i=o[0];return i.x=i.y=0,i.value?(i.dx=u[0],i.dy=u[1]):i.dx=i.dy=0,a&&s.revalue(i),t([i],i.dx*i.dy/i.value),(a?n:e)(i),p&&(a=o),o}var a,s=ca.layout.hierarchy(),l=Math.round,u=[1,1],c=null,f=Vo,p=!1,h="squarify",d=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(u=t,i):u},i.padding=function(t){function e(e){var n=t.call(i,e,e.depth);return null==n?Vo(e):Ho(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Ho(e,t)}if(!arguments.length)return c;var r;return f=null==(c=t)?Vo:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,i},i.round=function(t){return arguments.length?(l=t?Math.round:Number,i):l!=Number},i.sticky=function(t){return arguments.length?(p=t,a=null,i):p},i.ratio=function(t){return arguments.length?(d=t,i):d},i.mode=function(t){return arguments.length?(h=t+"",i):h},ao(i,s)},ca.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,o;do n=2*Math.random()-1,r=2*Math.random()-1,o=n*n+r*r;while(!o||o>1);return t+e*n*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var t=ca.random.normal.apply(ca,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ca.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},ca.scale={};var kl={floor:_,ceil:_};ca.scale.linear=function(){return Jo([0,1],[0,1],xr,!1)};var Sl={s:1,g:1,p:1,r:1,e:1};ca.scale.log=function(){return ai(ca.scale.linear().domain([0,1]),10,!0,[1,10])};var Pl=ca.format(".0e"),Ml={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ca.scale.pow=function(){return si(ca.scale.linear(),1,[0,1])},ca.scale.sqrt=function(){return ca.scale.pow().exponent(.5)},ca.scale.ordinal=function(){return ui([],{t:"range",a:[[]]})},ca.scale.category10=function(){return ca.scale.ordinal().range(Al)},ca.scale.category20=function(){return ca.scale.ordinal().range(Ol)},ca.scale.category20b=function(){return ca.scale.ordinal().range(Dl)},ca.scale.category20c=function(){return ca.scale.ordinal().range(Ll)};var Al=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xt),Ol=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xt),Dl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xt),Ll=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xt);ca.scale.quantile=function(){return ci([],[])},ca.scale.quantize=function(){return fi(0,1,[0,1])},ca.scale.threshold=function(){return pi([.5],[0,1])},ca.scale.identity=function(){return hi([0,1])},ca.svg={},ca.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+r.apply(this,arguments)),c=a.apply(this,arguments)-Va,f=s.apply(this,arguments)-Va,p=Math.abs(f-c),h=c>f?0:1;if(u<t&&(d=u,u=t,t=d),p>=qa)return e(u,h)+(t?e(t,1-h):"")+"Z";var d,m,y,v,g,b,_,x,w,T,E,C,k=0,S=0,P=[];if((v=(+l.apply(this,arguments)||0)/2)&&(y=i===Il?Math.sqrt(t*t+u*u):+i.apply(this,arguments),h||(S*=-1),u&&(S=rt(y/u*Math.sin(v))),t&&(k=rt(y/t*Math.sin(v)))),u){g=u*Math.cos(c+S),b=u*Math.sin(c+S),_=u*Math.cos(f-S),x=u*Math.sin(f-S);var M=Math.abs(f-c-2*S)<=Ua?0:1;if(S&&_i(g,b,_,x)===h^M){var A=(c+f)/2;g=u*Math.cos(A),b=u*Math.sin(A),_=x=null}}else g=b=0;if(t){w=t*Math.cos(f-k),T=t*Math.sin(f-k),E=t*Math.cos(c+k),C=t*Math.sin(c+k);var O=Math.abs(c-f+2*k)<=Ua?0:1;if(k&&_i(w,T,E,C)===1-h^O){var D=(c+f)/2;w=t*Math.cos(D),T=t*Math.sin(D),E=C=null}}else w=T=0;if(p>za&&(d=Math.min(Math.abs(u-t)/2,+o.apply(this,arguments)))>.001){m=t<u^h?0:1;var L=d,I=d;if(p<Ua){var j=null==E?[w,T]:null==_?[g,b]:Fn([g,b],[E,C],[_,x],[w,T]),F=g-j[0],R=b-j[1],N=_-j[0],z=x-j[1],B=1/Math.sin(Math.acos((F*N+R*z)/(Math.sqrt(F*F+R*R)*Math.sqrt(N*N+z*z)))/2),U=Math.sqrt(j[0]*j[0]+j[1]*j[1]);I=Math.min(d,(t-U)/(B-1)),L=Math.min(d,(u-U)/(B+1))}if(null!=_){var W=xi(null==E?[w,T]:[E,C],[g,b],u,L,h),q=xi([_,x],[w,T],u,L,h);d===L?P.push("M",W[0],"A",L,",",L," 0 0,",m," ",W[1],"A",u,",",u," 0 ",1-h^_i(W[1][0],W[1][1],q[1][0],q[1][1]),",",h," ",q[1],"A",L,",",L," 0 0,",m," ",q[0]):P.push("M",W[0],"A",L,",",L," 0 1,",m," ",q[0])}else P.push("M",g,",",b);if(null!=E){var V=xi([g,b],[E,C],t,-I,h),H=xi([w,T],null==_?[g,b]:[_,x],t,-I,h);d===I?P.push("L",H[0],"A",I,",",I," 0 0,",m," ",H[1],"A",t,",",t," 0 ",h^_i(H[1][0],H[1][1],V[1][0],V[1][1]),",",1-h," ",V[1],"A",I,",",I," 0 0,",m," ",V[0]):P.push("L",H[0],"A",I,",",I," 0 0,",m," ",V[0])}else P.push("L",w,",",T)}else P.push("M",g,",",b),null!=_&&P.push("A",u,",",u," 0 ",M,",",h," ",_,",",x),P.push("L",w,",",T),null!=E&&P.push("A",t,",",t," 0 ",O,",",1-h," ",E,",",C);return P.push("Z"),P.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=mi,r=yi,o=di,i=Il,a=vi,s=gi,l=bi;return t.innerRadius=function(e){return arguments.length?(n=Pt(e),t):n},t.outerRadius=function(e){return arguments.length?(r=Pt(e),t):r},t.cornerRadius=function(e){return arguments.length?(o=Pt(e),t):o},t.padRadius=function(e){return arguments.length?(i=e==Il?Il:Pt(e),t):i},t.startAngle=function(e){return arguments.length?(a=Pt(e),t):a},t.endAngle=function(e){return arguments.length?(s=Pt(e),t):s},t.padAngle=function(e){return arguments.length?(l=Pt(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Va;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Il="auto";ca.svg.line=function(){return wi(_)};var jl=ca.map({linear:Ti,"linear-closed":Ei,step:Ci,"step-before":ki,"step-after":Si,basis:Li,"basis-open":Ii,"basis-closed":ji,bundle:Fi,cardinal:Ai,"cardinal-open":Pi,"cardinal-closed":Mi,monotone:Wi});jl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Fl=[0,2/3,1/3,0],Rl=[0,1/3,2/3,0],Nl=[0,1/6,2/3,1/6];ca.svg.line.radial=function(){var t=wi(qi);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},ki.reverse=Si,Si.reverse=ki,ca.svg.area=function(){return Vi(_)},ca.svg.area.radial=function(){var t=Vi(qi);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ca.svg.chord=function(){function t(t,s){var l=e(this,i,t,s),u=e(this,a,t,s);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(n(l,u)?o(l.r,l.p1,l.r,l.p0):o(l.r,l.p1,u.r,u.p0)+r(u.r,u.p1,u.a1-u.a0)+o(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,r){var o=e.call(t,n,r),i=s.call(t,o,r),a=l.call(t,o,r)-Va,c=u.call(t,o,r)-Va;return{r:i,a0:a,a1:c,p0:[i*Math.cos(a),i*Math.sin(a)],p1:[i*Math.cos(c),i*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Ua)+",1 "+e}function o(t,e,n,r){return"Q 0,0 "+r}var i=xn,a=wn,s=Hi,l=vi,u=gi;return t.radius=function(e){return arguments.length?(s=Pt(e),t):s},t.source=function(e){return arguments.length?(i=Pt(e),t):i},t.target=function(e){return arguments.length?(a=Pt(e),t):a},t.startAngle=function(e){return arguments.length?(l=Pt(e),t):l},t.endAngle=function(e){return arguments.length?(u=Pt(e),t):u},t},ca.svg.diagonal=function(){function t(t,o){var i=e.call(this,t,o),a=n.call(this,t,o),s=(i.y+a.y)/2,l=[i,{x:i.x,y:s},{x:a.x,y:s},a];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=xn,n=wn,r=Gi;return t.source=function(n){return arguments.length?(e=Pt(n),t):e},t.target=function(e){return arguments.length?(n=Pt(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},ca.svg.diagonal.radial=function(){var t=ca.svg.diagonal(),e=Gi,n=t.projection;return t.projection=function(t){return arguments.length?n(Yi(e=t)):e},t},ca.svg.symbol=function(){function t(t,r){return(zl.get(e.call(this,t,r))||Ki)(n.call(this,t,r))}var e=Xi,n=Zi;return t.type=function(n){return arguments.length?(e=Pt(n),t):e},t.size=function(e){return arguments.length?(n=Pt(e),t):n},t};var zl=ca.map({circle:Ki,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Ul)),n=e*Ul;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Bl),n=e*Bl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Bl),n=e*Bl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ca.svg.symbolTypes=zl.keys();var Bl=Math.sqrt(3),Ul=Math.tan(30*Ha);Oa.transition=function(t){for(var e,n,r=Wl||++Gl,o=ea(t),i=[],a=ql||{time:Date.now(),ease:Pr,delay:0,duration:250},s=-1,l=this.length;++s<l;){i.push(e=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(n=u[c])&&na(n,c,o,r,a),e.push(n)}return Ji(i,o,r)},Oa.interrupt=function(t){return this.each(null==t?Vl:Qi(ea(t)))};var Wl,ql,Vl=Qi(ea()),Hl=[],Gl=0;Hl.call=Oa.call,Hl.empty=Oa.empty,Hl.node=Oa.node,Hl.size=Oa.size,ca.transition=function(t,e){return t&&t.transition?Wl?t.transition(e):t:ca.selection().transition(t)},ca.transition.prototype=Hl,Hl.select=function(t){var e,n,r,o=this.id,i=this.namespace,a=[];t=A(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(r=u[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),na(n,c,i,o,r[i][o]),e.push(n)):e.push(null)}return Ji(a,i,o)},Hl.selectAll=function(t){var e,n,r,o,i,a=this.id,s=this.namespace,l=[];t=O(t);for(var u=-1,c=this.length;++u<c;)for(var f=this[u],p=-1,h=f.length;++p<h;)if(r=f[p]){i=r[s][a],n=t.call(r,r.__data__,p,u),l.push(e=[]);for(var d=-1,m=n.length;++d<m;)(o=n[d])&&na(o,d,s,a,i),e.push(o)}return Ji(l,s,a)},Hl.filter=function(t){var e,n,r,o=[];"function"!=typeof t&&(t=q(t));for(var i=0,a=this.length;i<a;i++){o.push(e=[]);for(var n=this[i],s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,i)&&e.push(r)}return Ji(o,this.namespace,this.id)},Hl.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):H(this,null==e?function(e){e[r][n].tween.remove(t)}:function(o){o[r][n].tween.set(t,e)})},Hl.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function o(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function i(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Xr:xr,s=ca.ns.qualify(t);return $i(this,"attr."+t,e,s.local?i:o)},Hl.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(o));return r&&function(t){this.setAttribute(o,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(o.space,o.local));return r&&function(t){this.setAttributeNS(o.space,o.local,r(t))}}var o=ca.ns.qualify(t);return this.tween("attr."+t,o.local?r:n)},Hl.style=function(t,e,n){function o(){this.style.removeProperty(t)}function i(e){return null==e?o:(e+="",function(){var o,i=r(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(o=xr(i,e),function(e){this.style.setProperty(t,o(e),n)})})}var a=arguments.length;if(a<3){if("string"!=typeof t){a<2&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return $i(this,"style."+t,e,i)},Hl.styleTween=function(t,e,n){function o(o,i){var a=e.call(this,o,i,r(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,o)},Hl.text=function(t){return $i(this,"text",t,ta)},Hl.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Hl.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=ca.ease.apply(ca,arguments)),H(this,function(r){r[n][e].ease=t}))},Hl.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:H(this,"function"==typeof t?function(r,o,i){r[n][e].delay=+t.call(r,r.__data__,o,i)}:(t=+t,function(r){r[n][e].delay=t}))},Hl.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:H(this,"function"==typeof t?function(r,o,i){r[n][e].duration=Math.max(1,t.call(r,r.__data__,o,i))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Hl.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var o=ql,i=Wl;try{Wl=n,H(this,function(e,o,i){ql=e[r][n],t.call(e,e.__data__,o,i)})}finally{ql=o,Wl=i}}else H(this,function(o){var i=o[r][n];(i.event||(i.event=ca.dispatch("start","end","interrupt"))).on(t,e)});return this},Hl.transition=function(){for(var t,e,n,r,o=this.id,i=++Gl,a=this.namespace,s=[],l=0,u=this.length;l<u;l++){s.push(t=[]);for(var e=this[l],c=0,f=e.length;c<f;c++)(n=e[c])&&(r=n[a][o],na(n,c,a,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return Ji(s,a,i)},ca.svg.axis=function(){function t(t){t.each(function(){var t,u=ca.select(this),c=this.__chart__||n,f=this.__chart__=n.copy(),p=null==l?f.ticks?f.ticks.apply(f,s):f.domain():l,h=null==e?f.tickFormat?f.tickFormat.apply(f,s):_:e,d=u.selectAll(".tick").data(p,f),m=d.enter().insert("g",".domain").attr("class","tick").style("opacity",za),y=ca.transition(d.exit()).style("opacity",za).remove(),v=ca.transition(d.order()).style("opacity",1),g=Math.max(o,0)+a,b=Yo(f),x=u.selectAll(".domain").data([0]),w=(x.enter().append("path").attr("class","domain"),ca.transition(x));m.append("line"),m.append("text");var T,E,C,k,S=m.select("line"),P=v.select("line"),M=d.select("text").text(h),A=m.select("text"),O=v.select("text"),D="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=ra,T="x",C="y",E="x2",k="y2",M.attr("dy",D<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+b[0]+","+D*i+"V0H"+b[1]+"V"+D*i)):(t=oa,T="y",C="x",E="y2",k="x2",M.attr("dy",".32em").style("text-anchor",D<0?"end":"start"),w.attr("d","M"+D*i+","+b[0]+"H0V"+b[1]+"H"+D*i)),S.attr(k,D*o),A.attr(C,D*g),P.attr(E,0).attr(k,D*o),O.attr(T,0).attr(C,D*g),f.rangeBand){var L=f,I=L.rangeBand()/2;c=f=function(t){return L(t)+I}}else c.rangeBand?c=f:y.call(t,f,c);m.call(t,c,f),v.call(t,f,f)})}var e,n=ca.scale.linear(),r=Yl,o=6,i=6,a=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in Zl?e+"":Yl,t):r},t.ticks=function(){return arguments.length?(s=pa(arguments),t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(o=+e,i=+arguments[n-1],t):o},t.innerTickSize=function(e){return arguments.length?(o=+e,t):o},t.outerTickSize=function(e){return arguments.length?(i=+e,t):i},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Yl="bottom",Zl={top:1,right:1,bottom:1,left:1};ca.svg.brush=function(){function t(r){r.each(function(){var r=ca.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=r.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),r.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=r.selectAll(".resize").data(m,_);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Xl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,f=ca.transition(r),p=ca.transition(a);u&&(l=Yo(u),p.attr("x",l[0]).attr("width",l[1]-l[0]),n(f)),c&&(l=Yo(c),p.attr("y",l[0]).attr("height",l[1]-l[0]),o(f)),e(f)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+f[+/e$/.test(t)]+","+p[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",f[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function o(t){t.select(".extent").attr("y",p[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",p[1]-p[0])}function i(){function i(){32==ca.event.keyCode&&(M||(b=null,O[0]-=f[1],O[1]-=p[1],M=2),k())}function m(){32==ca.event.keyCode&&2==M&&(O[0]+=f[1],O[1]+=p[1],M=0,k())}function y(){var t=ca.mouse(x),r=!1;_&&(t[0]+=_[0],t[1]+=_[1]),M||(ca.event.altKey?(b||(b=[(f[0]+f[1])/2,(p[0]+p[1])/2]),O[0]=f[+(t[0]<b[0])],O[1]=p[+(t[1]<b[1])]):b=null),S&&v(t,u,0)&&(n(E),r=!0),P&&v(t,c,1)&&(o(E),r=!0),r&&(e(E),T({type:"brush",mode:M?"move":"resize"}))}function v(t,e,n){var r,o,i=Yo(e),l=i[0],u=i[1],c=O[n],m=n?p:f,y=m[1]-m[0];if(M&&(l-=c,u-=y+c),r=(n?d:h)?Math.max(l,Math.min(u,t[n])):t[n],M?o=(r+=c)+y:(b&&(c=Math.max(l,Math.min(u,2*b[n]-r))),c<r?(o=r,r=c):o=c),m[0]!=r||m[1]!=o)return n?s=null:a=null,m[0]=r,m[1]=o,!0}function g(){y(),E.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ca.select("body").style("cursor",null),D.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),T({type:"brushend"})}var b,_,x=this,w=ca.select(ca.event.target),T=l.of(x,arguments),E=ca.select(x),C=w.datum(),S=!/^(n|s)$/.test(C)&&u,P=!/^(e|w)$/.test(C)&&c,M=w.classed("extent"),A=Q(x),O=ca.mouse(x),D=ca.select(r(x)).on("keydown.brush",i).on("keyup.brush",m);if(ca.event.changedTouches?D.on("touchmove.brush",y).on("touchend.brush",g):D.on("mousemove.brush",y).on("mouseup.brush",g),E.interrupt().selectAll("*").interrupt(),M)O[0]=f[0]-O[0],O[1]=p[0]-O[1];else if(C){var L=+/w$/.test(C),I=+/^n/.test(C);_=[f[1-L]-O[0],p[1-I]-O[1]],O[0]=f[L],O[1]=p[I]}else ca.event.altKey&&(b=O.slice());E.style("pointer-events","none").selectAll(".resize").style("display",null),ca.select("body").style("cursor",w.style("cursor")),T({type:"brushstart"}),y()}var a,s,l=P(t,"brushstart","brush","brushend"),u=null,c=null,f=[0,0],p=[0,0],h=!0,d=!0,m=Kl[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:f,y:p,i:a,j:s},n=this.__chart__||e;this.__chart__=e,Wl?ca.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,f=n.x,p=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=wr(f,e.x),r=wr(p,e.y);return a=s=null,function(o){f=e.x=n(o),p=e.y=r(o),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,m=Kl[!u<<1|!c],t):u},t.y=function(e){return arguments.length?(c=e,m=Kl[!u<<1|!c],t):c},t.clamp=function(e){return arguments.length?(u&&c?(h=!!e[0],d=!!e[1]):u?h=!!e:c&&(d=!!e),t):u&&c?[h,d]:u?h:c?d:null},t.extent=function(e){var n,r,o,i,l;return arguments.length?(u&&(n=e[0],r=e[1],c&&(n=n[0],r=r[0]),a=[n,r],u.invert&&(n=u(n),r=u(r)),r<n&&(l=n,n=r,r=l),n==f[0]&&r==f[1]||(f=[n,r])),c&&(o=e[0],i=e[1],u&&(o=o[1],i=i[1]),s=[o,i],c.invert&&(o=c(o),i=c(i)),i<o&&(l=o,o=i,i=l),o==p[0]&&i==p[1]||(p=[o,i])),t):(u&&(a?(n=a[0],r=a[1]):(n=f[0],r=f[1],u.invert&&(n=u.invert(n),r=u.invert(r)),r<n&&(l=n,n=r,r=l))),c&&(s?(o=s[0],i=s[1]):(o=p[0],i=p[1],c.invert&&(o=c.invert(o),i=c.invert(i)),i<o&&(l=o,o=i,i=l))),u&&c?[[n,o],[r,i]]:u?[n,r]:c&&[o,i])},t.clear=function(){return t.empty()||(f=[0,0],p=[0,0],a=s=null),t},t.empty=function(){return!!u&&f[0]==f[1]||!!c&&p[0]==p[1]},ca.rebind(t,l,"on")};var Xl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Kl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ql=ys.format=ws.timeFormat,Jl=Ql.utc,$l=Jl("%Y-%m-%dT%H:%M:%S.%LZ");Ql.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ia:$l,ia.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ia.toString=$l.toString,ys.second=Wt(function(t){return new vs(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ys.seconds=ys.second.range,ys.seconds.utc=ys.second.utc.range,ys.minute=Wt(function(t){return new vs(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ys.minutes=ys.minute.range,ys.minutes.utc=ys.minute.utc.range,ys.hour=Wt(function(t){var e=t.getTimezoneOffset()/60;return new vs(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ys.hours=ys.hour.range,ys.hours.utc=ys.hour.utc.range,ys.month=Wt(function(t){return t=ys.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ys.months=ys.month.range,ys.months.utc=ys.month.utc.range;var tu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],eu=[[ys.second,1],[ys.second,5],[ys.second,15],[ys.second,30],[ys.minute,1],[ys.minute,5],[ys.minute,15],[ys.minute,30],[ys.hour,1],[ys.hour,3],[ys.hour,6],[ys.hour,12],[ys.day,1],[ys.day,2],[ys.week,1],[ys.month,1],[ys.month,3],[ys.year,1]],nu=Ql.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Oe]]),ru={range:function(t,e,n){return ca.range(Math.ceil(t/n)*n,+e,n).map(sa)},floor:_,ceil:_};eu.year=ys.year,ys.scale=function(){return aa(ca.scale.linear(),eu,nu)};var ou=eu.map(function(t){return[t[0].utc,t[1]]}),iu=Jl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Oe]]);ou.year=ys.year.utc,ys.scale.utc=function(){return aa(ca.scale.linear(),ou,iu)},ca.text=Mt(function(t){return t.responseText}),ca.json=function(t,e){return At(t,"application/json",la,e)},ca.html=function(t,e){return At(t,"text/html",ua,e)},ca.xml=Mt(function(t){return t.responseXML}),"function"==typeof t&&t.amd?(this.d3=ca,t(ca)):"object"==typeof n&&n.exports?n.exports=ca:this.d3=ca}()},{}],126:[function(t,e,n){"use strict";function r(t,e){this.point=t,this.index=e}function o(t,e){for(var n=t.point,r=e.point,o=n.length,i=0;i<o;++i){var a=r[i]-n[i];if(a)return a}return 0}function i(t,e,n){if(1===t)return n?[[-1,0]]:[];var r=e.map(function(t,e){return[t[0],e]});r.sort(function(t,e){return t[0]-e[0]});for(var o=new Array(t-1),i=1;i<t;++i){var a=r[i-1],s=r[i];o[i-1]=[a[1],s[1]]}return n&&o.push([-1,o[0][1]],[o[t-1][1],-1]),o}function a(t,e){var n=t.length;if(0===n)return[];var a=t[0].length;if(a<1)return[];if(1===a)return i(n,t,e);for(var u=new Array(n),c=1,f=0;f<n;++f){for(var p=t[f],h=new Array(a+1),d=0,m=0;m<a;++m){var y=p[m];h[m]=y,d+=y*y}h[a]=d,u[f]=new r(h,f),c=Math.max(d,c)}l(u,o),n=u.length;for(var v=new Array(n+a+1),g=new Array(n+a+1),b=(a+1)*(a+1)*c,_=new Array(a+1),f=0;f<=a;++f)_[f]=0;_[a]=b,v[0]=_.slice(),g[0]=-1;for(var f=0;f<=a;++f){var h=_.slice();h[f]=1,v[f+1]=h,g[f+1]=-1}for(var f=0;f<n;++f){var x=u[f];v[f+a+1]=x.point,g[f+a+1]=x.index}var w=s(v,!1);if(w=e?w.filter(function(t){for(var e=0,n=0;n<=a;++n){var r=g[t[n]];if(r<0&&++e>=2)return!1;t[n]=r}return!0}):w.filter(function(t){for(var e=0;e<=a;++e){var n=g[t[e]];if(n<0)return!1;t[e]=n}return!0}),1&a)for(var f=0;f<w.length;++f){var x=w[f],h=x[0];x[0]=x[1],x[1]=h}return w}var s=t("incremental-convex-hull"),l=t("uniq");e.exports=a},{"incremental-convex-hull":275,uniq:511}],127:[function(t,e,n){"use strict";function r(t,e,n){var o=0|t[n];if(o<=0)return[];var i,a=new Array(o);if(n===t.length-1)for(i=0;i<o;++i)a[i]=e;else for(i=0;i<o;++i)a[i]=r(t,e,n+1);return a}function o(t,e){var n,r;for(n=new Array(t),r=0;r<t;++r)n[r]=e;return n}function i(t,e){switch("undefined"==typeof e&&(e=0),typeof t){case"number":if(t>0)return o(0|t,e);break;case"object":if("number"==typeof t.length)return r(t,e,0)}return[]}e.exports=i},{}],128:[function(e,n,r){(function(r,o){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   3.1.2
	 */
(function(){"use strict";function i(t){return"function"==typeof t||"object"==typeof t&&null!==t}function a(t){return"function"==typeof t}function s(t){G=t}function l(t){K=t}function u(){return function(){r.nextTick(d)}}function c(){return function(){H(d)}}function f(){var t=0,e=new $(d),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function p(){var t=new MessageChannel;return t.port1.onmessage=d,function(){t.port2.postMessage(0)}}function h(){return function(){setTimeout(d,1)}}function d(){for(var t=0;t<X;t+=2){var e=nt[t],n=nt[t+1];e(n),nt[t]=void 0,nt[t+1]=void 0}X=0}function m(){try{var t=e,n=t("vertx");return H=n.runOnLoop||n.runOnContext,c()}catch(r){return h()}}function y(t,e){var n=this,r=n._state;if(r===at&&!t||r===st&&!e)return this;var o=new this.constructor(g),i=n._result;if(r){var a=arguments[r-1];K(function(){I(r,o,a,i)})}else A(n,o,t,e);return o}function v(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(g);return k(n,t),n}function g(){}function b(){return new TypeError("You cannot resolve a promise with itself")}function _(){return new TypeError("A promises callback cannot return that same promise.")}function x(t){try{return t.then}catch(e){return lt.error=e,lt}}function w(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function T(t,e,n){K(function(t){var r=!1,o=w(n,e,function(n){r||(r=!0,e!==n?k(t,n):P(t,n))},function(e){r||(r=!0,M(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,M(t,o))},t)}function E(t,e){e._state===at?P(t,e._result):e._state===st?M(t,e._result):A(e,void 0,function(e){k(t,e)},function(e){M(t,e)})}function C(t,e,n){e.constructor===t.constructor&&n===rt&&constructor.resolve===ot?E(t,e):n===lt?M(t,lt.error):void 0===n?P(t,e):a(n)?T(t,e,n):P(t,e)}function k(t,e){t===e?M(t,b()):i(e)?C(t,e,x(e)):P(t,e)}function S(t){t._onerror&&t._onerror(t._result),O(t)}function P(t,e){t._state===it&&(t._result=e,t._state=at,0!==t._subscribers.length&&K(O,t))}function M(t,e){t._state===it&&(t._state=st,t._result=e,K(S,t))}function A(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+at]=n,o[i+st]=r,0===i&&t._state&&K(O,t)}function O(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,a=0;a<e.length;a+=3)r=e[a],o=e[a+n],r?I(n,r,o,i):o(i);t._subscribers.length=0}}function D(){this.error=null}function L(t,e){try{return t(e)}catch(n){return ut.error=n,ut}}function I(t,e,n,r){var o,i,s,l,u=a(n);if(u){if(o=L(n,r),o===ut?(l=!0,i=o.error,o=null):s=!0,e===o)return void M(e,_())}else o=r,s=!0;e._state!==it||(u&&s?k(e,o):l?M(e,i):t===at?P(e,o):t===st&&M(e,o))}function j(t,e){try{e(function(e){k(t,e)},function(e){M(t,e)})}catch(n){M(t,n)}}function F(t){return new mt(this,t).promise}function R(t){function e(t){k(o,t)}function n(t){M(o,t)}var r=this,o=new r(g);if(!Z(t))return M(o,new TypeError("You must pass an array to race.")),o;for(var i=t.length,a=0;o._state===it&&a<i;a++)A(r.resolve(t[a]),void 0,e,n);return o}function N(t){var e=this,n=new e(g);return M(n,t),n}function z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function B(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function U(t){this._id=ht++,this._state=void 0,this._result=void 0,this._subscribers=[],g!==t&&("function"!=typeof t&&z(),this instanceof U?j(this,t):B())}function W(t,e){this._instanceConstructor=t,this.promise=new t(g),Array.isArray(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&P(this.promise,this._result))):M(this.promise,this._validationError())}function q(){var t;if("undefined"!=typeof o)t=o;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;n&&"[object Promise]"===Object.prototype.toString.call(n.resolve())&&!n.cast||(t.Promise=dt)}var V;V=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var H,G,Y,Z=V,X=0,K=function(t,e){nt[X]=t,nt[X+1]=e,X+=2,2===X&&(G?G(d):Y())},Q="undefined"!=typeof window?window:void 0,J=Q||{},$=J.MutationObserver||J.WebKitMutationObserver,tt="undefined"!=typeof r&&"[object process]"==={}.toString.call(r),et="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,nt=new Array(1e3);Y=tt?u():$?f():et?p():void 0===Q&&"function"==typeof e?m():h();var rt=y,ot=v,it=void 0,at=1,st=2,lt=new D,ut=new D,ct=F,ft=R,pt=N,ht=0,dt=U;U.all=ct,U.race=ft,U.resolve=ot,U.reject=pt,U._setScheduler=s,U._setAsap=l,U._asap=K,U.prototype={constructor:U,then:rt,"catch":function(t){return this.then(null,t)}};var mt=W;W.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},W.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===it&&n<t;n++)this._eachEntry(e[n],n)},W.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===ot){var o=x(t);if(o===rt&&t._state!==it)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===dt){var i=new n(g);C(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){e(t)}),e)}else this._willSettleAt(r(t),e)},W.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===it&&(this._remaining--,t===st?M(r,n):this._result[e]=n),0===this._remaining&&P(r,this._result)},W.prototype._willSettleAt=function(t,e){var n=this;A(t,void 0,function(t){n._settledAt(at,e,t)},function(t){n._settledAt(st,e,t)})};var yt=q,vt={Promise:dt,polyfill:yt};"function"==typeof t&&t.amd?t(function(){return vt}):"undefined"!=typeof n&&n.exports?n.exports=vt:"undefined"!=typeof this&&(this.ES6Promise=vt),yt()}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:60}],129:[function(t,e,n){"use strict";function r(t){for(var e,n=t.length,r=0;r<n;r++)if(e=t.charCodeAt(r),(e<9||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0}e.exports=function(t){var e=typeof t;if("string"===e){var n=t;if(t=+t,0===t&&r(n))return!1}else if("number"!==e)return!1;return t-t<1}},{}],130:[function(t,e,n){"use strict";function r(t,e,n,r,o){this.gl=t,this.type=e,this.handle=n,this.length=r,this.usage=o}function o(t,e,n,r,o,i){var a=o.length*o.BYTES_PER_ELEMENT;if(i<0)return t.bufferData(e,o,r),a;if(a+i>n)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(e,i,o),n}function i(t,e){for(var n=l.malloc(t.length,e),r=t.length,o=0;o<r;++o)n[o]=t[o];return n}function a(t,e){for(var n=1,r=e.length-1;r>=0;--r){if(e[r]!==n)return!1;n*=t[r]}return!0}function s(t,e,n,o){if(n=n||t.ARRAY_BUFFER,o=o||t.DYNAMIC_DRAW,n!==t.ARRAY_BUFFER&&n!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(o!==t.DYNAMIC_DRAW&&o!==t.STATIC_DRAW&&o!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var i=t.createBuffer(),a=new r(t,n,i,0,o);return a.update(e),a}var l=t("typedarray-pool"),u=t("ndarray-ops"),c=t("ndarray"),f=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"],p=r.prototype;p.bind=function(){this.gl.bindBuffer(this.type,this.handle)},p.unbind=function(){this.gl.bindBuffer(this.type,null)},p.dispose=function(){this.gl.deleteBuffer(this.handle)},p.update=function(t,e){if("number"!=typeof e&&(e=-1),this.bind(),"object"==typeof t&&"undefined"!=typeof t.shape){var n=t.dtype;if(f.indexOf(n)<0&&(n="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var r=gl.getExtension("OES_element_index_uint");n=r&&"uint16"!==n?"uint32":"uint16"}if(n===t.dtype&&a(t.shape,t.stride))0===t.offset&&t.data.length===t.shape[0]?this.length=o(this.gl,this.type,this.length,this.usage,t.data,e):this.length=o(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),e);else{var s=l.malloc(t.size,n),p=c(s,t.shape);u.assign(p,t),e<0?this.length=o(this.gl,this.type,this.length,this.usage,s,e):this.length=o(this.gl,this.type,this.length,this.usage,s.subarray(0,t.size),e),l.free(s)}}else if(Array.isArray(t)){var h;h=this.type===this.gl.ELEMENT_ARRAY_BUFFER?i(t,"uint16"):i(t,"float32"),e<0?this.length=o(this.gl,this.type,this.length,this.usage,h,e):this.length=o(this.gl,this.type,this.length,this.usage,h.subarray(0,t.length),e),l.free(h)}else if("object"==typeof t&&"number"==typeof t.length)this.length=o(this.gl,this.type,this.length,this.usage,t,e);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(e>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");t=0|t,t<=0&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},e.exports=s},{ndarray:485,"ndarray-ops":484,"typedarray-pool":510}],131:[function(t,e,n){"use strict";function r(t,e,n){this.plot=t,this.shader=e,this.buffer=n,this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.numPoints=0,this.color=[0,0,0,1]}function o(t,e){var n=i(t.gl,l.vertex,l.fragment),o=a(t.gl),s=new r(t,n,o);return s.update(e),t.addObject(s),s}var i=t("gl-shader"),a=t("gl-buffer"),s=t("typedarray-pool"),l=t("./lib/shaders");e.exports=o;var u=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]],c=r.prototype;c.draw=function(){var t=[1,0,0,0,1,0,0,0,1],e=[1,1];return function(){var n=this.plot,r=this.shader,o=this.buffer,i=this.bounds,a=this.numPoints;if(a){var s=n.gl,l=n.dataBox,c=n.viewBox,f=n.pixelRatio,p=i[2]-i[0],h=i[3]-i[1],d=l[2]-l[0],m=l[3]-l[1];t[0]=2*p/d,t[4]=2*h/m,t[6]=2*(i[0]-l[0])/d-1,t[7]=2*(i[1]-l[1])/m-1;var y=c[2]-c[0],v=c[3]-c[1];e[0]=2*f/y,e[1]=2*f/v,o.bind(),r.bind(),r.uniforms.viewTransform=t,r.uniforms.pixelScale=e,r.uniforms.color=this.color,r.attributes.position.pointer(s.FLOAT,!1,16,0),r.attributes.pixelOffset.pointer(s.FLOAT,!1,16,8),s.drawArrays(s.TRIANGLES,0,a*u.length)}}}(),c.drawPick=function(t){return t},c.pick=function(t,e){return null},c.update=function(t){t=t||{};var e,n,r,o=t.positions||[],i=t.errors||[],a=1;"lineWidth"in t&&(a=+t.lineWidth);var l=5;"capSize"in t&&(l=+t.capSize),this.color=(t.color||[0,0,0,1]).slice();var c=this.bounds=[1/0,1/0,-(1/0),-(1/0)],f=this.numPoints=o.length>>1;for(e=0;e<f;++e)n=o[2*e],r=o[2*e+1],c[0]=Math.min(n,c[0]),c[1]=Math.min(r,c[1]),c[2]=Math.max(n,c[2]),c[3]=Math.max(r,c[3]);c[2]===c[0]&&(c[2]+=1),c[3]===c[1]&&(c[3]+=1);var p=1/(c[2]-c[0]),h=1/(c[3]-c[1]),d=c[0],m=c[1],y=s.mallocFloat32(f*u.length*4),v=0;for(e=0;e<f;++e){n=o[2*e],r=o[2*e+1];for(var g=i[4*e],b=i[4*e+1],_=i[4*e+2],x=i[4*e+3],w=0;w<u.length;++w){var T=u[w],E=T[0],C=T[1];E<0?E*=g:E>0&&(E*=b),C<0?C*=_:C>0&&(C*=x),y[v++]=p*(n-d+E),y[v++]=h*(r-m+C),y[v++]=a*T[2]+(l+a)*T[4],y[v++]=a*T[3]+(l+a)*T[5]}}this.buffer.update(y),s.free(y)},c.dispose=function(){this.plot.removeObject(this),this.shader.dispose(),this.buffer.dispose()}},{"./lib/shaders":132,"gl-buffer":130,"gl-shader":237,"typedarray-pool":510}],132:[function(t,e,n){e.exports={vertex:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec2 pixelOffset;\n\nuniform mat3 viewTransform;\nuniform vec2 pixelScale;\n\nvoid main() {\n  vec3 scrPosition = viewTransform * vec3(position, 1);\n  gl_Position = vec4(\n    scrPosition.xy + scrPosition.z * pixelScale * pixelOffset,\n    0,\n    scrPosition.z);\n}\n",fragment:"precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = vec4(color.rgb * color.a, color.a);\n}\n"}},{}],133:[function(t,e,n){"use strict";function r(t,e,n,r){this.gl=t,this.shader=r,this.buffer=e,this.vao=n,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],this.clipBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1}function o(t,e){for(var n=0;n<3;++n)t[0][n]=Math.min(t[0][n],e[n]),t[1][n]=Math.max(t[1][n],e[n])}function i(t,e,n,r){for(var o=p[r],i=0;i<o.length;++i){var a=o[i];t.push(e[0],e[1],e[2],n[0],n[1],n[2],n[3],a[0],a[1],a[2])}return o.length}function a(t){var e=t.gl,n=s(e),o=l(e,[{buffer:n,type:e.FLOAT,size:3,offset:0,stride:40},{buffer:n,type:e.FLOAT,size:4,offset:12,stride:40},{buffer:n,type:e.FLOAT,size:3,offset:28,stride:40}]),i=u(e);i.attributes.position.location=0,i.attributes.color.location=1,i.attributes.offset.location=2;var a=new r(e,n,o,i);return a.update(t),a}e.exports=a;var s=t("gl-buffer"),l=t("gl-vao"),u=t("./shaders/index"),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],f=r.prototype;f.isOpaque=function(){return this.opacity>=1},f.isTransparent=function(){return this.opacity<1},f.drawTransparent=f.draw=function(t){var e=this.gl,n=this.shader.uniforms;this.shader.bind();var r=n.view=t.view||c,o=n.projection=t.projection||c;n.model=t.model||c,n.clipBounds=this.clipBounds,n.opacity=this.opacity;var i=r[12],a=r[13],s=r[14],l=r[15],u=this.pixelRatio*(o[3]*i+o[7]*a+o[11]*s+o[15]*l)/e.drawingBufferHeight;this.vao.bind();for(var f=0;f<3;++f)e.lineWidth(this.lineWidth[f]),n.capSize=this.capSize[f]*u,e.drawArrays(e.LINES,this.lineOffset[f],this.lineCount[f]);this.vao.unbind()};var p=function(){for(var t=new Array(3),e=0;e<3;++e){for(var n=[],r=1;r<=2;++r)for(var o=-1;o<=1;o+=2){var i=(r+e)%3,a=[0,0,0];a[i]=o,n.push(a)}t[e]=n}return t}();f.update=function(t){t=t||{},"lineWidth"in t&&(this.lineWidth=t.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in t&&(this.capSize=t.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),"opacity"in t&&(this.opacity=t.opacity);var e=t.color||[[0,0,0],[0,0,0],[0,0,0]],n=t.position,r=t.error;if(Array.isArray(e[0])||(e=[e,e,e]),n&&r){var a=[],s=n.length,l=0;this.bounds=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],this.lineCount=[0,0,0];for(var u=0;u<3;++u){this.lineOffset[u]=l;t:for(var c=0;c<s;++c){for(var f=n[c],p=0;p<3;++p)if(isNaN(f[p])||!isFinite(f[p]))continue t;var h=r[c],d=e[u];if(Array.isArray(d[0])&&(d=e[c]),3===d.length&&(d=[d[0],d[1],d[2],1]),!isNaN(h[0][u])&&!isNaN(h[1][u])){if(h[0][u]<0){var m=f.slice();m[u]+=h[0][u],a.push(f[0],f[1],f[2],d[0],d[1],d[2],d[3],0,0,0,m[0],m[1],m[2],d[0],d[1],d[2],d[3],0,0,0),o(this.bounds,m),l+=2+i(a,m,d,u)}if(h[1][u]>0){var m=f.slice();m[u]+=h[1][u],a.push(f[0],f[1],f[2],d[0],d[1],d[2],d[3],0,0,0,m[0],m[1],m[2],d[0],d[1],d[2],d[3],0,0,0),o(this.bounds,m),l+=2+i(a,m,d,u)}}}this.lineCount[u]=l-this.lineOffset[u]}this.buffer.update(a)}},f.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},{"./shaders/index":134,"gl-buffer":130,"gl-vao":266}],134:[function(t,e,n){"use strict";var r=t("gl-shader"),o="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}",i="precision mediump float;\n#define GLSLIFY 1\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if(any(lessThan(fragPosition, clipBounds[0])) || any(greaterThan(fragPosition, clipBounds[1]))) {\n    discard;\n  }\n  gl_FragColor = opacity * fragColor;\n}";e.exports=function(t){return r(t,o,i,null,[{name:"position",type:"vec3"},{name:"offset",type:"vec3"},{name:"color",type:"vec4"}])}},{"gl-shader":237}],135:[function(t,e,n){"use strict";function r(t){var e=t.getParameter(t.FRAMEBUFFER_BINDING),n=t.getParameter(t.RENDERBUFFER_BINDING),r=t.getParameter(t.TEXTURE_BINDING_2D);return[e,n,r]}function o(t,e){t.bindFramebuffer(t.FRAMEBUFFER,e[0]),t.bindRenderbuffer(t.RENDERBUFFER,e[1]),t.bindTexture(t.TEXTURE_2D,e[2])}function i(t,e){var n=t.getParameter(e.MAX_COLOR_ATTACHMENTS_WEBGL);g=new Array(n+1);for(var r=0;r<=n;++r){for(var o=new Array(n),i=0;i<r;++i)o[i]=t.COLOR_ATTACHMENT0+i;for(var i=r;i<n;++i)o[i]=t.NONE;g[r]=o}}function a(t){switch(t){case d:throw new Error("gl-fbo: Framebuffer unsupported");case m:throw new Error("gl-fbo: Framebuffer incomplete attachment");case y:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case v:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function s(t,e,n,r,o,i){if(!r)return null;var a=h(t,e,n,o,r);return a.magFilter=t.NEAREST,a.minFilter=t.NEAREST,a.mipSamples=1,a.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,i,t.TEXTURE_2D,a.handle,0),a}function l(t,e,n,r,o){var i=t.createRenderbuffer();return t.bindRenderbuffer(t.RENDERBUFFER,i),t.renderbufferStorage(t.RENDERBUFFER,r,e,n),t.framebufferRenderbuffer(t.FRAMEBUFFER,o,t.RENDERBUFFER,i),i}function u(t){var e=r(t.gl),n=t.gl,i=t.handle=n.createFramebuffer(),u=t._shape[0],c=t._shape[1],f=t.color.length,p=t._ext,h=t._useStencil,d=t._useDepth,m=t._colorType;n.bindFramebuffer(n.FRAMEBUFFER,i);for(var y=0;y<f;++y)t.color[y]=s(n,u,c,m,n.RGBA,n.COLOR_ATTACHMENT0+y);0===f?(t._color_rb=l(n,u,c,n.RGBA4,n.COLOR_ATTACHMENT0),p&&p.drawBuffersWEBGL(g[0])):f>1&&p.drawBuffersWEBGL(g[f]);var v=n.getExtension("WEBGL_depth_texture");v?h?t.depth=s(n,u,c,v.UNSIGNED_INT_24_8_WEBGL,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):d&&(t.depth=s(n,u,c,n.UNSIGNED_SHORT,n.DEPTH_COMPONENT,n.DEPTH_ATTACHMENT)):d&&h?t._depth_rb=l(n,u,c,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):d?t._depth_rb=l(n,u,c,n.DEPTH_COMPONENT16,n.DEPTH_ATTACHMENT):h&&(t._depth_rb=l(n,u,c,n.STENCIL_INDEX,n.STENCIL_ATTACHMENT));var b=n.checkFramebufferStatus(n.FRAMEBUFFER);if(b!==n.FRAMEBUFFER_COMPLETE){t._destroyed=!0,n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteFramebuffer(t.handle),t.handle=null,t.depth&&(t.depth.dispose(),t.depth=null),t._depth_rb&&(n.deleteRenderbuffer(t._depth_rb),t._depth_rb=null);for(var y=0;y<t.color.length;++y)t.color[y].dispose(),t.color[y]=null;t._color_rb&&(n.deleteRenderbuffer(t._color_rb),t._color_rb=null),o(n,e),a(b)}o(n,e)}function c(t,e,n,r,o,i,a,s){this.gl=t,this._shape=[0|e,0|n],this._destroyed=!1,this._ext=s,this.color=new Array(o);for(var l=0;l<o;++l)this.color[l]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=r,this._useDepth=i,this._useStencil=a;var c=this,f=[0|e,0|n];Object.defineProperties(f,{0:{get:function(){return c._shape[0]},set:function(t){return c.width=t}},1:{get:function(){return c._shape[1]},set:function(t){return c.height=t}}}),this._shapeVector=f,u(this)}function f(t,e,n){if(t._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(t._shape[0]!==e||t._shape[1]!==n){var i=t.gl,s=i.getParameter(i.MAX_RENDERBUFFER_SIZE);if(e<0||e>s||n<0||n>s)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");t._shape[0]=e,t._shape[1]=n;for(var l=r(i),u=0;u<t.color.length;++u)t.color[u].shape=t._shape;t._color_rb&&(i.bindRenderbuffer(i.RENDERBUFFER,t._color_rb),i.renderbufferStorage(i.RENDERBUFFER,i.RGBA4,t._shape[0],t._shape[1])),t.depth&&(t.depth.shape=t._shape),t._depth_rb&&(i.bindRenderbuffer(i.RENDERBUFFER,t._depth_rb),t._useDepth&&t._useStencil?i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t._shape[0],t._shape[1]):t._useDepth?i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_COMPONENT16,t._shape[0],t._shape[1]):t._useStencil&&i.renderbufferStorage(i.RENDERBUFFER,i.STENCIL_INDEX,t._shape[0],t._shape[1])),i.bindFramebuffer(i.FRAMEBUFFER,t.handle);var c=i.checkFramebufferStatus(i.FRAMEBUFFER);c!==i.FRAMEBUFFER_COMPLETE&&(t.dispose(),o(i,l),a(c)),o(i,l)}}function p(t,e,n,r){d||(d=t.FRAMEBUFFER_UNSUPPORTED,m=t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,y=t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,v=t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var o=t.getExtension("WEBGL_draw_buffers");if(!g&&o&&i(t,o),Array.isArray(e)&&(r=n,n=0|e[1],e=0|e[0]),"number"!=typeof e)throw new Error("gl-fbo: Missing shape parameter");var a=t.getParameter(t.MAX_RENDERBUFFER_SIZE);if(e<0||e>a||n<0||n>a)throw new Error("gl-fbo: Parameters are too large for FBO");r=r||{};var s=1;if("color"in r){if(s=Math.max(0|r.color,0),s<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(s>1){if(!o)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(s>t.getParameter(o.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+s+" draw buffers")}}var l=t.UNSIGNED_BYTE,u=t.getExtension("OES_texture_float");if(r["float"]&&s>0){if(!u)throw new Error("gl-fbo: Context does not support floating point textures");l=t.FLOAT}else r.preferFloat&&s>0&&u&&(l=t.FLOAT);var f=!0;"depth"in r&&(f=!!r.depth);var p=!1;return"stencil"in r&&(p=!!r.stencil),new c(t,e,n,l,s,f,p,o)}var h=t("gl-texture2d");e.exports=p;var d,m,y,v,g=null,b=c.prototype;Object.defineProperties(b,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(t){if(Array.isArray(t)||(t=[0|t,0|t]),2!==t.length)throw new Error("gl-fbo: Shape vector must be length 2");var e=0|t[0],n=0|t[1];return f(this,e,n),[e,n]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(t){return t=0|t,f(this,t,this._shape[1]),t},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(t){return t=0|t,f(this,this._shape[0],t),t},enumerable:!1}}),b.bind=function(){if(!this._destroyed){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.handle),t.viewport(0,0,this._shape[0],this._shape[1])}},b.dispose=function(){if(!this._destroyed){this._destroyed=!0;var t=this.gl;t.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(t.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var e=0;e<this.color.length;++e)this.color[e].dispose(),this.color[e]=null;this._color_rb&&(t.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},{"gl-texture2d":262}],136:[function(t,e,n){n.lineVertex="precision mediump float;\n#define GLSLIFY 1\n\nfloat inverse_1_0(float m) {\n  return 1.0 / m;\n}\n\nmat2 inverse_1_0(mat2 m) {\n  return mat2(m[1][1],-m[0][1],\n             -m[1][0], m[0][0]) / (m[0][0]*m[1][1] - m[0][1]*m[1][0]);\n}\n\nmat3 inverse_1_0(mat3 m) {\n  float a00 = m[0][0], a01 = m[0][1], a02 = m[0][2];\n  float a10 = m[1][0], a11 = m[1][1], a12 = m[1][2];\n  float a20 = m[2][0], a21 = m[2][1], a22 = m[2][2];\n\n  float b01 = a22 * a11 - a12 * a21;\n  float b11 = -a22 * a10 + a12 * a20;\n  float b21 = a21 * a10 - a11 * a20;\n\n  float det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  return mat3(b01, (-a22 * a01 + a02 * a21), (a12 * a01 - a02 * a11),\n              b11, (a22 * a00 - a02 * a20), (-a12 * a00 + a02 * a10),\n              b21, (-a21 * a00 + a01 * a20), (a11 * a00 - a01 * a10)) / det;\n}\n\nmat4 inverse_1_0(mat4 m) {\n  float\n      a00 = m[0][0], a01 = m[0][1], a02 = m[0][2], a03 = m[0][3],\n      a10 = m[1][0], a11 = m[1][1], a12 = m[1][2], a13 = m[1][3],\n      a20 = m[2][0], a21 = m[2][1], a22 = m[2][2], a23 = m[2][3],\n      a30 = m[3][0], a31 = m[3][1], a32 = m[3][2], a33 = m[3][3],\n\n      b00 = a00 * a11 - a01 * a10,\n      b01 = a00 * a12 - a02 * a10,\n      b02 = a00 * a13 - a03 * a10,\n      b03 = a01 * a12 - a02 * a11,\n      b04 = a01 * a13 - a03 * a11,\n      b05 = a02 * a13 - a03 * a12,\n      b06 = a20 * a31 - a21 * a30,\n      b07 = a20 * a32 - a22 * a30,\n      b08 = a20 * a33 - a23 * a30,\n      b09 = a21 * a32 - a22 * a31,\n      b10 = a21 * a33 - a23 * a31,\n      b11 = a22 * a33 - a23 * a32,\n\n      det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  return mat4(\n      a11 * b11 - a12 * b10 + a13 * b09,\n      a02 * b10 - a01 * b11 - a03 * b09,\n      a31 * b05 - a32 * b04 + a33 * b03,\n      a22 * b04 - a21 * b05 - a23 * b03,\n      a12 * b08 - a10 * b11 - a13 * b07,\n      a00 * b11 - a02 * b08 + a03 * b07,\n      a32 * b02 - a30 * b05 - a33 * b01,\n      a20 * b05 - a22 * b02 + a23 * b01,\n      a10 * b10 - a11 * b08 + a13 * b06,\n      a01 * b08 - a00 * b10 - a03 * b06,\n      a30 * b04 - a31 * b02 + a33 * b00,\n      a21 * b02 - a20 * b04 - a23 * b00,\n      a11 * b07 - a10 * b09 - a12 * b06,\n      a00 * b09 - a01 * b07 + a02 * b06,\n      a31 * b01 - a30 * b03 - a32 * b00,\n      a20 * b03 - a21 * b01 + a22 * b00) / det;\n}\n\n\n\nattribute vec2 a, d;\n\nuniform mat3 matrix;\nuniform vec2 screenShape;\nuniform float width;\n\nvarying vec2 direction;\n\nvoid main() {\n  vec2 dir = (matrix * vec3(d, 0)).xy;\n  vec3 base = matrix * vec3(a, 1);\n  vec2 n = 0.5 * width *\n    normalize(screenShape.yx * vec2(dir.y, -dir.x)) / screenShape.xy;\n  vec2 tangent = normalize(screenShape.xy * dir);\n  if(dir.x < 0.0 || (dir.x == 0.0 && dir.y < 0.0)) {\n    direction = -tangent;\n  } else {\n    direction = tangent;\n  }\n  gl_Position = vec4(base.xy/base.z + n, 0, 1);\n}\n",n.lineFragment="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nuniform vec2 screenShape;\nuniform sampler2D dashPattern;\nuniform float dashLength;\n\nvarying vec2 direction;\n\nvoid main() {\n  float t = fract(dot(direction, gl_FragCoord.xy) / dashLength);\n  vec4 pcolor = color * texture2D(dashPattern, vec2(t, 0.0)).r;\n  gl_FragColor = vec4(pcolor.rgb * pcolor.a, pcolor.a);\n}\n",n.mitreVertex="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 p;\n\nuniform mat3  matrix;\nuniform vec2 screenShape;\nuniform float radius;\n\nvoid main() {\n  vec3 pp = matrix * vec3(p, 1);\n  gl_Position  = vec4(pp.xy, 0, pp.z);\n  gl_PointSize = radius;\n}\n",n.mitreFragment="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  if(length(gl_PointCoord.xy - 0.5) > 0.25) {\n    discard;\n  }\n  gl_FragColor = vec4(color.rgb, color.a);\n}\n",n.pickVertex="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 a, d;\nattribute vec4 pick0, pick1;\n\nuniform mat3 matrix;\nuniform vec2 screenShape;\nuniform float width;\n\nvarying vec4 pickA, pickB;\n\nfloat inverse_1_0(float m) {\n  return 1.0 / m;\n}\n\nmat2 inverse_1_0(mat2 m) {\n  return mat2(m[1][1],-m[0][1],\n             -m[1][0], m[0][0]) / (m[0][0]*m[1][1] - m[0][1]*m[1][0]);\n}\n\nmat3 inverse_1_0(mat3 m) {\n  float a00 = m[0][0], a01 = m[0][1], a02 = m[0][2];\n  float a10 = m[1][0], a11 = m[1][1], a12 = m[1][2];\n  float a20 = m[2][0], a21 = m[2][1], a22 = m[2][2];\n\n  float b01 = a22 * a11 - a12 * a21;\n  float b11 = -a22 * a10 + a12 * a20;\n  float b21 = a21 * a10 - a11 * a20;\n\n  float det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  return mat3(b01, (-a22 * a01 + a02 * a21), (a12 * a01 - a02 * a11),\n              b11, (a22 * a00 - a02 * a20), (-a12 * a00 + a02 * a10),\n              b21, (-a21 * a00 + a01 * a20), (a11 * a00 - a01 * a10)) / det;\n}\n\nmat4 inverse_1_0(mat4 m) {\n  float\n      a00 = m[0][0], a01 = m[0][1], a02 = m[0][2], a03 = m[0][3],\n      a10 = m[1][0], a11 = m[1][1], a12 = m[1][2], a13 = m[1][3],\n      a20 = m[2][0], a21 = m[2][1], a22 = m[2][2], a23 = m[2][3],\n      a30 = m[3][0], a31 = m[3][1], a32 = m[3][2], a33 = m[3][3],\n\n      b00 = a00 * a11 - a01 * a10,\n      b01 = a00 * a12 - a02 * a10,\n      b02 = a00 * a13 - a03 * a10,\n      b03 = a01 * a12 - a02 * a11,\n      b04 = a01 * a13 - a03 * a11,\n      b05 = a02 * a13 - a03 * a12,\n      b06 = a20 * a31 - a21 * a30,\n      b07 = a20 * a32 - a22 * a30,\n      b08 = a20 * a33 - a23 * a30,\n      b09 = a21 * a32 - a22 * a31,\n      b10 = a21 * a33 - a23 * a31,\n      b11 = a22 * a33 - a23 * a32,\n\n      det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  return mat4(\n      a11 * b11 - a12 * b10 + a13 * b09,\n      a02 * b10 - a01 * b11 - a03 * b09,\n      a31 * b05 - a32 * b04 + a33 * b03,\n      a22 * b04 - a21 * b05 - a23 * b03,\n      a12 * b08 - a10 * b11 - a13 * b07,\n      a00 * b11 - a02 * b08 + a03 * b07,\n      a32 * b02 - a30 * b05 - a33 * b01,\n      a20 * b05 - a22 * b02 + a23 * b01,\n      a10 * b10 - a11 * b08 + a13 * b06,\n      a01 * b08 - a00 * b10 - a03 * b06,\n      a30 * b04 - a31 * b02 + a33 * b00,\n      a21 * b02 - a20 * b04 - a23 * b00,\n      a11 * b07 - a10 * b09 - a12 * b06,\n      a00 * b09 - a01 * b07 + a02 * b06,\n      a31 * b01 - a30 * b03 - a32 * b00,\n      a20 * b03 - a21 * b01 + a22 * b00) / det;\n}\n\n\n\nvoid main() {\n  vec3 base = matrix * vec3(a, 1);\n  vec2 n = width *\n    normalize(screenShape.yx * vec2(d.y, -d.x)) / screenShape.xy;\n  gl_Position = vec4(base.xy/base.z + n, 0, 1);\n  pickA = pick0;\n  pickB = pick1;\n}\n",n.pickFragment="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 pickOffset;\n\nvarying vec4 pickA, pickB;\n\nvoid main() {\n  vec4 fragId = vec4(pickA.xyz, 0.0);\n  if(pickB.w > pickA.w) {\n    fragId.xyz = pickB.xyz;\n  }\n\n  fragId += pickOffset;\n\n  fragId.y += floor(fragId.x / 256.0);\n  fragId.x -= floor(fragId.x / 256.0) * 256.0;\n\n  fragId.z += floor(fragId.y / 256.0);\n  fragId.y -= floor(fragId.y / 256.0) * 256.0;\n\n  fragId.w += floor(fragId.z / 256.0);\n  fragId.z -= floor(fragId.z / 256.0) * 256.0;\n\n  gl_FragColor = fragId / 255.0;\n}\n",n.fillVertex="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 a, d;\n\nuniform mat3 matrix;\nuniform vec2 projectAxis;\nuniform float projectValue;\nuniform float depth;\n\nvoid main() {\n  vec3 base = matrix * vec3(a, 1);\n  vec2 p = base.xy / base.z;\n  if(d.y < 0.0 || (d.y == 0.0 && d.x < 0.0)) {\n    if(dot(p, projectAxis) < projectValue) {\n      p = p * (1.0 - abs(projectAxis)) + projectAxis * projectValue;\n    }\n  }\n  gl_Position = vec4(p, depth, 1);\n}\n",n.fillFragment="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = vec4(color.rgb * color.a, color.a);\n}\n"},{}],137:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s){this.plot=t,this.dashPattern=e,this.lineBuffer=n,this.pickBuffer=r,this.lineShader=o,this.mitreShader=i,this.fillShader=a,this.pickShader=s,this.usingDashes=!1,this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.width=1,this.color=[0,0,1,1],this.fill=[!1,!1,!1,!1],this.fillColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.data=null,this.numPoints=0,this.vertCount=0,this.pickOffset=0,this.lodBuffer=[]}function o(t){return t.map(function(t){return t.slice()})}function i(t,e){var n=t.gl,o=s(n),i=s(n),u=l(n,[1,1]),c=a(n,f.lineVertex,f.lineFragment),p=a(n,f.mitreVertex,f.mitreFragment),h=a(n,f.fillVertex,f.fillFragment),d=a(n,f.pickVertex,f.pickFragment),m=new r(t,u,o,i,c,p,h,d);return t.addObject(m),m.update(e),m}e.exports=i;var a=t("gl-shader"),s=t("gl-buffer"),l=t("gl-texture2d"),u=t("ndarray"),c=t("typedarray-pool"),f=t("./lib/shaders"),p=r.prototype;p.draw=function(){var t=[1,0,0,0,1,0,0,0,1],e=[0,0],n=[1,0],r=[-1,0],o=[0,1],i=[0,-1];return function(){var a=this.plot,s=this.color,l=this.width,u=(this.numPoints,this.bounds),c=this.vertCount;if(c){var f=a.gl,p=a.viewBox,h=a.dataBox,d=a.pixelRatio,m=u[2]-u[0],y=u[3]-u[1],v=h[2]-h[0],g=h[3]-h[1],b=p[2]-p[0],_=p[3]-p[1];
t[0]=2*m/v,t[4]=2*y/g,t[6]=2*(u[0]-h[0])/v-1,t[7]=2*(u[1]-h[1])/g-1,e[0]=b,e[1]=_;var x=this.lineBuffer;x.bind();var w=this.fill;if(w[0]||w[1]||w[2]||w[3]){var T=this.fillShader;T.bind();var E=T.uniforms;E.matrix=t,E.depth=a.nextDepthValue();var C=T.attributes;C.a.pointer(f.FLOAT,!1,16,0),C.d.pointer(f.FLOAT,!1,16,8),f.depthMask(!0),f.enable(f.DEPTH_TEST);var k=this.fillColor;w[0]&&(E.color=k[0],E.projectAxis=r,E.projectValue=1,f.drawArrays(f.TRIANGLES,0,c)),w[1]&&(E.color=k[1],E.projectAxis=i,E.projectValue=1,f.drawArrays(f.TRIANGLES,0,c)),w[2]&&(E.color=k[2],E.projectAxis=n,E.projectValue=1,f.drawArrays(f.TRIANGLES,0,c)),w[3]&&(E.color=k[3],E.projectAxis=o,E.projectValue=1,f.drawArrays(f.TRIANGLES,0,c)),f.depthMask(!1),f.disable(f.DEPTH_TEST)}var S=this.lineShader;S.bind();var P=S.uniforms;P.matrix=t,P.color=s,P.width=l*d,P.screenShape=e,P.dashPattern=this.dashPattern.bind(),P.dashLength=this.dashLength*d;var M=S.attributes;if(M.a.pointer(f.FLOAT,!1,16,0),M.d.pointer(f.FLOAT,!1,16,8),f.drawArrays(f.TRIANGLES,0,c),l>2&&!this.usingDashes){var A=this.mitreShader;A.bind();var O=A.uniforms;O.matrix=t,O.color=s,O.screenShape=e,O.radius=l*d,A.attributes.p.pointer(f.FLOAT,!1,48,0),f.drawArrays(f.POINTS,0,c/3|0)}}}}(),p.drawPick=function(){var t=[1,0,0,0,1,0,0,0,1],e=[0,0],n=[0,0,0,0];return function(r){var o=this.plot,i=this.pickShader,a=this.lineBuffer,s=this.pickBuffer,l=this.width,u=this.numPoints,c=this.bounds,f=this.vertCount,p=o.gl,h=o.viewBox,d=o.dataBox,m=o.pickPixelRatio,y=c[2]-c[0],v=c[3]-c[1],g=d[2]-d[0],b=d[3]-d[1],_=h[2]-h[0],x=h[3]-h[1];if(this.pickOffset=r,!f)return r+u;t[0]=2*y/g,t[4]=2*v/b,t[6]=2*(c[0]-d[0])/g-1,t[7]=2*(c[1]-d[1])/b-1,e[0]=_,e[1]=x,n[0]=255&r,n[1]=r>>>8&255,n[2]=r>>>16&255,n[3]=r>>>24,i.bind();var w=i.uniforms;w.matrix=t,w.width=l*m,w.pickOffset=n,w.screenShape=e;var T=i.attributes;return a.bind(),T.a.pointer(p.FLOAT,!1,16,0),T.d.pointer(p.FLOAT,!1,16,8),s.bind(),T.pick0.pointer(p.UNSIGNED_BYTE,!1,8,0),T.pick1.pointer(p.UNSIGNED_BYTE,!1,8,4),p.drawArrays(p.TRIANGLES,0,f),r+u}}(),p.pick=function(t,e,n){var r=this.pickOffset,o=this.numPoints;if(n<r||n>=r+o)return null;var i=n-r,a=this.data;return{object:this,pointId:i,dataCoord:[a[2*i],a[2*i+1]]}},p.update=function(t){t=t||{};var e=this.plot.gl;!!t.connectGaps;this.color=(t.color||[0,0,1,1]).slice(),this.width=+(t.width||1),this.fill=(t.fill||[!1,!1,!1,!1]).slice(),this.fillColor=o(t.fillColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);for(var n=t.dashes||[1],r=0,i=0;i<n.length;++i)r+=n[i];for(var a=c.mallocUint8(r),s=0,f=255,i=0;i<n.length;++i){for(var p=0;p<n[i];++p)a[s++]=f;f^=255}this.dashPattern.dispose(),this.usingDashes=n.length>1,this.dashPattern=l(e,u(a,[r,1,4],[1,0,0])),this.dashPattern.minFilter=e.NEAREST,this.dashPattern.magFilter=e.NEAREST,this.dashLength=r,c.free(a);var h=t.positions;this.data=h;var d=this.bounds;d[0]=d[1]=1/0,d[2]=d[3]=-(1/0);var m=this.numPoints=h.length>>>1;if(0!==m){for(var i=0;i<m;++i){var y=h[2*i],v=h[2*i+1];isNaN(y)||isNaN(v)||(d[0]=Math.min(d[0],y),d[1]=Math.min(d[1],v),d[2]=Math.max(d[2],y),d[3]=Math.max(d[3],v))}d[0]===d[2]&&(d[2]+=1),d[3]===d[1]&&(d[3]+=1);for(var g=c.mallocFloat32(24*(m-1)),b=c.mallocUint32(12*(m-1)),_=g.length,x=b.length,s=m,w=0;s>1;){var T=--s,y=h[2*s],v=h[2*s+1],E=T-1,C=h[2*E],k=h[2*E+1];if(!(isNaN(y)||isNaN(v)||isNaN(C)||isNaN(k))){w+=1,y=(y-d[0])/(d[2]-d[0]),v=(v-d[1])/(d[3]-d[1]),C=(C-d[0])/(d[2]-d[0]),k=(k-d[1])/(d[3]-d[1]);var S=C-y,P=k-v,M=T|1<<24,A=T-1,O=T,D=T-1|1<<24;g[--_]=-P,g[--_]=-S,g[--_]=v,g[--_]=y,b[--x]=M,b[--x]=A,g[--_]=P,g[--_]=S,g[--_]=k,g[--_]=C,b[--x]=O,b[--x]=D,g[--_]=-P,g[--_]=-S,g[--_]=k,g[--_]=C,b[--x]=O,b[--x]=D,g[--_]=P,g[--_]=S,g[--_]=k,g[--_]=C,b[--x]=O,b[--x]=D,g[--_]=-P,g[--_]=-S,g[--_]=v,g[--_]=y,b[--x]=M,b[--x]=A,g[--_]=P,g[--_]=S,g[--_]=v,g[--_]=y,b[--x]=M,b[--x]=A}}this.vertCount=6*w,this.lineBuffer.update(g.subarray(_)),this.pickBuffer.update(b.subarray(x)),c.free(g),c.free(b)}},p.dispose=function(){this.plot.removeObject(this),this.lineBuffer.dispose(),this.pickBuffer.dispose(),this.lineShader.dispose(),this.mitreShader.dispose(),this.fillShader.dispose(),this.pickShader.dispose(),this.dashPattern.dispose()}},{"./lib/shaders":136,"gl-buffer":130,"gl-shader":237,"gl-texture2d":262,ndarray:485,"typedarray-pool":510}],138:[function(t,e,n){var r=t("gl-shader"),o="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvoid main() {\n  vec4 projected = projection * view * model * vec4(position, 1.0);\n  vec4 tangentClip = projection * view * model * vec4(nextPosition - position, 0.0);\n  vec2 tangent = normalize(screenShape * tangentClip.xy);\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(tangent.y, -tangent.x) / screenShape;\n\n  gl_Position = vec4(projected.xy + projected.w * offset, projected.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n",i="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if(any(lessThan(worldPosition, clipBounds[0])) || any(greaterThan(worldPosition, clipBounds[1]))) {\n    discard;\n  }\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n",a="precision mediump float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\nlowp vec4 encode_float_1_0(highp float v) {\n  highp float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  highp vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  highp float e = floor(log2(av));\n  highp float m = av * pow(2.0, -e) - 1.0;\n  \n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n  \n  //Unpack exponent\n  highp float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0; \n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\n\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if(any(lessThan(worldPosition, clipBounds[0])) || any(greaterThan(worldPosition, clipBounds[1]))) {\n    discard;\n  }\n  gl_FragColor = vec4(pickId/255.0, encode_float_1_0(pixelArcLength).xyz);\n}",s=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];n.createShader=function(t){return r(t,o,i,null,s)},n.createPickShader=function(t){return r(t,o,a,null,s)}},{"gl-shader":237}],139:[function(t,e,n){"use strict";function r(t,e){for(var n=0,r=0;r<3;++r){var o=t[r]-e[r];n+=o*o}return Math.sqrt(n)}function o(t){for(var e=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],n=0;n<3;++n)e[0][n]=Math.max(t[0][n],e[0][n]),e[1][n]=Math.min(t[1][n],e[1][n]);return e}function i(t,e,n,r){this.arcLength=t,this.position=e,this.index=n,this.dataCoordinate=r}function a(t,e,n,r,o,i){this.gl=t,this.shader=e,this.pickShader=n,this.buffer=r,this.vao=o,this.clipBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=i,this.dashScale=1,this.opacity=1,this.dirty=!0,this.pixelRatio=1}function s(t){var e=t.gl||t.scene&&t.scene.gl,n=m(e);n.attributes.position.location=0,n.attributes.nextPosition.location=1,n.attributes.arcLength.location=2,n.attributes.lineWidth.location=3,n.attributes.color.location=4;var r=y(e);r.attributes.position.location=0,r.attributes.nextPosition.location=1,r.attributes.arcLength.location=2,r.attributes.lineWidth.location=3,r.attributes.color.location=4;for(var o=l(e),i=u(e,[{buffer:o,size:3,offset:0,stride:48},{buffer:o,size:3,offset:12,stride:48},{buffer:o,size:1,offset:24,stride:48},{buffer:o,size:1,offset:28,stride:48},{buffer:o,size:4,offset:32,stride:48}]),s=h(new Array(1024),[256,1,4]),f=0;f<1024;++f)s.data[f]=255;var p=c(e,s);p.wrap=e.REPEAT;var d=new a(e,n,r,o,i,p);return d.update(t),d}e.exports=s;var l=t("gl-buffer"),u=t("gl-vao"),c=t("gl-texture2d"),f=t("glsl-read-float"),p=t("binary-search-bounds"),h=t("ndarray"),d=t("./lib/shaders"),m=d.createShader,y=d.createPickShader,v=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],g=a.prototype;g.isTransparent=function(){return this.opacity<1},g.isOpaque=function(){return this.opacity>=1},g.pickSlots=1,g.setPickBase=function(t){this.pickId=t},g.drawTransparent=g.draw=function(t){var e=this.gl,n=this.shader,r=this.vao;n.bind(),n.uniforms={model:t.model||v,view:t.view||v,projection:t.projection||v,clipBounds:o(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[e.drawingBufferWidth,e.drawingBufferHeight],pixelRatio:this.pixelRatio},r.bind(),r.draw(e.TRIANGLE_STRIP,this.vertexCount)},g.drawPick=function(t){var e=this.gl,n=this.pickShader,r=this.vao;n.bind(),n.uniforms={model:t.model||v,view:t.view||v,projection:t.projection||v,pickId:this.pickId,clipBounds:o(this.clipBounds),screenShape:[e.drawingBufferWidth,e.drawingBufferHeight],pixelRatio:this.pixelRatio},r.bind(),r.draw(e.TRIANGLE_STRIP,this.vertexCount)},g.update=function(t){var e,n;this.dirty=!0;var o=!!t.connectGaps;"dashScale"in t&&(this.dashScale=t.dashScale),"opacity"in t&&(this.opacity=+t.opacity);var i=t.position||t.positions;if(i){var a=t.color||t.colors||[0,0,0,1],s=t.lineWidth||1,l=[],u=[],c=[],f=0,d=0,m=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],y=!1;t:for(e=1;e<i.length;++e){var v=i[e-1],g=i[e];for(u.push(f),c.push(v.slice()),n=0;n<3;++n){if(isNaN(v[n])||isNaN(g[n])||!isFinite(v[n])||!isFinite(g[n])){if(!o&&l.length>0){for(var b=0;b<24;++b)l.push(l[l.length-12]);d+=2,y=!0}continue t}m[0][n]=Math.min(m[0][n],v[n],g[n]),m[1][n]=Math.max(m[1][n],v[n],g[n])}var _,x;Array.isArray(a[0])?(_=a[e-1],x=a[e]):_=x=a,3===_.length&&(_=[_[0],_[1],_[2],1]),3===x.length&&(x=[x[0],x[1],x[2],1]);var w;w=Array.isArray(s)?s[e-1]:s;var T=f;if(f+=r(v,g),y){for(n=0;n<2;++n)l.push(v[0],v[1],v[2],g[0],g[1],g[2],T,w,_[0],_[1],_[2],_[3]);d+=2,y=!1}l.push(v[0],v[1],v[2],g[0],g[1],g[2],T,w,_[0],_[1],_[2],_[3],v[0],v[1],v[2],g[0],g[1],g[2],T,-w,_[0],_[1],_[2],_[3],g[0],g[1],g[2],v[0],v[1],v[2],f,-w,x[0],x[1],x[2],x[3],g[0],g[1],g[2],v[0],v[1],v[2],f,w,x[0],x[1],x[2],x[3]),d+=4}if(this.buffer.update(l),u.push(f),c.push(i[i.length-1].slice()),this.bounds=m,this.vertexCount=d,this.points=c,this.arcLength=u,"dashes"in t){var E=t.dashes,C=E.slice();for(C.unshift(0),e=1;e<C.length;++e)C[e]=C[e-1]+C[e];var k=h(new Array(1024),[256,1,4]);for(e=0;e<256;++e){for(n=0;n<4;++n)k.set(e,0,n,0);1&p.le(C,C[C.length-1]*e/255)?k.set(e,0,0,0):k.set(e,0,0,255)}this.texture.setPixels(k)}}},g.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},g.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=f(t.value[0],t.value[1],t.value[2],0),n=p.le(this.arcLength,e);if(n<0)return null;if(n===this.arcLength.length-1)return new i(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),n);for(var r=this.points[n],o=this.points[Math.min(n+1,this.points.length-1)],a=(e-this.arcLength[n])/(this.arcLength[n+1]-this.arcLength[n]),s=1-a,l=[0,0,0],u=0;u<3;++u)l[u]=s*r[u]+a*o[u];var c=Math.min(a<.5?n:n+1,this.points.length-1);return new i(e,l,c,this.points[c])}},{"./lib/shaders":138,"binary-search-bounds":140,"gl-buffer":130,"gl-texture2d":262,"gl-vao":266,"glsl-read-float":141,ndarray:485}],140:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],141:[function(t,e,n){function r(t,e,n,r){return o[0]=r,o[1]=n,o[2]=e,o[3]=t,i[0]}e.exports=r;var o=new Uint8Array(4),i=new Float32Array(o.buffer)},{}],142:[function(t,e,n){function r(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=c*a-s*u,p=-c*i+s*l,h=u*i-a*l,d=n*f+r*p+o*h;return d?(d=1/d,t[0]=f*d,t[1]=(-c*r+o*u)*d,t[2]=(s*r-o*a)*d,t[3]=p*d,t[4]=(c*n-o*l)*d,t[5]=(-s*n+o*i)*d,t[6]=h*d,t[7]=(-u*n+r*l)*d,t[8]=(a*n-r*i)*d,t):null}e.exports=r},{}],143:[function(t,e,n){function r(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}e.exports=r},{}],144:[function(t,e,n){function r(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=r},{}],145:[function(t,e,n){function r(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],p=t[11],h=t[12],d=t[13],m=t[14],y=t[15],v=e*a-n*i,g=e*s-r*i,b=e*l-o*i,_=n*s-r*a,x=n*l-o*a,w=r*l-o*s,T=u*d-c*h,E=u*m-f*h,C=u*y-p*h,k=c*m-f*d,S=c*y-p*d,P=f*y-p*m;return v*P-g*S+b*k+_*C-x*E+w*T}e.exports=r},{}],146:[function(t,e,n){function r(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,s=r+r,l=o+o,u=n*a,c=r*a,f=r*s,p=o*a,h=o*s,d=o*l,m=i*a,y=i*s,v=i*l;return t[0]=1-f-d,t[1]=c+v,t[2]=p-y,t[3]=0,t[4]=c-v,t[5]=1-u-d,t[6]=h+m,t[7]=0,t[8]=p+y,t[9]=h-m,t[10]=1-u-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=r},{}],147:[function(t,e,n){function r(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=r+r,l=o+o,u=i+i,c=r*s,f=r*l,p=r*u,h=o*l,d=o*u,m=i*u,y=a*s,v=a*l,g=a*u;return t[0]=1-(h+m),t[1]=f+g,t[2]=p-v,t[3]=0,t[4]=f-g,t[5]=1-(c+m),t[6]=d+y,t[7]=0,t[8]=p+v,t[9]=d-y,t[10]=1-(c+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}e.exports=r},{}],148:[function(t,e,n){function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=r},{}],149:[function(t,e,n){function r(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],p=e[10],h=e[11],d=e[12],m=e[13],y=e[14],v=e[15],g=n*s-r*a,b=n*l-o*a,_=n*u-i*a,x=r*l-o*s,w=r*u-i*s,T=o*u-i*l,E=c*m-f*d,C=c*y-p*d,k=c*v-h*d,S=f*y-p*m,P=f*v-h*m,M=p*v-h*y,A=g*M-b*P+_*S+x*k-w*C+T*E;return A?(A=1/A,t[0]=(s*M-l*P+u*S)*A,t[1]=(o*P-r*M-i*S)*A,t[2]=(m*T-y*w+v*x)*A,t[3]=(p*w-f*T-h*x)*A,t[4]=(l*k-a*M-u*C)*A,t[5]=(n*M-o*k+i*C)*A,t[6]=(y*_-d*T-v*b)*A,t[7]=(c*T-p*_+h*b)*A,t[8]=(a*P-s*k+u*E)*A,t[9]=(r*k-n*P-i*E)*A,t[10]=(d*w-m*_+v*g)*A,t[11]=(f*_-c*w-h*g)*A,t[12]=(s*C-a*S-l*E)*A,t[13]=(n*S-r*C+o*E)*A,t[14]=(m*b-d*x-y*g)*A,t[15]=(c*x-f*b+p*g)*A,t):null}e.exports=r},{}],150:[function(t,e,n){function r(t,e,n,r){var i,a,s,l,u,c,f,p,h,d,m=e[0],y=e[1],v=e[2],g=r[0],b=r[1],_=r[2],x=n[0],w=n[1],T=n[2];return Math.abs(m-x)<1e-6&&Math.abs(y-w)<1e-6&&Math.abs(v-T)<1e-6?o(t):(f=m-x,p=y-w,h=v-T,d=1/Math.sqrt(f*f+p*p+h*h),f*=d,p*=d,h*=d,i=b*h-_*p,a=_*f-g*h,s=g*p-b*f,d=Math.sqrt(i*i+a*a+s*s),d?(d=1/d,i*=d,a*=d,s*=d):(i=0,a=0,s=0),l=p*s-h*a,u=h*i-f*s,c=f*a-p*i,d=Math.sqrt(l*l+u*u+c*c),d?(d=1/d,l*=d,u*=d,c*=d):(l=0,u=0,c=0),t[0]=i,t[1]=l,t[2]=f,t[3]=0,t[4]=a,t[5]=u,t[6]=p,t[7]=0,t[8]=s,t[9]=c,t[10]=h,t[11]=0,t[12]=-(i*m+a*y+s*v),t[13]=-(l*m+u*y+c*v),t[14]=-(f*m+p*y+h*v),t[15]=1,t)}var o=t("./identity");e.exports=r},{"./identity":148}],151:[function(t,e,n){function r(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],p=e[9],h=e[10],d=e[11],m=e[12],y=e[13],v=e[14],g=e[15],b=n[0],_=n[1],x=n[2],w=n[3];return t[0]=b*r+_*s+x*f+w*m,t[1]=b*o+_*l+x*p+w*y,t[2]=b*i+_*u+x*h+w*v,t[3]=b*a+_*c+x*d+w*g,b=n[4],_=n[5],x=n[6],w=n[7],t[4]=b*r+_*s+x*f+w*m,t[5]=b*o+_*l+x*p+w*y,t[6]=b*i+_*u+x*h+w*v,t[7]=b*a+_*c+x*d+w*g,b=n[8],_=n[9],x=n[10],w=n[11],t[8]=b*r+_*s+x*f+w*m,t[9]=b*o+_*l+x*p+w*y,t[10]=b*i+_*u+x*h+w*v,t[11]=b*a+_*c+x*d+w*g,b=n[12],_=n[13],x=n[14],w=n[15],t[12]=b*r+_*s+x*f+w*m,t[13]=b*o+_*l+x*p+w*y,t[14]=b*i+_*u+x*h+w*v,t[15]=b*a+_*c+x*d+w*g,t}e.exports=r},{}],152:[function(t,e,n){function r(t,e,n,r,o){var i=1/Math.tan(e/2),a=1/(r-o);return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*r*a,t[15]=0,t}e.exports=r},{}],153:[function(t,e,n){function r(t,e,n,r){var o,i,a,s,l,u,c,f,p,h,d,m,y,v,g,b,_,x,w,T,E,C,k,S,P=r[0],M=r[1],A=r[2],O=Math.sqrt(P*P+M*M+A*A);return Math.abs(O)<1e-6?null:(O=1/O,P*=O,M*=O,A*=O,o=Math.sin(n),i=Math.cos(n),a=1-i,s=e[0],l=e[1],u=e[2],c=e[3],f=e[4],p=e[5],h=e[6],d=e[7],m=e[8],y=e[9],v=e[10],g=e[11],b=P*P*a+i,_=M*P*a+A*o,x=A*P*a-M*o,w=P*M*a-A*o,T=M*M*a+i,E=A*M*a+P*o,C=P*A*a+M*o,k=M*A*a-P*o,S=A*A*a+i,t[0]=s*b+f*_+m*x,t[1]=l*b+p*_+y*x,t[2]=u*b+h*_+v*x,t[3]=c*b+d*_+g*x,t[4]=s*w+f*T+m*E,t[5]=l*w+p*T+y*E,t[6]=u*w+h*T+v*E,t[7]=c*w+d*T+g*E,t[8]=s*C+f*k+m*S,t[9]=l*C+p*k+y*S,t[10]=u*C+h*k+v*S,t[11]=c*C+d*k+g*S,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}e.exports=r},{}],154:[function(t,e,n){function r(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+u*r,t[5]=a*o+c*r,t[6]=s*o+f*r,t[7]=l*o+p*r,t[8]=u*o-i*r,t[9]=c*o-a*r,t[10]=f*o-s*r,t[11]=p*o-l*r,t}e.exports=r},{}],155:[function(t,e,n){function r(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],l=e[3],u=e[8],c=e[9],f=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o-u*r,t[1]=a*o-c*r,t[2]=s*o-f*r,t[3]=l*o-p*r,t[8]=i*r+u*o,t[9]=a*r+c*o,t[10]=s*r+f*o,t[11]=l*r+p*o,t}e.exports=r},{}],156:[function(t,e,n){function r(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],f=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+u*r,t[1]=a*o+c*r,t[2]=s*o+f*r,t[3]=l*o+p*r,t[4]=u*o-i*r,t[5]=c*o-a*r,t[6]=f*o-s*r,t[7]=p*o-l*r,t}e.exports=r},{}],157:[function(t,e,n){function r(t,e,n){var r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}e.exports=r},{}],158:[function(t,e,n){function r(t,e,n){var r,o,i,a,s,l,u,c,f,p,h,d,m=n[0],y=n[1],v=n[2];return e===t?(t[12]=e[0]*m+e[4]*y+e[8]*v+e[12],t[13]=e[1]*m+e[5]*y+e[9]*v+e[13],t[14]=e[2]*m+e[6]*y+e[10]*v+e[14],t[15]=e[3]*m+e[7]*y+e[11]*v+e[15]):(r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],p=e[9],h=e[10],d=e[11],t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=f,t[9]=p,t[10]=h,t[11]=d,t[12]=r*m+s*y+f*v+e[12],t[13]=o*m+l*y+p*v+e[13],t[14]=i*m+u*y+h*v+e[14],t[15]=a*m+c*y+d*v+e[15]),t}e.exports=r},{}],159:[function(t,e,n){function r(t,e){if(t===e){var n=e[1],r=e[2],o=e[3],i=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=o,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}e.exports=r},{}],160:[function(t,e,n){"use strict";function r(t,e){for(var n=[0,0,0,0],r=0;r<4;++r)for(var o=0;o<4;++o)n[o]+=t[4*r+o]*e[r];return n}function o(t,e,n,o,i){for(var a=r(o,r(n,r(e,[t[0],t[1],t[2],1]))),s=0;s<3;++s)a[s]/=a[3];return[.5*i[0]*(1+a[0]),.5*i[1]*(1-a[1])]}function i(t,e){if(2===t.length){for(var n=0,r=0,o=0;o<2;++o)n+=Math.pow(e[o]-t[0][o],2),r+=Math.pow(e[o]-t[1][o],2);return n=Math.sqrt(n),r=Math.sqrt(r),n+r<1e-6?[1,0]:[r/(n+r),n/(r+n)]}if(3===t.length){var i=[0,0];return u(t[0],t[1],t[2],e,i),l(t,i)}return[]}function a(t,e){for(var n=[0,0,0],r=0;r<t.length;++r)for(var o=t[r],i=e[r],a=0;a<3;++a)n[a]+=i*o[a];return n}function s(t,e,n,r,s,l){if(1===t.length)return[0,t[0].slice()];for(var u=new Array(t.length),c=0;c<t.length;++c)u[c]=o(t[c],n,r,s,l);for(var f=0,p=1/0,c=0;c<u.length;++c){for(var h=0,d=0;d<2;++d)h+=Math.pow(u[c][d]-e[d],2);h<p&&(p=h,f=c)}for(var m=i(u,e),y=0,c=0;c<3;++c){if(m[c]<-.001||m[c]>1.0001)return null;y+=m[c]}return Math.abs(y-1)>.001?null:[f,a(t,m),m]}var l=t("barycentric"),u=t("polytope-closest-point/lib/closest_point_2d.js");e.exports=s},{barycentric:163,"polytope-closest-point/lib/closest_point_2d.js":165}],161:[function(t,e,n){var r="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec4 m_position  = model * vec4(position, 1.0);\n  vec4 t_position  = view * m_position;\n  gl_Position      = projection * t_position;\n  f_color          = color;\n  f_normal         = normal;\n  f_data           = position;\n  f_eyeDirection   = eyePosition   - position;\n  f_lightDirection = lightPosition - position;\n  f_uv             = uv;\n}",o="precision mediump float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution_2_0(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\n\n\nfloat cookTorranceSpecular_1_1(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution_2_0(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular\n            , opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if(any(lessThan(f_data, clipBounds[0])) || \n     any(greaterThan(f_data, clipBounds[1]))) {\n    discard;\n  }\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n  \n  if(!gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = cookTorranceSpecular_1_1(L, V, N, roughness, fresnel);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}",i="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}",a="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if(any(lessThan(f_data, clipBounds[0])) || \n     any(greaterThan(f_data, clipBounds[1]))) {\n    discard;\n  }\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}",s="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0])) || \n     any(greaterThan(position, clipBounds[1]))) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}",l="precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5,0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}",u="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}",c="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if(any(lessThan(f_position, clipBounds[0])) || \n     any(greaterThan(f_position, clipBounds[1]))) {\n    discard;\n  }\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}",f="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0])) || \n     any(greaterThan(position, clipBounds[1]))) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}",p="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}",h="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor,1);\n}\n";n.meshShader={vertex:r,fragment:o,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},n.wireShader={vertex:i,fragment:a,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},n.pointShader={vertex:s,fragment:l,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},n.pickShader={vertex:u,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},n.pointPickShader={vertex:f,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},n.contourShader={vertex:p,fragment:h,attributes:[{name:"position",type:"vec3"}]}},{}],162:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s,l,u,c,f,p,h,d,m,y,v,g,b,_,x,w,T,E,C,k){this.gl=t,this.cells=[],this.positions=[],this.intensity=[],this.texture=e,this.dirty=!0,this.triShader=n,this.lineShader=r,this.pointShader=o,this.pickShader=i,this.pointPickShader=a,this.contourShader=s,this.trianglePositions=l,this.triangleColors=c,this.triangleNormals=p,this.triangleUVs=f,this.triangleIds=u,this.triangleVAO=h,this.triangleCount=0,this.lineWidth=1,this.edgePositions=d,this.edgeColors=y,this.edgeUVs=v,this.edgeIds=m,this.edgeVAO=g,this.edgeCount=0,this.pointPositions=b,this.pointColors=x,this.pointUVs=w,this.pointSizes=T,this.pointIds=_,this.pointVAO=E,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=C,this.contourVAO=k,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],this.clipBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this._model=j,this._view=j,this._projection=j,this._resolution=[1,1]}function o(t){for(var e=E({colormap:t,nshades:256,format:"rgba"}),n=new Uint8Array(1024),r=0;r<256;++r){for(var o=e[r],i=0;i<3;++i)n[4*r+i]=o[i];n[4*r+3]=255*o[3]}return T(n,[256,256,4],[4,0,1])}function i(t,e,n){for(var r=new Array(e),o=0;o<e;++o)r[o]=0;for(var i=t.length,o=0;o<i;++o)for(var a=t[o],s=0;s<a.length;++s)r[a[s]]=n[o];return r}function a(t){for(var e=t.length,n=new Array(e),r=0;r<e;++r)n[r]=t[r][2];return n}function s(t){var e=y(t,M);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e.attributes.normal.location=4,e}function l(t){var e=y(t,A);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e}function u(t){var e=y(t,O);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e.attributes.pointSize.location=4,e}function c(t){var e=y(t,D);return e.attributes.position.location=0,e.attributes.id.location=1,e}function f(t){var e=y(t,L);return e.attributes.position.location=0,e.attributes.id.location=1,e.attributes.pointSize.location=4,e}function p(t){var e=y(t,I);return e.attributes.position.location=0,e}function h(t){var e=t.gl,n=s(e),o=l(e),i=u(e),a=c(e),h=f(e),d=p(e),m=b(e,T(new Uint8Array([255,255,255,255]),[1,1,4]));m.generateMipmap(),m.minFilter=e.LINEAR_MIPMAP_LINEAR,m.magFilter=e.LINEAR;var y=v(e),_=v(e),x=v(e),w=v(e),E=v(e),C=g(e,[{buffer:y,type:e.FLOAT,size:3},{buffer:E,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:_,type:e.FLOAT,size:4},{buffer:x,type:e.FLOAT,size:2},{buffer:w,type:e.FLOAT,size:3}]),k=v(e),S=v(e),P=v(e),M=v(e),A=g(e,[{buffer:k,type:e.FLOAT,size:3},{buffer:M,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:S,type:e.FLOAT,size:4},{buffer:P,type:e.FLOAT,size:2}]),O=v(e),D=v(e),L=v(e),I=v(e),j=v(e),F=g(e,[{buffer:O,type:e.FLOAT,size:3},{buffer:j,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:D,type:e.FLOAT,size:4},{buffer:L,type:e.FLOAT,size:2},{buffer:I,type:e.FLOAT,size:1}]),R=v(e),N=g(e,[{buffer:R,type:e.FLOAT,size:3}]),z=new r(e,m,n,o,i,a,h,d,y,E,_,x,w,C,k,M,S,P,A,O,j,D,L,I,F,R,N);return z.update(t),z}var d=1e-6,m=1e-6,y=t("gl-shader"),v=t("gl-buffer"),g=t("gl-vao"),b=t("gl-texture2d"),_=t("normals"),x=t("gl-mat4/multiply"),w=t("gl-mat4/invert"),T=t("ndarray"),E=t("colormap"),C=t("simplicial-complex-contour"),k=t("typedarray-pool"),S=t("./lib/shaders"),P=t("./lib/closest-point"),M=S.meshShader,A=S.wireShader,O=S.pointShader,D=S.pickShader,L=S.pointPickShader,I=S.contourShader,j=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],F=r.prototype;F.isOpaque=function(){return this.opacity>=1},F.isTransparent=function(){return this.opacity<1},F.pickSlots=1,F.setPickBase=function(t){this.pickId=t},F.highlight=function(t){if(!t||!this.contourEnable)return void(this.contourCount=0);for(var e=C(this.cells,this.intensity,t.intensity),n=e.cells,r=e.vertexIds,o=e.vertexWeights,i=n.length,a=k.mallocFloat32(6*i),s=0,l=0;l<i;++l)for(var u=n[l],c=0;c<2;++c){
var f=u[0];2===u.length&&(f=u[c]);for(var p=r[f][0],h=r[f][1],d=o[f],m=1-d,y=this.positions[p],v=this.positions[h],g=0;g<3;++g)a[s++]=d*y[g]+m*v[g]}this.contourCount=s/3|0,this.contourPositions.update(a.subarray(0,s)),k.free(a)},F.update=function(t){t=t||{};var e=this.gl;this.dirty=!0,"contourEnable"in t&&(this.contourEnable=t.contourEnable),"contourColor"in t&&(this.contourColor=t.contourColor),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"lightPosition"in t&&(this.lightPosition=t.lightPosition),"opacity"in t&&(this.opacity=t.opacity),"ambient"in t&&(this.ambientLight=t.ambient),"diffuse"in t&&(this.diffuseLight=t.diffuse),"specular"in t&&(this.specularLight=t.specular),"roughness"in t&&(this.roughness=t.roughness),"fresnel"in t&&(this.fresnel=t.fresnel),t.texture?(this.texture.dispose(),this.texture=b(e,t.texture)):t.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=e.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=e.LINEAR,this.texture.setPixels(o(t.colormap)),this.texture.generateMipmap());var n=t.cells,r=t.positions;if(r&&n){var s=[],l=[],u=[],c=[],f=[],p=[],h=[],y=[],v=[],g=[],x=[],w=[],T=[],E=[];this.cells=n,this.positions=r;var C=t.vertexNormals,k=t.cellNormals,S=void 0===t.vertexNormalsEpsilon?d:t.vertexNormalsEpsilon,P=void 0===t.faceNormalsEpsilon?m:t.faceNormalsEpsilon;t.useFacetNormals&&!k&&(k=_.faceNormals(n,r,P)),k||C||(C=_.vertexNormals(n,r,S));var M=t.vertexColors,A=t.cellColors,O=t.meshColor||[1,1,1,1],D=t.vertexUVs,L=t.vertexIntensity,I=t.cellUVs,j=t.cellIntensity,F=1/0,R=-(1/0);if(!D&&!I)if(L)for(var N=0;N<L.length;++N){var z=L[N];F=Math.min(F,z),R=Math.max(R,z)}else if(j)for(var N=0;N<j.length;++N){var z=j[N];F=Math.min(F,z),R=Math.max(R,z)}else for(var N=0;N<r.length;++N){var z=r[N][2];F=Math.min(F,z),R=Math.max(R,z)}L?this.intensity=L:j?this.intensity=i(n,r.length,j):this.intensity=a(r);var B=t.pointSizes,U=t.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]];for(var N=0;N<r.length;++N)for(var W=r[N],q=0;q<3;++q)!isNaN(W[q])&&isFinite(W[q])&&(this.bounds[0][q]=Math.min(this.bounds[0][q],W[q]),this.bounds[1][q]=Math.max(this.bounds[1][q],W[q]));var V=0,H=0,G=0;t:for(var N=0;N<n.length;++N){var Y=n[N];switch(Y.length){case 1:for(var Z=Y[0],W=r[Z],q=0;q<3;++q)if(isNaN(W[q])||!isFinite(W[q]))continue t;g.push(W[0],W[1],W[2]);var X;X=M?M[Z]:A?A[N]:O,3===X.length?x.push(X[0],X[1],X[2],1):x.push(X[0],X[1],X[2],X[3]);var K;K=D?D[Z]:L?[(L[Z]-F)/(R-F),0]:I?I[N]:j?[(j[N]-F)/(R-F),0]:[(W[2]-F)/(R-F),0],w.push(K[0],K[1]),B?T.push(B[Z]):T.push(U),E.push(N),G+=1;break;case 2:for(var q=0;q<2;++q)for(var Z=Y[q],W=r[Z],Q=0;Q<3;++Q)if(isNaN(W[Q])||!isFinite(W[Q]))continue t;for(var q=0;q<2;++q){var Z=Y[q],W=r[Z];p.push(W[0],W[1],W[2]);var X;X=M?M[Z]:A?A[N]:O,3===X.length?h.push(X[0],X[1],X[2],1):h.push(X[0],X[1],X[2],X[3]);var K;K=D?D[Z]:L?[(L[Z]-F)/(R-F),0]:I?I[N]:j?[(j[N]-F)/(R-F),0]:[(W[2]-F)/(R-F),0],y.push(K[0],K[1]),v.push(N)}H+=1;break;case 3:for(var q=0;q<3;++q)for(var Z=Y[q],W=r[Z],Q=0;Q<3;++Q)if(isNaN(W[Q])||!isFinite(W[Q]))continue t;for(var q=0;q<3;++q){var Z=Y[q],W=r[Z];s.push(W[0],W[1],W[2]);var X;X=M?M[Z]:A?A[N]:O,3===X.length?l.push(X[0],X[1],X[2],1):l.push(X[0],X[1],X[2],X[3]);var K;K=D?D[Z]:L?[(L[Z]-F)/(R-F),0]:I?I[N]:j?[(j[N]-F)/(R-F),0]:[(W[2]-F)/(R-F),0],c.push(K[0],K[1]);var J;J=C?C[Z]:k[N],u.push(J[0],J[1],J[2]),f.push(N)}V+=1}}this.pointCount=G,this.edgeCount=H,this.triangleCount=V,this.pointPositions.update(g),this.pointColors.update(x),this.pointUVs.update(w),this.pointSizes.update(T),this.pointIds.update(new Uint32Array(E)),this.edgePositions.update(p),this.edgeColors.update(h),this.edgeUVs.update(y),this.edgeIds.update(new Uint32Array(v)),this.trianglePositions.update(s),this.triangleColors.update(l),this.triangleUVs.update(c),this.triangleNormals.update(u),this.triangleIds.update(new Uint32Array(f))}},F.drawTransparent=F.draw=function(t){t=t||{};for(var e=this.gl,n=t.model||j,r=t.view||j,o=t.projection||j,i=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)i[0][a]=Math.max(i[0][a],this.clipBounds[0][a]),i[1][a]=Math.min(i[1][a],this.clipBounds[1][a]);var s={model:n,view:r,projection:o,clipBounds:i,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,contourColor:this.contourColor,texture:0};this.texture.bind(0);var l=new Array(16);x(l,s.view,s.model),x(l,s.projection,l),w(l,l);for(var a=0;a<3;++a)s.eyePosition[a]=l[12+a]/l[15];for(var u=l[15],a=0;a<3;++a)u+=this.lightPosition[a]*l[4*a+3];for(var a=0;a<3;++a){for(var c=l[12+a],f=0;f<3;++f)c+=l[4*f+a]*this.lightPosition[f];s.lightPosition[a]=c/u}if(this.triangleCount>0){var p=this.triShader;p.bind(),p.uniforms=s,this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var p=this.lineShader;p.bind(),p.uniforms=s,this.edgeVAO.bind(),e.lineWidth(this.lineWidth),e.drawArrays(e.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()}if(this.pointCount>0){var p=this.pointShader;p.bind(),p.uniforms=s,this.pointVAO.bind(),e.drawArrays(e.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var p=this.contourShader;p.bind(),p.uniforms=s,this.contourVAO.bind(),e.drawArrays(e.LINES,0,this.contourCount),this.contourVAO.unbind()}},F.drawPick=function(t){t=t||{};for(var e=this.gl,n=t.model||j,r=t.view||j,o=t.projection||j,i=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)i[0][a]=Math.max(i[0][a],this.clipBounds[0][a]),i[1][a]=Math.min(i[1][a],this.clipBounds[1][a]);this._model=[].slice.call(n),this._view=[].slice.call(r),this._projection=[].slice.call(o),this._resolution=[e.drawingBufferWidth,e.drawingBufferHeight];var s={model:n,view:r,projection:o,clipBounds:i,pickId:this.pickId/255},l=this.pickShader;if(l.bind(),l.uniforms=s,this.triangleCount>0&&(this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),e.lineWidth(this.lineWidth),e.drawArrays(e.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0){var l=this.pointPickShader;l.bind(),l.uniforms=s,this.pointVAO.bind(),e.drawArrays(e.POINTS,0,this.pointCount),this.pointVAO.unbind()}},F.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;for(var e=t.value[0]+256*t.value[1]+65536*t.value[2],n=this.cells[e],r=this.positions,o=new Array(n.length),i=0;i<n.length;++i)o[i]=r[n[i]];var a=P(o,[t.coord[0],this._resolution[1]-t.coord[1]],this._model,this._view,this._projection,this._resolution);if(!a)return null;for(var s=a[2],l=0,i=0;i<n.length;++i)l+=s[i]*this.intensity[n[i]];return{position:a[1],index:n[a[0]],cell:n,cellId:e,intensity:l,dataCoordinate:this.positions[n[a[0]]]}},F.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},e.exports=h},{"./lib/closest-point":160,"./lib/shaders":161,colormap:112,"gl-buffer":130,"gl-mat4/invert":149,"gl-mat4/multiply":151,"gl-shader":237,"gl-texture2d":262,"gl-vao":266,ndarray:485,normals:164,"simplicial-complex-contour":166,"typedarray-pool":510}],163:[function(t,e,n){"use strict";function r(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return e}function o(t,e){for(var n=e.length,o=new Array(n+1),a=0;a<n;++a){for(var s=new Array(n+1),l=0;l<=n;++l)s[l]=t[l][a];o[a]=s}o[n]=new Array(n+1);for(var a=0;a<=n;++a)o[n][a]=1;for(var u=new Array(n+1),a=0;a<n;++a)u[a]=e[a];u[n]=1;var c=i(o,u),f=r(c[n+1]);0===f&&(f=1);for(var p=new Array(n+1),a=0;a<=n;++a)p[a]=r(c[a])/f;return p}e.exports=o;var i=t("robust-linear-solve")},{"robust-linear-solve":488}],164:[function(t,e,n){var r=1e-6,o=1e-6;n.vertexNormals=function(t,e,n){for(var o=e.length,i=new Array(o),a=void 0===n?r:n,s=0;s<o;++s)i[s]=[0,0,0];for(var s=0;s<t.length;++s)for(var l=t[s],u=0,c=l[l.length-1],f=l[0],p=0;p<l.length;++p){u=c,c=f,f=l[(p+1)%l.length];for(var h=e[u],d=e[c],m=e[f],y=new Array(3),v=0,g=new Array(3),b=0,_=0;_<3;++_)y[_]=h[_]-d[_],v+=y[_]*y[_],g[_]=m[_]-d[_],b+=g[_]*g[_];if(v*b>a)for(var x=i[c],w=1/Math.sqrt(v*b),_=0;_<3;++_){var T=(_+1)%3,E=(_+2)%3;x[_]+=w*(g[T]*y[E]-g[E]*y[T])}}for(var s=0;s<o;++s){for(var x=i[s],C=0,_=0;_<3;++_)C+=x[_]*x[_];if(C>a)for(var w=1/Math.sqrt(C),_=0;_<3;++_)x[_]*=w;else for(var _=0;_<3;++_)x[_]=0}return i},n.faceNormals=function(t,e,n){for(var r=t.length,i=new Array(r),a=void 0===n?o:n,s=0;s<r;++s){for(var l=t[s],u=new Array(3),c=0;c<3;++c)u[c]=e[l[c]];for(var f=new Array(3),p=new Array(3),c=0;c<3;++c)f[c]=u[1][c]-u[0][c],p[c]=u[2][c]-u[0][c];for(var h=new Array(3),d=0,c=0;c<3;++c){var m=(c+1)%3,y=(c+2)%3;h[c]=f[m]*p[y]-f[y]*p[m],d+=h[c]*h[c]}d=d>a?1/Math.sqrt(d):0;for(var c=0;c<3;++c)h[c]*=d;i[s]=h}return i}},{}],165:[function(t,e,n){"use strict";function r(t,e,n,r,s){o.length<r.length&&(o=new Float64Array(r.length),i=new Float64Array(r.length),a=new Float64Array(r.length));for(var l=0;l<r.length;++l)o[l]=t[l]-r[l],i[l]=e[l]-t[l],a[l]=n[l]-t[l];for(var u=0,c=0,f=0,p=0,h=0,d=0,l=0;l<r.length;++l){var m=i[l],y=a[l],v=o[l];u+=m*m,c+=m*y,f+=y*y,p+=v*m,h+=v*y,d+=v*v}var g,b=Math.abs(u*f-c*c),_=c*h-f*p,x=c*p-u*h;if(_+x<=b)if(_<0)x<0&&p<0?(x=0,-p>=u?(_=1,g=u+2*p+d):(_=-p/u,g=p*_+d)):(_=0,h>=0?(x=0,g=d):-h>=f?(x=1,g=f+2*h+d):(x=-h/f,g=h*x+d));else if(x<0)x=0,p>=0?(_=0,g=d):-p>=u?(_=1,g=u+2*p+d):(_=-p/u,g=p*_+d);else{var w=1/b;_*=w,x*=w,g=_*(u*_+c*x+2*p)+x*(c*_+f*x+2*h)+d}else{var T,E,C,k;_<0?(T=c+p,E=f+h,E>T?(C=E-T,k=u-2*c+f,C>=k?(_=1,x=0,g=u+2*p+d):(_=C/k,x=1-_,g=_*(u*_+c*x+2*p)+x*(c*_+f*x+2*h)+d)):(_=0,E<=0?(x=1,g=f+2*h+d):h>=0?(x=0,g=d):(x=-h/f,g=h*x+d))):x<0?(T=c+h,E=u+p,E>T?(C=E-T,k=u-2*c+f,C>=k?(x=1,_=0,g=f+2*h+d):(x=C/k,_=1-x,g=_*(u*_+c*x+2*p)+x*(c*_+f*x+2*h)+d)):(x=0,E<=0?(_=1,g=u+2*p+d):p>=0?(_=0,g=d):(_=-p/u,g=p*_+d))):(C=f+h-c-p,C<=0?(_=0,x=1,g=f+2*h+d):(k=u-2*c+f,C>=k?(_=1,x=0,g=u+2*p+d):(_=C/k,x=1-_,g=_*(u*_+c*x+2*p)+x*(c*_+f*x+2*h)+d)))}for(var S=1-_-x,l=0;l<r.length;++l)s[l]=S*t[l]+_*e[l]+x*n[l];return g<0?0:g}var o=new Float64Array(4),i=new Float64Array(4),a=new Float64Array(4);e.exports=r},{}],166:[function(t,e,n){"use strict";function r(t){for(var e=t.length,n=0,r=0;r<e;++r)n=0|Math.max(n,t[r].length);return n-1}function o(t,e){for(var n=t.length,r=f.mallocUint8(n),o=0;o<n;++o)r[o]=t[o]<e|0;return r}function i(t,e){for(var n=t.length,r=e*(e+1)/2*n|0,o=f.mallocUint32(2*r),i=0,a=0;a<n;++a)for(var s=t[a],e=s.length,l=0;l<e;++l)for(var u=0;u<l;++u){var h=s[u],d=s[l];o[i++]=0|Math.min(h,d),o[i++]=0|Math.max(h,d)}var m=i/2|0;p(c(o,[m,2]));for(var y=2,a=2;a<i;a+=2)o[a-2]===o[a]&&o[a-1]===o[a+1]||(o[y++]=o[a],o[y++]=o[a+1]);return c(o,[y/2|0,2])}function a(t,e,n,r){for(var o=t.data,i=t.shape[0],a=f.mallocDouble(i),s=0,l=0;l<i;++l){var u=o[2*l],p=o[2*l+1];if(n[u]!==n[p]){var h=e[u],d=e[p];o[2*s]=u,o[2*s+1]=p,a[s++]=(d-r)/(d-h)}}return t.shape[0]=s,c(a,[s])}function s(t,e){var n=f.mallocInt32(2*e),r=t.shape[0],o=t.data;n[0]=0;for(var i=0,a=0;a<r;++a){var s=o[2*a];if(s!==i){for(n[2*i+1]=a;++i<s;)n[2*i]=a,n[2*i+1]=a;n[2*i]=a}}for(n[2*i+1]=r;++i<e;)n[2*i]=n[2*i+1]=r;return n}function l(t){for(var e=0|t.shape[0],n=t.data,r=new Array(e),o=0;o<e;++o)r[o]=[n[2*o],n[2*o+1]];return r}function u(t,e,n,u){n=n||0,"undefined"==typeof u&&(u=r(t));var c=t.length;if(0===c||u<1)return{cells:[],vertexIds:[],vertexWeights:[]};var p=o(e,+n),d=i(t,u),m=a(d,e,p,+n),y=s(d,0|e.length),v=h(u)(t,d.data,y,p),g=l(d),b=[].slice.call(m.data,0,m.shape[0]);return f.free(p),f.free(d.data),f.free(m.data),f.free(y),{cells:v,vertexIds:g,vertexWeights:b}}e.exports=u;var c=t("ndarray"),f=t("typedarray-pool"),p=t("ndarray-sort"),h=t("./lib/codegen")},{"./lib/codegen":167,ndarray:485,"ndarray-sort":170,"typedarray-pool":510}],167:[function(t,e,n){"use strict";function r(t){function e(t){if(!(t.length<=0)){u.push("R.push(");for(var e=0;e<t.length;++e){var n=t[e];e>0&&u.push(","),u.push("[");for(var r=0;r<n.length;++r){var o=n[r];r>0&&u.push(","),u.push("B(C,E,c[",o[0],"],c[",o[1],"])")}u.push("]")}u.push(");")}}var n=0,r=new Array(t+1);r[0]=[[]];for(var o=1;o<=t;++o)for(var s=r[o]=a(o),l=0;l<s.length;++l)n=Math.max(n,s[o].length);for(var u=["function B(C,E,i,j){","var a=Math.min(i,j)|0,b=Math.max(i,j)|0,l=C[2*a],h=C[2*a+1];","while(l<h){","var m=(l+h)>>1,v=E[2*m+1];","if(v===b){return m}","if(b<v){h=m}else{l=m+1}","}","return l;","};","function getContour",t,"d(F,E,C,S){","var n=F.length,R=[];","for(var i=0;i<n;++i){var c=F[i],l=c.length;"],o=t+1;o>1;--o){o<t+1&&u.push("else "),u.push("if(l===",o,"){");for(var c=[],l=0;l<o;++l)c.push("(S[c["+l+"]]<<"+l+")");u.push("var M=",c.join("+"),";if(M===0||M===",(1<<o)-1,"){continue}switch(M){");for(var s=r[o-1],l=0;l<s.length;++l)u.push("case ",l,":"),e(s[l]),u.push("break;");u.push("}}")}u.push("}return R;};return getContour",t,"d");var f=new Function("pool",u.join(""));return f(i)}function o(t){var e=s[t];return e||(e=s[t]=r(t)),e}e.exports=o;var i=t("typedarray-pool"),a=t("marching-simplex-table"),s={}},{"marching-simplex-table":168,"typedarray-pool":510}],168:[function(t,e,n){"use strict";function r(t,e,n){for(var r=new Array(t),o=0;o<t;++o)r[o]=0,o===e&&(r[o]+=.5),o===n&&(r[o]+=.5);return r}function o(t,e){if(0===e||e===(1<<t+1)-1)return[];for(var n=[],o=[],i=0;i<=t;++i)if(e&1<<i){n.push(r(t,i-1,i-1)),o.push(null);for(var s=0;s<=t;++s)~e&1<<s&&(n.push(r(t,i-1,s-1)),o.push([i,s]))}var l=a(n),u=[];t:for(var i=0;i<l.length;++i){for(var c=l[i],f=[],s=0;s<c.length;++s){if(!o[c[s]])continue t;f.push(o[c[s]].slice())}u.push(f)}return u}function i(t){for(var e=1<<t+1,n=new Array(e),r=0;r<e;++r)n[r]=o(t,r);return n}e.exports=i;var a=t("convex-hull")},{"convex-hull":114}],169:[function(t,e,n){"use strict";function r(t){switch(t){case"uint8":return[l.mallocUint8,l.freeUint8];case"uint16":return[l.mallocUint16,l.freeUint16];case"uint32":return[l.mallocUint32,l.freeUint32];case"int8":return[l.mallocInt8,l.freeInt8];case"int16":return[l.mallocInt16,l.freeInt16];case"int32":return[l.mallocInt32,l.freeInt32];case"float32":return[l.mallocFloat,l.freeFloat];case"float64":return[l.mallocDouble,l.freeDouble];default:return null}}function o(t){for(var e=[],n=0;n<t;++n)e.push("s"+n);for(var n=0;n<t;++n)e.push("n"+n);for(var n=1;n<t;++n)e.push("d"+n);for(var n=1;n<t;++n)e.push("e"+n);for(var n=1;n<t;++n)e.push("f"+n);return e}function i(t,e){function n(t){return"generic"===e?["data.get(",t,")"].join(""):["data[",t,"]"].join("")}function i(t,n){return"generic"===e?["data.set(",t,",",n,")"].join(""):["data[",t,"]=",n].join("")}var a=["'use strict'"],s=["ndarrayInsertionSort",t.join("d"),e].join(""),l=["left","right","data","offset"].concat(o(t.length)),u=r(e),c=["i,j,cptr,ptr=left*s0+offset"];if(t.length>1){for(var f=[],p=1;p<t.length;++p)c.push("i"+p),f.push("n"+p);u?c.push("scratch=malloc("+f.join("*")+")"):c.push("scratch=new Array("+f.join("*")+")"),c.push("dptr","sptr","a","b")}else c.push("scratch");if(a.push(["function ",s,"(",l.join(","),"){var ",c.join(",")].join(""),"for(i=left+1;i<=right;++i){","j=i;ptr+=s0","cptr=ptr"),t.length>1){a.push("dptr=0;sptr=ptr");for(var p=t.length-1;p>=0;--p){var h=t[p];0!==h&&a.push(["for(i",h,"=0;i",h,"<n",h,";++i",h,"){"].join(""))}a.push("scratch[dptr++]=",n("sptr"));for(var p=0;p<t.length;++p){var h=t[p];0!==h&&a.push("sptr+=d"+h,"}")}a.push("__g:while(j-->left){","dptr=0","sptr=cptr-s0");for(var p=1;p<t.length;++p)1===p&&a.push("__l:"),a.push(["for(i",p,"=0;i",p,"<n",p,";++i",p,"){"].join(""));a.push(["a=",n("sptr"),"\nb=scratch[dptr]\nif(a<b){break __g}\nif(a>b){break __l}"].join(""));for(var p=t.length-1;p>=1;--p)a.push("sptr+=e"+p,"dptr+=f"+p,"}");a.push("dptr=cptr;sptr=cptr-s0");for(var p=t.length-1;p>=0;--p){var h=t[p];0!==h&&a.push(["for(i",h,"=0;i",h,"<n",h,";++i",h,"){"].join(""))}a.push(i("dptr",n("sptr")));for(var p=0;p<t.length;++p){var h=t[p];0!==h&&a.push(["dptr+=d",h,";sptr+=d",h].join(""),"}")}a.push("cptr-=s0\n}"),a.push("dptr=cptr;sptr=0");for(var p=t.length-1;p>=0;--p){var h=t[p];0!==h&&a.push(["for(i",h,"=0;i",h,"<n",h,";++i",h,"){"].join(""))}a.push(i("dptr","scratch[sptr++]"));for(var p=0;p<t.length;++p){var h=t[p];0!==h&&a.push("dptr+=d"+h,"}")}}else a.push("scratch="+n("ptr"),"while((j-->left)&&("+n("cptr-s0")+">scratch)){",i("cptr",n("cptr-s0")),"cptr-=s0","}",i("cptr","scratch"));if(a.push("}"),t.length>1&&u&&a.push("free(scratch)"),a.push("} return "+s),u){var d=new Function("malloc","free",a.join("\n"));return d(u[0],u[1])}var d=new Function(a.join("\n"));return d()}function a(t,e,n){function i(t){return["(offset+",t,"*s0)"].join("")}function a(t){return"generic"===e?["data.get(",t,")"].join(""):["data[",t,"]"].join("")}function s(t,n){return"generic"===e?["data.set(",t,",",n,")"].join(""):["data[",t,"]=",n].join("")}function l(e,n,r){if(1===e.length)x.push("ptr0="+i(e[0]));else for(var o=0;o<e.length;++o)x.push(["b_ptr",o,"=s0*",e[o]].join(""));n&&x.push("pivot_ptr=0"),x.push("ptr_shift=offset");for(var o=t.length-1;o>=0;--o){var a=t[o];0!==a&&x.push(["for(i",a,"=0;i",a,"<n",a,";++i",a,"){"].join(""))}if(e.length>1)for(var o=0;o<e.length;++o)x.push(["ptr",o,"=b_ptr",o,"+ptr_shift"].join(""));x.push(r),n&&x.push("++pivot_ptr");for(var o=0;o<t.length;++o){var a=t[o];0!==a&&(e.length>1?x.push("ptr_shift+=d"+a):x.push("ptr0+=d"+a),x.push("}"))}}function c(e,n,r,o){if(1===n.length)x.push("ptr0="+i(n[0]));else{for(var a=0;a<n.length;++a)x.push(["b_ptr",a,"=s0*",n[a]].join(""));x.push("ptr_shift=offset")}r&&x.push("pivot_ptr=0"),e&&x.push(e+":");for(var a=1;a<t.length;++a)x.push(["for(i",a,"=0;i",a,"<n",a,";++i",a,"){"].join(""));if(n.length>1)for(var a=0;a<n.length;++a)x.push(["ptr",a,"=b_ptr",a,"+ptr_shift"].join(""));x.push(o);for(var a=t.length-1;a>=1;--a)r&&x.push("pivot_ptr+=f"+a),n.length>1?x.push("ptr_shift+=e"+a):x.push("ptr0+=e"+a),x.push("}")}function f(){t.length>1&&E&&x.push("free(pivot1)","free(pivot2)")}function p(e,n){var r="el"+e,o="el"+n;if(t.length>1){var s="__l"+ ++C;c(s,[r,o],!1,["comp=",a("ptr0"),"-",a("ptr1"),"\n","if(comp>0){tmp0=",r,";",r,"=",o,";",o,"=tmp0;break ",s,"}\n","if(comp<0){break ",s,"}"].join(""))}else x.push(["if(",a(i(r)),">",a(i(o)),"){tmp0=",r,";",r,"=",o,";",o,"=tmp0}"].join(""))}function h(e,n){t.length>1?l([e,n],!1,s("ptr0",a("ptr1"))):x.push(s(i(e),a(i(n))))}function d(e,n,r){if(t.length>1){var o="__l"+ ++C;c(o,[n],!0,[e,"=",a("ptr0"),"-pivot",r,"[pivot_ptr]\n","if(",e,"!==0){break ",o,"}"].join(""))}else x.push([e,"=",a(i(n)),"-pivot",r].join(""))}function m(e,n){t.length>1?l([e,n],!1,["tmp=",a("ptr0"),"\n",s("ptr0",a("ptr1")),"\n",s("ptr1","tmp")].join("")):x.push(["ptr0=",i(e),"\n","ptr1=",i(n),"\n","tmp=",a("ptr0"),"\n",s("ptr0",a("ptr1")),"\n",s("ptr1","tmp")].join(""))}function y(e,n,r){t.length>1?(l([e,n,r],!1,["tmp=",a("ptr0"),"\n",s("ptr0",a("ptr1")),"\n",s("ptr1",a("ptr2")),"\n",s("ptr2","tmp")].join("")),x.push("++"+n,"--"+r)):x.push(["ptr0=",i(e),"\n","ptr1=",i(n),"\n","ptr2=",i(r),"\n","++",n,"\n","--",r,"\n","tmp=",a("ptr0"),"\n",s("ptr0",a("ptr1")),"\n",s("ptr1",a("ptr2")),"\n",s("ptr2","tmp")].join(""))}function v(t,e){m(t,e),x.push("--"+e)}function g(e,n,r){t.length>1?l([e,n],!0,[s("ptr0",a("ptr1")),"\n",s("ptr1",["pivot",r,"[pivot_ptr]"].join(""))].join("")):x.push(s(i(e),a(i(n))),s(i(n),"pivot"+r))}function b(e,n){x.push(["if((",n,"-",e,")<=",u,"){\n","insertionSort(",e,",",n,",data,offset,",o(t.length).join(","),")\n","}else{\n",w,"(",e,",",n,",data,offset,",o(t.length).join(","),")\n","}"].join(""))}function _(e,n,r){t.length>1?(x.push(["__l",++C,":while(true){"].join("")),l([e],!0,["if(",a("ptr0"),"!==pivot",n,"[pivot_ptr]){break __l",C,"}"].join("")),x.push(r,"}")):x.push(["while(",a(i(e)),"===pivot",n,"){",r,"}"].join(""))}var x=["'use strict'"],w=["ndarrayQuickSort",t.join("d"),e].join(""),T=["left","right","data","offset"].concat(o(t.length)),E=r(e),C=0;x.push(["function ",w,"(",T.join(","),"){"].join(""));var k=["sixth=((right-left+1)/6)|0","index1=left+sixth","index5=right-sixth","index3=(left+right)>>1","index2=index3-sixth","index4=index3+sixth","el1=index1","el2=index2","el3=index3","el4=index4","el5=index5","less=left+1","great=right-1","pivots_are_equal=true","tmp","tmp0","x","y","z","k","ptr0","ptr1","ptr2","comp_pivot1=0","comp_pivot2=0","comp=0"];if(t.length>1){for(var S=[],P=1;P<t.length;++P)S.push("n"+P),k.push("i"+P);for(var P=0;P<8;++P)k.push("b_ptr"+P);k.push("ptr3","ptr4","ptr5","ptr6","ptr7","pivot_ptr","ptr_shift","elementSize="+S.join("*")),E?k.push("pivot1=malloc(elementSize)","pivot2=malloc(elementSize)"):k.push("pivot1=new Array(elementSize),pivot2=new Array(elementSize)")}else k.push("pivot1","pivot2");if(x.push("var "+k.join(",")),p(1,2),p(4,5),p(1,3),p(2,3),p(1,4),p(3,4),p(2,5),p(2,3),p(4,5),t.length>1?l(["el1","el2","el3","el4","el5","index1","index3","index5"],!0,["pivot1[pivot_ptr]=",a("ptr1"),"\n","pivot2[pivot_ptr]=",a("ptr3"),"\n","pivots_are_equal=pivots_are_equal&&(pivot1[pivot_ptr]===pivot2[pivot_ptr])\n","x=",a("ptr0"),"\n","y=",a("ptr2"),"\n","z=",a("ptr4"),"\n",s("ptr5","x"),"\n",s("ptr6","y"),"\n",s("ptr7","z")].join("")):x.push(["pivot1=",a(i("el2")),"\n","pivot2=",a(i("el4")),"\n","pivots_are_equal=pivot1===pivot2\n","x=",a(i("el1")),"\n","y=",a(i("el3")),"\n","z=",a(i("el5")),"\n",s(i("index1"),"x"),"\n",s(i("index3"),"y"),"\n",s(i("index5"),"z")].join("")),h("index2","left"),h("index4","right"),x.push("if(pivots_are_equal){"),x.push("for(k=less;k<=great;++k){"),d("comp","k",1),x.push("if(comp===0){continue}"),x.push("if(comp<0){"),x.push("if(k!==less){"),m("k","less"),x.push("}"),x.push("++less"),x.push("}else{"),x.push("while(true){"),d("comp","great",1),x.push("if(comp>0){"),x.push("great--"),x.push("}else if(comp<0){"),y("k","less","great"),x.push("break"),x.push("}else{"),v("k","great"),x.push("break"),x.push("}"),x.push("}"),x.push("}"),x.push("}"),x.push("}else{"),x.push("for(k=less;k<=great;++k){"),d("comp_pivot1","k",1),x.push("if(comp_pivot1<0){"),x.push("if(k!==less){"),m("k","less"),x.push("}"),x.push("++less"),x.push("}else{"),d("comp_pivot2","k",2),x.push("if(comp_pivot2>0){"),x.push("while(true){"),d("comp","great",2),x.push("if(comp>0){"),x.push("if(--great<k){break}"),x.push("continue"),x.push("}else{"),d("comp","great",1),x.push("if(comp<0){"),y("k","less","great"),x.push("}else{"),v("k","great"),x.push("}"),x.push("break"),x.push("}"),x.push("}"),x.push("}"),x.push("}"),x.push("}"),x.push("}"),g("left","(less-1)",1),g("right","(great+1)",2),b("left","(less-2)"),b("(great+2)","right"),x.push("if(pivots_are_equal){"),f(),x.push("return"),x.push("}"),x.push("if(less<index1&&great>index5){"),_("less",1,"++less"),_("great",2,"--great"),x.push("for(k=less;k<=great;++k){"),d("comp_pivot1","k",1),x.push("if(comp_pivot1===0){"),x.push("if(k!==less){"),m("k","less"),x.push("}"),x.push("++less"),x.push("}else{"),d("comp_pivot2","k",2),x.push("if(comp_pivot2===0){"),x.push("while(true){"),d("comp","great",2),x.push("if(comp===0){"),x.push("if(--great<k){break}"),x.push("continue"),x.push("}else{"),d("comp","great",1),x.push("if(comp<0){"),y("k","less","great"),x.push("}else{"),v("k","great"),x.push("}"),x.push("break"),x.push("}"),x.push("}"),x.push("}"),x.push("}"),x.push("}"),x.push("}"),f(),b("less","great"),x.push("}return "+w),t.length>1&&E){var M=new Function("insertionSort","malloc","free",x.join("\n"));return M(n,E[0],E[1])}var M=new Function("insertionSort",x.join("\n"));return M(n)}function s(t,e){var n=["'use strict'"],r=["ndarraySortWrapper",t.join("d"),e].join(""),s=["array"];n.push(["function ",r,"(",s.join(","),"){"].join(""));for(var l=["data=array.data,offset=array.offset|0,shape=array.shape,stride=array.stride"],c=0;c<t.length;++c)l.push(["s",c,"=stride[",c,"]|0,n",c,"=shape[",c,"]|0"].join(""));for(var f=new Array(t.length),p=[],c=0;c<t.length;++c){var h=t[c];0!==h&&(0===p.length?f[h]="1":f[h]=p.join("*"),p.push("n"+h))}for(var d=-1,m=-1,c=0;c<t.length;++c){var y=t[c];0!==y&&(d>0?l.push(["d",y,"=s",y,"-d",d,"*n",d].join("")):l.push(["d",y,"=s",y].join("")),d=y);var h=t.length-1-c;0!==h&&(m>0?l.push(["e",h,"=s",h,"-e",m,"*n",m,",f",h,"=",f[h],"-f",m,"*n",m].join("")):l.push(["e",h,"=s",h,",f",h,"=",f[h]].join("")),m=h)}n.push("var "+l.join(","));var v=["0","n0-1","data","offset"].concat(o(t.length));n.push(["if(n0<=",u,"){","insertionSort(",v.join(","),")}else{","quickSort(",v.join(","),")}"].join("")),n.push("}return "+r);var g=new Function("insertionSort","quickSort",n.join("\n")),b=i(t,e),_=a(t,e,b);return g(b,_)}var l=t("typedarray-pool"),u=32;e.exports=s},{"typedarray-pool":510}],170:[function(t,e,n){"use strict";function r(t){var e=t.order,n=t.dtype,r=[e,n],a=r.join(":"),s=i[a];return s||(i[a]=s=o(e,n)),s(t),t}var o=t("./lib/compile_sort.js"),i={};e.exports=r},{"./lib/compile_sort.js":169}],171:[function(t,e,n){"use strict";function r(t,e,n){this.plot=t,this.vbo=e,this.shader=n}function o(t){var e=t.gl,n=i(e,[0,0,0,1,1,0,1,1]),o=a(e,s.boxVert,s.lineFrag);return new r(t,n,o)}e.exports=o;var i=t("gl-buffer"),a=t("gl-shader"),s=t("./shaders"),l=r.prototype;l.bind=function(){var t=this.shader;this.vbo.bind(),this.shader.bind(),t.attributes.coord.pointer(),t.uniforms.screenBox=this.plot.screenBox},l.drawBox=function(){var t=[0,0],e=[0,0];return function(n,r,o,i,a){var s=this.plot,l=this.shader,u=s.gl;t[0]=n,t[1]=r,e[0]=o,e[1]=i,l.uniforms.lo=t,l.uniforms.hi=e,l.uniforms.color=a,u.drawArrays(u.TRIANGLE_STRIP,0,4)}}(),l.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":174,"gl-buffer":130,"gl-shader":237}],172:[function(t,e,n){"use strict";function r(t,e,n,r){this.plot=t,this.vbo=e,this.shader=n,this.tickShader=r,this.ticks=[[],[]]}function o(t,e){return t-e}function i(t){var e=t.gl,n=a(e),o=s(e,u.gridVert,u.gridFrag),i=s(e,u.tickVert,u.gridFrag),l=new r(t,n,o,i);return l}e.exports=i;var a=t("gl-buffer"),s=t("gl-shader"),l=t("binary-search-bounds"),u=t("./shaders"),c=r.prototype;c.draw=function(){var t=[0,0],e=[0,0],n=[0,0];return function(){for(var r=this.plot,o=this.vbo,i=this.shader,a=this.ticks,s=r.gl,l=r._tickBounds,u=r.dataBox,c=r.viewBox,f=r.gridLineWidth,p=r.gridLineColor,h=r.gridLineEnable,d=r.pixelRatio,m=0;m<2;++m){var y=l[m],v=l[m+2],g=v-y,b=.5*(u[m+2]+u[m]),_=u[m+2]-u[m];e[m]=2*g/_,t[m]=2*(y-b)/_}i.bind(),o.bind(),i.attributes.dataCoord.pointer(),i.uniforms.dataShift=t,i.uniforms.dataScale=e;for(var x=0,m=0;m<2;++m){n[0]=n[1]=0,n[m]=1,i.uniforms.dataAxis=n,i.uniforms.lineWidth=f[m]/(c[m+2]-c[m])*d,i.uniforms.color=p[m];var w=6*a[m].length;h[m]&&w&&s.drawArrays(s.TRIANGLES,x,w),x+=w}}}(),c.drawTickMarks=function(){var t=[0,0],e=[0,0],n=[1,0],r=[0,1],i=[0,0],a=[0,0];return function(){for(var s=this.plot,u=this.vbo,c=this.tickShader,f=this.ticks,p=s.gl,h=s._tickBounds,d=s.dataBox,m=s.viewBox,y=s.pixelRatio,v=s.screenBox,g=v[2]-v[0],b=v[3]-v[1],_=m[2]-m[0],x=m[3]-m[1],w=0;w<2;++w){var T=h[w],E=h[w+2],C=E-T,k=.5*(d[w+2]+d[w]),S=d[w+2]-d[w];e[w]=2*C/S,t[w]=2*(T-k)/S}e[0]*=_/g,t[0]*=_/g,e[1]*=x/b,t[1]*=x/b,c.bind(),u.bind(),c.attributes.dataCoord.pointer();var P=c.uniforms;P.dataShift=t,P.dataScale=e;var M=s.tickMarkLength,A=s.tickMarkWidth,O=s.tickMarkColor,D=0,L=6*f[0].length,I=Math.min(l.ge(f[0],(d[0]-h[0])/(h[2]-h[0]),o),f[0].length),j=Math.min(l.gt(f[0],(d[2]-h[0])/(h[2]-h[0]),o),f[0].length),F=D+6*I,R=6*Math.max(0,j-I),N=Math.min(l.ge(f[1],(d[1]-h[1])/(h[3]-h[1]),o),f[1].length),z=Math.min(l.gt(f[1],(d[3]-h[1])/(h[3]-h[1]),o),f[1].length),B=L+6*N,U=6*Math.max(0,z-N);i[0]=2*(m[0]-M[1])/g-1,i[1]=(m[3]+m[1])/b-1,a[0]=M[1]*y/g,a[1]=A[1]*y/b,U&&(P.color=O[1],P.tickScale=a,P.dataAxis=r,P.screenOffset=i,p.drawArrays(p.TRIANGLES,B,U)),i[0]=(m[2]+m[0])/g-1,i[1]=2*(m[1]-M[0])/b-1,a[0]=A[0]*y/g,a[1]=M[0]*y/b,R&&(P.color=O[0],P.tickScale=a,P.dataAxis=n,P.screenOffset=i,p.drawArrays(p.TRIANGLES,F,R)),i[0]=2*(m[2]+M[3])/g-1,i[1]=(m[3]+m[1])/b-1,a[0]=M[3]*y/g,a[1]=A[3]*y/b,U&&(P.color=O[3],P.tickScale=a,P.dataAxis=r,P.screenOffset=i,p.drawArrays(p.TRIANGLES,B,U)),i[0]=(m[2]+m[0])/g-1,i[1]=2*(m[3]+M[2])/b-1,a[0]=A[2]*y/g,a[1]=M[2]*y/b,R&&(P.color=O[2],P.tickScale=a,P.dataAxis=n,P.screenOffset=i,p.drawArrays(p.TRIANGLES,F,R))}}(),c.update=function(){var t=[1,1,-1,-1,1,-1],e=[1,-1,1,1,-1,-1];return function(n){for(var r=n.ticks,o=n.bounds,i=new Float32Array(18*(r[0].length+r[1].length)),a=(this.plot.zeroLineEnable,0),s=[[],[]],l=0;l<2;++l)for(var u=s[l],c=r[l],f=o[l],p=o[l+2],h=0;h<c.length;++h){var d=(c[h].x-f)/(p-f);u.push(d);for(var m=0;m<6;++m)i[a++]=d,i[a++]=t[m],i[a++]=e[m]}this.ticks=s,this.vbo.update(i)}}(),c.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},{"./shaders":174,"binary-search-bounds":176,"gl-buffer":130,"gl-shader":237}],173:[function(t,e,n){"use strict";function r(t,e,n){this.plot=t,this.vbo=e,this.shader=n}function o(t){var e=t.gl,n=i(e,[-1,-1,-1,1,1,-1,1,1]),o=a(e,s.lineVert,s.lineFrag),l=new r(t,n,o);return l}e.exports=o;var i=t("gl-buffer"),a=t("gl-shader"),s=t("./shaders"),l=r.prototype;l.bind=function(){var t=this.shader;this.vbo.bind(),this.shader.bind(),t.attributes.coord.pointer(),t.uniforms.screenBox=this.plot.screenBox},l.drawLine=function(){var t=[0,0],e=[0,0];return function(n,r,o,i,a,s){var l=this.plot,u=this.shader,c=l.gl;t[0]=n,t[1]=r,e[0]=o,e[1]=i,u.uniforms.start=t,u.uniforms.end=e,u.uniforms.width=a*l.pixelRatio,u.uniforms.color=s,c.drawArrays(c.TRIANGLE_STRIP,0,4)}}(),l.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":174,"gl-buffer":130,"gl-shader":237}],174:[function(t,e,n){"use strict";var r="precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n";e.exports={lineVert:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n",lineFrag:r,textVert:"#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n",textFrag:r,gridVert:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n",gridFrag:r,boxVert:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n",tickVert:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"
}},{}],175:[function(t,e,n){"use strict";function r(t,e,n){this.plot=t,this.vbo=e,this.shader=n,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}function o(t){var e=t.gl,n=i(e),o=a(e,u.textVert,u.textFrag),s=new r(t,n,o);return s}e.exports=o;var i=t("gl-buffer"),a=t("gl-shader"),s=t("text-cache"),l=t("binary-search-bounds"),u=t("./shaders"),c=r.prototype;c.drawTicks=function(){var t=[0,0],e=[0,0],n=[0,0];return function(r){var o=this.plot,i=this.shader,a=this.tickX[r],s=this.tickOffset[r],u=o.gl,c=o.viewBox,f=o.dataBox,p=o.screenBox,h=o.pixelRatio,d=o.tickEnable,m=o.tickPad,y=o.tickColor,v=o.tickAngle,g=(o.tickMarkLength,o.labelEnable),b=o.labelPad,_=o.labelColor,x=o.labelAngle,w=this.labelOffset[r],T=this.labelCount[r],E=l.lt(a,f[r]),C=l.le(a,f[r+2]);t[0]=t[1]=0,t[r]=1,e[r]=(c[2+r]+c[r])/(p[2+r]-p[r])-1;var k=2/p[2+(1^r)]-p[1^r];e[1^r]=k*c[1^r]-1,d[r]&&(e[1^r]-=k*h*m[r],E<C&&s[C]>s[E]&&(i.uniforms.dataAxis=t,i.uniforms.screenOffset=e,i.uniforms.color=y[r],i.uniforms.angle=v[r],u.drawArrays(u.TRIANGLES,s[E],s[C]-s[E]))),g[r]&&T&&(e[1^r]-=k*h*b[r],i.uniforms.dataAxis=n,i.uniforms.screenOffset=e,i.uniforms.color=_[r],i.uniforms.angle=x[r],u.drawArrays(u.TRIANGLES,w,T)),e[1^r]=k*c[2+(1^r)]-1,d[r+2]&&(e[1^r]+=k*h*m[r+2],E<C&&s[C]>s[E]&&(i.uniforms.dataAxis=t,i.uniforms.screenOffset=e,i.uniforms.color=y[r+2],i.uniforms.angle=v[r+2],u.drawArrays(u.TRIANGLES,s[E],s[C]-s[E]))),g[r+2]&&T&&(e[1^r]+=k*h*b[r+2],i.uniforms.dataAxis=n,i.uniforms.screenOffset=e,i.uniforms.color=_[r+2],i.uniforms.angle=x[r+2],u.drawArrays(u.TRIANGLES,w,T))}}(),c.drawTitle=function(){var t=[0,0],e=[0,0];return function(){var n=this.plot,r=this.shader,o=n.gl,i=n.screenBox,a=n.titleCenter,s=n.titleAngle,l=n.titleColor,a=n.titleCenter,u=n.pixelRatio;if(this.titleCount){for(var c=0;c<2;++c)e[c]=2*(a[c]*u-i[c])/(i[2+c]-i[c])-1;r.bind(),r.uniforms.dataAxis=t,r.uniforms.screenOffset=e,r.uniforms.angle=s,r.uniforms.color=l,o.drawArrays(o.TRIANGLES,this.titleOffset,this.titleCount)}}}(),c.bind=function(){var t=[0,0],e=[0,0],n=[0,0];return function(){var r=this.plot,o=this.shader,i=r._tickBounds,a=r.dataBox,s=r.screenBox,l=r.viewBox;o.bind();for(var u=0;u<2;++u){var c=i[u],f=i[u+2],p=f-c,h=.5*(a[u+2]+a[u]),d=a[u+2]-a[u],m=l[u],y=l[u+2],v=y-m,g=s[u],b=s[u+2],_=b-g;e[u]=2*p/d*v/_,t[u]=2*(c-h)/d*v/_}n[1]=2*r.pixelRatio/(s[3]-s[1]),n[0]=n[1]*(s[3]-s[1])/(s[2]-s[0]),o.uniforms.dataScale=e,o.uniforms.dataShift=t,o.uniforms.textScale=n,this.vbo.bind(),o.attributes.textCoordinate.pointer()}}(),c.update=function(t){for(var e=[],n=t.ticks,r=t.bounds,o=0;o<2;++o){for(var i=[Math.floor(e.length/3)],a=[-(1/0)],l=n[o],u=0;u<l.length;++u){for(var c=l[u],f=c.x,p=c.text,h=c.font||"sans-serif",d=c.fontSize||12,m=s(h,p).data,y=1/(r[o+2]-r[o]),v=r[o],g=0;g<m.length;g+=2)e.push(m[g]*d,-m[g+1]*d,(f-v)*y);i.push(Math.floor(e.length/3)),a.push(f)}this.tickOffset[o]=i,this.tickX[o]=a}for(var o=0;o<2;++o){this.labelOffset[o]=Math.floor(e.length/3);for(var m=s(t.labelFont[o],t.labels[o]).data,d=t.labelSize[o],u=0;u<m.length;u+=2)e.push(m[u]*d,-m[u+1]*d,0);this.labelCount[o]=Math.floor(e.length/3)-this.labelOffset[o]}this.titleOffset=Math.floor(e.length/3);for(var m=s(t.titleFont,t.title).data,d=t.titleSize,u=0;u<m.length;u+=2)e.push(m[u]*d,-m[u+1]*d,0);this.titleCount=Math.floor(e.length/3)-this.titleOffset,this.vbo.update(e)},c.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":174,"binary-search-bounds":176,"gl-buffer":130,"gl-shader":237,"text-cache":505}],176:[function(t,e,n){arguments[4][74][0].apply(n,arguments)},{dup:74}],177:[function(t,e,n){"use strict";function r(t,e){this.gl=t,this.pickBuffer=e,this.screenBox=[0,0,t.drawingBufferWidth,t.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-(1/0),-(1/0)],this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}function o(t){for(var e=t.slice(),n=0;n<e.length;++n)e[n]=e[n].slice();return e}function i(t,e){return t.x-e.x}function a(t){var e=t.gl,n=s(e,[e.drawingBufferWidth,e.drawingBufferHeight]),o=new r(e,n);return o.grid=l(o),o.text=u(o),o.line=c(o),o.box=f(o),o.update(t),o}e.exports=a;var s=t("gl-select-static"),l=t("./lib/grid"),u=t("./lib/text"),c=t("./lib/line"),f=t("./lib/box"),p=r.prototype;p.setDirty=function(){this.dirty=this.pickDirty=!0},p.setOverlayDirty=function(){this.dirty=!0},p.nextDepthValue=function(){return this._depthCounter++/65536},p.draw=function(){return function(){var t=this.gl,e=this.screenBox,n=this.viewBox,r=this.dataBox,o=this.pixelRatio,i=this.grid,a=this.line,s=this.text,l=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){this.dirty=!1,t.bindFramebuffer(t.FRAMEBUFFER,null),t.enable(t.SCISSOR_TEST),t.disable(t.DEPTH_TEST),t.depthFunc(t.LESS),t.depthMask(!1),t.enable(t.BLEND),t.blendEquation(t.FUNC_ADD,t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.scissor(e[0],e[1],e[2]-e[0],e[3]-e[1]);var u=this.borderColor;t.clearColor(u[0]*u[3],u[1]*u[3],u[2]*u[3],u[3]),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.scissor(n[0],n[1],n[2]-n[0],n[3]-n[1]),t.viewport(n[0],n[1],n[2]-n[0],n[3]-n[1]);var c=this.backgroundColor;t.clearColor(c[0]*c[3],c[1]*c[3],c[2]*c[3],c[3]),t.clear(t.COLOR_BUFFER_BIT),i.draw();var f=this.zeroLineEnable,p=this.zeroLineColor,h=this.zeroLineWidth;if(f[0]||f[1]){a.bind();for(var d=0;d<2;++d)if(f[d]&&r[d]<=0&&r[d+2]>=0){var m=e[d]-r[d]*(e[d+2]-e[d])/(r[d+2]-r[d]);0===d?a.drawLine(m,e[1],m,e[3],h[d],p[d]):a.drawLine(e[0],m,e[2],m,h[d],p[d])}}for(var d=0;d<l.length;++d)l[d].draw();t.viewport(e[0],e[1],e[2]-e[0],e[3]-e[1]),t.scissor(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.grid.drawTickMarks(),a.bind();var y=this.borderLineEnable,v=this.borderLineWidth,g=this.borderLineColor;y[1]&&a.drawLine(n[0],n[1]-.5*v[1]*o,n[0],n[3]+.5*v[3]*o,v[1],g[1]),y[0]&&a.drawLine(n[0]-.5*v[0]*o,n[1],n[2]+.5*v[2]*o,n[1],v[0],g[0]),y[3]&&a.drawLine(n[2],n[1]-.5*v[1]*o,n[2],n[3]+.5*v[3]*o,v[3],g[3]),y[2]&&a.drawLine(n[0]-.5*v[0]*o,n[3],n[2]+.5*v[2]*o,n[3],v[2],g[2]),s.bind();for(var d=0;d<2;++d)s.drawTicks(d);this.titleEnable&&s.drawTitle();for(var b=this.overlays,d=0;d<b.length;++d)b[d].draw();t.disable(t.SCISSOR_TEST),t.disable(t.BLEND),t.depthMask(!0)}}}(),p.drawPick=function(){return function(){var t=this.pickBuffer;this.gl;this._pickTimeout=null,t.begin();for(var e=1,n=this.objects,r=0;r<n.length;++r)e=n[r].drawPick(e);t.end()}}(),p.pick=function(){return function(t,e){var n=this.pixelRatio,r=this.pickPixelRatio,o=this.viewBox,i=0|Math.round((t-o[0]/n)*r),a=0|Math.round((e-o[1]/n)*r),s=this.pickBuffer.query(i,a,this.pickRadius);if(!s)return null;for(var l=s.id+(s.value[0]<<8)+(s.value[1]<<16)+(s.value[2]<<24),u=this.objects,c=0;c<u.length;++c){var f=u[c].pick(i,a,l);if(f)return f}return null}}(),p.setScreenBox=function(t){var e=this.screenBox,n=this.pixelRatio;e[0]=0|Math.round(t[0]*n),e[1]=0|Math.round(t[1]*n),e[2]=0|Math.round(t[2]*n),e[3]=0|Math.round(t[3]*n),this.setDirty()},p.setDataBox=function(t){var e=this.dataBox,n=e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3];n&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this.setDirty())},p.setViewBox=function(t){var e=this.pixelRatio,n=this.viewBox;n[0]=0|Math.round(t[0]*e),n[1]=0|Math.round(t[1]*e),n[2]=0|Math.round(t[2]*e),n[3]=0|Math.round(t[3]*e);var r=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((t[2]-t[0])*r),0|Math.round((t[3]-t[1])*r)],this.setDirty()},p.update=function(t){t=t||{};var e=this.gl;this.pixelRatio=t.pixelRatio||1;var n=this.pixelRatio;this.pickPixelRatio=Math.max(n,1),this.setScreenBox(t.screenBox||[0,0,e.drawingBufferWidth/n,e.drawingBufferHeight/n]);this.screenBox;this.setViewBox(t.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/n,.125*(this.screenBox[3]-this.screenBox[1])/n,.875*(this.screenBox[2]-this.screenBox[0])/n,.875*(this.screenBox[3]-this.screenBox[1])/n]);var r=this.viewBox,a=(r[2]-r[0])/(r[3]-r[1]);this.setDataBox(t.dataBox||[-10,-10/a,10,10/a]),this.borderColor=(t.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(t.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(t.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(t.gridLineWidth||[1,1]).slice(),this.gridLineColor=o(t.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(t.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(t.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=o(t.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(t.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(t.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=o(t.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(t.titleCenter||[.5*(r[0]+r[2])/n,(r[3]+120)/n]).slice(),this.titleEnable=!("titleEnable"in t&&!t.titleEnable),this.titleAngle=t.titleAngle||0,this.titleColor=(t.titleColor||[0,0,0,1]).slice(),this.labelPad=(t.labelPad||[15,15,15,15]).slice(),this.labelAngle=(t.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(t.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=o(t.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(t.tickPad||[15,15,15,15]).slice(),this.tickAngle=(t.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(t.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=o(t.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(t.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(t.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=o(t.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var s=t.ticks||[[],[]],l=this._tickBounds;l[0]=l[1]=1/0,l[2]=l[3]=-(1/0);for(var u=0;u<2;++u){var c=s[u].slice(0);0!==c.length&&(c.sort(i),l[u]=Math.min(l[u],c[0].x),l[u+2]=Math.max(l[u+2],c[c.length-1].x))}this.grid.update({bounds:l,ticks:s}),this.text.update({bounds:l,ticks:s,labels:t.labels||["x","y"],labelSize:t.labelSize||[12,12],labelFont:t.labelFont||["sans-serif","sans-serif"],title:t.title||"",titleSize:t.titleSize||18,titleFont:t.titleFont||"sans-serif"}),this.setDirty()},p.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var t=this.objects.length-1;t>=0;--t)this.objects[t].dispose();this.objects.length=0;for(var t=this.overlays.length-1;t>=0;--t)this.overlays[t].dispose();this.overlays.length=0,this.gl=null},p.addObject=function(t){this.objects.indexOf(t)<0&&(this.objects.push(t),this.setDirty())},p.removeObject=function(t){for(var e=this.objects,n=0;n<e.length;++n)if(e[n]===t){e.splice(n,1),this.setDirty();break}},p.addOverlay=function(t){this.overlays.indexOf(t)<0&&(this.overlays.push(t),this.setOverlayDirty())},p.removeOverlay=function(t){for(var e=this.overlays,n=0;n<e.length;++n)if(e[n]===t){e.splice(n,1),this.setOverlayDirty();break}}},{"./lib/box":171,"./lib/grid":172,"./lib/line":173,"./lib/text":175,"gl-select-static":236}],178:[function(t,e,n){var r=t("gl-shader"),o="precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}",i="precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}";e.exports=function(t){return r(t,o,i,null,[{name:"position",type:"vec2"}])}},{"gl-shader":237}],179:[function(t,e,n){"use strict";function r(t,e){t=t||document.body,e=e||{};var n=[.01,1/0];"distanceLimits"in e&&(n[0]=e.distanceLimits[0],n[1]=e.distanceLimits[1]),"zoomMin"in e&&(n[0]=e.zoomMin),"zoomMax"in e&&(n[1]=e.zoomMax);var r=i({center:e.center||[0,0,0],up:e.up||[0,1,0],eye:e.eye||[0,0,10],mode:e.mode||"orbit",distanceLimits:n}),l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=0,c=t.clientWidth,f=t.clientHeight,p={view:r,element:t,delay:e.delay||16,rotateSpeed:e.rotateSpeed||1,zoomSpeed:e.zoomSpeed||1,translateSpeed:e.translateSpeed||1,flipX:!!e.flipX,flipY:!!e.flipY,modes:r.modes,tick:function(){var e=o(),n=this.delay;r.idle(e-n),r.flush(e-(100+2*n));var i=e-2*n;r.recalcMatrix(i);for(var a=!0,s=r.computedMatrix,p=0;p<16;++p)a=a&&l[p]===s[p],l[p]=s[p];var h=t.clientWidth===c&&t.clientHeight===f;return c=t.clientWidth,f=t.clientHeight,a?!h:(u=Math.exp(r.computedRadius[0]),!0)},lookAt:function(t,e,n){r.lookAt(r.lastT(),t,e,n)},rotate:function(t,e,n){r.rotate(r.lastT(),t,e,n)},pan:function(t,e,n){r.pan(r.lastT(),t,e,n)},translate:function(t,e,n){r.translate(r.lastT(),t,e,n)}};Object.defineProperties(p,{matrix:{get:function(){return r.computedMatrix},set:function(t){return r.setMatrix(r.lastT(),t),r.computedMatrix},enumerable:!0},mode:{get:function(){return r.getMode()},set:function(t){return r.setMode(t),r.getMode()},enumerable:!0},center:{get:function(){return r.computedCenter},set:function(t){return r.lookAt(r.lastT(),t),r.computedCenter},enumerable:!0},eye:{get:function(){return r.computedEye},set:function(t){return r.lookAt(r.lastT(),null,t),r.computedEye},enumerable:!0},up:{get:function(){return r.computedUp},set:function(t){return r.lookAt(r.lastT(),null,null,t),r.computedUp},enumerable:!0},distance:{get:function(){return u},set:function(t){return r.setDistance(r.lastT(),t),t},enumerable:!0},distanceLimits:{get:function(){return r.getDistanceLimits(n)},set:function(t){return r.setDistanceLimits(t),t},enumerable:!0}}),t.addEventListener("contextmenu",function(t){return t.preventDefault(),!1});var h=0,d=0;return a(t,function(e,n,i,a){var s=1/t.clientHeight,l=s*(n-h),c=s*(i-d),f=p.flipX?1:-1,m=p.flipY?1:-1,y=Math.PI*p.rotateSpeed,v=o();if(1&e)a.shift?r.rotate(v,0,0,-l*y):r.rotate(v,f*y*l,-m*y*c,0);else if(2&e)r.pan(v,-p.translateSpeed*l*u,p.translateSpeed*c*u,0);else if(4&e){var g=p.zoomSpeed*c/window.innerHeight*(v-r.lastT())*50;r.pan(v,0,0,u*(Math.exp(g)-1))}h=n,d=i}),s(t,function(t,e,n){var i=p.flipX?1:-1,a=p.flipY?1:-1,s=o();if(Math.abs(t)>Math.abs(e))r.rotate(s,0,0,-t*i*Math.PI*p.rotateSpeed/window.innerWidth);else{var l=p.zoomSpeed*a*e/window.innerHeight*(s-r.lastT())/100;r.pan(s,0,0,u*(Math.exp(l)-1))}},!0),p}e.exports=r;var o=t("right-now"),i=t("3d-view"),a=t("mouse-change"),s=t("mouse-wheel")},{"3d-view":41,"mouse-change":473,"mouse-wheel":477,"right-now":487}],180:[function(t,e,n){!function(){"use strict";function t(e){e.permitHostObjects___&&e.permitHostObjects___(t)}function n(t){return!(t.substr(0,h.length)==h&&"___"===t.substr(t.length-3))}function r(t){if(t!==Object(t))throw new TypeError("Not an object: "+t);var e=t[d];if(e&&e.key===t)return e;if(p(t)){e={key:t};try{return f(t,d,{value:e,writable:!1,enumerable:!1,configurable:!1}),e}catch(n){return}}}function o(t){return t.prototype=null,Object.freeze(t)}function i(){g||"undefined"==typeof console||(g=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=t);var a=!1;if("function"==typeof WeakMap){var s=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var l=new s,u=Object.freeze({});if(l.set(u,1),1===l.get(u))return void(e.exports=WeakMap);a=!0}}var c=(Object.prototype.hasOwnProperty,Object.getOwnPropertyNames),f=Object.defineProperty,p=Object.isExtensible,h="weakmap:",d=h+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var m=new ArrayBuffer(25),y=new Uint8Array(m);crypto.getRandomValues(y),d=h+"rand:"+Array.prototype.map.call(y,function(t){return(t%36).toString(36)}).join("")+"___"}if(f(Object,"getOwnPropertyNames",{value:function(t){return c(t).filter(n)}}),"getPropertyNames"in Object){var v=Object.getPropertyNames;f(Object,"getPropertyNames",{value:function(t){return v(t).filter(n)}})}!function(){var t=Object.freeze;f(Object,"freeze",{value:function(e){return r(e),t(e)}});var e=Object.seal;f(Object,"seal",{value:function(t){return r(t),e(t)}});var n=Object.preventExtensions;f(Object,"preventExtensions",{value:function(t){return r(t),n(t)}})}();var g=!1,b=0,_=function(){function t(t,e){var n,o=r(t);return o?u in o?o[u]:e:(n=s.indexOf(t),n>=0?l[n]:e)}function e(t){var e=r(t);return e?u in e:s.indexOf(t)>=0}function n(t,e){var n,o=r(t);return o?o[u]=e:(n=s.indexOf(t),n>=0?l[n]=e:(n=s.length,l[n]=e,s[n]=t)),this}function a(t){var e,n,o=r(t);return o?u in o&&delete o[u]:(e=s.indexOf(t),!(e<0)&&(n=s.length-1,s[e]=void 0,l[e]=l[n],s[e]=s[n],s.length=n,l.length=n,!0))}this instanceof _||i();var s=[],l=[],u=b++;return Object.create(_.prototype,{get___:{value:o(t)},has___:{value:o(e)},set___:{value:o(n)},delete___:{value:o(a)}})};_.prototype=Object.create(Object.prototype,{get:{value:function(t,e){return this.get___(t,e)},writable:!0,configurable:!0},has:{value:function(t){return this.has___(t)},writable:!0,configurable:!0},set:{value:function(t,e){return this.set___(t,e)},writable:!0,configurable:!0},"delete":{value:function(t){return this.delete___(t)},writable:!0,configurable:!0}}),"function"==typeof s?!function(){function n(){function e(t,e){return c?u.has(t)?u.get(t):c.get___(t,e):u.get(t,e)}function n(t){return u.has(t)||!!c&&c.has___(t)}function r(t){var e=!!u["delete"](t);return c?c.delete___(t)||e:e}this instanceof _||i();var l,u=new s,c=void 0,f=!1;return l=a?function(t,e){return u.set(t,e),u.has(t)||(c||(c=new _),c.set(t,e)),this}:function(t,e){if(f)try{u.set(t,e)}catch(n){c||(c=new _),c.set___(t,e)}else u.set(t,e);return this},Object.create(_.prototype,{get___:{value:o(e)},has___:{value:o(n)},set___:{value:o(l)},delete___:{value:o(r)},permitHostObjects___:{value:o(function(e){if(e!==t)throw new Error("bogus call to permitHostObjects___");f=!0})}})}a&&"undefined"!=typeof Proxy&&(Proxy=void 0),n.prototype=_.prototype,e.exports=n,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),e.exports=_)}}()},{}],181:[function(t,e,n){"use strict";function r(t){var e=s.get(t);if(!e||!t.isBuffer(e._triangleBuffer.buffer)){var n=i(t,new Float32Array([-1,-1,-1,4,4,-1]));e=a(t,[{buffer:n,type:t.FLOAT,size:2}]),e._triangleBuffer=n,s.set(t,e)}e.bind(),t.drawArrays(t.TRIANGLES,0,3),e.unbind()}var o="undefined"==typeof WeakMap?t("weak-map"):WeakMap,i=t("gl-buffer"),a=t("gl-vao"),s=new o;e.exports=r},{"gl-buffer":130,"gl-vao":266,"weak-map":180}],182:[function(t,e,n){"use strict";function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function o(t){this.gl=t,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=c(t)}function i(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}function a(t,e,n,r,o){for(var i=t.primalOffset,a=t.primalMinor,s=t.mirrorOffset,l=t.mirrorMinor,u=r[e],c=0;c<3;++c)if(e!==c){var f=i,p=s,h=a,d=l;u&1<<c&&(f=s,p=i,h=l,d=a),f[c]=n[0][c],p[c]=n[1][c],o[c]>0?(h[c]=-1,d[c]=0):(h[c]=0,d[c]=1)}}function s(t,e){var n=new o(t);return n.update(e),n}e.exports=s;var l=t("./lib/text.js"),u=t("./lib/lines.js"),c=t("./lib/background.js"),f=t("./lib/cube.js"),p=t("./lib/ticks.js"),h=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),d=o.prototype;d.update=function(t){function e(e,n,r){if(r in t){var o,i=t[r],a=this[r];(e?Array.isArray(i)&&Array.isArray(i[0]):Array.isArray(i))?this[r]=o=[n(i[0]),n(i[1]),n(i[2])]:this[r]=o=[n(i),n(i),n(i)];for(var s=0;s<3;++s)if(o[s]!==a[s])return!0}return!1}t=t||{};var n,r=e.bind(this,!1,Number),o=e.bind(this,!1,Boolean),i=e.bind(this,!1,String),a=e.bind(this,!0,function(t){if(Array.isArray(t)){if(3===t.length)return[+t[0],+t[1],+t[2],1];if(4===t.length)return[+t[0],+t[1],+t[2],+t[3]]}return[0,0,0,1]}),s=!1,c=!1;if("bounds"in t)for(var f=t.bounds,h=0;h<2;++h)for(var d=0;d<3;++d)f[h][d]!==this.bounds[h][d]&&(c=!0),this.bounds[h][d]=f[h][d];if("ticks"in t){n=t.ticks,s=!0,this.autoTicks=!1;for(var h=0;h<3;++h)this.tickSpacing[h]=0}else r("tickSpacing")&&(this.autoTicks=!0,c=!0);if(this._firstInit&&("ticks"in t||"tickSpacing"in t||(this.autoTicks=!0),c=!0,s=!0,this._firstInit=!1),c&&this.autoTicks&&(n=p.create(this.bounds,this.tickSpacing),s=!0),s){for(var h=0;h<3;++h)n[h].sort(function(t,e){return t.x-e.x});p.equal(n,this.ticks)?s=!1:this.ticks=n}o("tickEnable"),i("tickFont")&&(s=!0),r("tickSize"),r("tickAngle"),r("tickPad"),a("tickColor");var m=i("labels");i("labelFont")&&(m=!0),o("labelEnable"),r("labelSize"),r("labelPad"),a("labelColor"),o("lineEnable"),o("lineMirror"),r("lineWidth"),a("lineColor"),o("lineTickEnable"),o("lineTickMirror"),r("lineTickLength"),r("lineTickWidth"),a("lineTickColor"),o("gridEnable"),r("gridWidth"),a("gridColor"),o("zeroEnable"),a("zeroLineColor"),r("zeroLineWidth"),o("backgroundEnable"),a("backgroundColor"),this._text?this._text&&(m||s)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=l(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&s&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=u(this.gl,this.bounds,this.ticks))};var m=[new i,new i,new i],y=[0,0,0],v={model:h,view:h,projection:h};d.isOpaque=function(){return!0},d.isTransparent=function(){return!1},d.drawTransparent=function(t){};var g=[0,0,0],b=[0,0,0],_=[0,0,0];d.draw=function(t){t=t||v;for(var e=this.gl,n=t.model||h,o=t.view||h,i=t.projection||h,s=this.bounds,l=f(n,o,i,s),u=l.cubeEdges,c=l.axis,p=o[12],d=o[13],x=o[14],w=o[15],T=this.pixelRatio*(i[3]*p+i[7]*d+i[11]*x+i[15]*w)/e.drawingBufferHeight,E=0;E<3;++E)this.lastCubeProps.cubeEdges[E]=u[E],this.lastCubeProps.axis[E]=c[E];for(var C=m,E=0;E<3;++E)a(m[E],E,this.bounds,u,c);for(var e=this.gl,k=y,E=0;E<3;++E)this.backgroundEnable[E]?k[E]=c[E]:k[E]=0;this._background.draw(n,o,i,s,k,this.backgroundColor),this._lines.bind(n,o,i,this);for(var E=0;E<3;++E){var S=[0,0,0];c[E]>0?S[E]=s[1][E]:S[E]=s[0][E];for(var P=0;P<2;++P){var M=(E+1+P)%3,A=(E+1+(1^P))%3;this.gridEnable[M]&&this._lines.drawGrid(M,A,this.bounds,S,this.gridColor[M],this.gridWidth[M]*this.pixelRatio)}for(var P=0;P<2;++P){var M=(E+1+P)%3,A=(E+1+(1^P))%3;this.zeroEnable[A]&&s[0][A]<=0&&s[1][A]>=0&&this._lines.drawZero(M,A,this.bounds,S,this.zeroLineColor[A],this.zeroLineWidth[A]*this.pixelRatio)}}for(var E=0;E<3;++E){this.lineEnable[E]&&this._lines.drawAxisLine(E,this.bounds,C[E].primalOffset,this.lineColor[E],this.lineWidth[E]*this.pixelRatio),this.lineMirror[E]&&this._lines.drawAxisLine(E,this.bounds,C[E].mirrorOffset,this.lineColor[E],this.lineWidth[E]*this.pixelRatio);for(var O=r(g,C[E].primalMinor),D=r(b,C[E].mirrorMinor),L=this.lineTickLength,P=0;P<3;++P){var I=T/n[5*P];O[P]*=L[P]*I,D[P]*=L[P]*I}this.lineTickEnable[E]&&this._lines.drawAxisTicks(E,C[E].primalOffset,O,this.lineTickColor[E],this.lineTickWidth[E]*this.pixelRatio),this.lineTickMirror[E]&&this._lines.drawAxisTicks(E,C[E].mirrorOffset,D,this.lineTickColor[E],this.lineTickWidth[E]*this.pixelRatio)}this._text.bind(n,o,i,this.pixelRatio);for(var E=0;E<3;++E){for(var j=C[E].primalMinor,F=r(_,C[E].primalOffset),P=0;P<3;++P)this.lineTickEnable[E]&&(F[P]+=T*j[P]*Math.max(this.lineTickLength[P],0)/n[5*P]);if(this.tickEnable[E]){for(var P=0;P<3;++P)F[P]+=T*j[P]*this.tickPad[P]/n[5*P];this._text.drawTicks(E,this.tickSize[E],this.tickAngle[E],F,this.tickColor[E])}if(this.labelEnable[E]){for(var P=0;P<3;++P)F[P]+=T*j[P]*this.labelPad[P]/n[5*P];F[E]+=.5*(s[0][E]+s[1][E]),this._text.drawLabel(E,this.labelSize[E],this.labelAngle[E],F,this.labelColor[E])}}},d.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},{"./lib/background.js":183,"./lib/cube.js":184,"./lib/lines.js":185,"./lib/text.js":187,"./lib/ticks.js":188}],183:[function(t,e,n){"use strict";function r(t,e,n,r){this.gl=t,this.buffer=e,this.vao=n,this.shader=r}function o(t){for(var e=[],n=[],o=0,l=0;l<3;++l)for(var u=(l+1)%3,c=(l+2)%3,f=[0,0,0],p=[0,0,0],h=-1;h<=1;h+=2){n.push(o,o+2,o+1,o+1,o+2,o+3),f[l]=h,p[l]=h;for(var d=-1;d<=1;d+=2){f[u]=d;for(var m=-1;m<=1;m+=2)f[c]=m,e.push(f[0],f[1],f[2],p[0],p[1],p[2]),o+=1}var y=u;u=c,c=y}var v=i(t,new Float32Array(e)),g=i(t,new Uint16Array(n),t.ELEMENT_ARRAY_BUFFER),b=a(t,[{buffer:v,type:t.FLOAT,size:3,offset:0,stride:24},{buffer:v,type:t.FLOAT,size:3,offset:12,stride:24}],g),_=s(t);return _.attributes.position.location=0,_.attributes.normal.location=1,new r(t,v,b,_)}e.exports=o;var i=t("gl-buffer"),a=t("gl-vao"),s=t("./shaders").bg,l=r.prototype;l.draw=function(t,e,n,r,o,i){for(var a=!1,s=0;s<3;++s)a=a||o[s];if(a){var l=this.gl;l.enable(l.POLYGON_OFFSET_FILL),l.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:t,view:e,projection:n,bounds:r,enable:o,colors:i},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),l.disable(l.POLYGON_OFFSET_FILL)}},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},{"./shaders":186,"gl-buffer":130,"gl-vao":266}],184:[function(t,e,n){"use strict";function r(t,e,n){for(var r=0;r<4;++r){t[r]=n[12+r];for(var o=0;o<3;++o)t[r]+=e[o]*n[4*o+r]}}function o(t){for(var e=0;e<m.length;++e)if(t=l.positive(t,m[e]),t.length<3)return 0;for(var n=t[0],r=n[0]/n[3],o=n[1]/n[3],i=0,e=1;e+1<t.length;++e){var a=t[e],s=t[e+1],u=a[0]/a[3],c=a[1]/a[3],f=s[0]/s[3],p=s[1]/s[3],h=u-r,d=c-o,y=f-r,v=p-o;i+=Math.abs(h*v-d*y)}return i}function i(t,e,n,i){s(c,e,t),s(c,n,c);for(var l=0,m=0;m<2;++m){h[2]=i[m][2];for(var b=0;b<2;++b){h[1]=i[b][1];for(var _=0;_<2;++_)h[0]=i[_][0],r(f[l],h,c),l+=1}}for(var x=-1,m=0;m<8;++m){for(var w=f[m][3],T=0;T<3;++T)p[m][T]=f[m][T]/w;w<0&&(x<0?x=m:p[m][2]<p[x][2]&&(x=m))}if(x<0){x=0;for(var E=0;E<3;++E){for(var C=(E+2)%3,k=(E+1)%3,S=-1,P=-1,M=0;M<2;++M){var A=M<<E,O=A+(M<<C)+(1-M<<k),D=A+(1-M<<C)+(M<<k);u(p[A],p[O],p[D],d)<0||(M?S=1:P=1)}if(S<0||P<0)P>S&&(x|=1<<E);else{for(var M=0;M<2;++M){var A=M<<E,O=A+(M<<C)+(1-M<<k),D=A+(1-M<<C)+(M<<k),L=o([f[A],f[O],f[D],f[A+(1<<C)+(1<<k)]]);M?S=L:P=L}P>S&&(x|=1<<E)}}}for(var I=7^x,j=-1,m=0;m<8;++m)m!==x&&m!==I&&(j<0?j=m:p[j][1]>p[m][1]&&(j=m));for(var F=-1,m=0;m<3;++m){var R=j^1<<m;if(R!==x&&R!==I){F<0&&(F=R);var k=p[R];k[0]<p[F][0]&&(F=R)}}for(var N=-1,m=0;m<3;++m){var R=j^1<<m;if(R!==x&&R!==I&&R!==F){N<0&&(N=R);var k=p[R];k[0]>p[N][0]&&(N=R)}}var z=y;z[0]=z[1]=z[2]=0,z[a.log2(F^j)]=j&F,z[a.log2(j^N)]=j&N;var B=7^N;B===x||B===I?(B=7^F,z[a.log2(N^B)]=B&N):z[a.log2(F^B)]=B&F;for(var U=v,W=x,E=0;E<3;++E)W&1<<E?U[E]=-1:U[E]=1;return g}e.exports=i;var a=t("bit-twiddle"),s=t("gl-mat4/multiply"),l=(t("gl-mat4/invert"),t("split-polygon")),u=t("robust-orientation"),c=new Array(16),f=(new Array(16),new Array(8)),p=new Array(8),h=new Array(3),d=[0,0,0];!function(){for(var t=0;t<8;++t)f[t]=[1,1,1,1],p[t]=[1,1,1]}();var m=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]],y=[1,1,1],v=[0,0,0],g={cubeEdges:y,axis:v}},{"bit-twiddle":52,"gl-mat4/invert":149,"gl-mat4/multiply":151,"robust-orientation":491,"split-polygon":190}],185:[function(t,e,n){"use strict";function r(t){return t[0]=t[1]=t[2]=0,t}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function i(t,e,n,r,o,i,a,s){this.gl=t,this.vertBuffer=e,this.vao=n,this.shader=r,this.tickCount=o,this.tickOffset=i,this.gridCount=a,this.gridOffset=s}function a(t,e,n){var r=[],o=[0,0,0],a=[0,0,0],c=[0,0,0],f=[0,0,0];r.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var p=0;p<3;++p){for(var h=r.length/3|0,d=0;d<n[p].length;++d){var m=+n[p][d].x;r.push(m,0,1,m,1,1,m,0,-1,m,0,-1,m,1,1,m,1,-1)}var y=r.length/3|0;o[p]=h,a[p]=y-h;for(var h=r.length/3|0,v=0;v<n[p].length;++v){var m=+n[p][v].x;r.push(m,0,1,m,1,1,m,0,-1,m,0,-1,m,1,1,m,1,-1)}var y=r.length/3|0;c[p]=h,f[p]=y-h}var g=s(t,new Float32Array(r)),b=l(t,[{buffer:g,type:t.FLOAT,size:3,stride:0,offset:0}]),_=u(t);return _.attributes.position.location=0,new i(t,g,b,_,a,o,f,c)}e.exports=a;var s=t("gl-buffer"),l=t("gl-vao"),u=t("./shaders").line,c=[0,0,0],f=[0,0,0],p=[0,0,0],h=[0,0,0],d=[1,1],m=i.prototype;m.bind=function(t,e,n){this.shader.bind(),this.shader.uniforms.model=t,this.shader.uniforms.view=e,this.shader.uniforms.projection=n,d[0]=this.gl.drawingBufferWidth,d[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=d,this.vao.bind()},m.drawAxisLine=function(t,e,n,i,a){var s=r(f);this.shader.uniforms.majorAxis=f,s[t]=e[1][t]-e[0][t],this.shader.uniforms.minorAxis=s;var l=o(h,n);l[t]+=e[0][t],this.shader.uniforms.offset=l,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=i;var u=r(p);u[(t+2)%3]=1,this.shader.uniforms.screenAxis=u,this.vao.draw(this.gl.TRIANGLES,6);var u=r(p);u[(t+1)%3]=1,this.shader.uniforms.screenAxis=u,this.vao.draw(this.gl.TRIANGLES,6)},m.drawAxisTicks=function(t,e,n,o,i){if(this.tickCount[t]){var a=r(c);a[t]=1,this.shader.uniforms.majorAxis=a,this.shader.uniforms.offset=e,this.shader.uniforms.minorAxis=n,this.shader.uniforms.color=o,this.shader.uniforms.lineWidth=i;var s=r(p);s[t]=1,this.shader.uniforms.screenAxis=s,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t])}},m.drawGrid=function(t,e,n,i,a,s){if(this.gridCount[t]){var l=r(f);l[e]=n[1][e]-n[0][e],this.shader.uniforms.minorAxis=l;var u=o(h,i);u[e]+=n[0][e],this.shader.uniforms.offset=u;var d=r(c);d[t]=1,this.shader.uniforms.majorAxis=d;var m=r(p);m[t]=1,this.shader.uniforms.screenAxis=m,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=a,this.vao.draw(this.gl.TRIANGLES,this.gridCount[t],this.gridOffset[t])}},m.drawZero=function(t,e,n,i,a,s){var l=r(f);this.shader.uniforms.majorAxis=l,l[t]=n[1][t]-n[0][t],this.shader.uniforms.minorAxis=l;var u=o(h,i);u[t]+=n[0][t],this.shader.uniforms.offset=u;var c=r(p);c[e]=1,this.shader.uniforms.screenAxis=c,this.shader.uniforms.lineWidth=s,
this.shader.uniforms.color=a,this.vao.draw(this.gl.TRIANGLES,6)},m.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},{"./shaders":186,"gl-buffer":130,"gl-vao":266}],186:[function(t,e,n){"use strict";var r=t("gl-shader"),o="#define GLSLIFY 1\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n",i="precision mediump float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}";n.line=function(t){return r(t,o,i,null,[{name:"position",type:"vec3"}])};var a="#define GLSLIFY 1\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvoid main() {  \n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n  mat2 planeXform = scale * mat2(cos(angle), sin(angle),\n                                -sin(angle), cos(angle));\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n  vec4 worldPosition = model * vec4(dataPosition, 1);\n  \n  //Compute clip position\n  vec4 viewPosition = view * worldPosition;\n  vec4 clipPosition = projection * viewPosition;\n  clipPosition /= clipPosition.w;\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec4(viewOffset, 0, 0);\n\n  //Done\n  gl_Position = clipPosition;\n}",s="precision mediump float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}";n.text=function(t){return r(t,a,s,null,[{name:"position",type:"vec3"}])};var l="#define GLSLIFY 1\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  if(dot(normal, enable) > 0.0) {\n    vec3 nPosition = mix(bounds[0], bounds[1], 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n  colorChannel = abs(normal);\n}",u="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] + \n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}";n.bg=function(t){return r(t,l,u,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},{"gl-shader":237}],187:[function(t,e,n){(function(n){"use strict";function r(t,e,n,r){this.gl=t,this.shader=e,this.buffer=n,this.vao=r,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}function o(t,e){try{return l(t,e)}catch(n){return console.warn("error vectorizing text:",n),{cells:[],positions:[]}}}function i(t,e,n,o,i,l){var c=a(t),f=s(t,[{buffer:c,size:3}]),p=u(t);p.attributes.position.location=0;var h=new r(t,p,c,f);return h.update(e,n,o,i,l),h}e.exports=i;var a=t("gl-buffer"),s=t("gl-vao"),l=t("vectorize-text"),u=t("./shaders").text,c=window||n.global||{},f=c.__TEXT_CACHE||{};c.__TEXT_CACHE={};var p=3,h=r.prototype,d=[0,0];h.bind=function(t,e,n,r){this.vao.bind(),this.shader.bind();var o=this.shader.uniforms;o.model=t,o.view=e,o.projection=n,o.pixelScale=r,d[0]=this.gl.drawingBufferWidth,d[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=d},h.update=function(t,e,n,r,i){function a(t,e,n,r){var i=f[n];i||(i=f[n]={});var a=i[e];a||(a=i[e]=o(e,{triangles:!0,font:n,textAlign:"center",textBaseline:"middle"}));for(var l=(r||12)/12,u=a.positions,c=a.cells,p=0,h=c.length;p<h;++p)for(var d=c[p],m=2;m>=0;--m){var y=u[d[m]];s.push(l*y[0],-l*y[1],t)}}for(var s=(this.gl,[]),l=[0,0,0],u=[0,0,0],c=[0,0,0],h=[0,0,0],d=0;d<3;++d){c[d]=s.length/p|0,a(.5*(t[0][d]+t[1][d]),e[d],n),h[d]=(s.length/p|0)-c[d],l[d]=s.length/p|0;for(var m=0;m<r[d].length;++m)r[d][m].text&&a(r[d][m].x,r[d][m].text,r[d][m].font||i,r[d][m].fontSize||12);u[d]=(s.length/p|0)-l[d]}this.buffer.update(s),this.tickOffset=l,this.tickCount=u,this.labelOffset=c,this.labelCount=h};var m=[0,0,0];h.drawTicks=function(t,e,n,r,o){if(this.tickCount[t]){var i=m;i[0]=i[1]=i[2]=0,i[t]=1,this.shader.uniforms.axis=i,this.shader.uniforms.color=o,this.shader.uniforms.angle=n,this.shader.uniforms.scale=e,this.shader.uniforms.offset=r,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t])}};var y=[0,0,0];h.drawLabel=function(t,e,n,r,o){this.labelCount[t]&&(this.shader.uniforms.axis=y,this.shader.uniforms.color=o,this.shader.uniforms.angle=n,this.shader.uniforms.scale=e,this.shader.uniforms.offset=r,this.vao.draw(this.gl.TRIANGLES,this.labelCount[t],this.labelOffset[t]))},h.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}}).call(this,t("_process"))},{"./shaders":186,_process:60,"gl-buffer":130,"gl-vao":266,"vectorize-text":512}],188:[function(t,e,n){"use strict";function r(t,e){var n=t+"",r=n.indexOf("."),o=0;r>=0&&(o=n.length-r-1);var i=Math.pow(10,o),a=Math.round(t*e*i),s=a+"";if(s.indexOf("e")>=0)return s;var l=a/i,u=a%i;a<0?(l=0|-Math.ceil(l),u=0|-u):(l=0|Math.floor(l),u=0|u);var c=""+l;if(a<0&&(c="-"+c),o){for(var f=""+u;f.length<o;)f="0"+f;return c+"."+f}return c}function o(t,e){for(var n=[],o=0;o<3;++o){for(var i=[],a=(.5*(t[0][o]+t[1][o]),0);a*e[o]<=t[1][o];++a)i.push({x:a*e[o],text:r(e[o],a)});for(var a=-1;a*e[o]>=t[0][o];--a)i.push({x:a*e[o],text:r(e[o],a)});n.push(i)}return n}function i(t,e){for(var n=0;n<3;++n){if(t[n].length!==e[n].length)return!1;for(var r=0;r<t[n].length;++r){var o=t[n][r],i=e[n][r];if(o.x!==i.x||o.text!==i.text)return!1}}return!0}n.create=o,n.equal=i},{}],189:[function(t,e,n){"use strict";function r(t,e,n){var r=e||0,o=n||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[r*t[12]+t[8],r*t[13]+t[9],r*t[14]+t[10],r*t[15]+t[11]],[o*t[12]-t[8],o*t[13]-t[9],o*t[14]-t[10],o*t[15]-t[11]]]}e.exports=r},{}],190:[function(t,e,n){"use strict";function r(t,e){var n=u(l(t,e),[e[e.length-1]]);return n[n.length-1]}function o(t,e,n,r){var o=r-e,i=-e/o;i<0?i=0:i>1&&(i=1);for(var a=1-i,s=t.length,l=new Array(s),u=0;u<s;++u)l[u]=i*t[u]+a*n[u];return l}function i(t,e){for(var n=[],i=[],a=r(t[t.length-1],e),s=t[t.length-1],l=t[0],u=0;u<t.length;++u,s=l){l=t[u];var c=r(l,e);if(a<0&&c>0||a>0&&c<0){var f=o(s,c,l,a);n.push(f),i.push(f.slice())}c<0?i.push(l.slice()):c>0?n.push(l.slice()):(n.push(l.slice()),i.push(l.slice())),a=c}return{positive:n,negative:i}}function a(t,e){for(var n=[],i=r(t[t.length-1],e),a=t[t.length-1],s=t[0],l=0;l<t.length;++l,a=s){s=t[l];var u=r(s,e);(i<0&&u>0||i>0&&u<0)&&n.push(o(a,u,s,i)),u>=0&&n.push(s.slice()),i=u}return n}function s(t,e){for(var n=[],i=r(t[t.length-1],e),a=t[t.length-1],s=t[0],l=0;l<t.length;++l,a=s){s=t[l];var u=r(s,e);(i<0&&u>0||i>0&&u<0)&&n.push(o(a,u,s,i)),u<=0&&n.push(s.slice()),i=u}return n}var l=t("robust-dot-product"),u=t("robust-sum");e.exports=i,e.exports.positive=a,e.exports.negative=s},{"robust-dot-product":191,"robust-sum":494}],191:[function(t,e,n){"use strict";function r(t,e){for(var n=o(t[0],e[0]),r=1;r<t.length;++r)n=i(n,o(t[r],e[r]));return n}var o=t("two-product"),i=t("robust-sum");e.exports=r},{"robust-sum":494,"two-product":508}],192:[function(t,e,n){"use strict";function r(t,e,n){this.lo=t,this.hi=e,this.pixelsPerDataUnit=n}function o(t,e,n,r,o){for(var i=0;i<3;++i){for(var a=d,s=m,l=0;l<3;++l)s[l]=a[l]=n[l];s[3]=a[3]=1,s[i]+=1,f(s,s,e),s[3]<0&&(t[i]=1/0),a[i]-=1,f(a,a,e),a[3]<0&&(t[i]=1/0);var u=(a[0]/a[3]-s[0]/s[3])*r,c=(a[1]/a[3]-s[1]/s[3])*o;t[i]=.25*Math.sqrt(u*u+c*c)}return t}function i(t,e,n,r,i){var f=e.model||p,d=e.view||p,m=e.projection||p,g=t.bounds,i=i||l(f,d,m,g),b=i.axis;i.edges;u(h,d,f),u(h,m,h);for(var _=y,x=0;x<3;++x)_[x].lo=1/0,_[x].hi=-(1/0),_[x].pixelsPerDataUnit=1/0;var w=a(c(h,h));c(h,h);for(var T=0;T<3;++T){var E=(T+1)%3,C=(T+2)%3,k=v;t:for(var x=0;x<2;++x){var S=[];if(b[T]<0!=!!x){k[T]=g[x][T];for(var P=0;P<2;++P){k[E]=g[P^x][E];for(var M=0;M<2;++M)k[C]=g[M^P^x][C],S.push(k.slice())}for(var P=0;P<w.length;++P){if(0===S.length)continue t;S=s.positive(S,w[P])}for(var P=0;P<S.length;++P)for(var C=S[P],A=o(v,h,C,n,r),M=0;M<3;++M)_[M].lo=Math.min(_[M].lo,C[M]),_[M].hi=Math.max(_[M].hi,C[M]),M!==T&&(_[M].pixelsPerDataUnit=Math.min(_[M].pixelsPerDataUnit,Math.abs(A[M])))}}}return _}e.exports=i;var a=t("extract-frustum-planes"),s=t("split-polygon"),l=t("./lib/cube.js"),u=t("gl-mat4/multiply"),c=t("gl-mat4/transpose"),f=t("gl-vec4/transformMat4"),p=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16),d=[0,0,0,1],m=[0,0,0,1],y=[new r(1/0,(-(1/0)),1/0),new r(1/0,(-(1/0)),1/0),new r(1/0,(-(1/0)),1/0)],v=[0,0,0]},{"./lib/cube.js":184,"extract-frustum-planes":189,"gl-mat4/multiply":151,"gl-mat4/transpose":159,"gl-vec4/transformMat4":267,"split-polygon":190}],193:[function(t,e,n){"use strict";var r=t("gl-shader"),o="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n",i="precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}";e.exports=function(t){return r(t,o,i,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},{"gl-shader":237}],194:[function(t,e,n){"use strict";function r(t,e,n,r){this.gl=t,this.buffer=e,this.vao=n,this.shader=r,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}function o(t,e){function n(t,e,n,r,i,a){var s=[t,e,n,0,0,0,1];s[r+3]=1,s[r]=i,o.push.apply(o,s),s[6]=-1,o.push.apply(o,s),s[r]=a,o.push.apply(o,s),o.push.apply(o,s),s[6]=1,o.push.apply(o,s),s[r]=i,o.push.apply(o,s)}var o=[];n(0,0,0,0,0,1),n(0,0,0,1,0,1),n(0,0,0,2,0,1),n(1,0,0,1,-1,1),n(1,0,0,2,-1,1),n(0,1,0,0,-1,1),n(0,1,0,2,-1,1),n(0,0,1,0,-1,1),n(0,0,1,1,-1,1);var l=i(t,o),u=a(t,[{type:t.FLOAT,buffer:l,size:3,offset:0,stride:28},{type:t.FLOAT,buffer:l,size:3,offset:12,stride:28},{type:t.FLOAT,buffer:l,size:1,offset:24,stride:28}]),c=s(t);c.attributes.position.location=0,c.attributes.color.location=1,c.attributes.weight.location=2;var f=new r(t,l,u,c);return f.update(e),f}var i=t("gl-buffer"),a=t("gl-vao"),s=t("./shaders/index");e.exports=o;var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],u=r.prototype,c=[0,0,0],f=[0,0,0],p=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(t){},u.draw=function(t){var e=this.gl,n=this.vao,r=this.shader;n.bind(),r.bind();var o,i=t.model||l,a=t.view||l,s=t.projection||l;this.axes&&(o=this.axes.lastCubeProps.axis);for(var u=c,h=f,d=0;d<3;++d)o&&o[d]<0?(u[d]=this.bounds[0][d],h[d]=this.bounds[1][d]):(u[d]=this.bounds[1][d],h[d]=this.bounds[0][d]);p[0]=e.drawingBufferWidth,p[1]=e.drawingBufferHeight,r.uniforms.model=i,r.uniforms.view=a,r.uniforms.projection=s,r.uniforms.coordinates=[this.position,u,h],r.uniforms.colors=this.colors,r.uniforms.screenShape=p;for(var d=0;d<3;++d)r.uniforms.lineWidth=this.lineWidth[d]*this.pixelRatio,this.enabled[d]&&(n.draw(e.TRIANGLES,6,6*d),this.drawSides[d]&&n.draw(e.TRIANGLES,12,18+12*d));n.unbind()},u.update=function(t){t&&("bounds"in t&&(this.bounds=t.bounds),"position"in t&&(this.position=t.position),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"colors"in t&&(this.colors=t.colors),"enabled"in t&&(this.enabled=t.enabled),"drawSides"in t&&(this.drawSides=t.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},{"./shaders/index":193,"gl-buffer":130,"gl-vao":266}],195:[function(t,e,n){"use strict";function r(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function o(t,e){var n=null;try{n=t.getContext("webgl",e),n||(n=t.getContext("experimental-webgl",e))}catch(r){return null}return n}function i(t){var e=Math.round(Math.log(Math.abs(t))/Math.log(10));if(e<0){var n=Math.round(Math.pow(10,-e));return Math.ceil(t*n)/n}if(e>0){var n=Math.round(Math.pow(10,e));return Math.ceil(t/n)*n}return Math.ceil(t)}function a(t){return"boolean"!=typeof t||t}function s(t){function e(){if(!x&&V.autoResize){var t=w.parentNode,e=1,n=1;t&&t!==document.body?(e=t.clientWidth,n=t.clientHeight):(e=window.innerWidth,n=window.innerHeight);var r=0|Math.ceil(e*V.pixelRatio),o=0|Math.ceil(n*V.pixelRatio);if(r!==w.width||o!==w.height){w.width=r,w.height=o;var i=w.style;i.position=i.position||"absolute",i.left="0px",i.top="0px",i.width=e+"px",i.height=n+"px",N=!0}}}function n(){for(var t=I.length,e=R.length,n=0;n<e;++n)F[n]=0;t:for(var n=0;n<t;++n){var r=I[n],o=r.pickSlots;if(o){for(var i=0;i<e;++i)if(F[i]+o<255){j[n]=i,r.setPickBase(F[i]+1),F[i]+=o;continue t}var a=p(E,q);j[n]=e,R.push(a),F.push(o),r.setPickBase(1),e+=1}else j[n]=-1}for(;e>0&&0===F[e-1];)F.pop(),R.pop().dispose()}function s(){return!!V.contextLost||void(E.isContextLost()&&(V.contextLost=!0,V.mouseListener.enabled=!1,V.selection.object=null,V.oncontextloss&&V.oncontextloss()))}function g(){if(!s()){E.colorMask(!0,!0,!0,!0),E.depthMask(!0),E.disable(E.BLEND),E.enable(E.DEPTH_TEST);for(var t=I.length,e=R.length,n=0;n<e;++n){var r=R[n];r.shape=H,r.begin();for(var o=0;o<t;++o)if(j[o]===n){var i=I[o];i.drawPick&&(i.pixelRatio=1,i.drawPick(W))}r.end()}}}function b(){if(!s()){e();var t=V.camera.tick();W.view=V.camera.matrix,N=N||t,z=z||t,O.pixelRatio=V.pixelRatio,L.pixelRatio=V.pixelRatio;var n=I.length,r=Z[0],o=Z[1];r[0]=r[1]=r[2]=1/0,o[0]=o[1]=o[2]=-(1/0);for(var a=0;a<n;++a){var l=I[a];l.pixelRatio=V.pixelRatio,l.axes=V.axes,N=N||!!l.dirty,z=z||!!l.dirty;var u=l.bounds;if(u)for(var f=u[0],p=u[1],h=0;h<3;++h)r[h]=Math.min(r[h],f[h]),o[h]=Math.max(o[h],p[h])}var m=V.bounds;if(V.autoBounds)for(var h=0;h<3;++h){if(o[h]<r[h])r[h]=-1,o[h]=1;else{r[h]===o[h]&&(r[h]-=1,o[h]+=1);var v=.05*(o[h]-r[h]);r[h]=r[h]-v,o[h]=o[h]+v}m[0][h]=r[h],m[1][h]=o[h]}for(var b=!1,h=0;h<3;++h)b=b||X[0][h]!==m[0][h]||X[1][h]!==m[1][h],X[0][h]=m[0][h],X[1][h]=m[1][h];if(b){for(var _=[0,0,0],a=0;a<3;++a)_[a]=i((m[1][a]-m[0][a])/10);O.autoTicks?O.update({bounds:m,tickSpacing:_}):O.update({bounds:m})}z=z||b,N=N||b;var x=E.drawingBufferWidth,w=E.drawingBufferHeight;q[0]=x,q[1]=w,H[0]=0|Math.max(x/V.pixelRatio,1),H[1]=0|Math.max(w/V.pixelRatio,1),y(B,V.fovy,x/w,V.zNear,V.zFar);for(var a=0;a<16;++a)U[a]=0;U[15]=1;for(var T=0,a=0;a<3;++a)T=Math.max(T,m[1][a]-m[0][a]);for(var a=0;a<3;++a)V.autoScale?U[5*a]=V.aspect[a]/(m[1][a]-m[0][a]):U[5*a]=1/T,V.autoCenter&&(U[12+a]=.5*-U[5*a]*(m[0][a]+m[1][a]));for(var a=0;a<n;++a){var l=I[a];l.axesBounds=m,V.clipToBounds&&(l.clipBounds=m)}if(k.object&&(V.snapToData?L.position=k.dataCoordinate:L.position=k.dataPosition,L.bounds=m),z&&(z=!1,g()),N){V.axesPixels=c(V.axes,W,x,w),V.onrender&&V.onrender(),E.bindFramebuffer(E.FRAMEBUFFER,null),E.viewport(0,0,x,w);var C=V.clearColor;E.clearColor(C[0],C[1],C[2],C[3]),E.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT),E.depthMask(!0),E.colorMask(!0,!0,!0,!0),E.enable(E.DEPTH_TEST),E.depthFunc(E.LEQUAL),E.disable(E.BLEND),E.disable(E.CULL_FACE);var M=!1;O.enable&&(M=M||O.isTransparent(),O.draw(W)),L.axes=O,k.object&&L.draw(W),E.disable(E.CULL_FACE);for(var a=0;a<n;++a){var l=I[a];l.axes=O,l.pixelRatio=V.pixelRatio,l.isOpaque&&l.isOpaque()&&l.draw(W),l.isTransparent&&l.isTransparent()&&(M=!0)}if(M){S.shape=q,S.bind(),E.clear(E.DEPTH_BUFFER_BIT),E.colorMask(!1,!1,!1,!1),E.depthMask(!0),E.depthFunc(E.LESS),O.enable&&O.isTransparent()&&O.drawTransparent(W);for(var a=0;a<n;++a){var l=I[a];l.isOpaque&&l.isOpaque()&&l.draw(W)}E.enable(E.BLEND),E.blendEquation(E.FUNC_ADD),E.blendFunc(E.ONE,E.ONE_MINUS_SRC_ALPHA),E.colorMask(!0,!0,!0,!0),E.depthMask(!1),E.clearColor(0,0,0,0),E.clear(E.COLOR_BUFFER_BIT),O.isTransparent()&&O.drawTransparent(W);for(var a=0;a<n;++a){var l=I[a];l.isTransparent&&l.isTransparent()&&l.drawTransparent(W)}E.bindFramebuffer(E.FRAMEBUFFER,null),E.blendFunc(E.ONE,E.ONE_MINUS_SRC_ALPHA),E.disable(E.DEPTH_TEST),P.bind(),S.color[0].bind(0),P.uniforms.accumBuffer=0,d(E),E.disable(E.BLEND)}N=!1;for(var a=0;a<n;++a)I[a].dirty=!1}}}function _(){x||V.contextLost||(requestAnimationFrame(_),b())}t=t||{};var x=!1,w=(t.pixelRatio||parseFloat(window.devicePixelRatio),t.canvas);if(!w)if(w=document.createElement("canvas"),t.container){var T=t.container;T.appendChild(w)}else document.body.appendChild(w);var E=t.gl;if(E||(E=o(w,t.glOptions||{premultipliedAlpha:!0,antialias:!0})),!E)throw new Error("webgl not supported");var C=t.bounds||[[-10,-10,-10],[10,10,10]],k=new r,S=h(E,[E.drawingBufferWidth,E.drawingBufferHeight],{preferFloat:!0}),P=v(E),M=t.camera||{eye:[2,0,0],center:[0,0,0],up:[0,1,0],zoomMin:.1,zoomMax:100,mode:"turntable"},A=t.axes||{},O=u(E,A);O.enable=!A.disable;var D=t.spikes||{},L=f(E,D),I=[],j=[],F=[],R=[],N=!0,z=!0,B=new Array(16),U=new Array(16),W={view:null,projection:B,model:U},z=!0,q=[E.drawingBufferWidth,E.drawingBufferHeight],V={gl:E,contextLost:!1,pixelRatio:t.pixelRatio||parseFloat(window.devicePixelRatio),canvas:w,selection:k,camera:l(w,M),axes:O,axesPixels:null,spikes:L,bounds:C,objects:I,shape:q,aspect:t.aspectRatio||[1,1,1],pickRadius:t.pickRadius||10,zNear:t.zNear||.01,zFar:t.zFar||1e3,fovy:t.fovy||Math.PI/4,clearColor:t.clearColor||[0,0,0,0],autoResize:a(t.autoResize),autoBounds:a(t.autoBounds),autoScale:!!t.autoScale,autoCenter:a(t.autoCenter),clipToBounds:a(t.clipToBounds),snapToData:!!t.snapToData,onselect:t.onselect||null,onrender:t.onrender||null,onclick:t.onclick||null,cameraParams:W,oncontextloss:null,mouseListener:null},H=[E.drawingBufferWidth/V.pixelRatio|0,E.drawingBufferHeight/V.pixelRatio|0];V.autoResize&&e(),window.addEventListener("resize",e),V.update=function(t){x||(t=t||{},N=!0,z=!0)},V.add=function(t){x||(t.axes=O,I.push(t),j.push(-1),N=!0,z=!0,n())},V.remove=function(t){if(!x){var e=I.indexOf(t);e<0||(I.splice(e,1),j.pop(),N=!0,z=!0,n())}},V.dispose=function(){if(!x&&(x=!0,window.removeEventListener("resize",e),w.removeEventListener("webglcontextlost",s),V.mouseListener.enabled=!1,!V.contextLost)){O.dispose(),L.dispose();for(var t=0;t<I.length;++t)I[t].dispose();S.dispose();for(var t=0;t<R.length;++t)R[t].dispose();P.dispose(),E=null,O=null,L=null,I=[]}};var G=!1,Y=0;V.mouseListener=m(w,function(t,e,n){if(!x){var r=R.length,o=I.length,i=k.object;k.distance=1/0,k.mouse[0]=e,k.mouse[1]=n,k.object=null,k.screen=null,k.dataCoordinate=k.dataPosition=null;var a=!1;if(t&&Y)G=!0;else{G&&(z=!0),G=!1;for(var s=0;s<r;++s){var l=R[s].query(e,H[1]-n-1,V.pickRadius);if(l){if(l.distance>k.distance)continue;for(var u=0;u<o;++u){var c=I[u];if(j[u]===s){var f=c.pick(l);f&&(k.buttons=t,k.screen=l.coord,k.distance=l.distance,k.object=c,k.index=f.distance,k.dataPosition=f.position,k.dataCoordinate=f.dataCoordinate,k.data=f,a=!0)}}}}}i&&i!==k.object&&(i.highlight&&i.highlight(null),N=!0),k.object&&(k.object.highlight&&k.object.highlight(k.data),N=!0),a=a||k.object!==i,a&&V.onselect&&V.onselect(k),1&t&&!(1&Y)&&V.onclick&&V.onclick(k),Y=t}}),w.addEventListener("webglcontextlost",s);var Z=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],X=[Z[0].slice(),Z[1].slice()];return _(),V.redraw=function(){x||(N=!0,b())},V}e.exports=s;var l=t("3d-view-controls"),u=t("gl-axes3d"),c=t("gl-axes3d/properties"),f=t("gl-spikes3d"),p=t("gl-select-static"),h=t("gl-fbo"),d=t("a-big-triangle"),m=t("mouse-change"),y=t("gl-mat4/perspective"),v=t("./lib/shader")},{"./lib/shader":178,"3d-view-controls":179,"a-big-triangle":181,"gl-axes3d":182,"gl-axes3d/properties":192,"gl-fbo":135,"gl-mat4/perspective":152,"gl-select-static":236,"gl-spikes3d":194,"mouse-change":473}],196:[function(t,e,n){n.pointVertex="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}",n.pointFragment="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n",n.pickVertex="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n",n.pickFragment="precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"},{}],197:[function(t,e,n){"use strict";function r(t){this.gl=t,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function o(t,e){return t.name<e.name?-1:1}function i(t,e,n,o,i){var a=new r(t);return a.update(e,n,o,i),a}var a=t("./lib/create-uniforms"),s=t("./lib/create-attributes"),l=t("./lib/reflect"),u=t("./lib/shader-cache"),c=t("./lib/runtime-reflect"),f=t("./lib/GLError"),p=r.prototype;p.bind=function(){this.program||this._relink();var t,e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),n=this.gl.lastAttribCount;if(e>n)for(t=n;t<e;t++)this.gl.enableVertexAttribArray(t);else if(n>e)for(t=e;t<n;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=e,this.gl.useProgram(this.program)},p.dispose=function(){for(var t=this.gl.lastAttribCount,e=0;e<t;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},p.update=function(t,e,n,r){function i(){h.program=u.program(d,h._vref,h._fref,x,w);for(var t=0;t<n.length;++t)P[t]=d.getUniformLocation(h.program,n[t].name)}if(!e||1===arguments.length){var p=t;t=p.vertex,e=p.fragment,n=p.uniforms,r=p.attributes}var h=this,d=h.gl,m=h._vref;h._vref=u.shader(d,d.VERTEX_SHADER,t),m&&m.dispose(),h.vertShader=h._vref.shader;var y=this._fref;if(h._fref=u.shader(d,d.FRAGMENT_SHADER,e),y&&y.dispose(),h.fragShader=h._fref.shader,!n||!r){var v=d.createProgram();if(d.attachShader(v,h.fragShader),d.attachShader(v,h.vertShader),d.linkProgram(v),!d.getProgramParameter(v,d.LINK_STATUS)){var g=d.getProgramInfoLog(v);throw new f(g,"Error linking program:"+g)}n=n||c.uniforms(d,v),r=r||c.attributes(d,v),d.deleteProgram(v)}r=r.slice(),r.sort(o);var b,_=[],x=[],w=[];for(b=0;b<r.length;++b){var T=r[b];if(T.type.indexOf("mat")>=0){for(var E=0|T.type.charAt(T.type.length-1),C=new Array(E),k=0;k<E;++k)C[k]=w.length,x.push(T.name+"["+k+"]"),"number"==typeof T.location?w.push(T.location+k):Array.isArray(T.location)&&T.location.length===E&&"number"==typeof T.location[k]?w.push(0|T.location[k]):w.push(-1);_.push({name:T.name,type:T.type,locations:C})}else _.push({name:T.name,type:T.type,locations:[w.length]}),x.push(T.name),"number"==typeof T.location?w.push(0|T.location):w.push(-1)}var S=0;for(b=0;b<w.length;++b)if(w[b]<0){for(;w.indexOf(S)>=0;)S+=1;w[b]=S}var P=new Array(n.length);i(),h._relink=i,h.types={uniforms:l(n),attributes:l(r)},h.attributes=s(d,h,_,w),Object.defineProperty(h,"uniforms",a(d,h,n,P))},e.exports=i},{"./lib/GLError":198,"./lib/create-attributes":199,"./lib/create-uniforms":200,"./lib/reflect":201,"./lib/runtime-reflect":202,"./lib/shader-cache":203}],198:[function(t,e,n){function r(t,e,n){this.shortMessage=e||"",this.longMessage=n||"",this.rawError=t||"",this.message="gl-shader: "+(e||t||"")+(n?"\n"+n:""),this.stack=(new Error).stack}r.prototype=new Error,r.prototype.name="GLError",r.prototype.constructor=r,e.exports=r},{}],199:[function(t,e,n){"use strict";function r(t,e,n,r,o,i){this._gl=t,this._wrapper=e,this._index=n,this._locations=r,this._dimension=o,this._constFunc=i}function o(t,e,n,o,i,a,s){for(var l=["gl","v"],u=[],c=0;c<i;++c)l.push("x"+c),u.push("x"+c);l.push("if(x0.length===void 0){return gl.vertexAttrib"+i+"f(v,"+u.join()+")}else{return gl.vertexAttrib"+i+"fv(v,x0)}");var f=Function.apply(null,l),p=new r(t,e,n,o,i,f);Object.defineProperty(a,s,{set:function(e){return t.disableVertexAttribArray(o[n]),f(t,o[n],e),e},get:function(){return p},enumerable:!0})}function i(t,e,n,r,i,a,s){for(var l=new Array(i),u=new Array(i),c=0;c<i;++c)o(t,e,n[c],r,i,l,c),u[c]=l[c];Object.defineProperty(l,"location",{set:function(t){if(Array.isArray(t))for(var e=0;e<i;++e)u[e].location=t[e];else for(var e=0;e<i;++e)u[e].location=t+e;return t},get:function(){for(var t=new Array(i),e=0;e<i;++e)t[e]=r[n[e]];return t},enumerable:!0}),l.pointer=function(e,o,a,s){e=e||t.FLOAT,o=!!o,a=a||i*i,s=s||0;for(var l=0;l<i;++l){var u=r[n[l]];t.vertexAttribPointer(u,i,e,o,a,s+l*i),t.enableVertexAttribArray(u)}};var f=new Array(i),p=t["vertexAttrib"+i+"fv"];Object.defineProperty(a,s,{set:function(e){for(var o=0;o<i;++o){var a=r[n[o]];if(t.disableVertexAttribArray(a),Array.isArray(e[0]))p.call(t,a,e[o]);else{for(var s=0;s<i;++s)f[s]=e[i*o+s];p.call(t,a,f)}}return e},get:function(){return l},enumerable:!0})}function a(t,e,n,r){for(var a={},l=0,u=n.length;l<u;++l){var c=n[l],f=c.name,p=c.type,h=c.locations;switch(p){case"bool":case"int":case"float":o(t,e,h[0],r,1,a,f);break;default:if(p.indexOf("vec")>=0){var d=p.charCodeAt(p.length-1)-48;if(d<2||d>4)throw new s("","Invalid data type for attribute "+f+": "+p);o(t,e,h[0],r,d,a,f)}else{if(!(p.indexOf("mat")>=0))throw new s("","Unknown data type for attribute "+f+": "+p);var d=p.charCodeAt(p.length-1)-48;if(d<2||d>4)throw new s("","Invalid data type for attribute "+f+": "+p);i(t,e,h,r,d,a,f)}}}return a}e.exports=a;var s=t("./GLError"),l=r.prototype;l.pointer=function(t,e,n,r){var o=this,i=o._gl,a=o._locations[o._index];i.vertexAttribPointer(a,o._dimension,t||i.FLOAT,!!e,n||0,r||0),i.enableVertexAttribArray(a)},l.set=function(t,e,n,r){return this._constFunc(this._locations[this._index],t,e,n,r)},Object.defineProperty(l,"location",{get:function(){return this._locations[this._index]},set:function(t){return t!==this._locations[this._index]&&(this._locations[this._index]=0|t,this._wrapper.program=null),0|t}})},{"./GLError":198}],200:[function(t,e,n){"use strict";function r(t){var e=new Function("y","return function(){return y}");return e(t)}function o(t,e){for(var n=new Array(t),r=0;r<t;++r)n[r]=e;return n}function i(t,e,n,i){function l(n){var r=new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+n+"])}");return r(t,e,i)}function u(t,e,n){switch(n){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+e+"],obj"+t+")";case"float":return"gl.uniform1f(locations["+e+"],obj"+t+")";default:var r=n.indexOf("vec");if(!(0<=r&&r<=1&&n.length===4+r)){if(0===n.indexOf("mat")&&4===n.length){var o=n.charCodeAt(n.length-1)-48;if(o<2||o>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+n);return"gl.uniformMatrix"+o+"fv(locations["+e+"],false,obj"+t+")"}throw new s("","Unknown uniform data type for "+name+": "+n)}var o=n.charCodeAt(n.length-1)-48;if(o<2||o>4)throw new s("","Invalid data type");switch(n.charAt(0)){case"b":case"i":return"gl.uniform"+o+"iv(locations["+e+"],obj"+t+")";case"v":return"gl.uniform"+o+"fv(locations["+e+"],obj"+t+")";default:throw new s("","Unrecognized data type for vector "+name+": "+n)}}}function c(t,e){if("object"!=typeof e)return[[t,e]];var n=[];for(var r in e){var o=e[r],i=t;i+=parseInt(r)+""===r?"["+r+"]":"."+r,"object"==typeof o?n.push.apply(n,c(i,o)):n.push([i,o])}return n}function f(e){for(var r=["return function updateProperty(obj){"],o=c("",e),a=0;a<o.length;++a){var s=o[a],l=s[0],f=s[1];i[f]&&r.push(u(l,f,n[f].type))}r.push("return obj}");var p=new Function("gl","locations",r.join("\n"));return p(t,i)}function p(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var e=t.indexOf("vec");if(0<=e&&e<=1&&t.length===4+e){var n=t.charCodeAt(t.length-1)-48;if(n<2||n>4)throw new s("","Invalid data type");return"b"===t.charAt(0)?o(n,!1):o(n,0)}if(0===t.indexOf("mat")&&4===t.length){var n=t.charCodeAt(t.length-1)-48;if(n<2||n>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+t);return o(n*n,0)}throw new s("","Unknown uniform data type for "+name+": "+t)}}function h(t,e,o){if("object"==typeof o){var a=d(o);Object.defineProperty(t,e,{get:r(a),set:f(o),enumerable:!0,configurable:!1})}else i[o]?Object.defineProperty(t,e,{get:l(o),set:f(o),enumerable:!0,configurable:!1}):t[e]=p(n[o].type)}function d(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var n=0;n<t.length;++n)h(e,n,t[n])}else{e={};for(var r in t)h(e,r,t[r])}return e}var m=a(n,!0);return{get:r(d(m)),set:f(m),enumerable:!0,configurable:!0}}var a=t("./reflect"),s=t("./GLError");e.exports=i},{"./GLError":198,"./reflect":201}],201:[function(t,e,n){"use strict";function r(t,e){for(var n={},r=0;r<t.length;++r)for(var o=t[r].name,i=o.split("."),a=n,s=0;s<i.length;++s){
var l=i[s].split("[");if(l.length>1){l[0]in a||(a[l[0]]=[]),a=a[l[0]];for(var u=1;u<l.length;++u){var c=parseInt(l[u]);u<l.length-1||s<i.length-1?(c in a||(u<l.length-1?a[c]=[]:a[c]={}),a=a[c]):e?a[c]=r:a[c]=t[r].type}}else s<i.length-1?(l[0]in a||(a[l[0]]={}),a=a[l[0]]):e?a[l[0]]=r:a[l[0]]=t[r].type}return n}e.exports=r},{}],202:[function(t,e,n){"use strict";function r(t,e){if(!s){var n=Object.keys(a);s={};for(var r=0;r<n.length;++r){var o=n[r];s[t[o]]=a[o]}}return s[e]}function o(t,e){for(var n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),o=[],i=0;i<n;++i){var a=t.getActiveUniform(e,i);if(a){var s=r(t,a.type);if(a.size>1)for(var l=0;l<a.size;++l)o.push({name:a.name.replace("[0]","["+l+"]"),type:s});else o.push({name:a.name,type:s})}}return o}function i(t,e){for(var n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=[],i=0;i<n;++i){var a=t.getActiveAttrib(e,i);a&&o.push({name:a.name,type:r(t,a.type)})}return o}n.uniforms=o,n.attributes=i;var a={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},s=null},{}],203:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a){this.id=t,this.src=e,this.type=n,this.shader=r,this.count=i,this.programs=[],this.cache=a}function o(t){this.gl=t,this.shaders=[{},{}],this.programs={}}function i(t,e,n){var r=t.createShader(e);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var o=t.getShaderInfoLog(r);try{var i=f(o,n,e)}catch(a){throw console.warn("Failed to format compiler error: "+a),new c(o,"Error compiling shader:\n"+o)}throw new c(o,i["short"],i["long"])}return r}function a(t,e,n,r,o){var i=t.createProgram();t.attachShader(i,e),t.attachShader(i,n);for(var a=0;a<r.length;++a)t.bindAttribLocation(i,o[a],r[a]);if(t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS)){var s=t.getProgramInfoLog(i);throw new c(s,"Error linking program: "+s)}return i}function s(t){var e=h.get(t);return e||(e=new o(t),h.set(t,e)),e}function l(t,e,n){return s(t).getShaderReference(e,n)}function u(t,e,n,r,o){return s(t).getProgram(e,n,r,o)}n.shader=l,n.program=u;var c=t("./GLError"),f=t("gl-format-compiler-error"),p="undefined"==typeof WeakMap?t("weakmap-shim"):WeakMap,h=new p,d=0;r.prototype.dispose=function(){if(0===--this.count){for(var t=this.cache,e=t.gl,n=this.programs,r=0,o=n.length;r<o;++r){var i=t.programs[n[r]];i&&(delete t.programs[r],e.deleteProgram(i))}e.deleteShader(this.shader),delete t.shaders[this.type===e.FRAGMENT_SHADER|0][this.src]}};var m=o.prototype;m.getShaderReference=function(t,e){var n=this.gl,o=this.shaders[t===n.FRAGMENT_SHADER|0],a=o[e];if(a&&n.isShader(a.shader))a.count+=1;else{var s=i(n,t,e);a=o[e]=new r((d++),e,t,s,[],1,this)}return a},m.getProgram=function(t,e,n,r){var o=[t.id,e.id,n.join(":"),r.join(":")].join("@"),i=this.programs[o];return i&&this.gl.isProgram(i)||(this.programs[o]=i=a(this.gl,t.shader,e.shader,n,r),t.programs.push(o),e.programs.push(o)),i}},{"./GLError":198,"gl-format-compiler-error":204,"weakmap-shim":222}],204:[function(t,e,n){function r(t,e,n){"use strict";var r=a(e)||"of unknown name (see npm glsl-shader-name)",l="unknown type";void 0!==n&&(l=n===i.FRAGMENT_SHADER?"fragment":"vertex");for(var u=o("Error compiling %s shader %s:\n",l,r),c=o("%s%s",u,t),f=t.split("\n"),p={},h=0;h<f.length;h++){var d=f[h];if(""!==d){var m=parseInt(d.split(":")[2]);if(isNaN(m))throw new Error(o("Could not parse error: %s",d));p[m]=d}}for(var y=s(e).split("\n"),h=0;h<y.length;h++)if(p[h+3]||p[h+2]||p[h+1]){var v=y[h];if(u+=v+"\n",p[h+1]){var g=p[h+1];g=g.substr(g.split(":",3).join(":").length+1).trim(),u+=o("^^^ %s\n\n",g)}}return{"long":u.trim(),"short":c.trim()}}var o=t("sprintf-js").sprintf,i=t("gl-constants/lookup"),a=t("glsl-shader-name"),s=t("add-line-numbers");e.exports=r},{"add-line-numbers":205,"gl-constants/lookup":209,"glsl-shader-name":210,"sprintf-js":219}],205:[function(t,e,n){function r(t,e,n){e="number"==typeof e?e:1,n=n||": ";var r=t.split(/\r?\n/),i=String(r.length+e-1).length;return r.map(function(t,r){var a=r+e,s=String(a).length,l=o(a,i-s);return l+n+t}).join("\n")}var o=t("pad-left");e.exports=r},{"pad-left":206}],206:[function(t,e,n){/*!
	 * pad-left <https://github.com/jonschlinkert/pad-left>
	 *
	 * Copyright (c) 2014-2015, Jon Schlinkert.
	 * Licensed under the MIT license.
	 */
"use strict";var r=t("repeat-string");e.exports=function(t,e,n){return n="undefined"!=typeof n?n+"":" ",r(n,e)+t}},{"repeat-string":207}],207:[function(t,e,n){/*!
	 * repeat-string <https://github.com/jonschlinkert/repeat-string>
	 *
	 * Copyright (c) 2014-2015, Jon Schlinkert.
	 * Licensed under the MIT License.
	 */
"use strict";function r(t,e){if("string"!=typeof t)throw new TypeError("repeat-string expects a string.");if(1===e)return t;if(2===e)return t+t;var n=t.length*e;for(o===t&&"undefined"!=typeof o||(o=t,i="");n>i.length&&e>0&&(1&e&&(i+=t),e>>=1);)t+=t;return i.substr(0,n)}var o,i="";e.exports=r},{}],208:[function(t,e,n){e.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},{}],209:[function(t,e,n){var r=t("./1.0/numbers");e.exports=function(t){return r[t]}},{"./1.0/numbers":208}],210:[function(t,e,n){function r(t){for(var e=Array.isArray(t)?t:o(t),n=0;n<e.length;n++){var r=e[n];if("preprocessor"===r.type){var a=r.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(a&&a[2]){var s=a[1],l=a[2];return(s?i(l):l).trim()}}}}var o=t("glsl-tokenizer"),i=t("atob-lite");e.exports=r},{"atob-lite":211,"glsl-tokenizer":218}],211:[function(t,e,n){e.exports=function(t){return atob(t)}},{}],212:[function(t,e,n){function r(t){function e(t){t.length&&W.push({type:T[B],data:t,position:H,line:q,column:V})}function n(t){N=0,Z+=t,R=Z.length;for(var e;j=Z[N],N<R;){switch(e=N,B){case f:N=P();break;case p:N=S();break;case h:N=k();break;case d:N=M();break;case m:N=D();break;case w:N=O();break;case y:N=L();break;case c:N=I();break;case _:N=C();break;case u:N=E()}if(e!==N)switch(Z[e]){case"\n":V=0,++q;break;default:++V}}return z+=N,Z=Z.slice(N),W}function r(t){return U.length&&e(U.join("")),B=x,e("(eof)"),W}function E(){return U=U.length?[]:U,"/"===F&&"*"===j?(H=z+N-1,B=f,F=j,N+1):"/"===F&&"/"===j?(H=z+N-1,B=p,F=j,N+1):"#"===j?(B=h,H=z+N,N):/\s/.test(j)?(B=_,H=z+N,N):(G=/\d/.test(j),Y=/[^\w_]/.test(j),H=z+N,B=G?m:Y?d:c,N)}function C(){return/[^\s]/g.test(j)?(e(U.join("")),B=u,N):(U.push(j),F=j,N+1)}function k(){return"\r"!==j&&"\n"!==j||"\\"===F?(U.push(j),F=j,N+1):(e(U.join("")),B=u,N)}function S(){return k()}function P(){return"/"===j&&"*"===F?(U.push(j),e(U.join("")),B=u,N+1):(U.push(j),F=j,N+1)}function M(){if("."===F&&/\d/.test(j))return B=y,N;if("/"===F&&"*"===j)return B=f,N;if("/"===F&&"/"===j)return B=p,N;if("."===j&&U.length){for(;A(U););return B=y,N}if(";"===j||")"===j||"("===j){if(U.length)for(;A(U););return e(j),B=u,N+1}var t=2===U.length&&"="!==j;if(/[\w_\d\s]/.test(j)||t){for(;A(U););return B=u,N}return U.push(j),F=j,N+1}function A(t){for(var n,r,o=0;;){if(n=i.indexOf(t.slice(0,t.length+o).join("")),r=i[n],n===-1){if(o--+t.length>0)continue;r=t.slice(0,1).join("")}return e(r),H+=r.length,U=U.slice(r.length),U.length}}function O(){return/[^a-fA-F0-9]/.test(j)?(e(U.join("")),B=u,N):(U.push(j),F=j,N+1)}function D(){return"."===j?(U.push(j),B=y,F=j,N+1):/[eE]/.test(j)?(U.push(j),B=y,F=j,N+1):"x"===j&&1===U.length&&"0"===U[0]?(B=w,U.push(j),F=j,N+1):/[^\d]/.test(j)?(e(U.join("")),B=u,N):(U.push(j),F=j,N+1)}function L(){return"f"===j&&(U.push(j),F=j,N+=1),/[eE]/.test(j)?(U.push(j),F=j,N+1):"-"===j&&/[eE]/.test(F)?(U.push(j),F=j,N+1):/[^\d]/.test(j)?(e(U.join("")),B=u,N):(U.push(j),F=j,N+1)}function I(){if(/[^\d\w_]/.test(j)){var t=U.join("");return B=K.indexOf(t)>-1?b:X.indexOf(t)>-1?g:v,e(U.join("")),B=u,N}return U.push(j),F=j,N+1}var j,F,R,N=0,z=0,B=u,U=[],W=[],q=1,V=0,H=0,G=!1,Y=!1,Z="";t=t||{};var X=a,K=o;return"300 es"===t.version&&(X=l,K=s),function(t){return W=[],null!==t?n(t.replace?t.replace(/\r\n/g,"\n"):t):r()}}e.exports=r;var o=t("./lib/literals"),i=t("./lib/operators"),a=t("./lib/builtins"),s=t("./lib/literals-300es"),l=t("./lib/builtins-300es"),u=999,c=9999,f=0,p=1,h=2,d=3,m=4,y=5,v=6,g=7,b=8,_=9,x=10,w=11,T=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},{"./lib/builtins":214,"./lib/builtins-300es":213,"./lib/literals":216,"./lib/literals-300es":215,"./lib/operators":217}],213:[function(t,e,n){var r=t("./builtins");r=r.slice().filter(function(t){return!/^(gl\_|texture)/.test(t)}),e.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},{"./builtins":214}],214:[function(t,e,n){e.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},{}],215:[function(t,e,n){var r=t("./literals");e.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uint","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},{"./literals":216}],216:[function(t,e,n){e.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},{}],217:[function(t,e,n){e.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},{}],218:[function(t,e,n){function r(t,e){var n=o(e),r=[];return r=r.concat(n(t)),r=r.concat(n(null))}var o=t("./index");e.exports=r},{"./index":212}],219:[function(e,n,r){!function(e){function n(){var t=arguments[0],e=n.cache;return e[t]&&e.hasOwnProperty(t)||(e[t]=n.parse(t)),n.format.call(null,e[t],arguments)}function o(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function i(t,e){return Array(e+1).join(t)}var a={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};n.format=function(t,e){var r,s,l,u,c,f,p,h=1,d=t.length,m="",y=[],v=!0,g="";for(s=0;s<d;s++)if(m=o(t[s]),"string"===m)y[y.length]=t[s];else if("array"===m){if(u=t[s],u[2])for(r=e[h],l=0;l<u[2].length;l++){if(!r.hasOwnProperty(u[2][l]))throw new Error(n("[sprintf] property '%s' does not exist",u[2][l]));r=r[u[2][l]]}else r=u[1]?e[u[1]]:e[h++];if("function"==o(r)&&(r=r()),a.not_string.test(u[8])&&a.not_json.test(u[8])&&"number"!=o(r)&&isNaN(r))throw new TypeError(n("[sprintf] expecting number but found %s",o(r)));switch(a.number.test(u[8])&&(v=r>=0),u[8]){case"b":r=r.toString(2);break;case"c":r=String.fromCharCode(r);break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,u[6]?parseInt(u[6]):0);break;case"e":r=u[7]?r.toExponential(u[7]):r.toExponential();break;case"f":r=u[7]?parseFloat(r).toFixed(u[7]):parseFloat(r);break;case"g":r=u[7]?parseFloat(r).toPrecision(u[7]):parseFloat(r);break;case"o":r=r.toString(8);break;case"s":r=(r=String(r))&&u[7]?r.substring(0,u[7]):r;break;case"u":r>>>=0;break;case"x":r=r.toString(16);break;case"X":r=r.toString(16).toUpperCase()}a.json.test(u[8])?y[y.length]=r:(!a.number.test(u[8])||v&&!u[3]?g="":(g=v?"+":"-",r=r.toString().replace(a.sign,"")),f=u[4]?"0"===u[4]?"0":u[4].charAt(1):" ",p=u[6]-(g+r).length,c=u[6]&&p>0?i(f,p):"",y[y.length]=u[5]?g+r+c:"0"===f?g+c+r:c+g+r)}return y.join("")},n.cache={},n.parse=function(t){for(var e=t,n=[],r=[],o=0;e;){if(null!==(n=a.text.exec(e)))r[r.length]=n[0];else if(null!==(n=a.modulo.exec(e)))r[r.length]="%";else{if(null===(n=a.placeholder.exec(e)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){o|=1;var i=[],s=n[2],l=[];if(null===(l=a.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(i[i.length]=l[1];""!==(s=s.substring(l[0].length));)if(null!==(l=a.key_access.exec(s)))i[i.length]=l[1];else{if(null===(l=a.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");i[i.length]=l[1]}n[2]=i}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r[r.length]=n}e=e.substring(n[0].length)}return r};var s=function(t,e,r){return r=(e||[]).slice(0),r.splice(0,0,t),n.apply(null,r)};"undefined"!=typeof r?(r.sprintf=n,r.vsprintf=s):(e.sprintf=n,e.vsprintf=s,"function"==typeof t&&t.amd&&t(function(){return{sprintf:n,vsprintf:s}}))}("undefined"==typeof window?this:window)},{}],220:[function(t,e,n){function r(){var t={};return function(e){if(("object"!=typeof e||null===e)&&"function"!=typeof e)throw new Error("Weakmap-shim: Key must be object");var n=e.valueOf(t);return n&&n.identity===t?n:o(e,t)}}var o=t("./hidden-store.js");e.exports=r},{"./hidden-store.js":221}],221:[function(t,e,n){function r(t,e){var n={identity:e},r=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(t){return t!==e?r.apply(this,arguments):n},writable:!0}),n}e.exports=r},{}],222:[function(t,e,n){function r(){var t=o();return{get:function(e,n){var r=t(e);return r.hasOwnProperty("value")?r.value:n},set:function(e,n){t(e).value=n},has:function(e){return"value"in t(e)},"delete":function(e){return delete t(e).value}}}var o=t("./create-store.js");e.exports=r},{"./create-store.js":220}],223:[function(t,e,n){"use strict";function r(t,e,n,r,o){this.plot=t,this.offsetBuffer=e,this.pickBuffer=n,this.shader=r,this.pickShader=o,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}function o(t,e){var n,r=0,o=t.length>>>1;for(n=0;n<o;n++){var i=t[2*n],a=t[2*n+1];i>=e[0]&&i<=e[2]&&a>=e[1]&&a<=e[3]&&r++}return r}function i(t,e){var n=t.gl,o=s(n),i=s(n),l=a(n,u.pointVertex,u.pointFragment),c=a(n,u.pickVertex,u.pickFragment),f=new r(t,o,i,l,c);return f.update(e),t.addObject(f),f}var a=t("gl-shader"),s=t("gl-buffer"),l=t("typedarray-pool"),u=t("./lib/shader");e.exports=i;var c=r.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(t){function e(e,n){return e in t?t[e]:n}var n;t=t||{},this.sizeMin=e("sizeMin",.5),this.sizeMax=e("sizeMax",20),this.color=e("color",[1,0,0,1]).slice(),this.areaRatio=e("areaRatio",1),this.borderColor=e("borderColor",[0,0,0,1]).slice(),this.blend=e("blend",!1);var r=t.positions.length>>>1,o=t.positions instanceof Float32Array,i=t.idToIndex instanceof Int32Array&&t.idToIndex.length>=r,a=t.positions,s=o?a:l.mallocFloat32(a.length),u=i?t.idToIndex:l.mallocInt32(r);if(o||s.set(a),!i)for(s.set(a),n=0;n<r;n++)u[n]=n;this.points=a,this.offsetBuffer.update(s),this.pickBuffer.update(u),o||l.free(s),i||l.free(u),this.pointCount=r,this.pickOffset=0},c.unifiedDraw=function(){var t=[1,0,0,0,1,0,0,0,1],e=[0,0,0,0];return function(n){var r=void 0!==n,i=r?this.pickShader:this.shader,a=this.plot.gl,s=this.plot.dataBox;if(0===this.pointCount)return n;var l=s[2]-s[0],u=s[3]-s[1],c=o(this.points,s),f=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(c,.33333)));t[0]=2/l,t[4]=2/u,t[6]=-2*s[0]/l-1,t[7]=-2*s[1]/u-1,this.offsetBuffer.bind(),i.bind(),i.attributes.position.pointer(),i.uniforms.matrix=t,i.uniforms.color=this.color,i.uniforms.borderColor=this.borderColor,i.uniforms.pointCloud=f<5,i.uniforms.pointSize=f,i.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),r&&(e[0]=255&n,e[1]=n>>8&255,e[2]=n>>16&255,e[3]=n>>24&255,this.pickBuffer.bind(),i.attributes.pickId.pointer(a.UNSIGNED_BYTE),i.uniforms.pickOffset=e,this.pickOffset=n);var p=a.getParameter(a.BLEND),h=a.getParameter(a.DITHER);return p&&!this.blend&&a.disable(a.BLEND),h&&a.disable(a.DITHER),a.drawArrays(a.POINTS,0,this.pointCount),p&&!this.blend&&a.enable(a.BLEND),h&&a.enable(a.DITHER),n+this.pointCount}}(),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(t,e,n){var r=this.pickOffset,o=this.pointCount;if(n<r||n>=r+o)return null;var i=n-r,a=this.points;return{object:this,pointId:i,dataCoord:[a[2*i],a[2*i+1]]}}},{"./lib/shader":196,"gl-buffer":130,"gl-shader":197,"typedarray-pool":510}],224:[function(t,e,n){"use strict";e.exports={vertex:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec2 offset;\nattribute vec4 color;\n\nuniform mat3 viewTransform;\nuniform vec2 pixelScale;\n\nvarying vec4 fragColor;\n\nvec4 computePosition_1_0(vec2 position, vec2 offset, mat3 view, vec2 scale) {\n  vec3 xposition = view * vec3(position, 1.0);\n  return vec4(\n    xposition.xy + scale * offset * xposition.z,\n    0,\n    xposition.z);\n}\n\n\n\n\nvoid main() {\n  fragColor = color;\n\n  gl_Position = computePosition_1_0(\n    position,\n    offset,\n    viewTransform,\n    pixelScale);\n}\n",fragment:"precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n",pickVertex:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec2 offset;\nattribute vec4 id;\n\nuniform mat3 viewTransform;\nuniform vec2 pixelScale;\nuniform vec4 pickOffset;\n\nvarying vec4 fragColor;\n\nvec4 computePosition_1_0(vec2 position, vec2 offset, mat3 view, vec2 scale) {\n  vec3 xposition = view * vec3(position, 1.0);\n  return vec4(\n    xposition.xy + scale * offset * xposition.z,\n    0,\n    xposition.z);\n}\n\n\n\n\nvoid main() {\n  vec4 fragId = id + pickOffset;\n\n  fragId.y += floor(fragId.x / 256.0);\n  fragId.x -= floor(fragId.x / 256.0) * 256.0;\n\n  fragId.z += floor(fragId.y / 256.0);\n  fragId.y -= floor(fragId.y / 256.0) * 256.0;\n\n  fragId.w += floor(fragId.z / 256.0);\n  fragId.z -= floor(fragId.z / 256.0) * 256.0;\n\n  fragColor = fragId / 255.0;\n\n  gl_Position = computePosition_1_0(\n    position,\n    offset,\n    viewTransform,\n    pixelScale);\n}\n",pickFragment:"precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = fragColor;\n}\n"}},{}],225:[function(t,e,n){"use strict";function r(t){if(t in p)return p[t];var e=c(t,{polygons:!0,font:"sans-serif",textAlign:"left",textBaseline:"alphabetic"}),n=[],r=[];e.forEach(function(t){t.forEach(function(t){for(var e=0;e<t.length;++e){var o=t[(e+t.length-1)%t.length],i=t[e],a=t[(e+1)%t.length],s=t[(e+2)%t.length],l=i[0]-o[0],u=i[1]-o[1],c=Math.sqrt(l*l+u*u);l/=c,u/=c,n.push(o[0],o[1]+1.4),r.push(u,-l),n.push(o[0],o[1]+1.4),r.push(-u,l),n.push(i[0],i[1]+1.4),r.push(-u,l),n.push(i[0],i[1]+1.4),r.push(-u,l),n.push(o[0],o[1]+1.4),r.push(u,-l),n.push(i[0],i[1]+1.4),r.push(u,-l);var f=s[0]-a[0],p=s[1]-a[1],h=Math.sqrt(f*f+p*p);f/=h,p/=h,n.push(i[0],i[1]+1.4),r.push(u,-l),n.push(i[0],i[1]+1.4),r.push(-u,l),n.push(a[0],a[1]+1.4),r.push(-p,f),n.push(a[0],a[1]+1.4),r.push(-p,f),n.push(i[0],i[1]+1.4),r.push(p,-f),n.push(a[0],a[1]+1.4),r.push(p,-f)}})});for(var o=[1/0,1/0,-(1/0),-(1/0)],i=0;i<n.length;i+=2)for(var a=0;a<2;++a)o[a]=Math.min(o[a],n[i+a]),o[2+a]=Math.max(o[2+a],n[i+a]);return p[t]={coords:n,normals:r,bounds:o}}function o(t,e,n,r,o,i,a){this.plot=t,this.shader=e,this.pickShader=n,this.positionBuffer=r,this.offsetBuffer=o,this.colorBuffer=i,this.idBuffer=a,this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.numPoints=0,this.numVertices=0,this.pickOffset=0,this.points=null}function i(t,e){var n=t.gl,r=a(n,f.vertex,f.fragment),i=a(n,f.pickVertex,f.pickFragment),l=s(n),u=s(n),c=s(n),p=s(n),h=new o(t,r,i,l,u,c,p);return h.update(e),t.addObject(h),h}e.exports=i;var a=t("gl-shader"),s=t("gl-buffer"),l=t("text-cache"),u=t("typedarray-pool"),c=t("vectorize-text"),f=t("./lib/shaders"),p={},h=o.prototype;!function(){function t(){var t=this.plot,r=this.bounds,o=t.viewBox,i=t.dataBox,a=t.pixelRatio,s=r[2]-r[0],l=r[3]-r[1],u=i[2]-i[0],c=i[3]-i[1];e[0]=2*s/u,e[4]=2*l/c,e[6]=2*(r[0]-i[0])/u-1,e[7]=2*(r[1]-i[1])/c-1;var f=o[2]-o[0],p=o[3]-o[1];n[0]=2*a/f,n[1]=2*a/p}var e=[1,0,0,0,1,0,0,0,1],n=[1,1];h.draw=function(){var r=this.plot,o=this.shader,i=this.numVertices;if(i){var a=r.gl;t.call(this),o.bind(),o.uniforms.pixelScale=n,o.uniforms.viewTransform=e,this.positionBuffer.bind(),o.attributes.position.pointer(),this.offsetBuffer.bind(),o.attributes.offset.pointer(),this.colorBuffer.bind(),o.attributes.color.pointer(a.UNSIGNED_BYTE,!0),a.drawArrays(a.TRIANGLES,0,i)}};var r=[0,0,0,0];h.drawPick=function(o){var i=this.plot,a=this.pickShader,s=this.numVertices,l=i.gl;if(this.pickOffset=o,!s)return o;for(var u=0;u<4;++u)r[u]=o>>8*u&255;return t.call(this),a.bind(),a.uniforms.pixelScale=n,a.uniforms.viewTransform=e,a.uniforms.pickOffset=r,this.positionBuffer.bind(),a.attributes.position.pointer(),this.offsetBuffer.bind(),a.attributes.offset.pointer(),this.idBuffer.bind(),a.attributes.id.pointer(l.UNSIGNED_BYTE,!1),l.drawArrays(l.TRIANGLES,0,s),o+this.numPoints}}(),h.pick=function(t,e,n){var r=this.pickOffset,o=this.numPoints;if(n<r||n>=r+o)return null;var i=n-r,a=this.points;return{object:this,pointId:i,dataCoord:[a[2*i],a[2*i+1]]}},h.update=function(t){t=t||{};var e=t.positions||[],n=t.colors||[],o=t.glyphs||[],i=t.sizes||[],a=t.borderWidths||[],s=t.borderColors||[];this.points=e;for(var c=this.bounds=[1/0,1/0,-(1/0),-(1/0)],f=0,p=0;p<o.length;++p){f+=l("sans-serif",o[p]).data.length+r(o[p]).coords.length>>1;for(var h=0;h<2;++h)c[h]=Math.min(c[h],e[2*p+h]),c[2+h]=Math.max(c[2+h],e[2*p+h])}c[0]===c[2]&&(c[2]+=1),c[3]===c[1]&&(c[3]+=1);for(var d=1/(c[2]-c[0]),m=1/(c[3]-c[1]),y=c[0],v=c[1],g=u.mallocFloat32(2*f),b=u.mallocFloat32(2*f),_=u.mallocUint8(4*f),x=u.mallocUint32(f),w=0,p=0;p<o.length;++p){for(var T=l("sans-serif",o[p]),E=r(o[p]),C=d*(e[2*p]-y),k=m*(e[2*p+1]-v),S=i[p],P=255*n[4*p],M=255*n[4*p+1],A=255*n[4*p+2],O=255*n[4*p+3],D=.5*(E.bounds[0]+E.bounds[2]),L=.5*(E.bounds[1]+E.bounds[3]),h=0;h<T.data.length;h+=2)g[2*w]=C,g[2*w+1]=k,b[2*w]=-S*(T.data[h]-D),b[2*w+1]=-S*(T.data[h+1]-L),_[4*w]=P,_[4*w+1]=M,_[4*w+2]=A,_[4*w+3]=O,x[w]=p,w+=1;var I=a[p];P=255*s[4*p],M=255*s[4*p+1],A=255*s[4*p+2],O=255*s[4*p+3];for(var h=0;h<E.coords.length;h+=2)g[2*w]=C,g[2*w+1]=k,b[2*w]=-(S*(E.coords[h]-D)+I*E.normals[h]),b[2*w+1]=-(S*(E.coords[h+1]-L)+I*E.normals[h+1]),_[4*w]=P,_[4*w+1]=M,_[4*w+2]=A,_[4*w+3]=O,x[w]=p,w+=1}this.numPoints=o.length,this.numVertices=f,this.positionBuffer.update(g),this.offsetBuffer.update(b),this.colorBuffer.update(_),this.idBuffer.update(x),u.free(g),u.free(b),u.free(_),u.free(x)},h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.offsetBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},{"./lib/shaders":224,"gl-buffer":130,"gl-shader":237,"text-cache":505,"typedarray-pool":510,"vectorize-text":512}],226:[function(t,e,n){n.pointVertex="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute float weight;\n\nuniform mat3 matrix;\nuniform float pointSize, useWeight;\n\nvarying float fragWeight;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n  fragWeight = mix(1.0, weight, useWeight);\n}\n",n.pointFragment="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\n\nvarying float fragWeight;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float radius = length(2.0*gl_PointCoord.xy-1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  vec4 baseColor = mix(borderColor, color, smoothStep(radius, centerFraction));\n  float alpha = 1.0 - pow(1.0 - baseColor.a, fragWeight);\n  gl_FragColor = vec4(baseColor.rgb * alpha, alpha);\n}\n",n.pickVertex="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n",n.pickFragment="precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0*gl_PointCoord.xy-1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"},{}],227:[function(t,e,n){arguments[4][74][0].apply(n,arguments)},{dup:74}],228:[function(t,e,n){"use strict";
function r(t,e,n,r,i){i<=4*p?o(0,i-1,t,e,n,r):f(0,i-1,t,e,n,r)}function o(t,e,n,r,o,i){for(var a=t+1;a<=e;++a){for(var s=n[a],l=r[2*a],u=r[2*a+1],c=o[a],f=i[a],p=a;p>t;){var h=n[p-1],d=r[2*(p-1)];if((h-s||l-d)>=0)break;n[p]=h,r[2*p]=d,r[2*p+1]=r[2*p-1],o[p]=o[p-1],i[p]=i[p-1],p-=1}n[p]=s,r[2*p]=l,r[2*p+1]=u,o[p]=c,i[p]=f}}function i(t,e,n,r,o,i){var a=n[t],s=r[2*t],l=r[2*t+1],u=o[t],c=i[t];n[t]=n[e],r[2*t]=r[2*e],r[2*t+1]=r[2*e+1],o[t]=o[e],i[t]=i[e],n[e]=a,r[2*e]=s,r[2*e+1]=l,o[e]=u,i[e]=c}function a(t,e,n,r,o,i){n[t]=n[e],r[2*t]=r[2*e],r[2*t+1]=r[2*e+1],o[t]=o[e],i[t]=i[e]}function s(t,e,n,r,o,i,a){var s=r[t],l=o[2*t],u=o[2*t+1],c=i[t],f=a[t];r[t]=r[e],o[2*t]=o[2*e],o[2*t+1]=o[2*e+1],i[t]=i[e],a[t]=a[e],r[e]=r[n],o[2*e]=o[2*n],o[2*e+1]=o[2*n+1],i[e]=i[n],a[e]=a[n],r[n]=s,o[2*n]=l,o[2*n+1]=u,i[n]=c,a[n]=f}function l(t,e,n,r,o,i,a,s,l,u,c){s[t]=s[e],l[2*t]=l[2*e],l[2*t+1]=l[2*e+1],u[t]=u[e],c[t]=c[e],s[e]=n,l[2*e]=r,l[2*e+1]=o,u[e]=i,c[e]=a}function u(t,e,n,r,o){return(n[t]-n[e]||r[2*e]-r[2*t]||o[t]-o[e])<0}function c(t,e,n,r,o,i,a,s){return(e-i[t]||a[2*t]-n||o-s[t])<0}function f(t,e,n,r,h,d){var m=(e-t+1)/6|0,y=t+m,v=e-m,g=t+e>>1,b=g-m,_=g+m,x=y,w=b,T=g,E=_,C=v,k=t+1,S=e-1,P=0;u(x,w,n,r,h,d)&&(P=x,x=w,w=P),u(E,C,n,r,h,d)&&(P=E,E=C,C=P),u(x,T,n,r,h,d)&&(P=x,x=T,T=P),u(w,T,n,r,h,d)&&(P=w,w=T,T=P),u(x,E,n,r,h,d)&&(P=x,x=E,E=P),u(T,E,n,r,h,d)&&(P=T,T=E,E=P),u(w,C,n,r,h,d)&&(P=w,w=C,C=P),u(w,T,n,r,h,d)&&(P=w,w=T,T=P),u(E,C,n,r,h,d)&&(P=E,E=C,C=P);var M=n[w],A=r[2*w],O=r[2*w+1],D=h[w],L=d[w],I=n[E],j=r[2*E],F=r[2*E+1],R=h[E],N=d[E],z=x,B=T,U=C,W=y,q=g,V=v,H=n[z],G=n[B],Y=n[U];n[W]=H,n[q]=G,n[V]=Y;for(var Z=0;Z<2;++Z){var X=r[2*z+Z],K=r[2*B+Z],Q=r[2*U+Z];r[2*W+Z]=X,r[2*q+Z]=K,r[2*V+Z]=Q}var J=h[z],$=h[B],tt=h[U];h[W]=J,h[q]=$,h[V]=tt;var et=d[z],nt=d[B],rt=d[U];d[W]=et,d[q]=nt,d[V]=rt,a(b,t,n,r,h,d),a(_,e,n,r,h,d);for(var ot=k;ot<=S;++ot)if(c(ot,M,A,O,D,n,r,h))ot!==k&&i(ot,k,n,r,h,d),++k;else if(!c(ot,I,j,F,R,n,r,h))for(;;){if(c(S,I,j,F,R,n,r,h)){c(S,M,A,O,D,n,r,h)?(s(ot,k,S,n,r,h,d),++k,--S):(i(ot,S,n,r,h,d),--S);break}if(--S<ot)break}l(t,k-1,M,A,O,D,L,n,r,h,d),l(e,S+1,I,j,F,R,N,n,r,h,d),k-2-t<=p?o(t,k-2,n,r,h,d):f(t,k-2,n,r,h,d),e-(S+2)<=p?o(S+2,e,n,r,h,d):f(S+2,e,n,r,h,d),S-k<=p?o(k,S,n,r,h,d):f(k,S,n,r,h,d)}e.exports=r;var p=32},{}],229:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s){for(var l=n,u=n;u<r;++u){var c=t[2*u],f=t[2*u+1],p=e[u];o<=c&&c<=a&&i<=f&&f<=s&&(u===l?l+=1:(t[2*u]=t[2*l],t[2*u+1]=t[2*l+1],e[u]=e[l],t[2*l]=c,t[2*l+1]=f,e[l]=p,l+=1))}return l}function o(t,e,n){this.pixelSize=t,this.offset=e,this.count=n}function i(t,e,n,i){function l(o,i,a,s,u,c){var f=.5*a,p=s+1,h=u-s;n[x]=h,_[x++]=c;for(var d=0;d<2;++d)for(var m=0;m<2;++m){var y=o+d*f,v=i+m*f,g=r(t,e,p,u,y,v,y+f,v+f);if(g!==p){if(g-p>=Math.max(.9*h,32)){var b=u+s>>>1;l(y,v,f,p,b,c+1),p=b}l(y,v,f,p,g,c+1),p=g}}}var u=t.length>>>1;if(u<1)return[];for(var c=1/0,f=1/0,p=-(1/0),h=-(1/0),d=0;d<u;++d){var m=t[2*d],y=t[2*d+1];c=Math.min(c,m),p=Math.max(p,m),f=Math.min(f,y),h=Math.max(h,y),e[d]=d}c===p&&(p+=1+Math.abs(p)),f===h&&(h+=1+Math.abs(p));var v=1/(p-c),g=1/(h-f),b=Math.max(p-c,h-f);i=i||[0,0,0,0],i[0]=c,i[1]=f,i[2]=p,i[3]=h;var _=a.mallocInt32(u),x=0;l(c,f,b,0,u,0),s(_,t,e,n,u);for(var w=[],T=0,E=u,x=u-1;x>=0;--x){t[2*x]=(t[2*x]-c)*v,t[2*x+1]=(t[2*x+1]-f)*g;var C=_[x];C!==T&&(w.push(new o(b*Math.pow(.5,C),x+1,E-(x+1))),E=x+1,T=C)}return w.push(new o(b*Math.pow(.5,C+1),0,E)),a.free(_),w}var a=t("typedarray-pool"),s=t("./lib/sort");e.exports=i},{"./lib/sort":228,"typedarray-pool":510}],230:[function(t,e,n){"use strict";function r(t,e,n,r,o,i){this.plot=t,this.offsetBuffer=e,this.pickBuffer=n,this.weightBuffer=r,this.shader=o,this.pickShader=i,this.scales=[],this.size=12,this.borderSize=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.pickOffset=0,this.points=null,this.xCoords=null}function o(t,e){var n=t.gl,o=a(n),s=a(n),l=a(n),u=i(n,c.pointVertex,c.pointFragment),f=i(n,c.pickVertex,c.pickFragment),p=new r(t,o,s,l,u,f);return p.update(e),t.addObject(p),p}var i=t("gl-shader"),a=t("gl-buffer"),s=t("binary-search-bounds"),l=t("snap-points-2d"),u=t("typedarray-pool"),c=t("./lib/shader");e.exports=o;var f=r.prototype;f.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.xCoords&&u.free(this.xCoords),this.plot.removeObject(this)},f.update=function(t){function e(e,n){return e in t?t[e]:n}t=t||{},this.size=e("size",12),this.color=e("color",[1,0,0,1]).slice(),this.borderSize=e("borderSize",1),this.borderColor=e("borderColor",[0,0,0,1]).slice(),this.xCoords&&u.free(this.xCoords);var n=t.positions,r=u.mallocFloat32(n.length),o=u.mallocInt32(n.length>>>1);r.set(n);var i=u.mallocFloat32(n.length);this.points=n,this.scales=l(r,o,i,this.bounds),this.offsetBuffer.update(r),this.pickBuffer.update(o),this.weightBuffer.update(i);for(var a=u.mallocFloat32(n.length>>>1),s=0,c=0;s<n.length;s+=2,++c)a[c]=r[s];u.free(o),u.free(r),u.free(i),this.xCoords=a,this.pointCount=n.length>>>1,this.pickOffset=0},f.drawPick=function(){var t=[1,0,0,0,1,0,0,0,1],e=[0,0,0,0];return function(n){var r=this.plot,o=this.pickShader,i=this.scales,a=this.offsetBuffer,l=this.pickBuffer,u=this.bounds,c=this.size,f=this.borderSize,p=r.gl,h=r.pickPixelRatio,d=r.viewBox,m=r.dataBox;if(0===this.pointCount)return n;var y=u[2]-u[0],v=u[3]-u[1],g=m[2]-m[0],b=m[3]-m[1],_=(d[2]-d[0])*h/r.pixelRatio,x=(d[3]-d[1])*h/r.pixelRatio,w=Math.min(g/_,b/x);t[0]=2*y/g,t[4]=2*v/b,t[6]=2*(u[0]-m[0])/g-1,t[7]=2*(u[1]-m[1])/b-1,this.pickOffset=n,e[0]=255&n,e[1]=n>>8&255,e[2]=n>>16&255,e[3]=n>>24&255,o.bind(),o.uniforms.matrix=t,o.uniforms.color=this.color,o.uniforms.borderColor=this.borderColor,o.uniforms.pointSize=h*(c+f),o.uniforms.pickOffset=e,0===this.borderSize?o.uniforms.centerFraction=2:o.uniforms.centerFraction=c/(c+f+1.25),a.bind(),o.attributes.position.pointer(),l.bind(),o.attributes.pickId.pointer(p.UNSIGNED_BYTE);for(var T=this.xCoords,E=(m[0]-u[0]-w*c*h)/y,C=(m[2]-u[0]+w*c*h)/y,k=i.length-1;k>=0;--k){var S=i[k];if(!(S.pixelSize<w&&k>1)){var P=S.offset,M=S.count+P,A=s.ge(T,E,P,M-1),O=s.lt(T,C,A,M-1)+1;O>A&&p.drawArrays(p.POINTS,A,O-A)}}return n+this.pointCount}}(),f.draw=function(){var t=[1,0,0,0,1,0,0,0,1];return function(){var e=this.plot,n=this.shader,r=this.scales,o=this.offsetBuffer,i=this.bounds,a=this.size,l=this.borderSize,u=e.gl,c=e.pixelRatio,f=e.viewBox,p=e.dataBox;if(0!==this.pointCount){var h=i[2]-i[0],d=i[3]-i[1],m=p[2]-p[0],y=p[3]-p[1],v=f[2]-f[0],g=f[3]-f[1],b=Math.min(m/v,y/g);t[0]=2*h/m,t[4]=2*d/y,t[6]=2*(i[0]-p[0])/m-1,t[7]=2*(i[1]-p[1])/y-1,n.bind(),n.uniforms.matrix=t,n.uniforms.color=this.color,n.uniforms.borderColor=this.borderColor,n.uniforms.pointSize=c*(a+l),n.uniforms.useWeight=1,0===this.borderSize?n.uniforms.centerFraction=2:n.uniforms.centerFraction=a/(a+l+1.25),o.bind(),n.attributes.position.pointer(),this.weightBuffer.bind(),n.attributes.weight.pointer();for(var _=this.xCoords,x=(p[0]-i[0]-b*a*c)/h,w=(p[2]-i[0]+b*a*c)/h,T=!0,E=r.length-1;E>=0;--E){var C=r[E];if(!(C.pixelSize<b&&E>1)){var k=C.offset,S=C.count+k,P=s.ge(_,x,k,S-1),M=s.lt(_,w,P,S-1)+1;M>P&&u.drawArrays(u.POINTS,P,M-P),T&&(T=!1,n.uniforms.useWeight=0)}}}}}(),f.pick=function(t,e,n){var r=this.pickOffset,o=this.pointCount;if(n<r||n>=r+o)return null;var i=n-r,a=this.points;return{object:this,pointId:i,dataCoord:[a[2*i],a[2*i+1]]}}},{"./lib/shader":226,"binary-search-bounds":227,"gl-buffer":130,"gl-shader":237,"snap-points-2d":229,"typedarray-pool":510}],231:[function(t,e,n){"use strict";function r(t,e){var n=i[e];if(n||(n=i[e]={}),t in n)return n[t];for(var r=o(t,{textAlign:"center",textBaseline:"middle",lineHeight:1,font:e}),a=o(t,{triangles:!0,textAlign:"center",textBaseline:"middle",lineHeight:1,font:e}),s=[[1/0,1/0],[-(1/0),-(1/0)]],l=0;l<r.positions.length;++l)for(var u=r.positions[l],c=0;c<2;++c)s[0][c]=Math.min(s[0][c],u[c]),s[1][c]=Math.max(s[1][c],u[c]);return n[t]=[a,r,s]}var o=t("vectorize-text");e.exports=r;var i={}},{"vectorize-text":512}],232:[function(t,e,n){function r(t,e){var n=o(t,e),r=n.attributes;return r.position.location=0,r.color.location=1,r.glyph.location=2,r.id.location=3,n}var o=t("gl-shader"),i="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0]))   || \n     any(greaterThan(position, clipBounds[1])) ) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n    \n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}",a="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0])) || any(greaterThan(position, clipBounds[1]))) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n    \n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}",s="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0]))   ||\n     any(greaterThan(position, clipBounds[1])) ) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n",l="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(dataCoordinate, fragClipBounds[0]))   ||\n     any(greaterThan(dataCoordinate, fragClipBounds[1])) ) {\n    discard;\n  } else {\n    gl_FragColor = interpColor * opacity;\n  }\n}\n",u="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(dataCoordinate, fragClipBounds[0]))   || \n     any(greaterThan(dataCoordinate, fragClipBounds[1])) ) {\n    discard;\n  } else {\n    gl_FragColor = vec4(pickGroup, pickId.bgr);\n  }\n}",c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],f={vertex:i,fragment:l,attributes:c},p={vertex:a,fragment:l,attributes:c},h={vertex:s,fragment:l,attributes:c},d={vertex:i,fragment:u,attributes:c},m={vertex:a,fragment:u,attributes:c},y={vertex:s,fragment:u,attributes:c};n.createPerspective=function(t){return r(t,f)},n.createOrtho=function(t){return r(t,p)},n.createProject=function(t){return r(t,h)},n.createPickPerspective=function(t){return r(t,d)},n.createPickOrtho=function(t){return r(t,m)},n.createPickProject=function(t){return r(t,y)}},{"gl-shader":237}],233:[function(t,e,n){"use strict";function r(t,e){var n=t[0],r=t[1],o=t[2],i=t[3];return t[0]=e[0]*n+e[4]*r+e[8]*o+e[12]*i,t[1]=e[1]*n+e[5]*r+e[9]*o+e[13]*i,t[2]=e[2]*n+e[6]*r+e[10]*o+e[14]*i,t[3]=e[3]*n+e[7]*r+e[11]*o+e[15]*i,t}function o(t,e,n,o){return r(o,o,n),r(o,o,e),r(o,o,t)}function i(t,e){this.index=t,this.dataCoordinate=this.position=e}function a(t,e,n,r,o,a,s,l,u,c,f,p){this.gl=t,this.pixelRatio=1,this.shader=e,this.orthoShader=n,this.projectShader=r,this.pointBuffer=o,this.colorBuffer=a,this.glyphBuffer=s,this.idBuffer=l,this.vao=u,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.lineWidth=0,this.projectScale=[2/3,2/3,2/3],this.projectOpacity=[1,1,1],this.pickId=0,this.pickPerspectiveShader=c,this.pickOrthoShader=f,this.pickProjectShader=p,this.points=[],this._selectResult=new i(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.dirty=!0}function s(t){return t[0]=t[1]=t[2]=0,t}function l(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=1,t}function u(t,e,n,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[n]=r,t}function c(t){for(var e=M,n=0;n<2;++n)for(var r=0;r<3;++r)e[n][r]=Math.max(Math.min(t[n][r],1e8),-1e8);return e}function f(t,e,n,r,i){var a,f=e.axesProject,p=e.gl,h=t.uniforms,d=n.model||_,m=n.view||_,y=n.projection||_,g=e.axesBounds,b=c(e.clipBounds);a=e.axes?e.axes.lastCubeProps.axis:[1,1,1],w[0]=2/p.drawingBufferWidth,w[1]=2/p.drawingBufferHeight,t.bind(),h.view=m,h.projection=y,h.screenSize=w,h.highlightId=e.highlightId,h.highlightScale=e.highlightScale,h.clipBounds=b,h.pickGroup=e.pickId/255,h.pixelRatio=e.pixelRatio;for(var x=0;x<3;++x)if(f[x]&&e.projectOpacity[x]<1===r){h.scale=e.projectScale[x],h.opacity=e.projectOpacity[x];for(var M=S,A=0;A<16;++A)M[A]=0;for(var A=0;A<4;++A)M[5*A]=1;M[5*x]=0,a[x]<0?M[12+x]=g[0][x]:M[12+x]=g[1][x],v(M,d,M),h.model=M;var O=(x+1)%3,D=(x+2)%3,L=s(T),I=s(E);L[O]=1,I[D]=1;var j=o(y,m,d,l(C,L)),F=o(y,m,d,l(k,I));if(Math.abs(j[1])>Math.abs(F[1])){var R=j;j=F,F=R,R=L,L=I,I=R;var N=O;O=D,D=N}j[0]<0&&(L[O]=-1),F[1]>0&&(I[D]=-1);for(var z=0,B=0,A=0;A<4;++A)z+=Math.pow(d[4*O+A],2),B+=Math.pow(d[4*D+A],2);L[O]/=Math.sqrt(z),I[D]/=Math.sqrt(B),h.axes[0]=L,h.axes[1]=I,h.fragClipBounds[0]=u(P,b[0],x,-1e8),h.fragClipBounds[1]=u(P,b[1],x,1e8),e.vao.draw(p.TRIANGLES,e.vertexCount),e.lineWidth>0&&(p.lineWidth(e.lineWidth),e.vao.draw(p.LINES,e.lineVertexCount,e.vertexCount))}}function p(t,e,n,r,o,i){var a=n.gl;if(n.vao.bind(),o===n.opacity<1||i){t.bind();var s=t.uniforms;s.model=r.model||_,s.view=r.view||_,s.projection=r.projection||_,w[0]=2/a.drawingBufferWidth,w[1]=2/a.drawingBufferHeight,s.screenSize=w,s.highlightId=n.highlightId,s.highlightScale=n.highlightScale,s.fragClipBounds=D,s.clipBounds=n.axes.bounds,s.opacity=n.opacity,s.pickGroup=n.pickId/255,s.pixelRatio=n.pixelRatio,n.vao.draw(a.TRIANGLES,n.vertexCount),n.lineWidth>0&&(a.lineWidth(n.lineWidth),n.vao.draw(a.LINES,n.lineVertexCount,n.vertexCount))}f(e,n,r,o,i),n.vao.unbind()}function h(t){var e=t.gl,n=g.createPerspective(e),r=g.createOrtho(e),o=g.createProject(e),i=g.createPickPerspective(e),s=g.createPickOrtho(e),l=g.createPickProject(e),u=d(e),c=d(e),f=d(e),p=d(e),h=m(e,[{buffer:u,size:3,type:e.FLOAT},{buffer:c,size:4,type:e.FLOAT},{buffer:f,size:2,type:e.FLOAT},{buffer:p,size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),y=new a(e,n,r,o,u,c,f,p,h,i,s,l);return y.update(t),y}var d=t("gl-buffer"),m=t("gl-vao"),y=t("typedarray-pool"),v=t("gl-mat4/multiply"),g=t("./lib/shaders"),b=t("./lib/glyphs"),_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];e.exports=h;var x=a.prototype;x.pickSlots=1,x.setPickBase=function(t){this.pickId=t},x.isTransparent=function(){if(this.opacity<1)return!0;for(var t=0;t<3;++t)if(this.axesProject[t]&&this.projectOpacity[t]<1)return!0;return!1},x.isOpaque=function(){if(this.opacity>=1)return!0;for(var t=0;t<3;++t)if(this.axesProject[t]&&this.projectOpacity[t]>=1)return!0;return!1};var w=[0,0],T=[0,0,0],E=[0,0,0],C=[0,0,0,1],k=[0,0,0,1],S=_.slice(),P=[0,0,0],M=[[0,0,0],[0,0,0]],A=[-1e8,-1e8,-1e8],O=[1e8,1e8,1e8],D=[A,O];x.draw=function(t){var e=this.useOrtho?this.orthoShader:this.shader;p(e,this.projectShader,this,t,!1,!1)},x.drawTransparent=function(t){var e=this.useOrtho?this.orthoShader:this.shader;p(e,this.projectShader,this,t,!0,!1)},x.drawPick=function(t){var e=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;p(e,this.pickProjectShader,this,t,!1,!0)},x.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=t.value[2]+(t.value[1]<<8)+(t.value[0]<<16);if(e>=this.pointCount||e<0)return null;var n=this.points[e],r=this._selectResult;r.index=e;for(var o=0;o<3;++o)r.position[o]=r.dataCoordinate[o]=n[o];return r},x.highlight=function(t){if(t){var e=t.index,n=255&e,r=e>>8&255,o=e>>16&255;this.highlightId=[n/255,r/255,o/255,0]}else this.highlightId=[1,1,1,1]},x.update=function(t){if(t=t||{},"perspective"in t&&(this.useOrtho=!t.perspective),"orthographic"in t&&(this.useOrtho=!!t.orthographic),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"project"in t)if(Array.isArray(t.project))this.axesProject=t.project;else{var e=!!t.project;this.axesProject=[e,e,e]}if("projectScale"in t)if(Array.isArray(t.projectScale))this.projectScale=t.projectScale.slice();else{var n=+t.projectScale;this.projectScale=[n,n,n]}if("projectOpacity"in t)if(Array.isArray(t.projectOpacity))this.projectOpacity=t.projectOpacity.slice();else{var n=+t.projectOpacity;this.projectOpacity=[n,n,n]}"opacity"in t&&(this.opacity=t.opacity),this.dirty=!0;var r=t.position;if(r){var o=t.font||"normal",i=t.alignment||[0,0],a=[1/0,1/0,1/0],s=[-(1/0),-(1/0),-(1/0)],l=t.glyph,u=t.color,c=t.size,f=t.angle,p=t.lineColor,h=0,d=0,m=0,v=r.length;t:for(var g=0;g<v;++g){for(var _=r[g],x=0;x<3;++x)if(isNaN(_[x])||!isFinite(_[x]))continue t;var w;w=Array.isArray(l)?b(l[g],o):l?b(l,o):b("",o);var T=w[0],E=w[1],C=w[2];d+=3*T.cells.length,m+=2*E.edges.length}var k=d+m,S=y.mallocFloat(3*k),P=y.mallocFloat(4*k),M=y.mallocFloat(2*k),A=y.mallocUint32(k),O=[0,i[1]],D=0,L=d,I=[0,0,0,1],j=[0,0,0,1],F=Array.isArray(u)&&Array.isArray(u[0]),R=Array.isArray(p)&&Array.isArray(p[0]);t:for(var g=0;g<v;++g){for(var _=r[g],x=0;x<3;++x){if(isNaN(_[x])||!isFinite(_[x])){h+=1;continue t}s[x]=Math.max(s[x],_[x]),a[x]=Math.min(a[x],_[x])}var w;w=Array.isArray(l)?b(l[g],o):l?b(l,o):b("",o);var T=w[0],E=w[1],C=w[2];if(Array.isArray(u)){var N;if(N=F?u[g]:u,3===N.length){for(var x=0;x<3;++x)I[x]=N[x];I[3]=1}else if(4===N.length)for(var x=0;x<4;++x)I[x]=N[x]}else I[0]=I[1]=I[2]=0,I[3]=1;if(Array.isArray(p)){var N;if(N=R?p[g]:p,3===N.length){for(var x=0;x<3;++x)j[x]=N[x];j[x]=1}else if(4===N.length)for(var x=0;x<4;++x)j[x]=N[x]}else j[0]=j[1]=j[2]=0,j[3]=1;var z=.5;Array.isArray(c)?z=+c[g]:c?z=+c:this.useOrtho&&(z=12);var B=0;Array.isArray(f)?B=+f[g]:f&&(B=+f);for(var U=Math.cos(B),W=Math.sin(B),_=r[g],x=0;x<3;++x)s[x]=Math.max(s[x],_[x]),a[x]=Math.min(a[x],_[x]);i[0]<0?O[0]=i[0]*(1+C[1][0]):i[0]>0&&(O[0]=-i[0]*(1+C[0][0]));for(var q=T.cells,V=T.positions,x=0;x<q.length;++x)for(var H=q[x],G=0;G<3;++G){for(var Y=0;Y<3;++Y)S[3*D+Y]=_[Y];for(var Y=0;Y<4;++Y)P[4*D+Y]=I[Y];A[D]=h;var Z=V[H[G]];M[2*D]=z*(U*Z[0]-W*Z[1]+O[0]),M[2*D+1]=z*(W*Z[0]+U*Z[1]+O[1]),D+=1}for(var q=E.edges,V=E.positions,x=0;x<q.length;++x)for(var H=q[x],G=0;G<2;++G){for(var Y=0;Y<3;++Y)S[3*L+Y]=_[Y];for(var Y=0;Y<4;++Y)P[4*L+Y]=j[Y];A[L]=h;var Z=V[H[G]];M[2*L]=z*(U*Z[0]-W*Z[1]+O[0]),M[2*L+1]=z*(W*Z[0]+U*Z[1]+O[1]),L+=1}h+=1}this.vertexCount=d,this.lineVertexCount=m,this.pointBuffer.update(S),this.colorBuffer.update(P),this.glyphBuffer.update(M),this.idBuffer.update(new Uint32Array(A)),y.free(S),y.free(P),y.free(M),y.free(A),this.bounds=[a,s],this.points=r,this.pointCount=r.length}},x.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},{"./lib/glyphs":231,"./lib/shaders":232,"gl-buffer":130,"gl-mat4/multiply":151,"gl-vao":266,"typedarray-pool":510}],234:[function(t,e,n){"use strict";n.boxVertex="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n",n.boxFragment="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"},{}],235:[function(t,e,n){"use strict";function r(t,e,n){this.plot=t,this.boxBuffer=e,this.boxShader=n,this.enabled=!0,this.selectBox=[1/0,1/0,-(1/0),-(1/0)],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}function o(t,e){var n=t.gl,o=a(n,[0,0,0,1,1,0,1,1]),l=i(n,s.boxVertex,s.boxFragment),u=new r(t,o,l);return u.update(e),t.addOverlay(u),u}var i=t("gl-shader"),a=t("gl-buffer"),s=t("./lib/shaders");e.exports=o;var l=r.prototype;l.draw=function(){if(this.enabled){var t=this.plot,e=this.selectBox,n=this.borderWidth,r=(this.innerFill,this.innerColor),o=(this.outerFill,this.outerColor),i=this.borderColor,a=t.box,s=t.screenBox,l=t.dataBox,u=t.viewBox,c=t.pixelRatio,f=(e[0]-l[0])*(u[2]-u[0])/(l[2]-l[0])+u[0],p=(e[1]-l[1])*(u[3]-u[1])/(l[3]-l[1])+u[1],h=(e[2]-l[0])*(u[2]-u[0])/(l[2]-l[0])+u[0],d=(e[3]-l[1])*(u[3]-u[1])/(l[3]-l[1])+u[1];if(f=Math.max(f,u[0]),p=Math.max(p,u[1]),h=Math.min(h,u[2]),d=Math.min(d,u[3]),!(h<f||d<p)){a.bind();var m=s[2]-s[0],y=s[3]-s[1];if(this.outerFill&&(a.drawBox(0,0,m,p,o),a.drawBox(0,p,f,d,o),a.drawBox(0,d,m,y,o),a.drawBox(h,p,m,d,o)),this.innerFill&&a.drawBox(f,p,h,d,r),n>0){var v=n*c;a.drawBox(f-v,p-v,h+v,p+v,i),a.drawBox(f-v,d-v,h+v,d+v,i),a.drawBox(f-v,p-v,f+v,d+v,i),a.drawBox(h-v,p-v,h+v,d+v,i)}}}},l.update=function(t){t=t||{},this.innerFill=!!t.innerFill,this.outerFill=!!t.outerFill,this.innerColor=(t.innerColor||[0,0,0,.5]).slice(),this.outerColor=(t.outerColor||[0,0,0,.5]).slice(),this.borderColor=(t.borderColor||[0,0,0,1]).slice(),this.borderWidth=t.borderWidth||0,this.selectBox=(t.selectBox||this.selectBox).slice()},l.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},{"./lib/shaders":234,"gl-buffer":130,"gl-shader":237}],236:[function(t,e,n){"use strict";function r(t,e,n,r,o){this.coord=[t,e],this.id=n,this.value=r,this.distance=o}function o(t,e,n){this.gl=t,this.fbo=e,this.buffer=n,this._readTimeout=null;var r=this;this._readCallback=function(){r.gl&&(e.bind(),t.readPixels(0,0,e.shape[0],e.shape[1],t.RGBA,t.UNSIGNED_BYTE,r.buffer),r._readTimeout=null)}}function i(t,e){var n=a(t,e),r=s.mallocUint8(e[0]*e[1]*4);return new o(t,n,r)}e.exports=i;var a=t("gl-fbo"),s=t("typedarray-pool"),l=t("ndarray"),u=t("bit-twiddle").nextPow2,c=t("cwise/lib/wrapper")({args:["array",{offset:[0,0,1],array:0},{offset:[0,0,2],array:0},{offset:[0,0,3],array:0},"scalar","scalar","index"],pre:{body:"{this_closestD2=1e8,this_closestX=-1,this_closestY=-1}",args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},body:{body:"{if(255>_inline_46_arg0_||255>_inline_46_arg1_||255>_inline_46_arg2_||255>_inline_46_arg3_){var _inline_46_l=_inline_46_arg4_-_inline_46_arg6_[0],_inline_46_a=_inline_46_arg5_-_inline_46_arg6_[1],_inline_46_f=_inline_46_l*_inline_46_l+_inline_46_a*_inline_46_a;_inline_46_f<this_closestD2&&(this_closestD2=_inline_46_f,this_closestX=_inline_46_arg6_[0],this_closestY=_inline_46_arg6_[1])}}",args:[{name:"_inline_46_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_46_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_46_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_46_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_46_arg4_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_46_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_46_arg6_",lvalue:!1,rvalue:!0,count:4}],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:["_inline_46_a","_inline_46_f","_inline_46_l"]},post:{body:"{return[this_closestX,this_closestY,this_closestD2]}",args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},debug:!1,funcName:"cwise",blockSize:64}),f=o.prototype;Object.defineProperty(f,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(t){if(this.gl){this.fbo.shape=t;var e=this.fbo.shape[0],n=this.fbo.shape[1];if(n*e*4>this.buffer.length){s.free(this.buffer);for(var r=this.buffer=s.mallocUint8(u(n*e*4)),o=0;o<n*e*4;++o)r[o]=255}return t}}}),f.begin=function(){var t=this.gl;this.shape;t&&(this.fbo.bind(),t.clearColor(1,1,1,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT))},f.end=function(){var t=this.gl;t&&(t.bindFramebuffer(t.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},f.query=function(t,e,n){if(!this.gl)return null;var o=this.fbo.shape.slice();t=0|t,e=0|e,"number"!=typeof n&&(n=1);var i=0|Math.min(Math.max(t-n,0),o[0]),a=0|Math.min(Math.max(t+n,0),o[0]),s=0|Math.min(Math.max(e-n,0),o[1]),u=0|Math.min(Math.max(e+n,0),o[1]);if(a<=i||u<=s)return null;var f=[a-i,u-s],p=l(this.buffer,[f[0],f[1],4],[4,4*o[0],1],4*(i+o[0]*s)),h=c(p.hi(f[0],f[1],1),n,n),d=h[0],m=h[1];if(d<0||Math.pow(this.radius,2)<h[2])return null;var y=p.get(d,m,0),v=p.get(d,m,1),g=p.get(d,m,2),b=p.get(d,m,3);return new r(d+i|0,m+s|0,y,[v,g,b],Math.sqrt(h[2]))},f.dispose=function(){this.gl&&(this.fbo.dispose(),s.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},{"bit-twiddle":52,"cwise/lib/wrapper":124,"gl-fbo":135,ndarray:485,"typedarray-pool":510}],237:[function(t,e,n){"use strict";function r(t){this.gl=t,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function o(t,e){return t.name<e.name?-1:1}function i(t,e,n,o,i){var a=new r(t);return a.update(e,n,o,i),a}var a=t("./lib/create-uniforms"),s=t("./lib/create-attributes"),l=t("./lib/reflect"),u=t("./lib/shader-cache"),c=t("./lib/runtime-reflect"),f=t("./lib/GLError"),p=r.prototype;p.bind=function(){this.program||this._relink(),this.gl.useProgram(this.program)},p.dispose=function(){this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},p.update=function(t,e,n,r){function i(){h.program=u.program(d,h._vref,h._fref,_,x);for(var t=0;t<n.length;++t)P[t]=d.getUniformLocation(h.program,n[t].name)}if(!e||1===arguments.length){var p=t;t=p.vertex,e=p.fragment,n=p.uniforms,r=p.attributes}var h=this,d=h.gl,m=h._vref;h._vref=u.shader(d,d.VERTEX_SHADER,t),m&&m.dispose(),h.vertShader=h._vref.shader;var y=this._fref;if(h._fref=u.shader(d,d.FRAGMENT_SHADER,e),y&&y.dispose(),h.fragShader=h._fref.shader,!n||!r){var v=d.createProgram();if(d.attachShader(v,h.fragShader),d.attachShader(v,h.vertShader),d.linkProgram(v),!d.getProgramParameter(v,d.LINK_STATUS)){var g=d.getProgramInfoLog(v);throw new f(g,"Error linking program:"+g)}n=n||c.uniforms(d,v),r=r||c.attributes(d,v),d.deleteProgram(v)}r=r.slice(),r.sort(o);for(var b=[],_=[],x=[],w=0;w<r.length;++w){var T=r[w];if(T.type.indexOf("mat")>=0){for(var E=0|T.type.charAt(T.type.length-1),C=new Array(E),k=0;k<E;++k)C[k]=x.length,_.push(T.name+"["+k+"]"),"number"==typeof T.location?x.push(T.location+k):Array.isArray(T.location)&&T.location.length===E&&"number"==typeof T.location[k]?x.push(0|T.location[k]):x.push(-1);b.push({name:T.name,type:T.type,locations:C})}else b.push({name:T.name,type:T.type,locations:[x.length]}),_.push(T.name),"number"==typeof T.location?x.push(0|T.location):x.push(-1)}for(var S=0,w=0;w<x.length;++w)if(x[w]<0){for(;x.indexOf(S)>=0;)S+=1;x[w]=S}var P=new Array(n.length);i(),h._relink=i,h.types={uniforms:l(n),attributes:l(r)},h.attributes=s(d,h,b,x),Object.defineProperty(h,"uniforms",a(d,h,n,P))},e.exports=i},{"./lib/GLError":238,"./lib/create-attributes":239,"./lib/create-uniforms":240,"./lib/reflect":241,"./lib/runtime-reflect":242,"./lib/shader-cache":243}],238:[function(t,e,n){arguments[4][198][0].apply(n,arguments)},{dup:198}],239:[function(t,e,n){arguments[4][199][0].apply(n,arguments)},{"./GLError":238,dup:199}],240:[function(t,e,n){arguments[4][200][0].apply(n,arguments)},{"./GLError":238,"./reflect":241,dup:200}],241:[function(t,e,n){arguments[4][201][0].apply(n,arguments)},{dup:201}],242:[function(t,e,n){arguments[4][202][0].apply(n,arguments)},{dup:202}],243:[function(t,e,n){arguments[4][203][0].apply(n,arguments)},{"./GLError":238,dup:203,"gl-format-compiler-error":244,"weakmap-shim":254}],244:[function(t,e,n){arguments[4][204][0].apply(n,arguments)},{"add-line-numbers":245,dup:204,"gl-constants/lookup":248,"glsl-shader-name":249,"sprintf-js":251}],245:[function(t,e,n){arguments[4][205][0].apply(n,arguments)},{dup:205,"pad-left":246}],246:[function(t,e,n){arguments[4][206][0].apply(n,arguments)},{dup:206,"repeat-string":486}],247:[function(t,e,n){arguments[4][208][0].apply(n,arguments)},{dup:208}],248:[function(t,e,n){arguments[4][209][0].apply(n,arguments)},{"./1.0/numbers":247,dup:209}],249:[function(t,e,n){arguments[4][210][0].apply(n,arguments)},{"atob-lite":250,dup:210,"glsl-tokenizer":274}],250:[function(t,e,n){arguments[4][211][0].apply(n,arguments)},{dup:211}],251:[function(t,e,n){arguments[4][219][0].apply(n,arguments)},{dup:219}],252:[function(t,e,n){arguments[4][220][0].apply(n,arguments)},{"./hidden-store.js":253,dup:220}],253:[function(t,e,n){arguments[4][221][0].apply(n,arguments)},{dup:221}],254:[function(t,e,n){arguments[4][222][0].apply(n,arguments)},{"./create-store.js":252,dup:222}],255:[function(t,e,n){"use strict";function r(t){this.plot=t,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}function o(t,e){var n=new r(t);return n.update(e),t.addOverlay(n),n}e.exports=o;var i=r.prototype;i.update=function(t){t=t||{},this.enable=(t.enable||[!0,!0,!1,!1]).slice(),this.width=(t.width||[1,1,1,1]).slice(),this.color=(t.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(t){return t.slice()}),this.center=(t.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},i.draw=function(){var t=this.enable,e=this.width,n=this.color,r=this.center,o=this.plot,i=o.line,a=o.dataBox,s=o.viewBox;if(i.bind(),a[0]<=r[0]&&r[0]<=a[2]&&a[1]<=r[1]&&r[1]<=a[3]){var l=s[0]+(r[0]-a[0])/(a[2]-a[0])*(s[2]-s[0]),u=s[1]+(r[1]-a[1])/(a[3]-a[1])*(s[3]-s[1]);t[0]&&i.drawLine(l,u,s[0],u,e[0],n[0]),t[1]&&i.drawLine(l,u,l,s[1],e[1],n[1]),t[2]&&i.drawLine(l,u,s[2],u,e[2],n[2]),t[3]&&i.drawLine(l,u,l,s[3],e[3],n[3])}},i.dispose=function(){this.plot.removeOverlay(this)}},{}],256:[function(t,e,n){var r=t("gl-shader"),o="precision mediump float;\n#define GLSLIFY 1\r\n\r\nattribute vec4 uv;\r\nattribute vec3 f;\r\nattribute vec3 normal;\r\n\r\nuniform mat4 model, view, projection, inverseModel;\r\nuniform vec3 lightPosition, eyePosition;\r\nuniform sampler2D colormap;\r\n\r\nvarying float value, kill;\r\nvarying vec3 worldCoordinate;\r\nvarying vec2 planeCoordinate;\r\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\r\nvarying vec4 vColor;\r\n\r\nvoid main() {\r\n  worldCoordinate = vec3(uv.zw, f.x);\r\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\r\n  vec4 clipPosition = projection * view * worldPosition;\r\n  gl_Position = clipPosition;\r\n  kill = f.y;\r\n  value = f.z;\r\n  planeCoordinate = uv.xy;\r\n\r\n  vColor = texture2D(colormap, vec2(value, value));\r\n\r\n  //Lighting geometry parameters\r\n  vec4 cameraCoordinate = view * worldPosition;\r\n  cameraCoordinate.xyz /= cameraCoordinate.w;\r\n  lightDirection = lightPosition - cameraCoordinate.xyz;\r\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\r\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\r\n}\r\n",i="precision mediump float;\n#define GLSLIFY 1\r\n\r\nfloat beckmannDistribution_2_0(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\n\n\nfloat beckmannSpecular_1_1(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution_2_0(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\n\n\r\nuniform vec3 lowerBound, upperBound;\r\nuniform float contourTint;\r\nuniform vec4 contourColor;\r\nuniform sampler2D colormap;\r\nuniform vec3 clipBounds[2];\r\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\r\nuniform float vertexColor;\r\n\r\nvarying float value, kill;\r\nvarying vec3 worldCoordinate;\r\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\r\nvarying vec4 vColor;\r\n\r\nvoid main() {\r\n  if (kill > 0.0 ||\r\n    any(lessThan(worldCoordinate, clipBounds[0])) || any(greaterThan(worldCoordinate, clipBounds[1]))) {\r\n    discard;\r\n  }\r\n\r\n  vec3 N = normalize(surfaceNormal);\r\n  vec3 V = normalize(eyeDirection);\r\n  vec3 L = normalize(lightDirection);\r\n\r\n  if(gl_FrontFacing) {\r\n    N = -N;\r\n  }\r\n\r\n  float specular = beckmannSpecular_1_1(L, V, N, roughness);\r\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\r\n\r\n  //decide how to interpolate color  in vertex or in fragment\r\n  vec4 surfaceColor = step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) + step(.5, vertexColor) * vColor;\r\n\r\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\r\n\r\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\r\n}\r\n",a="precision mediump float;\n#define GLSLIFY 1\r\n\r\nattribute vec4 uv;\r\nattribute float f;\r\n\r\nuniform mat3 permutation;\r\nuniform mat4 model, view, projection;\r\nuniform float height, zOffset;\r\nuniform sampler2D colormap;\r\n\r\nvarying float value, kill;\r\nvarying vec3 worldCoordinate;\r\nvarying vec2 planeCoordinate;\r\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\r\nvarying vec4 vColor;\r\n\r\nvoid main() {\r\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\r\n  vec4 worldPosition = model * vec4(dataCoordinate, 1.0);\r\n\r\n  vec4 clipPosition = projection * view * worldPosition;\r\n  clipPosition.z = clipPosition.z + zOffset;\r\n\r\n  gl_Position = clipPosition;\r\n  value = f;\r\n  kill = -1.0;\r\n  worldCoordinate = dataCoordinate;\r\n  planeCoordinate = uv.zw;\r\n\r\n  vColor = texture2D(colormap, vec2(value, value));\r\n\r\n  //Don't do lighting for contours\r\n  surfaceNormal   = vec3(1,0,0);\r\n  eyeDirection    = vec3(0,1,0);\r\n  lightDirection  = vec3(0,0,1);\r\n}\r\n",s="precision mediump float;\n#define GLSLIFY 1\r\n\r\nuniform vec2 shape;\r\nuniform vec3 clipBounds[2];\r\nuniform float pickId;\r\n\r\nvarying float value, kill;\r\nvarying vec3 worldCoordinate;\r\nvarying vec2 planeCoordinate;\r\nvarying vec3 surfaceNormal;\r\n\r\nvec2 splitFloat(float v) {\r\n  float vh = 255.0 * v;\r\n  float upper = floor(vh);\r\n  float lower = fract(vh);\r\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\r\n}\r\n\r\nvoid main() {\r\n  if(kill > 0.0 ||\r\n    any(lessThan(worldCoordinate, clipBounds[0])) || any(greaterThan(worldCoordinate, clipBounds[1]))) {\r\n    discard;\r\n  }\r\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\r\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\r\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\r\n}\r\n";
n.createShader=function(t){var e=r(t,o,i,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e.attributes.normal.location=2,e},n.createPickShader=function(t){var e=r(t,o,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e.attributes.normal.location=2,e},n.createContourShader=function(t){var e=r(t,a,i,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e},n.createPickContourShader=function(t){var e=r(t,a,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e}},{"gl-shader":237}],257:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],258:[function(t,e,n){"use strict";function r(t){if(t in l)return l[t];for(var e=[],n=0;n<t;++n)e.push("out",n,"s=0.5*(inp",n,"l-inp",n,"r);");for(var r=["array"],o=["junk"],n=0;n<t;++n){r.push("array"),o.push("out"+n+"s");var i=a(t);i[n]=-1,r.push({array:0,offset:i.slice()}),i[n]=1,r.push({array:0,offset:i.slice()}),o.push("inp"+n+"l","inp"+n+"r")}return l[t]=s({args:r,pre:c,post:c,body:{body:e.join(""),args:o.map(function(t){return{name:t,lvalue:0===t.indexOf("out"),rvalue:0===t.indexOf("inp"),count:"junk"!==t|0}}),thisVars:[],localVars:[]},funcName:"fdTemplate"+t})}function o(t){function e(e){for(var n=i-e.length,r=[],o=[],s=[],l=0;l<i;++l)e.indexOf(l+1)>=0?s.push("0"):e.indexOf(-(l+1))>=0?s.push("s["+l+"]-1"):(s.push("-1"),r.push("1"),o.push("s["+l+"]-2"));var u=".lo("+r.join()+").hi("+o.join()+")";if(0===r.length&&(u=""),n>0){a.push("if(1");for(var l=0;l<i;++l)e.indexOf(l+1)>=0||e.indexOf(-(l+1))>=0||a.push("&&s[",l,"]>2");a.push("){grad",n,"(src.pick(",s.join(),")",u);for(var l=0;l<i;++l)e.indexOf(l+1)>=0||e.indexOf(-(l+1))>=0||a.push(",dst.pick(",s.join(),",",l,")",u);a.push(");")}for(var l=0;l<e.length;++l){var c=Math.abs(e[l])-1,f="dst.pick("+s.join()+","+c+")"+u;switch(t[c]){case"clamp":var p=s.slice(),h=s.slice();e[l]<0?p[c]="s["+c+"]-2":h[c]="1",0===n?a.push("if(s[",c,"]>1){dst.set(",s.join(),",",c,",0.5*(src.get(",p.join(),")-src.get(",h.join(),")))}else{dst.set(",s.join(),",",c,",0)};"):a.push("if(s[",c,"]>1){diff(",f,",src.pick(",p.join(),")",u,",src.pick(",h.join(),")",u,");}else{zero(",f,");};");break;case"mirror":0===n?a.push("dst.set(",s.join(),",",c,",0);"):a.push("zero(",f,");");break;case"wrap":var d=s.slice(),m=s.slice();e[l]<0?(d[c]="s["+c+"]-2",m[c]="0"):(d[c]="s["+c+"]-1",m[c]="1"),0===n?a.push("if(s[",c,"]>2){dst.set(",s.join(),",",c,",0.5*(src.get(",d.join(),")-src.get(",m.join(),")))}else{dst.set(",s.join(),",",c,",0)};"):a.push("if(s[",c,"]>2){diff(",f,",src.pick(",d.join(),")",u,",src.pick(",m.join(),")",u,");}else{zero(",f,");};");break;default:throw new Error("ndarray-gradient: Invalid boundary condition")}}n>0&&a.push("};")}var n=t.join(),o=u[n];if(o)return o;for(var i=t.length,a=["function gradient(dst,src){var s=src.shape.slice();"],s=0;s<1<<i;++s){for(var c=[],h=0;h<i;++h)s&1<<h&&c.push(h+1);for(var d=0;d<1<<c.length;++d){for(var m=c.slice(),h=0;h<c.length;++h)d&1<<h&&(m[h]=-m[h]);e(m)}}a.push("return dst;};return gradient");for(var y=["diff","zero"],v=[f,p],s=1;s<=i;++s)y.push("grad"+s),v.push(r(s));y.push(a.join(""));var g=Function.apply(void 0,y),o=g.apply(void 0,v);return l[n]=o,o}function i(t,e,n){if(Array.isArray(n)){if(n.length!==e.dimension)throw new Error("ndarray-gradient: invalid boundary conditions")}else n="string"==typeof n?a(e.dimension,n):a(e.dimension,"clamp");if(t.dimension!==e.dimension+1)throw new Error("ndarray-gradient: output dimension must be +1 input dimension");if(t.shape[e.dimension]!==e.dimension)throw new Error("ndarray-gradient: output shape must match input shape");for(var r=0;r<e.dimension;++r)if(t.shape[r]!==e.shape[r])throw new Error("ndarray-gradient: shape mismatch");if(0===e.size)return t;if(e.dimension<=0)return t.set(0),t;var i=o(n);return i(t,e)}e.exports=i;var a=t("dup"),s=t("cwise-compiler"),l={},u={},c={body:"",args:[],thisVars:[],localVars:[]},f=s({args:["array","array","array"],pre:c,post:c,body:{args:[{name:"out",lvalue:!0,rvalue:!1,count:1},{name:"left",lvalue:!1,rvalue:!0,count:1},{name:"right",lvalue:!1,rvalue:!0,count:1}],body:"out=0.5*(left-right)",thisVars:[],localVars:[]},funcName:"cdiff"}),p=s({args:["array"],pre:c,post:c,body:{args:[{name:"out",lvalue:!0,rvalue:!1,count:1}],body:"out=0",thisVars:[],localVars:[]},funcName:"zero"})},{"cwise-compiler":121,dup:127}],259:[function(t,e,n){"use strict";var r=t("ndarray"),o=t("./doConvert.js");e.exports=function(t,e){for(var n=[],i=t,a=1;Array.isArray(i);)n.push(i.length),a*=i.length,i=i[0];return 0===n.length?r():(e||(e=r(new Float64Array(a),n)),o(e,t),e)}},{"./doConvert.js":260,ndarray:485}],260:[function(t,e,n){e.exports=t("cwise-compiler")({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},{"cwise-compiler":121}],261:[function(t,e,n){"use strict";function r(t,e,n,r,o){this.position=t,this.index=e,this.uv=n,this.level=r,this.dataCoordinate=o}function o(t){var e=_([g({colormap:t,nshades:F,format:"rgba"}).map(function(t){return[t[0],t[1],t[2],255*t[3]]})]);return b.divseq(e,255),e}function i(t,e,n,o,i,a,s,l,u,c,f,p,h,d){this.gl=t,this.shape=e,this.bounds=n,this.intensityBounds=[],this._shader=o,this._pickShader=i,this._coordinateBuffer=a,this._vao=s,this._colorMap=l,this._contourShader=u,this._contourPickShader=c,this._contourBuffer=f,this._contourVAO=p,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new r([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=h,this._dynamicVAO=d,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[x(v.mallocFloat(1024),[0,0]),x(v.mallocFloat(1024),[0,0]),x(v.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.snapToData=!1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}function a(t,e){var n,r,o,i=e.axes&&e.axes.lastCubeProps.axis||N,a=e.showSurface,s=e.showContour;for(n=0;n<3;++n)for(a=a||e.surfaceProject[n],r=0;r<3;++r)s=s||e.contourProject[n][r];for(n=0;n<3;++n){var l=z.projections[n];for(r=0;r<16;++r)l[r]=0;for(r=0;r<4;++r)l[5*r]=1;l[5*n]=0,l[12+n]=e.axesBounds[+(i[n]>0)][n],T(l,t.model,l);var u=z.clipBounds[n];for(o=0;o<2;++o)for(r=0;r<3;++r)u[o][r]=t.clipBounds[o][r];u[0][n]=-1e8,u[1][n]=1e8}return z.showSurface=a,z.showContour=s,z}function s(t,e){t=t||{};var n=this.gl;n.disable(n.CULL_FACE),this._colorMap.bind(0);var r=B;r.model=t.model||L,r.view=t.view||L,r.projection=t.projection||L,r.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],r.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],r.contourColor=this.contourColor[0],r.inverseModel=E(r.inverseModel,r.model);for(var o=0;o<2;++o)for(var i=r.clipBounds[o],s=0;s<3;++s)i[s]=Math.min(Math.max(this.clipBounds[o][s],-1e8),1e8);r.kambient=this.ambientLight,r.kdiffuse=this.diffuseLight,r.kspecular=this.specularLight,r.roughness=this.roughness,r.fresnel=this.fresnel,r.opacity=this.opacity,r.height=0,r.permutation=W,r.vertexColor=this.vertexColor;var l=U;for(T(l,r.view,r.model),T(l,r.projection,l),E(l,l),o=0;o<3;++o)r.eyePosition[o]=l[12+o]/l[15];var u=l[15];for(o=0;o<3;++o)u+=this.lightPosition[o]*l[4*o+3];for(o=0;o<3;++o){var c=l[12+o];for(s=0;s<3;++s)c+=l[4*s+o]*this.lightPosition[s];r.lightPosition[o]=c/u}var f=a(r,this);if(f.showSurface&&e===this.opacity<1){for(this._shader.bind(),this._shader.uniforms=r,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(n.TRIANGLES,this._vertexCount),o=0;o<3;++o)this.surfaceProject[o]&&this.vertexCount&&(this._shader.uniforms.model=f.projections[o],this._shader.uniforms.clipBounds=f.clipBounds[o],this._vao.draw(n.TRIANGLES,this._vertexCount));this._vao.unbind()}if(f.showContour&&!e){var p=this._contourShader;r.kambient=1,r.kdiffuse=0,r.kspecular=0,r.opacity=1,p.bind(),p.uniforms=r;var h=this._contourVAO;for(h.bind(),o=0;o<3;++o)for(p.uniforms.permutation=j[o],n.lineWidth(this.contourWidth[o]),s=0;s<this.contourLevels[o].length;++s)this._contourCounts[o][s]&&(s===this.highlightLevel[o]?(p.uniforms.contourColor=this.highlightColor[o],p.uniforms.contourTint=this.highlightTint[o]):0!==s&&s-1!==this.highlightLevel[o]||(p.uniforms.contourColor=this.contourColor[o],p.uniforms.contourTint=this.contourTint[o]),p.uniforms.height=this.contourLevels[o][s],h.draw(n.LINES,this._contourCounts[o][s],this._contourOffsets[o][s]));for(o=0;o<3;++o)for(p.uniforms.model=f.projections[o],p.uniforms.clipBounds=f.clipBounds[o],s=0;s<3;++s)if(this.contourProject[o][s]){p.uniforms.permutation=j[s],n.lineWidth(this.contourWidth[s]);for(var d=0;d<this.contourLevels[s].length;++d)d===this.highlightLevel[s]?(p.uniforms.contourColor=this.highlightColor[s],p.uniforms.contourTint=this.highlightTint[s]):0!==d&&d-1!==this.highlightLevel[s]||(p.uniforms.contourColor=this.contourColor[s],p.uniforms.contourTint=this.contourTint[s]),p.uniforms.height=this.contourLevels[s][d],h.draw(n.LINES,this._contourCounts[s][d],this._contourOffsets[s][d])}for(h=this._dynamicVAO,h.bind(),o=0;o<3;++o)if(0!==this._dynamicCounts[o])for(p.uniforms.model=r.model,p.uniforms.clipBounds=r.clipBounds,p.uniforms.permutation=j[o],n.lineWidth(this.dynamicWidth[o]),p.uniforms.contourColor=this.dynamicColor[o],p.uniforms.contourTint=this.dynamicTint[o],p.uniforms.height=this.dynamicLevel[o],h.draw(n.LINES,this._dynamicCounts[o],this._dynamicOffsets[o]),s=0;s<3;++s)this.contourProject[s][o]&&(p.uniforms.model=f.projections[s],p.uniforms.clipBounds=f.clipBounds[s],h.draw(n.LINES,this._dynamicCounts[o],this._dynamicOffsets[o]));h.unbind()}}function l(t,e){var n=e.shape.slice(),r=t.shape.slice();b.assign(t.lo(1,1).hi(n[0],n[1]),e),b.assign(t.lo(1).hi(n[0],1),e.hi(n[0],1)),b.assign(t.lo(1,r[1]-1).hi(n[0],1),e.lo(0,n[1]-1).hi(n[0],1)),b.assign(t.lo(0,1).hi(1,n[1]),e.hi(1)),b.assign(t.lo(r[0]-1,1).hi(1,n[1]),e.lo(n[0]-1)),t.set(0,0,e.get(0,0)),t.set(0,r[1]-1,e.get(0,n[1]-1)),t.set(r[0]-1,0,e.get(n[0]-1,0)),t.set(r[0]-1,r[1]-1,e.get(n[0]-1,n[1]-1))}function u(t,e){return Array.isArray(t)?[e(t[0]),e(t[1]),e(t[2])]:[e(t),e(t),e(t)]}function c(t){return Array.isArray(t)?3===t.length?[t[0],t[1],t[2],1]:[t[0],t[1],t[2],t[3]]:[0,0,0,1]}function f(t){if(Array.isArray(t)){if(Array.isArray(t))return[c(t[0]),c(t[1]),c(t[2])];var e=c(t);return[e.slice(),e.slice(),e.slice()]}}function p(t){var e=t.gl,n=P(e),r=A(e),o=M(e),a=O(e),s=d(e),l=m(e,[{buffer:s,size:4,stride:D,offset:0},{buffer:s,size:3,stride:D,offset:16},{buffer:s,size:3,stride:D,offset:28}]),u=d(e),c=m(e,[{buffer:u,size:4,stride:20,offset:0},{buffer:u,size:1,stride:20,offset:16}]),f=d(e),p=m(e,[{buffer:f,size:2,type:e.FLOAT}]),h=y(e,1,F,e.RGBA,e.UNSIGNED_BYTE);h.minFilter=e.LINEAR,h.magFilter=e.LINEAR;var v=new i(e,[0,0],[[0,0,0],[0,0,0]],n,r,s,l,h,o,a,u,c,f,p),g={levels:[[],[],[]]};for(var b in t)g[b]=t[b];return g.colormap=g.colormap||"jet",v.update(g),v}e.exports=p;var h=t("bit-twiddle"),d=t("gl-buffer"),m=t("gl-vao"),y=t("gl-texture2d"),v=t("typedarray-pool"),g=t("colormap"),b=t("ndarray-ops"),_=t("ndarray-pack"),x=t("ndarray"),w=t("surface-nets"),T=t("gl-mat4/multiply"),E=t("gl-mat4/invert"),C=t("binary-search-bounds"),k=t("ndarray-gradient"),S=t("./lib/shaders"),P=S.createShader,M=S.createContourShader,A=S.createPickShader,O=S.createPickContourShader,D=40,L=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],I=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],j=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];!function(){for(var t=0;t<3;++t){var e=j[t],n=(t+1)%3,r=(t+2)%3;e[n+0]=1,e[r+3]=1,e[t+6]=1}}();var F=256,R=i.prototype;R.isTransparent=function(){return this.opacity<1},R.isOpaque=function(){if(this.opacity>=1)return!0;for(var t=0;t<3;++t)if(this._contourCounts[t].length>0||this._dynamicCounts[t]>0)return!0;return!1},R.pickSlots=1,R.setPickBase=function(t){this.pickId=t};var N=[0,0,0],z={showSurface:!1,showContour:!1,projections:[L.slice(),L.slice(),L.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]},B={model:L,view:L,projection:L,inverseModel:L.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},U=L.slice(),W=[1,0,0,0,1,0,0,0,1];R.draw=function(t){return s.call(this,t,!1)},R.drawTransparent=function(t){return s.call(this,t,!0)};var q={model:L,view:L,projection:L,inverseModel:L,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};R.drawPick=function(t){t=t||{};var e=this.gl;e.disable(e.CULL_FACE);var n=q;n.model=t.model||L,n.view=t.view||L,n.projection=t.projection||L,n.shape=this._field[2].shape,n.pickId=this.pickId/255,n.lowerBound=this.bounds[0],n.upperBound=this.bounds[1],n.permutation=W;for(var r=0;r<2;++r)for(var o=n.clipBounds[r],i=0;i<3;++i)o[i]=Math.min(Math.max(this.clipBounds[r][i],-1e8),1e8);var s=a(n,this);if(s.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=n,this._vao.bind(),this._vao.draw(e.TRIANGLES,this._vertexCount),r=0;r<3;++r)this.surfaceProject[r]&&(this._pickShader.uniforms.model=s.projections[r],this._pickShader.uniforms.clipBounds=s.clipBounds[r],this._vao.draw(e.TRIANGLES,this._vertexCount));this._vao.unbind()}if(s.showContour){var l=this._contourPickShader;l.bind(),l.uniforms=n;var u=this._contourVAO;for(u.bind(),i=0;i<3;++i)for(e.lineWidth(this.contourWidth[i]),l.uniforms.permutation=j[i],r=0;r<this.contourLevels[i].length;++r)this._contourCounts[i][r]&&(l.uniforms.height=this.contourLevels[i][r],u.draw(e.LINES,this._contourCounts[i][r],this._contourOffsets[i][r]));for(r=0;r<3;++r)for(l.uniforms.model=s.projections[r],l.uniforms.clipBounds=s.clipBounds[r],i=0;i<3;++i)if(this.contourProject[r][i]){l.uniforms.permutation=j[i],e.lineWidth(this.contourWidth[i]);for(var c=0;c<this.contourLevels[i].length;++c)this._contourCounts[i][c]&&(l.uniforms.height=this.contourLevels[i][c],u.draw(e.LINES,this._contourCounts[i][c],this._contourOffsets[i][c]))}u.unbind()}},R.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=this._field[2].shape,n=this._pickResult,r=e[0]*(t.value[0]+(t.value[2]>>4)/16)/255,o=Math.floor(r),i=r-o,a=e[1]*(t.value[1]+(15&t.value[2])/16)/255,s=Math.floor(a),l=a-s;o+=1,s+=1;var u=n.position;u[0]=u[1]=u[2]=0;for(var c=0;c<2;++c)for(var f=c?i:1-i,p=0;p<2;++p)for(var h=p?l:1-l,d=o+c,m=s+p,y=f*h,v=0;v<3;++v)u[v]+=this._field[v].get(d,m)*y;for(var g=this._pickResult.level,b=0;b<3;++b)if(g[b]=C.le(this.contourLevels[b],u[b]),g[b]<0)this.contourLevels[b].length>0&&(g[b]=0);else if(g[b]<this.contourLevels[b].length-1){var _=this.contourLevels[b][g[b]],x=this.contourLevels[b][g[b]+1];Math.abs(_-u[b])>Math.abs(x-u[b])&&(g[b]+=1)}for(n.index[0]=i<.5?o:o+1,n.index[1]=l<.5?s:s+1,n.uv[0]=r/e[0],n.uv[1]=a/e[1],v=0;v<3;++v)n.dataCoordinate[v]=this._field[v].get(n.index[0],n.index[1]);return n},R.update=function(t){t=t||{},this.dirty=!0,"contourWidth"in t&&(this.contourWidth=u(t.contourWidth,Number)),"showContour"in t&&(this.showContour=u(t.showContour,Boolean)),"showSurface"in t&&(this.showSurface=!!t.showSurface),"contourTint"in t&&(this.contourTint=u(t.contourTint,Boolean)),"contourColor"in t&&(this.contourColor=f(t.contourColor)),"contourProject"in t&&(this.contourProject=u(t.contourProject,function(t){return u(t,Boolean)})),"surfaceProject"in t&&(this.surfaceProject=t.surfaceProject),"dynamicColor"in t&&(this.dynamicColor=f(t.dynamicColor)),"dynamicTint"in t&&(this.dynamicTint=u(t.dynamicTint,Number)),"dynamicWidth"in t&&(this.dynamicWidth=u(t.dynamicWidth,Number)),"opacity"in t&&(this.opacity=t.opacity),"colorBounds"in t&&(this.colorBounds=t.colorBounds),"vertexColor"in t&&(this.vertexColor=t.vertexColor?1:0);var e=t.field||t.coords&&t.coords[2]||null,n=!1;if(e||(e=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in t||"coords"in t){var r=(e.shape[0]+2)*(e.shape[1]+2);r>this._field[2].data.length&&(v.freeFloat(this._field[2].data),this._field[2].data=v.mallocFloat(h.nextPow2(r))),this._field[2]=x(this._field[2].data,[e.shape[0]+2,e.shape[1]+2]),l(this._field[2],e),this.shape=e.shape.slice();for(var i=this.shape,a=0;a<2;++a)this._field[2].size>this._field[a].data.length&&(v.freeFloat(this._field[a].data),this._field[a].data=v.mallocFloat(this._field[2].size)),this._field[a]=x(this._field[a].data,[i[0]+2,i[1]+2]);if(t.coords){var s=t.coords;if(!Array.isArray(s)||3!==s.length)throw new Error("gl-surface: invalid coordinates for x/y");for(a=0;a<2;++a){var c=s[a];for(g=0;g<2;++g)if(c.shape[g]!==i[g])throw new Error("gl-surface: coords have incorrect shape");l(this._field[a],c)}}else if(t.ticks){var p=t.ticks;if(!Array.isArray(p)||2!==p.length)throw new Error("gl-surface: invalid ticks");for(a=0;a<2;++a){var d=p[a];if((Array.isArray(d)||d.length)&&(d=x(d)),d.shape[0]!==i[a])throw new Error("gl-surface: invalid tick length");var m=x(d.data,i);m.stride[a]=d.stride[0],m.stride[1^a]=0,l(this._field[a],m)}}else{for(a=0;a<2;++a){var y=[0,0];y[a]=1,this._field[a]=x(this._field[a].data,[i[0]+2,i[1]+2],y,0)}this._field[0].set(0,0,0);for(var g=0;g<i[0];++g)this._field[0].set(g+1,0,g);for(this._field[0].set(i[0]+1,0,i[0]-1),this._field[1].set(0,0,0),g=0;g<i[1];++g)this._field[1].set(0,g+1,g);this._field[1].set(0,i[1]+1,i[1]-1)}var b=this._field,_=x(v.mallocFloat(3*b[2].size*2),[3,i[0]+2,i[1]+2,2]);for(a=0;a<3;++a)k(_.pick(a),b[a],"mirror");var T=x(v.mallocFloat(3*b[2].size),[i[0]+2,i[1]+2,3]);for(a=0;a<i[0]+2;++a)for(g=0;g<i[1]+2;++g){var E=_.get(0,a,g,0),C=_.get(0,a,g,1),S=_.get(1,a,g,0),P=_.get(1,a,g,1),M=_.get(2,a,g,0),A=_.get(2,a,g,1),O=S*A-P*M,D=M*C-A*E,L=E*P-C*S,j=Math.sqrt(O*O+D*D+L*L);j<1e-8?(j=Math.max(Math.abs(O),Math.abs(D),Math.abs(L)),j<1e-8?(L=1,D=O=0,j=1):j=1/j):j=1/Math.sqrt(j),T.set(a,g,0,O*j),T.set(a,g,1,D*j),T.set(a,g,2,L*j)}v.free(_.data);var F=[1/0,1/0,1/0],R=[-(1/0),-(1/0),-(1/0)],N=1/0,z=-(1/0),B=(i[0]-1)*(i[1]-1)*6,U=v.mallocFloat(h.nextPow2(10*B)),W=0,q=0;for(a=0;a<i[0]-1;++a)t:for(g=0;g<i[1]-1;++g){for(var V=0;V<2;++V)for(var H=0;H<2;++H)for(var G=0;G<3;++G){var Y=this._field[G].get(1+a+V,1+g+H);if(isNaN(Y)||!isFinite(Y))continue t}for(G=0;G<6;++G){var Z=a+I[G][0],X=g+I[G][1],K=this._field[0].get(Z+1,X+1),Q=this._field[1].get(Z+1,X+1);Y=this._field[2].get(Z+1,X+1);var J=Y;O=T.get(Z+1,X+1,0),D=T.get(Z+1,X+1,1),L=T.get(Z+1,X+1,2),t.intensity&&(J=t.intensity.get(Z,X)),U[W++]=Z,U[W++]=X,U[W++]=K,U[W++]=Q,U[W++]=Y,U[W++]=0,U[W++]=J,U[W++]=O,U[W++]=D,U[W++]=L,F[0]=Math.min(F[0],K),F[1]=Math.min(F[1],Q),F[2]=Math.min(F[2],Y),N=Math.min(N,J),R[0]=Math.max(R[0],K),R[1]=Math.max(R[1],Q),R[2]=Math.max(R[2],Y),z=Math.max(z,J),q+=1}}for(t.intensityBounds&&(N=+t.intensityBounds[0],z=+t.intensityBounds[1]),a=6;a<W;a+=10)U[a]=(U[a]-N)/(z-N);this._vertexCount=q,this._coordinateBuffer.update(U.subarray(0,W)),v.freeFloat(U),v.free(T.data),this.bounds=[F,R],this.intensity=t.intensity||this._field[2],this.intensityBounds[0]===N&&this.intensityBounds[1]===z||(n=!0),this.intensityBounds=[N,z]}if("levels"in t){var $=t.levels;for($=Array.isArray($[0])?$.slice():[[],[],$],a=0;a<3;++a)$[a]=$[a].slice(),$.sort(function(t,e){return t-e});t:for(a=0;a<3;++a){if($[a].length!==this.contourLevels[a].length){n=!0;break}for(g=0;g<$[a].length;++g)if($[a][g]!==this.contourLevels[a][g]){n=!0;break t}}this.contourLevels=$}if(n){b=this._field,i=this.shape;for(var tt=[],et=0;et<3;++et){$=this.contourLevels[et];var nt=[],rt=[],ot=[0,0,0];for(a=0;a<$.length;++a){var it=w(this._field[et],$[a]);nt.push(tt.length/5|0),q=0;t:for(g=0;g<it.cells.length;++g){var at=it.cells[g];for(G=0;G<2;++G){var st=it.positions[at[G]],lt=st[0],ut=0|Math.floor(lt),ct=lt-ut,ft=st[1],pt=0|Math.floor(ft),ht=ft-pt,dt=!1;e:for(var mt=0;mt<3;++mt){ot[mt]=0;var yt=(et+mt+1)%3;for(V=0;V<2;++V){var vt=V?ct:1-ct;for(Z=0|Math.min(Math.max(ut+V,0),i[0]),H=0;H<2;++H){var gt=H?ht:1-ht;if(X=0|Math.min(Math.max(pt+H,0),i[1]),Y=mt<2?this._field[yt].get(Z,X):(this.intensity.get(Z,X)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Y)||isNaN(Y)){dt=!0;break e}var bt=vt*gt;ot[mt]+=bt*Y}}}if(dt){if(G>0){for(var _t=0;_t<5;++_t)tt.pop();q-=1}continue t}tt.push(ot[0],ot[1],st[0],st[1],ot[2]),q+=1}}rt.push(q)}this._contourOffsets[et]=nt,this._contourCounts[et]=rt}var xt=v.mallocFloat(tt.length);for(a=0;a<tt.length;++a)xt[a]=tt[a];this._contourBuffer.update(xt),v.freeFloat(xt)}t.colormap&&this._colorMap.setPixels(o(t.colormap))},R.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var t=0;t<3;++t)v.freeFloat(this._field[t].data)},R.highlight=function(t){if(!t)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(var e=0;e<3;++e)this.enableHighlight[e]?this.highlightLevel[e]=t.level[e]:this.highlightLevel[e]=-1;var n;if(n=this.snapToData?t.dataCoordinate:t.position,this.enableDynamic[0]&&n[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&n[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&n[2]!==this.dynamicLevel[2]){for(var r=0,o=this.shape,i=v.mallocFloat(12*o[0]*o[1]),a=0;a<3;++a)if(this.enableDynamic[a]){this.dynamicLevel[a]=n[a];var s=(a+1)%3,l=(a+2)%3,u=this._field[a],c=this._field[s],f=this._field[l],p=(this.intensity,w(u,n[a])),h=p.cells,d=p.positions;for(this._dynamicOffsets[a]=r,e=0;e<h.length;++e)for(var m=h[e],y=0;y<2;++y){var g=d[m[y]],b=+g[0],_=0|b,x=0|Math.min(_+1,o[0]),T=b-_,E=1-T,C=+g[1],k=0|C,S=0|Math.min(k+1,o[1]),P=C-k,M=1-P,A=E*M,O=E*P,D=T*M,L=T*P,I=A*c.get(_,k)+O*c.get(_,S)+D*c.get(x,k)+L*c.get(x,S),j=A*f.get(_,k)+O*f.get(_,S)+D*f.get(x,k)+L*f.get(x,S);if(isNaN(I)||isNaN(j)){y&&(r-=1);break}i[2*r+0]=I,i[2*r+1]=j,r+=1}this._dynamicCounts[a]=r-this._dynamicOffsets[a]}else this.dynamicLevel[a]=NaN,this._dynamicCounts[a]=0;this._dynamicBuffer.update(i.subarray(0,2*r)),v.freeFloat(i)}}},{"./lib/shaders":256,"binary-search-bounds":257,"bit-twiddle":52,colormap:112,"gl-buffer":130,"gl-mat4/invert":149,"gl-mat4/multiply":151,"gl-texture2d":262,"gl-vao":266,ndarray:485,"ndarray-gradient":258,"ndarray-ops":484,"ndarray-pack":259,"surface-nets":504,"typedarray-pool":510}],262:[function(t,e,n){"use strict";function r(t){y=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],v=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],g=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function o(t,e,n){var r=t.gl,o=r.getParameter(r.MAX_TEXTURE_SIZE);if(e<0||e>o||n<0||n>o)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[e,n],t.bind(),r.texImage2D(r.TEXTURE_2D,0,t.format,e,n,0,t.format,t.type,null),t._mipLevels=[0],t}function i(t,e,n,r,o,i){this.gl=t,this.handle=e,this.format=o,this.type=i,this._shape=[n,r],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var a=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return a._wrapS},set:function(t){return a.wrapS=t}},{get:function(){return a._wrapT},set:function(t){return a.wrapT=t}}]),this._wrapVector=s;var l=[this._shape[0],this._shape[1]];Object.defineProperties(l,[{get:function(){return a._shape[0]},set:function(t){return a.width=t}},{get:function(){return a._shape[1]},set:function(t){return a.height=t}}]),this._shapeVector=l}function a(t,e){return 3===t.length?1===e[2]&&e[1]===t[0]*t[2]&&e[0]===t[2]:1===e[0]&&e[1]===t[0]}function s(t,e,n,r,o,i,s,l){var u=l.dtype,c=l.shape.slice();if(c.length<2||c.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var f=0,p=0,y=a(c,l.stride.slice());"float32"===u?f=t.FLOAT:"float64"===u?(f=t.FLOAT,y=!1,u="float32"):"uint8"===u?f=t.UNSIGNED_BYTE:(f=t.UNSIGNED_BYTE,y=!1,u="uint8");var v=1;if(2===c.length)p=t.LUMINANCE,c=[c[0],c[1],1],l=h(l.data,c,[l.stride[0],l.stride[1],1],l.offset);else{if(3!==c.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===c[2])p=t.ALPHA;else if(2===c[2])p=t.LUMINANCE_ALPHA;else if(3===c[2])p=t.RGB;else{if(4!==c[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");p=t.RGBA}v=c[2]}if(p!==t.LUMINANCE&&p!==t.ALPHA||o!==t.LUMINANCE&&o!==t.ALPHA||(p=o),p!==o)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var g=l.size,_=s.indexOf(r)<0;if(_&&s.push(r),f===i&&y)0===l.offset&&l.data.length===g?_?t.texImage2D(t.TEXTURE_2D,r,o,c[0],c[1],0,o,i,l.data):t.texSubImage2D(t.TEXTURE_2D,r,e,n,c[0],c[1],o,i,l.data):_?t.texImage2D(t.TEXTURE_2D,r,o,c[0],c[1],0,o,i,l.data.subarray(l.offset,l.offset+g)):t.texSubImage2D(t.TEXTURE_2D,r,e,n,c[0],c[1],o,i,l.data.subarray(l.offset,l.offset+g));else{var x;x=i===t.FLOAT?m.mallocFloat32(g):m.mallocUint8(g);var w=h(x,c,[c[2],c[2]*c[0],1]);f===t.FLOAT&&i===t.UNSIGNED_BYTE?b(w,l):d.assign(w,l),_?t.texImage2D(t.TEXTURE_2D,r,o,c[0],c[1],0,o,i,x.subarray(0,g)):t.texSubImage2D(t.TEXTURE_2D,r,e,n,c[0],c[1],o,i,x.subarray(0,g)),i===t.FLOAT?m.freeFloat32(x):m.freeUint8(x)}}function l(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e}function u(t,e,n,r,o){var a=t.getParameter(t.MAX_TEXTURE_SIZE);if(e<0||e>a||n<0||n>a)throw new Error("gl-texture2d: Invalid texture shape");if(o===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var s=l(t);return t.texImage2D(t.TEXTURE_2D,0,r,e,n,0,r,o,null),new i(t,s,e,n,r,o)}function c(t,e,n,r){var o=l(t);return t.texImage2D(t.TEXTURE_2D,0,n,n,r,e),new i(t,o,0|e.width,0|e.height,n,r)}function f(t,e){var n=e.dtype,r=e.shape.slice(),o=t.getParameter(t.MAX_TEXTURE_SIZE);if(r[0]<0||r[0]>o||r[1]<0||r[1]>o)throw new Error("gl-texture2d: Invalid texture size");var s=a(r,e.stride.slice()),u=0;"float32"===n?u=t.FLOAT:"float64"===n?(u=t.FLOAT,s=!1,n="float32"):"uint8"===n?u=t.UNSIGNED_BYTE:(u=t.UNSIGNED_BYTE,s=!1,n="uint8");var c=0;if(2===r.length)c=t.LUMINANCE,r=[r[0],r[1],1],e=h(e.data,r,[e.stride[0],e.stride[1],1],e.offset);else{if(3!==r.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===r[2])c=t.ALPHA;else if(2===r[2])c=t.LUMINANCE_ALPHA;else if(3===r[2])c=t.RGB;else{if(4!==r[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");c=t.RGBA}}u!==t.FLOAT||t.getExtension("OES_texture_float")||(u=t.UNSIGNED_BYTE,s=!1);var f,p,y=e.size;if(s)f=0===e.offset&&e.data.length===y?e.data:e.data.subarray(e.offset,e.offset+y);else{var v=[r[2],r[2]*r[0],1];p=m.malloc(y,n);var g=h(p,r,v,0);"float32"!==n&&"float64"!==n||u!==t.UNSIGNED_BYTE?d.assign(g,e):b(g,e),f=p.subarray(0,y)}var _=l(t);return t.texImage2D(t.TEXTURE_2D,0,c,r[0],r[1],0,c,u,f),s||m.free(p),new i(t,_,r[0],r[1],c,u)}function p(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(y||r(t),"number"==typeof arguments[1])return u(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return u(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var e=arguments[1];if(e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof HTMLVideoElement||e instanceof ImageData)return c(t,e,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return f(t,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}var h=t("ndarray"),d=t("ndarray-ops"),m=t("typedarray-pool");e.exports=p;var y=null,v=null,g=null,b=function(t,e){d.muls(t,e,255)},_=i.prototype;Object.defineProperties(_,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&y.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),v.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&y.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),v.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var e=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),e!==this._anisoSamples){var n=gl.getExtension("EXT_texture_filter_anisotropic");n&&this.gl.texParameterf(this.gl.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),g.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),g.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var e=0;e<2;++e)if(g.indexOf(t[e])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var n=this.gl;return this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this._wrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return o(this,0|t[0],0|t[1]),[0|t[0],0|t[1]];
}},width:{get:function(){return this._shape[0]},set:function(t){return t=0|t,o(this,t,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t=0|t,o(this,this._shape[0],t),t}}}),_.bind=function(t){var e=this.gl;return void 0!==t&&e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(e.TEXTURE_2D,this.handle),void 0!==t?0|t:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},_.dispose=function(){this.gl.deleteTexture(this.handle)},_.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),e=0;t>0;++e,t>>>=1)this._mipLevels.indexOf(e)<0&&this._mipLevels.push(e)},_.setPixels=function(t,e,n,r){var o=this.gl;if(this.bind(),Array.isArray(e)?(r=n,n=0|e[1],e=0|e[0]):(e=e||0,n=n||0),r=r||0,t instanceof HTMLCanvasElement||t instanceof ImageData||t instanceof HTMLImageElement||t instanceof HTMLVideoElement){var i=this._mipLevels.indexOf(r)<0;i?(o.texImage2D(o.TEXTURE_2D,0,this.format,this.format,this.type,t),this._mipLevels.push(r)):o.texSubImage2D(o.TEXTURE_2D,r,e,n,this.format,this.type,t)}else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||e+t.shape[1]>this._shape[1]>>>r||n+t.shape[0]>this._shape[0]>>>r||e<0||n<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");s(o,e,n,r,this.format,this.type,this._mipLevels,t)}}},{ndarray:485,"ndarray-ops":484,"typedarray-pool":510}],263:[function(t,e,n){"use strict";function r(t,e,n){e?e.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var r=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(n){if(n.length>r)throw new Error("gl-vao: Too many vertex attributes");for(var o=0;o<n.length;++o){var i=n[o];if(i.buffer){var a=i.buffer,s=i.size||4,l=i.type||t.FLOAT,u=!!i.normalized,c=i.stride||0,f=i.offset||0;a.bind(),t.enableVertexAttribArray(o),t.vertexAttribPointer(o,s,l,u,c,f)}else{if("number"==typeof i)t.vertexAttrib1f(o,i);else if(1===i.length)t.vertexAttrib1f(o,i[0]);else if(2===i.length)t.vertexAttrib2f(o,i[0],i[1]);else if(3===i.length)t.vertexAttrib3f(o,i[0],i[1],i[2]);else{if(4!==i.length)throw new Error("gl-vao: Invalid vertex attribute");t.vertexAttrib4f(o,i[0],i[1],i[2],i[3])}t.disableVertexAttribArray(o)}}for(;o<r;++o)t.disableVertexAttribArray(o)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var o=0;o<r;++o)t.disableVertexAttribArray(o)}}e.exports=r},{}],264:[function(t,e,n){"use strict";function r(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}function o(t){return new r(t)}var i=t("./do-bind.js");r.prototype.bind=function(){i(this.gl,this._elements,this._attributes)},r.prototype.update=function(t,e,n){this._elements=e,this._attributes=t,this._elementsType=n||this.gl.UNSIGNED_SHORT},r.prototype.dispose=function(){},r.prototype.unbind=function(){},r.prototype.draw=function(t,e,n){n=n||0;var r=this.gl;this._elements?r.drawElements(t,e,this._elementsType,n):r.drawArrays(t,n,e)},e.exports=o},{"./do-bind.js":263}],265:[function(t,e,n){"use strict";function r(t,e,n,r,o,i){this.location=t,this.dimension=e,this.a=n,this.b=r,this.c=o,this.d=i}function o(t,e,n){this.gl=t,this._ext=e,this.handle=n,this._attribs=[],this._useElements=!1,this._elementsType=t.UNSIGNED_SHORT}function i(t,e){return new o(t,e,e.createVertexArrayOES())}var a=t("./do-bind.js");r.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},o.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var t=0;t<this._attribs.length;++t)this._attribs[t].bind(this.gl)},o.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},o.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},o.prototype.update=function(t,e,n){if(this.bind(),a(this.gl,e,t),this.unbind(),this._attribs.length=0,t)for(var o=0;o<t.length;++o){var i=t[o];"number"==typeof i?this._attribs.push(new r(o,1,i)):Array.isArray(i)&&this._attribs.push(new r(o,i.length,i[0],i[1],i[2],i[3]))}this._useElements=!!e,this._elementsType=n||this.gl.UNSIGNED_SHORT},o.prototype.draw=function(t,e,n){n=n||0;var r=this.gl;this._useElements?r.drawElements(t,e,this._elementsType,n):r.drawArrays(t,n,e)},e.exports=i},{"./do-bind.js":263}],266:[function(t,e,n){"use strict";function r(t,e,n,r){var a,s=t.getExtension("OES_vertex_array_object");return a=s?o(t,s):i(t),a.update(e,n,r),a}var o=t("./lib/vao-native.js"),i=t("./lib/vao-emulated.js");e.exports=r},{"./lib/vao-emulated.js":264,"./lib/vao-native.js":265}],267:[function(t,e,n){function r(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,t[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,t[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,t[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,t}e.exports=r},{}],268:[function(t,e,n){function r(t){function e(t){t.length&&W.push({type:T[B],data:t,position:H,line:q,column:V})}function n(t){N=0,Z+=t,R=Z.length;for(var e;j=Z[N],N<R;){switch(e=N,B){case f:N=P();break;case p:N=S();break;case h:N=k();break;case d:N=M();break;case m:N=D();break;case w:N=O();break;case y:N=L();break;case c:N=I();break;case _:N=C();break;case u:N=E()}if(e!==N)switch(Z[e]){case"\n":V=0,++q;break;default:++V}}return z+=N,Z=Z.slice(N),W}function r(t){return U.length&&e(U.join("")),B=x,e("(eof)"),W}function E(){return U=U.length?[]:U,"/"===F&&"*"===j?(H=z+N-1,B=f,F=j,N+1):"/"===F&&"/"===j?(H=z+N-1,B=p,F=j,N+1):"#"===j?(B=h,H=z+N,N):/\s/.test(j)?(B=_,H=z+N,N):(G=/\d/.test(j),Y=/[^\w_]/.test(j),H=z+N,B=G?m:Y?d:c,N)}function C(){return/[^\s]/g.test(j)?(e(U.join("")),B=u,N):(U.push(j),F=j,N+1)}function k(){return"\n"===j&&"\\"!==F?(e(U.join("")),B=u,N):(U.push(j),F=j,N+1)}function S(){return k()}function P(){return"/"===j&&"*"===F?(U.push(j),e(U.join("")),B=u,N+1):(U.push(j),F=j,N+1)}function M(){if("."===F&&/\d/.test(j))return B=y,N;if("/"===F&&"*"===j)return B=f,N;if("/"===F&&"/"===j)return B=p,N;if("."===j&&U.length){for(;A(U););return B=y,N}if(";"===j||")"===j||"("===j){if(U.length)for(;A(U););return e(j),B=u,N+1}var t=2===U.length&&"="!==j;if(/[\w_\d\s]/.test(j)||t){for(;A(U););return B=u,N}return U.push(j),F=j,N+1}function A(t){for(var n,r,o=0;;){if(n=i.indexOf(t.slice(0,t.length+o).join("")),r=i[n],n===-1){if(o--+t.length>0)continue;r=t.slice(0,1).join("")}return e(r),H+=r.length,U=U.slice(r.length),U.length}}function O(){return/[^a-fA-F0-9]/.test(j)?(e(U.join("")),B=u,N):(U.push(j),F=j,N+1)}function D(){return"."===j?(U.push(j),B=y,F=j,N+1):/[eE]/.test(j)?(U.push(j),B=y,F=j,N+1):"x"===j&&1===U.length&&"0"===U[0]?(B=w,U.push(j),F=j,N+1):/[^\d]/.test(j)?(e(U.join("")),B=u,N):(U.push(j),F=j,N+1)}function L(){return"f"===j&&(U.push(j),F=j,N+=1),/[eE]/.test(j)?(U.push(j),F=j,N+1):"-"===j&&/[eE]/.test(F)?(U.push(j),F=j,N+1):/[^\d]/.test(j)?(e(U.join("")),B=u,N):(U.push(j),F=j,N+1)}function I(){if(/[^\d\w_]/.test(j)){var t=U.join("");return B=K.indexOf(t)>-1?b:X.indexOf(t)>-1?g:v,e(U.join("")),B=u,N}return U.push(j),F=j,N+1}var j,F,R,N=0,z=0,B=u,U=[],W=[],q=1,V=0,H=0,G=!1,Y=!1,Z="";t=t||{};var X=a,K=o;return"300 es"===t.version&&(X=l,K=s),function(t){return W=[],null!==t?n(t):r()}}e.exports=r;var o=t("./lib/literals"),i=t("./lib/operators"),a=t("./lib/builtins"),s=t("./lib/literals-300es"),l=t("./lib/builtins-300es"),u=999,c=9999,f=0,p=1,h=2,d=3,m=4,y=5,v=6,g=7,b=8,_=9,x=10,w=11,T=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},{"./lib/builtins":270,"./lib/builtins-300es":269,"./lib/literals":272,"./lib/literals-300es":271,"./lib/operators":273}],269:[function(t,e,n){arguments[4][213][0].apply(n,arguments)},{"./builtins":270,dup:213}],270:[function(t,e,n){arguments[4][214][0].apply(n,arguments)},{dup:214}],271:[function(t,e,n){arguments[4][215][0].apply(n,arguments)},{"./literals":272,dup:215}],272:[function(t,e,n){arguments[4][216][0].apply(n,arguments)},{dup:216}],273:[function(t,e,n){arguments[4][217][0].apply(n,arguments)},{dup:217}],274:[function(t,e,n){arguments[4][218][0].apply(n,arguments)},{"./index":268,dup:218}],275:[function(t,e,n){"use strict";function r(t,e,n){this.vertices=t,this.adjacent=e,this.boundary=n,this.lastVisited=-1}function o(t,e,n){this.vertices=t,this.cell=e,this.index=n}function i(t,e){return c(t.vertices,e.vertices)}function a(t){for(var e=["function orient(){var tuple=this.tuple;return test("],n=0;n<=t;++n)n>0&&e.push(","),e.push("tuple[",n,"]");e.push(")}return orient");var r=new Function("test",e.join("")),o=u[t+1];return o||(o=u),r(o)}function s(t,e,n){this.dimension=t,this.vertices=e,this.simplices=n,this.interior=n.filter(function(t){return!t.boundary}),this.tuple=new Array(t+1);for(var r=0;r<=t;++r)this.tuple[r]=this.vertices[r];var o=f[t];o||(o=f[t]=a(t)),this.orient=o}function l(t,e){var n=t.length;if(0===n)throw new Error("Must have at least d+1 points");var o=t[0].length;if(n<=o)throw new Error("Must input at least d+1 points");var i=t.slice(0,o+1),a=u.apply(void 0,i);if(0===a)throw new Error("Input not in general position");for(var l=new Array(o+1),c=0;c<=o;++c)l[c]=c;a<0&&(l[0]=1,l[1]=0);for(var f=new r(l,new Array(o+1),(!1)),p=f.adjacent,h=new Array(o+2),c=0;c<=o;++c){for(var d=l.slice(),m=0;m<=o;++m)m===c&&(d[m]=-1);var y=d[0];d[0]=d[1],d[1]=y;var v=new r(d,new Array(o+1),(!0));p[c]=v,h[c]=v}h[o+1]=f;for(var c=0;c<=o;++c)for(var d=p[c].vertices,g=p[c].adjacent,m=0;m<=o;++m){var b=d[m];if(b<0)g[m]=f;else for(var _=0;_<=o;++_)p[_].vertices.indexOf(b)<0&&(g[m]=p[_])}for(var x=new s(o,i,h),w=!!e,c=o+1;c<n;++c)x.insert(t[c],w);return x.boundary()}e.exports=l;var u=t("robust-orientation"),c=t("simplicial-complex").compareCells;r.prototype.flip=function(){var t=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=t;var e=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=e};var f=[],p=s.prototype;p.handleBoundaryDegeneracy=function(t,e){var n=this.dimension,r=this.vertices.length-1,o=this.tuple,i=this.vertices,a=[t];for(t.lastVisited=-r;a.length>0;){t=a.pop();for(var s=(t.vertices,t.adjacent),l=0;l<=n;++l){var u=s[l];if(u.boundary&&!(u.lastVisited<=-r)){for(var c=u.vertices,f=0;f<=n;++f){var p=c[f];p<0?o[f]=e:o[f]=i[p]}var h=this.orient();if(h>0)return u;u.lastVisited=-r,0===h&&a.push(u)}}}return null},p.walk=function(t,e){var n=this.vertices.length-1,r=this.dimension,o=this.vertices,i=this.tuple,a=e?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[a];t:for(;!s.boundary;){for(var l=s.vertices,u=s.adjacent,c=0;c<=r;++c)i[c]=o[l[c]];s.lastVisited=n;for(var c=0;c<=r;++c){var f=u[c];if(!(f.lastVisited>=n)){var p=i[c];i[c]=t;var h=this.orient();if(i[c]=p,h<0){s=f;continue t}f.boundary?f.lastVisited=-n:f.lastVisited=n}}return}return s},p.addPeaks=function(t,e){var n=this.vertices.length-1,a=this.dimension,s=this.vertices,l=this.tuple,u=this.interior,c=this.simplices,f=[e];e.lastVisited=n,e.vertices[e.vertices.indexOf(-1)]=n,e.boundary=!1,u.push(e);for(var p=[];f.length>0;){var e=f.pop(),h=e.vertices,d=e.adjacent,m=h.indexOf(n);if(!(m<0))for(var y=0;y<=a;++y)if(y!==m){var v=d[y];if(v.boundary&&!(v.lastVisited>=n)){var g=v.vertices;if(v.lastVisited!==-n){for(var b=0,_=0;_<=a;++_)g[_]<0?(b=_,l[_]=t):l[_]=s[g[_]];var x=this.orient();if(x>0){g[b]=n,v.boundary=!1,u.push(v),f.push(v),v.lastVisited=n;continue}v.lastVisited=-n}var w=v.adjacent,T=h.slice(),E=d.slice(),C=new r(T,E,(!0));c.push(C);var k=w.indexOf(e);if(!(k<0)){w[k]=C,E[m]=v,T[y]=-1,E[y]=e,d[y]=C,C.flip();for(var _=0;_<=a;++_){var S=T[_];if(!(S<0||S===n)){for(var P=new Array(a-1),M=0,A=0;A<=a;++A){var O=T[A];O<0||A===_||(P[M++]=O)}p.push(new o(P,C,_))}}}}}}p.sort(i);for(var y=0;y+1<p.length;y+=2){var D=p[y],L=p[y+1],I=D.index,j=L.index;I<0||j<0||(D.cell.adjacent[D.index]=L.cell,L.cell.adjacent[L.index]=D.cell)}},p.insert=function(t,e){var n=this.vertices;n.push(t);var r=this.walk(t,e);if(r){for(var o=this.dimension,i=this.tuple,a=0;a<=o;++a){var s=r.vertices[a];s<0?i[a]=t:i[a]=n[s]}var l=this.orient(i);l<0||(0!==l||(r=this.handleBoundaryDegeneracy(r,t)))&&this.addPeaks(t,r)}},p.boundary=function(){for(var t=this.dimension,e=[],n=this.simplices,r=n.length,o=0;o<r;++o){var i=n[o];if(i.boundary){for(var a=new Array(t),s=i.vertices,l=0,u=0,c=0;c<=t;++c)s[c]>=0?a[l++]=s[c]:u=1&c;if(u===(1&t)){var f=a[0];a[0]=a[1],a[1]=f}e.push(a)}}return e}},{"robust-orientation":491,"simplicial-complex":278}],276:[function(t,e,n){arguments[4][52][0].apply(n,arguments)},{dup:52}],277:[function(t,e,n){arguments[4][109][0].apply(n,arguments)},{dup:109}],278:[function(t,e,n){"use strict";"use restrict";function r(t){for(var e=0,n=Math.max,r=0,o=t.length;r<o;++r)e=n(e,t[r].length);return e-1}function o(t){for(var e=-1,n=Math.max,r=0,o=t.length;r<o;++r)for(var i=t[r],a=0,s=i.length;a<s;++a)e=n(e,i[a]);return e+1}function i(t){for(var e=new Array(t.length),n=0,r=t.length;n<r;++n)e[n]=t[n].slice(0);return e}function a(t,e){var n=t.length,r=t.length-e.length,o=Math.min;if(r)return r;switch(n){case 0:return 0;case 1:return t[0]-e[0];case 2:var i=t[0]+t[1]-e[0]-e[1];return i?i:o(t[0],t[1])-o(e[0],e[1]);case 3:var a=t[0]+t[1],s=e[0]+e[1];if(i=a+t[2]-(s+e[2]))return i;var l=o(t[0],t[1]),u=o(e[0],e[1]),i=o(l,t[2])-o(u,e[2]);return i?i:o(l+t[2],a)-o(u+e[2],s);default:var c=t.slice(0);c.sort();var f=e.slice(0);f.sort();for(var p=0;p<n;++p)if(r=c[p]-f[p])return r;return 0}}function s(t,e){return a(t[0],e[0])}function l(t,e){if(e){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=[t[o],e[o]];r.sort(s);for(var o=0;o<n;++o)t[o]=r[o][0],e[o]=r[o][1];return t}return t.sort(a),t}function u(t){if(0===t.length)return[];for(var e=1,n=t.length,r=1;r<n;++r){var o=t[r];if(a(o,t[r-1])){if(r===e){e++;continue}t[e++]=o}}return t.length=e,t}function c(t,e){for(var n=0,r=t.length-1,o=-1;n<=r;){var i=n+r>>1,s=a(t[i],e);s<=0?(0===s&&(o=i),n=i+1):s>0&&(r=i-1)}return o}function f(t,e){for(var n=new Array(t.length),r=0,o=n.length;r<o;++r)n[r]=[];for(var i=[],r=0,s=e.length;r<s;++r)for(var l=e[r],u=l.length,f=1,p=1<<u;f<p;++f){i.length=b.popCount(f);for(var h=0,d=0;d<u;++d)f&1<<d&&(i[h++]=l[d]);var m=c(t,i);if(!(m<0))for(;;)if(n[m++].push(r),m>=t.length||0!==a(t[m],i))break}return n}function p(t,e){if(!e)return f(u(d(t,0)),t,0);for(var n=new Array(e),r=0;r<e;++r)n[r]=[];for(var r=0,o=t.length;r<o;++r)for(var i=t[r],a=0,s=i.length;a<s;++a)n[i[a]].push(r);return n}function h(t){for(var e=[],n=0,r=t.length;n<r;++n)for(var o=t[n],i=0|o.length,a=1,s=1<<i;a<s;++a){for(var u=[],c=0;c<i;++c)a>>>c&1&&u.push(o[c]);e.push(u)}return l(e)}function d(t,e){if(e<0)return[];for(var n=[],r=(1<<e+1)-1,o=0;o<t.length;++o)for(var i=t[o],a=r;a<1<<i.length;a=b.nextCombination(a)){for(var s=new Array(e+1),u=0,c=0;c<i.length;++c)a&1<<c&&(s[u++]=i[c]);n.push(s)}return l(n)}function m(t){for(var e=[],n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,a=o.length;i<a;++i){for(var s=new Array(o.length-1),u=0,c=0;u<a;++u)u!==i&&(s[c++]=o[u]);e.push(s)}return l(e)}function y(t,e){for(var n=new _(e),r=0;r<t.length;++r)for(var o=t[r],i=0;i<o.length;++i)for(var a=i+1;a<o.length;++a)n.link(o[i],o[a]);for(var s=[],l=n.ranks,r=0;r<l.length;++r)l[r]=-1;for(var r=0;r<t.length;++r){var u=n.find(t[r][0]);l[u]<0?(l[u]=s.length,s.push([t[r].slice(0)])):s[l[u]].push(t[r].slice(0))}return s}function v(t){for(var e=u(l(d(t,0))),n=new _(e.length),r=0;r<t.length;++r)for(var o=t[r],i=0;i<o.length;++i)for(var a=c(e,[o[i]]),s=i+1;s<o.length;++s)n.link(a,c(e,[o[s]]));for(var f=[],p=n.ranks,r=0;r<p.length;++r)p[r]=-1;for(var r=0;r<t.length;++r){var h=n.find(c(e,[t[r][0]]));p[h]<0?(p[h]=f.length,f.push([t[r].slice(0)])):f[p[h]].push(t[r].slice(0))}return f}function g(t,e){return e?y(t,e):v(t)}var b=t("bit-twiddle"),_=t("union-find");n.dimension=r,n.countVertices=o,n.cloneCells=i,n.compareCells=a,n.normalize=l,n.unique=u,n.findCell=c,n.incidence=f,n.dual=p,n.explode=h,n.skeleton=d,n.boundary=m,n.connectedComponents=g},{"bit-twiddle":276,"union-find":277}],279:[function(t,e,n){"use strict";function r(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return e}e.exports=r},{}],280:[function(t,e,n){e.exports=function(t){return!(null==t||!(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)))}},{}],281:[function(t,e,n){"use strict";function r(t){var e=t.layoutVertexArrayType;this.layoutVertexArray=new e;var n=t.elementArrayType;n&&(this.elementArray=new n);var r=t.elementArrayType2;r&&(this.elementArray2=new r),this.paintVertexArrays=o.mapObject(t.paintVertexArrayTypes,function(t){return new t})}var o=t("../util/util");e.exports=r,r.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,r.prototype.hasCapacityFor=function(t){return this.layoutVertexArray.length+t<=r.MAX_VERTEX_ARRAY_LENGTH},r.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},r.prototype.trim=function(){this.layoutVertexArray.trim(),this.elementArray&&this.elementArray.trim(),this.elementArray2&&this.elementArray2.trim();for(var t in this.paintVertexArrays)this.paintVertexArrays[t].trim()},r.prototype.serialize=function(){return{layoutVertexArray:this.layoutVertexArray.serialize(),elementArray:this.elementArray&&this.elementArray.serialize(),elementArray2:this.elementArray2&&this.elementArray2.serialize(),paintVertexArrays:o.mapObject(this.paintVertexArrays,function(t){return t.serialize()})}},r.prototype.getTransferables=function(t){t.push(this.layoutVertexArray.arrayBuffer),this.elementArray&&t.push(this.elementArray.arrayBuffer),this.elementArray2&&t.push(this.elementArray2.arrayBuffer);for(var e in this.paintVertexArrays)t.push(this.paintVertexArrays[e].arrayBuffer)}},{"../util/util":395}],282:[function(t,e,n){"use strict";function r(t){if(this.zoom=t.zoom,this.overscaling=t.overscaling,this.layer=t.layer,this.childLayers=t.childLayers,this.type=this.layer.type,this.features=[],this.id=this.layer.id,this.index=t.index,this.sourceLayer=this.layer.sourceLayer,this.sourceLayerIndex=t.sourceLayerIndex,this.minZoom=this.layer.minzoom,this.maxZoom=this.layer.maxzoom,this.paintAttributes=o(this),t.arrays){var e=this.programInterfaces;this.bufferGroups=c.mapObject(t.arrays,function(n,r){var o=e[r],i=t.paintVertexArrayTypes[r];return n.map(function(t){return new u(t,{layoutVertexArrayType:o.layoutVertexArrayType.serialize(),elementArrayType:o.elementArrayType&&o.elementArrayType.serialize(),elementArrayType2:o.elementArrayType2&&o.elementArrayType2.serialize(),paintVertexArrayTypes:i})})})}}function o(t){var e={};for(var n in t.programInterfaces){for(var r=e[n]={},o=0;o<t.childLayers.length;o++){var s=t.childLayers[o];r[s.id]={attributes:[],uniforms:[],defines:[],vertexPragmas:{define:{},initialize:{}},fragmentPragmas:{define:{},initialize:{}}}}var l=t.programInterfaces[n];if(l.paintAttributes)for(var u="{precision}",f="{type}",p=0;p<l.paintAttributes.length;p++){var h=l.paintAttributes[p];h.multiplier=h.multiplier||1;for(var d=0;d<t.childLayers.length;d++){var m,y=t.childLayers[d],v=r[y.id],g=h.name,b=h.name.slice(2);if(v.fragmentPragmas.initialize[b]="",y.isPaintValueFeatureConstant(h.paintProperty))v.uniforms.push(h),v.fragmentPragmas.define[b]=v.vertexPragmas.define[b]=["uniform",u,f,g].join(" ")+";",v.fragmentPragmas.initialize[b]=v.vertexPragmas.initialize[b]=[u,f,b,"=",g].join(" ")+";\n";else if(y.isPaintValueZoomConstant(h.paintProperty)){v.attributes.push(c.extend({},h,{name:g})),m=["varying",u,f,b].join(" ")+";\n";var _=[v.fragmentPragmas.define[b],"attribute",u,f,g].join(" ")+";\n";v.fragmentPragmas.define[b]=m,v.vertexPragmas.define[b]=m+_,v.vertexPragmas.initialize[b]=[b,"=",g,"/",h.multiplier.toFixed(1)].join(" ")+";\n"}else{for(var x="u_"+g.slice(2)+"_t",w=y.getPaintValueStopZoomLevels(h.paintProperty),T=0;T<w.length&&w[T]<t.zoom;)T++;for(var E=Math.max(0,Math.min(w.length-4,T-2)),C=[],k=0;k<4;k++)C.push(w[Math.min(E+k,w.length-1)]);m=["varying",u,f,b].join(" ")+";\n",v.vertexPragmas.define[b]=m+["uniform","lowp","float",x].join(" ")+";\n",v.fragmentPragmas.define[b]=m,v.uniforms.push(c.extend({},h,{name:x,getValue:a(h,E),components:1}));var S=h.components;if(1===S)v.attributes.push(c.extend({},h,{getValue:i(h,C),isFunction:!0,components:4*S})),v.vertexPragmas.define[b]+=["attribute",u,"vec4",g].join(" ")+";\n",v.vertexPragmas.initialize[b]=[b,"=","evaluate_zoom_function_1("+g+", "+x+")","/",h.multiplier.toFixed(1)].join(" ")+";\n";else{for(var P=[],M=0;M<4;M++)P.push(g+M),v.attributes.push(c.extend({},h,{getValue:i(h,[C[M]]),isFunction:!0,name:g+M})),v.vertexPragmas.define[b]+=["attribute",u,f,g+M].join(" ")+";\n";v.vertexPragmas.initialize[b]=[b," = ","evaluate_zoom_function_4("+P.join(", ")+", "+x+")","/",h.multiplier.toFixed(1)].join(" ")+";\n"}}}}}return e}function i(t,e){return function(n,r,o){if(1===e.length)return t.getValue(n,c.extend({},r,{zoom:e[0]}),o);for(var i=[],a=0;a<e.length;a++){var s=e[a];i.push(t.getValue(n,c.extend({},r,{zoom:s}),o)[0])}return i}}function a(t,e){return function(n,r){var o=n.getPaintInterpolationT(t.paintProperty,r.zoom);return[Math.max(0,Math.min(4,o-e))]}}var s=t("feature-filter"),l=t("./array_group"),u=t("./buffer_group"),c=t("../util/util"),f=t("../util/struct_array");e.exports=r,r.create=function(e){var n={fill:t("./bucket/fill_bucket"),line:t("./bucket/line_bucket"),circle:t("./bucket/circle_bucket"),symbol:t("./bucket/symbol_bucket")};return new n[e.layer.type](e)},r.EXTENT=8192,r.prototype.populateArrays=function(){this.createArrays(),this.recalculateStyleLayers();for(var t=0;t<this.features.length;t++)this.addFeature(this.features[t]);this.trimArrays()},r.prototype.prepareArrayGroup=function(t,e){var n=this.arrayGroups[t],r=n.length&&n[n.length-1];return r&&r.hasCapacityFor(e)||(r=new l({layoutVertexArrayType:this.programInterfaces[t].layoutVertexArrayType,elementArrayType:this.programInterfaces[t].elementArrayType,elementArrayType2:this.programInterfaces[t].elementArrayType2,paintVertexArrayTypes:this.paintVertexArrayTypes[t]}),r.index=n.length,n.push(r)),r},r.prototype.createArrays=function(){this.arrayGroups={},this.paintVertexArrayTypes={};for(var t in this.programInterfaces){this.arrayGroups[t]=[];var e=this.paintVertexArrayTypes[t]={},n=this.paintAttributes[t];for(var o in n)e[o]=new r.VertexArrayType(n[o].attributes)}},r.prototype.destroy=function(t){for(var e in this.bufferGroups)for(var n=this.bufferGroups[e],r=0;r<n.length;r++)n[r].destroy(t)},r.prototype.trimArrays=function(){for(var t in this.arrayGroups)for(var e=this.arrayGroups[t],n=0;n<e.length;n++)e[n].trim()},r.prototype.isEmpty=function(){for(var t in this.arrayGroups)for(var e=this.arrayGroups[t],n=0;n<e.length;n++)if(!e[n].isEmpty())return!1;return!0},r.prototype.getTransferables=function(t){for(var e in this.arrayGroups)for(var n=this.arrayGroups[e],r=0;r<n.length;r++)n[r].getTransferables(t)},r.prototype.setUniforms=function(t,e,n,r,o){for(var i=this.paintAttributes[e][r.id].uniforms,a=0;a<i.length;a++){var s=i[a],l=n[s.name];t["uniform"+s.components+"fv"](l,s.getValue(r,o))}},r.prototype.serialize=function(){return{layerId:this.layer.id,zoom:this.zoom,arrays:c.mapObject(this.arrayGroups,function(t){return t.map(function(t){return t.serialize()})}),paintVertexArrayTypes:c.mapObject(this.paintVertexArrayTypes,function(t){return c.mapObject(t,function(t){return t.serialize()})}),childLayerIds:this.childLayers.map(function(t){return t.id})}},r.prototype.createFilter=function(){this.filter||(this.filter=s(this.layer.filter))};var p={lastIntegerZoom:1/0,lastIntegerZoomTime:0,lastZoom:0};r.prototype.recalculateStyleLayers=function(){for(var t=0;t<this.childLayers.length;t++)this.childLayers[t].recalculate(this.zoom,p)},r.prototype.populatePaintArrays=function(t,e,n,r,o){for(var i=0;i<this.childLayers.length;i++)for(var a=this.childLayers[i],s=this.arrayGroups[t],l=r.index;l<s.length;l++){var u=s[l],c=u.layoutVertexArray.length,f=u.paintVertexArrays[a.id];f.resize(c);for(var p=this.paintAttributes[t][a.id].attributes,h=0;h<p.length;h++)for(var d=p[h],m=d.getValue(a,e,n),y=d.multiplier||1,v=d.components||1,g=l===r.index?o:0,b=g;b<c;b++)for(var _=f.get(b),x=0;x<v;x++){var w=v>1?d.name+x:d.name;_[w]=m[x]*y}}},r.VertexArrayType=function(t){return new f({members:t,alignment:4})},r.ElementArrayType=function(t){return new f({members:[{type:"Uint16",name:"vertices",components:t||3}]})}},{"../util/struct_array":393,"../util/util":395,"./array_group":281,"./bucket/circle_bucket":283,"./bucket/fill_bucket":284,"./bucket/line_bucket":285,"./bucket/symbol_bucket":286,"./buffer_group":288,"feature-filter":399}],283:[function(t,e,n){"use strict";function r(){o.apply(this,arguments)}var o=t("../bucket"),i=t("../../util/util"),a=t("../load_geometry"),s=o.EXTENT;e.exports=r,r.prototype=i.inherit(o,{}),r.prototype.addCircleVertex=function(t,e,n,r,o){return t.emplaceBack(2*e+(r+1)/2,2*n+(o+1)/2)},r.prototype.programInterfaces={circle:{layoutVertexArrayType:new o.VertexArrayType([{name:"a_pos",components:2,type:"Int16"}]),elementArrayType:new o.ElementArrayType,paintAttributes:[{name:"a_color",components:4,type:"Uint8",getValue:function(t,e,n){return t.getPaintValue("circle-color",e,n)},multiplier:255,paintProperty:"circle-color"},{name:"a_radius",components:1,type:"Uint16",isLayerConstant:!1,getValue:function(t,e,n){return[t.getPaintValue("circle-radius",e,n)]},multiplier:10,paintProperty:"circle-radius"},{name:"a_blur",components:1,type:"Uint16",isLayerConstant:!1,getValue:function(t,e,n){return[t.getPaintValue("circle-blur",e,n)]},multiplier:10,paintProperty:"circle-blur"},{name:"a_opacity",components:1,type:"Uint16",isLayerConstant:!1,getValue:function(t,e,n){return[t.getPaintValue("circle-opacity",e,n)]},multiplier:255,paintProperty:"circle-opacity"}]}},r.prototype.addFeature=function(t){for(var e={zoom:this.zoom},n=a(t),r=this.prepareArrayGroup("circle",0),o=r.layoutVertexArray.length,i=0;i<n.length;i++)for(var l=0;l<n[i].length;l++){var u=n[i][l].x,c=n[i][l].y;if(!(u<0||u>=s||c<0||c>=s)){var f=this.prepareArrayGroup("circle",4),p=f.layoutVertexArray,h=this.addCircleVertex(p,u,c,-1,-1);this.addCircleVertex(p,u,c,1,-1),this.addCircleVertex(p,u,c,1,1),this.addCircleVertex(p,u,c,-1,1),f.elementArray.emplaceBack(h,h+1,h+2),f.elementArray.emplaceBack(h,h+3,h+2)}}this.populatePaintArrays("circle",e,t.properties,r,o)}},{"../../util/util":395,"../bucket":282,"../load_geometry":290}],284:[function(t,e,n){"use strict";function r(){o.apply(this,arguments)}var o=t("../bucket"),i=t("../../util/util"),a=t("../load_geometry"),s=t("earcut"),l=t("../../util/classify_rings"),u=500;e.exports=r,r.prototype=i.inherit(o,{}),r.prototype.programInterfaces={fill:{layoutVertexArrayType:new o.VertexArrayType([{name:"a_pos",components:2,type:"Int16"}]),elementArrayType:new o.ElementArrayType(1),elementArrayType2:new o.ElementArrayType(2),paintAttributes:[{name:"a_color",components:4,type:"Uint8",getValue:function(t,e,n){return t.getPaintValue("fill-color",e,n)},multiplier:255,paintProperty:"fill-color"},{name:"a_outline_color",components:4,type:"Uint8",getValue:function(t,e,n){return t.getPaintValue("fill-outline-color",e,n)},multiplier:255,paintProperty:"fill-outline-color"},{name:"a_opacity",components:1,type:"Uint8",getValue:function(t,e,n){return[t.getPaintValue("fill-opacity",e,n)]},multiplier:255,paintProperty:"fill-opacity"}]}},r.prototype.addFeature=function(t){for(var e=a(t),n=l(e,u),r=this.prepareArrayGroup("fill",0),o=r.layoutVertexArray.length,i=0;i<n.length;i++)this.addPolygon(n[i]);this.populatePaintArrays("fill",{zoom:this.zoom},t.properties,r,o)},r.prototype.addPolygon=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].length;for(var r=this.prepareArrayGroup("fill",e),o=[],i=[],a=r.layoutVertexArray.length,l=0;l<t.length;l++){var u=t[l];l>0&&i.push(o.length/2);for(var c=0;c<u.length;c++){var f=u[c],p=r.layoutVertexArray.emplaceBack(f.x,f.y);c>=1&&r.elementArray2.emplaceBack(p-1,p),o.push(f.x),o.push(f.y)}}for(var h=s(o,i),d=0;d<h.length;d++)r.elementArray.emplaceBack(h[d]+a)}},{"../../util/classify_rings":383,"../../util/util":395,"../bucket":282,"../load_geometry":290,earcut:398}],285:[function(t,e,n){"use strict";function r(){o.apply(this,arguments)}var o=t("../bucket"),i=t("../../util/util"),a=t("../load_geometry"),s=o.EXTENT,l=63,u=Math.cos(37.5*(Math.PI/180)),c=15,f=15,p=.5,h=Math.pow(2,f-1)/p;e.exports=r,r.prototype=i.inherit(o,{}),r.prototype.addLineVertex=function(t,e,n,r,o,i,a){return t.emplaceBack(e.x<<1|r,e.y<<1|o,Math.round(l*n.x)+128,Math.round(l*n.y)+128,(0===i?0:i<0?-1:1)+1|(a*p&63)<<2,a*p>>6)},r.prototype.programInterfaces={line:{layoutVertexArrayType:new o.VertexArrayType([{name:"a_pos",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}]),elementArrayType:new o.ElementArrayType}},r.prototype.addFeature=function(t){for(var e=a(t,f),n=0;n<e.length;n++)this.addLine(e[n],this.layer.layout["line-join"],this.layer.layout["line-cap"],this.layer.layout["line-miter-limit"],this.layer.layout["line-round-limit"])},r.prototype.addLine=function(t,e,n,r,o){for(var i=t.length;i>2&&t[i-1].equals(t[i-2]);)i--;if(!(t.length<2)){"bevel"===e&&(r=1.05);var a=c*(s/(512*this.overscaling)),l=t[0],f=t[i-1],p=l.equals(f);if(this.prepareArrayGroup("line",10*i),2!==i||!p){this.distance=0;var h,d,m,y,v,g,b,_=n,x=p?"butt":n,w=!0;this.e1=this.e2=this.e3=-1,p&&(h=t[i-2],v=l.sub(h)._unit()._perp());for(var T=0;T<i;T++)if(m=p&&T===i-1?t[1]:t[T+1],!m||!t[T].equals(m)){v&&(y=v),h&&(d=h),h=t[T],v=m?m.sub(h)._unit()._perp():y,y=y||v;var E=y.add(v)._unit(),C=E.x*v.x+E.y*v.y,k=1/C,S=C<u&&d&&m;if(S&&T>0){var P=h.dist(d);if(P>2*a){var M=h.sub(h.sub(d)._mult(a/P)._round());this.distance+=M.dist(d),this.addCurrentVertex(M,this.distance,y.mult(1),0,0,!1),d=M}}var A=d&&m,O=A?e:m?_:x;if(A&&"round"===O&&(k<o?O="miter":k<=2&&(O="fakeround")),"miter"===O&&k>r&&(O="bevel"),"bevel"===O&&(k>2&&(O="flipbevel"),k<r&&(O="miter")),d&&(this.distance+=h.dist(d)),"miter"===O)E._mult(k),this.addCurrentVertex(h,this.distance,E,0,0,!1);else if("flipbevel"===O){if(k>100)E=v.clone();else{var D=y.x*v.y-y.y*v.x>0?-1:1,L=k*y.add(v).mag()/y.sub(v).mag();E._perp()._mult(L*D)}this.addCurrentVertex(h,this.distance,E,0,0,!1),this.addCurrentVertex(h,this.distance,E.mult(-1),0,0,!1)}else if("bevel"===O||"fakeround"===O){var I=y.x*v.y-y.y*v.x>0,j=-Math.sqrt(k*k-1);if(I?(b=0,g=j):(g=0,b=j),w||this.addCurrentVertex(h,this.distance,y,g,b,!1),"fakeround"===O){for(var F,R=Math.floor(8*(.5-(C-.5))),N=0;N<R;N++)F=v.mult((N+1)/(R+1))._add(y)._unit(),this.addPieSliceVertex(h,this.distance,F,I);this.addPieSliceVertex(h,this.distance,E,I);for(var z=R-1;z>=0;z--)F=y.mult((z+1)/(R+1))._add(v)._unit(),this.addPieSliceVertex(h,this.distance,F,I)}m&&this.addCurrentVertex(h,this.distance,v,-g,-b,!1)}else"butt"===O?(w||this.addCurrentVertex(h,this.distance,y,0,0,!1),m&&this.addCurrentVertex(h,this.distance,v,0,0,!1)):"square"===O?(w||(this.addCurrentVertex(h,this.distance,y,1,1,!1),this.e1=this.e2=-1),m&&this.addCurrentVertex(h,this.distance,v,-1,-1,!1)):"round"===O&&(w||(this.addCurrentVertex(h,this.distance,y,0,0,!1),this.addCurrentVertex(h,this.distance,y,1,1,!0),this.e1=this.e2=-1),m&&(this.addCurrentVertex(h,this.distance,v,-1,-1,!0),this.addCurrentVertex(h,this.distance,v,0,0,!1)));if(S&&T<i-1){var B=h.dist(m);if(B>2*a){var U=h.add(m.sub(h)._mult(a/B)._round());this.distance+=U.dist(h),this.addCurrentVertex(U,this.distance,v.mult(1),0,0,!1),h=U}}w=!1}}}},r.prototype.addCurrentVertex=function(t,e,n,r,o,i){var a,s=i?1:0,l=this.arrayGroups.line[this.arrayGroups.line.length-1],u=l.layoutVertexArray,c=l.elementArray;a=n.clone(),r&&a._sub(n.perp()._mult(r)),this.e3=this.addLineVertex(u,t,a,s,0,r,e),this.e1>=0&&this.e2>=0&&c.emplaceBack(this.e1,this.e2,this.e3),this.e1=this.e2,this.e2=this.e3,a=n.mult(-1),o&&a._sub(n.perp()._mult(o)),this.e3=this.addLineVertex(u,t,a,s,1,-o,e),this.e1>=0&&this.e2>=0&&c.emplaceBack(this.e1,this.e2,this.e3),this.e1=this.e2,this.e2=this.e3,e>h/2&&(this.distance=0,this.addCurrentVertex(t,this.distance,n,r,o,i))},r.prototype.addPieSliceVertex=function(t,e,n,r){
var o=r?1:0;n=n.mult(r?-1:1);var i=this.arrayGroups.line[this.arrayGroups.line.length-1],a=i.layoutVertexArray,s=i.elementArray;this.e3=this.addLineVertex(a,t,n,0,o,0,e),this.e1>=0&&this.e2>=0&&s.emplaceBack(this.e1,this.e2,this.e3),r?this.e2=this.e3:this.e1=this.e3}},{"../../util/util":395,"../bucket":282,"../load_geometry":290}],286:[function(t,e,n){"use strict";function r(t){a.apply(this,arguments),this.showCollisionBoxes=t.showCollisionBoxes,this.overscaling=t.overscaling,this.collisionBoxArray=t.collisionBoxArray,this.symbolQuadsArray=t.symbolQuadsArray,this.symbolInstancesArray=t.symbolInstancesArray,this.sdfIcons=t.sdfIcons,this.iconsNeedLinear=t.iconsNeedLinear,this.adjustedTextSize=t.adjustedTextSize,this.adjustedIconSize=t.adjustedIconSize,this.fontstack=t.fontstack}function o(t,e,n,r,o,i,a,s,l,u,c){return t.emplaceBack(e,n,Math.round(64*r),Math.round(64*o),i/4,a/4,10*(u||0),c,10*(s||0),10*Math.min(l||25,25))}var i=t("point-geometry"),a=t("../bucket"),s=t("../../symbol/anchor"),l=t("../../symbol/get_anchors"),u=t("../../util/token"),c=t("../../symbol/quads"),f=t("../../symbol/shaping"),p=t("../../symbol/resolve_text"),h=t("../../symbol/mergelines"),d=t("../../symbol/clip_line"),m=t("../../util/util"),y=t("../load_geometry"),v=t("../../symbol/collision_feature"),g=f.shapeText,b=f.shapeIcon,_=c.getGlyphQuads,x=c.getIconQuads,w=a.EXTENT;e.exports=r,r.prototype=m.inherit(a,{}),r.prototype.serialize=function(){var t=a.prototype.serialize.apply(this);return t.sdfIcons=this.sdfIcons,t.iconsNeedLinear=this.iconsNeedLinear,t.adjustedTextSize=this.adjustedTextSize,t.adjustedIconSize=this.adjustedIconSize,t.fontstack=this.fontstack,t};var T=new a.VertexArrayType([{name:"a_pos",components:2,type:"Int16"},{name:"a_offset",components:2,type:"Int16"},{name:"a_texture_pos",components:2,type:"Uint16"},{name:"a_data",components:4,type:"Uint8"}]),E=new a.ElementArrayType;r.prototype.addCollisionBoxVertex=function(t,e,n,r,o){return t.emplaceBack(e.x,e.y,Math.round(n.x),Math.round(n.y),10*r,10*o)},r.prototype.programInterfaces={glyph:{layoutVertexArrayType:T,elementArrayType:E},icon:{layoutVertexArrayType:T,elementArrayType:E},collisionBox:{layoutVertexArrayType:new a.VertexArrayType([{name:"a_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"},{name:"a_data",components:2,type:"Uint8"}])}},r.prototype.populateArrays=function(t,e,n){var r={lastIntegerZoom:1/0,lastIntegerZoomTime:0,lastZoom:0};this.adjustedTextMaxSize=this.layer.getLayoutValue("text-size",{zoom:18,zoomHistory:r}),this.adjustedTextSize=this.layer.getLayoutValue("text-size",{zoom:this.zoom+1,zoomHistory:r}),this.adjustedIconMaxSize=this.layer.getLayoutValue("icon-size",{zoom:18,zoomHistory:r}),this.adjustedIconSize=this.layer.getLayoutValue("icon-size",{zoom:this.zoom+1,zoomHistory:r});var o=512*this.overscaling;this.tilePixelRatio=w/o,this.compareText={},this.iconsNeedLinear=!1,this.symbolInstancesStartIndex=this.symbolInstancesArray.length;var i=this.layer.layout,a=this.features,s=this.textFeatures,l=.5,c=.5;switch(i["text-anchor"]){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(i["text-anchor"]){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}for(var f="right"===i["text-justify"]?1:"left"===i["text-justify"]?0:.5,p=24,d=i["text-line-height"]*p,v="line"!==i["symbol-placement"]?i["text-max-width"]*p:0,_=i["text-letter-spacing"]*p,x=[i["text-offset"][0]*p,i["text-offset"][1]*p],T=this.fontstack=i["text-font"].join(","),E=[],C=0;C<a.length;C++)E.push(y(a[C]));if("line"===i["symbol-placement"]){var k=h(a,s,E);E=k.geometries,a=k.features,s=k.textFeatures}for(var S,P,M=0;M<a.length;M++)if(E[M]){if(S=s[M]?g(s[M],e[T],v,d,l,c,f,_,x):null,i["icon-image"]){var A=u(a[M].properties,i["icon-image"]),O=n[A];P=b(O,i),O&&(void 0===this.sdfIcons?this.sdfIcons=O.sdf:this.sdfIcons!==O.sdf&&m.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),1!==O.pixelRatio?this.iconsNeedLinear=!0:0===i["icon-rotate"]&&this.layer.isLayoutValueFeatureConstant("icon-rotate")||(this.iconsNeedLinear=!0))}else P=null;(S||P)&&this.addFeature(E[M],S,P,a[M])}this.symbolInstancesEndIndex=this.symbolInstancesArray.length,this.placeFeatures(t,this.showCollisionBoxes),this.trimArrays()},r.prototype.addFeature=function(t,e,n,r){var o=this.layer.layout,i=24,a=this.adjustedTextSize/i,u=void 0!==this.adjustedTextMaxSize?this.adjustedTextMaxSize:this.adjustedTextSize,c=this.tilePixelRatio*a,f=this.tilePixelRatio*u/i,p=this.tilePixelRatio*this.adjustedIconSize,h=this.tilePixelRatio*o["symbol-spacing"],m=o["symbol-avoid-edges"],y=o["text-padding"]*this.tilePixelRatio,v=o["icon-padding"]*this.tilePixelRatio,g=o["text-max-angle"]/180*Math.PI,b="map"===o["text-rotation-alignment"]&&"line"===o["symbol-placement"],_="map"===o["icon-rotation-alignment"]&&"line"===o["symbol-placement"],x=o["text-allow-overlap"]||o["icon-allow-overlap"]||o["text-ignore-placement"]||o["icon-ignore-placement"],T="line"===o["symbol-placement"],E=h/2;T&&(t=d(t,0,0,w,w));for(var C=0;C<t.length;C++){var k,S=t[C];k=T?l(S,h,g,e,n,i,f,this.overscaling,w):[new s(S[0].x,S[0].y,0)];for(var P=0,M=k.length;P<M;P++){var A=k[P];if(!(e&&T&&this.anchorIsTooClose(e.text,E,A))){var O=!(A.x<0||A.x>w||A.y<0||A.y>w);if(!m||O){var D=O||x;this.addSymbolInstance(A,S,e,n,this.layer,D,this.symbolInstancesArray.length,this.collisionBoxArray,r.index,this.sourceLayerIndex,this.index,c,y,b,p,v,_,{zoom:this.zoom},r.properties)}}}}},r.prototype.anchorIsTooClose=function(t,e,n){var r=this.compareText;if(t in r){for(var o=r[t],i=o.length-1;i>=0;i--)if(n.dist(o[i])<e)return!0}else r[t]=[];return r[t].push(n),!1},r.prototype.placeFeatures=function(t,e){this.recalculateStyleLayers(),this.createArrays();var n=this.layer.layout,r=t.maxScale,o="map"===n["text-rotation-alignment"]&&"line"===n["symbol-placement"],i="map"===n["icon-rotation-alignment"]&&"line"===n["symbol-placement"],a=n["text-allow-overlap"]||n["icon-allow-overlap"]||n["text-ignore-placement"]||n["icon-ignore-placement"];if(a){var s=this.symbolInstancesArray.toArray(this.symbolInstancesStartIndex,this.symbolInstancesEndIndex),l=t.angle,u=Math.sin(l),c=Math.cos(l);this.sortedSymbolInstances=s.sort(function(t,e){var n=u*t.anchorPointX+c*t.anchorPointY|0,r=u*e.anchorPointX+c*e.anchorPointY|0;return n-r||e.index-t.index})}for(var f=this.symbolInstancesStartIndex;f<this.symbolInstancesEndIndex;f++){var p=this.sortedSymbolInstances?this.sortedSymbolInstances[f-this.symbolInstancesStartIndex]:this.symbolInstancesArray.get(f),h={boxStartIndex:p.textBoxStartIndex,boxEndIndex:p.textBoxEndIndex},d={boxStartIndex:p.iconBoxStartIndex,boxEndIndex:p.iconBoxEndIndex},m=!(p.textBoxStartIndex===p.textBoxEndIndex),y=!(p.iconBoxStartIndex===p.iconBoxEndIndex),v=n["text-optional"]||!m,g=n["icon-optional"]||!y,b=m?t.placeCollisionFeature(h,n["text-allow-overlap"],n["symbol-avoid-edges"]):t.minScale,_=y?t.placeCollisionFeature(d,n["icon-allow-overlap"],n["symbol-avoid-edges"]):t.minScale;v||g?!g&&b?b=Math.max(_,b):!v&&_&&(_=Math.max(_,b)):_=b=Math.max(_,b),m&&(t.insertCollisionFeature(h,b,n["text-ignore-placement"]),b<=r&&this.addSymbols("glyph",p.glyphQuadStartIndex,p.glyphQuadEndIndex,b,n["text-keep-upright"],o,t.angle)),y&&(t.insertCollisionFeature(d,_,n["icon-ignore-placement"]),_<=r&&this.addSymbols("icon",p.iconQuadStartIndex,p.iconQuadEndIndex,_,n["icon-keep-upright"],i,t.angle))}e&&this.addToDebugBuffers(t)},r.prototype.addSymbols=function(t,e,n,r,i,a,s){for(var l=this.prepareArrayGroup(t,4*(n-e)),u=l.elementArray,c=l.layoutVertexArray,f=this.zoom,p=Math.max(Math.log(r)/Math.LN2+f,0),h=e;h<n;h++){var d=this.symbolQuadsArray.get(h).SymbolQuad,m=(d.anchorAngle+s+Math.PI)%(2*Math.PI);if(!(i&&a&&(m<=Math.PI/2||m>3*Math.PI/2))){var y=d.tl,v=d.tr,g=d.bl,b=d.br,_=d.tex,x=d.anchorPoint,w=Math.max(f+Math.log(d.minScale)/Math.LN2,p),T=Math.min(f+Math.log(d.maxScale)/Math.LN2,25);if(!(T<=w)){w===p&&(w=0);var E=Math.round(d.glyphAngle/(2*Math.PI)*256),C=o(c,x.x,x.y,y.x,y.y,_.x,_.y,w,T,p,E);o(c,x.x,x.y,v.x,v.y,_.x+_.w,_.y,w,T,p,E),o(c,x.x,x.y,g.x,g.y,_.x,_.y+_.h,w,T,p,E),o(c,x.x,x.y,b.x,b.y,_.x+_.w,_.y+_.h,w,T,p,E),u.emplaceBack(C,C+1,C+2),u.emplaceBack(C+1,C+2,C+3)}}}},r.prototype.updateIcons=function(t){this.recalculateStyleLayers();var e=this.layer.layout["icon-image"];if(e)for(var n=0;n<this.features.length;n++){var r=u(this.features[n].properties,e);r&&(t[r]=!0)}},r.prototype.updateFont=function(t){this.recalculateStyleLayers();var e=this.layer.layout["text-font"],n=t[e]=t[e]||{};this.textFeatures=p(this.features,this.layer.layout,n)},r.prototype.addToDebugBuffers=function(t){for(var e=this.prepareArrayGroup("collisionBox",0),n=e.layoutVertexArray,r=-t.angle,o=t.yStretch,a=this.symbolInstancesStartIndex;a<this.symbolInstancesEndIndex;a++){var s=this.symbolInstancesArray.get(a);s.textCollisionFeature={boxStartIndex:s.textBoxStartIndex,boxEndIndex:s.textBoxEndIndex},s.iconCollisionFeature={boxStartIndex:s.iconBoxStartIndex,boxEndIndex:s.iconBoxEndIndex};for(var l=0;l<2;l++){var u=s[0===l?"textCollisionFeature":"iconCollisionFeature"];if(u)for(var c=u.boxStartIndex;c<u.boxEndIndex;c++){var f=this.collisionBoxArray.get(c),p=f.anchorPoint,h=new i(f.x1,f.y1*o)._rotate(r),d=new i(f.x2,f.y1*o)._rotate(r),m=new i(f.x1,f.y2*o)._rotate(r),y=new i(f.x2,f.y2*o)._rotate(r),v=Math.max(0,Math.min(25,this.zoom+Math.log(f.maxScale)/Math.LN2)),g=Math.max(0,Math.min(25,this.zoom+Math.log(f.placementScale)/Math.LN2));this.addCollisionBoxVertex(n,p,h,v,g),this.addCollisionBoxVertex(n,p,d,v,g),this.addCollisionBoxVertex(n,p,d,v,g),this.addCollisionBoxVertex(n,p,y,v,g),this.addCollisionBoxVertex(n,p,y,v,g),this.addCollisionBoxVertex(n,p,m,v,g),this.addCollisionBoxVertex(n,p,m,v,g),this.addCollisionBoxVertex(n,p,h,v,g)}}}},r.prototype.addSymbolInstance=function(t,e,n,r,o,i,a,s,l,u,c,f,p,h,d,m,y,g,b){var w,T,E,C,k,S,P,M;if(n&&(P=i?_(t,n,f,e,o,h):[],k=new v(s,e,t,l,u,c,n,f,p,h,(!1))),w=this.symbolQuadsArray.length,P&&P.length)for(var A=0;A<P.length;A++)this.addSymbolQuad(P[A]);T=this.symbolQuadsArray.length;var O=k?k.boxStartIndex:this.collisionBoxArray.length,D=k?k.boxEndIndex:this.collisionBoxArray.length;r&&(M=i?x(t,r,d,e,o,y,n,g,b):[],S=new v(s,e,t,l,u,c,r,d,m,y,(!0))),E=this.symbolQuadsArray.length,M&&1===M.length&&this.addSymbolQuad(M[0]),C=this.symbolQuadsArray.length;var L=S?S.boxStartIndex:this.collisionBoxArray.length,I=S?S.boxEndIndex:this.collisionBoxArray.length;return this.symbolInstancesArray.emplaceBack(O,D,L,I,w,T,E,C,t.x,t.y,a)},r.prototype.addSymbolQuad=function(t){return this.symbolQuadsArray.emplaceBack(t.anchorPoint.x,t.anchorPoint.y,t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y,t.tex.h,t.tex.w,t.tex.x,t.tex.y,t.anchorAngle,t.glyphAngle,t.maxScale,t.minScale)}},{"../../symbol/anchor":344,"../../symbol/clip_line":346,"../../symbol/collision_feature":348,"../../symbol/get_anchors":350,"../../symbol/mergelines":353,"../../symbol/quads":354,"../../symbol/resolve_text":355,"../../symbol/shaping":356,"../../util/token":394,"../../util/util":395,"../bucket":282,"../load_geometry":290,"point-geometry":453}],287:[function(t,e,n){"use strict";function r(t,e,n){this.arrayBuffer=t.arrayBuffer,this.length=t.length,this.attributes=e.members,this.itemSize=e.bytesPerElement,this.type=n,this.arrayType=e}e.exports=r,r.prototype.bind=function(t){var e=t[this.type];this.buffer?t.bindBuffer(e,this.buffer):(this.buffer=t.createBuffer(),t.bindBuffer(e,this.buffer),t.bufferData(e,this.arrayBuffer,t.STATIC_DRAW),this.arrayBuffer=null)};var o={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT"};r.prototype.setVertexAttribPointers=function(t,e){for(var n=0;n<this.attributes.length;n++){var r=this.attributes[n],i=e[r.name];void 0!==i&&t.vertexAttribPointer(i,r.components,t[o[r.type]],!1,this.arrayType.bytesPerElement,r.offset)}},r.prototype.destroy=function(t){this.buffer&&t.deleteBuffer(this.buffer)},r.BufferType={VERTEX:"ARRAY_BUFFER",ELEMENT:"ELEMENT_ARRAY_BUFFER"}},{}],288:[function(t,e,n){"use strict";function r(t,e){this.layoutVertexBuffer=new i(t.layoutVertexArray,e.layoutVertexArrayType,i.BufferType.VERTEX),t.elementArray&&(this.elementBuffer=new i(t.elementArray,e.elementArrayType,i.BufferType.ELEMENT));var n,r=this.vaos={};t.elementArray2&&(this.elementBuffer2=new i(t.elementArray2,e.elementArrayType2,i.BufferType.ELEMENT),n=this.secondVaos={}),this.paintVertexBuffers=o.mapObject(t.paintVertexArrays,function(o,s){return r[s]=new a,t.elementArray2&&(n[s]=new a),new i(o,e.paintVertexArrayTypes[s],i.BufferType.VERTEX)})}var o=t("../util/util"),i=t("./buffer"),a=t("../render/vertex_array_object");e.exports=r,r.prototype.destroy=function(t){this.layoutVertexBuffer.destroy(t),this.elementBuffer&&this.elementBuffer.destroy(t),this.elementBuffer2&&this.elementBuffer2.destroy(t);for(var e in this.paintVertexBuffers)this.paintVertexBuffers[e].destroy(t);for(var n in this.vaos)this.vaos[n].destroy(t);for(var r in this.secondVaos)this.secondVaos[r].destroy(t)}},{"../render/vertex_array_object":310,"../util/util":395,"./buffer":287}],289:[function(t,e,n){"use strict";function r(t,e,n){if(t.grid){var r=t,o=e;t=r.coord,e=r.overscaling,this.grid=new d(r.grid),this.featureIndexArray=new E(r.featureIndexArray),this.rawTileData=o,this.bucketLayerIDs=r.bucketLayerIDs}else this.grid=new d(f,16,0),this.featureIndexArray=new E;this.coord=t,this.overscaling=e,this.x=t.x,this.y=t.y,this.z=t.z-Math.log(e)/Math.LN2,this.setCollisionTile(n)}function o(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function i(t,e){return e-t}function a(t){return t["line-gap-width"]>0?t["line-gap-width"]+2*t["line-width"]:t["line-width"]}function s(t,e,n,r,o){if(!e[0]&&!e[1])return t;e=u.convert(e),"viewport"===n&&e._rotate(-r);for(var i=[],a=0;a<t.length;a++){for(var s=t[a],l=[],c=0;c<s.length;c++)l.push(s[c].sub(e._mult(o)));i.push(l)}return i}function l(t,e){for(var n=[],r=new u(0,0),o=0;o<t.length;o++){for(var i=t[o],a=[],s=0;s<i.length;s++){var l=i[s-1],c=i[s],f=i[s+1],p=0===s?r:c.sub(l)._unit()._perp(),h=s===i.length-1?r:f.sub(c)._unit()._perp(),d=p._add(h)._unit(),m=d.x*h.x+d.y*h.y;d._mult(1/m),a.push(d._mult(e)._add(c))}n.push(a)}return n}var u=t("point-geometry"),c=t("./load_geometry"),f=t("./bucket").EXTENT,p=t("feature-filter"),h=t("../util/struct_array"),d=t("grid-index"),m=t("../util/dictionary_coder"),y=t("vector-tile"),v=t("pbf"),g=t("../util/vectortile_to_geojson"),b=t("../util/util").arraysIntersect,_=t("../util/intersection_tests"),x=_.multiPolygonIntersectsBufferedMultiPoint,w=_.multiPolygonIntersectsMultiPolygon,T=_.multiPolygonIntersectsBufferedMultiLine,E=new h({members:[{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]});e.exports=r,r.prototype.insert=function(t,e,n,r){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(e,n,r);for(var i=c(t),a=0;a<i.length;a++){for(var s=i[a],l=[1/0,1/0,-(1/0),-(1/0)],u=0;u<s.length;u++){var f=s[u];l[0]=Math.min(l[0],f.x),l[1]=Math.min(l[1],f.y),l[2]=Math.max(l[2],f.x),l[3]=Math.max(l[3],f.y)}this.grid.insert(o,l[0],l[1],l[2],l[3])}},r.prototype.setCollisionTile=function(t){this.collisionTile=t},r.prototype.serialize=function(){var t={coord:this.coord,overscaling:this.overscaling,grid:this.grid.toArrayBuffer(),featureIndexArray:this.featureIndexArray.serialize(),bucketLayerIDs:this.bucketLayerIDs};return{data:t,transferables:[t.grid,t.featureIndexArray.arrayBuffer]}},r.prototype.query=function(t,e){this.vtLayers||(this.vtLayers=new y.VectorTile(new v(new Uint8Array(this.rawTileData))).layers,this.sourceLayerCoder=new m(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));var n={},r=t.params||{},s=f/t.tileSize/t.scale,l=p(r.filter),c=0;for(var h in e){var d=e[h],g=d.paint,b=0;"line"===d.type?b=a(g)/2+Math.abs(g["line-offset"])+o(g["line-translate"]):"fill"===d.type?b=o(g["fill-translate"]):"circle"===d.type&&(b=g["circle-radius"]+o(g["circle-translate"])),c=Math.max(c,b*s)}for(var _=t.queryGeometry.map(function(t){return t.map(function(t){return new u(t.x,t.y)})}),x=1/0,w=1/0,T=-(1/0),E=-(1/0),C=0;C<_.length;C++)for(var k=_[C],S=0;S<k.length;S++){var P=k[S];x=Math.min(x,P.x),w=Math.min(w,P.y),T=Math.max(T,P.x),E=Math.max(E,P.y)}var M=this.grid.query(x-c,w-c,T+c,E+c);M.sort(i),this.filterMatching(n,M,this.featureIndexArray,_,l,r.layers,e,t.bearing,s);var A=this.collisionTile.queryRenderedSymbols(x,w,T,E,t.scale);return A.sort(),this.filterMatching(n,A,this.collisionTile.collisionBoxArray,_,l,r.layers,e,t.bearing,s),n},r.prototype.filterMatching=function(t,e,n,r,o,i,u,f,p){for(var h,d=0;d<e.length;d++){var m=e[d];if(m!==h){h=m;var y=n.get(m),v=this.bucketLayerIDs[y.bucketIndex];if(!i||b(i,v)){var _=this.sourceLayerCoder.decode(y.sourceLayerIndex),E=this.vtLayers[_],C=E.feature(y.featureIndex);if(o(C))for(var k=null,S=0;S<v.length;S++){var P=v[S];if(!(i&&i.indexOf(P)<0)){var M=u[P];if(M){var A;if("symbol"!==M.type){k||(k=c(C));var O=M.paint;if("line"===M.type){A=s(r,O["line-translate"],O["line-translate-anchor"],f,p);var D=a(O)/2*p;if(O["line-offset"]&&(k=l(k,O["line-offset"]*p)),!T(A,k,D))continue}else if("fill"===M.type){if(A=s(r,O["fill-translate"],O["fill-translate-anchor"],f,p),!w(A,k))continue}else if("circle"===M.type){A=s(r,O["circle-translate"],O["circle-translate-anchor"],f,p);var L=O["circle-radius"]*p;if(!x(A,k,L))continue}}var I=new g(C,this.z,this.x,this.y);I.layer=M.serialize({includeRefProperties:!0});var j=t[P];void 0===j&&(j=t[P]=[]),j.push(I)}}}}}}}},{"../util/dictionary_coder":385,"../util/intersection_tests":390,"../util/struct_array":393,"../util/util":395,"../util/vectortile_to_geojson":396,"./bucket":282,"./load_geometry":290,"feature-filter":399,"grid-index":421,pbf:451,"point-geometry":453,"vector-tile":463}],290:[function(t,e,n){"use strict";function r(t){return{min:-1*Math.pow(2,t-1),max:Math.pow(2,t-1)-1}}var o=t("../util/util"),i=t("./bucket").EXTENT,a={15:r(15),16:r(16)};e.exports=function(t,e){for(var n=a[e||16],r=i/t.extent,s=t.loadGeometry(),l=0;l<s.length;l++)for(var u=s[l],c=0;c<u.length;c++){var f=u[c];f.x=Math.round(f.x*r),f.y=Math.round(f.y*r),(f.x<n.min||f.x>n.max||f.y<n.min||f.y>n.max)&&o.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return s}},{"../util/util":395,"./bucket":282}],291:[function(t,e,n){"use strict";function r(t,e,n){this.column=t,this.row=e,this.zoom=n}e.exports=r,r.prototype={clone:function(){return new r(this.column,this.row,this.zoom)},zoomTo:function(t){return this.clone()._zoomTo(t)},sub:function(t){return this.clone()._sub(t)},_zoomTo:function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},_sub:function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this}}},{}],292:[function(t,e,n){"use strict";function r(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}e.exports=r;var o=t("../util/util").wrap;r.prototype.wrap=function(){return new r(o(this.lng,-180,180),this.lat)},r.prototype.toArray=function(){return[this.lng,this.lat]},r.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t}},{"../util/util":395}],293:[function(t,e,n){"use strict";function r(t,e){t&&(e?this.extend(t).extend(e):4===t.length?this.extend([t[0],t[1]]).extend([t[2],t[3]]):this.extend(t[0]).extend(t[1]))}e.exports=r;var o=t("./lng_lat");r.prototype={extend:function(t){var e,n,i=this._sw,a=this._ne;if(t instanceof o)e=t,n=t;else{if(!(t instanceof r))return t?this.extend(o.convert(t)||r.convert(t)):this;if(e=t._sw,n=t._ne,!e||!n)return this}return i||a?(i.lng=Math.min(e.lng,i.lng),i.lat=Math.min(e.lat,i.lat),a.lng=Math.max(n.lng,a.lng),a.lat=Math.max(n.lat,a.lat)):(this._sw=new o(e.lng,e.lat),this._ne=new o(n.lng,n.lat)),this},getCenter:function(){return new o((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},getSouthWest:function(){return this._sw},getNorthEast:function(){return this._ne},getNorthWest:function(){return new o(this.getWest(),this.getNorth())},getSouthEast:function(){return new o(this.getEast(),this.getSouth())},getWest:function(){return this._sw.lng},getSouth:function(){return this._sw.lat},getEast:function(){return this._ne.lng},getNorth:function(){return this._ne.lat},toArray:function(){return[this._sw.toArray(),this._ne.toArray()]},toString:function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"}},r.convert=function(t){return!t||t instanceof r?t:new r(t)}},{"./lng_lat":292}],294:[function(t,e,n){"use strict";function r(t,e){this.tileSize=512,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new o(0,0),this.zoom=0,this.angle=0,this._altitude=1.5,this._pitch=0,this._unmodified=!0}var o=t("./lng_lat"),i=t("point-geometry"),a=t("./coordinate"),s=t("../util/util").wrap,l=t("../util/interpolate"),u=t("../source/tile_coord"),c=t("../data/bucket").EXTENT,f=t("gl-matrix"),p=f.vec4,h=f.mat4,d=f.mat2;e.exports=r,r.prototype={get minZoom(){return this._minZoom},set minZoom(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},get maxZoom(){return this._maxZoom},set maxZoom(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},get worldSize(){return this.tileSize*this.scale},get centerPoint(){return this.size._div(2)},get size(){return new i(this.width,this.height)},get bearing(){return-this.angle/Math.PI*180},set bearing(t){var e=-s(t,-180,180)*Math.PI/180;this.angle!==e&&(this._unmodified=!1,this.angle=e,this._calcMatrices(),this.rotationMatrix=d.create(),d.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},get pitch(){return this._pitch/Math.PI*180},set pitch(t){var e=Math.min(60,t)/180*Math.PI;this._pitch!==e&&(this._unmodified=!1,this._pitch=e,this._calcMatrices())},get altitude(){return this._altitude},set altitude(t){var e=Math.max(.75,t);this._altitude!==e&&(this._unmodified=!1,this._altitude=e,this._calcMatrices())},get zoom(){return this._zoom},set zoom(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._calcMatrices(),this._constrain())},get center(){return this._center},set center(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._calcMatrices(),this._constrain())},coveringZoomLevel:function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},coveringTiles:function(t){var e=this.coveringZoomLevel(t),n=e;if(e<t.minzoom)return[];e>t.maxzoom&&(e=t.maxzoom);var r=this,o=r.locationCoordinate(r.center)._zoomTo(e),a=new i(o.column-.5,o.row-.5);return u.cover(e,[r.pointCoordinate(new i(0,0))._zoomTo(e),r.pointCoordinate(new i(r.width,0))._zoomTo(e),r.pointCoordinate(new i(r.width,r.height))._zoomTo(e),r.pointCoordinate(new i(0,r.height))._zoomTo(e)],t.reparseOverscaled?n:e).sort(function(t,e){return a.dist(t)-a.dist(e)})},resize:function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._calcMatrices(),this._constrain()},get unmodified(){return this._unmodified},zoomScale:function(t){return Math.pow(2,t)},scaleZoom:function(t){return Math.log(t)/Math.LN2},project:function(t,e){return new i(this.lngX(t.lng,e),this.latY(t.lat,e))},unproject:function(t,e){return new o(this.xLng(t.x,e),this.yLat(t.y,e))},get x(){return this.lngX(this.center.lng)},get y(){return this.latY(this.center.lat)},get point(){return new i(this.x,this.y)},lngX:function(t,e){return(180+t)*(e||this.worldSize)/360},latY:function(t,e){var n=180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360));return(180-n)*(e||this.worldSize)/360},xLng:function(t,e){return 360*t/(e||this.worldSize)-180},yLat:function(t,e){var n=180-360*t/(e||this.worldSize);return 360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90},panBy:function(t){var e=this.centerPoint._add(t);this.center=this.pointLocation(e)},setLocationAtPoint:function(t,e){var n=this.locationCoordinate(t),r=this.pointCoordinate(e),o=this.pointCoordinate(this.centerPoint),i=r._sub(n);this._unmodified=!1,this.center=this.coordinateLocation(o._sub(i))},locationPoint:function(t){return this.coordinatePoint(this.locationCoordinate(t))},pointLocation:function(t){return this.coordinateLocation(this.pointCoordinate(t))},locationCoordinate:function(t){var e=this.zoomScale(this.tileZoom)/this.worldSize,n=o.convert(t);return new a(this.lngX(n.lng)*e,this.latY(n.lat)*e,this.tileZoom)},coordinateLocation:function(t){var e=this.zoomScale(t.zoom);return new o(this.xLng(t.column,e),this.yLat(t.row,e))},pointCoordinate:function(t){var e=0,n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];p.transformMat4(n,n,this.pixelMatrixInverse),p.transformMat4(r,r,this.pixelMatrixInverse);var o=n[3],i=r[3],s=n[0]/o,u=r[0]/i,c=n[1]/o,f=r[1]/i,h=n[2]/o,d=r[2]/i,m=h===d?0:(e-h)/(d-h),y=this.worldSize/this.zoomScale(this.tileZoom);return new a(l(s,u,m)/y,l(c,f,m)/y,this.tileZoom)},coordinatePoint:function(t){var e=this.worldSize/this.zoomScale(t.zoom),n=[t.column*e,t.row*e,0,1];return p.transformMat4(n,n,this.pixelMatrix),new i(n[0]/n[3],n[1]/n[3])},calculatePosMatrix:function(t,e){void 0===e&&(e=1/0),t instanceof u&&(t=t.toCoordinate(e));var n=Math.min(t.zoom,e),r=this.worldSize/Math.pow(2,n),o=new Float64Array(16);return h.identity(o),h.translate(o,o,[t.column*r,t.row*r,0]),h.scale(o,o,[r/c,r/c,1]),h.multiply(o,this.projMatrix,o),new Float32Array(o)},_constrain:function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,e,n,r,o,a,s,l,u=this.size,c=this._unmodified;this.latRange&&(t=this.latY(this.latRange[1]),e=this.latY(this.latRange[0]),o=e-t<u.y?u.y/(e-t):0),this.lngRange&&(n=this.lngX(this.lngRange[0]),r=this.lngX(this.lngRange[1]),a=r-n<u.x?u.x/(r-n):0);var f=Math.max(a||0,o||0);if(f)return this.center=this.unproject(new i(a?(r+n)/2:this.x,o?(e+t)/2:this.y)),this.zoom+=this.scaleZoom(f),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var p=this.y,h=u.y/2;p-h<t&&(l=t+h),p+h>e&&(l=e-h)}if(this.lngRange){var d=this.x,m=u.x/2;d-m<n&&(s=n+m),d+m>r&&(s=r-m)}void 0===s&&void 0===l||(this.center=this.unproject(new i(void 0!==s?s:this.x,void 0!==l?l:this.y))),this._unmodified=c,this._constraining=!1}},_calcMatrices:function(){if(this.height){var t=Math.atan(.5/this.altitude),e=Math.sin(t)*this.altitude/Math.sin(Math.PI/2-this._pitch-t),n=Math.cos(Math.PI/2-this._pitch)*e+this.altitude,r=new Float64Array(16);if(h.perspective(r,2*Math.atan(this.height/2/this.altitude),this.width/this.height,.1,n),h.translate(r,r,[0,0,-this.altitude]),h.scale(r,r,[1,-1,1/this.height]),h.rotateX(r,r,this._pitch),h.rotateZ(r,r,this.angle),h.translate(r,r,[-this.x,-this.y,0]),this.projMatrix=r,r=h.create(),h.scale(r,r,[this.width/2,-this.height/2,1]),h.translate(r,r,[1,-1,0]),this.pixelMatrix=h.multiply(new Float64Array(16),r,this.projMatrix),r=h.invert(new Float64Array(16),this.pixelMatrix),!r)throw new Error("failed to invert matrix");this.pixelMatrixInverse=r}}}},{"../data/bucket":282,"../source/tile_coord":322,"../util/interpolate":389,"../util/util":395,"./coordinate":291,"./lng_lat":292,"gl-matrix":411,"point-geometry":453}],295:[function(t,e,n){"use strict";var r={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],
"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]};e.exports=function(t,e,n,o){o=o||1;var i,a,s,l,u,c,f,p,h=[];for(i=0,a=t.length;i<a;i++)if(u=r[t[i]]){for(p=null,s=0,l=u[1].length;s<l;s+=2)u[1][s]===-1&&u[1][s+1]===-1?p=null:(c=e+u[1][s]*o,f=n-u[1][s+1]*o,p&&h.push(p.x,p.y,c,f),p={x:c,y:f});e+=u[0]*o}return h}},{}],296:[function(t,e,n){"use strict";var r=e.exports={};r.version=t("../package.json").version,r.Map=t("./ui/map"),r.Control=t("./ui/control/control"),r.Navigation=t("./ui/control/navigation"),r.Geolocate=t("./ui/control/geolocate"),r.Attribution=t("./ui/control/attribution"),r.Popup=t("./ui/popup"),r.Marker=t("./ui/marker"),r.Style=t("./style/style"),r.LngLat=t("./geo/lng_lat"),r.LngLatBounds=t("./geo/lng_lat_bounds"),r.Point=t("point-geometry"),r.Evented=t("./util/evented"),r.util=t("./util/util"),r.supported=t("./util/browser").supported;var o=t("./util/ajax");r.util.getJSON=o.getJSON,r.util.getArrayBuffer=o.getArrayBuffer;var i=t("./util/config");r.config=i,Object.defineProperty(r,"accessToken",{get:function(){return i.ACCESS_TOKEN},set:function(t){i.ACCESS_TOKEN=t}})},{"../package.json":472,"./geo/lng_lat":292,"./geo/lng_lat_bounds":293,"./style/style":331,"./ui/control/attribution":362,"./ui/control/control":363,"./ui/control/geolocate":364,"./ui/control/navigation":365,"./ui/map":374,"./ui/marker":375,"./ui/popup":376,"./util/ajax":378,"./util/browser":379,"./util/config":384,"./util/evented":387,"./util/util":395,"point-geometry":453}],297:[function(t,e,n){"use strict";e.exports=function(t){for(var e={define:{},initialize:{}},n=0;n<t.length;n++){var r=t[n],o="{precision} "+(1===r.components?"float":"vec"+r.components);e.define[r.name.slice(2)]="uniform "+o+" "+r.name+";\n",e.initialize[r.name.slice(2)]=o+" "+r.name.slice(2)+" = "+r.name+";\n"}return e}},{}],298:[function(t,e,n){"use strict";function r(t,e,n){var r,s=t.gl,l=t.transform,u=n.paint["background-color"],c=n.paint["background-pattern"],f=n.paint["background-opacity"],p=c?t.spriteAtlas.getPosition(c.from,!0):null,h=c?t.spriteAtlas.getPosition(c.to,!0):null;if(t.setDepthSublayer(0),p&&h){if(t.isOpaquePass)return;r=t.useProgram("pattern"),s.uniform1i(r.u_image,0),s.uniform2fv(r.u_pattern_tl_a,p.tl),s.uniform2fv(r.u_pattern_br_a,p.br),s.uniform2fv(r.u_pattern_tl_b,h.tl),s.uniform2fv(r.u_pattern_br_b,h.br),s.uniform1f(r.u_opacity,f),s.uniform1f(r.u_mix,c.t),s.uniform2fv(r.u_pattern_size_a,p.size),s.uniform2fv(r.u_pattern_size_b,h.size),s.uniform1f(r.u_scale_a,c.fromScale),s.uniform1f(r.u_scale_b,c.toScale),s.activeTexture(s.TEXTURE0),t.spriteAtlas.bind(s,!0),t.tileExtentPatternVAO.bind(s,r,t.tileExtentBuffer)}else{if(t.isOpaquePass!==(1===u[3]))return;var d=i([{name:"u_color",components:4},{name:"u_opacity",components:1}]);r=t.useProgram("fill",[],d,d),s.uniform4fv(r.u_color,u),s.uniform1f(r.u_opacity,f),t.tileExtentVAO.bind(s,r,t.tileExtentBuffer)}s.disable(s.STENCIL_TEST);for(var m=l.coveringTiles({tileSize:a}),y=0;y<m.length;y++){var v=m[y];if(p&&h){var g={coord:v,tileSize:a};s.uniform1f(r.u_tile_units_to_pixels,1/o(g,1,t.transform.tileZoom));var b=g.tileSize*Math.pow(2,t.transform.tileZoom-g.coord.z),_=b*(g.coord.x+v.w*Math.pow(2,g.coord.z)),x=b*g.coord.y;s.uniform2f(r.u_pixel_coord_upper,_>>16,x>>16),s.uniform2f(r.u_pixel_coord_lower,65535&_,65535&x)}s.uniformMatrix4fv(r.u_matrix,!1,t.transform.calculatePosMatrix(v)),s.drawArrays(s.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}s.stencilMask(0),s.stencilFunc(s.EQUAL,128,128)}var o=t("../source/pixels_to_tile_units"),i=t("./create_uniform_pragmas"),a=512;e.exports=r},{"../source/pixels_to_tile_units":316,"./create_uniform_pragmas":297}],299:[function(t,e,n){"use strict";function r(t,e,n,r){if(!t.isOpaquePass){var i=t.gl;t.setDepthSublayer(0),t.depthMask(!1),i.disable(i.STENCIL_TEST);for(var a=0;a<r.length;a++){var s=r[a],l=e.getTile(s),u=l.getBucket(n);if(u){var c=u.bufferGroups.circle;if(c){var f=u.paintAttributes.circle[n.id],p=t.useProgram("circle",f.defines,f.vertexPragmas,f.fragmentPragmas);"map"===n.paint["circle-pitch-scale"]?(i.uniform1i(p.u_scale_with_map,!0),i.uniform2f(p.u_extrude_scale,t.transform.pixelsToGLUnits[0]*t.transform.altitude,t.transform.pixelsToGLUnits[1]*t.transform.altitude)):(i.uniform1i(p.u_scale_with_map,!1),i.uniform2fv(p.u_extrude_scale,t.transform.pixelsToGLUnits)),i.uniform1f(p.u_devicepixelratio,o.devicePixelRatio),i.uniformMatrix4fv(p.u_matrix,!1,t.translatePosMatrix(s.posMatrix,l,n.paint["circle-translate"],n.paint["circle-translate-anchor"])),u.setUniforms(i,"circle",p,n,{zoom:t.transform.zoom});for(var h=0;h<c.length;h++){var d=c[h];d.vaos[n.id].bind(i,p,d.layoutVertexBuffer,d.elementBuffer,d.paintVertexBuffers[n.id]),i.drawElements(i.TRIANGLES,3*d.elementBuffer.length,i.UNSIGNED_SHORT,0)}}}}}}var o=t("../util/browser");e.exports=r},{"../util/browser":379}],300:[function(t,e,n){"use strict";function r(t,e,n,r){var o=t.gl;o.enable(o.STENCIL_TEST);for(var i=t.useProgram("collisionbox"),a=0;a<r.length;a++){var s=r[a],l=e.getTile(s),u=l.getBucket(n);if(u){var c=u.bufferGroups.collisionBox;if(c&&c.length){var f=c[0];0!==f.layoutVertexBuffer.length&&(o.uniformMatrix4fv(i.u_matrix,!1,s.posMatrix),t.enableTileClippingMask(s),t.lineWidth(1),o.uniform1f(i.u_scale,Math.pow(2,t.transform.zoom-l.coord.z)),o.uniform1f(i.u_zoom,10*t.transform.zoom),o.uniform1f(i.u_maxzoom,10*(l.coord.z+1)),f.vaos[n.id].bind(o,i,f.layoutVertexBuffer),o.drawArrays(o.LINES,0,f.layoutVertexBuffer.length))}}}}e.exports=r},{}],301:[function(t,e,n){"use strict";function r(t,e,n){if(!t.isOpaquePass&&t.options.debug)for(var r=0;r<n.length;r++)o(t,e,n[r])}function o(t,e,n){var r=t.gl;r.disable(r.STENCIL_TEST),t.lineWidth(1*a.devicePixelRatio);var o=n.posMatrix,f=t.useProgram("debug");r.uniformMatrix4fv(f.u_matrix,!1,o),r.uniform4f(f.u_color,1,0,0,1),t.debugVAO.bind(r,f,t.debugBuffer),r.drawArrays(r.LINE_STRIP,0,t.debugBuffer.length);for(var p=i(n.toString(),50,200,5),h=new t.PosArray,d=0;d<p.length;d+=2)h.emplaceBack(p[d],p[d+1]);var m=new u(h.serialize(),t.PosArray.serialize(),u.BufferType.VERTEX),y=new c;y.bind(r,f,m),r.uniform4f(f.u_color,1,1,1,1);for(var v=e.getTile(n).tileSize,g=l/(Math.pow(2,t.transform.zoom-n.z)*v),b=[[-1,-1],[-1,1],[1,-1],[1,1]],_=0;_<b.length;_++){var x=b[_];r.uniformMatrix4fv(f.u_matrix,!1,s.translate([],o,[g*x[0],g*x[1],0])),r.drawArrays(r.LINES,0,m.length)}r.uniform4f(f.u_color,0,0,0,1),r.uniformMatrix4fv(f.u_matrix,!1,o),r.drawArrays(r.LINES,0,m.length)}var i=t("../lib/debugtext"),a=t("../util/browser"),s=t("gl-matrix").mat4,l=t("../data/bucket").EXTENT,u=t("../data/buffer"),c=t("./vertex_array_object");e.exports=r},{"../data/bucket":282,"../data/buffer":287,"../lib/debugtext":295,"../util/browser":379,"./vertex_array_object":310,"gl-matrix":411}],302:[function(t,e,n){"use strict";function r(t,e,n,r){var a=t.gl;a.enable(a.STENCIL_TEST);var s;if(s=!n.paint["fill-pattern"]&&(n.isPaintValueFeatureConstant("fill-color")&&n.isPaintValueFeatureConstant("fill-opacity")&&1===n.paint["fill-color"][3]&&1===n.paint["fill-opacity"]),t.isOpaquePass===s){t.setDepthSublayer(1);for(var l=0;l<r.length;l++)o(t,e,n,r[l])}if(!t.isOpaquePass&&n.paint["fill-antialias"]){t.lineWidth(2),t.depthMask(!1);var u=n.getPaintProperty("fill-outline-color");(u||!n.paint["fill-pattern"])&&u?t.setDepthSublayer(2):t.setDepthSublayer(0);for(var c=0;c<r.length;c++)i(t,e,n,r[c])}}function o(t,e,n,r){var o=e.getTile(r),i=o.getBucket(n);if(i){var s=i.bufferGroups.fill;if(s){var l,u=t.gl,c=n.paint["fill-pattern"];if(c)l=t.useProgram("pattern"),a(c,n.paint["fill-opacity"],o,r,t,l),u.activeTexture(u.TEXTURE0),t.spriteAtlas.bind(u,!0);else{var f=i.paintAttributes.fill[n.id];l=t.useProgram("fill",f.defines,f.vertexPragmas,f.fragmentPragmas),i.setUniforms(u,"fill",l,n,{zoom:t.transform.zoom})}u.uniformMatrix4fv(l.u_matrix,!1,t.translatePosMatrix(r.posMatrix,o,n.paint["fill-translate"],n.paint["fill-translate-anchor"])),t.enableTileClippingMask(r);for(var p=0;p<s.length;p++){var h=s[p];h.vaos[n.id].bind(u,l,h.layoutVertexBuffer,h.elementBuffer,h.paintVertexBuffers[n.id]),u.drawElements(u.TRIANGLES,h.elementBuffer.length,u.UNSIGNED_SHORT,0)}}}}function i(t,e,n,r){var o=e.getTile(r),i=o.getBucket(n);if(i){var s,l=t.gl,u=i.bufferGroups.fill,c=n.paint["fill-pattern"],f=n.paint["fill-opacity"],p=n.getPaintProperty("fill-outline-color");if(c&&!p)s=t.useProgram("outlinepattern"),l.uniform2f(s.u_world,l.drawingBufferWidth,l.drawingBufferHeight);else{var h=i.paintAttributes.fill[n.id];s=t.useProgram("outline",h.defines,h.vertexPragmas,h.fragmentPragmas),l.uniform2f(s.u_world,l.drawingBufferWidth,l.drawingBufferHeight),l.uniform1f(s.u_opacity,f),i.setUniforms(l,"fill",s,n,{zoom:t.transform.zoom})}l.uniformMatrix4fv(s.u_matrix,!1,t.translatePosMatrix(r.posMatrix,o,n.paint["fill-translate"],n.paint["fill-translate-anchor"])),c&&a(c,f,o,r,t,s),t.enableTileClippingMask(r);for(var d=0;d<u.length;d++){var m=u[d];m.secondVaos[n.id].bind(l,s,m.layoutVertexBuffer,m.elementBuffer2,m.paintVertexBuffers[n.id]),l.drawElements(l.LINES,2*m.elementBuffer2.length,l.UNSIGNED_SHORT,0)}}}function a(t,e,n,r,o,i){var a=o.gl,l=o.spriteAtlas.getPosition(t.from,!0),u=o.spriteAtlas.getPosition(t.to,!0);if(l&&u){a.uniform1i(i.u_image,0),a.uniform2fv(i.u_pattern_tl_a,l.tl),a.uniform2fv(i.u_pattern_br_a,l.br),a.uniform2fv(i.u_pattern_tl_b,u.tl),a.uniform2fv(i.u_pattern_br_b,u.br),a.uniform1f(i.u_opacity,e),a.uniform1f(i.u_mix,t.t),a.uniform1f(i.u_tile_units_to_pixels,1/s(n,1,o.transform.tileZoom)),a.uniform2fv(i.u_pattern_size_a,l.size),a.uniform2fv(i.u_pattern_size_b,u.size),a.uniform1f(i.u_scale_a,t.fromScale),a.uniform1f(i.u_scale_b,t.toScale);var c=n.tileSize*Math.pow(2,o.transform.tileZoom-n.coord.z),f=c*(n.coord.x+r.w*Math.pow(2,n.coord.z)),p=c*n.coord.y;a.uniform2f(i.u_pixel_coord_upper,f>>16,p>>16),a.uniform2f(i.u_pixel_coord_lower,65535&f,65535&p),a.activeTexture(a.TEXTURE0),o.spriteAtlas.bind(a,!0)}}var s=t("../source/pixels_to_tile_units");e.exports=r},{"../source/pixels_to_tile_units":316}],303:[function(t,e,n){"use strict";var r=t("../util/browser"),o=t("gl-matrix").mat2,i=t("../source/pixels_to_tile_units");e.exports=function(t,e,n,a){if(!t.isOpaquePass){t.setDepthSublayer(0),t.depthMask(!1);var s=t.gl;if(s.enable(s.STENCIL_TEST),!(n.paint["line-width"]<=0)){var l=1/r.devicePixelRatio,u=n.paint["line-blur"]+l,c=n.paint["line-color"],f=t.transform,p=o.create();o.scale(p,p,[1,Math.cos(f._pitch)]),o.rotate(p,p,t.transform.angle);var h,d,m,y,v,g=Math.sqrt(f.height*f.height/4*(1+f.altitude*f.altitude)),b=f.height/2*Math.tan(f._pitch),_=(g+b)/g-1,x=n.paint["line-dasharray"],w=n.paint["line-pattern"];if(x)h=t.useProgram("linesdfpattern"),s.uniform1f(h.u_linewidth,n.paint["line-width"]/2),s.uniform1f(h.u_gapwidth,n.paint["line-gap-width"]/2),s.uniform1f(h.u_antialiasing,l/2),s.uniform1f(h.u_blur,u),s.uniform4fv(h.u_color,c),s.uniform1f(h.u_opacity,n.paint["line-opacity"]),d=t.lineAtlas.getDash(x.from,"round"===n.layout["line-cap"]),m=t.lineAtlas.getDash(x.to,"round"===n.layout["line-cap"]),s.uniform1i(h.u_image,0),s.activeTexture(s.TEXTURE0),t.lineAtlas.bind(s),s.uniform1f(h.u_tex_y_a,d.y),s.uniform1f(h.u_tex_y_b,m.y),s.uniform1f(h.u_mix,x.t),s.uniform1f(h.u_extra,_),s.uniform1f(h.u_offset,-n.paint["line-offset"]),s.uniformMatrix2fv(h.u_antialiasingmatrix,!1,p);else if(w){if(y=t.spriteAtlas.getPosition(w.from,!0),v=t.spriteAtlas.getPosition(w.to,!0),!y||!v)return;h=t.useProgram("linepattern"),s.uniform1i(h.u_image,0),s.activeTexture(s.TEXTURE0),t.spriteAtlas.bind(s,!0),s.uniform1f(h.u_linewidth,n.paint["line-width"]/2),s.uniform1f(h.u_gapwidth,n.paint["line-gap-width"]/2),s.uniform1f(h.u_antialiasing,l/2),s.uniform1f(h.u_blur,u),s.uniform2fv(h.u_pattern_tl_a,y.tl),s.uniform2fv(h.u_pattern_br_a,y.br),s.uniform2fv(h.u_pattern_tl_b,v.tl),s.uniform2fv(h.u_pattern_br_b,v.br),s.uniform1f(h.u_fade,w.t),s.uniform1f(h.u_opacity,n.paint["line-opacity"]),s.uniform1f(h.u_extra,_),s.uniform1f(h.u_offset,-n.paint["line-offset"]),s.uniformMatrix2fv(h.u_antialiasingmatrix,!1,p)}else h=t.useProgram("line"),s.uniform1f(h.u_linewidth,n.paint["line-width"]/2),s.uniform1f(h.u_gapwidth,n.paint["line-gap-width"]/2),s.uniform1f(h.u_antialiasing,l/2),s.uniform1f(h.u_blur,u),s.uniform1f(h.u_extra,_),s.uniform1f(h.u_offset,-n.paint["line-offset"]),s.uniformMatrix2fv(h.u_antialiasingmatrix,!1,p),s.uniform4fv(h.u_color,c),s.uniform1f(h.u_opacity,n.paint["line-opacity"]);for(var T=0;T<a.length;T++){var E=a[T],C=e.getTile(E),k=C.getBucket(n);if(k){var S=k.bufferGroups.line;if(S){t.enableTileClippingMask(E);var P=t.translatePosMatrix(E.posMatrix,C,n.paint["line-translate"],n.paint["line-translate-anchor"]);s.uniformMatrix4fv(h.u_matrix,!1,P);var M=1/i(C,1,t.transform.zoom);if(x){var A=d.width*x.fromScale,O=m.width*x.toScale,D=[1/i(C,A,t.transform.tileZoom),-d.height/2],L=[1/i(C,O,t.transform.tileZoom),-m.height/2],I=t.lineAtlas.width/(256*Math.min(A,O)*r.devicePixelRatio)/2;s.uniform1f(h.u_ratio,M),s.uniform2fv(h.u_patternscale_a,D),s.uniform2fv(h.u_patternscale_b,L),s.uniform1f(h.u_sdfgamma,I)}else w?(s.uniform1f(h.u_ratio,M),s.uniform2fv(h.u_pattern_size_a,[i(C,y.size[0]*w.fromScale,t.transform.tileZoom),v.size[1]]),s.uniform2fv(h.u_pattern_size_b,[i(C,v.size[0]*w.toScale,t.transform.tileZoom),v.size[1]])):s.uniform1f(h.u_ratio,M);for(var j=0;j<S.length;j++){var F=S[j];F.vaos[n.id].bind(s,h,F.layoutVertexBuffer,F.elementBuffer),s.drawElements(s.TRIANGLES,3*F.elementBuffer.length,s.UNSIGNED_SHORT,0)}}}}}}}},{"../source/pixels_to_tile_units":316,"../util/browser":379,"gl-matrix":411}],304:[function(t,e,n){"use strict";function r(t,e,n,r){if(!t.isOpaquePass){var i=t.gl;i.enable(i.DEPTH_TEST),t.depthMask(!0),i.depthFunc(i.LESS);for(var a=r.length&&r[0].z,s=0;s<r.length;s++){var l=r[s];t.setDepthSublayer(l.z-a),o(t,e,n,l)}i.depthFunc(i.LEQUAL)}}function o(t,e,n,r){var o=t.gl;o.disable(o.STENCIL_TEST);var u=e.getTile(r),c=t.transform.calculatePosMatrix(r,e.maxzoom),f=t.useProgram("raster");o.uniformMatrix4fv(f.u_matrix,!1,c),o.uniform1f(f.u_brightness_low,n.paint["raster-brightness-min"]),o.uniform1f(f.u_brightness_high,n.paint["raster-brightness-max"]),o.uniform1f(f.u_saturation_factor,s(n.paint["raster-saturation"])),o.uniform1f(f.u_contrast_factor,a(n.paint["raster-contrast"])),o.uniform3fv(f.u_spin_weights,i(n.paint["raster-hue-rotate"]));var p,h,d=u.source&&u.source.findLoadedParent(r,0,{}),m=l(u,d,n,t.transform);o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,u.texture),o.activeTexture(o.TEXTURE1),d?(o.bindTexture(o.TEXTURE_2D,d.texture),p=Math.pow(2,d.coord.z-u.coord.z),h=[u.coord.x*p%1,u.coord.y*p%1]):(o.bindTexture(o.TEXTURE_2D,u.texture),m[1]=0),o.uniform2fv(f.u_tl_parent,h||[0,0]),o.uniform1f(f.u_scale_parent,p||1),o.uniform1f(f.u_buffer_scale,1),o.uniform1f(f.u_opacity0,m[0]),o.uniform1f(f.u_opacity1,m[1]),o.uniform1i(f.u_image0,0),o.uniform1i(f.u_image1,1);var y=u.boundsBuffer||t.rasterBoundsBuffer,v=u.boundsVAO||t.rasterBoundsVAO;v.bind(o,f,y),o.drawArrays(o.TRIANGLE_STRIP,0,y.length)}function i(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}function a(t){return t>0?1/(1-t):1+t}function s(t){return t>0?1-1/(1.001-t):-t}function l(t,e,n,r){var o=[1,0],i=n.paint["raster-fade-duration"];if(t.source&&i>0){var a=(new Date).getTime(),s=(a-t.timeAdded)/i,l=e?(a-e.timeAdded)/i:-1,c=r.coveringZoomLevel(t.source),f=!!e&&Math.abs(e.coord.z-c)>Math.abs(t.coord.z-c);!e||f?(o[0]=u.clamp(s,0,1),o[1]=1-o[0]):(o[0]=u.clamp(1-l,0,1),o[1]=1-o[0])}var p=n.paint["raster-opacity"];return o[0]*=p,o[1]*=p,o}var u=t("../util/util"),c=t("../util/struct_array");e.exports=r,r.RasterBoundsArray=new c({members:[{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]})},{"../util/struct_array":393,"../util/util":395}],305:[function(t,e,n){"use strict";function r(t,e,n,r){if(!t.isOpaquePass){var i=!(n.layout["text-allow-overlap"]||n.layout["icon-allow-overlap"]||n.layout["text-ignore-placement"]||n.layout["icon-ignore-placement"]),a=t.gl;i?a.disable(a.STENCIL_TEST):a.enable(a.STENCIL_TEST),t.setDepthSublayer(0),t.depthMask(!1),a.disable(a.DEPTH_TEST),o(t,e,n,r,!1,n.paint["icon-translate"],n.paint["icon-translate-anchor"],n.layout["icon-rotation-alignment"],n.layout["icon-rotation-alignment"],n.layout["icon-size"],n.paint["icon-halo-width"],n.paint["icon-halo-color"],n.paint["icon-halo-blur"],n.paint["icon-opacity"],n.paint["icon-color"]),o(t,e,n,r,!0,n.paint["text-translate"],n.paint["text-translate-anchor"],n.layout["text-rotation-alignment"],n.layout["text-pitch-alignment"],n.layout["text-size"],n.paint["text-halo-width"],n.paint["text-halo-color"],n.paint["text-halo-blur"],n.paint["text-opacity"],n.paint["text-color"]),a.enable(a.DEPTH_TEST),e.map.showCollisionBoxes&&s(t,e,n,r)}}function o(t,e,n,r,o,a,s,l,u,c,f,p,h,d,m){for(var y=0;y<r.length;y++){var v=e.getTile(r[y]),g=v.getBucket(n);if(g){var b=g.bufferGroups,_=o?b.glyph:b.icon;_.length&&(t.enableTileClippingMask(r[y]),i(t,n,r[y].posMatrix,v,g,_,o,o||g.sdfIcons,!o&&g.iconsNeedLinear,o?g.adjustedTextSize:g.adjustedIconSize,g.fontstack,a,s,l,u,c,f,p,h,d,m))}}}function i(t,e,n,r,o,i,s,u,c,f,p,h,d,m,y,v,g,b,_,x,w){var T,E,C,k=t.gl,S=t.transform,P="map"===m,M="map"===y,A=s?24:1,O=v/A;if(M?(E=l(r,1,t.transform.zoom)*O,C=1/Math.cos(S._pitch),T=[E,E]):(E=t.transform.altitude*O,C=1,T=[S.pixelsToGLUnits[0]*E,S.pixelsToGLUnits[1]*E]),s||t.style.sprite.loaded()){var D=t.useProgram(u?"sdf":"icon");if(k.uniformMatrix4fv(D.u_matrix,!1,t.translatePosMatrix(n,r,h,d)),k.uniform1i(D.u_rotate_with_map,P),k.uniform1i(D.u_pitch_with_map,M),k.uniform2fv(D.u_extrude_scale,T),k.activeTexture(k.TEXTURE0),k.uniform1i(D.u_texture,0),s){var L=p&&t.glyphSource.getGlyphAtlas(p);if(!L)return;L.updateTexture(k),k.uniform2f(D.u_texsize,L.width/4,L.height/4)}else{var I=t.options.rotating||t.options.zooming,j=1!==O||a.devicePixelRatio!==t.spriteAtlas.pixelRatio||c,F=M||t.transform.pitch;t.spriteAtlas.bind(k,u||I||j||F),k.uniform2f(D.u_texsize,t.spriteAtlas.width/4,t.spriteAtlas.height/4)}var R=Math.log(v/f)/Math.LN2||0;k.uniform1f(D.u_zoom,10*(t.transform.zoom-R)),k.activeTexture(k.TEXTURE1),t.frameHistory.bind(k),k.uniform1i(D.u_fadetexture,1);var N;if(u){var z=8,B=1.19,U=6,W=.105*A/v/a.devicePixelRatio;if(g){k.uniform1f(D.u_gamma,(_*B/O/z+W)*C),k.uniform4fv(D.u_color,b),k.uniform1f(D.u_opacity,x),k.uniform1f(D.u_buffer,(U-g/O)/z);for(var q=0;q<i.length;q++)N=i[q],N.vaos[e.id].bind(k,D,N.layoutVertexBuffer,N.elementBuffer),k.drawElements(k.TRIANGLES,3*N.elementBuffer.length,k.UNSIGNED_SHORT,0)}k.uniform1f(D.u_gamma,W*C),k.uniform4fv(D.u_color,w),k.uniform1f(D.u_opacity,x),k.uniform1f(D.u_buffer,.75),k.uniform1f(D.u_pitch,S.pitch/360*2*Math.PI),k.uniform1f(D.u_bearing,S.bearing/360*2*Math.PI),k.uniform1f(D.u_aspect_ratio,S.width/S.height);for(var V=0;V<i.length;V++)N=i[V],N.vaos[e.id].bind(k,D,N.layoutVertexBuffer,N.elementBuffer),k.drawElements(k.TRIANGLES,3*N.elementBuffer.length,k.UNSIGNED_SHORT,0)}else{k.uniform1f(D.u_opacity,x);for(var H=0;H<i.length;H++)N=i[H],N.vaos[e.id].bind(k,D,N.layoutVertexBuffer,N.elementBuffer),k.drawElements(k.TRIANGLES,3*N.elementBuffer.length,k.UNSIGNED_SHORT,0)}}}var a=t("../util/browser"),s=t("./draw_collision_debug"),l=t("../source/pixels_to_tile_units");e.exports=r},{"../source/pixels_to_tile_units":316,"../util/browser":379,"./draw_collision_debug":300}],306:[function(t,e,n){"use strict";function r(){this.changeTimes=new Float64Array(256),this.changeOpacities=new Uint8Array(256),this.opacities=new Uint8ClampedArray(256),this.array=new Uint8Array(this.opacities.buffer),this.fadeDuration=300,this.previousZoom=0,this.firstFrame=!0}e.exports=r,r.prototype.record=function(t){var e=Date.now();this.firstFrame&&(e=0,this.firstFrame=!1),t=Math.floor(10*t);var n;if(t<this.previousZoom)for(n=t+1;n<=this.previousZoom;n++)this.changeTimes[n]=e,this.changeOpacities[n]=this.opacities[n];else for(n=t;n>this.previousZoom;n--)this.changeTimes[n]=e,this.changeOpacities[n]=this.opacities[n];for(n=0;n<256;n++){var r=e-this.changeTimes[n],o=r/this.fadeDuration*255;n<=t?this.opacities[n]=this.changeOpacities[n]+o:this.opacities[n]=this.changeOpacities[n]-o}this.changed=!0,this.previousZoom=t},r.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.changed&&(t.texSubImage2D(t.TEXTURE_2D,0,0,0,256,1,t.ALPHA,t.UNSIGNED_BYTE,this.array),this.changed=!1)):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,256,1,0,t.ALPHA,t.UNSIGNED_BYTE,this.array))}},{}],307:[function(t,e,n){"use strict";function r(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}}var o=t("../util/util");e.exports=r,r.prototype.setSprite=function(t){this.sprite=t},r.prototype.getDash=function(t,e){var n=t.join(",")+e;return this.positions[n]||(this.positions[n]=this.addDash(t,e)),this.positions[n]},r.prototype.addDash=function(t,e){var n=e?7:0,r=2*n+1,i=128;if(this.nextRow+r>this.height)return o.warnOnce("LineAtlas out of space"),null;for(var a=0,s=0;s<t.length;s++)a+=t[s];for(var l=this.width/a,u=l/2,c=t.length%2===1,f=-n;f<=n;f++)for(var p=this.nextRow+n+f,h=this.width*p,d=c?-t[t.length-1]:0,m=t[0],y=1,v=0;v<this.width;v++){for(;m<v/l;)d=m,m+=t[y],c&&y===t.length-1&&(m+=t[0]),y++;var g,b=Math.abs(v-d*l),_=Math.abs(v-m*l),x=Math.min(b,_),w=y%2===1;if(e){var T=n?f/n*(u+1):0;if(w){var E=u-Math.abs(T);g=Math.sqrt(x*x+E*E)}else g=u-Math.sqrt(x*x+T*T)}else g=(w?1:-1)*x;this.data[3+4*(h+v)]=Math.max(0,Math.min(255,g+i))}var C={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:a};return this.nextRow+=r,this.dirty=!0,C},r.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))}},{"../util/util":395}],308:[function(t,e,n){"use strict";function r(t,e){this.gl=t,this.transform=e,this.reusableTextures={},this.preFbos={},this.frameHistory=new a,this.setup(),this.numSublayers=s.maxUnderzooming+s.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.lineWidthRange=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE)}var o=t("../util/browser"),i=t("gl-matrix").mat4,a=t("./frame_history"),s=t("../source/source_cache"),l=t("../data/bucket").EXTENT,u=t("../source/pixels_to_tile_units"),c=t("../util/util"),f=t("../util/struct_array"),p=t("../data/buffer"),h=t("./vertex_array_object"),d=t("./draw_raster").RasterBoundsArray,m=t("./create_uniform_pragmas");e.exports=r,c.extend(r.prototype,t("./painter/use_program")),r.prototype.resize=function(t,e){var n=this.gl;this.width=t*o.devicePixelRatio,this.height=e*o.devicePixelRatio,n.viewport(0,0,this.width,this.height)},r.prototype.setup=function(){var t=this.gl;t.verbose=!0,t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.enable(t.STENCIL_TEST),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),this._depthMask=!1,t.depthMask(!1);var e=this.PosArray=new f({members:[{name:"a_pos",type:"Int16",components:2}]}),n=new e;n.emplaceBack(0,0),n.emplaceBack(l,0),n.emplaceBack(0,l),n.emplaceBack(l,l),this.tileExtentBuffer=new p(n.serialize(),e.serialize(),p.BufferType.VERTEX),this.tileExtentVAO=new h,this.tileExtentPatternVAO=new h;var r=new e;r.emplaceBack(0,0),r.emplaceBack(l,0),r.emplaceBack(l,l),r.emplaceBack(0,l),r.emplaceBack(0,0),this.debugBuffer=new p(r.serialize(),e.serialize(),p.BufferType.VERTEX),this.debugVAO=new h;var o=new d;o.emplaceBack(0,0,0,0),o.emplaceBack(l,0,32767,0),o.emplaceBack(0,l,0,32767),o.emplaceBack(l,l,32767,32767),this.rasterBoundsBuffer=new p(o.serialize(),d.serialize(),p.BufferType.VERTEX),this.rasterBoundsVAO=new h},r.prototype.clearColor=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},r.prototype.clearStencil=function(){var t=this.gl;t.clearStencil(0),t.stencilMask(255),t.clear(t.STENCIL_BUFFER_BIT)},r.prototype.clearDepth=function(){var t=this.gl;t.clearDepth(1),this.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT)},r.prototype._renderTileClippingMasks=function(t){var e=this.gl;e.colorMask(!1,!1,!1,!1),this.depthMask(!1),e.disable(e.DEPTH_TEST),e.enable(e.STENCIL_TEST),e.stencilMask(248),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE);var n=1;this._tileClippingMaskIDs={};for(var r=0;r<t.length;r++){var o=t[r],i=this._tileClippingMaskIDs[o.id]=n++<<3;e.stencilFunc(e.ALWAYS,i,248);var a=m([{name:"u_color",components:4},{name:"u_opacity",components:1}]),s=this.useProgram("fill",[],a,a);e.uniformMatrix4fv(s.u_matrix,!1,o.posMatrix),this.tileExtentVAO.bind(e,s,this.tileExtentBuffer),e.drawArrays(e.TRIANGLE_STRIP,0,this.tileExtentBuffer.length)}e.stencilMask(0),e.colorMask(!0,!0,!0,!0),this.depthMask(!0),e.enable(e.DEPTH_TEST)},r.prototype.enableTileClippingMask=function(t){var e=this.gl;e.stencilFunc(e.EQUAL,this._tileClippingMaskIDs[t.id],248)},r.prototype.prepareBuffers=function(){},r.prototype.bindDefaultFramebuffer=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)};var y={symbol:t("./draw_symbol"),circle:t("./draw_circle"),line:t("./draw_line"),fill:t("./draw_fill"),raster:t("./draw_raster"),background:t("./draw_background"),debug:t("./draw_debug")};r.prototype.render=function(t,e){this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.spriteAtlas=t.spriteAtlas,this.spriteAtlas.setSprite(t.sprite),this.glyphSource=t.glyphSource,this.frameHistory.record(this.transform.zoom),this.prepareBuffers(),this.clearColor(),this.clearDepth(),this.showOverdrawInspector(e.showOverdrawInspector),this.depthRange=(t._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass({isOpaquePass:!0}),this.renderPass({isOpaquePass:!1})},r.prototype.renderPass=function(t){var e=this.style._groups,n=t.isOpaquePass;this.currentLayer=n?this.style._order.length:-1;for(var r=0;r<e.length;r++){var o,i=e[n?e.length-1-r:r],a=this.style.sources[i.source],s=[];if(a){for(s=a.getVisibleCoordinates(),o=0;o<s.length;o++)s[o].posMatrix=this.transform.calculatePosMatrix(s[o],a.maxzoom);this.clearStencil(),a.prepare&&a.prepare(),a.isTileClipped&&this._renderTileClippingMasks(s)}for(n?(this._showOverdrawInspector||this.gl.disable(this.gl.BLEND),this.isOpaquePass=!0):(this.gl.enable(this.gl.BLEND),this.isOpaquePass=!1,s.reverse()),o=0;o<i.length;o++){var l=i[n?i.length-1-o:o];this.currentLayer+=n?-1:1,this.renderLayer(this,a,l,s)}a&&y.debug(this,a,s)}},r.prototype.depthMask=function(t){t!==this._depthMask&&(this._depthMask=t,this.gl.depthMask(t))},r.prototype.renderLayer=function(t,e,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||r.length)&&(this.id=n.id,y[n.type](t,e,n,r))},r.prototype.setDepthSublayer=function(t){var e=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,n=e-1+this.depthRange;this.gl.depthRange(n,e)},r.prototype.translatePosMatrix=function(t,e,n,r){if(!n[0]&&!n[1])return t;if("viewport"===r){var o=Math.sin(-this.transform.angle),a=Math.cos(-this.transform.angle);n=[n[0]*a-n[1]*o,n[0]*o+n[1]*a]}var s=[u(e,n[0],this.transform.zoom),u(e,n[1],this.transform.zoom),0],l=new Float32Array(16);return i.translate(l,t,s),l},r.prototype.saveTexture=function(t){var e=this.reusableTextures[t.size];e?e.push(t):this.reusableTextures[t.size]=[t]},r.prototype.getTexture=function(t){var e=this.reusableTextures[t];return e&&e.length>0?e.pop():null},r.prototype.lineWidth=function(t){this.gl.lineWidth(c.clamp(t,this.lineWidthRange[0],this.lineWidthRange[1]))},r.prototype.showOverdrawInspector=function(t){if(t||this._showOverdrawInspector){this._showOverdrawInspector=t;var e=this.gl;if(t){e.blendFunc(e.CONSTANT_COLOR,e.ONE);var n=8,r=1/n;e.blendColor(r,r,r,0),e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)}else e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}}},{"../data/bucket":282,"../data/buffer":287,"../source/pixels_to_tile_units":316,"../source/source_cache":320,"../util/browser":379,"../util/struct_array":393,"../util/util":395,"./create_uniform_pragmas":297,"./draw_background":298,"./draw_circle":299,"./draw_debug":301,"./draw_fill":302,"./draw_line":303,"./draw_raster":304,"./draw_symbol":305,"./frame_history":306,"./painter/use_program":309,"./vertex_array_object":310,"gl-matrix":411}],309:[function(t,e,n){"use strict";function r(t,e){return t.replace(/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,function(t,n,r,o,i){return e[n][i].replace(/{type}/g,o).replace(/{precision}/g,r)})}var o=t("../../util/util"),i=t("mapbox-gl-shaders"),a=i.util;e.exports._createProgram=function(t,e,n,s){for(var l=this.gl,u=l.createProgram(),c=i[t],f="#define MAPBOX_GL_JS;\n",p=0;p<e.length;p++)f+="#define "+e[p]+";\n";var h=l.createShader(l.FRAGMENT_SHADER);l.shaderSource(h,r(f+c.fragmentSource,s)),l.compileShader(h),l.attachShader(u,h);var d=l.createShader(l.VERTEX_SHADER);l.shaderSource(d,r(f+a+c.vertexSource,n)),l.compileShader(d),l.attachShader(u,d),l.linkProgram(u);for(var m={},y=l.getProgramParameter(u,l.ACTIVE_ATTRIBUTES),v=0;v<y;v++){var g=l.getActiveAttrib(u,v);
m[g.name]=l.getAttribLocation(u,g.name)}for(var b={},_=l.getProgramParameter(u,l.ACTIVE_UNIFORMS),x=0;x<_;x++){var w=l.getActiveUniform(u,x);b[w.name]=l.getUniformLocation(u,w.name)}return o.extend({program:u,definition:c,attributes:m,numAttributes:y},m,b)},e.exports._createProgramCached=function(t,e,n,r){this.cache=this.cache||{};var o=JSON.stringify({name:t,defines:e,vertexPragmas:n,fragmentPragmas:r});return this.cache[o]||(this.cache[o]=this._createProgram(t,e,n,r)),this.cache[o]},e.exports.useProgram=function(t,e,n,r){var o=this.gl;e=e||[],this._showOverdrawInspector&&(e=e.concat("OVERDRAW_INSPECTOR"));var i=this._createProgramCached(t,e,n,r),a=this.currentProgram;return a!==i&&(o.useProgram(i.program),this.currentProgram=i),i}},{"../../util/util":395,"mapbox-gl-shaders":423}],310:[function(t,e,n){"use strict";function r(){this.boundProgram=null,this.boundVertexBuffer=null,this.boundVertexBuffer2=null,this.boundElementBuffer=null,this.vao=null}e.exports=r,r.prototype.bind=function(t,e,n,r,o){void 0===t.extVertexArrayObject&&(t.extVertexArrayObject=t.getExtension("OES_vertex_array_object"));var i=!this.vao||this.boundProgram!==e||this.boundVertexBuffer!==n||this.boundVertexBuffer2!==o||this.boundElementBuffer!==r;!t.extVertexArrayObject||i?this.freshBind(t,e,n,r,o):t.extVertexArrayObject.bindVertexArrayOES(this.vao)},r.prototype.freshBind=function(t,e,n,r,o){var i,a=e.numAttributes;if(t.extVertexArrayObject)this.vao&&this.destroy(t),this.vao=t.extVertexArrayObject.createVertexArrayOES(),t.extVertexArrayObject.bindVertexArrayOES(this.vao),i=0,this.boundProgram=e,this.boundVertexBuffer=n,this.boundVertexBuffer2=o,this.boundElementBuffer=r;else{i=t.currentNumAttributes||0;for(var s=a;s<i;s++)t.disableVertexAttribArray(s)}for(var l=i;l<a;l++)t.enableVertexAttribArray(l);n.bind(t),n.setVertexAttribPointers(t,e),o&&(o.bind(t),o.setVertexAttribPointers(t,e)),r&&r.bind(t),t.currentNumAttributes=a},r.prototype.unbind=function(t){var e=t.extVertexArrayObject;e&&e.bindVertexArrayOES(null)},r.prototype.destroy=function(t){var e=t.extVertexArrayObject;e&&this.vao&&(e.deleteVertexArrayOES(this.vao),this.vao=null)}},{}],311:[function(t,e,n){"use strict";function r(t,e,n){e=e||{},this.id=t,this.dispatcher=n,this._data=e.data,void 0!==e.maxzoom&&(this.maxzoom=e.maxzoom),e.type&&(this.type=e.type);var r=s/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:e.cluster||!1,geojsonVtOptions:{buffer:(void 0!==e.buffer?e.buffer:128)*r,tolerance:(void 0!==e.tolerance?e.tolerance:.375)*r,extent:s,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:Math.min(e.clusterMaxZoom,this.maxzoom-1)||this.maxzoom-1,extent:s,radius:(e.clusterRadius||50)*r,log:!1}},e.workerOptions),this._updateWorkerData(function(t){return t?void this.fire("error",{error:t}):void this.fire("load")}.bind(this))}var o=t("../util/evented"),i=t("../util/util"),a=t("resolve-url"),s=t("../data/bucket").EXTENT;e.exports=r,r.prototype=i.inherit(o,{type:"geojson",minzoom:0,maxzoom:18,tileSize:512,isTileClipped:!0,reparseOverscaled:!0,onAdd:function(t){this.map=t},setData:function(t){return this._data=t,this._updateWorkerData(function(t){return t?this.fire("error",{error:t}):void this.fire("change")}.bind(this)),this},_updateWorkerData:function(t){var e=i.extend({},this.workerOptions),n=this._data;"string"==typeof n?e.url="undefined"!=typeof window?a(window.location.href,n):n:e.data=JSON.stringify(n),this.workerID=this.dispatcher.send(this.type+".loadData",e,function(e){this._loaded=!0,t(e)}.bind(this))},loadTile:function(t,e){var n=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,r={type:this.type,uid:t.uid,coord:t.coord,zoom:t.coord.z,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,overscaling:n,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send("load tile",r,function(n,r){if(t.unloadVectorData(this.map.painter),!t.aborted)return n?e(n):(t.loadVectorData(r,this.map.style),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(this)),e(null))}.bind(this),this.workerID)},abortTile:function(t){t.aborted=!0},unloadTile:function(t){t.unloadVectorData(this.map.painter),this.dispatcher.send("remove tile",{uid:t.uid,source:this.id},function(){},t.workerID)},serialize:function(){return{type:this.type,data:this._data}}})},{"../data/bucket":282,"../util/evented":387,"../util/util":395,"resolve-url":455}],312:[function(t,e,n){"use strict";function r(t,e,n){n&&(this.loadGeoJSON=n),f.call(this,t,e)}var o=t("../util/util"),i=t("../util/ajax"),a=t("geojson-rewind"),s=t("./geojson_wrapper"),l=t("vt-pbf"),u=t("supercluster"),c=t("geojson-vt"),f=t("./vector_tile_worker_source");e.exports=r,r.prototype=o.inherit(f,{_geoJSONIndexes:{},loadVectorData:function(t,e){var n=t.source,r=t.coord;if(!this._geoJSONIndexes[n])return e(null,null);var o=this._geoJSONIndexes[n].getTile(Math.min(r.z,t.maxZoom),r.x,r.y);if(!o)return e(null,null);var i=new s(o.features);i.name="_geojsonTileLayer";var a=l({layers:{_geojsonTileLayer:i}});0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),e(null,{tile:i,rawTileData:a.buffer})},loadData:function(t,e){var n=function(n,r){return n?e(n):"object"!=typeof r?e(new Error("Input data is not a valid GeoJSON object.")):(a(r,!0),void this._indexData(r,t,function(n,r){return n?e(n):(this._geoJSONIndexes[t.source]=r,void e(null))}.bind(this)))}.bind(this);this.loadGeoJSON(t,n)},loadGeoJSON:function(t,e){if(t.url)i.getJSON(t.url,e);else{if("string"!=typeof t.data)return e(new Error("Input data is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(n){return e(new Error("Input data is not a valid GeoJSON object."))}}},_indexData:function(t,e,n){try{e.cluster?n(null,u(e.superclusterOptions).load(t.features)):n(null,c(t,e.geojsonVtOptions))}catch(r){return n(r)}}})},{"../util/ajax":378,"../util/util":395,"./geojson_wrapper":313,"./vector_tile_worker_source":324,"geojson-rewind":400,"geojson-vt":406,supercluster:457,"vt-pbf":467}],313:[function(t,e,n){"use strict";function r(t){this.features=t,this.length=t.length,this.extent=s}function o(t){if(this.type=t.type,1===t.type){this.rawGeometry=[];for(var e=0;e<t.geometry.length;e++)this.rawGeometry.push([t.geometry[e]])}else this.rawGeometry=t.geometry;this.properties=t.tags,this.extent=s}var i=t("point-geometry"),a=t("vector-tile").VectorTileFeature,s=t("../data/bucket").EXTENT;e.exports=r,r.prototype.feature=function(t){return new o(this.features[t])},o.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],r=[],o=0;o<n.length;o++)r.push(new i(n[o][0],n[o][1]));this.geometry.push(r)}return this.geometry},o.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-(1/0),r=1/0,o=-(1/0),i=0;i<t.length;i++)for(var a=t[i],s=0;s<a.length;s++){var l=a[s];e=Math.min(e,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),o=Math.max(o,l.y)}return[e,r,n,o]},o.prototype.toGeoJSON=a.prototype.toGeoJSON},{"../data/bucket":282,"point-geometry":453,"vector-tile":463}],314:[function(t,e,n){"use strict";function r(t,e,n){this.id=t,this.dispatcher=n,this.url=e.url,this.coordinates=e.coordinates,u.getImage(e.url,function(t,n){return t?this.fire("error",{error:t}):(this.image=n,this.image.addEventListener("load",function(){this.map._rerender()}.bind(this)),this._loaded=!0,this.fire("load"),void(this.map&&this.setCoordinates(e.coordinates)))}.bind(this))}var o=t("../util/util"),i=t("./tile_coord"),a=t("../geo/lng_lat"),s=t("point-geometry"),l=t("../util/evented"),u=t("../util/ajax"),c=t("../data/bucket").EXTENT,f=t("../render/draw_raster").RasterBoundsArray,p=t("../data/buffer"),h=t("../render/vertex_array_object");e.exports=r,r.prototype=o.inherit(l,{minzoom:0,maxzoom:22,tileSize:512,onAdd:function(t){this.map=t,this.image&&this.setCoordinates(this.coordinates)},setCoordinates:function(t){this.coordinates=t;var e=this.map,n=t.map(function(t){return e.transform.locationCoordinate(a.convert(t)).zoomTo(0)}),r=this.centerCoord=o.getCoordinatesCenter(n);return r.column=Math.round(r.column),r.row=Math.round(r.row),this.minzoom=this.maxzoom=r.zoom,this._coord=new i(r.zoom,r.column,r.row),this._tileCoords=n.map(function(t){var e=t.zoomTo(r.zoom);return new s(Math.round((e.column-r.column)*c),Math.round((e.row-r.row)*c))}),this.fire("change"),this},_setTile:function(t){this._prepared=!1,this.tile=t;var e=32767,n=new f;n.emplaceBack(this._tileCoords[0].x,this._tileCoords[0].y,0,0),n.emplaceBack(this._tileCoords[1].x,this._tileCoords[1].y,e,0),n.emplaceBack(this._tileCoords[3].x,this._tileCoords[3].y,0,e),n.emplaceBack(this._tileCoords[2].x,this._tileCoords[2].y,e,e),this.tile.buckets={},this.tile.boundsBuffer=new p(n.serialize(),f.serialize(),p.BufferType.VERTEX),this.tile.boundsVAO=new h,this.tile.state="loaded"},prepare:function(){if(this._loaded&&this.image&&this.image.complete&&this.tile){var t=this.map.painter,e=t.gl;this._prepared?(e.bindTexture(e.TEXTURE_2D,this.tile.texture),e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,this.image)):(this.tile.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.tile.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.image))}},loadTile:function(t,e){this._coord&&this._coord.toString()===t.coord.toString()?(this._setTile(t),e(null)):(t.state="errored",e(null))},serialize:function(){return{type:"image",urls:this.url,coordinates:this.coordinates}}})},{"../data/bucket":282,"../data/buffer":287,"../geo/lng_lat":292,"../render/draw_raster":304,"../render/vertex_array_object":310,"../util/ajax":378,"../util/evented":387,"../util/util":395,"./tile_coord":322,"point-geometry":453}],315:[function(t,e,n){"use strict";var r=t("../util/util"),o=t("../util/ajax"),i=t("../util/browser"),a=t("../util/mapbox").normalizeSourceURL;e.exports=function(t,e){var n=function(t,n){if(t)return e(t);var o=r.pick(n,["tiles","minzoom","maxzoom","attribution"]);n.vector_layers&&(o.vectorLayers=n.vector_layers,o.vectorLayerIds=o.vectorLayers.map(function(t){return t.id})),e(null,o)};t.url?o.getJSON(a(t.url),n):i.frame(n.bind(null,null,t))}},{"../util/ajax":378,"../util/browser":379,"../util/mapbox":392,"../util/util":395}],316:[function(t,e,n){"use strict";var r=t("../data/bucket");e.exports=function(t,e,n){return e*(r.EXTENT/(t.tileSize*Math.pow(2,n-t.coord.z)))}},{"../data/bucket":282}],317:[function(t,e,n){"use strict";function r(t,e){var n=t.coord,r=e.coord;return n.z-r.z||n.y-r.y||n.w-r.w||n.x-r.x}function o(t){for(var e=t[0]||{},n=1;n<t.length;n++){var r=t[n];for(var o in r){var i=r[o],a=e[o];if(void 0===a)a=e[o]=i;else for(var s=0;s<i.length;s++)a.push(i[s])}}return e}var i=t("./tile_coord");n.rendered=function(t,e,n,i,a,s){var l=t.tilesIn(n);l.sort(r);for(var u=[],c=0;c<l.length;c++){var f=l[c];f.tile.featureIndex&&u.push(f.tile.featureIndex.query({queryGeometry:f.queryGeometry,scale:f.scale,tileSize:f.tile.tileSize,bearing:s,params:i},e))}return o(u)},n.source=function(t,e){for(var n=t.renderedIDs().map(function(e){return t.getTileByID(e)}),r=[],o={},a=0;a<n.length;a++){var s=n[a],l=new i(Math.min(s.sourceMaxZoom,s.coord.z),s.coord.x,s.coord.y,0).id;o[l]||(o[l]=!0,s.querySourceFeatures(r,e))}return r}},{"./tile_coord":322}],318:[function(t,e,n){"use strict";function r(t,e,n){this.id=t,this.dispatcher=n,o.extend(this,o.pick(e,["url","scheme","tileSize"])),s(e,function(t,e){return t?this.fire("error",t):(o.extend(this,e),void this.fire("load"))}.bind(this))}var o=t("../util/util"),i=t("../util/ajax"),a=t("../util/evented"),s=t("./load_tilejson"),l=t("../util/mapbox").normalizeTileURL;e.exports=r,r.prototype=o.inherit(a,{minzoom:0,maxzoom:22,roundZoom:!0,scheme:"xyz",tileSize:512,_loaded:!1,onAdd:function(t){this.map=t},serialize:function(){return{type:"raster",url:this.url,tileSize:this.tileSize}},loadTile:function(t,e){function n(n,r){if(delete t.request,!t.aborted){if(n)return e(n);var o=this.map.painter.gl;t.texture=this.map.painter.getTexture(r.width),t.texture?(o.bindTexture(o.TEXTURE_2D,t.texture),o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,r)):(t.texture=o.createTexture(),o.bindTexture(o.TEXTURE_2D,t.texture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR_MIPMAP_NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,r),t.texture.size=r.width),o.generateMipmap(o.TEXTURE_2D),this.map.animationLoop.set(this.map.style.rasterFadeDuration),t.state="loaded",e(null)}}var r=l(t.coord.url(this.tiles,null,this.scheme),this.url,this.tileSize);t.request=i.getImage(r,n.bind(this))},abortTile:function(t){t.request&&(t.request.abort(),delete t.request)},unloadTile:function(t){t.texture&&this.map.painter.saveTexture(t.texture)}})},{"../util/ajax":378,"../util/evented":387,"../util/mapbox":392,"../util/util":395,"./load_tilejson":315}],319:[function(t,e,n){"use strict";var r=t("../util/util"),o={vector:t("../source/vector_tile_source"),raster:t("../source/raster_tile_source"),geojson:t("../source/geojson_source"),video:t("../source/video_source"),image:t("../source/image_source")};n.create=function(t,e,n){if(e=new o[e.type](t,e,n),e.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+e.id);return r.bindAll(["load","abort","unload","serialize","prepare"],e),e},n.getType=function(t){return o[t]},n.setType=function(t,e){o[t]=e}},{"../source/geojson_source":311,"../source/image_source":314,"../source/raster_tile_source":318,"../source/vector_tile_source":323,"../source/video_source":325,"../util/util":395}],320:[function(t,e,n){"use strict";function r(t,e,n){this.id=t,this.dispatcher=n;var r=this._source=a.create(t,e,n).on("load",function(){this.map&&this._source.onAdd&&this._source.onAdd(this.map),this._sourceLoaded=!0,this.tileSize=r.tileSize,this.minzoom=r.minzoom,this.maxzoom=r.maxzoom,this.roundZoom=r.roundZoom,this.reparseOverscaled=r.reparseOverscaled,this.isTileClipped=r.isTileClipped,this.attribution=r.attribution,this.vectorLayerIds=r.vectorLayerIds,this.fire("load")}.bind(this)).on("error",function(t){this._sourceErrored=!0,this.fire("error",t)}.bind(this)).on("change",function(){this.reload(),this.transform&&this.update(this.transform,this.map&&this.map.style.rasterFadeDuration),this.fire("change")}.bind(this));this._tiles={},this._cache=new c(0,this.unloadTile.bind(this)),this._isIdRenderable=this._isIdRenderable.bind(this)}function o(t,e,n){var r=n.zoomTo(Math.min(t.z,e));return{x:(r.column-(t.x+t.w*Math.pow(2,t.z)))*h,y:(r.row-t.y)*h}}function i(t,e){return t%32-e%32}var a=t("./source"),s=t("./tile"),l=t("../util/evented"),u=t("./tile_coord"),c=t("../util/lru_cache"),f=t("../geo/coordinate"),p=t("../util/util"),h=t("../data/bucket").EXTENT;e.exports=r,r.maxOverzooming=10,r.maxUnderzooming=3,r.prototype=p.inherit(l,{onAdd:function(t){this.map=t,this._source&&this._source.onAdd&&this._source.onAdd(t)},loaded:function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},getSource:function(){return this._source},loadTile:function(t,e){return this._source.loadTile(t,e)},unloadTile:function(t){if(this._source.unloadTile)return this._source.unloadTile(t)},abortTile:function(t){if(this._source.abortTile)return this._source.abortTile(t)},serialize:function(){return this._source.serialize()},prepare:function(){if(this._sourceLoaded&&this._source.prepare)return this._source.prepare()},getIds:function(){return Object.keys(this._tiles).map(Number).sort(i)},getRenderableIds:function(){return this.getIds().filter(this._isIdRenderable)},_isIdRenderable:function(t){return this._tiles[t].isRenderable()&&!this._coveredTiles[t]},reload:function(){this._cache.reset();for(var t in this._tiles){var e=this._tiles[t];"loading"!==e.state&&(e.state="reloading"),this.loadTile(this._tiles[t],this._tileLoaded.bind(this,this._tiles[t]))}},_tileLoaded:function(t,e){return e?(t.state="errored",this.fire("tile.error",{tile:t,error:e}),void this._source.fire("tile.error",{tile:t,error:e})):(t.source=this,t.timeAdded=(new Date).getTime(),this.fire("tile.load",{tile:t}),void this._source.fire("tile.load",{tile:t}))},getTile:function(t){return this.getTileByID(t.id)},getTileByID:function(t){return this._tiles[t]},getZoom:function(t){return t.zoom+t.scaleZoom(t.tileSize/this.tileSize)},findLoadedChildren:function(t,e,n){var r=!1;for(var o in this._tiles){var i=this._tiles[o];if(!(n[o]||!i.isRenderable()||i.coord.z<=t.z||i.coord.z>e)){var a=Math.pow(2,Math.min(i.coord.z,this.maxzoom)-Math.min(t.z,this.maxzoom));if(Math.floor(i.coord.x/a)===t.x&&Math.floor(i.coord.y/a)===t.y)for(n[o]=!0,r=!0;i&&i.coord.z-1>t.z;){var s=i.coord.parent(this.maxzoom).id;i=this._tiles[s],i&&i.isRenderable()&&(delete n[o],n[s]=!0)}}}return r},findLoadedParent:function(t,e,n){for(var r=t.z-1;r>=e;r--){t=t.parent(this.maxzoom);var o=this._tiles[t.id];if(o&&o.isRenderable())return n[t.id]=!0,o;if(this._cache.has(t.id))return this.addTile(t),n[t.id]=!0,this._tiles[t.id]}},updateCacheSize:function(t){var e=Math.ceil(t.width/t.tileSize)+1,n=Math.ceil(t.height/t.tileSize)+1,r=e*n,o=5;this._cache.setMaxSize(Math.floor(r*o))},update:function(t,e){if(this._sourceLoaded){var n,o,i;this.updateCacheSize(t);var a=(this.roundZoom?Math.round:Math.floor)(this.getZoom(t)),s=Math.max(a-r.maxOverzooming,this.minzoom),l=Math.max(a+r.maxUnderzooming,this.minzoom),c={},f=(new Date).getTime();this._coveredTiles={};var h=this.used?t.coveringTiles(this._source):[];for(n=0;n<h.length;n++)o=h[n],i=this.addTile(o),c[o.id]=!0,i.isRenderable()||this.findLoadedChildren(o,l,c)||this.findLoadedParent(o,s,c);for(var d={},m=Object.keys(c),y=0;y<m.length;y++){var v=m[y];o=u.fromID(v),i=this._tiles[v],i&&i.timeAdded>f-(e||0)&&(this.findLoadedChildren(o,l,c)&&(c[v]=!0),this.findLoadedParent(o,s,d))}var g;for(g in d)c[g]||(this._coveredTiles[g]=!0);for(g in d)c[g]=!0;var b=p.keysDifference(this._tiles,c);for(n=0;n<b.length;n++)this.removeTile(+b[n]);this.transform=t}},addTile:function(t){var e=this._tiles[t.id];if(e)return e;var n=t.wrapped();if(e=this._tiles[n.id],e||(e=this._cache.get(n.id),e&&this._redoPlacement&&this._redoPlacement(e)),!e){var r=t.z,o=r>this.maxzoom?Math.pow(2,r-this.maxzoom):1;e=new s(n,this.tileSize*o,this.maxzoom),this.loadTile(e,this._tileLoaded.bind(this,e))}return e.uses++,this._tiles[t.id]=e,this.fire("tile.add",{tile:e}),this._source.fire("tile.add",{tile:e}),e},removeTile:function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this.fire("tile.remove",{tile:e}),this._source.fire("tile.remove",{tile:e}),e.uses>0||(e.isRenderable()?this._cache.add(e.coord.wrapped().id,e):(e.aborted=!0,this.abortTile(e),this.unloadTile(e))))},clearTiles:function(){for(var t in this._tiles)this.removeTile(t);this._cache.reset()},tilesIn:function(t){for(var e={},n=this.getIds(),r=1/0,i=1/0,a=-(1/0),s=-(1/0),l=t[0].zoom,c=0;c<t.length;c++){var p=t[c];r=Math.min(r,p.column),i=Math.min(i,p.row),a=Math.max(a,p.column),s=Math.max(s,p.row)}for(var d=0;d<n.length;d++){var m=this._tiles[n[d]],y=u.fromID(n[d]),v=[o(y,m.sourceMaxZoom,new f(r,i,l)),o(y,m.sourceMaxZoom,new f(a,s,l))];if(v[0].x<h&&v[0].y<h&&v[1].x>=0&&v[1].y>=0){for(var g=[],b=0;b<t.length;b++)g.push(o(y,m.sourceMaxZoom,t[b]));var _=e[m.coord.id];void 0===_&&(_=e[m.coord.id]={tile:m,coord:y,queryGeometry:[],scale:Math.pow(2,this.transform.zoom-m.coord.z)}),_.queryGeometry.push(g)}}var x=[];for(var w in e)x.push(e[w]);return x},redoPlacement:function(){for(var t=this.getIds(),e=0;e<t.length;e++){var n=this.getTileByID(t[e]);n.redoPlacement(this)}},getVisibleCoordinates:function(){return this.getRenderableIds().map(u.fromID)}})},{"../data/bucket":282,"../geo/coordinate":291,"../util/evented":387,"../util/lru_cache":391,"../util/util":395,"./source":319,"./tile":321,"./tile_coord":322}],321:[function(t,e,n){"use strict";function r(t,e,n){this.coord=t,this.uid=i.uniqueId(),this.uses=0,this.tileSize=e,this.sourceMaxZoom=n,this.buckets={},this.state="loading"}function o(t,e){if(e){for(var n={},r=0;r<t.length;r++){var o=e.getLayer(t[r].layerId);if(o){var s=a.create(i.extend({layer:o,childLayers:t[r].childLayerIds.map(e.getLayer.bind(e)).filter(function(t){return t})},t[r]));n[s.id]=s}}return n}}var i=t("../util/util"),a=t("../data/bucket"),s=t("../data/feature_index"),l=t("vector-tile"),u=t("pbf"),c=t("../util/vectortile_to_geojson"),f=t("feature-filter"),p=t("../symbol/collision_tile"),h=t("../symbol/collision_box"),d=t("../symbol/symbol_instances"),m=t("../symbol/symbol_quads");e.exports=r,r.prototype={loadVectorData:function(t,e){this.state="loaded",t&&(this.collisionBoxArray=new h(t.collisionBoxArray),this.collisionTile=new p(t.collisionTile,this.collisionBoxArray),this.symbolInstancesArray=new d(t.symbolInstancesArray),this.symbolQuadsArray=new m(t.symbolQuadsArray),this.featureIndex=new s(t.featureIndex,t.rawTileData,this.collisionTile),this.rawTileData=t.rawTileData,this.buckets=o(t.buckets,e))},reloadSymbolData:function(t,e,n){if("unloaded"!==this.state){this.collisionTile=new p(t.collisionTile,this.collisionBoxArray),this.featureIndex.setCollisionTile(this.collisionTile);for(var r in this.buckets){var a=this.buckets[r];"symbol"===a.type&&(a.destroy(e.gl),delete this.buckets[r])}i.extend(this.buckets,o(t.buckets,n))}},unloadVectorData:function(t){for(var e in this.buckets){var n=this.buckets[e];n.destroy(t.gl)}this.collisionBoxArray=null,this.symbolQuadsArray=null,this.symbolInstancesArray=null,this.collisionTile=null,this.featureIndex=null,this.rawTileData=null,this.buckets=null,this.state="unloaded"},redoPlacement:function(t){function e(e,n){this.reloadSymbolData(n,t.map.painter,t.map.style),t.fire("tile.load",{tile:this}),this.state="loaded",this.redoWhenDone&&(this.redoPlacement(t),this.redoWhenDone=!1)}return"loaded"!==this.state||"reloading"===this.state?void(this.redoWhenDone=!0):(this.state="reloading",void t.dispatcher.send("redo placement",{uid:this.uid,source:t.id,angle:t.map.transform.angle,pitch:t.map.transform.pitch,showCollisionBoxes:t.map.showCollisionBoxes},e.bind(this),this.workerID))},getBucket:function(t){return this.buckets&&this.buckets[t.ref||t.id]},querySourceFeatures:function(t,e){if(this.rawTileData){this.vtLayers||(this.vtLayers=new l.VectorTile(new u(new Uint8Array(this.rawTileData))).layers);var n=this.vtLayers._geojsonTileLayer||this.vtLayers[e.sourceLayer];if(n)for(var r=f(e.filter),o={z:this.coord.z,x:this.coord.x,y:this.coord.y},i=0;i<n.length;i++){var a=n.feature(i);if(r(a)){var s=new c(a,this.coord.z,this.coord.x,this.coord.y);s.tile=o,t.push(s)}}}},isRenderable:function(){return"loaded"===this.state||"reloading"===this.state}}},{"../data/bucket":282,"../data/feature_index":289,"../symbol/collision_box":347,"../symbol/collision_tile":349,"../symbol/symbol_instances":358,"../symbol/symbol_quads":359,"../util/util":395,"../util/vectortile_to_geojson":396,"feature-filter":399,pbf:451,"vector-tile":463}],322:[function(t,e,n){"use strict";function r(t,e,n,r){isNaN(r)&&(r=0),this.z=+t,this.x=+e,this.y=+n,this.w=+r,r*=2,r<0&&(r=r*-1-1);var o=1<<this.z;this.id=32*(o*o*r+o*this.y+this.x)+this.z,this.posMatrix=null}function o(t,e,n){for(var r,o="",i=t;i>0;i--)r=1<<i-1,o+=(e&r?1:0)+(n&r?2:0);return o}function i(t,e){if(t.row>e.row){var n=t;t=e,e=n}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function a(t,e,n,r,o){var i=Math.max(n,Math.floor(e.y0)),a=Math.min(r,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var l=t.dx/t.dy,u=e.dx/e.dy,c=t.dx>0,f=e.dx<0,p=i;p<a;p++){var h=l*Math.max(0,Math.min(t.dy,p+c-t.y0))+t.x0,d=u*Math.max(0,Math.min(e.dy,p+f-e.y0))+e.x0;o(Math.floor(d),Math.ceil(h),p)}}function s(t,e,n,r,o,s){var l,u=i(t,e),c=i(e,n),f=i(n,t);u.dy>c.dy&&(l=u,u=c,c=l),u.dy>f.dy&&(l=u,u=f,f=l),c.dy>f.dy&&(l=c,c=f,f=l),u.dy&&a(f,u,r,o,s),c.dy&&a(f,c,r,o,s)}var l=t("whoots-js"),u=t("../geo/coordinate");e.exports=r,r.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y},r.prototype.toCoordinate=function(t){var e=Math.min(this.z,t),n=Math.pow(2,e),r=this.y,o=this.x+n*this.w;return new u(o,r,e)},r.fromID=function(t){var e=t%32,n=1<<e,o=(t-e)/32,i=o%n,a=(o-i)/n%n,s=Math.floor(o/(n*n));return s%2!==0&&(s=s*-1-1),s/=2,new r(e,i,a,s)},r.prototype.url=function(t,e,n){var r=l.getTileBBox(this.x,this.y,this.z),i=o(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",Math.min(this.z,e||this.z)).replace("{x}",this.x).replace("{y}","tms"===n?Math.pow(2,this.z)-this.y-1:this.y).replace("{quadkey}",i).replace("{bbox-epsg-3857}",r)},r.prototype.parent=function(t){return 0===this.z?null:this.z>t?new r(this.z-1,this.x,this.y,this.w):new r(this.z-1,Math.floor(this.x/2),Math.floor(this.y/2),this.w)},r.prototype.wrapped=function(){return new r(this.z,this.x,this.y,0)},r.prototype.children=function(t){if(this.z>=t)return[new r(this.z+1,this.x,this.y,this.w)];var e=this.z+1,n=2*this.x,o=2*this.y;return[new r(e,n,o,this.w),new r(e,n+1,o,this.w),new r(e,n,o+1,this.w),new r(e,n+1,o+1,this.w)]},r.cover=function(t,e,n){function o(t,e,o){var s,l,u;if(o>=0&&o<=i)for(s=t;s<e;s++)l=(s%i+i)%i,u=new r(n,l,o,Math.floor(s/i)),a[u.id]=u}var i=1<<t,a={};return s(e[0],e[1],e[2],0,i,o),s(e[2],e[3],e[0],0,i,o),Object.keys(a).map(function(t){return a[t]})}},{"../geo/coordinate":291,"whoots-js":471}],323:[function(t,e,n){"use strict";function r(t,e,n){if(this.id=t,this.dispatcher=n,i.extend(this,i.pick(e,["url","scheme","tileSize"])),this._options=i.extend({type:"vector"},e),512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");a(e,function(t,e){return t?void this.fire("error",t):(i.extend(this,e),void this.fire("load"))}.bind(this))}var o=t("../util/evented"),i=t("../util/util"),a=t("./load_tilejson"),s=t("../util/mapbox").normalizeTileURL;e.exports=r,r.prototype=i.inherit(o,{minzoom:0,maxzoom:22,scheme:"xyz",tileSize:512,reparseOverscaled:!0,isTileClipped:!0,onAdd:function(t){this.map=t},serialize:function(){return i.extend({},this._options)},loadTile:function(t,e){function n(n,r){if(!t.aborted){if(n)return e(n);t.loadVectorData(r,this.map.style),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(this)),e(null),t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)}}var r=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,o={url:s(t.coord.url(this.tiles,this.maxzoom,this.scheme),this.url),uid:t.uid,coord:t.coord,zoom:t.coord.z,tileSize:this.tileSize*r,source:this.id,overscaling:r,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};t.workerID?"loading"===t.state?t.reloadCallback=e:(o.rawTileData=t.rawTileData,this.dispatcher.send("reload tile",o,n.bind(this),t.workerID)):t.workerID=this.dispatcher.send("load tile",o,n.bind(this))},abortTile:function(t){this.dispatcher.send("abort tile",{uid:t.uid,source:this.id},null,t.workerID)},unloadTile:function(t){t.unloadVectorData(this.map.painter),this.dispatcher.send("remove tile",{uid:t.uid,source:this.id},null,t.workerID)}})},{"../util/evented":387,"../util/mapbox":392,"../util/util":395,"./load_tilejson":315}],324:[function(t,e,n){"use strict";function r(t,e,n){this.actor=t,this.styleLayers=e,n&&(this.loadVectorData=n),this.loading={},this.loaded={}}var o=t("../util/ajax"),i=t("vector-tile"),a=t("pbf"),s=t("./worker_tile");e.exports=r,r.prototype={loadTile:function(t,e){function n(t,n){return delete this.loading[r][o],t?e(t):n?(i.data=n.tile,i.parse(i.data,this.styleLayers.getLayerFamilies(),this.actor,n.rawTileData,e),this.loaded[r]=this.loaded[r]||{},void(this.loaded[r][o]=i)):e(null,null)}var r=t.source,o=t.uid;this.loading[r]||(this.loading[r]={});var i=this.loading[r][o]=new s(t);i.abort=this.loadVectorData(t,n.bind(this))},reloadTile:function(t,e){var n=this.loaded[t.source],r=t.uid;if(n&&n[r]){var o=n[r];o.parse(o.data,this.styleLayers.getLayerFamilies(),this.actor,t.rawTileData,e)}},abortTile:function(t){var e=this.loading[t.source],n=t.uid;e&&e[n]&&e[n].abort&&(e[n].abort(),delete e[n])},removeTile:function(t){var e=this.loaded[t.source],n=t.uid;e&&e[n]&&delete e[n]},loadVectorData:function(t,e){function n(t,n){if(t)return e(t);var r=new i.VectorTile(new a(new Uint8Array(n)));e(t,{tile:r,rawTileData:n})}var r=o.getArrayBuffer(t.url,n.bind(this));return function(){r.abort()}},redoPlacement:function(t,e){var n=this.loaded[t.source],r=this.loading[t.source],o=t.uid;if(n&&n[o]){var i=n[o],a=i.redoPlacement(t.angle,t.pitch,t.showCollisionBoxes);a.result&&e(null,a.result,a.transferables)}else r&&r[o]&&(r[o].angle=t.angle)}}},{"../util/ajax":378,"./worker_tile":327,pbf:451,"vector-tile":463}],325:[function(t,e,n){"use strict";function r(t,e){this.id=t,this.urls=e.urls,this.coordinates=e.coordinates,u.getVideo(e.urls,function(t,n){if(t)return this.fire("error",{error:t});this.video=n,this.video.loop=!0;var r;this.video.addEventListener("playing",function(){r=this.map.style.animationLoop.set(1/0),this.map._rerender()}.bind(this)),this.video.addEventListener("pause",function(){this.map.style.animationLoop.cancel(r)}.bind(this)),this.map&&(this.video.play(),this.setCoordinates(e.coordinates)),this.fire("load")}.bind(this))}var o=t("../util/util"),i=t("./tile_coord"),a=t("../geo/lng_lat"),s=t("point-geometry"),l=t("../util/evented"),u=t("../util/ajax"),c=t("../data/bucket").EXTENT,f=t("../render/draw_raster").RasterBoundsArray,p=t("../data/buffer"),h=t("../render/vertex_array_object");e.exports=r,r.prototype=o.inherit(l,{minzoom:0,maxzoom:22,tileSize:512,roundZoom:!0,getVideo:function(){return this.video},onAdd:function(t){this.map||(this.map=t,this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},setCoordinates:function(t){this.coordinates=t;var e=this.map,n=t.map(function(t){return e.transform.locationCoordinate(a.convert(t)).zoomTo(0)}),r=this.centerCoord=o.getCoordinatesCenter(n);return r.column=Math.round(r.column),r.row=Math.round(r.row),this.minzoom=this.maxzoom=r.zoom,this._coord=new i(r.zoom,r.column,r.row),this._tileCoords=n.map(function(t){var e=t.zoomTo(r.zoom);return new s(Math.round((e.column-r.column)*c),Math.round((e.row-r.row)*c))}),this.fire("change"),this},_setTile:function(t){this._prepared=!1,this.tile=t;var e=32767,n=new f;n.emplaceBack(this._tileCoords[0].x,this._tileCoords[0].y,0,0),n.emplaceBack(this._tileCoords[1].x,this._tileCoords[1].y,e,0),n.emplaceBack(this._tileCoords[3].x,this._tileCoords[3].y,0,e),n.emplaceBack(this._tileCoords[2].x,this._tileCoords[2].y,e,e),this.tile.buckets={},this.tile.boundsBuffer=new p(n.serialize(),f.serialize(),p.BufferType.VERTEX),this.tile.boundsVAO=new h,this.tile.state="loaded"},prepare:function(){if(!(this.video.readyState<2)&&this.tile){var t=this.map.painter.gl;this._prepared?(t.bindTexture(t.TEXTURE_2D,this.tile.texture),t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,this.video)):(this._prepared=!0,this.tile.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.tile.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.video)),this._currentTime=this.video.currentTime}},loadTile:function(t,e){this._coord&&this._coord.toString()===t.coord.toString()?(this._setTile(t),
e(null)):(t.state="errored",e(null))},serialize:function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}})},{"../data/bucket":282,"../data/buffer":287,"../geo/lng_lat":292,"../render/draw_raster":304,"../render/vertex_array_object":310,"../util/ajax":378,"../util/evented":387,"../util/util":395,"./tile_coord":322,"point-geometry":453}],326:[function(t,e,n){"use strict";function r(t){this.self=t,this.actor=new i(t,this);var e={getLayers:function(){return this.layers}.bind(this),getLayerFamilies:function(){return this.layerFamilies}.bind(this)};this.workerSources={vector:new l(this.actor,e),geojson:new u(this.actor,e)},this.self.registerWorkerSource=function(t,n){if(this.workerSources[t])throw new Error('Worker source with name "'+t+'" already registered.');this.workerSources[t]=new n(this.actor,e)}.bind(this)}function o(t){var e={};for(var n in t){var r=t[n],o=r.ref||r.id,i=t[o];i.layout&&"none"===i.layout.visibility||(e[o]=e[o]||[],n===o?e[o].unshift(r):e[o].push(r))}return e}var i=t("../util/actor"),a=t("../style/style_layer"),s=t("../util/util"),l=t("./vector_tile_worker_source"),u=t("./geojson_worker_source");e.exports=function(t){return new r(t)},s.extend(r.prototype,{"set layers":function(t){function e(t){var e=a.create(t,t.ref&&n.layers[t.ref]);e.updatePaintTransitions({},{transition:!1}),n.layers[e.id]=e}this.layers={};for(var n=this,r=[],i=0;i<t.length;i++){var s=t[i];"fill"!==s.type&&"line"!==s.type&&"circle"!==s.type&&"symbol"!==s.type||(s.ref?r.push(i):e(s))}for(var l=0;l<r.length;l++)e(t[r[l]]);this.layerFamilies=o(this.layers)},"update layers":function(t){function e(t){var e=i.layers[t.ref];i.layers[t.id]?i.layers[t.id].set(t,e):i.layers[t.id]=a.create(t,e),i.layers[t.id].updatePaintTransitions({},{transition:!1})}var n,r,i=this;for(n in t)r=t[n],r.ref&&e(r);for(n in t)r=t[n],r.ref||e(r);this.layerFamilies=o(this.layers)},"load tile":function(t,e){var n=t.type||"vector";this.workerSources[n].loadTile(t,e)},"reload tile":function(t,e){var n=t.type||"vector";this.workerSources[n].reloadTile(t,e)},"abort tile":function(t){var e=t.type||"vector";this.workerSources[e].abortTile(t)},"remove tile":function(t){var e=t.type||"vector";this.workerSources[e].removeTile(t)},"redo placement":function(t,e){var n=t.type||"vector";this.workerSources[n].redoPlacement(t,e)},"load worker source":function(t,e){try{this.self.importScripts(t.url),e()}catch(n){e(n)}}})},{"../style/style_layer":334,"../util/actor":377,"../util/util":395,"./geojson_worker_source":312,"./vector_tile_worker_source":324}],327:[function(t,e,n){"use strict";function r(t){this.coord=t.coord,this.uid=t.uid,this.zoom=t.zoom,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=t.overscaling,this.angle=t.angle,this.pitch=t.pitch,this.showCollisionBoxes=t.showCollisionBoxes}function o(t){return!t.isEmpty()}function i(t){return t.serialize()}function a(t){var e=[];for(var n in t)t[n].getTransferables(e);return e}function s(t){return t.id}var l=t("../data/feature_index"),u=t("../symbol/collision_tile"),c=t("../data/bucket"),f=t("../symbol/collision_box"),p=t("../util/dictionary_coder"),h=t("../util/util"),d=t("../symbol/symbol_instances"),m=t("../symbol/symbol_quads");e.exports=r,r.prototype.parse=function(t,e,n,r,y){function v(t,e){for(var n=0;n<t.length;n++){var r=t.feature(n);r.index=n;for(var o in e)e[o].filter(r)&&e[o].features.push(r)}}function g(t){if(t)return y(t);if(z++,2===z){for(var e=I.length-1;e>=0;e--)b(P,I[e]);_()}}function b(t,e){if(e.populateArrays(C,N,R),"symbol"!==e.type)for(var n=0;n<e.features.length;n++){var r=e.features[n];k.insert(r,r.index,e.sourceLayerIndex,e.index)}e.features=null}function _(){P.status="done",P.redoPlacementAfterDone&&(P.redoPlacement(P.angle,P.pitch,null),P.redoPlacementAfterDone=!1);var t=k.serialize(),e=C.serialize(),n=P.collisionBoxArray.serialize(),s=P.symbolInstancesArray.serialize(),l=P.symbolQuadsArray.serialize(),u=[r].concat(t.transferables).concat(e.transferables),c=L.filter(o);y(null,{buckets:c.map(i),featureIndex:t.data,collisionTile:e.data,collisionBoxArray:n,symbolInstancesArray:s,symbolQuadsArray:l,rawTileData:r},a(c).concat(u))}this.status="parsing",this.data=t,this.collisionBoxArray=new f,this.symbolInstancesArray=new d,this.symbolQuadsArray=new m;var x,w,T,E,C=new u(this.angle,this.pitch,this.collisionBoxArray),k=new l(this.coord,this.overscaling,C,t.layers),S=new p(t.layers?Object.keys(t.layers).sort():["_geojsonTileLayer"]),P=this,M={},A={},O=0;for(var D in e)w=e[D][0],w.source===this.source&&(w.ref||w.minzoom&&this.zoom<w.minzoom||w.maxzoom&&this.zoom>=w.maxzoom||w.layout&&"none"===w.layout.visibility||t.layers&&!t.layers[w.sourceLayer]||(E=c.create({layer:w,index:O++,childLayers:e[D],zoom:this.zoom,overscaling:this.overscaling,showCollisionBoxes:this.showCollisionBoxes,collisionBoxArray:this.collisionBoxArray,symbolQuadsArray:this.symbolQuadsArray,symbolInstancesArray:this.symbolInstancesArray,sourceLayerIndex:S.encode(w.sourceLayer||"_geojsonTileLayer")}),E.createFilter(),M[w.id]=E,t.layers&&(T=w.sourceLayer,A[T]=A[T]||{},A[T][w.id]=E)));if(t.layers)for(T in A)1===w.version&&h.warnOnce('Vector tile source "'+this.source+'" layer "'+T+'" does not use vector tile spec v2 and therefore may have some rendering errors.'),w=t.layers[T],w&&v(w,A[T]);else v(t,M);var L=[],I=this.symbolBuckets=[],j=[];k.bucketLayerIDs={};for(var F in M)E=M[F],0!==E.features.length&&(k.bucketLayerIDs[E.index]=E.childLayers.map(s),L.push(E),"symbol"===E.type?I.push(E):j.push(E));var R={},N={},z=0;if(I.length>0){for(x=I.length-1;x>=0;x--)I[x].updateIcons(R),I[x].updateFont(N);for(var B in N)N[B]=Object.keys(N[B]).map(Number);R=Object.keys(R),n.send("get glyphs",{uid:this.uid,stacks:N},function(t,e){N=e,g(t)}),R.length?n.send("get icons",{icons:R},function(t,e){R=e,g(t)}):g()}for(x=j.length-1;x>=0;x--)b(this,j[x]);if(0===I.length)return _()},r.prototype.redoPlacement=function(t,e,n){if("done"!==this.status)return this.redoPlacementAfterDone=!0,this.angle=t,{};for(var r=new u(t,e,this.collisionBoxArray),s=this.symbolBuckets,l=s.length-1;l>=0;l--)s[l].placeFeatures(r,n);var c=r.serialize(),f=s.filter(o);return{result:{buckets:f.map(i),collisionTile:c.data},transferables:a(f).concat(c.transferables)}}},{"../data/bucket":282,"../data/feature_index":289,"../symbol/collision_box":347,"../symbol/collision_tile":349,"../symbol/symbol_instances":358,"../symbol/symbol_quads":359,"../util/dictionary_coder":385,"../util/util":395}],328:[function(t,e,n){"use strict";function r(){this.n=0,this.times=[]}e.exports=r,r.prototype.stopped=function(){return this.times=this.times.filter(function(t){return t.time>=(new Date).getTime()}),!this.times.length},r.prototype.set=function(t){return this.times.push({id:this.n,time:t+(new Date).getTime()}),this.n++},r.prototype.cancel=function(t){this.times=this.times.filter(function(e){return e.id!==t})}},{}],329:[function(t,e,n){"use strict";function r(t){this.base=t,this.retina=s.devicePixelRatio>1;var e=this.retina?"@2x":"";a.getJSON(l(t,e,".json"),function(t,e){return t?void this.fire("error",{error:t}):(this.data=e,void(this.img&&this.fire("load")))}.bind(this)),a.getImage(l(t,e,".png"),function(t,e){if(t)return void this.fire("error",{error:t});for(var n=e.getData(),r=e.data=new Uint8Array(n.length),o=0;o<n.length;o+=4){var i=n[o+3]/255;r[o+0]=n[o+0]*i,r[o+1]=n[o+1]*i,r[o+2]=n[o+2]*i,r[o+3]=n[o+3]}this.img=e,this.data&&this.fire("load")}.bind(this))}function o(){}var i=t("../util/evented"),a=t("../util/ajax"),s=t("../util/browser"),l=t("../util/mapbox").normalizeSpriteURL;e.exports=r,r.prototype=Object.create(i),r.prototype.toJSON=function(){return this.base},r.prototype.loaded=function(){return!(!this.data||!this.img)},r.prototype.resize=function(){if(s.devicePixelRatio>1!==this.retina){var t=new r(this.base);t.on("load",function(){this.img=t.img,this.data=t.data,this.retina=t.retina}.bind(this))}},o.prototype={x:0,y:0,width:0,height:0,pixelRatio:1,sdf:!1},r.prototype.getSpritePosition=function(t){if(!this.loaded())return new o;var e=this.data&&this.data[t];return e&&this.img?e:new o}},{"../util/ajax":378,"../util/browser":379,"../util/evented":387,"../util/mapbox":392}],330:[function(t,e,n){"use strict";var r=t("csscolorparser").parseCSSColor,o=t("../util/util"),i=t("./style_function"),a={};e.exports=function s(t){if(i.isFunctionDefinition(t))return o.extend({},t,{stops:t.stops.map(function(t){return[t[0],s(t[1])]})});if("string"==typeof t){if(!a[t]){var e=r(t);if(!e)throw new Error("Invalid color "+t);a[t]=[e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3]]}return a[t]}throw new Error("Invalid color "+t)}},{"../util/util":395,"./style_function":333,csscolorparser:397}],331:[function(t,e,n){"use strict";function r(t,e,n){this.animationLoop=e||new m,this.dispatcher=new d(n||1,this),this.spriteAtlas=new l(1024,1024),this.lineAtlas=new u(256,512),this._layers={},this._order=[],this._groups=[],this.sources={},this.zoomHistory={},c.bindAll(["_forwardSourceEvent","_forwardTileEvent","_forwardLayerEvent","_redoPlacement"],this),this._resetUpdates();var r=function(t,e){if(t)return void this.fire("error",{error:t});if(!y.emitErrors(this,y(e))){this._loaded=!0,this.stylesheet=e,this.updateClasses();var n=e.sources;for(var r in n)this.addSource(r,n[r]);e.sprite&&(this.sprite=new a(e.sprite),this.sprite.on("load",this.fire.bind(this,"change"))),this.glyphSource=new s(e.glyphs),this._resolve(),this.fire("load")}}.bind(this);"string"==typeof t?f.getJSON(p(t),r):h.frame(r.bind(this,null,t)),this.on("source.load",function(t){var e=t.source;if(e&&e.vectorLayerIds)for(var n in this._layers){var r=this._layers[n];r.source===e.id&&this._validateLayer(r)}})}var o=t("../util/evented"),i=t("./style_layer"),a=t("./image_sprite"),s=t("../symbol/glyph_source"),l=t("../symbol/sprite_atlas"),u=t("../render/line_atlas"),c=t("../util/util"),f=t("../util/ajax"),p=t("../util/mapbox").normalizeStyleURL,h=t("../util/browser"),d=t("../util/dispatcher"),m=t("./animation_loop"),y=t("./validate_style"),v=t("../source/source"),g=t("../source/query_features"),b=t("../source/source_cache"),_=t("./style_spec"),x=t("./style_function");e.exports=r,r.prototype=c.inherit(o,{_loaded:!1,_validateLayer:function(t){var e=this.sources[t.source];t.sourceLayer&&e&&e.vectorLayerIds&&e.vectorLayerIds.indexOf(t.sourceLayer)===-1&&this.fire("error",{error:new Error('Source layer "'+t.sourceLayer+'" does not exist on source "'+e.id+'" as specified by style layer "'+t.id+'"')})},loaded:function(){if(!this._loaded)return!1;if(Object.keys(this._updates.sources).length)return!1;for(var t in this.sources)if(!this.sources[t].loaded())return!1;return!(this.sprite&&!this.sprite.loaded())},_resolve:function(){var t,e;this._layers={},this._order=this.stylesheet.layers.map(function(t){return t.id});for(var n=0;n<this.stylesheet.layers.length;n++)e=this.stylesheet.layers[n],e.ref||(t=i.create(e),this._layers[t.id]=t,t.on("error",this._forwardLayerEvent));for(var r=0;r<this.stylesheet.layers.length;r++)if(e=this.stylesheet.layers[r],e.ref){var o=this.getLayer(e.ref);t=i.create(e,o),this._layers[t.id]=t,t.on("error",this._forwardLayerEvent)}this._groupLayers(),this._updateWorkerLayers()},_groupLayers:function(){var t;this._groups=[];for(var e=0;e<this._order.length;++e){var n=this._layers[this._order[e]];t&&n.source===t.source||(t=[],t.source=n.source,this._groups.push(t)),t.push(n)}},_updateWorkerLayers:function(t){this.dispatcher.broadcast(t?"update layers":"set layers",this._serializeLayers(t))},_serializeLayers:function(t){t=t||this._order;for(var e=[],n={includeRefProperties:!0},r=0;r<t.length;r++)e.push(this._layers[t[r]].serialize(n));return e},_applyClasses:function(t,e){if(this._loaded){t=t||[],e=e||{transition:!0};var n=this.stylesheet.transition||{},r=this._updates.allPaintProps?this._layers:this._updates.paintProps;for(var o in r){var i=this._layers[o],a=this._updates.paintProps[o];if(this._updates.allPaintProps||a.all)i.updatePaintTransitions(t,e,n,this.animationLoop);else for(var s in a)this._layers[o].updatePaintTransition(s,t,e,n,this.animationLoop)}}},_recalculate:function(t){for(var e in this.sources)this.sources[e].used=!1;this._updateZoomHistory(t),this.rasterFadeDuration=300;for(var n in this._layers){var r=this._layers[n];r.recalculate(t,this.zoomHistory),!r.isHidden(t)&&r.source&&(this.sources[r.source].used=!0)}var o=300;Math.floor(this.z)!==Math.floor(t)&&this.animationLoop.set(o),this.z=t,this.fire("zoom")},_updateZoomHistory:function(t){var e=this.zoomHistory;void 0===e.lastIntegerZoom&&(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=0,e.lastZoom=t),Math.floor(e.lastZoom)<Math.floor(t)?(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=Date.now()):Math.floor(e.lastZoom)>Math.floor(t)&&(e.lastIntegerZoom=Math.floor(t+1),e.lastIntegerZoomTime=Date.now()),e.lastZoom=t},_checkLoaded:function(){if(!this._loaded)throw new Error("Style is not done loading")},update:function(t,e){if(!this._updates.changed)return this;if(this._updates.allLayers)this._groupLayers(),this._updateWorkerLayers();else{var n=Object.keys(this._updates.layers);n.length&&this._updateWorkerLayers(n)}var r,o=Object.keys(this._updates.sources);for(r=0;r<o.length;r++)this._reloadSource(o[r]);for(r=0;r<this._updates.events.length;r++){var i=this._updates.events[r];this.fire(i[0],i[1])}return this._applyClasses(t,e),this._updates.changed&&this.fire("change"),this._resetUpdates(),this},_resetUpdates:function(){this._updates={events:[],layers:{},sources:{},paintProps:{}}},addSource:function(t,e){if(this._checkLoaded(),void 0!==this.sources[t])throw new Error("There is already a source with this ID");if(!e.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(e)+".");var n=["vector","raster","geojson","video","image"],r=n.indexOf(e.type)>=0;return r&&this._handleErrors(y.source,"sources."+t,e)?this:(e=new b(t,e,this.dispatcher),this.sources[t]=e,e.style=this,e.on("load",this._forwardSourceEvent).on("error",this._forwardSourceEvent).on("change",this._forwardSourceEvent).on("tile.add",this._forwardTileEvent).on("tile.load",this._forwardTileEvent).on("tile.error",this._forwardTileEvent).on("tile.remove",this._forwardTileEvent).on("tile.stats",this._forwardTileEvent),this._updates.events.push(["source.add",{source:e}]),this._updates.changed=!0,this)},removeSource:function(t){if(this._checkLoaded(),void 0===this.sources[t])throw new Error("There is no source with this ID");var e=this.sources[t];return delete this.sources[t],delete this._updates.sources[t],e.off("load",this._forwardSourceEvent).off("error",this._forwardSourceEvent).off("change",this._forwardSourceEvent).off("tile.add",this._forwardTileEvent).off("tile.load",this._forwardTileEvent).off("tile.error",this._forwardTileEvent).off("tile.remove",this._forwardTileEvent).off("tile.stats",this._forwardTileEvent),this._updates.events.push(["source.remove",{source:e}]),this._updates.changed=!0,this},getSource:function(t){return this.sources[t]&&this.sources[t].getSource()},addLayer:function(t,e){if(this._checkLoaded(),!(t instanceof i)){if(this._handleErrors(y.layer,"layers."+t.id,t,!1,{arrayIndex:-1}))return this;var n=t.ref&&this.getLayer(t.ref);t=i.create(t,n)}return this._validateLayer(t),t.on("error",this._forwardLayerEvent),this._layers[t.id]=t,this._order.splice(e?this._order.indexOf(e):1/0,0,t.id),this._updates.allLayers=!0,t.source&&(this._updates.sources[t.source]=!0),this._updates.events.push(["layer.add",{layer:t}]),this.updateClasses(t.id)},removeLayer:function(t){this._checkLoaded();var e=this._layers[t];if(void 0===e)throw new Error("There is no layer with this ID");for(var n in this._layers)this._layers[n].ref===t&&this.removeLayer(n);return e.off("error",this._forwardLayerEvent),delete this._layers[t],delete this._updates.layers[t],delete this._updates.paintProps[t],this._order.splice(this._order.indexOf(t),1),this._updates.allLayers=!0,this._updates.events.push(["layer.remove",{layer:e}]),this._updates.changed=!0,this},getLayer:function(t){return this._layers[t]},getReferentLayer:function(t){var e=this.getLayer(t);return e.ref&&(e=this.getLayer(e.ref)),e},setLayerZoomRange:function(t,e,n){this._checkLoaded();var r=this.getReferentLayer(t);return r.minzoom===e&&r.maxzoom===n?this:(null!=e&&(r.minzoom=e),null!=n&&(r.maxzoom=n),this._updateLayer(r))},setFilter:function(t,e){this._checkLoaded();var n=this.getReferentLayer(t);return null!==e&&this._handleErrors(y.filter,"layers."+n.id+".filter",e)?this:c.deepEqual(n.filter,e)?this:(n.filter=c.clone(e),this._updateLayer(n))},getFilter:function(t){return this.getReferentLayer(t).filter},setLayoutProperty:function(t,e,n){this._checkLoaded();var r=this.getReferentLayer(t);return c.deepEqual(r.getLayoutProperty(e),n)?this:(r.setLayoutProperty(e,n),this._updateLayer(r))},getLayoutProperty:function(t,e){return this.getReferentLayer(t).getLayoutProperty(e)},setPaintProperty:function(t,e,n,r){this._checkLoaded();var o=this.getLayer(t);if(c.deepEqual(o.getPaintProperty(e,r),n))return this;var i=o.isPaintValueFeatureConstant(e);o.setPaintProperty(e,n,r);var a=!(n&&x.isFunctionDefinition(n)&&"$zoom"!==n.property&&void 0!==n.property);return a&&i||(this._updates.layers[t]=!0,o.source&&(this._updates.sources[o.source]=!0)),this.updateClasses(t,e)},getPaintProperty:function(t,e,n){return this.getLayer(t).getPaintProperty(e,n)},updateClasses:function(t,e){if(this._updates.changed=!0,t){var n=this._updates.paintProps;n[t]||(n[t]={}),n[t][e||"all"]=!0}else this._updates.allPaintProps=!0;return this},serialize:function(){return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sources,function(t){return t.serialize()}),layers:this._order.map(function(t){return this._layers[t].serialize()},this)},function(t){return void 0!==t})},_updateLayer:function(t){return this._updates.layers[t.id]=!0,t.source&&(this._updates.sources[t.source]=!0),this._updates.changed=!0,this},_flattenRenderedFeatures:function(t){for(var e=[],n=this._order.length-1;n>=0;n--)for(var r=this._order[n],o=0;o<t.length;o++){var i=t[o][r];if(i)for(var a=0;a<i.length;a++)e.push(i[a])}return e},queryRenderedFeatures:function(t,e,n,r){e&&e.filter&&this._handleErrors(y.filter,"queryRenderedFeatures.filter",e.filter,!0);var o={};if(e&&e.layers)for(var i=0;i<e.layers.length;i++){var a=e.layers[i];o[this._layers[a].source]=!0}var s=[];for(var l in this.sources)if(!e.layers||o[l]){var u=this.sources[l],c=g.rendered(u,this._layers,t,e,n,r);s.push(c)}return this._flattenRenderedFeatures(s)},querySourceFeatures:function(t,e){e&&e.filter&&this._handleErrors(y.filter,"querySourceFeatures.filter",e.filter,!0);var n=this.sources[t];return n?g.source(n,e):[]},addSourceType:function(t,e,n){return v.getType(t)?n(new Error('A source type called "'+t+'" already exists.')):(v.setType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("load worker source",{name:t,url:e.workerSourceURL},n):n(null,null))},_handleErrors:function(t,e,n,r,o){var i=r?y.throwErrors:y.emitErrors,a=t.call(y,c.extend({key:e,style:this.serialize(),value:n,styleSpec:_},o));return i.call(y,this,a)},_remove:function(){this.dispatcher.remove()},_reloadSource:function(t){this.sources[t].reload()},_updateSources:function(t){for(var e in this.sources)this.sources[e].update(t)},_redoPlacement:function(){for(var t in this.sources)this.sources[t].redoPlacement&&this.sources[t].redoPlacement()},_forwardSourceEvent:function(t){this.fire("source."+t.type,c.extend({source:t.target.getSource()},t))},_forwardTileEvent:function(t){this.fire(t.type,c.extend({source:t.target},t))},_forwardLayerEvent:function(t){this.fire("layer."+t.type,c.extend({layer:{id:t.target.id}},t))},"get sprite json":function(t,e){var n=this.sprite;n.loaded()?e(null,{sprite:n.data,retina:n.retina}):n.on("load",function(){e(null,{sprite:n.data,retina:n.retina})})},"get icons":function(t,e){var n=this.sprite,r=this.spriteAtlas;n.loaded()?(r.setSprite(n),r.addIcons(t.icons,e)):n.on("load",function(){r.setSprite(n),r.addIcons(t.icons,e)})},"get glyphs":function(t,e){function n(t,n,r){t&&console.error(t),i[r]=n,o--,0===o&&e(null,i)}var r=t.stacks,o=Object.keys(r).length,i={};for(var a in r)this.glyphSource.getSimpleGlyphs(a,r[a],t.uid,n)}})},{"../render/line_atlas":307,"../source/query_features":317,"../source/source":319,"../source/source_cache":320,"../symbol/glyph_source":352,"../symbol/sprite_atlas":357,"../util/ajax":378,"../util/browser":379,"../util/dispatcher":386,"../util/evented":387,"../util/mapbox":392,"../util/util":395,"./animation_loop":328,"./image_sprite":329,"./style_function":333,"./style_layer":334,"./style_spec":341,"./validate_style":343}],332:[function(t,e,n){"use strict";function r(t,e){this.value=s.clone(e),this.isFunction=i.isFunctionDefinition(e),this.json=JSON.stringify(this.value);var n="color"===t.type&&this.value?a(this.value):e;if(this.calculate=i[t["function"]||"piecewise-constant"](n),this.isFeatureConstant=this.calculate.isFeatureConstant,this.isZoomConstant=this.calculate.isZoomConstant,"piecewise-constant"===t["function"]&&t.transition&&(this.calculate=o(this.calculate)),!this.isFeatureConstant&&!this.isZoomConstant){this.stopZoomLevels=[];for(var r=[],l=this.value.stops,u=0;u<this.value.stops.length;u++){var c=l[u][0].zoom;this.stopZoomLevels.indexOf(c)<0&&(this.stopZoomLevels.push(c),r.push([c,r.length]))}this.calculateInterpolationT=i.interpolated({stops:r,base:e.base})}}function o(t){return function(e,n){var r,o,i,a=e.zoom,s=e.zoomHistory,l=e.duration,u=a%1,c=Math.min((Date.now()-s.lastIntegerZoomTime)/l,1),f=1,p=1;return a>s.lastIntegerZoom?(r=u+(1-u)*c,f*=2,o=t({zoom:a-1},n),i=t({zoom:a},n)):(r=1-(1-c)*u,i=t({zoom:a},n),o=t({zoom:a+1},n),f/=2),void 0===o||void 0===i?void 0:{from:o,fromScale:f,to:i,toScale:p,t:r}}}var i=t("./style_function"),a=t("./parse_color"),s=t("../util/util");e.exports=r},{"../util/util":395,"./parse_color":330,"./style_function":333}],333:[function(t,e,n){"use strict";var r=t("mapbox-gl-function");n.interpolated=function(t){var e=r.interpolated(t),n=function(t,n){return e(t&&t.zoom,n||{})};return n.isFeatureConstant=e.isFeatureConstant,n.isZoomConstant=e.isZoomConstant,n},n["piecewise-constant"]=function(t){var e=r["piecewise-constant"](t),n=function(t,n){return e(t&&t.zoom,n||{})};return n.isFeatureConstant=e.isFeatureConstant,n.isZoomConstant=e.isZoomConstant,n},n.isFunctionDefinition=r.isFunctionDefinition},{"mapbox-gl-function":422}],334:[function(t,e,n){"use strict";function r(t,e){this.set(t,e)}function o(t){return t.value}var i=t("../util/util"),a=t("./style_transition"),s=t("./style_declaration"),l=t("./style_spec"),u=t("./validate_style"),c=t("./parse_color"),f=t("../util/evented");e.exports=r;var p="-transition";r.create=function(e,n){var r={background:t("./style_layer/background_style_layer"),circle:t("./style_layer/circle_style_layer"),fill:t("./style_layer/fill_style_layer"),line:t("./style_layer/line_style_layer"),raster:t("./style_layer/raster_style_layer"),symbol:t("./style_layer/symbol_style_layer")};return new r[(n||e).type](e,n)},r.prototype=i.inherit(f,{set:function(t,e){this.id=t.id,this.ref=t.ref,this.metadata=t.metadata,this.type=(e||t).type,this.source=(e||t).source,this.sourceLayer=(e||t)["source-layer"],this.minzoom=(e||t).minzoom,this.maxzoom=(e||t).maxzoom,this.filter=(e||t).filter,this.paint={},this.layout={},this._paintSpecifications=l["paint_"+this.type],this._layoutSpecifications=l["layout_"+this.type],this._paintTransitions={},this._paintTransitionOptions={},this._paintDeclarations={},this._layoutDeclarations={},this._layoutFunctions={};var n,r;for(var o in t){var i=o.match(/^paint(?:\.(.*))?$/);if(i){var a=i[1]||"";for(n in t[o])this.setPaintProperty(n,t[o][n],a)}}if(this.ref)this._layoutDeclarations=e._layoutDeclarations;else for(r in t.layout)this.setLayoutProperty(r,t.layout[r]);for(n in this._paintSpecifications)this.paint[n]=this.getPaintValue(n);for(r in this._layoutSpecifications)this._updateLayoutValue(r)},setLayoutProperty:function(t,e){if(null==e)delete this._layoutDeclarations[t];else{var n="layers."+this.id+".layout."+t;if(this._handleErrors(u.layoutProperty,n,t,e))return;this._layoutDeclarations[t]=new s(this._layoutSpecifications[t],e)}this._updateLayoutValue(t)},getLayoutProperty:function(t){return this._layoutDeclarations[t]&&this._layoutDeclarations[t].value},getLayoutValue:function(t,e,n){var r=this._layoutSpecifications[t],o=this._layoutDeclarations[t];return o?o.calculate(e,n):r["default"]},setPaintProperty:function(t,e,n){var r="layers."+this.id+(n?'["paint.'+n+'"].':".paint.")+t;if(i.endsWith(t,p))if(this._paintTransitionOptions[n||""]||(this._paintTransitionOptions[n||""]={}),null===e||void 0===e)delete this._paintTransitionOptions[n||""][t];else{if(this._handleErrors(u.paintProperty,r,t,e))return;this._paintTransitionOptions[n||""][t]=e}else if(this._paintDeclarations[n||""]||(this._paintDeclarations[n||""]={}),null===e||void 0===e)delete this._paintDeclarations[n||""][t];else{if(this._handleErrors(u.paintProperty,r,t,e))return;this._paintDeclarations[n||""][t]=new s(this._paintSpecifications[t],e)}},getPaintProperty:function(t,e){return e=e||"",i.endsWith(t,p)?this._paintTransitionOptions[e]&&this._paintTransitionOptions[e][t]:this._paintDeclarations[e]&&this._paintDeclarations[e][t]&&this._paintDeclarations[e][t].value},getPaintValue:function(t,e,n){var r=this._paintSpecifications[t],o=this._paintTransitions[t];return o?o.calculate(e,n):"color"===r.type&&r["default"]?c(r["default"]):r["default"]},getPaintValueStopZoomLevels:function(t){var e=this._paintTransitions[t];return e?e.declaration.stopZoomLevels:[]},getPaintInterpolationT:function(t,e){var n=this._paintTransitions[t];return n.declaration.calculateInterpolationT({zoom:e})},isPaintValueFeatureConstant:function(t){var e=this._paintTransitions[t];return!e||e.declaration.isFeatureConstant},isLayoutValueFeatureConstant:function(t){var e=this._layoutDeclarations[t];return!e||e.isFeatureConstant},isPaintValueZoomConstant:function(t){var e=this._paintTransitions[t];return!e||e.declaration.isZoomConstant},isHidden:function(t){return!!(this.minzoom&&t<this.minzoom)||(!!(this.maxzoom&&t>=this.maxzoom)||("none"===this.layout.visibility||0===this.paint[this.type+"-opacity"]))},updatePaintTransitions:function(t,e,n,r){for(var o=i.extend({},this._paintDeclarations[""]),a=0;a<t.length;a++)i.extend(o,this._paintDeclarations[t[a]]);var s;for(s in o)this._applyPaintDeclaration(s,o[s],e,n,r);for(s in this._paintTransitions)s in o||this._applyPaintDeclaration(s,null,e,n,r)},updatePaintTransition:function(t,e,n,r,o){for(var i=this._paintDeclarations[""][t],a=0;a<e.length;a++){var s=this._paintDeclarations[e[a]];s&&s[t]&&(i=s[t])}this._applyPaintDeclaration(t,i,n,r,o)},recalculate:function(t,e){for(var n in this._paintTransitions)this.paint[n]=this.getPaintValue(n,{zoom:t,zoomHistory:e});for(var r in this._layoutFunctions)this.layout[r]=this.getLayoutValue(r,{zoom:t,zoomHistory:e})},serialize:function(t){var e={id:this.id,ref:this.ref,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom};for(var n in this._paintDeclarations){var r=""===n?"paint":"paint."+n;e[r]=i.mapObject(this._paintDeclarations[n],o)}return(!this.ref||t&&t.includeRefProperties)&&i.extend(e,{type:this.type,source:this.source,"source-layer":this.sourceLayer,filter:this.filter,layout:i.mapObject(this._layoutDeclarations,o)}),i.filterObject(e,function(t,e){return void 0!==t&&!("layout"===e&&!Object.keys(t).length)})},_applyPaintDeclaration:function(t,e,n,r,o){var l=n.transition?this._paintTransitions[t]:void 0,u=this._paintSpecifications[t];if(null!==e&&void 0!==e||(e=new s(u,u["default"])),!l||l.declaration.json!==e.json){var c=i.extend({duration:300,delay:0},r,this.getPaintProperty(t+p)),f=this._paintTransitions[t]=new a(u,e,l,c);f.instant()||(f.loopID=o.set(f.endTime-Date.now())),l&&o.cancel(l.loopID)}},_updateLayoutValue:function(t){var e=this._layoutDeclarations[t];e&&e.isFunction?this._layoutFunctions[t]=!0:(delete this._layoutFunctions[t],this.layout[t]=this.getLayoutValue(t))},_handleErrors:function(t,e,n,r){return u.emitErrors(this,t.call(u,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:l,style:{glyphs:!0,sprite:!0}}))}})},{"../util/evented":387,"../util/util":395,"./parse_color":330,"./style_declaration":332,"./style_layer/background_style_layer":335,"./style_layer/circle_style_layer":336,"./style_layer/fill_style_layer":337,"./style_layer/line_style_layer":338,"./style_layer/raster_style_layer":339,"./style_layer/symbol_style_layer":340,"./style_spec":341,"./style_transition":342,"./validate_style":343}],335:[function(t,e,n){"use strict";function r(){i.apply(this,arguments)}var o=t("../../util/util"),i=t("../style_layer");e.exports=r,r.prototype=o.inherit(i,{})},{"../../util/util":395,"../style_layer":334}],336:[function(t,e,n){"use strict";function r(){i.apply(this,arguments)}var o=t("../../util/util"),i=t("../style_layer");e.exports=r,r.prototype=o.inherit(i,{})},{"../../util/util":395,"../style_layer":334}],337:[function(t,e,n){"use strict";function r(){i.apply(this,arguments)}var o=t("../../util/util"),i=t("../style_layer");r.prototype=o.inherit(i,{getPaintValue:function(t,e,n){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?i.prototype.getPaintValue.call(this,"fill-color",e,n):i.prototype.getPaintValue.call(this,t,e,n)},getPaintValueStopZoomLevels:function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?i.prototype.getPaintValueStopZoomLevels.call(this,"fill-color"):i.prototype.getPaintValueStopZoomLevels.call(this,arguments)},getPaintInterpolationT:function(t,e){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?i.prototype.getPaintInterpolationT.call(this,"fill-color",e):i.prototype.getPaintInterpolationT.call(this,t,e)},isPaintValueFeatureConstant:function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?i.prototype.isPaintValueFeatureConstant.call(this,"fill-color"):i.prototype.isPaintValueFeatureConstant.call(this,t)},isPaintValueZoomConstant:function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?i.prototype.isPaintValueZoomConstant.call(this,"fill-color"):i.prototype.isPaintValueZoomConstant.call(this,t)}}),e.exports=r},{"../../util/util":395,"../style_layer":334}],338:[function(t,e,n){"use strict";function r(){i.apply(this,arguments)}var o=t("../../util/util"),i=t("../style_layer");e.exports=r,r.prototype=o.inherit(i,{getPaintValue:function(t,e,n){var r=i.prototype.getPaintValue.apply(this,arguments);if(r&&"line-dasharray"===t){var o=Math.floor(e.zoom);this._flooredZoom!==o&&(this._flooredZoom=o,this._flooredLineWidth=this.getPaintValue("line-width",e,n)),r.fromScale*=this._flooredLineWidth,r.toScale*=this._flooredLineWidth}return r}})},{"../../util/util":395,"../style_layer":334}],339:[function(t,e,n){"use strict";function r(){i.apply(this,arguments)}var o=t("../../util/util"),i=t("../style_layer");e.exports=r,r.prototype=o.inherit(i,{})},{"../../util/util":395,"../style_layer":334}],340:[function(t,e,n){"use strict";function r(){i.apply(this,arguments)}var o=t("../../util/util"),i=t("../style_layer");e.exports=r,r.prototype=o.inherit(i,{isHidden:function(){if(i.prototype.isHidden.apply(this,arguments))return!0;var t=0===this.paint["text-opacity"]||!this.layout["text-field"],e=0===this.paint["icon-opacity"]||!this.layout["icon-image"];return!(!t||!e)},getLayoutValue:function(t,e,n){return("text-rotation-alignment"!==t||"line"!==this.getLayoutValue("symbol-placement",e,n)||this.getLayoutProperty("text-rotation-alignment"))&&("icon-rotation-alignment"!==t||"line"!==this.getLayoutValue("symbol-placement",e,n)||this.getLayoutProperty("icon-rotation-alignment"))?"text-pitch-alignment"!==t||this.getLayoutProperty("text-pitch-alignment")?i.prototype.getLayoutValue.apply(this,arguments):this.getLayoutValue("text-rotation-alignment"):"map";
}})},{"../../util/util":395,"../style_layer":334}],341:[function(t,e,n){"use strict";e.exports=t("mapbox-gl-style-spec/reference/latest")},{"mapbox-gl-style-spec/reference/latest":445}],342:[function(t,e,n){"use strict";function r(t,e,n,r){this.declaration=e,this.startTime=this.endTime=(new Date).getTime(),"piecewise-constant"===t["function"]&&t.transition?this.interp=o:this.interp=a[t.type],this.oldTransition=n,this.duration=r.duration||0,this.delay=r.delay||0,this.instant()||(this.endTime=this.startTime+this.duration+this.delay,this.ease=i.easeCubicInOut),n&&n.endTime<=this.startTime&&delete n.oldTransition}function o(t,e,n){return void 0===(t&&t.to)||void 0===(e&&e.to)?void 0:{from:t.to,fromScale:t.toScale,to:e.to,toScale:e.toScale,t:n}}var i=t("../util/util"),a=t("../util/interpolate");e.exports=r,r.prototype.instant=function(){return!this.oldTransition||!this.interp||0===this.duration&&0===this.delay},r.prototype.calculate=function(t,e){var n=this.declaration.calculate(i.extend({},t,{duration:this.duration}),e);if(this.instant())return n;var r=t.time||Date.now();if(r<this.endTime){var o=this.oldTransition.calculate(i.extend({},t,{time:this.startTime}),e),a=this.ease((r-this.startTime-this.delay)/this.duration);n=this.interp(o,n,a)}return n}},{"../util/interpolate":389,"../util/util":395}],343:[function(t,e,n){"use strict";e.exports=t("mapbox-gl-style-spec/lib/validate_style.min"),e.exports.emitErrors=function(t,e){if(e&&e.length){for(var n=0;n<e.length;n++)t.fire("error",{error:new Error(e[n].message)});return!0}return!1},e.exports.throwErrors=function(t,e){if(e)for(var n=0;n<e.length;n++)throw new Error(e[n].message)}},{"mapbox-gl-style-spec/lib/validate_style.min":444}],344:[function(t,e,n){"use strict";function r(t,e,n,r){this.x=t,this.y=e,this.angle=n,void 0!==r&&(this.segment=r)}var o=t("point-geometry");e.exports=r,r.prototype=Object.create(o.prototype),r.prototype.clone=function(){return new r(this.x,this.y,this.angle,this.segment)}},{"point-geometry":453}],345:[function(t,e,n){"use strict";function r(t,e,n,r,o){if(void 0===e.segment)return!0;for(var i=e,a=e.segment+1,s=0;s>-n/2;){if(a--,a<0)return!1;s-=t[a].dist(i),i=t[a]}s+=t[a].dist(t[a+1]),a++;for(var l=[],u=0;s<n/2;){var c=t[a-1],f=t[a],p=t[a+1];if(!p)return!1;var h=c.angleTo(f)-f.angleTo(p);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:h}),u+=h;s-l[0].distance>r;)u-=l.shift().angleDelta;if(u>o)return!1;a++,s+=f.dist(p)}return!0}e.exports=r},{}],346:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var a=[],s=0;s<t.length;s++)for(var l,u=t[s],c=0;c<u.length-1;c++){var f=u[c],p=u[c+1];f.x<e&&p.x<e||(f.x<e?f=new o(e,f.y+(p.y-f.y)*((e-f.x)/(p.x-f.x)))._round():p.x<e&&(p=new o(e,f.y+(p.y-f.y)*((e-f.x)/(p.x-f.x)))._round()),f.y<n&&p.y<n||(f.y<n?f=new o(f.x+(p.x-f.x)*((n-f.y)/(p.y-f.y)),n)._round():p.y<n&&(p=new o(f.x+(p.x-f.x)*((n-f.y)/(p.y-f.y)),n)._round()),f.x>=r&&p.x>=r||(f.x>=r?f=new o(r,f.y+(p.y-f.y)*((r-f.x)/(p.x-f.x)))._round():p.x>=r&&(p=new o(r,f.y+(p.y-f.y)*((r-f.x)/(p.x-f.x)))._round()),f.y>=i&&p.y>=i||(f.y>=i?f=new o(f.x+(p.x-f.x)*((i-f.y)/(p.y-f.y)),i)._round():p.y>=i&&(p=new o(f.x+(p.x-f.x)*((i-f.y)/(p.y-f.y)),i)._round()),l&&f.equals(l[l.length-1])||(l=[f],a.push(l)),l.push(p)))))}return a}var o=t("point-geometry");e.exports=r},{"point-geometry":453}],347:[function(t,e,n){"use strict";var r=t("../util/struct_array"),o=t("../util/util"),i=t("point-geometry"),a=e.exports=new r({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Float32",name:"maxScale"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"bbox0"},{type:"Int16",name:"bbox1"},{type:"Int16",name:"bbox2"},{type:"Int16",name:"bbox3"},{type:"Float32",name:"placementScale"}]});o.extendAll(a.prototype.StructType.prototype,{get anchorPoint(){return new i(this.anchorPointX,this.anchorPointY)}})},{"../util/struct_array":393,"../util/util":395,"point-geometry":453}],348:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s,l,u,c){var f=a.top*s-l,p=a.bottom*s+l,h=a.left*s-l,d=a.right*s+l;if(this.boxStartIndex=t.length,u){var m=p-f,y=d-h;if(m>0)if(m=Math.max(10*s,m),c){var v=e[n.segment+1].sub(e[n.segment])._unit()._mult(y),g=[n.sub(v),n.add(v)];this._addLineCollisionBoxes(t,g,n,0,y,m,r,o,i)}else this._addLineCollisionBoxes(t,e,n,n.segment,y,m,r,o,i)}else t.emplaceBack(n.x,n.y,h,f,d,p,1/0,r,o,i,0,0,0,0,0);this.boxEndIndex=t.length}e.exports=r,r.prototype._addLineCollisionBoxes=function(t,e,n,r,o,i,a,s,l){var u=i/2,c=Math.floor(o/u),f=-i/2,p=this.boxes,h=n,d=r+1,m=f;do{if(d--,d<0)return p;m-=e[d].dist(h),h=e[d]}while(m>-o/2);for(var y=e[d].dist(e[d+1]),v=0;v<c;v++){for(var g=-o/2+v*u;m+y<g;){if(m+=y,d++,d+1>=e.length)return p;y=e[d].dist(e[d+1])}var b=g-m,_=e[d],x=e[d+1],w=x.sub(_)._unit()._mult(b)._add(_)._round(),T=Math.max(Math.abs(g-f)-u/2,0),E=o/2/T;t.emplaceBack(w.x,w.y,-i/2,-i/2,i/2,i/2,E,a,s,l,0,0,0,0,0)}return p}},{}],349:[function(t,e,n){"use strict";function r(t,e,n){if("object"==typeof t){var r=t;n=e,t=r.angle,e=r.pitch,this.grid=new a(r.grid),this.ignoredGrid=new a(r.ignoredGrid)}else this.grid=new a(i,12,6),this.ignoredGrid=new a(i,12,0);this.angle=t,this.pitch=e;var o=Math.sin(t),s=Math.cos(t);if(this.rotationMatrix=[s,-o,o,s],this.reverseRotationMatrix=[s,o,-o,s],this.yStretch=1/Math.cos(e/180*Math.PI),this.yStretch=Math.pow(this.yStretch,1.3),this.collisionBoxArray=n,0===n.length){n.emplaceBack();var l=32767;n.emplaceBack(0,0,0,-l,0,l,l,0,0,0,0,0,0,0,0,0),n.emplaceBack(i,0,0,-l,0,l,l,0,0,0,0,0,0,0,0,0),n.emplaceBack(0,0,-l,0,l,0,l,0,0,0,0,0,0,0,0,0),n.emplaceBack(0,i,-l,0,l,0,l,0,0,0,0,0,0,0,0,0)}this.tempCollisionBox=n.get(0),this.edges=[n.get(1),n.get(2),n.get(3),n.get(4)]}var o=t("point-geometry"),i=t("../data/bucket").EXTENT,a=t("grid-index");e.exports=r,r.prototype.serialize=function(){var t={angle:this.angle,pitch:this.pitch,grid:this.grid.toArrayBuffer(),ignoredGrid:this.ignoredGrid.toArrayBuffer()};return{data:t,transferables:[t.grid,t.ignoredGrid]}},r.prototype.minScale=.25,r.prototype.maxScale=2,r.prototype.placeCollisionFeature=function(t,e,n){for(var r=this.collisionBoxArray,i=this.minScale,a=this.rotationMatrix,s=this.yStretch,l=t.boxStartIndex;l<t.boxEndIndex;l++){var u=r.get(l),c=u.anchorPoint._matMult(a),f=c.x,p=c.y,h=f+u.x1,d=p+u.y1*s,m=f+u.x2,y=p+u.y2*s;if(u.bbox0=h,u.bbox1=d,u.bbox2=m,u.bbox3=y,!e)for(var v=this.grid.query(h,d,m,y),g=0;g<v.length;g++){var b=r.get(v[g]),_=b.anchorPoint._matMult(a);if(i=this.getPlacementScale(i,c,u,_,b),i>=this.maxScale)return i}if(n){var x;if(this.angle){var w=this.reverseRotationMatrix,T=new o(u.x1,u.y1).matMult(w),E=new o(u.x2,u.y1).matMult(w),C=new o(u.x1,u.y2).matMult(w),k=new o(u.x2,u.y2).matMult(w);x=this.tempCollisionBox,x.anchorPointX=u.anchorPoint.x,x.anchorPointY=u.anchorPoint.y,x.x1=Math.min(T.x,E.x,C.x,k.x),x.y1=Math.min(T.y,E.x,C.x,k.x),x.x2=Math.max(T.x,E.x,C.x,k.x),x.y2=Math.max(T.y,E.x,C.x,k.x),x.maxScale=u.maxScale}else x=u;for(var S=0;S<this.edges.length;S++){var P=this.edges[S];if(i=this.getPlacementScale(i,u.anchorPoint,x,P.anchorPoint,P),i>=this.maxScale)return i}}}return i},r.prototype.queryRenderedSymbols=function(t,e,n,r,i){var a={},s=[],l=this.collisionBoxArray,u=this.rotationMatrix,c=new o(t,e)._matMult(u),f=this.tempCollisionBox;f.anchorX=c.x,f.anchorY=c.y,f.x1=0,f.y1=0,f.x2=n-t,f.y2=r-e,f.maxScale=i,i=f.maxScale;for(var p=[c.x+f.x1/i,c.y+f.y1/i*this.yStretch,c.x+f.x2/i,c.y+f.y2/i*this.yStretch],h=this.grid.query(p[0],p[1],p[2],p[3]),d=this.ignoredGrid.query(p[0],p[1],p[2],p[3]),m=0;m<d.length;m++)h.push(d[m]);for(var y=0;y<h.length;y++){var v=l.get(h[y]),g=v.sourceLayerIndex,b=v.featureIndex;if(void 0===a[g]&&(a[g]={}),!a[g][b]){var _=v.anchorPoint.matMult(u),x=this.getPlacementScale(this.minScale,c,f,_,v);x>=i&&(a[g][b]=!0,s.push(h[y]))}}return s},r.prototype.getPlacementScale=function(t,e,n,r,o){var i=e.x-r.x,a=e.y-r.y,s=(o.x1-n.x2)/i,l=(o.x2-n.x1)/i,u=(o.y1-n.y2)*this.yStretch/a,c=(o.y2-n.y1)*this.yStretch/a;(isNaN(s)||isNaN(l))&&(s=l=1),(isNaN(u)||isNaN(c))&&(u=c=1);var f=Math.min(Math.max(s,l),Math.max(u,c)),p=o.maxScale,h=n.maxScale;return f>p&&(f=p),f>h&&(f=h),f>t&&f>=o.placementScale&&(t=f),t},r.prototype.insertCollisionFeature=function(t,e,n){for(var r=n?this.ignoredGrid:this.grid,o=this.collisionBoxArray,i=t.boxStartIndex;i<t.boxEndIndex;i++){var a=o.get(i);a.placementScale=e,e<this.maxScale&&r.insert(i,a.bbox0,a.bbox1,a.bbox2,a.bbox3)}}},{"../data/bucket":282,"grid-index":421,"point-geometry":453}],350:[function(t,e,n){"use strict";function r(t,e,n,r,i,a,s,l,u){var c=r?.6*a*s:0,f=Math.max(r?r.right-r.left:0,i?i.right-i.left:0),p=0===t[0].x||t[0].x===u||0===t[0].y||t[0].y===u;e-f*s<e/4&&(e=f*s+e/4);var h=2*a,d=p?e/2*l%e:(f/2+h)*s*l%e;return o(t,d,e,c,n,f*s,p,!1,u)}function o(t,e,n,r,l,u,c,f,p){for(var h=u/2,d=0,m=0;m<t.length-1;m++)d+=t[m].dist(t[m+1]);for(var y=0,v=e-n,g=[],b=0;b<t.length-1;b++){for(var _=t[b],x=t[b+1],w=_.dist(x),T=x.angleTo(_);v+n<y+w;){v+=n;var E=(v-y)/w,C=i(_.x,x.x,E),k=i(_.y,x.y,E);if(C>=0&&C<p&&k>=0&&k<p&&v-h>=0&&v+h<=d){var S=new a(C,k,T,b)._round();r&&!s(t,S,u,r,l)||g.push(S)}}y+=w}return f||g.length||c||(g=o(t,y/2,n,r,l,u,c,!0,p)),g}var i=t("../util/interpolate"),a=t("../symbol/anchor"),s=t("./check_max_angle");e.exports=r},{"../symbol/anchor":344,"../util/interpolate":389,"./check_max_angle":345}],351:[function(t,e,n){"use strict";function r(){this.width=s,this.height=s,this.bin=new o(this.width,this.height),this.index={},this.ids={},this.data=new Uint8Array(this.width*this.height)}var o=t("shelf-pack"),i=t("../util/util"),a=4,s=128,l=2048;e.exports=r,r.prototype.getGlyphs=function(){var t,e,n,r={};for(var o in this.ids)t=o.split("#"),e=t[0],n=t[1],r[e]||(r[e]=[]),r[e].push(n);return r},r.prototype.getRects=function(){var t,e,n,r={};for(var o in this.ids)t=o.split("#"),e=t[0],n=t[1],r[e]||(r[e]={}),r[e][n]=this.index[o];return r},r.prototype.addGlyph=function(t,e,n,r){if(!n)return null;var o=e+"#"+n.id;if(this.index[o])return this.ids[o].indexOf(t)<0&&this.ids[o].push(t),this.index[o];if(!n.bitmap)return null;var a=n.width+2*r,s=n.height+2*r,l=1,u=a+2*l,c=s+2*l;u+=4-u%4,c+=4-c%4;var f=this.bin.packOne(u,c);if(f||(this.resize(),f=this.bin.packOne(u,c)),!f)return i.warnOnce("glyph bitmap overflow"),null;this.index[o]=f,this.ids[o]=[t];for(var p=this.data,h=n.bitmap,d=0;d<s;d++)for(var m=this.width*(f.y+d+l)+f.x+l,y=a*d,v=0;v<a;v++)p[m+v]=h[y+v];return this.dirty=!0,f},r.prototype.resize=function(){var t=this.width,e=this.height;if(!(t>=l||e>=l)){this.texture&&(this.gl&&this.gl.deleteTexture(this.texture),this.texture=null),this.width*=a,this.height*=a,this.bin.resize(this.width,this.height);for(var n=new ArrayBuffer(this.width*this.height),r=0;r<e;r++){var o=new Uint8Array(this.data.buffer,e*r,t),i=new Uint8Array(n,e*r*a,t);i.set(o)}this.data=new Uint8Array(n)}},r.prototype.bind=function(t){this.gl=t,this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,null))},r.prototype.updateTexture=function(t){this.bind(t),this.dirty&&(t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data),this.dirty=!1)}},{"../util/util":395,"shelf-pack":456}],352:[function(t,e,n){"use strict";function r(t){this.url=t&&a(t),this.atlases={},this.stacks={},this.loading={}}function o(t,e,n){var r=1;this.advance=t.advance,this.left=t.left-n-r,this.top=t.top+n+r,this.rect=e}function i(t,e,n,r){return r=r||"abc",n.replace("{s}",r[t.length%r.length]).replace("{fontstack}",t).replace("{range}",e)}var a=t("../util/mapbox").normalizeGlyphsURL,s=t("../util/ajax").getArrayBuffer,l=t("../util/glyphs"),u=t("../symbol/glyph_atlas"),c=t("pbf");e.exports=r,r.prototype.getSimpleGlyphs=function(t,e,n,r){void 0===this.stacks[t]&&(this.stacks[t]={}),void 0===this.atlases[t]&&(this.atlases[t]=new u);for(var i,a={},s=this.stacks[t],l=this.atlases[t],c=3,f={},p=0,h=0;h<e.length;h++){var d=e[h];if(i=Math.floor(d/256),s[i]){var m=s[i].glyphs[d],y=l.addGlyph(n,t,m,c);m&&(a[d]=new o(m,y,c))}else void 0===f[i]&&(f[i]=[],p++),f[i].push(d)}p||r(void 0,a,t);var v=function(e,i,s){if(!e)for(var u=this.stacks[t][i]=s.stacks[0],h=0;h<f[i].length;h++){var d=f[i][h],m=u.glyphs[d],y=l.addGlyph(n,t,m,c);m&&(a[d]=new o(m,y,c))}p--,p||r(void 0,a,t)}.bind(this);for(var g in f)this.loadRange(t,g,v)},r.prototype.loadRange=function(t,e,n){if(256*e>65535)return n("glyphs > 65535 not supported");void 0===this.loading[t]&&(this.loading[t]={});var r=this.loading[t];if(r[e])r[e].push(n);else{r[e]=[n];var o=256*e+"-"+(256*e+255),a=i(t,o,this.url);s(a,function(t,n){for(var o=!t&&new l(new c(new Uint8Array(n))),i=0;i<r[e].length;i++)r[e][i](t,e,o);delete r[e]})}},r.prototype.getGlyphAtlas=function(t){return this.atlases[t]}},{"../symbol/glyph_atlas":351,"../util/ajax":378,"../util/glyphs":388,"../util/mapbox":392,pbf:451}],353:[function(t,e,n){"use strict";e.exports=function(t,e,n){function r(r){c.push(t[r]),f.push(n[r]),p.push(e[r]),h++}function o(t,e,n){var r=u[t];return delete u[t],u[e]=r,f[r][0].pop(),f[r][0]=f[r][0].concat(n[0]),r}function i(t,e,n){var r=l[e];return delete l[e],l[t]=r,f[r][0].shift(),f[r][0]=n[0].concat(f[r][0]),r}function a(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}var s,l={},u={},c=[],f=[],p=[],h=0;for(s=0;s<t.length;s++){var d=n[s],m=e[s];if(m){var y=a(m,d),v=a(m,d,!0);if(y in u&&v in l&&u[y]!==l[v]){var g=i(y,v,d),b=o(y,v,f[g]);delete l[y],delete u[v],u[a(m,f[b],!0)]=b,f[g]=null}else y in u?o(y,v,d):v in l?i(y,v,d):(r(s),l[y]=h-1,u[v]=h-1)}else r(s)}return{features:c,textFeatures:p,geometries:f}}},{}],354:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s,l,u){this.anchorPoint=t,this.tl=e,this.tr=n,this.bl=r,this.br=o,this.tex=i,this.anchorAngle=a,this.glyphAngle=s,this.minScale=l,this.maxScale=u}function o(t,e,n,o,i,a,u,c,f){var p,h,d,m,y=e.image.rect,v=i.layout,g=1,b=e.left-g,_=b+y.w/e.image.pixelRatio,x=e.top-g,w=x+y.h/e.image.pixelRatio;if("none"!==v["icon-text-fit"]&&u){var T=_-b,E=w-x,C=v["text-size"]/24,k=u.left*C,S=u.right*C,P=u.top*C,M=u.bottom*C,A=S-k,O=M-P,D=v["icon-text-fit-padding"][0],L=v["icon-text-fit-padding"][1],I=v["icon-text-fit-padding"][2],j=v["icon-text-fit-padding"][3],F="width"===v["icon-text-fit"]?.5*(O-E):0,R="height"===v["icon-text-fit"]?.5*(A-T):0,N="width"===v["icon-text-fit"]||"both"===v["icon-text-fit"]?A:T,z="height"===v["icon-text-fit"]||"both"===v["icon-text-fit"]?O:E;p=new s(k+R-j,P+F-D),h=new s(k+R+L+N,P+F-D),d=new s(k+R+L+N,P+F+I+z),m=new s(k+R-j,P+F+I+z)}else p=new s(b,x),h=new s(_,x),d=new s(_,w),m=new s(b,w);var B=i.getLayoutValue("icon-rotate",c,f)*Math.PI/180;if(a){var U=o[t.segment];if(t.y===U.y&&t.x===U.x&&t.segment+1<o.length){var W=o[t.segment+1];B+=Math.atan2(t.y-W.y,t.x-W.x)+Math.PI}else B+=Math.atan2(t.y-U.y,t.x-U.x)}if(B){var q=Math.sin(B),V=Math.cos(B),H=[V,-q,q,V];p=p.matMult(H),h=h.matMult(H),m=m.matMult(H),d=d.matMult(H)}return[new r(new s(t.x,t.y),p,h,m,d,e.image.rect,0,0,l,1/0)]}function i(t,e,n,o,i,u){for(var c=i.layout["text-rotate"]*Math.PI/180,f=i.layout["text-keep-upright"],p=e.positionedGlyphs,h=[],d=0;d<p.length;d++){var m=p[d],y=m.glyph,v=y.rect;if(v){var g,b=(m.x+y.advance/2)*n,_=l;u?(g=[],_=a(g,t,b,o,t.segment,!0),f&&(_=Math.min(_,a(g,t,b,o,t.segment,!1)))):g=[{anchorPoint:new s(t.x,t.y),offset:0,angle:0,maxScale:1/0,minScale:l}];for(var x=m.x+y.left,w=m.y-y.top,T=x+v.w,E=w+v.h,C=new s(x,w),k=new s(T,w),S=new s(x,E),P=new s(T,E),M=0;M<g.length;M++){var A=g[M],O=C,D=k,L=S,I=P;if(c){var j=Math.sin(c),F=Math.cos(c),R=[F,-j,j,F];O=O.matMult(R),D=D.matMult(R),L=L.matMult(R),I=I.matMult(R)}var N=Math.max(A.minScale,_),z=(t.angle+A.offset+2*Math.PI)%(2*Math.PI),B=(A.angle+A.offset+2*Math.PI)%(2*Math.PI);h.push(new r(A.anchorPoint,O,D,L,I,v,z,B,N,A.maxScale))}}}return h}function a(t,e,n,r,o,i){var a=!i;n<0&&(i=!i),i&&o++;var u=new s(e.x,e.y),c=r[o],f=1/0;n=Math.abs(n);for(var p=l;;){var h=u.dist(c),d=n/h,m=Math.atan2(c.y-u.y,c.x-u.x);if(i||(m+=Math.PI),t.push({anchorPoint:u,offset:a?Math.PI:0,minScale:d,maxScale:f,angle:(m+2*Math.PI)%(2*Math.PI)}),d<=p)break;for(u=c;u.equals(c);)if(o+=i?1:-1,c=r[o],!c)return d;var y=c.sub(u)._unit();u=u.sub(y._mult(h)),f=d}return p}var s=t("point-geometry");e.exports={getIconQuads:o,getGlyphQuads:i,SymbolQuad:r};var l=.5},{"point-geometry":453}],355:[function(t,e,n){"use strict";function r(t,e,n){for(var r=[],i=0,a=t.length;i<a;i++){var s=o(t[i].properties,e["text-field"]);if(s){s=s.toString();var l=e["text-transform"];"uppercase"===l?s=s.toLocaleUpperCase():"lowercase"===l&&(s=s.toLocaleLowerCase());for(var u=0;u<s.length;u++)n[s.charCodeAt(u)]=!0;r[i]=s}else r[i]=null}return r}var o=t("../util/token");e.exports=r},{"../util/token":394}],356:[function(t,e,n){"use strict";function r(t,e,n,r){this.codePoint=t,this.x=e,this.y=n,this.glyph=r}function o(t,e,n,r,o,i){this.positionedGlyphs=t,this.text=e,this.top=n,this.bottom=r,this.left=o,this.right=i}function i(t,e,n,i,s,l,u,c,f){for(var p=[],h=new o(p,t,f[1],f[1],f[0],f[0]),d=-17,m=0,y=d,v=0;v<t.length;v++){var g=t.charCodeAt(v),b=e[g];b&&(p.push(new r(g,m,y,b)),m+=b.advance+c)}return!!p.length&&(a(h,e,i,n,s,l,u,f),h)}function a(t,e,n,r,o,i,a,u){var c=null,h=0,d=0,m=0,y=0,v=t.positionedGlyphs;if(r)for(var g=0;g<v.length;g++){var b=v[g];if(b.x-=h,b.y+=n*m,b.x>r&&null!==c){var _=v[c+1].x;y=Math.max(_,y);for(var x=c+1;x<=g;x++)v[x].y+=n,v[x].x-=_;if(a){var w=c;f[v[c].codePoint]&&w--,s(v,e,d,w,a)}d=c+1,c=null,h+=_,m++}p[b.codePoint]&&(c=g)}var T=v[v.length-1],E=T.x+e[T.codePoint].advance;y=Math.max(y,E);var C=(m+1)*n;s(v,e,d,v.length-1,a),l(v,a,o,i,y,n,m,u),t.top+=-i*C,t.bottom=t.top+C,t.left+=-o*y,t.right=t.left+y}function s(t,e,n,r,o){for(var i=e[t[r].codePoint].advance,a=(t[r].x+i)*o,s=n;s<=r;s++)t[s].x-=a}function l(t,e,n,r,o,i,a,s){for(var l=(e-n)*o+s[0],u=(-r*(a+1)+.5)*i+s[1],c=0;c<t.length;c++)t[c].x+=l,t[c].y+=u}function u(t,e){if(!t||!t.rect)return null;var n=e["icon-offset"][0],r=e["icon-offset"][1],o=n-t.width/2,i=o+t.width,a=r-t.height/2,s=a+t.height;return new c(t,a,s,o,i)}function c(t,e,n,r,o){this.image=t,this.top=e,this.bottom=n,this.left=r,this.right=o}e.exports={shapeText:i,shapeIcon:u};var f={32:!0,8203:!0},p={32:!0,38:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0}},{}],357:[function(t,e,n){"use strict";function r(t,e){this.width=t,this.height=e,this.bin=new a(t,e),this.images={},this.data=!1,this.texture=0,this.filter=0,this.pixelRatio=1,this.dirty=!0}function o(t,e,n,r,o,i,a,s,l,u,c){var f,p,h=r*e+n,d=s*i+a;if(c)for(d-=i,p=-1;p<=u;p++,h=((p+u)%u+r)*e+n,d+=i)for(f=-1;f<=l;f++)o[d+f]=t[h+(f+l)%l];else for(p=0;p<u;p++,h+=e,d+=i)for(f=0;f<l;f++)o[d+f]=t[h+f]}function i(t,e,n,r,o){this.rect=t,this.width=e,this.height=n,this.sdf=r,this.pixelRatio=o}var a=t("shelf-pack"),s=t("../util/browser"),l=t("../util/util");e.exports=r,r.prototype.allocateImage=function(t,e){t/=this.pixelRatio,e/=this.pixelRatio;var n=2,r=t+n+(4-(t+n)%4),o=e+n+(4-(e+n)%4),i=this.bin.packOne(r,o);return i?i:(l.warnOnce("SpriteAtlas out of space."),null)},r.prototype.getImage=function(t,e){if(this.images[t])return this.images[t];if(!this.sprite)return null;var n=this.sprite.getSpritePosition(t);if(!n.width||!n.height)return null;var r=this.allocateImage(n.width,n.height);if(!r)return null;var o=new i(r,n.width/n.pixelRatio,n.height/n.pixelRatio,n.sdf,n.pixelRatio/this.pixelRatio);return this.images[t]=o,this.copy(r,n,e),o},r.prototype.getPosition=function(t,e){var n=this.getImage(t,e),r=n&&n.rect;if(!r)return null;var o=n.width*n.pixelRatio,i=n.height*n.pixelRatio,a=1;return{size:[n.width,n.height],tl:[(r.x+a)/this.width,(r.y+a)/this.height],br:[(r.x+a+o)/this.width,(r.y+a+i)/this.height]}},r.prototype.allocate=function(){if(!this.data){var t=Math.floor(this.width*this.pixelRatio),e=Math.floor(this.height*this.pixelRatio);this.data=new Uint32Array(t*e);for(var n=0;n<this.data.length;n++)this.data[n]=0}},r.prototype.copy=function(t,e,n){if(this.sprite.img.data){var r=new Uint32Array(this.sprite.img.data.buffer);this.allocate();var i=this.data,a=1;o(r,this.sprite.img.width,e.x,e.y,i,this.width*this.pixelRatio,(t.x+a)*this.pixelRatio,(t.y+a)*this.pixelRatio,e.width,e.height,n),this.dirty=!0}},r.prototype.setSprite=function(t){t&&(this.pixelRatio=s.devicePixelRatio>1?2:1,this.canvas&&(this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio)),this.sprite=t},r.prototype.addIcons=function(t,e){for(var n=0;n<t.length;n++)this.getImage(t[n]);e(null,this.images)},r.prototype.bind=function(t,e){var n=!1;this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n=!0);var r=e?t.LINEAR:t.NEAREST;r!==this.filter&&(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,r),this.filter=r),this.dirty&&(this.allocate(),n?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width*this.pixelRatio,this.height*this.pixelRatio,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width*this.pixelRatio,this.height*this.pixelRatio,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)),this.dirty=!1)}},{"../util/browser":379,"../util/util":395,"shelf-pack":456}],358:[function(t,e,n){"use strict";var r=t("../util/struct_array"),o=t("../util/util"),i=t("point-geometry"),a=e.exports=new r({members:[{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"glyphQuadStartIndex"},{type:"Uint16",name:"glyphQuadEndIndex"},{type:"Uint16",name:"iconQuadStartIndex"},{type:"Uint16",name:"iconQuadEndIndex"},{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int8",name:"index"}]});o.extendAll(a.prototype.StructType.prototype,{get anchorPoint(){return new i(this.anchorPointX,this.anchorPointY)}})},{"../util/struct_array":393,"../util/util":395,"point-geometry":453}],359:[function(t,e,n){"use strict";var r=t("../util/struct_array"),o=t("../util/util"),i=t("point-geometry"),a=t("./quads").SymbolQuad,s=e.exports=new r({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Float32",name:"tlX"},{type:"Float32",name:"tlY"},{type:"Float32",name:"trX"},{type:"Float32",name:"trY"},{type:"Float32",name:"blX"},{type:"Float32",name:"blY"},{type:"Float32",name:"brX"},{type:"Float32",name:"brY"},{type:"Int16",name:"texH"},{type:"Int16",name:"texW"},{type:"Int16",name:"texX"},{type:"Int16",name:"texY"},{type:"Float32",name:"anchorAngle"},{type:"Float32",name:"glyphAngle"},{type:"Float32",name:"maxScale"},{type:"Float32",name:"minScale"}]});o.extendAll(s.prototype.StructType.prototype,{get anchorPoint(){return new i(this.anchorPointX,this.anchorPointY)},get SymbolQuad(){return new a(this.anchorPoint,new i(this.tlX,this.tlY),new i(this.trX,this.trY),new i(this.blX,this.blY),new i(this.brX,this.brY),{x:this.texX,y:this.texY,h:this.texH,w:this.texW,height:this.texH,width:this.texW},this.anchorAngle,this.glyphAngle,this.minScale,this.maxScale)}})},{"../util/struct_array":393,"../util/util":395,"./quads":354,"point-geometry":453}],360:[function(t,e,n){"use strict";var r=t("../util/dom"),o=t("point-geometry"),i={scrollZoom:t("./handler/scroll_zoom"),boxZoom:t("./handler/box_zoom"),dragRotate:t("./handler/drag_rotate"),dragPan:t("./handler/drag_pan"),keyboard:t("./handler/keyboard"),doubleClickZoom:t("./handler/dblclick_zoom"),touchZoomRotate:t("./handler/touch_zoom_rotate")};e.exports=function(t,e){function n(t){v("mouseout",t)}function a(e){t.stop(),x=r.mousePos(b,e),v("mousedown",e)}function s(e){var n=t.dragRotate&&t.dragRotate.isActive();_&&!n&&v("contextmenu",_),_=null,v("mouseup",e)}function l(e){if(!(t.dragPan&&t.dragPan.isActive()||t.dragRotate&&t.dragRotate.isActive())){for(var n=e.toElement||e.target;n&&n!==b;)n=n.parentNode;n===b&&v("mousemove",e)}}function u(e){t.stop(),g("touchstart",e),!e.touches||e.touches.length>1||(w?(clearTimeout(w),w=null,v("dblclick",e)):w=setTimeout(h,300))}function c(t){g("touchmove",t)}function f(t){g("touchend",t)}function p(t){g("touchcancel",t)}function h(){w=null}function d(t){var e=r.mousePos(b,t);e.equals(x)&&v("click",t)}function m(t){v("dblclick",t),t.preventDefault()}function y(t){_=t,t.preventDefault()}function v(e,n){var o=r.mousePos(b,n);return t.fire(e,{lngLat:t.unproject(o),point:o,originalEvent:n})}function g(e,n){var i=r.touchPos(b,n),a=i.reduce(function(t,e,n,r){return t.add(e.div(r.length))},new o(0,0));return t.fire(e,{lngLat:t.unproject(a),point:a,lngLats:i.map(function(e){return t.unproject(e)},this),points:i,originalEvent:n})}var b=t.getCanvasContainer(),_=null,x=null,w=null;for(var T in i)t[T]=new i[T](t,e),e.interactive&&e[T]&&t[T].enable();b.addEventListener("mouseout",n,!1),b.addEventListener("mousedown",a,!1),b.addEventListener("mouseup",s,!1),b.addEventListener("mousemove",l,!1),b.addEventListener("touchstart",u,!1),b.addEventListener("touchend",f,!1),b.addEventListener("touchmove",c,!1),b.addEventListener("touchcancel",p,!1),b.addEventListener("click",d,!1),b.addEventListener("dblclick",m,!1),b.addEventListener("contextmenu",y,!1)}},{"../util/dom":381,"./handler/box_zoom":366,"./handler/dblclick_zoom":367,"./handler/drag_pan":368,"./handler/drag_rotate":369,"./handler/keyboard":370,"./handler/scroll_zoom":371,"./handler/touch_zoom_rotate":372,"point-geometry":453}],361:[function(t,e,n){"use strict";var r=t("../util/util"),o=t("../util/interpolate"),i=t("../util/browser"),a=t("../geo/lng_lat"),s=t("../geo/lng_lat_bounds"),l=t("point-geometry"),u=e.exports=function(){};r.extend(u.prototype,{getCenter:function(){return this.transform.center},setCenter:function(t,e){return this.jumpTo({center:t},e),this},panBy:function(t,e,n){return this.panTo(this.transform.center,r.extend({offset:l.convert(t).mult(-1)},e),n),this},panTo:function(t,e,n){return this.easeTo(r.extend({center:t},e),n)},getZoom:function(){return this.transform.zoom},setZoom:function(t,e){return this.jumpTo({zoom:t},e),this},zoomTo:function(t,e,n){return this.easeTo(r.extend({zoom:t},e),n)},zoomIn:function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},zoomOut:function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},getBearing:function(){return this.transform.bearing},setBearing:function(t,e){return this.jumpTo({bearing:t},e),this},rotateTo:function(t,e,n){return this.easeTo(r.extend({bearing:t},e),n)},resetNorth:function(t,e){return this.rotateTo(0,r.extend({duration:1e3},t),e),this},snapToNorth:function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},getPitch:function(){return this.transform.pitch},setPitch:function(t,e){return this.jumpTo({pitch:t},e),this},fitBounds:function(t,e,n){e=r.extend({padding:0,offset:[0,0],maxZoom:1/0},e),t=s.convert(t);var o=l.convert(e.offset),i=this.transform,a=i.project(t.getNorthWest()),u=i.project(t.getSouthEast()),c=u.sub(a),f=(i.width-2*e.padding-2*Math.abs(o.x))/c.x,p=(i.height-2*e.padding-2*Math.abs(o.y))/c.y;return e.center=i.unproject(a.add(u).div(2)),e.zoom=Math.min(i.scaleZoom(i.scale*Math.min(f,p)),e.maxZoom),e.bearing=0,e.linear?this.easeTo(e,n):this.flyTo(e,n)},jumpTo:function(t,e){this.stop();var n=this.transform,r=!1,o=!1,i=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(r=!0,n.zoom=+t.zoom),"center"in t&&(n.center=a.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(o=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(i=!0,n.pitch=+t.pitch),this.fire("movestart",e).fire("move",e),r&&this.fire("zoomstart",e).fire("zoom",e).fire("zoomend",e),o&&this.fire("rotate",e),i&&this.fire("pitch",e),this.fire("moveend",e)},easeTo:function(t,e){this.stop(),t=r.extend({offset:[0,0],duration:500,easing:r.ease},t);var n,i,s=this.transform,u=l.convert(t.offset),c=this.getZoom(),f=this.getBearing(),p=this.getPitch(),h="zoom"in t?+t.zoom:c,d="bearing"in t?this._normalizeBearing(t.bearing,f):f,m="pitch"in t?+t.pitch:p;"center"in t?(n=a.convert(t.center),i=s.centerPoint.add(u)):"around"in t?(n=a.convert(t.around),i=s.locationPoint(n)):(i=s.centerPoint.add(u),n=s.pointLocation(i));var y=s.locationPoint(n);return t.animate===!1&&(t.duration=0),this.zooming=h!==c,this.rotating=f!==d,this.pitching=m!==p,t.noMoveStart||this.fire("movestart",e),this.zooming&&this.fire("zoomstart",e),clearTimeout(this._onEaseEnd),this._ease(function(t){this.zooming&&(s.zoom=o(c,h,t)),this.rotating&&(s.bearing=o(f,d,t)),this.pitching&&(s.pitch=o(p,m,t)),s.setLocationAtPoint(n,y.add(i.sub(y)._mult(t))),this.fire("move",e),this.zooming&&this.fire("zoom",e),this.rotating&&this.fire("rotate",e),this.pitching&&this.fire("pitch",e)},function(){t.delayEndEvents?this._onEaseEnd=setTimeout(this._easeToEnd.bind(this,e),t.delayEndEvents):this._easeToEnd(e)}.bind(this),t),this},_easeToEnd:function(t){var e=this.zooming;this.zooming=!1,this.rotating=!1,this.pitching=!1,e&&this.fire("zoomend",t),this.fire("moveend",t)},flyTo:function(t,e){function n(t){var e=(C*C-E*E+(t?-1:1)*M*M*k*k)/(2*(t?C:E)*M*k);return Math.log(Math.sqrt(e*e+1)-e)}function i(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function u(t){return i(t)/s(t)}this.stop(),t=r.extend({offset:[0,0],speed:1.2,curve:1.42,easing:r.ease},t);var c=this.transform,f=l.convert(t.offset),p=this.getZoom(),h=this.getBearing(),d=this.getPitch(),m="center"in t?a.convert(t.center):this.getCenter(),y="zoom"in t?+t.zoom:p,v="bearing"in t?this._normalizeBearing(t.bearing,h):h,g="pitch"in t?+t.pitch:d;Math.abs(c.center.lng)+Math.abs(m.lng)>180&&(c.center.lng>0&&m.lng<0?m.lng+=360:c.center.lng<0&&m.lng>0&&(m.lng-=360));var b=c.zoomScale(y-p),_=c.point,x="center"in t?c.project(m).sub(f.div(b)):_,w=c.worldSize,T=t.curve,E=Math.max(c.width,c.height),C=E/b,k=x.sub(_).mag();if("minZoom"in t){var S=r.clamp(Math.min(t.minZoom,p,y),c.minZoom,c.maxZoom),P=E/c.zoomScale(S-p);T=Math.sqrt(P/k*2)}var M=T*T,A=n(0),O=function(t){return s(A)/s(A+T*t)},D=function(t){return E*((s(A)*u(A+T*t)-i(A))/M)/k},L=(n(1)-A)/T;if(Math.abs(k)<1e-6){if(Math.abs(E-C)<1e-6)return this.easeTo(t);var I=C<E?-1:1;L=Math.abs(Math.log(C/E))/T,D=function(){return 0},O=function(t){return Math.exp(I*T*t)}}if("duration"in t)t.duration=+t.duration;else{var j="screenSpeed"in t?+t.screenSpeed/T:+t.speed;t.duration=1e3*L/j}return this.zooming=!0,h!==v&&(this.rotating=!0),d!==g&&(this.pitching=!0),this.fire("movestart",e),this.fire("zoomstart",e),this._ease(function(t){var n=t*L,r=D(n);c.zoom=p+c.scaleZoom(1/O(n)),c.center=c.unproject(_.add(x.sub(_).mult(r)),w),this.rotating&&(c.bearing=o(h,v,t)),this.pitching&&(c.pitch=o(d,g,t)),this.fire("move",e),this.fire("zoom",e),this.rotating&&this.fire("rotate",e),this.pitching&&this.fire("pitch",e)},function(){this.zooming=!1,this.rotating=!1,this.pitching=!1,this.fire("zoomend",e),this.fire("moveend",e)},t),this},isEasing:function(){return!!this._abortFn},stop:function(){return this._abortFn&&(this._abortFn(),this._finishEase()),this},_ease:function(t,e,n){this._finishFn=e,this._abortFn=i.timed(function(e){t.call(this,n.easing(e)),1===e&&this._finishEase()},n.animate===!1?0:n.duration,this)},_finishEase:function(){delete this._abortFn;var t=this._finishFn;delete this._finishFn,t.call(this)},_normalizeBearing:function(t,e){t=r.wrap(t,-180,180);var n=Math.abs(t-e);return Math.abs(t-360-e)<n&&(t-=360),Math.abs(t+360-e)<n&&(t+=360),t},_updateEasing:function(t,e,n){
var o;if(this.ease){var i=this.ease,a=(Date.now()-i.start)/i.duration,s=i.easing(a+.01)-i.easing(a),l=.27/Math.sqrt(s*s+1e-4)*.01,u=Math.sqrt(.0729-l*l);o=r.bezier(l,u,.25,1)}else o=n?r.bezier.apply(r,n):r.ease;return this.ease={start:(new Date).getTime(),to:Math.pow(2,e),duration:t,easing:o},o}})},{"../geo/lng_lat":292,"../geo/lng_lat_bounds":293,"../util/browser":379,"../util/interpolate":389,"../util/util":395,"point-geometry":453}],362:[function(t,e,n){"use strict";function r(t){a.setOptions(this,t)}var o=t("./control"),i=t("../../util/dom"),a=t("../../util/util");e.exports=r,r.createAttributionString=function(t){var e=[];for(var n in t){var r=t[n];r.attribution&&e.indexOf(r.attribution)<0&&e.push(r.attribution)}return e.sort(function(t,e){return t.length-e.length}),e=e.filter(function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0}),e.join(" | ")},r.prototype=a.inherit(o,{options:{position:"bottom-right"},onAdd:function(t){var e="mapboxgl-ctrl-attrib",n=this._container=i.create("div",e,t.getContainer());return this._update(),t.on("source.load",this._update.bind(this)),t.on("source.change",this._update.bind(this)),t.on("source.remove",this._update.bind(this)),t.on("moveend",this._updateEditLink.bind(this)),n},_update:function(){this._map.style&&(this._container.innerHTML=r.createAttributionString(this._map.style.sources)),this._editLink=this._container.getElementsByClassName("mapbox-improve-map")[0],this._updateEditLink()},_updateEditLink:function(){if(this._editLink){var t=this._map.getCenter();this._editLink.href="https://www.mapbox.com/map-feedback/#/"+t.lng+"/"+t.lat+"/"+Math.round(this._map.getZoom()+1)}}})},{"../../util/dom":381,"../../util/util":395,"./control":363}],363:[function(t,e,n){"use strict";function r(){}var o=t("../../util/util"),i=t("../../util/evented");e.exports=r,r.prototype={addTo:function(t){this._map=t;var e=this._container=this.onAdd(t);if(this.options&&this.options.position){var n=this.options.position,r=t._controlCorners[n];e.className+=" mapboxgl-ctrl",n.indexOf("bottom")!==-1?r.insertBefore(e,r.firstChild):r.appendChild(e)}return this},remove:function(){return this._container.parentNode.removeChild(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this}},o.extend(r.prototype,i)},{"../../util/evented":387,"../../util/util":395}],364:[function(t,e,n){"use strict";function r(t){s.setOptions(this,t)}var o=t("./control"),i=t("../../util/browser"),a=t("../../util/dom"),s=t("../../util/util");e.exports=r;var l={enableHighAccuracy:!1,timeout:6e3};r.prototype=s.inherit(o,{options:{position:"top-right"},onAdd:function(t){var e="mapboxgl-ctrl",n=this._container=a.create("div",e+"-group",t.getContainer());return i.supportsGeolocation?(this._container.addEventListener("contextmenu",this._onContextMenu.bind(this)),this._geolocateButton=a.create("button",e+"-icon "+e+"-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)),n):n},_onContextMenu:function(t){t.preventDefault()},_onClickGeolocate:function(){navigator.geolocation.getCurrentPosition(this._success.bind(this),this._error.bind(this),l),this._timeoutId=setTimeout(this._finish.bind(this),1e4)},_success:function(t){this._map.jumpTo({center:[t.coords.longitude,t.coords.latitude],zoom:17,bearing:0,pitch:0}),this.fire("geolocate",t),this._finish()},_error:function(t){this.fire("error",t),this._finish()},_finish:function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}})},{"../../util/browser":379,"../../util/dom":381,"../../util/util":395,"./control":363}],365:[function(t,e,n){"use strict";function r(t){s.setOptions(this,t)}function o(t){return new MouseEvent(t.type,{button:2,buttons:2,bubbles:!0,cancelable:!0,detail:t.detail,view:t.view,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,movementX:t.movementX,movementY:t.movementY,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey})}var i=t("./control"),a=t("../../util/dom"),s=t("../../util/util");e.exports=r,r.prototype=s.inherit(i,{options:{position:"top-right"},onAdd:function(t){var e="mapboxgl-ctrl",n=this._container=a.create("div",e+"-group",t.getContainer());return this._container.addEventListener("contextmenu",this._onContextMenu.bind(this)),this._zoomInButton=this._createButton(e+"-icon "+e+"-zoom-in",t.zoomIn.bind(t)),this._zoomOutButton=this._createButton(e+"-icon "+e+"-zoom-out",t.zoomOut.bind(t)),this._compass=this._createButton(e+"-icon "+e+"-compass",t.resetNorth.bind(t)),this._compassArrow=a.create("div","arrow",this._compass),this._compass.addEventListener("mousedown",this._onCompassDown.bind(this)),this._onCompassMove=this._onCompassMove.bind(this),this._onCompassUp=this._onCompassUp.bind(this),t.on("rotate",this._rotateCompassArrow.bind(this)),this._rotateCompassArrow(),this._el=t.getCanvasContainer(),n},_onContextMenu:function(t){t.preventDefault()},_onCompassDown:function(t){0===t.button&&(a.disableDrag(),document.addEventListener("mousemove",this._onCompassMove),document.addEventListener("mouseup",this._onCompassUp),this._el.dispatchEvent(o(t)),t.stopPropagation())},_onCompassMove:function(t){0===t.button&&(this._el.dispatchEvent(o(t)),t.stopPropagation())},_onCompassUp:function(t){0===t.button&&(document.removeEventListener("mousemove",this._onCompassMove),document.removeEventListener("mouseup",this._onCompassUp),a.enableDrag(),this._el.dispatchEvent(o(t)),t.stopPropagation())},_createButton:function(t,e){var n=a.create("button",t,this._container);return n.type="button",n.addEventListener("click",function(){e()}),n},_rotateCompassArrow:function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t}})},{"../../util/dom":381,"../../util/util":395,"./control":363}],366:[function(t,e,n){"use strict";function r(t){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),a.bindHandlers(this)}var o=t("../../util/dom"),i=t("../../geo/lng_lat_bounds"),a=t("../../util/util");e.exports=r,r.prototype={_enabled:!1,_active:!1,isEnabled:function(){return this._enabled},isActive:function(){return this._active},enable:function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onMouseDown,!1),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},_onMouseDown:function(t){t.shiftKey&&0===t.button&&(document.addEventListener("mousemove",this._onMouseMove,!1),document.addEventListener("keydown",this._onKeyDown,!1),document.addEventListener("mouseup",this._onMouseUp,!1),o.disableDrag(),this._startPos=o.mousePos(this._el,t),this._active=!0)},_onMouseMove:function(t){var e=this._startPos,n=o.mousePos(this._el,t);this._box||(this._box=o.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var r=Math.min(e.x,n.x),i=Math.max(e.x,n.x),a=Math.min(e.y,n.y),s=Math.max(e.y,n.y);o.setTransform(this._box,"translate("+r+"px,"+a+"px)"),this._box.style.width=i-r+"px",this._box.style.height=s-a+"px"},_onMouseUp:function(t){if(0===t.button){var e=this._startPos,n=o.mousePos(this._el,t),r=new i(this._map.unproject(e),this._map.unproject(n));this._finish(),e.x===n.x&&e.y===n.y?this._fireEvent("boxzoomcancel",t):this._map.fitBounds(r,{linear:!0}).fire("boxzoomend",{originalEvent:t,boxZoomBounds:r})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},_finish:function(){this._active=!1,document.removeEventListener("mousemove",this._onMouseMove,!1),document.removeEventListener("keydown",this._onKeyDown,!1),document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.parentNode.removeChild(this._box),this._box=null),o.enableDrag()},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})}}},{"../../geo/lng_lat_bounds":293,"../../util/dom":381,"../../util/util":395}],367:[function(t,e,n){"use strict";function r(t){this._map=t,this._onDblClick=this._onDblClick.bind(this)}e.exports=r,r.prototype={_enabled:!1,isEnabled:function(){return this._enabled},enable:function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},_onDblClick:function(t){this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)}}},{}],368:[function(t,e,n){"use strict";function r(t){this._map=t,this._el=t.getCanvasContainer(),i.bindHandlers(this)}var o=t("../../util/dom"),i=t("../../util/util");e.exports=r;var a=.3,s=i.bezier(0,0,a,1),l=1400,u=2500;r.prototype={_enabled:!1,_active:!1,isEnabled:function(){return this._enabled},isActive:function(){return this._active},enable:function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown),this._enabled=!1)},_onDown:function(t){this._ignoreEvent(t)||this.isActive()||(t.touches?(document.addEventListener("touchmove",this._onMove),document.addEventListener("touchend",this._onTouchEnd)):(document.addEventListener("mousemove",this._onMove),document.addEventListener("mouseup",this._onMouseUp)),this._active=!1,this._startPos=this._pos=o.mousePos(this._el,t),this._inertia=[[Date.now(),this._pos]])},_onMove:function(t){if(!this._ignoreEvent(t)){this.isActive()||(this._active=!0,this._fireEvent("dragstart",t),this._fireEvent("movestart",t));var e=o.mousePos(this._el,t),n=this._map;n.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),e]),n.transform.setLocationAtPoint(n.transform.pointLocation(this._pos),e),this._fireEvent("drag",t),this._fireEvent("move",t),this._pos=e,t.preventDefault()}},_onUp:function(t){if(this.isActive()){this._active=!1,this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=function(){this._fireEvent("moveend",t)}.bind(this),n=this._inertia;if(n.length<2)return void e();var r=n[n.length-1],o=n[0],i=r[1].sub(o[1]),c=(r[0]-o[0])/1e3;if(0===c||r[1].equals(o[1]))return void e();var f=i.mult(a/c),p=f.mag();p>l&&(p=l,f._unit()._mult(p));var h=p/(u*a),d=f.mult(-h/2);this._map.panBy(d,{duration:1e3*h,easing:s,noMoveStart:!0},{originalEvent:t})}},_onMouseUp:function(t){this._ignoreEvent(t)||(this._onUp(t),document.removeEventListener("mousemove",this._onMove),document.removeEventListener("mouseup",this._onMouseUp))},_onTouchEnd:function(t){this._ignoreEvent(t)||(this._onUp(t),document.removeEventListener("touchmove",this._onMove),document.removeEventListener("touchend",this._onTouchEnd))},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})},_ignoreEvent:function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.isActive())return!0;if(e.dragRotate&&e.dragRotate.isActive())return!0;if(t.touches)return t.touches.length>1;if(t.ctrlKey)return!0;var n=1,r=0;return"mousemove"===t.type?t.buttons&0===n:t.button!==r},_drainInertiaBuffer:function(){for(var t=this._inertia,e=Date.now(),n=160;t.length>0&&e-t[0][0]>n;)t.shift()}}},{"../../util/dom":381,"../../util/util":395}],369:[function(t,e,n){"use strict";function r(t,e){this._map=t,this._el=t.getCanvasContainer(),this._bearingSnap=e.bearingSnap,a.bindHandlers(this)}var o=t("../../util/dom"),i=t("point-geometry"),a=t("../../util/util");e.exports=r;var s=.25,l=a.bezier(0,0,s,1),u=180,c=720;r.prototype={_enabled:!1,_active:!1,isEnabled:function(){return this._enabled},isActive:function(){return this._active},enable:function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},_onDown:function(t){if(!this._ignoreEvent(t)&&!this.isActive()){document.addEventListener("mousemove",this._onMove),document.addEventListener("mouseup",this._onUp),this._active=!1,this._inertia=[[Date.now(),this._map.getBearing()]],this._startPos=this._pos=o.mousePos(this._el,t),this._center=this._map.transform.centerPoint;var e=this._startPos.sub(this._center),n=e.mag();n<200&&(this._center=this._startPos.add(new i((-200),0)._rotate(e.angle()))),t.preventDefault()}},_onMove:function(t){if(!this._ignoreEvent(t)){this.isActive()||(this._active=!0,this._fireEvent("rotatestart",t),this._fireEvent("movestart",t));var e=this._map;e.stop();var n=this._pos,r=o.mousePos(this._el,t),i=this._center,a=n.sub(i).angleWith(r.sub(i))/Math.PI*180,s=e.getBearing()-a,l=this._inertia,u=l[l.length-1];this._drainInertiaBuffer(),l.push([Date.now(),e._normalizeBearing(s,u[1])]),e.transform.bearing=s,this._fireEvent("rotate",t),this._fireEvent("move",t),this._pos=r}},_onUp:function(t){if(!this._ignoreEvent(t)&&(document.removeEventListener("mousemove",this._onMove),document.removeEventListener("mouseup",this._onUp),this.isActive())){this._active=!1,this._fireEvent("rotateend",t),this._drainInertiaBuffer();var e=this._map,n=e.getBearing(),r=this._inertia,o=function(){Math.abs(n)<this._bearingSnap?e.resetNorth({noMoveStart:!0},{originalEvent:t}):this._fireEvent("moveend",t)}.bind(this);if(r.length<2)return void o();var i=r[0],a=r[r.length-1],f=r[r.length-2],p=e._normalizeBearing(n,f[1]),h=a[1]-i[1],d=h<0?-1:1,m=(a[0]-i[0])/1e3;if(0===h||0===m)return void o();var y=Math.abs(h*(s/m));y>u&&(y=u);var v=y/(c*s),g=d*y*(v/2);p+=g,Math.abs(e._normalizeBearing(p,0))<this._bearingSnap&&(p=e._normalizeBearing(0,p)),e.rotateTo(p,{duration:1e3*v,easing:l,noMoveStart:!0},{originalEvent:t})}},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})},_ignoreEvent:function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.isActive())return!0;if(e.dragPan&&e.dragPan.isActive())return!0;if(t.touches)return t.touches.length>1;var n=t.ctrlKey?1:2,r=t.ctrlKey?0:2;return"mousemove"===t.type?t.buttons&0===n:t.button!==r},_drainInertiaBuffer:function(){for(var t=this._inertia,e=Date.now(),n=160;t.length>0&&e-t[0][0]>n;)t.shift()}}},{"../../util/dom":381,"../../util/util":395,"point-geometry":453}],370:[function(t,e,n){"use strict";function r(t){this._map=t,this._el=t.getCanvasContainer(),this._onKeyDown=this._onKeyDown.bind(this)}e.exports=r;var o=80,i=2,a=5;r.prototype={_enabled:!1,isEnabled:function(){return this._enabled},enable:function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=this._map,n={originalEvent:t};if(!e.isEasing())switch(t.keyCode){case 61:case 107:case 171:case 187:e.zoomTo(Math.round(e.getZoom())+(t.shiftKey?2:1),n);break;case 189:case 109:case 173:e.zoomTo(Math.round(e.getZoom())-(t.shiftKey?2:1),n);break;case 37:t.shiftKey?e.easeTo({bearing:e.getBearing()-i},n):(t.preventDefault(),e.panBy([-o,0],n));break;case 39:t.shiftKey?e.easeTo({bearing:e.getBearing()+i},n):(t.preventDefault(),e.panBy([o,0],n));break;case 38:t.shiftKey?e.easeTo({pitch:e.getPitch()+a},n):(t.preventDefault(),e.panBy([0,-o],n));break;case 40:t.shiftKey?e.easeTo({pitch:Math.max(e.getPitch()-a,0)},n):(t.preventDefault(),e.panBy([0,o],n))}}}}},{}],371:[function(t,e,n){"use strict";function r(t){this._map=t,this._el=t.getCanvasContainer(),a.bindHandlers(this)}var o=t("../../util/dom"),i=t("../../util/browser"),a=t("../../util/util");e.exports=r;var s="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",l=s.indexOf("firefox")!==-1,u=s.indexOf("safari")!==-1&&s.indexOf("chrom")===-1;r.prototype={_enabled:!1,isEnabled:function(){return this._enabled},enable:function(){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},_onWheel:function(t){var e;"wheel"===t.type?(e=t.deltaY,l&&t.deltaMode===window.WheelEvent.DOM_DELTA_PIXEL&&(e/=i.devicePixelRatio),t.deltaMode===window.WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"===t.type&&(e=-t.wheelDeltaY,u&&(e/=3));var n=i.now(),r=n-(this._time||0);this._pos=o.mousePos(this._el,t),this._time=n,0!==e&&e%4.000244140625===0?(this._type="wheel",e=Math.floor(e/4)):0!==e&&Math.abs(e)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(r*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&this._zoom(-e,t),t.preventDefault()},_onTimeout:function(){this._type="wheel",this._zoom(-this._lastValue)},_zoom:function(t,e){if(0!==t){var n=this._map,r=2/(1+Math.exp(-Math.abs(t/100)));t<0&&0!==r&&(r=1/r);var o=n.ease?n.ease.to:n.transform.scale,i=n.transform.scaleZoom(o*r);n.zoomTo(i,{duration:0,around:n.unproject(this._pos),delayEndEvents:200},{originalEvent:e})}}}},{"../../util/browser":379,"../../util/dom":381,"../../util/util":395}],372:[function(t,e,n){"use strict";function r(t){this._map=t,this._el=t.getCanvasContainer(),i.bindHandlers(this)}var o=t("../../util/dom"),i=t("../../util/util");e.exports=r;var a=.15,s=i.bezier(0,0,a,1),l=12,u=2.5,c=.15,f=4;r.prototype={_enabled:!1,isEnabled:function(){return this._enabled},enable:function(){this.isEnabled()||(this._el.addEventListener("touchstart",this._onStart,!1),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("touchstart",this._onStart),this._enabled=!1)},disableRotation:function(){this._rotationDisabled=!0},enableRotation:function(){this._rotationDisabled=!1},_onStart:function(t){if(2===t.touches.length){var e=o.mousePos(this._el,t.touches[0]),n=o.mousePos(this._el,t.touches[1]);this._startVec=e.sub(n),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],document.addEventListener("touchmove",this._onMove,!1),document.addEventListener("touchend",this._onEnd,!1)}},_onMove:function(t){if(2===t.touches.length){var e=o.mousePos(this._el,t.touches[0]),n=o.mousePos(this._el,t.touches[1]),r=e.add(n).div(2),i=e.sub(n),a=i.mag()/this._startVec.mag(),s=this._rotationDisabled?0:180*i.angleWith(this._startVec)/Math.PI,l=this._map;if(this._gestureIntent){var u={duration:0,around:l.unproject(r)};"rotate"===this._gestureIntent&&(u.bearing=this._startBearing+s),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(u.zoom=l.transform.scaleZoom(this._startScale*a)),l.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),a,r]),l.easeTo(u,{originalEvent:t})}else{var p=Math.abs(1-a)>c,h=Math.abs(s)>f;h?this._gestureIntent="rotate":p&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=i,this._startScale=l.transform.scale,this._startBearing=l.transform.bearing)}t.preventDefault()}},_onEnd:function(t){document.removeEventListener("touchmove",this._onMove),document.removeEventListener("touchend",this._onEnd),this._drainInertiaBuffer();var e=this._inertia,n=this._map;if(e.length<2)return void n.snapToNorth({},{originalEvent:t});var r=e[e.length-1],o=e[0],i=n.transform.scaleZoom(this._startScale*r[1]),c=n.transform.scaleZoom(this._startScale*o[1]),f=i-c,p=(r[0]-o[0])/1e3,h=r[2];if(0===p||i===c)return void n.snapToNorth({},{originalEvent:t});var d=f*a/p;Math.abs(d)>u&&(d=d>0?u:-u);var m=1e3*Math.abs(d/(l*a)),y=i+d*m/2e3;y<0&&(y=0),n.easeTo({zoom:y,duration:m,easing:s,around:n.unproject(h)},{originalEvent:t})},_drainInertiaBuffer:function(){for(var t=this._inertia,e=Date.now(),n=160;t.length>2&&e-t[0][0]>n;)t.shift()}}},{"../../util/dom":381,"../../util/util":395}],373:[function(t,e,n){"use strict";function r(){o.bindAll(["_onHashChange","_updateHash"],this)}e.exports=r;var o=t("../util/util");r.prototype={addTo:function(t){return this._map=t,window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},remove:function(){return window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},_onHashChange:function(){var t=location.hash.replace("#","").split("/");return t.length>=3&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0)}),!0)},_updateHash:function(){var t=this._map.getCenter(),e=this._map.getZoom(),n=this._map.getBearing(),r=Math.max(0,Math.ceil(Math.log(e)/Math.LN2)),o="#"+Math.round(100*e)/100+"/"+t.lat.toFixed(r)+"/"+t.lng.toFixed(r)+(n?"/"+Math.round(10*n)/10:"");window.history.replaceState("","",o)}}},{"../util/util":395}],374:[function(t,e,n){"use strict";function r(t){t.parentNode&&t.parentNode.removeChild(t)}var o=t("../util/canvas"),i=t("../util/util"),a=t("../util/browser"),s=t("../util/browser").window,l=t("../util/evented"),u=t("../util/dom"),c=t("../style/style"),f=t("../style/animation_loop"),p=t("../render/painter"),h=t("../geo/transform"),d=t("./hash"),m=t("./bind_handlers"),y=t("./camera"),v=t("../geo/lng_lat"),g=t("../geo/lng_lat_bounds"),b=t("point-geometry"),_=t("./control/attribution"),x=0,w=20,T={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:x,maxZoom:w,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,workerCount:Math.max(a.hardwareConcurrency-1,1)},E=e.exports=function(t){if(t=i.extend({},T,t),t.workerCount<1)throw new Error("workerCount must an integer greater than or equal to 1.");this._interactive=t.interactive,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._trackResize=t.trackResize,this._workerCount=t.workerCount,this._bearingSnap=t.bearingSnap,"string"==typeof t.container?this._container=document.getElementById(t.container):this._container=t.container,this.animationLoop=new f,this.transform=new h(t.minZoom,t.maxZoom),t.maxBounds&&this.setMaxBounds(t.maxBounds),i.bindAll(["_forwardStyleEvent","_forwardSourceEvent","_forwardLayerEvent","_forwardTileEvent","_onStyleLoad","_onStyleChange","_onSourceAdd","_onSourceRemove","_onSourceUpdate","_onWindowOnline","_onWindowResize","_update","_render"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),this.on("moveend",function(){this.animationLoop.set(300),this._rerender()}.bind(this)),"undefined"!=typeof s&&(s.addEventListener("online",this._onWindowOnline,!1),s.addEventListener("resize",this._onWindowResize,!1)),m(this,t),this._hash=t.hash&&(new d).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),this.stacks={},this._classes=[],this.resize(),t.classes&&this.setClasses(t.classes),t.style&&this.setStyle(t.style),t.attributionControl&&this.addControl(new _(t.attributionControl));var e=this.fire.bind(this,"error");this.on("style.error",e),this.on("source.error",e),this.on("tile.error",e),this.on("layer.error",e)};i.extend(E.prototype,l),i.extend(E.prototype,y.prototype),i.extend(E.prototype,{addControl:function(t){return t.addTo(this),this},addClass:function(t,e){return this._classes.indexOf(t)>=0||""===t?this:(this._classes.push(t),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0))},removeClass:function(t,e){var n=this._classes.indexOf(t);return n<0||""===t?this:(this._classes.splice(n,1),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0))},setClasses:function(t,e){for(var n={},r=0;r<t.length;r++)""!==t[r]&&(n[t[r]]=!0);return this._classes=Object.keys(n),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0)},hasClass:function(t){return this._classes.indexOf(t)>=0},getClasses:function(){return this._classes},resize:function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),this._canvas.resize(t,e),this.transform.resize(t,e),this.painter.resize(t,e),this.fire("movestart").fire("move").fire("resize").fire("moveend")},getBounds:function(){var t=new g(this.transform.pointLocation(new b(0,0)),this.transform.pointLocation(this.transform.size));return(this.transform.angle||this.transform.pitch)&&(t.extend(this.transform.pointLocation(new b(this.transform.size.x,0))),t.extend(this.transform.pointLocation(new b(0,this.transform.size.y)))),t},setMaxBounds:function(t){if(t){var e=g.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null!==t&&void 0!==t||(this.transform.lngRange=[],this.transform.latRange=[],this._update());return this},setMinZoom:function(t){if(t=null===t||void 0===t?x:t,t>=x&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between "+x+" and the current maxZoom, inclusive")},setMaxZoom:function(t){if(t=null===t||void 0===t?w:t,t>=this.transform.minZoom&&t<=w)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be between the current minZoom and "+w+", inclusive")},project:function(t){return this.transform.locationPoint(v.convert(t))},unproject:function(t){return this.transform.pointLocation(b.convert(t))},queryRenderedFeatures:function(){function t(t){return t instanceof b||Array.isArray(t)}var e,n={};return 2===arguments.length?(e=arguments[0],n=arguments[1]):1===arguments.length&&t(arguments[0])?e=arguments[0]:1===arguments.length&&(n=arguments[0]),this.style.queryRenderedFeatures(this._makeQueryGeometry(e),n,this.transform.zoom,this.transform.angle)},_makeQueryGeometry:function(t){void 0===t&&(t=[b.convert([0,0]),b.convert([this.transform.width,this.transform.height])]);var e,n=t instanceof b||"number"==typeof t[0];if(n){var r=b.convert(t);e=[r]}else{var o=[b.convert(t[0]),b.convert(t[1])];e=[o[0],new b(o[1].x,o[0].y),o[1],new b(o[0].x,o[1].y),o[0]]}return e=e.map(function(t){return this.transform.pointCoordinate(t)}.bind(this))},querySourceFeatures:function(t,e){return this.style.querySourceFeatures(t,e)},setStyle:function(t){return this.style&&(this.style.off("load",this._onStyleLoad).off("error",this._forwardStyleEvent).off("change",this._onStyleChange).off("source.add",this._onSourceAdd).off("source.remove",this._onSourceRemove).off("source.load",this._onSourceUpdate).off("source.error",this._forwardSourceEvent).off("source.change",this._onSourceUpdate).off("layer.add",this._forwardLayerEvent).off("layer.remove",this._forwardLayerEvent).off("layer.error",this._forwardLayerEvent).off("tile.add",this._forwardTileEvent).off("tile.remove",this._forwardTileEvent).off("tile.load",this._update).off("tile.error",this._forwardTileEvent).off("tile.stats",this._forwardTileEvent)._remove(),this.off("rotate",this.style._redoPlacement),this.off("pitch",this.style._redoPlacement)),t?(t instanceof c?this.style=t:this.style=new c(t,this.animationLoop,this._workerCount),this.style.on("load",this._onStyleLoad).on("error",this._forwardStyleEvent).on("change",this._onStyleChange).on("source.add",this._onSourceAdd).on("source.remove",this._onSourceRemove).on("source.load",this._onSourceUpdate).on("source.error",this._forwardSourceEvent).on("source.change",this._onSourceUpdate).on("layer.add",this._forwardLayerEvent).on("layer.remove",this._forwardLayerEvent).on("layer.error",this._forwardLayerEvent).on("tile.add",this._forwardTileEvent).on("tile.remove",this._forwardTileEvent).on("tile.load",this._update).on("tile.error",this._forwardTileEvent).on("tile.stats",this._forwardTileEvent),this.on("rotate",this.style._redoPlacement),this.on("pitch",this.style._redoPlacement),this):(this.style=null,this)},getStyle:function(){if(this.style)return this.style.serialize()},addSource:function(t,e){return this.style.addSource(t,e),this._update(!0),this},addSourceType:function(t,e,n){return this.style.addSourceType(t,e,n)},removeSource:function(t){return this.style.removeSource(t),this._update(!0),this},getSource:function(t){return this.style.getSource(t)},addLayer:function(t,e){return this.style.addLayer(t,e),this._update(!0),this},removeLayer:function(t){return this.style.removeLayer(t),this._update(!0),this},getLayer:function(t){return this.style.getLayer(t)},setFilter:function(t,e){return this.style.setFilter(t,e),this._update(!0),this},setLayerZoomRange:function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0),this},getFilter:function(t){return this.style.getFilter(t)},setPaintProperty:function(t,e,n,r){return this.style.setPaintProperty(t,e,n,r),this._update(!0),this},getPaintProperty:function(t,e,n){return this.style.getPaintProperty(t,e,n)},setLayoutProperty:function(t,e,n){return this.style.setLayoutProperty(t,e,n),this._update(!0),this},getLayoutProperty:function(t,e){return this.style.getLayoutProperty(t,e)},getContainer:function(){return this._container},getCanvasContainer:function(){return this._canvasContainer},getCanvas:function(){return this._canvas.getElement()},_setupContainer:function(){var t=this._container;t.classList.add("mapboxgl-map");var e=this._canvasContainer=u.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=new o(this,e);var n=this._controlContainer=u.create("div","mapboxgl-control-container",t),r=this._controlCorners={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){r[t]=u.create("div","mapboxgl-ctrl-"+t,n)})},_setupPainter:function(){var t=this._canvas.getWebGLContext({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer});return t?void(this.painter=new p(t,this.transform)):void this.fire("error",{error:new Error("Failed to initialize WebGL")})},_contextLost:function(t){t.preventDefault(),this._frameId&&a.cancelFrame(this._frameId),this.fire("webglcontextlost",{originalEvent:t})},_contextRestored:function(t){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:t})},loaded:function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},_update:function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender(),this):this},_render:function(){try{this.style&&this._styleDirty&&(this._styleDirty=!1,this.style.update(this._classes,this._classOptions),this._classOptions=null,this.style._recalculate(this.transform.zoom)),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.painter.render(this.style,{debug:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,vertices:this.vertices,rotating:this.rotating,zooming:this.zooming}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this._frameId=null,this.animationLoop.stopped()||(this._styleDirty=!0),(this._sourcesDirty||this._repaint||!this.animationLoop.stopped())&&this._rerender()}catch(t){this.fire("error",{error:t})}return this},remove:function(){this._hash&&this._hash.remove(),a.cancelFrame(this._frameId),this.setStyle(null),"undefined"!=typeof s&&s.removeEventListener("resize",this._onWindowResize,!1);var t=this.painter.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),r(this._canvasContainer),r(this._controlContainer),this._container.classList.remove("mapboxgl-map")},_rerender:function(){this.style&&!this._frameId&&(this._frameId=a.frame(this._render));
},_forwardStyleEvent:function(t){this.fire("style."+t.type,i.extend({style:t.target},t))},_forwardSourceEvent:function(t){this.fire(t.type,i.extend({style:t.target},t))},_forwardLayerEvent:function(t){this.fire(t.type,i.extend({style:t.target},t))},_forwardTileEvent:function(t){this.fire(t.type,i.extend({style:t.target},t))},_onStyleLoad:function(t){this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this.style.update(this._classes,{transition:!1}),this._forwardStyleEvent(t)},_onStyleChange:function(t){this._update(!0),this._forwardStyleEvent(t)},_onSourceAdd:function(t){var e=t.source;e.onAdd&&e.onAdd(this),this._forwardSourceEvent(t)},_onSourceRemove:function(t){var e=t.source;e.onRemove&&e.onRemove(this),this._forwardSourceEvent(t)},_onSourceUpdate:function(t){this._update(),this._forwardSourceEvent(t)},_onWindowOnline:function(){this._update()},_onWindowResize:function(){this._trackResize&&this.stop().resize()._update()}}),i.extendAll(E.prototype,{_showTileBoundaries:!1,get showTileBoundaries(){return this._showTileBoundaries},set showTileBoundaries(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},_showCollisionBoxes:!1,get showCollisionBoxes(){return this._showCollisionBoxes},set showCollisionBoxes(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,this.style._redoPlacement())},_showOverdrawInspector:!1,get showOverdrawInspector(){return this._showOverdrawInspector},set showOverdrawInspector(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},_repaint:!1,get repaint(){return this._repaint},set repaint(t){this._repaint=t,this._update()},_vertices:!1,get vertices(){return this._vertices},set vertices(t){this._vertices=t,this._update()}})},{"../geo/lng_lat":292,"../geo/lng_lat_bounds":293,"../geo/transform":294,"../render/painter":308,"../style/animation_loop":328,"../style/style":331,"../util/browser":379,"../util/canvas":380,"../util/dom":381,"../util/evented":387,"../util/util":395,"./bind_handlers":360,"./camera":361,"./control/attribution":362,"./hash":373,"point-geometry":453}],375:[function(t,e,n){"use strict";function r(t,e){t||(t=o.create("div")),t.classList.add("mapboxgl-marker"),this._el=t,this._offset=a.convert(e&&e.offset||[0,0]),this._update=this._update.bind(this)}e.exports=r;var o=t("../util/dom"),i=t("../geo/lng_lat"),a=t("point-geometry");r.prototype={addTo:function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._el),t.on("move",this._update),this._update(),this},remove:function(){this._map&&(this._map.off("move",this._update),this._map=null);var t=this._el.parentNode;return t&&t.removeChild(this._el),this},getLngLat:function(){return this._lngLat},setLngLat:function(t){return this._lngLat=i.convert(t),this._update(),this},getElement:function(){return this._el},_update:function(){if(this._map){var t=this._map.project(this._lngLat)._add(this._offset);o.setTransform(this._el,"translate("+t.x+"px,"+t.y+"px)")}}}},{"../geo/lng_lat":292,"../util/dom":381,"point-geometry":453}],376:[function(t,e,n){"use strict";function r(t){o.setOptions(this,t),o.bindAll(["_update","_onClickClose"],this)}e.exports=r;var o=t("../util/util"),i=t("../util/evented"),a=t("../util/dom"),s=t("../geo/lng_lat");r.prototype=o.inherit(i,{options:{closeButton:!0,closeOnClick:!0},addTo:function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},remove:function(){return this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._container&&(this._container.parentNode.removeChild(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},getLngLat:function(){return this._lngLat},setLngLat:function(t){return this._lngLat=s.convert(t),this._update(),this},setText:function(t){return this.setDOMContent(document.createTextNode(t))},setHTML:function(t){var e,n=document.createDocumentFragment(),r=document.createElement("body");for(r.innerHTML=t;;){if(e=r.firstChild,!e)break;n.appendChild(e)}return this.setDOMContent(n)},setDOMContent:function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},_createContent:function(){this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._content=a.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=a.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},_update:function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=a.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=a.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content));var t=this._map.project(this._lngLat).round(),e=this.options.anchor;if(!e){var n=this._container.offsetWidth,r=this._container.offsetHeight;e=t.y<r?["top"]:t.y>this._map.transform.height-r?["bottom"]:[],t.x<n/2?e.push("left"):t.x>this._map.transform.width-n/2&&e.push("right"),e=0===e.length?"bottom":e.join("-")}var o={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},i=this._container.classList;for(var s in o)i.remove("mapboxgl-popup-anchor-"+s);i.add("mapboxgl-popup-anchor-"+e),a.setTransform(this._container,o[e]+" translate("+t.x+"px,"+t.y+"px)")}},_onClickClose:function(){this.remove()}})},{"../geo/lng_lat":292,"../util/dom":381,"../util/evented":387,"../util/util":395}],377:[function(t,e,n){"use strict";function r(t,e){this.target=t,this.parent=e,this.callbacks={},this.callbackID=0,this.receive=this.receive.bind(this),this.target.addEventListener("message",this.receive,!1)}e.exports=r,r.prototype.receive=function(t){function e(t,e,n){this.postMessage({type:"<response>",id:String(o),error:t?String(t):null,data:e},n)}var n,r=t.data,o=r.id;if("<response>"===r.type)n=this.callbacks[r.id],delete this.callbacks[r.id],n&&n(r.error||null,r.data);else if("undefined"!=typeof r.id&&this.parent[r.type])this.parent[r.type](r.data,e.bind(this));else if("undefined"!=typeof r.id&&this.parent.workerSources){var i=r.type.split(".");this.parent.workerSources[i[0]][i[1]](r.data,e.bind(this))}else this.parent[r.type](r.data)},r.prototype.send=function(t,e,n,r){var o=null;n&&(this.callbacks[o=this.callbackID++]=n),this.postMessage({type:t,id:String(o),data:e},r)},r.prototype.postMessage=function(t,e){this.target.postMessage(t,e)}},{}],378:[function(t,e,n){"use strict";function r(t){var e=document.createElement("a");return e.href=t,e.protocol===document.location.protocol&&e.host===document.location.host}n.getJSON=function(t,e){var n=new XMLHttpRequest;return n.open("GET",t,!0),n.setRequestHeader("Accept","application/json"),n.onerror=function(t){e(t)},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var t;try{t=JSON.parse(n.response)}catch(r){return e(r)}e(null,t)}else e(new Error(n.statusText))},n.send(),n},n.getArrayBuffer=function(t,e){var n=new XMLHttpRequest;return n.open("GET",t,!0),n.responseType="arraybuffer",n.onerror=function(t){e(t)},n.onload=function(){n.status>=200&&n.status<300&&n.response?e(null,n.response):e(new Error(n.statusText))},n.send(),n},n.getImage=function(t,e){return n.getArrayBuffer(t,function(t,n){if(t)return e(t);var r=new Image;r.onload=function(){e(null,r),(window.URL||window.webkitURL).revokeObjectURL(r.src)};var o=new Blob([new Uint8Array(n)],{type:"image/png"});return r.src=(window.URL||window.webkitURL).createObjectURL(o),r.getData=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return t.width=r.width,t.height=r.height,e.drawImage(r,0,0),e.getImageData(0,0,r.width,r.height).data},r})},n.getVideo=function(t,e){var n=document.createElement("video");n.onloadstart=function(){e(null,n)};for(var o=0;o<t.length;o++){var i=document.createElement("source");r(t[o])||(n.crossOrigin="Anonymous"),i.src=t[o],n.appendChild(i)}return n.getData=function(){return n},n}},{}],379:[function(t,e,n){"use strict";n.window=window,e.exports.now=function(){return window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now.bind(Date)}();var r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;n.frame=function(t){return r(t)};var o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;n.cancelFrame=function(t){o(t)},n.timed=function(t,r,o){function i(l){a||(l=e.exports.now(),l>=s+r?t.call(o,1):(t.call(o,(l-s)/r),n.frame(i)))}if(!r)return t.call(o,1),null;var a=!1,s=e.exports.now();return n.frame(i),function(){a=!0}},n.supported=t("mapbox-gl-supported"),n.hardwareConcurrency=navigator.hardwareConcurrency||4,Object.defineProperty(n,"devicePixelRatio",{get:function(){return window.devicePixelRatio}}),n.supportsWebp=!1;var i=document.createElement("img");i.onload=function(){n.supportsWebp=!0},i.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=",n.supportsGeolocation=!!navigator.geolocation},{"mapbox-gl-supported":449}],380:[function(t,e,n){"use strict";function r(t,e){this.canvas=document.createElement("canvas"),t&&e&&(this.canvas.style.position="absolute",this.canvas.classList.add("mapboxgl-canvas"),this.canvas.addEventListener("webglcontextlost",t._contextLost.bind(t),!1),this.canvas.addEventListener("webglcontextrestored",t._contextRestored.bind(t),!1),this.canvas.setAttribute("tabindex",0),e.appendChild(this.canvas))}var o=t("../util"),i=t("mapbox-gl-supported");e.exports=r,r.prototype.resize=function(t,e){var n=window.devicePixelRatio||1;this.canvas.width=n*t,this.canvas.height=n*e,this.canvas.style.width=t+"px",this.canvas.style.height=e+"px"},r.prototype.getWebGLContext=function(t){return t=o.extend({},t,i.webGLContextAttributes),this.canvas.getContext("webgl",t)||this.canvas.getContext("experimental-webgl",t)},r.prototype.getElement=function(){return this.canvas}},{"../util":395,"mapbox-gl-supported":449}],381:[function(t,e,n){"use strict";function r(t){for(var e=0;e<t.length;e++)if(t[e]in s)return t[e]}function o(t){t.preventDefault(),t.stopPropagation(),window.removeEventListener("click",o,!0)}var i=t("point-geometry");n.create=function(t,e,n){var r=document.createElement(t);return e&&(r.className=e),n&&n.appendChild(r),r};var a,s=document.documentElement.style,l=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){l&&(a=s[l],s[l]="none")},n.enableDrag=function(){l&&(s[l]=a)};var u=r(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[u]=e},n.suppressClick=function(){window.addEventListener("click",o,!0),window.setTimeout(function(){window.removeEventListener("click",o,!0)},0)},n.mousePos=function(t,e){var n=t.getBoundingClientRect();return e=e.touches?e.touches[0]:e,new i(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)},n.touchPos=function(t,e){for(var n=t.getBoundingClientRect(),r=[],o=0;o<e.touches.length;o++)r.push(new i(e.touches[o].clientX-n.left-t.clientLeft,e.touches[o].clientY-n.top-t.clientTop));return r}},{"point-geometry":453}],382:[function(t,e,n){"use strict";var r=t("webworkify");e.exports=function(){return new r(t("../../source/worker"))}},{"../../source/worker":326,webworkify:470}],383:[function(t,e,n){"use strict";function r(t,e){return e.area-t.area}function o(t){for(var e,n,r=0,o=0,i=t.length,a=i-1;o<i;a=o++)e=t[o],n=t[a],r+=(n.x-e.x)*(e.y+n.y);return r}var i=t("quickselect");e.exports=function(t,e){var n=t.length;if(n<=1)return[t];for(var a,s,l=[],u=0;u<n;u++){var c=o(t[u]);0!==c&&(t[u].area=Math.abs(c),void 0===s&&(s=c<0),s===c<0?(a&&l.push(a),a=[t[u]]):a.push(t[u]))}if(a&&l.push(a),e>1)for(var f=0;f<l.length;f++)l[f].length<=e||(i(l[f],e,1,l[f].length-1,r),l[f]=l[f].slice(0,e));return l}},{quickselect:454}],384:[function(t,e,n){"use strict";e.exports={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0}},{}],385:[function(t,e,n){"use strict";function r(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}}e.exports=r,r.prototype.encode=function(t){return this._stringToNumber[t]},r.prototype.decode=function(t){return this._numberToString[t]}},{}],386:[function(t,e,n){"use strict";function r(t,e){this.actors=[],this.currentActor=0;for(var n=0;n<t;n++){var r=new a,o=new i(r,e);o.name="Worker "+n,this.actors.push(o)}}var o=t("./util"),i=t("./actor"),a=t("./web_worker");e.exports=r,r.prototype={broadcast:function(t,e,n){n=n||function(){},o.asyncAll(this.actors,function(n,r){n.send(t,e,r)},n)},send:function(t,e,n,r,o){return("number"!=typeof r||isNaN(r))&&(r=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[r].send(t,e,n,o),r},remove:function(){for(var t=0;t<this.actors.length;t++)this.actors[t].target.terminate();this.actors=[]}}},{"./actor":377,"./util":395,"./web_worker":382}],387:[function(t,e,n){"use strict";var r=t("./util"),o={on:function(t,e){return this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e),this},off:function(t,e){if(!t)return delete this._events,this;if(!this.listens(t))return this;if(e){var n=this._events[t].indexOf(e);n>=0&&this._events[t].splice(n,1),this._events[t].length||delete this._events[t]}else delete this._events[t];return this},once:function(t,e){var n=function(r){this.off(t,n),e.call(this,r)}.bind(this);return this.on(t,n),this},fire:function(t,e){if(!this.listens(t))return r.endsWith(t,"error")&&console.error(e&&e.error||e||"Empty error event"),this;e=r.extend({},e),r.extend(e,{type:t,target:this});for(var n=this._events[t].slice(),o=0;o<n.length;o++)n[o].call(this,e);return this},listens:function(t){return!(!this._events||!this._events[t])}};e.exports=o},{"./util":395}],388:[function(t,e,n){"use strict";function r(t,e){this.stacks=t.readFields(o,[],e)}function o(t,e,n){if(1===t){var r=n.readMessage(i,{glyphs:{}});e.push(r)}}function i(t,e,n){if(1===t)e.name=n.readString();else if(2===t)e.range=n.readString();else if(3===t){var r=n.readMessage(a,{});e.glyphs[r.id]=r}}function a(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}e.exports=r},{}],389:[function(t,e,n){"use strict";function r(t,e,n){return t*(1-n)+e*n}e.exports=r,r.number=r,r.vec2=function(t,e,n){return[r(t[0],e[0],n),r(t[1],e[1],n)]},r.color=function(t,e,n){return[r(t[0],e[0],n),r(t[1],e[1],n),r(t[2],e[2],n),r(t[3],e[3],n)]},r.array=function(t,e,n){return t.map(function(t,o){return r(t,e[o],n)})}},{}],390:[function(t,e,n){"use strict";function r(t,e,n){for(var r=0;r<t.length;r++)for(var o=t[r],i=0;i<e.length;i++)for(var a=e[i],s=0;s<a.length;s++){var l=a[s];if(h(o,l))return!0;if(c(l,o,n))return!0}return!1}function o(t,e){if(1===t.length&&1===t[0].length)return p(e,t[0][0]);for(var n=0;n<e.length;n++)for(var r=e[n],o=0;o<r.length;o++)if(p(t,r[o]))return!0;for(var i=0;i<t.length;i++){for(var a=t[i],l=0;l<a.length;l++)if(p(e,a[l]))return!0;for(var u=0;u<e.length;u++)if(s(a,e[u]))return!0}return!1}function i(t,e,n){for(var r=0;r<e.length;r++)for(var o=e[r],i=0;i<t.length;i++){var s=t[i];if(s.length>=3)for(var l=0;l<o.length;l++)if(h(s,o[l]))return!0;if(a(s,o,n))return!0}return!1}function a(t,e,n){if(t.length>1){if(s(t,e))return!0;for(var r=0;r<e.length;r++)if(c(e[r],t,n))return!0}for(var o=0;o<t.length;o++)if(c(t[o],e,n))return!0;return!1}function s(t,e){for(var n=0;n<t.length-1;n++)for(var r=t[n],o=t[n+1],i=0;i<e.length-1;i++){var a=e[i],s=e[i+1];if(u(r,o,a,s))return!0}return!1}function l(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function u(t,e,n,r){return l(t,n,r)!==l(e,n,r)&&l(t,e,n)!==l(t,e,r)}function c(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var o=1;o<e.length;o++){var i=e[o-1],a=e[o];if(f(t,i,a)<r)return!0}return!1}function f(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var o=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return o<0?t.distSqr(e):o>1?t.distSqr(n):t.distSqr(n.sub(e)._mult(o)._add(e))}function p(t,e){for(var n,r,o,i=!1,a=0;a<t.length;a++){n=t[a];for(var s=0,l=n.length-1;s<n.length;l=s++)r=n[s],o=n[l],r.y>e.y!=o.y>e.y&&e.x<(o.x-r.x)*(e.y-r.y)/(o.y-r.y)+r.x&&(i=!i)}return i}function h(t,e){for(var n=!1,r=0,o=t.length-1;r<t.length;o=r++){var i=t[r],a=t[o];i.y>e.y!=a.y>e.y&&e.x<(a.x-i.x)*(e.y-i.y)/(a.y-i.y)+i.x&&(n=!n)}return n}e.exports={multiPolygonIntersectsBufferedMultiPoint:r,multiPolygonIntersectsMultiPolygon:o,multiPolygonIntersectsBufferedMultiLine:i}},{}],391:[function(t,e,n){"use strict";function r(t,e){this.max=t,this.onRemove=e,this.reset()}e.exports=r,r.prototype.reset=function(){for(var t in this.data)this.onRemove(this.data[t]);return this.data={},this.order=[],this},r.prototype.add=function(t,e){if(this.has(t))this.order.splice(this.order.indexOf(t),1),this.data[t]=e,this.order.push(t);else if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var n=this.get(this.order[0]);n&&this.onRemove(n)}return this},r.prototype.has=function(t){return t in this.data},r.prototype.keys=function(){return this.order},r.prototype.get=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},r.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this.get(this.order[0]);e&&this.onRemove(e)}return this}},{}],392:[function(t,e,n){"use strict";function r(t,e,n){if(n=n||a.ACCESS_TOKEN,!n&&a.REQUIRE_ACCESS_TOKEN)throw new Error("An API access token is required to use Mapbox GL. See https://www.mapbox.com/developers/api/#access-tokens");if(t=t.replace(/^mapbox:\/\//,a.API_URL+e),t+=t.indexOf("?")!==-1?"&access_token=":"?access_token=",a.REQUIRE_ACCESS_TOKEN){if("s"===n[0])throw new Error("Use a public access token (pk.*) with Mapbox GL JS, not a secret access token (sk.*). See https://www.mapbox.com/developers/api/#access-tokens");t+=n}return t}function o(t){return t?"?"+t:""}function i(t){return t.access_token&&"tk."===t.access_token.slice(0,3)?u.extend({},t,{access_token:a.ACCESS_TOKEN}):t}var a=t("./config"),s=t("./browser"),l=t("url"),u=t("./util");e.exports.normalizeStyleURL=function(t,e){var n=l.parse(t);return"mapbox:"!==n.protocol?t:r("mapbox:/"+n.pathname+o(n.query),"/styles/v1/",e)},e.exports.normalizeSourceURL=function(t,e){var n=l.parse(t);return"mapbox:"!==n.protocol?t:r(t+".json","/v4/",e)+"&secure"},e.exports.normalizeGlyphsURL=function(t,e){var n=l.parse(t);if("mapbox:"!==n.protocol)return t;var i=n.pathname.split("/")[1];return r("mapbox://"+i+"/{fontstack}/{range}.pbf"+o(n.query),"/fonts/v1/",e)},e.exports.normalizeSpriteURL=function(t,e,n,i){var a=l.parse(t);return"mapbox:"!==a.protocol?(a.pathname+=e+n,l.format(a)):r("mapbox:/"+a.pathname+"/sprite"+e+n+o(a.query),"/styles/v1/",i)},e.exports.normalizeTileURL=function(t,e,n){var r=l.parse(t,!0);if(!e)return t;var o=l.parse(e);if("mapbox:"!==o.protocol)return t;var a=s.supportsWebp?".webp":"$1",u=s.devicePixelRatio>=2||512===n?"@2x":"";return l.format({protocol:r.protocol,hostname:r.hostname,pathname:r.pathname.replace(/(\.(?:png|jpg)\d*)/,u+a),query:i(r.query)})}},{"./browser":379,"./config":384,"./util":395,url:65}],393:[function(t,e,n){"use strict";function r(t){function e(){p.apply(this,arguments)}function n(){h.apply(this,arguments),this.members=e.prototype.members}var r=JSON.stringify(t);if(m[r])return m[r];void 0===t.alignment&&(t.alignment=1),e.prototype=Object.create(p.prototype);var s=0,u=0,d=["Uint8"];return e.prototype.members=t.members.map(function(n){n={name:n.name,type:n.type,components:n.components||1},d.indexOf(n.type)<0&&d.push(n.type);var r=a(n.type);u=Math.max(u,r),n.offset=s=i(s,Math.max(t.alignment,r));for(var o=0;o<n.components;o++)Object.defineProperty(e.prototype,n.name+(1===n.components?"":o),{get:c(n,o),set:f(n,o)});return s+=r*n.components,n}),e.prototype.alignment=t.alignment,e.prototype.size=i(s,Math.max(u,t.alignment)),n.serialize=o,n.prototype=Object.create(h.prototype),n.prototype.StructType=e,n.prototype.bytesPerElement=e.prototype.size,n.prototype.emplaceBack=l(e.prototype.members,e.prototype.size),n.prototype._usedTypes=d,m[r]=n,n}function o(){return{members:this.prototype.StructType.prototype.members,alignment:this.prototype.StructType.prototype.alignment,bytesPerElement:this.prototype.bytesPerElement}}function i(t,e){return Math.ceil(t/e)*e}function a(t){return d[t].BYTES_PER_ELEMENT}function s(t){return t.toLowerCase()}function l(t,e){for(var n=[],r=[],o="var i = this.length;\nthis.resize(this.length + 1);\n",i=0;i<t.length;i++){var l=t[i],u=a(l.type);n.indexOf(u)<0&&(n.push(u),o+="var o"+u.toFixed(0)+" = i * "+(e/u).toFixed(0)+";\n");for(var c=0;c<l.components;c++){var f="v"+r.length,p="o"+u.toFixed(0)+" + "+(l.offset/u+c).toFixed(0);o+="this."+s(l.type)+"["+p+"] = "+f+";\n",r.push(f)}}return o+="return i;",new Function(r,o)}function u(t,e){var n="this._pos"+a(t.type).toFixed(0),r=(t.offset/a(t.type)+e).toFixed(0),o=n+" + "+r;return"this._structArray."+s(t.type)+"["+o+"]"}function c(t,e){return new Function([],"return "+u(t,e)+";")}function f(t,e){return new Function(["x"],u(t,e)+" = x;")}function p(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}function h(t){void 0!==t?(this.arrayBuffer=t.arrayBuffer,this.length=t.length,this.capacity=this.arrayBuffer.byteLength/this.bytesPerElement,this._refreshViews()):(this.capacity=-1,this.resize(0))}e.exports=r;var d={Int8:Int8Array,Uint8:Uint8Array,Uint8Clamped:Uint8ClampedArray,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array,Float64:Float64Array},m={};h.prototype.DEFAULT_CAPACITY=128,h.prototype.RESIZE_MULTIPLIER=5,h.prototype.serialize=function(){return this.trim(),{length:this.length,arrayBuffer:this.arrayBuffer}},h.prototype.get=function(t){return new this.StructType(this,t)},h.prototype.trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},h.prototype.resize=function(t){if(this.length=t,t>this.capacity){this.capacity=Math.max(t,Math.floor(this.capacity*this.RESIZE_MULTIPLIER),this.DEFAULT_CAPACITY),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},h.prototype._refreshViews=function(){for(var t=0;t<this._usedTypes.length;t++){var e=this._usedTypes[t];this[s(e)]=new d[e](this.arrayBuffer)}},h.prototype.toArray=function(t,e){for(var n=[],r=t;r<e;r++){var o=this.get(r);n.push(o)}return n}},{}],394:[function(t,e,n){"use strict";function r(t,e){return e.replace(/{([^{}]+)}/g,function(e,n){return n in t?t[n]:""})}e.exports=r},{}],395:[function(t,e,n){"use strict";var r=t("unitbezier"),o=t("../geo/coordinate");n.easeCubicInOut=function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},n.bezier=function(t,e,n,o){var i=new r(t,e,n,o);return function(t){return i.solve(t)}},n.ease=n.bezier(.25,.1,.25,1),n.clamp=function(t,e,n){return Math.min(n,Math.max(e,t))},n.wrap=function(t,e,n){var r=n-e,o=((t-e)%r+r)%r+e;return o===e?n:o},n.coalesce=function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];if(null!==e&&void 0!==e)return e}},n.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var r=t.length,o=new Array(t.length),i=null;t.forEach(function(t,a){e(t,function(t,e){t&&(i=t),o[a]=e,0===--r&&n(i,o)})})},n.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},n.extend=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t},n.extendAll=function(t,e){for(var n in e)Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n));return t},n.inherit=function(t,e){var r="function"==typeof t?t.prototype:t,o=Object.create(r);return n.extendAll(o,e),o},n.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var o=e[r];o in t&&(n[o]=t[o])}return n};var i=1;n.uniqueId=function(){return i++},n.debounce=function(t,e){var n,r;return function(){r=arguments,clearTimeout(n),n=setTimeout(function(){t.apply(null,r)},e)}},n.bindAll=function(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})},n.bindHandlers=function(t){for(var e in t)"function"==typeof t[e]&&0===e.indexOf("_on")&&(t[e]=t[e].bind(t))},n.setOptions=function(t,e){t.hasOwnProperty("options")||(t.options=t.options?Object.create(t.options):{});for(var n in e)t.options[n]=e[n];return t.options},n.getCoordinatesCenter=function(t){for(var e=1/0,n=1/0,r=-(1/0),i=-(1/0),a=0;a<t.length;a++)e=Math.min(e,t[a].column),n=Math.min(n,t[a].row),r=Math.max(r,t[a].column),i=Math.max(i,t[a].row);var s=r-e,l=i-n,u=Math.max(s,l);return new o((e+r)/2,(n+i)/2,0).zoomTo(Math.floor(-Math.log(u)/Math.LN2))},n.endsWith=function(t,e){return t.indexOf(e,t.length-e.length)!==-1},n.startsWith=function(t,e){return 0===t.indexOf(e)},n.mapObject=function(t,e,n){var r={};for(var o in t)r[o]=e.call(n||this,t[o],o,t);return r},n.filterObject=function(t,e,n){var r={};for(var o in t)e.call(n||this,t[o],o,t)&&(r[o]=t[o]);return r},n.deepEqual=function s(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!s(t[n],e[n]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;var r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(var o in t)if(!s(t[o],e[o]))return!1;return!0}return t===e},n.clone=function(t){return Array.isArray(t)?t.map(n.clone):"object"==typeof t?n.mapObject(t,n.clone):t},n.arraysIntersect=function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1};var a={};n.warnOnce=function(t){a[t]||("undefined"!=typeof console&&console.warn(t),a[t]=!0)}},{"../geo/coordinate":291,unitbezier:462}],396:[function(t,e,n){"use strict";function r(t,e,n,r){this._vectorTileFeature=t,t._z=e,t._x=n,t._y=r,this.properties=t.properties,null!=t.id&&(this.id=t.id)}e.exports=r,r.prototype={type:"Feature",get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},set geometry(t){this._geometry=t},toJSON:function(){var t={};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&"toJSON"!==e&&(t[e]=this[e]);return t}}},{}],397:[function(t,e,n){function r(t){return t=Math.round(t),t<0?0:t>255?255:t}function o(t){return t<0?0:t>1?1:t}function i(t){return r("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function a(t){return o("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function s(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function l(t){var e=t.replace(/ /g,"").toLowerCase();if(e in u)return u[e].slice();if("#"===e[0]){if(4===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null}if(7===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null}return null}var o=e.indexOf("("),l=e.indexOf(")");if(o!==-1&&l+1===e.length){var c=e.substr(0,o),f=e.substr(o+1,l-(o+1)).split(","),p=1;switch(c){case"rgba":if(4!==f.length)return null;p=a(f.pop());case"rgb":return 3!==f.length?null:[i(f[0]),i(f[1]),i(f[2]),p];case"hsla":if(4!==f.length)return null;p=a(f.pop());case"hsl":if(3!==f.length)return null;var h=(parseFloat(f[0])%360+360)%360/360,d=a(f[1]),m=a(f[2]),y=m<=.5?m*(d+1):m+d-m*d,v=2*m-y;return[r(255*s(v,y,h+1/3)),r(255*s(v,y,h)),r(255*s(v,y,h-1/3)),p];default:return null}}return null}var u={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{n.parseCSSColor=l}catch(c){}},{}],398:[function(t,e,n){"use strict";
function r(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=o(t,0,i,n,!0),l=[];if(!s)return l;var u,c,p,h,d,m,y;if(r&&(s=f(t,e,s,n)),t.length>80*n){u=p=t[0],c=h=t[1];for(var v=n;v<i;v+=n)d=t[v],m=t[v+1],d<u&&(u=d),m<c&&(c=m),d>p&&(p=d),m>h&&(h=m);y=Math.max(p-u,h-c)}return a(s,l,n,u,c,y),l}function o(t,e,n,r,o){var i,a;if(o===O(t,e,n,r)>0)for(i=e;i<n;i+=r)a=P(i,t[i],t[i+1],a);else for(i=n-r;i>=e;i-=r)a=P(i,t[i],t[i+1],a);return a&&w(a,a.next)&&(M(a),a=a.next),a}function i(t,e){if(!t)return t;e||(e=t);var n,r=t;do if(n=!1,r.steiner||!w(r,r.next)&&0!==x(r.prev,r,r.next))r=r.next;else{if(M(r),r=e=r.prev,r===r.next)return null;n=!0}while(n||r!==e);return e}function a(t,e,n,r,o,f,p){if(t){!p&&f&&m(t,r,o,f);for(var h,d,y=t;t.prev!==t.next;)if(h=t.prev,d=t.next,f?l(t,r,o,f):s(t))e.push(h.i/n),e.push(t.i/n),e.push(d.i/n),M(t),t=d.next,y=d.next;else if(t=d,t===y){p?1===p?(t=u(t,e,n),a(t,e,n,r,o,f,2)):2===p&&c(t,e,n,r,o,f):a(i(t),e,n,r,o,f,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(x(e,n,r)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(b(e.x,e.y,n.x,n.y,r.x,r.y,o.x,o.y)&&x(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function l(t,e,n,r){var o=t.prev,i=t,a=t.next;if(x(o,i,a)>=0)return!1;for(var s=o.x<i.x?o.x<a.x?o.x:a.x:i.x<a.x?i.x:a.x,l=o.y<i.y?o.y<a.y?o.y:a.y:i.y<a.y?i.y:a.y,u=o.x>i.x?o.x>a.x?o.x:a.x:i.x>a.x?i.x:a.x,c=o.y>i.y?o.y>a.y?o.y:a.y:i.y>a.y?i.y:a.y,f=v(s,l,e,n,r),p=v(u,c,e,n,r),h=t.nextZ;h&&h.z<=p;){if(h!==t.prev&&h!==t.next&&b(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&x(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=t.prevZ;h&&h.z>=f;){if(h!==t.prev&&h!==t.next&&b(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&x(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}function u(t,e,n){var r=t;do{var o=r.prev,i=r.next.next;!w(o,i)&&T(o,r,r.next,i)&&C(o,i)&&C(i,o)&&(e.push(o.i/n),e.push(r.i/n),e.push(i.i/n),M(r),M(r.next),r=t=i),r=r.next}while(r!==t);return r}function c(t,e,n,r,o,s){var l=t;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&_(l,u)){var c=S(l,u);return l=i(l,l.next),c=i(c,c.next),a(l,e,n,r,o,s),void a(c,e,n,r,o,s)}u=u.next}l=l.next}while(l!==t)}function f(t,e,n,r){var a,s,l,u,c,f=[];for(a=0,s=e.length;a<s;a++)l=e[a]*r,u=a<s-1?e[a+1]*r:t.length,c=o(t,l,u,r,!1),c===c.next&&(c.steiner=!0),f.push(g(c));for(f.sort(p),a=0;a<f.length;a++)h(f[a],n),n=i(n,n.next);return n}function p(t,e){return t.x-e.x}function h(t,e){if(e=d(t,e)){var n=S(e,t);i(n,n.next)}}function d(t,e){var n,r=e,o=t.x,i=t.y,a=-(1/0);do{if(i<=r.y&&i>=r.next.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=o&&s>a){if(a=s,s===o){if(i===r.y)return r;if(i===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(o===a)return n.prev;var l,u=n,c=n.x,f=n.y,p=1/0;for(r=n.next;r!==u;)o>=r.x&&r.x>=c&&b(i<f?o:a,i,c,f,i<f?a:o,i,r.x,r.y)&&(l=Math.abs(i-r.y)/(o-r.x),(l<p||l===p&&r.x>n.x)&&C(r,t)&&(n=r,p=l)),r=r.next;return n}function m(t,e,n,r){var o=t;do null===o.z&&(o.z=v(o.x,o.y,e,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,y(o)}function y(t){var e,n,r,o,i,a,s,l,u=1;do{for(n=t,t=null,i=null,a=0;n;){for(a++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ,r);e++);for(l=u;s>0||l>0&&r;)0===s?(o=r,r=r.nextZ,l--):0!==l&&r?n.z<=r.z?(o=n,n=n.nextZ,s--):(o=r,r=r.nextZ,l--):(o=n,n=n.nextZ,s--),i?i.nextZ=o:t=o,o.prevZ=i,i=o;n=r}i.nextZ=null,u*=2}while(a>1);return t}function v(t,e,n,r,o){return t=32767*(t-n)/o,e=32767*(e-r)/o,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function g(t){var e=t,n=t;do e.x<n.x&&(n=e),e=e.next;while(e!==t);return n}function b(t,e,n,r,o,i,a,s){return(o-a)*(e-s)-(t-a)*(i-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(i-s)-(o-a)*(r-s)>=0}function _(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!E(t,e)&&C(t,e)&&C(e,t)&&k(t,e)}function x(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function T(t,e,n,r){return!!(w(t,e)&&w(n,r)||w(t,r)&&w(n,e))||x(t,e,n)>0!=x(t,e,r)>0&&x(n,r,t)>0!=x(n,r,e)>0}function E(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&T(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function C(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function k(t,e){var n=t,r=!1,o=(t.x+e.x)/2,i=(t.y+e.y)/2;do n.y>i!=n.next.y>i&&o<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function S(t,e){var n=new A(t.i,t.x,t.y),r=new A(e.i,e.x,e.y),o=t.next,i=e.prev;return t.next=e,e.prev=t,n.next=o,o.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function P(t,e,n,r){var o=new A(t,e,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function M(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function A(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,n,r){for(var o=0,i=e,a=n-r;i<n;i+=r)o+=(t[a]-t[i])*(t[i+1]+t[a+1]),a=i;return o}e.exports=r,r.deviation=function(t,e,n,r){var o=e&&e.length,i=o?e[0]*n:t.length,a=Math.abs(O(t,0,i,n));if(o)for(var s=0,l=e.length;s<l;s++){var u=e[s]*n,c=s<l-1?e[s+1]*n:t.length;a-=Math.abs(O(t,u,c,n))}var f=0;for(s=0;s<r.length;s+=3){var p=r[s]*n,h=r[s+1]*n,d=r[s+2]*n;f+=Math.abs((t[p]-t[d])*(t[h+1]-t[p+1])-(t[p]-t[h])*(t[d+1]-t[p+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var a=0;a<e;a++)n.vertices.push(t[o][i][a]);o>0&&(r+=t[o-1].length,n.holes.push(r))}return n}},{}],399:[function(t,e,n){"use strict";function r(t){return new Function("f","var p = (f && f.properties || {}); return "+o(t))}function o(t){if(!t)return"true";var e=t[0];if(t.length<=1)return"any"===e?"false":"true";var n="=="===e?a(t[1],t[2],"===",!1):"!="===e?a(t[1],t[2],"!==",!1):"<"===e||">"===e||"<="===e||">="===e?a(t[1],t[2],e,!0):"any"===e?s(t.slice(1),"||"):"all"===e?s(t.slice(1),"&&"):"none"===e?c(s(t.slice(1),"||")):"in"===e?l(t[1],t.slice(2)):"!in"===e?c(l(t[1],t.slice(2))):"has"===e?u(t[1]):"!has"===e?c(u([t[1]])):"true";return"("+n+")"}function i(t){return"$type"===t?"f.type":"$id"===t?"f.id":"p["+JSON.stringify(t)+"]"}function a(t,e,n,r){var o=i(t),a="$type"===t?p.indexOf(e):JSON.stringify(e);return(r?"typeof "+o+"=== typeof "+a+"&&":"")+o+n+a}function s(t,e){return t.map(o).join(e)}function l(t,e){"$type"===t&&(e=e.map(function(t){return p.indexOf(t)}));var n=JSON.stringify(e.sort(f)),r=i(t);return e.length<=200?n+".indexOf("+r+") !== -1":"function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }("+r+", "+n+",0,"+(e.length-1)+")"}function u(t){return JSON.stringify(t)+" in p"}function c(t){return"!("+t+")"}function f(t,e){return t<e?-1:t>e?1:0}e.exports=r;var p=["Unknown","Point","LineString","Polygon"]},{}],400:[function(t,e,n){function r(t,e){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(o(r,e)),t;case"Feature":return t.geometry=r(t.geometry,e),t;case"Polygon":case"MultiPolygon":return i(t,e);default:return t}}function o(t,e){return function(n){return t(n,e)}}function i(t,e){return"Polygon"===t.type?t.coordinates=a(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(o(a,e))),t}function a(t,e){e=!!e,t[0]=s(t[0],!e);for(var n=1;n<t.length;n++)t[n]=s(t[n],e);return t}function s(t,e){return l(t)===e?t:t.reverse()}function l(t){return u.ring(t)>=0}var u=t("geojson-area");e.exports=r},{"geojson-area":401}],401:[function(t,e,n){function r(t){if("Polygon"===t.type)return o(t.coordinates);if("MultiPolygon"===t.type){for(var e=0,n=0;n<t.coordinates.length;n++)e+=o(t.coordinates[n]);return e}return null}function o(t){var e=0;if(t&&t.length>0){e+=Math.abs(i(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(i(t[n]))}return e}function i(t){var e=0;if(t.length>2){for(var n,r,o=0;o<t.length-1;o++)n=t[o],r=t[o+1],e+=a(r[0]-n[0])*(2+Math.sin(a(n[1]))+Math.sin(a(r[1])));e=e*s.RADIUS*s.RADIUS/2}return e}function a(t){return t*Math.PI/180}var s=t("wgs84");e.exports.geometry=r,e.exports.ring=i},{wgs84:402}],402:[function(t,e,n){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},{}],403:[function(t,e,n){"use strict";function r(t,e,n,r,a,l,u,c){if(n/=e,r/=e,u>=n&&c<=r)return t;if(u>r||c<n)return null;for(var f=[],p=0;p<t.length;p++){var h,d,m=t[p],y=m.geometry,v=m.type;if(h=m.min[a],d=m.max[a],h>=n&&d<=r)f.push(m);else if(!(h>r||d<n)){var g=1===v?o(y,n,r,a):i(y,n,r,a,l,3===v);g.length&&f.push(s(m.tags,v,g,m.id))}}return f.length?f:null}function o(t,e,n,r){for(var o=[],i=0;i<t.length;i++){var a=t[i],s=a[r];s>=e&&s<=n&&o.push(a)}return o}function i(t,e,n,r,o,i){for(var s=[],l=0;l<t.length;l++){var u,c,f,p=0,h=0,d=null,m=t[l],y=m.area,v=m.dist,g=m.outer,b=m.length,_=[];for(c=0;c<b-1;c++)u=d||m[c],d=m[c+1],p=h||u[r],h=d[r],p<e?h>n?(_.push(o(u,d,e),o(u,d,n)),i||(_=a(s,_,y,v,g))):h>=e&&_.push(o(u,d,e)):p>n?h<e?(_.push(o(u,d,n),o(u,d,e)),i||(_=a(s,_,y,v,g))):h<=n&&_.push(o(u,d,n)):(_.push(u),h<e?(_.push(o(u,d,e)),i||(_=a(s,_,y,v,g))):h>n&&(_.push(o(u,d,n)),i||(_=a(s,_,y,v,g))));u=m[b-1],p=u[r],p>=e&&p<=n&&_.push(u),f=_[_.length-1],i&&f&&(_[0][0]!==f[0]||_[0][1]!==f[1])&&_.push(_[0]),a(s,_,y,v,g)}return s}function a(t,e,n,r,o){return e.length&&(e.area=n,e.dist=r,void 0!==o&&(e.outer=o),t.push(e)),[]}e.exports=r;var s=t("./feature")},{"./feature":405}],404:[function(t,e,n){"use strict";function r(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)o(n,t.features[r],e);else"Feature"===t.type?o(n,t,e):o(n,{geometry:t},e);return n}function o(t,e,n){if(null!==e.geometry){var r,s,l,c,f=e.geometry,p=f.type,h=f.coordinates,d=e.properties,m=e.id;if("Point"===p)t.push(u(d,1,[a(h)],m));else if("MultiPoint"===p)t.push(u(d,1,i(h),m));else if("LineString"===p)t.push(u(d,2,[i(h,n)],m));else if("MultiLineString"===p||"Polygon"===p){for(l=[],r=0;r<h.length;r++)c=i(h[r],n),"Polygon"===p&&(c.outer=0===r),l.push(c);t.push(u(d,"Polygon"===p?3:2,l,m))}else if("MultiPolygon"===p){for(l=[],r=0;r<h.length;r++)for(s=0;s<h[r].length;s++)c=i(h[r][s],n),c.outer=0===s,l.push(c);t.push(u(d,3,l,m))}else{if("GeometryCollection"!==p)throw new Error("Input data is not a valid GeoJSON object.");for(r=0;r<f.geometries.length;r++)o(t,{geometry:f.geometries[r],properties:d},n)}}}function i(t,e){for(var n=[],r=0;r<t.length;r++)n.push(a(t[r]));return e&&(l(n,e),s(n)),n}function a(t){var e=Math.sin(t[1]*Math.PI/180),n=t[0]/360+.5,r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r=r<0?0:r>1?1:r,[n,r,0]}function s(t){for(var e,n,r=0,o=0,i=0;i<t.length-1;i++)e=n||t[i],n=t[i+1],r+=e[0]*n[1]-n[0]*e[1],o+=Math.abs(n[0]-e[0])+Math.abs(n[1]-e[1]);t.area=Math.abs(r/2),t.dist=o}e.exports=r;var l=t("./simplify"),u=t("./feature")},{"./feature":405,"./simplify":407}],405:[function(t,e,n){"use strict";function r(t,e,n,r){var i={id:r||null,type:e,geometry:n,tags:t||null,min:[1/0,1/0],max:[-(1/0),-(1/0)]};return o(i),i}function o(t){var e=t.geometry,n=t.min,r=t.max;if(1===t.type)i(n,r,e);else for(var o=0;o<e.length;o++)i(n,r,e[o]);return t}function i(t,e,n){for(var r,o=0;o<n.length;o++)r=n[o],t[0]=Math.min(r[0],t[0]),e[0]=Math.max(r[0],e[0]),t[1]=Math.min(r[1],t[1]),e[1]=Math.max(r[1],e[1])}e.exports=r},{}],406:[function(t,e,n){"use strict";function r(t,e){return new o(t,e)}function o(t,e){e=this.options=l(Object.create(this.options),e);var n=e.debug;n&&console.time("preprocess data");var r=1<<e.maxZoom,o=c(t,e.tolerance/(r*e.extent));this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),o=h(o,e.buffer/e.extent,a),o.length&&this.splitTile(o,0,0,0),n&&(o.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function i(t,e,n){return 32*((1<<t)*n+e)+t}function a(t,e,n){return[n,(n-t[0])*(e[1]-t[1])/(e[0]-t[0])+t[1],1]}function s(t,e,n){return[(n-t[1])*(e[0]-t[0])/(e[1]-t[1])+t[0],n,1]}function l(t,e){for(var n in e)t[n]=e[n];return t}function u(t,e,n){var r=t.source;if(1!==r.length)return!1;var o=r[0];if(3!==o.type||o.geometry.length>1)return!1;var i=o.geometry[0].length;if(5!==i)return!1;for(var a=0;a<i;a++){var s=f.point(o.geometry[0][a],e,t.z2,t.x,t.y);if(s[0]!==-n&&s[0]!==e+n||s[1]!==-n&&s[1]!==e+n)return!1}return!0}e.exports=r;var c=t("./convert"),f=t("./transform"),p=t("./clip"),h=t("./wrap"),d=t("./tile");o.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},o.prototype.splitTile=function(t,e,n,r,o,l,c){for(var f=[t,e,n,r],h=this.options,m=h.debug,y=null;f.length;){r=f.pop(),n=f.pop(),e=f.pop(),t=f.pop();var v=1<<e,g=i(e,n,r),b=this.tiles[g],_=e===h.maxZoom?0:h.tolerance/(v*h.extent);if(!b&&(m>1&&console.time("creation"),b=this.tiles[g]=d(t,v,n,r,_,e===h.maxZoom),this.tileCoords.push({z:e,x:n,y:r}),m)){m>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,b.numFeatures,b.numPoints,b.numSimplified),console.timeEnd("creation"));var x="z"+e;this.stats[x]=(this.stats[x]||0)+1,this.total++}if(b.source=t,o){if(e===h.maxZoom||e===o)continue;var w=1<<o-e;if(n!==Math.floor(l/w)||r!==Math.floor(c/w))continue}else if(e===h.indexMaxZoom||b.numPoints<=h.indexMaxPoints)continue;if(h.solidChildren||!u(b,h.extent,h.buffer)){b.source=null,m>1&&console.time("clipping");var T,E,C,k,S,P,M=.5*h.buffer/h.extent,A=.5-M,O=.5+M,D=1+M;T=E=C=k=null,S=p(t,v,n-M,n+O,0,a,b.min[0],b.max[0]),P=p(t,v,n+A,n+D,0,a,b.min[0],b.max[0]),S&&(T=p(S,v,r-M,r+O,1,s,b.min[1],b.max[1]),E=p(S,v,r+A,r+D,1,s,b.min[1],b.max[1])),P&&(C=p(P,v,r-M,r+O,1,s,b.min[1],b.max[1]),k=p(P,v,r+A,r+D,1,s,b.min[1],b.max[1])),m>1&&console.timeEnd("clipping"),t.length&&(f.push(T||[],e+1,2*n,2*r),f.push(E||[],e+1,2*n,2*r+1),f.push(C||[],e+1,2*n+1,2*r),f.push(k||[],e+1,2*n+1,2*r+1))}else o&&(y=e)}return y},o.prototype.getTile=function(t,e,n){var r=this.options,o=r.extent,a=r.debug,s=1<<t;e=(e%s+s)%s;var l=i(t,e,n);if(this.tiles[l])return f.tile(this.tiles[l],o);a>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var c,p=t,h=e,d=n;!c&&p>0;)p--,h=Math.floor(h/2),d=Math.floor(d/2),c=this.tiles[i(p,h,d)];if(!c||!c.source)return null;if(a>1&&console.log("found parent tile z%d-%d-%d",p,h,d),u(c,o,r.buffer))return f.tile(c,o);a>1&&console.time("drilling down");var m=this.splitTile(c.source,p,h,d,t,e,n);if(a>1&&console.timeEnd("drilling down"),null!==m){var y=1<<t-m;l=i(m,Math.floor(e/y),Math.floor(n/y))}return this.tiles[l]?f.tile(this.tiles[l],o):null}},{"./clip":403,"./convert":404,"./tile":408,"./transform":409,"./wrap":410}],407:[function(t,e,n){"use strict";function r(t,e){var n,r,i,a,s=e*e,l=t.length,u=0,c=l-1,f=[];for(t[u][2]=1,t[c][2]=1;c;){for(r=0,n=u+1;n<c;n++)i=o(t[n],t[u],t[c]),i>r&&(a=n,r=i);r>s?(t[a][2]=r,f.push(u),f.push(a),u=a):(c=f.pop(),u=f.pop())}}function o(t,e,n){var r=e[0],o=e[1],i=n[0],a=n[1],s=t[0],l=t[1],u=i-r,c=a-o;if(0!==u||0!==c){var f=((s-r)*u+(l-o)*c)/(u*u+c*c);f>1?(r=i,o=a):f>0&&(r+=u*f,o+=c*f)}return u=s-r,c=l-o,u*u+c*c}e.exports=r},{}],408:[function(t,e,n){"use strict";function r(t,e,n,r,i,a){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z2:e,transformed:!1,min:[2,1],max:[-1,0]},l=0;l<t.length;l++){s.numFeatures++,o(s,t[l],i,a);var u=t[l].min,c=t[l].max;u[0]<s.min[0]&&(s.min[0]=u[0]),u[1]<s.min[1]&&(s.min[1]=u[1]),c[0]>s.max[0]&&(s.max[0]=c[0]),c[1]>s.max[1]&&(s.max[1]=c[1])}return s}function o(t,e,n,r){var o,a,s,l,u=e.geometry,c=e.type,f=[],p=n*n;if(1===c)for(o=0;o<u.length;o++)f.push(u[o]),t.numPoints++,t.numSimplified++;else for(o=0;o<u.length;o++)if(s=u[o],r||!(2===c&&s.dist<n||3===c&&s.area<p)){var h=[];for(a=0;a<s.length;a++)l=s[a],(r||l[2]>p)&&(h.push(l),t.numSimplified++),t.numPoints++;3===c&&i(h,s.outer),f.push(h)}else t.numPoints+=s.length;if(f.length){var d={geometry:f,type:c,tags:e.tags||null};null!==e.id&&(d.id=e.id),t.features.push(d)}}function i(t,e){var n=a(t);n<0===e&&t.reverse()}function a(t){for(var e,n,r=0,o=0,i=t.length,a=i-1;o<i;a=o++)e=t[o],n=t[a],r+=(n[0]-e[0])*(e[1]+n[1]);return r}e.exports=r},{}],409:[function(t,e,n){"use strict";function r(t,e){if(t.transformed)return t;var n,r,i,a=t.z2,s=t.x,l=t.y;for(n=0;n<t.features.length;n++){var u=t.features[n],c=u.geometry,f=u.type;if(1===f)for(r=0;r<c.length;r++)c[r]=o(c[r],e,a,s,l);else for(r=0;r<c.length;r++){var p=c[r];for(i=0;i<p.length;i++)p[i]=o(p[i],e,a,s,l)}}return t.transformed=!0,t}function o(t,e,n,r,o){var i=Math.round(e*(t[0]*n-r)),a=Math.round(e*(t[1]*n-o));return[i,a]}n.tile=r,n.point=o},{}],410:[function(t,e,n){"use strict";function r(t,e,n){var r=t,i=a(t,1,-1-e,e,0,n,-1,2),s=a(t,1,1-e,2+e,0,n,-1,2);return(i||s)&&(r=a(t,1,-e,1+e,0,n,-1,2)||[],i&&(r=o(i,1).concat(r)),s&&(r=r.concat(o(s,-1)))),r}function o(t,e){for(var n=[],r=0;r<t.length;r++){var o,a=t[r],l=a.type;if(1===l)o=i(a.geometry,e);else{o=[];for(var u=0;u<a.geometry.length;u++)o.push(i(a.geometry[u],e))}n.push(s(a.tags,l,o,a.id))}return n}function i(t,e){var n=[];n.area=t.area,n.dist=t.dist;for(var r=0;r<t.length;r++)n.push([t[r][0]+e,t[r][1],t[r][2]]);return n}var a=t("./clip"),s=t("./feature");e.exports=r},{"./clip":403,"./feature":405}],411:[function(t,e,n){n.glMatrix=t("./gl-matrix/common.js"),n.mat2=t("./gl-matrix/mat2.js"),n.mat2d=t("./gl-matrix/mat2d.js"),n.mat3=t("./gl-matrix/mat3.js"),n.mat4=t("./gl-matrix/mat4.js"),n.quat=t("./gl-matrix/quat.js"),n.vec2=t("./gl-matrix/vec2.js"),n.vec3=t("./gl-matrix/vec3.js"),n.vec4=t("./gl-matrix/vec4.js")},{"./gl-matrix/common.js":412,"./gl-matrix/mat2.js":413,"./gl-matrix/mat2d.js":414,"./gl-matrix/mat3.js":415,"./gl-matrix/mat4.js":416,"./gl-matrix/quat.js":417,"./gl-matrix/vec2.js":418,"./gl-matrix/vec3.js":419,"./gl-matrix/vec4.js":420}],412:[function(t,e,n){var r={};r.EPSILON=1e-6,r.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,r.RANDOM=Math.random,r.ENABLE_SIMD=!1,r.SIMD_AVAILABLE=r.ARRAY_TYPE===Float32Array&&"SIMD"in this,r.USE_SIMD=r.ENABLE_SIMD&&r.SIMD_AVAILABLE,r.setMatrixArrayType=function(t){r.ARRAY_TYPE=t};var o=Math.PI/180;r.toRadian=function(t){return t*o},r.equals=function(t,e){return Math.abs(t-e)<=r.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},e.exports=r},{}],413:[function(t,e,n){var r=t("./common.js"),o={};o.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.fromValues=function(t,e,n,o){var i=new r.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=o,i},o.set=function(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t},o.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},o.invert=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n*i-o*r;return a?(a=1/a,t[0]=i*a,t[1]=-r*a,t[2]=-o*a,t[3]=n*a,t):null},o.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},o.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},o.multiply=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],l=n[1],u=n[2],c=n[3];return t[0]=r*s+i*l,t[1]=o*s+a*l,t[2]=r*u+i*c,t[3]=o*u+a*c,t},o.mul=o.multiply,o.rotate=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+i*s,t[1]=o*l+a*s,t[2]=r*-s+i*l,t[3]=o*-s+a*l,t},o.scale=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],l=n[1];return t[0]=r*s,t[1]=o*s,t[2]=i*l,t[3]=a*l,t},o.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},o.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},o.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},o.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},o.sub=o.subtract,o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},o.equals=function(t,e){var n=t[0],o=t[1],i=t[2],a=t[3],s=e[0],l=e[1],u=e[2],c=e[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(i-u)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},o.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},o.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},e.exports=o},{"./common.js":412}],414:[function(t,e,n){var r=t("./common.js"),o={};o.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},o.clone=function(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},o.fromValues=function(t,e,n,o,i,a){var s=new r.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=n,s[3]=o,s[4]=i,s[5]=a,s},o.set=function(t,e,n,r,o,i,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t},o.invert=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=n*i-r*o;return l?(l=1/l,t[0]=i*l,t[1]=-r*l,t[2]=-o*l,t[3]=n*l,t[4]=(o*s-i*a)*l,t[5]=(r*a-n*s)*l,t):null},o.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},o.multiply=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=n[0],c=n[1],f=n[2],p=n[3],h=n[4],d=n[5];return t[0]=r*u+i*c,t[1]=o*u+a*c,t[2]=r*f+i*p,t[3]=o*f+a*p,t[4]=r*h+i*d+s,t[5]=o*h+a*d+l,t},o.mul=o.multiply,o.rotate=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=Math.sin(n),c=Math.cos(n);return t[0]=r*c+i*u,t[1]=o*c+a*u,t[2]=r*-u+i*c,t[3]=o*-u+a*c,t[4]=s,t[5]=l,t},o.scale=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=n[0],c=n[1];return t[0]=r*u,t[1]=o*u,t[2]=i*c,t[3]=a*c,t[4]=s,t[5]=l,t},o.translate=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=n[0],c=n[1];return t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=r*u+i*c+s,t[5]=o*u+a*c+l,t},o.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},o.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},o.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},o.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t},o.sub=o.subtract,o.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},o.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},o.equals=function(t,e){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=e[0],c=e[1],f=e[2],p=e[3],h=e[4],d=e[5];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-c)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(i-f)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(a-p)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(s-h)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(l-d)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(d))},e.exports=o},{"./common.js":412}],415:[function(t,e,n){var r=t("./common.js"),o={};o.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},o.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},o.fromValues=function(t,e,n,o,i,a,s,l,u){var c=new r.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=o,c[4]=i,c[5]=a,c[6]=s,c[7]=l,c[8]=u,c},o.set=function(t,e,n,r,o,i,a,s,l,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},o.invert=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=c*a-s*u,p=-c*i+s*l,h=u*i-a*l,d=n*f+r*p+o*h;return d?(d=1/d,t[0]=f*d,t[1]=(-c*r+o*u)*d,t[2]=(s*r-o*a)*d,t[3]=p*d,t[4]=(c*n-o*l)*d,t[5]=(-s*n+o*i)*d,t[6]=h*d,t[7]=(-u*n+r*l)*d,t[8]=(a*n-r*i)*d,t):null},o.adjoint=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return t[0]=a*c-s*u,t[1]=o*u-r*c,t[2]=r*s-o*a,t[3]=s*l-i*c,t[4]=n*c-o*l,t[5]=o*i-n*s,t[6]=i*u-a*l,t[7]=r*l-n*u,t[8]=n*a-r*i,t},o.determinant=function(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],s=t[6],l=t[7],u=t[8];return e*(u*i-a*l)+n*(-u*o+a*s)+r*(l*o-i*s)},o.multiply=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],p=n[0],h=n[1],d=n[2],m=n[3],y=n[4],v=n[5],g=n[6],b=n[7],_=n[8];return t[0]=p*r+h*a+d*u,t[1]=p*o+h*s+d*c,t[2]=p*i+h*l+d*f,t[3]=m*r+y*a+v*u,t[4]=m*o+y*s+v*c,t[5]=m*i+y*l+v*f,t[6]=g*r+b*a+_*u,t[7]=g*o+b*s+_*c,t[8]=g*i+b*l+_*f,t},o.mul=o.multiply,o.translate=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],p=n[0],h=n[1];return t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=l,t[6]=p*r+h*a+u,t[7]=p*o+h*s+c,t[8]=p*i+h*l+f,t},o.rotate=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],p=Math.sin(n),h=Math.cos(n);return t[0]=h*r+p*a,t[1]=h*o+p*s,t[2]=h*i+p*l,t[3]=h*a-p*r,t[4]=h*s-p*o,t[5]=h*l-p*i,t[6]=u,t[7]=c,t[8]=f,t},o.scale=function(t,e,n){var r=n[0],o=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},o.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},o.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},o.fromQuat=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,s=r+r,l=o+o,u=n*a,c=r*a,f=r*s,p=o*a,h=o*s,d=o*l,m=i*a,y=i*s,v=i*l;return t[0]=1-f-d,t[3]=c-v,t[6]=p+y,t[1]=c+v,t[4]=1-u-d,t[7]=h-m,t[2]=p-y,t[5]=h+m,t[8]=1-u-f,t},o.normalFromMat4=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],p=e[10],h=e[11],d=e[12],m=e[13],y=e[14],v=e[15],g=n*s-r*a,b=n*l-o*a,_=n*u-i*a,x=r*l-o*s,w=r*u-i*s,T=o*u-i*l,E=c*m-f*d,C=c*y-p*d,k=c*v-h*d,S=f*y-p*m,P=f*v-h*m,M=p*v-h*y,A=g*M-b*P+_*S+x*k-w*C+T*E;return A?(A=1/A,t[0]=(s*M-l*P+u*S)*A,t[1]=(l*k-a*M-u*C)*A,t[2]=(a*P-s*k+u*E)*A,t[3]=(o*P-r*M-i*S)*A,t[4]=(n*M-o*k+i*C)*A,t[5]=(r*k-n*P-i*E)*A,t[6]=(m*T-y*w+v*x)*A,t[7]=(y*_-d*T-v*b)*A,t[8]=(d*w-m*_+v*g)*A,t):null},o.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},o.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t},o.sub=o.subtract,o.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},o.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},o.equals=function(t,e){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],p=e[0],h=e[1],d=e[2],m=e[3],y=e[4],v=e[5],g=t[6],b=e[7],_=e[8];return Math.abs(n-p)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(o-h)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(i-d)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(a-m)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-y)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(l-v)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(u-g)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(c-b)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-_)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(_))},e.exports=o},{"./common.js":412}],416:[function(t,e,n){var r=t("./common.js"),o={scalar:{},SIMD:{}};o.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.clone=function(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},o.fromValues=function(t,e,n,o,i,a,s,l,u,c,f,p,h,d,m,y){var v=new r.ARRAY_TYPE(16);return v[0]=t,v[1]=e,v[2]=n,v[3]=o,v[4]=i,v[5]=a,v[6]=s,v[7]=l,v[8]=u,v[9]=c,v[10]=f,v[11]=p,v[12]=h,v[13]=d,v[14]=m,v[15]=y,v},o.set=function(t,e,n,r,o,i,a,s,l,u,c,f,p,h,d,m,y){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t[9]=c,t[10]=f,t[11]=p,t[12]=h,t[13]=d,t[14]=m,t[15]=y,t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.scalar.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],o=e[3],i=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=o,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},o.SIMD.transpose=function(t,e){var n,r,o,i,a,s,l,u,c,f;
return n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),i=SIMD.Float32x4.load(e,12),a=SIMD.Float32x4.shuffle(n,r,0,1,4,5),s=SIMD.Float32x4.shuffle(o,i,0,1,4,5),l=SIMD.Float32x4.shuffle(a,s,0,2,4,6),u=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,0,l),SIMD.Float32x4.store(t,4,u),a=SIMD.Float32x4.shuffle(n,r,2,3,6,7),s=SIMD.Float32x4.shuffle(o,i,2,3,6,7),c=SIMD.Float32x4.shuffle(a,s,0,2,4,6),f=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,8,c),SIMD.Float32x4.store(t,12,f),t},o.transpose=r.USE_SIMD?o.SIMD.transpose:o.scalar.transpose,o.scalar.invert=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],p=e[10],h=e[11],d=e[12],m=e[13],y=e[14],v=e[15],g=n*s-r*a,b=n*l-o*a,_=n*u-i*a,x=r*l-o*s,w=r*u-i*s,T=o*u-i*l,E=c*m-f*d,C=c*y-p*d,k=c*v-h*d,S=f*y-p*m,P=f*v-h*m,M=p*v-h*y,A=g*M-b*P+_*S+x*k-w*C+T*E;return A?(A=1/A,t[0]=(s*M-l*P+u*S)*A,t[1]=(o*P-r*M-i*S)*A,t[2]=(m*T-y*w+v*x)*A,t[3]=(p*w-f*T-h*x)*A,t[4]=(l*k-a*M-u*C)*A,t[5]=(n*M-o*k+i*C)*A,t[6]=(y*_-d*T-v*b)*A,t[7]=(c*T-p*_+h*b)*A,t[8]=(a*P-s*k+u*E)*A,t[9]=(r*k-n*P-i*E)*A,t[10]=(d*w-m*_+v*g)*A,t[11]=(f*_-c*w-h*g)*A,t[12]=(s*C-a*S-l*E)*A,t[13]=(n*S-r*C+o*E)*A,t[14]=(m*b-d*x-y*g)*A,t[15]=(c*x-f*b+p*g)*A,t):null},o.SIMD.invert=function(t,e){var n,r,o,i,a,s,l,u,c,f,p=SIMD.Float32x4.load(e,0),h=SIMD.Float32x4.load(e,4),d=SIMD.Float32x4.load(e,8),m=SIMD.Float32x4.load(e,12);return a=SIMD.Float32x4.shuffle(p,h,0,1,4,5),r=SIMD.Float32x4.shuffle(d,m,0,1,4,5),n=SIMD.Float32x4.shuffle(a,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,a,1,3,5,7),a=SIMD.Float32x4.shuffle(p,h,2,3,6,7),i=SIMD.Float32x4.shuffle(d,m,2,3,6,7),o=SIMD.Float32x4.shuffle(a,i,0,2,4,6),i=SIMD.Float32x4.shuffle(i,a,1,3,5,7),a=SIMD.Float32x4.mul(o,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.mul(r,a),l=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,a),s),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),a=SIMD.Float32x4.mul(r,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),s),c=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(i,a)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),a=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),o=SIMD.Float32x4.swizzle(o,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),s),u=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,a)),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),a=SIMD.Float32x4.mul(n,r),a=SIMD.Float32x4.swizzle(a,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),u),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),c),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),u),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(o,a)),a=SIMD.Float32x4.mul(n,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(o,a)),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),u),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),l),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.mul(n,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(i,a)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),c),f=SIMD.Float32x4.mul(n,s),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,2,3,0,1),f),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,1,0,3,2),f),a=SIMD.Float32x4.reciprocalApproximation(f),f=SIMD.Float32x4.sub(SIMD.Float32x4.add(a,a),SIMD.Float32x4.mul(f,SIMD.Float32x4.mul(a,a))),(f=SIMD.Float32x4.swizzle(f,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(f,s)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(f,l)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(f,u)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(f,c)),t):null},o.invert=r.USE_SIMD?o.SIMD.invert:o.scalar.invert,o.scalar.adjoint=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],p=e[10],h=e[11],d=e[12],m=e[13],y=e[14],v=e[15];return t[0]=s*(p*v-h*y)-f*(l*v-u*y)+m*(l*h-u*p),t[1]=-(r*(p*v-h*y)-f*(o*v-i*y)+m*(o*h-i*p)),t[2]=r*(l*v-u*y)-s*(o*v-i*y)+m*(o*u-i*l),t[3]=-(r*(l*h-u*p)-s*(o*h-i*p)+f*(o*u-i*l)),t[4]=-(a*(p*v-h*y)-c*(l*v-u*y)+d*(l*h-u*p)),t[5]=n*(p*v-h*y)-c*(o*v-i*y)+d*(o*h-i*p),t[6]=-(n*(l*v-u*y)-a*(o*v-i*y)+d*(o*u-i*l)),t[7]=n*(l*h-u*p)-a*(o*h-i*p)+c*(o*u-i*l),t[8]=a*(f*v-h*m)-c*(s*v-u*m)+d*(s*h-u*f),t[9]=-(n*(f*v-h*m)-c*(r*v-i*m)+d*(r*h-i*f)),t[10]=n*(s*v-u*m)-a*(r*v-i*m)+d*(r*u-i*s),t[11]=-(n*(s*h-u*f)-a*(r*h-i*f)+c*(r*u-i*s)),t[12]=-(a*(f*y-p*m)-c*(s*y-l*m)+d*(s*p-l*f)),t[13]=n*(f*y-p*m)-c*(r*y-o*m)+d*(r*p-o*f),t[14]=-(n*(s*y-l*m)-a*(r*y-o*m)+d*(r*l-o*s)),t[15]=n*(s*p-l*f)-a*(r*p-o*f)+c*(r*l-o*s),t},o.SIMD.adjoint=function(t,e){var n,r,o,i,a,s,l,u,c,f,p,h,d,n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),i=SIMD.Float32x4.load(e,12);return c=SIMD.Float32x4.shuffle(n,r,0,1,4,5),s=SIMD.Float32x4.shuffle(o,i,0,1,4,5),a=SIMD.Float32x4.shuffle(c,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,c,1,3,5,7),c=SIMD.Float32x4.shuffle(n,r,2,3,6,7),u=SIMD.Float32x4.shuffle(o,i,2,3,6,7),l=SIMD.Float32x4.shuffle(c,u,0,2,4,6),u=SIMD.Float32x4.shuffle(u,c,1,3,5,7),c=SIMD.Float32x4.mul(l,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.mul(s,c),p=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,c),f),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),p),p=SIMD.Float32x4.swizzle(p,2,3,0,1),c=SIMD.Float32x4.mul(s,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),f),d=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(u,c)),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),c=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,3,0,1),u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),l=SIMD.Float32x4.swizzle(l,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),f),h=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(l,c)),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.mul(a,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),h),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,c),d),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),h),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(l,c)),c=SIMD.Float32x4.mul(a,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(l,c)),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),h),c=SIMD.Float32x4.swizzle(c,2,3,0,1),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),p),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(s,c)),c=SIMD.Float32x4.mul(a,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),p),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(s,c)),c=SIMD.Float32x4.swizzle(c,2,3,0,1),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(u,c)),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),d),SIMD.Float32x4.store(t,0,f),SIMD.Float32x4.store(t,4,p),SIMD.Float32x4.store(t,8,h),SIMD.Float32x4.store(t,12,d),t},o.adjoint=r.USE_SIMD?o.SIMD.adjoint:o.scalar.adjoint,o.determinant=function(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],p=t[11],h=t[12],d=t[13],m=t[14],y=t[15],v=e*a-n*i,g=e*s-r*i,b=e*l-o*i,_=n*s-r*a,x=n*l-o*a,w=r*l-o*s,T=u*d-c*h,E=u*m-f*h,C=u*y-p*h,k=c*m-f*d,S=c*y-p*d,P=f*y-p*m;return v*P-g*S+b*k+_*C-x*E+w*T},o.SIMD.multiply=function(t,e,n){var r=SIMD.Float32x4.load(e,0),o=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4.load(n,0),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),a))));SIMD.Float32x4.store(t,0,l);var u=SIMD.Float32x4.load(n,4),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,3,3,3,3),a))));SIMD.Float32x4.store(t,4,c);var f=SIMD.Float32x4.load(n,8),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),a))));SIMD.Float32x4.store(t,8,p);var h=SIMD.Float32x4.load(n,12),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,3,3,3,3),a))));return SIMD.Float32x4.store(t,12,d),t},o.scalar.multiply=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],p=e[9],h=e[10],d=e[11],m=e[12],y=e[13],v=e[14],g=e[15],b=n[0],_=n[1],x=n[2],w=n[3];return t[0]=b*r+_*s+x*f+w*m,t[1]=b*o+_*l+x*p+w*y,t[2]=b*i+_*u+x*h+w*v,t[3]=b*a+_*c+x*d+w*g,b=n[4],_=n[5],x=n[6],w=n[7],t[4]=b*r+_*s+x*f+w*m,t[5]=b*o+_*l+x*p+w*y,t[6]=b*i+_*u+x*h+w*v,t[7]=b*a+_*c+x*d+w*g,b=n[8],_=n[9],x=n[10],w=n[11],t[8]=b*r+_*s+x*f+w*m,t[9]=b*o+_*l+x*p+w*y,t[10]=b*i+_*u+x*h+w*v,t[11]=b*a+_*c+x*d+w*g,b=n[12],_=n[13],x=n[14],w=n[15],t[12]=b*r+_*s+x*f+w*m,t[13]=b*o+_*l+x*p+w*y,t[14]=b*i+_*u+x*h+w*v,t[15]=b*a+_*c+x*d+w*g,t},o.multiply=r.USE_SIMD?o.SIMD.multiply:o.scalar.multiply,o.mul=o.multiply,o.scalar.translate=function(t,e,n){var r,o,i,a,s,l,u,c,f,p,h,d,m=n[0],y=n[1],v=n[2];return e===t?(t[12]=e[0]*m+e[4]*y+e[8]*v+e[12],t[13]=e[1]*m+e[5]*y+e[9]*v+e[13],t[14]=e[2]*m+e[6]*y+e[10]*v+e[14],t[15]=e[3]*m+e[7]*y+e[11]*v+e[15]):(r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],p=e[9],h=e[10],d=e[11],t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=f,t[9]=p,t[10]=h,t[11]=d,t[12]=r*m+s*y+f*v+e[12],t[13]=o*m+l*y+p*v+e[13],t[14]=i*m+u*y+h*v+e[14],t[15]=a*m+c*y+d*v+e[15]),t},o.SIMD.translate=function(t,e,n){var r=SIMD.Float32x4.load(e,0),o=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4(n[0],n[1],n[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(s,0,0,0,0)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(s,1,1,1,1)),i=SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(s,2,2,2,2));var l=SIMD.Float32x4.add(r,SIMD.Float32x4.add(o,SIMD.Float32x4.add(i,a)));return SIMD.Float32x4.store(t,12,l),t},o.translate=r.USE_SIMD?o.SIMD.translate:o.scalar.translate,o.scalar.scale=function(t,e,n){var r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},o.SIMD.scale=function(t,e,n){var r,o,i,a=SIMD.Float32x4(n[0],n[1],n[2],0);return r=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(a,0,0,0,0))),o=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(a,1,1,1,1))),i=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(a,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},o.scale=r.USE_SIMD?o.SIMD.scale:o.scalar.scale,o.rotate=function(t,e,n,o){var i,a,s,l,u,c,f,p,h,d,m,y,v,g,b,_,x,w,T,E,C,k,S,P,M=o[0],A=o[1],O=o[2],D=Math.sqrt(M*M+A*A+O*O);return Math.abs(D)<r.EPSILON?null:(D=1/D,M*=D,A*=D,O*=D,i=Math.sin(n),a=Math.cos(n),s=1-a,l=e[0],u=e[1],c=e[2],f=e[3],p=e[4],h=e[5],d=e[6],m=e[7],y=e[8],v=e[9],g=e[10],b=e[11],_=M*M*s+a,x=A*M*s+O*i,w=O*M*s-A*i,T=M*A*s-O*i,E=A*A*s+a,C=O*A*s+M*i,k=M*O*s+A*i,S=A*O*s-M*i,P=O*O*s+a,t[0]=l*_+p*x+y*w,t[1]=u*_+h*x+v*w,t[2]=c*_+d*x+g*w,t[3]=f*_+m*x+b*w,t[4]=l*T+p*E+y*C,t[5]=u*T+h*E+v*C,t[6]=c*T+d*E+g*C,t[7]=f*T+m*E+b*C,t[8]=l*k+p*S+y*P,t[9]=u*k+h*S+v*P,t[10]=c*k+d*S+g*P,t[11]=f*k+m*S+b*P,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},o.scalar.rotateX=function(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+u*r,t[5]=a*o+c*r,t[6]=s*o+f*r,t[7]=l*o+p*r,t[8]=u*o-i*r,t[9]=c*o-a*r,t[10]=f*o-s*r,t[11]=p*o-l*r,t},o.SIMD.rotateX=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),o=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var i=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(i,o),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,o),SIMD.Float32x4.mul(i,r))),t},o.rotateX=r.USE_SIMD?o.SIMD.rotateX:o.scalar.rotateX,o.scalar.rotateY=function(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],l=e[3],u=e[8],c=e[9],f=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o-u*r,t[1]=a*o-c*r,t[2]=s*o-f*r,t[3]=l*o-p*r,t[8]=i*r+u*o,t[9]=a*r+c*o,t[10]=s*r+f*o,t[11]=l*r+p*o,t},o.SIMD.rotateY=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),o=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var i=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,o),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(i,r),SIMD.Float32x4.mul(a,o))),t},o.rotateY=r.USE_SIMD?o.SIMD.rotateY:o.scalar.rotateY,o.scalar.rotateZ=function(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],f=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+u*r,t[1]=a*o+c*r,t[2]=s*o+f*r,t[3]=l*o+p*r,t[4]=u*o-i*r,t[5]=c*o-a*r,t[6]=f*o-s*r,t[7]=p*o-l*r,t},o.SIMD.rotateZ=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),o=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var i=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(i,o),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,o),SIMD.Float32x4.mul(i,r))),t},o.rotateZ=r.USE_SIMD?o.SIMD.rotateZ:o.scalar.rotateZ,o.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromRotation=function(t,e,n){var o,i,a,s=n[0],l=n[1],u=n[2],c=Math.sqrt(s*s+l*l+u*u);return Math.abs(c)<r.EPSILON?null:(c=1/c,s*=c,l*=c,u*=c,o=Math.sin(e),i=Math.cos(e),a=1-i,t[0]=s*s*a+i,t[1]=l*s*a+u*o,t[2]=u*s*a-l*o,t[3]=0,t[4]=s*l*a-u*o,t[5]=l*l*a+i,t[6]=u*l*a+s*o,t[7]=0,t[8]=s*u*a+l*o,t[9]=l*u*a-s*o,t[10]=u*u*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},o.fromXRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromYRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromZRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromRotationTranslation=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=r+r,l=o+o,u=i+i,c=r*s,f=r*l,p=r*u,h=o*l,d=o*u,m=i*u,y=a*s,v=a*l,g=a*u;return t[0]=1-(h+m),t[1]=f+g,t[2]=p-v,t[3]=0,t[4]=f-g,t[5]=1-(c+m),t[6]=d+y,t[7]=0,t[8]=p+v,t[9]=d-y,t[10]=1-(c+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},o.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},o.getRotation=function(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},o.fromRotationTranslationScale=function(t,e,n,r){var o=e[0],i=e[1],a=e[2],s=e[3],l=o+o,u=i+i,c=a+a,f=o*l,p=o*u,h=o*c,d=i*u,m=i*c,y=a*c,v=s*l,g=s*u,b=s*c,_=r[0],x=r[1],w=r[2];return t[0]=(1-(d+y))*_,t[1]=(p+b)*_,t[2]=(h-g)*_,t[3]=0,t[4]=(p-b)*x,t[5]=(1-(f+y))*x,t[6]=(m+v)*x,t[7]=0,t[8]=(h+g)*w,t[9]=(m-v)*w,t[10]=(1-(f+d))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},o.fromRotationTranslationScaleOrigin=function(t,e,n,r,o){var i=e[0],a=e[1],s=e[2],l=e[3],u=i+i,c=a+a,f=s+s,p=i*u,h=i*c,d=i*f,m=a*c,y=a*f,v=s*f,g=l*u,b=l*c,_=l*f,x=r[0],w=r[1],T=r[2],E=o[0],C=o[1],k=o[2];return t[0]=(1-(m+v))*x,t[1]=(h+_)*x,t[2]=(d-b)*x,t[3]=0,t[4]=(h-_)*w,t[5]=(1-(p+v))*w,t[6]=(y+g)*w,t[7]=0,t[8]=(d+b)*T,t[9]=(y-g)*T,t[10]=(1-(p+m))*T,t[11]=0,t[12]=n[0]+E-(t[0]*E+t[4]*C+t[8]*k),t[13]=n[1]+C-(t[1]*E+t[5]*C+t[9]*k),t[14]=n[2]+k-(t[2]*E+t[6]*C+t[10]*k),t[15]=1,t},o.fromQuat=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,s=r+r,l=o+o,u=n*a,c=r*a,f=r*s,p=o*a,h=o*s,d=o*l,m=i*a,y=i*s,v=i*l;return t[0]=1-f-d,t[1]=c+v,t[2]=p-y,t[3]=0,t[4]=c-v,t[5]=1-u-d,t[6]=h+m,t[7]=0,t[8]=p+y,t[9]=h-m,t[10]=1-u-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.frustum=function(t,e,n,r,o,i,a){var s=1/(n-e),l=1/(o-r),u=1/(i-a);return t[0]=2*i*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(o+r)*l,t[10]=(a+i)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*i*2*u,t[15]=0,t},o.perspective=function(t,e,n,r,o){var i=1/Math.tan(e/2),a=1/(r-o);return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*r*a,t[15]=0,t},o.perspectiveFromFieldOfView=function(t,e,n,r){var o=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+s),u=2/(o+i);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-((a-s)*l*.5),t[9]=(o-i)*u*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},o.ortho=function(t,e,n,r,o,i,a){var s=1/(e-n),l=1/(r-o),u=1/(i-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(o+r)*l,t[14]=(a+i)*u,t[15]=1,t},o.lookAt=function(t,e,n,i){var a,s,l,u,c,f,p,h,d,m,y=e[0],v=e[1],g=e[2],b=i[0],_=i[1],x=i[2],w=n[0],T=n[1],E=n[2];return Math.abs(y-w)<r.EPSILON&&Math.abs(v-T)<r.EPSILON&&Math.abs(g-E)<r.EPSILON?o.identity(t):(p=y-w,h=v-T,d=g-E,m=1/Math.sqrt(p*p+h*h+d*d),p*=m,h*=m,d*=m,a=_*d-x*h,s=x*p-b*d,l=b*h-_*p,m=Math.sqrt(a*a+s*s+l*l),m?(m=1/m,a*=m,s*=m,l*=m):(a=0,s=0,l=0),u=h*l-d*s,c=d*a-p*l,f=p*s-h*a,m=Math.sqrt(u*u+c*c+f*f),m?(m=1/m,u*=m,c*=m,f*=m):(u=0,c=0,f=0),t[0]=a,t[1]=u,t[2]=p,t[3]=0,t[4]=s,t[5]=c,t[6]=h,t[7]=0,t[8]=l,t[9]=f,t[10]=d,t[11]=0,t[12]=-(a*y+s*v+l*g),t[13]=-(u*y+c*v+f*g),t[14]=-(p*y+h*v+d*g),t[15]=1,t)},o.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},o.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t},o.sub=o.subtract,o.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},o.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},o.equals=function(t,e){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],p=t[9],h=t[10],d=t[11],m=t[12],y=t[13],v=t[14],g=t[15],b=e[0],_=e[1],x=e[2],w=e[3],T=e[4],E=e[5],C=e[6],k=e[7],S=e[8],P=e[9],M=e[10],A=e[11],O=e[12],D=e[13],L=e[14],I=e[15];return Math.abs(n-b)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(o-_)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(i-x)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(a-w)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-T)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(T))&&Math.abs(l-E)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(u-C)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(c-k)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(k))&&Math.abs(f-S)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(S))&&Math.abs(p-P)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(h-M)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(M))&&Math.abs(d-A)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(m-O)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(y-D)<=r.EPSILON*Math.max(1,Math.abs(y),Math.abs(D))&&Math.abs(v-L)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(L))&&Math.abs(g-I)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(I))},e.exports=o},{"./common.js":412}],417:[function(t,e,n){var r=t("./common.js"),o=t("./mat3.js"),i=t("./vec3.js"),a=t("./vec4.js"),s={};s.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.rotationTo=function(){var t=i.create(),e=i.fromValues(1,0,0),n=i.fromValues(0,1,0);return function(r,o,a){var l=i.dot(o,a);return l<-.999999?(i.cross(t,e,o),i.length(t)<1e-6&&i.cross(t,n,o),i.normalize(t,t),s.setAxisAngle(r,t,Math.PI),r):l>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(i.cross(t,o,a),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+l,s.normalize(r,r))}}(),s.setAxes=function(){var t=o.create();return function(e,n,r,o){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=o[0],t[4]=o[1],t[7]=o[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],s.normalize(e,s.fromMat3(e,t))}}(),s.clone=a.clone,s.fromValues=a.fromValues,s.copy=a.copy,s.set=a.set,s.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.setAxisAngle=function(t,e,n){n=.5*n;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},s.getAxisAngle=function(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n},s.add=a.add,s.multiply=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],l=n[1],u=n[2],c=n[3];return t[0]=r*c+a*s+o*u-i*l,t[1]=o*c+a*l+i*s-r*u,t[2]=i*c+a*u+r*l-o*s,t[3]=a*c-r*s-o*l-i*u,t},s.mul=s.multiply,s.scale=a.scale,s.rotateX=function(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+a*s,t[1]=o*l+i*s,t[2]=i*l-o*s,t[3]=a*l-r*s,t},s.rotateY=function(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l-i*s,t[1]=o*l+a*s,t[2]=i*l+r*s,t[3]=a*l-o*s,t},s.rotateZ=function(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*s,t[1]=o*l-r*s,t[2]=i*l+a*s,t[3]=a*l-i*s,t},s.calculateW=function(t,e){var n=e[0],r=e[1],o=e[2];return t[0]=n,t[1]=r,t[2]=o,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o)),t},s.dot=a.dot,s.lerp=a.lerp,s.slerp=function(t,e,n,r){var o,i,a,s,l,u=e[0],c=e[1],f=e[2],p=e[3],h=n[0],d=n[1],m=n[2],y=n[3];return i=u*h+c*d+f*m+p*y,i<0&&(i=-i,h=-h,d=-d,m=-m,y=-y),1-i>1e-6?(o=Math.acos(i),a=Math.sin(o),s=Math.sin((1-r)*o)/a,l=Math.sin(r*o)/a):(s=1-r,l=r),t[0]=s*u+l*h,t[1]=s*c+l*d,t[2]=s*f+l*m,t[3]=s*p+l*y,t},s.sqlerp=function(){var t=s.create(),e=s.create();return function(n,r,o,i,a,l){return s.slerp(t,r,a,l),s.slerp(e,o,i,l),s.slerp(n,t,e,2*l*(1-l)),n}}(),s.invert=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n*n+r*r+o*o+i*i,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-o*s,t[3]=i*s,t},s.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},s.length=a.length,s.len=s.length,s.squaredLength=a.squaredLength,s.sqrLen=s.squaredLength,s.normalize=a.normalize,s.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var o=0;e[4]>e[0]&&(o=1),e[8]>e[3*o+o]&&(o=2);var i=(o+1)%3,a=(o+2)%3;n=Math.sqrt(e[3*o+o]-e[3*i+i]-e[3*a+a]+1),t[o]=.5*n,n=.5/n,t[3]=(e[3*i+a]-e[3*a+i])*n,t[i]=(e[3*i+o]+e[3*o+i])*n,t[a]=(e[3*a+o]+e[3*o+a])*n}return t},s.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},s.exactEquals=a.exactEquals,s.equals=a.equals,e.exports=s},{"./common.js":412,"./mat3.js":415,"./vec3.js":419,"./vec4.js":420}],418:[function(t,e,n){var r=t("./common.js"),o={};o.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},o.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},o.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},o.set=function(t,e,n){return t[0]=e,t[1]=n,t},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},o.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},o.sub=o.subtract,o.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},o.mul=o.multiply,o.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},o.div=o.divide,o.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},o.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},o.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},o.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},o.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},o.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},o.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},o.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},o.dist=o.distance,o.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},o.sqrDist=o.squaredDistance,o.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},o.len=o.length,o.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},o.sqrLen=o.squaredLength,o.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},o.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},o.normalize=function(t,e){var n=e[0],r=e[1],o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o),t},o.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},o.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},o.lerp=function(t,e,n,r){var o=e[0],i=e[1];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t},o.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},o.transformMat2=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o,t[1]=n[1]*r+n[3]*o,t},o.transformMat2d=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o+n[4],t[1]=n[1]*r+n[3]*o+n[5],t},o.transformMat3=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[3]*o+n[6],t[1]=n[1]*r+n[4]*o+n[7],t},o.transformMat4=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[4]*o+n[12],t[1]=n[1]*r+n[5]*o+n[13],t},o.forEach=function(){var t=o.create();return function(e,n,r,o,i,a){var s,l;for(n||(n=2),r||(r=0),l=o?Math.min(o*n+r,e.length):e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],i(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}(),o.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},o.equals=function(t,e){var n=t[0],o=t[1],i=e[0],a=e[1];return Math.abs(n-i)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(o-a)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(a))},e.exports=o},{"./common.js":412}],419:[function(t,e,n){var r=t("./common.js"),o={};o.create=function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},o.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},o.fromValues=function(t,e,n){var o=new r.ARRAY_TYPE(3);return o[0]=t,o[1]=e,o[2]=n,o},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},o.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},o.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},o.sub=o.subtract,o.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},o.mul=o.multiply,o.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},o.div=o.divide,o.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},o.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},o.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},o.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},o.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},o.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},o.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},o.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(n*n+r*r+o*o)},o.dist=o.distance,o.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return n*n+r*r+o*o},o.sqrDist=o.squaredDistance,o.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},o.len=o.length,o.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},o.sqrLen=o.squaredLength,o.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},o.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},o.normalize=function(t,e){var n=e[0],r=e[1],o=e[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t},o.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},o.cross=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],l=n[2];
return t[0]=o*l-i*s,t[1]=i*a-r*l,t[2]=r*s-o*a,t},o.lerp=function(t,e,n,r){var o=e[0],i=e[1],a=e[2];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=a+r*(n[2]-a),t},o.hermite=function(t,e,n,r,o,i){var a=i*i,s=a*(2*i-3)+1,l=a*(i-2)+i,u=a*(i-1),c=a*(3-2*i);return t[0]=e[0]*s+n[0]*l+r[0]*u+o[0]*c,t[1]=e[1]*s+n[1]*l+r[1]*u+o[1]*c,t[2]=e[2]*s+n[2]*l+r[2]*u+o[2]*c,t},o.bezier=function(t,e,n,r,o,i){var a=1-i,s=a*a,l=i*i,u=s*a,c=3*i*s,f=3*l*a,p=l*i;return t[0]=e[0]*u+n[0]*c+r[0]*f+o[0]*p,t[1]=e[1]*u+n[1]*c+r[1]*f+o[1]*p,t[2]=e[2]*u+n[2]*c+r[2]*f+o[2]*p,t},o.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,o=2*r.RANDOM()-1,i=Math.sqrt(1-o*o)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=o*e,t},o.transformMat4=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,t[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,t[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,t},o.transformMat3=function(t,e,n){var r=e[0],o=e[1],i=e[2];return t[0]=r*n[0]+o*n[3]+i*n[6],t[1]=r*n[1]+o*n[4]+i*n[7],t[2]=r*n[2]+o*n[5]+i*n[8],t},o.transformQuat=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*i-l*o,f=u*o+l*r-a*i,p=u*i+a*o-s*r,h=-a*r-s*o-l*i;return t[0]=c*u+h*-a+f*-l-p*-s,t[1]=f*u+h*-s+p*-a-c*-l,t[2]=p*u+h*-l+c*-s-f*-a,t},o.rotateX=function(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t},o.rotateY=function(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t},o.rotateZ=function(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t},o.forEach=function(){var t=o.create();return function(e,n,r,o,i,a){var s,l;for(n||(n=3),r||(r=0),l=o?Math.min(o*n+r,e.length):e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],i(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),o.angle=function(t,e){var n=o.fromValues(t[0],t[1],t[2]),r=o.fromValues(e[0],e[1],e[2]);o.normalize(n,n),o.normalize(r,r);var i=o.dot(n,r);return i>1?0:Math.acos(i)},o.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},o.equals=function(t,e){var n=t[0],o=t[1],i=t[2],a=e[0],s=e[1],l=e[2];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-s)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-l)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))},e.exports=o},{"./common.js":412}],420:[function(t,e,n){var r=t("./common.js"),o={};o.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},o.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},o.fromValues=function(t,e,n,o){var i=new r.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=o,i},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},o.set=function(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},o.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},o.sub=o.subtract,o.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},o.mul=o.multiply,o.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},o.div=o.divide,o.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},o.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},o.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},o.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},o.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},o.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},o.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},o.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return Math.sqrt(n*n+r*r+o*o+i*i)},o.dist=o.distance,o.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return n*n+r*r+o*o+i*i},o.sqrDist=o.squaredDistance,o.length=function(t){var e=t[0],n=t[1],r=t[2],o=t[3];return Math.sqrt(e*e+n*n+r*r+o*o)},o.len=o.length,o.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],o=t[3];return e*e+n*n+r*r+o*o},o.sqrLen=o.squaredLength,o.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},o.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},o.normalize=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n*n+r*r+o*o+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=o*a,t[3]=i*a),t},o.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},o.lerp=function(t,e,n,r){var o=e[0],i=e[1],a=e[2],s=e[3];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t},o.random=function(t,e){return e=e||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),o.normalize(t,t),o.scale(t,t,e),t},o.transformMat4=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,t[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,t[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,t[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,t},o.transformQuat=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*i-l*o,f=u*o+l*r-a*i,p=u*i+a*o-s*r,h=-a*r-s*o-l*i;return t[0]=c*u+h*-a+f*-l-p*-s,t[1]=f*u+h*-s+p*-a-c*-l,t[2]=p*u+h*-l+c*-s-f*-a,t[3]=e[3],t},o.forEach=function(){var t=o.create();return function(e,n,r,o,i,a){var s,l;for(n||(n=4),r||(r=0),l=o?Math.min(o*n+r,e.length):e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],i(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),o.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},o.equals=function(t,e){var n=t[0],o=t[1],i=t[2],a=t[3],s=e[0],l=e[1],u=e[2],c=e[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(i-u)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},e.exports=o},{"./common.js":412}],421:[function(t,e,n){"use strict";function r(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],e=i[1],n=i[2],this.d=e+2*n;for(var a=0;a<this.d*this.d;a++){var s=i[o+a],l=i[o+a+1];r.push(s===l?null:i.subarray(s,l))}var u=i[o+r.length],c=i[o+r.length+1];this.keys=i.subarray(u,c),this.bboxes=i.subarray(c),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var f=0;f<this.d*this.d;f++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var p=n/e*t;this.min=-p,this.max=t+p}e.exports=r;var o=3;r.prototype.insert=function(t,e,n,r,o){this._forEachCell(e,n,r,o,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(o)},r.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},r.prototype._insertCell=function(t,e,n,r,o,i){this.cells[o].push(i)},r.prototype.query=function(t,e,n,r){var o=this.min,i=this.max;if(t<=o&&e<=o&&i<=n&&i<=r)return Array.prototype.slice.call(this.keys);var a=[],s={};return this._forEachCell(t,e,n,r,this._queryCell,a,s),a},r.prototype._queryCell=function(t,e,n,r,o,i,a){var s=this.cells[o];if(null!==s)for(var l=this.keys,u=this.bboxes,c=0;c<s.length;c++){var f=s[c];if(void 0===a[f]){var p=4*f;t<=u[p+2]&&e<=u[p+3]&&n>=u[p+0]&&r>=u[p+1]?(a[f]=!0,i.push(l[f])):a[f]=!1}}},r.prototype._forEachCell=function(t,e,n,r,o,i,a){for(var s=this._convertToCellCoord(t),l=this._convertToCellCoord(e),u=this._convertToCellCoord(n),c=this._convertToCellCoord(r),f=s;f<=u;f++)for(var p=l;p<=c;p++){var h=this.d*p+f;if(o.call(this,t,e,n,r,h,i,a))return}},r.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},r.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=o+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(e+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var a=e,s=0;s<t.length;s++){var l=t[s];i[o+s]=a,i.set(l,a),a+=l.length}return i[o+t.length]=a,i.set(this.keys,a),a+=this.keys.length,i[o+t.length+1]=a,i.set(this.bboxes,a),a+=this.bboxes.length,i.buffer}},{}],422:[function(t,e,n){"use strict";function r(t,e){var n;if(c(t)){var s,l="object"==typeof t.stops[0][0],u=l||void 0!==t.property,f=l||!u,p=t.type||e||"exponential";if("exponential"===p)s=a;else if("interval"===p)s=i;else{if("categorical"!==p)throw new Error('Unknown function type "'+p+'"');s=o}if(l){for(var h={},d=[],m=0;m<t.stops.length;m++){var y=t.stops[m];void 0===h[y[0].zoom]&&(h[y[0].zoom]={zoom:y[0].zoom,type:t.type,property:t.property,stops:[]}),h[y[0].zoom].stops.push([y[0].value,y[1]])}for(var v in h)d.push([h[v].zoom,r(h[v])]);n=function(e,n){return a({stops:d,base:t.base},e)(e,n)},n.isFeatureConstant=!1,n.isZoomConstant=!1}else f?(n=function(e){return s(t,e)},n.isFeatureConstant=!0,n.isZoomConstant=!1):(n=function(e,n){return s(t,n[t.property])},n.isFeatureConstant=!1,n.isZoomConstant=!0)}else n=function(){return t},n.isFeatureConstant=!0,n.isZoomConstant=!0;return n}function o(t,e){for(var n=0;n<t.stops.length;n++)if(e===t.stops[n][0])return t.stops[n][1];return t.stops[0][1]}function i(t,e){for(var n=0;n<t.stops.length&&!(e<t.stops[n][0]);n++);return t.stops[Math.max(n-1,0)][1]}function a(t,e){for(var n=void 0!==t.base?t.base:1,r=0;;){if(r>=t.stops.length)break;if(e<=t.stops[r][0])break;r++}return 0===r?t.stops[r][1]:r===t.stops.length?t.stops[r-1][1]:s(e,n,t.stops[r-1][0],t.stops[r][0],t.stops[r-1][1],t.stops[r][1])}function s(t,e,n,r,o,i){return"function"==typeof o?function(){var a=o.apply(void 0,arguments),l=i.apply(void 0,arguments);return s(t,e,n,r,a,l)}:o.length?u(t,e,n,r,o,i):l(t,e,n,r,o,i)}function l(t,e,n,r,o,i){var a,s=r-n,l=t-n;return a=1===e?l/s:(Math.pow(e,l)-1)/(Math.pow(e,s)-1),o*(1-a)+i*a}function u(t,e,n,r,o,i){for(var a=[],s=0;s<o.length;s++)a[s]=l(t,e,n,r,o[s],i[s]);return a}function c(t){return"object"==typeof t&&t.stops}e.exports.isFunctionDefinition=c,e.exports.interpolated=function(t){return r(t,"exponential")},e.exports["piecewise-constant"]=function(t){return r(t,"interval")}},{}],423:[function(t,e,n){t("path");e.exports={debug:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform lowp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, step(32767.0, a_pos.x), 1);\n}\n"},fill:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},circle:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    float t = smoothstep(1.0 - max(blur, v_antialiasblur), 1.0, length(v_extrude));\n    gl_FragColor = color * (1.0 - t) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform vec2 u_extrude_scale;\nuniform float u_devicepixelratio;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main(void) {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    v_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5), 0, 1);\n\n    if (u_scale_with_map) {\n        gl_Position.xy += extrude;\n    } else {\n        gl_Position.xy += extrude * gl_Position.w;\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    v_antialiasblur = 1.0 / u_devicepixelratio / radius;\n}\n"},line:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform lowp vec4 u_color;\nuniform lowp float u_opacity;\nuniform float u_blur;\n\nvarying vec2 v_linewidth;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_linewidth.t - blur), v_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    gl_FragColor = u_color * (alpha * u_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_linewidth;\nuniform mediump float u_gapwidth;\nuniform mediump float u_antialiasing;\nuniform mediump float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\nuniform mediump float u_blur;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    float inset = u_gapwidth + (u_gapwidth > 0.0 ? u_antialiasing : 0.0);\n    float outset = u_gapwidth + u_linewidth * (u_gapwidth > 0.0 ? 2.0 : 1.0) + u_antialiasing;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist) / u_ratio, 0.0, 1.0);\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_linewidth = vec2(outset, inset);\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},linepattern:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_blur;\n\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_fade;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_linewidth.t - blur), v_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_linewidth.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_linewidth.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a, u_pattern_br_a, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b, u_pattern_br_b, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    alpha *= u_opacity;\n\n    gl_FragColor = color * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_linewidth;\nuniform mediump float u_gapwidth;\nuniform mediump float u_antialiasing;\nuniform mediump float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    float inset = u_gapwidth + (u_gapwidth > 0.0 ? u_antialiasing : 0.0);\n    float outset = u_gapwidth + u_linewidth * (u_gapwidth > 0.0 ? 2.0 : 1.0) + u_antialiasing;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist) / u_ratio, 0.0, 1.0);\n    v_linesofar = a_linesofar;\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_linewidth = vec2(outset, inset);\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},linesdfpattern:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform lowp vec4 u_color;\nuniform lowp float u_opacity;\n\nuniform float u_blur;\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_linewidth.t - blur), v_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma, 0.5 + u_sdfgamma, sdfdist);\n\n    gl_FragColor = u_color * (alpha * u_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_linewidth;\nuniform mediump float u_gapwidth;\nuniform mediump float u_antialiasing;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    float inset = u_gapwidth + (u_gapwidth > 0.0 ? u_antialiasing : 0.0);\n    float outset = u_gapwidth + u_linewidth * (u_gapwidth > 0.0 ? 2.0 : 1.0) + u_antialiasing;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist) / u_ratio, 0.0, 1.0);\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_linewidth = vec2(outset, inset);\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},outline:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n#pragma mapbox: define lowp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = smoothstep(1.0, 0.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},outlinepattern:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_opacity;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = smoothstep(1.0, 0.0, dist);\n    \n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    vec2 scaled_size_a = u_scale_a * u_pattern_size_a;\n    vec2 scaled_size_b = u_scale_b * u_pattern_size_b;\n\n    // the correct offset needs to be calculated.\n    //\n    // The offset depends on how many pixels are between the world origin and\n    // the edge of the tile:\n    // vec2 offset = mod(pixel_coord, size)\n    //\n    // At high zoom levels there are a ton of pixels between the world origin\n    // and the edge of the tile. The glsl spec only guarantees 16 bits of\n    // precision for highp floats. We need more than that.\n    //\n    // The pixel_coord is passed in as two 16 bit values:\n    // pixel_coord_upper = floor(pixel_coord / 2^16)\n    // pixel_coord_lower = mod(pixel_coord, 2^16)\n    //\n    // The offset is calculated in a series of steps that should preserve this precision:\n    vec2 offset_a = mod(mod(mod(u_pixel_coord_upper, scaled_size_a) * 256.0, scaled_size_a) * 256.0 + u_pixel_coord_lower, scaled_size_a);\n    vec2 offset_b = mod(mod(mod(u_pixel_coord_upper, scaled_size_b) * 256.0, scaled_size_b) * 256.0 + u_pixel_coord_lower, scaled_size_b);\n\n    v_pos_a = (u_tile_units_to_pixels * a_pos + offset_a) / scaled_size_a;\n    v_pos_b = (u_tile_units_to_pixels * a_pos + offset_b) / scaled_size_b;\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"
},pattern:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_opacity;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    vec2 scaled_size_a = u_scale_a * u_pattern_size_a;\n    vec2 scaled_size_b = u_scale_b * u_pattern_size_b;\n\n    // the correct offset needs to be calculated.\n    //\n    // The offset depends on how many pixels are between the world origin and\n    // the edge of the tile:\n    // vec2 offset = mod(pixel_coord, size)\n    //\n    // At high zoom levels there are a ton of pixels between the world origin\n    // and the edge of the tile. The glsl spec only guarantees 16 bits of\n    // precision for highp floats. We need more than that.\n    //\n    // The pixel_coord is passed in as two 16 bit values:\n    // pixel_coord_upper = floor(pixel_coord / 2^16)\n    // pixel_coord_lower = mod(pixel_coord, 2^16)\n    //\n    // The offset is calculated in a series of steps that should preserve this precision:\n    vec2 offset_a = mod(mod(mod(u_pixel_coord_upper, scaled_size_a) * 256.0, scaled_size_a) * 256.0 + u_pixel_coord_lower, scaled_size_a);\n    vec2 offset_b = mod(mod(mod(u_pixel_coord_upper, scaled_size_b) * 256.0, scaled_size_b) * 256.0 + u_pixel_coord_lower, scaled_size_b);\n\n    v_pos_a = (u_tile_units_to_pixels * a_pos + offset_a) / scaled_size_a;\n    v_pos_b = (u_tile_units_to_pixels * a_pos + offset_b) / scaled_size_b;\n}\n"},raster:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_opacity0;\nuniform float u_opacity1;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    vec4 color = color0 * u_opacity0 + color1 * u_opacity1;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb), color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos0 = (((a_texture_pos / 32767.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},icon:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform lowp float u_opacity;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    lowp float alpha = texture2D(u_fadetexture, v_fade_tex).a * u_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec2 a_texture_pos;\nattribute vec4 a_data;\n\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform mediump float u_zoom;\nuniform bool u_rotate_with_map;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    vec2 a_tex = a_texture_pos.xy;\n    mediump float a_labelminzoom = a_data[0];\n    mediump vec2 a_zoom = a_data.pq;\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    vec2 extrude = u_extrude_scale * (a_offset / 64.0);\n    if (u_rotate_with_map) {\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    } else {\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    v_tex = a_tex / u_texsize;\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\n}\n"},sdf:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform lowp vec4 u_color;\nuniform lowp float u_opacity;\nuniform lowp float u_buffer;\nuniform lowp float u_gamma;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\n\nvoid main() {\n    lowp float dist = texture2D(u_texture, v_tex).a;\n    lowp float fade_alpha = texture2D(u_fadetexture, v_fade_tex).a;\n    lowp float gamma = u_gamma * v_gamma_scale;\n    lowp float alpha = smoothstep(u_buffer - gamma, u_buffer + gamma, dist) * fade_alpha;\n\n    gl_FragColor = u_color * (alpha * u_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nconst float PI = 3.141592653589793;\n\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec2 a_texture_pos;\nattribute vec4 a_data;\n\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform mediump float u_zoom;\nuniform bool u_rotate_with_map;\nuniform bool u_pitch_with_map;\nuniform mediump float u_pitch;\nuniform mediump float u_bearing;\nuniform mediump float u_aspect_ratio;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_tex = a_texture_pos.xy;\n    mediump float a_labelminzoom = a_data[0];\n    mediump vec2 a_zoom = a_data.pq;\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    // pitch-alignment: map\n    // rotation-alignment: map | viewport\n    if (u_pitch_with_map) {\n        lowp float angle = u_rotate_with_map ? (a_data[1] / 256.0 * 2.0 * PI) : u_bearing;\n        lowp float asin = sin(angle);\n        lowp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, asin, -1.0 * asin, acos);\n        vec2 offset = RotationMatrix * a_offset;\n        vec2 extrude = u_extrude_scale * (offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: map\n    } else if (u_rotate_with_map) {\n        // foreshortening factor to apply on pitched maps\n        // as a label goes from horizontal <=> vertical in angle\n        // it goes from 0% foreshortening to up to around 70% foreshortening\n        lowp float pitchfactor = 1.0 - cos(u_pitch * sin(u_pitch * 0.75));\n\n        lowp float lineangle = a_data[1] / 256.0 * 2.0 * PI;\n\n        // use the lineangle to position points a,b along the line\n        // project the points and calculate the label angle in projected space\n        // this calculation allows labels to be rendered unskewed on pitched maps\n        vec4 a = u_matrix * vec4(a_pos, 0, 1);\n        vec4 b = u_matrix * vec4(a_pos + vec2(cos(lineangle),sin(lineangle)), 0, 1);\n        lowp float angle = atan((b[1]/b[3] - a[1]/a[3])/u_aspect_ratio, b[0]/b[3] - a[0]/a[3]);\n        lowp float asin = sin(angle);\n        lowp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, -1.0 * asin, asin, acos);\n\n        vec2 offset = RotationMatrix * (vec2((1.0-pitchfactor)+(pitchfactor*cos(angle*2.0)), 1.0) * a_offset);\n        vec2 extrude = u_extrude_scale * (offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n        gl_Position.z += z * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: viewport\n    } else {\n        vec2 extrude = u_extrude_scale * (a_offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    v_gamma_scale = (gl_Position.w - 0.5);\n\n    v_tex = a_tex / u_texsize;\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\n}\n"},collisionbox:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_zoom;\nuniform float u_maxzoom;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0) * alpha;\n\n    if (v_placement_zoom > u_zoom) {\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n    }\n\n    if (u_zoom >= v_max_zoom) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0) * alpha * 0.25;\n    }\n\n    if (v_placement_zoom >= u_maxzoom) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0) * alpha * 0.2;\n    }\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_data;\n\nuniform mat4 u_matrix;\nuniform float u_scale;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos + a_extrude / u_scale, 0.0, 1.0);\n\n    v_max_zoom = a_data.x;\n    v_placement_zoom = a_data.y;\n}\n"}},e.exports.util="float evaluate_zoom_function_1(const vec4 values, const float t) {\n    if (t < 1.0) {\n        return mix(values[0], values[1], t);\n    } else if (t < 2.0) {\n        return mix(values[1], values[2], t - 1.0);\n    } else {\n        return mix(values[2], values[3], t - 2.0);\n    }\n}\nvec4 evaluate_zoom_function_4(const vec4 value0, const vec4 value1, const vec4 value2, const vec4 value3, const float t) {\n    if (t < 1.0) {\n        return mix(value0, value1, t);\n    } else if (t < 2.0) {\n        return mix(value1, value2, t - 1.0);\n    } else {\n        return mix(value2, value3, t - 2.0);\n    }\n}\n"},{path:59}],424:[function(t,e,n){"use strict";function r(t,e){this.message=(t?t+": ":"")+o.apply(o,Array.prototype.slice.call(arguments,2)),null!==e&&void 0!==e&&e.__line__&&(this.line=e.__line__)}var o=t("util").format;e.exports=r},{util:68}],425:[function(t,e,n){"use strict";e.exports=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}},{}],426:[function(t,e,n){"use strict";e.exports=function(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}},{}],427:[function(t,e,n){"use strict";e.exports=function(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}},{}],428:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/get_type"),i=t("../util/extend");e.exports=function(e){var n=t("./validate_function"),a=t("./validate_object"),s={"*":function(){return[]},array:t("./validate_array"),"boolean":t("./validate_boolean"),number:t("./validate_number"),color:t("./validate_color"),constants:t("./validate_constants"),"enum":t("./validate_enum"),filter:t("./validate_filter"),"function":t("./validate_function"),layer:t("./validate_layer"),object:t("./validate_object"),source:t("./validate_source"),string:t("./validate_string")},l=e.value,u=e.valueSpec,c=e.key,f=e.styleSpec,p=e.style;if("string"===o(l)&&"@"===l[0]){if(f.$version>7)return[new r(c,l,"constants have been deprecated as of v8")];if(!(l in p.constants))return[new r(c,l,'constant "%s" not found',l)];e=i({},e,{value:p.constants[l]})}return u["function"]&&"object"===o(l)?n(e):u.type&&s[u.type]?s[u.type](e):a(i({},e,{valueSpec:u.type?f[u.type]:u}))}},{"../error/validation_error":424,"../util/extend":425,"../util/get_type":426,"./validate_array":429,"./validate_boolean":430,"./validate_color":431,"./validate_constants":432,"./validate_enum":433,"./validate_filter":434,"./validate_function":435,"./validate_layer":437,"./validate_number":439,"./validate_object":440,"./validate_source":442,"./validate_string":443}],429:[function(t,e,n){"use strict";var r=t("../util/get_type"),o=t("./validate"),i=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.valueSpec,a=t.style,s=t.styleSpec,l=t.key,u=t.arrayElementValidator||o;if("array"!==r(e))return[new i(l,e,"array expected, %s found",r(e))];if(n.length&&e.length!==n.length)return[new i(l,e,"array length %d expected, length %d found",n.length,e.length)];if(n["min-length"]&&e.length<n["min-length"])return[new i(l,e,"array length at least %d expected, length %d found",n["min-length"],e.length)];var c={type:n.value};s.$version<7&&(c["function"]=n["function"]),"object"===r(n.value)&&(c=n.value);for(var f=[],p=0;p<e.length;p++)f=f.concat(u({array:e,arrayIndex:p,value:e[p],valueSpec:c,style:a,styleSpec:s,key:l+"["+p+"]"}));return f}},{"../error/validation_error":424,"../util/get_type":426,"./validate":428}],430:[function(t,e,n){"use strict";var r=t("../util/get_type"),o=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.key,i=r(e);return"boolean"!==i?[new o(n,e,"boolean expected, %s found",i)]:[]}},{"../error/validation_error":424,"../util/get_type":426}],431:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/get_type"),i=t("csscolorparser").parseCSSColor;e.exports=function(t){var e=t.key,n=t.value,a=o(n);return"string"!==a?[new r(e,n,"color expected, %s found",a)]:null===i(n)?[new r(e,n,'color expected, "%s" found',n)]:[]}},{"../error/validation_error":424,"../util/get_type":426,csscolorparser:397}],432:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/get_type");e.exports=function(t){var e=t.key,n=t.value,i=t.styleSpec;if(i.$version>7)return n?[new r(e,n,"constants have been deprecated as of v8")]:[];var a=o(n);if("object"!==a)return[new r(e,n,"object expected, %s found",a)];var s=[];for(var l in n)"@"!==l[0]&&s.push(new r(e+"."+l,n[l],'constants must start with "@"'));return s}},{"../error/validation_error":424,"../util/get_type":426}],433:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/unbundle_jsonlint");e.exports=function(t){var e=t.key,n=t.value,i=t.valueSpec,a=[];return i.values.indexOf(o(n))===-1&&a.push(new r(e,n,"expected one of [%s], %s found",i.values.join(", "),n)),a}},{"../error/validation_error":424,"../util/unbundle_jsonlint":427}],434:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("./validate_enum"),i=t("../util/get_type"),a=t("../util/unbundle_jsonlint");e.exports=function s(t){var e,n=t.value,l=t.key,u=t.styleSpec,c=[];if("array"!==i(n))return[new r(l,n,"array expected, %s found",i(n))];if(n.length<1)return[new r(l,n,"filter array must have at least 1 element")];switch(c=c.concat(o({key:l+"[0]",value:n[0],valueSpec:u.filter_operator,style:t.style,styleSpec:t.styleSpec})),a(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"==n[1]&&c.push(new r(l,n,'"$type" cannot be use with operator "%s"',n[0]));case"==":case"!=":3!=n.length&&c.push(new r(l,n,'filter array for operator "%s" must have 3 elements',n[0]));case"in":case"!in":n.length>=2&&(e=i(n[1]),"string"!==e?c.push(new r(l+"[1]",n[1],"string expected, %s found",e)):"@"===n[1][0]&&c.push(new r(l+"[1]",n[1],"filter key cannot be a constant")));for(var f=2;f<n.length;f++)e=i(n[f]),"$type"==n[1]?c=c.concat(o({key:l+"["+f+"]",value:n[f],valueSpec:u.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"===e&&"@"===n[f][0]?c.push(new r(l+"["+f+"]",n[f],"filter value cannot be a constant")):"string"!==e&&"number"!==e&&"boolean"!==e&&c.push(new r(l+"["+f+"]",n[f],"string, number, or boolean expected, %s found",e));break;case"any":case"all":case"none":for(f=1;f<n.length;f++)c=c.concat(s({key:l+"["+f+"]",value:n[f],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":e=i(n[1]),2!==n.length?c.push(new r(l,n,'filter array for "%s" operator must have 2 elements',n[0])):"string"!==e?c.push(new r(l+"[1]",n[1],"string expected, %s found",e)):"@"===n[1][0]&&c.push(new r(l+"[1]",n[1],"filter key cannot be a constant"))}return c}},{"../error/validation_error":424,"../util/get_type":426,"../util/unbundle_jsonlint":427,"./validate_enum":433}],435:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/get_type"),i=t("./validate"),a=t("./validate_object"),s=t("./validate_array"),l=t("./validate_number");e.exports=function(t){function e(t){var e=[],i=t.value;return e=e.concat(s({key:t.key,value:i,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:n})),"array"===o(i)&&0===i.length&&e.push(new r(t.key,i,"array must have at least one stop")),e}function n(t){var e=[],n=t.value,s=t.key;if("array"!==o(n))return[new r(s,n,"array expected, %s found",o(n))];if(2!==n.length)return[new r(s,n,"array length %d expected, length %d found",2,n.length)];var p=o(n[0]);if(c||(c=p),p!==c)return[new r(s,n,"%s stop key type must match previous stop key type %s",p,c)];if("object"===p){if(void 0===n[0].zoom)return[new r(s,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new r(s,n,"object stop key must have value")];e=e.concat(a({key:s+"[0]",value:n[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:l,value:u}}))}else e=e.concat((h?l:u)({key:s+"[0]",value:n[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec}));return e=e.concat(i({key:s+"[1]",value:n[1],valueSpec:f,style:t.style,styleSpec:t.styleSpec})),"number"===o(n[0])&&("piecewise-constant"===f["function"]&&n[0]%1!==0&&e.push(new r(s+"[0]",n[0],"zoom level for piecewise-constant functions must be an integer")),0!==t.arrayIndex&&n[0]<t.array[t.arrayIndex-1][0]&&e.push(new r(s+"[0]",n[0],"array stops must appear in ascending order"))),e}function u(t){var e=[],n=o(t.value);return"number"!==n&&"string"!==n&&"array"!==n&&e.push(new r(t.key,t.value,"property value must be a number, string or array")),e}var c,f=t.valueSpec,p=void 0!==t.value.property||"object"===c,h=void 0===t.value.property||"object"===c,d=a({key:t.key,value:t.value,valueSpec:t.styleSpec["function"],style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:e}});return t.styleSpec.$version>=8&&(p&&!t.valueSpec["property-function"]?d.push(new r(t.key,t.value,"property functions not supported")):h&&!t.valueSpec["zoom-function"]&&d.push(new r(t.key,t.value,"zoom functions not supported"))),d}},{"../error/validation_error":424,"../util/get_type":426,"./validate":428,"./validate_array":429,"./validate_number":439,"./validate_object":440}],436:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("./validate_string");e.exports=function(t){var e=t.value,n=t.key,i=o(t);return i.length?i:(e.indexOf("{fontstack}")===-1&&i.push(new r(n,e,'"glyphs" url must include a "{fontstack}" token')),e.indexOf("{range}")===-1&&i.push(new r(n,e,'"glyphs" url must include a "{range}" token')),i)}},{"../error/validation_error":424,"./validate_string":443}],437:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/unbundle_jsonlint"),i=t("./validate_object"),a=t("./validate_filter"),s=t("./validate_paint_property"),l=t("./validate_layout_property"),u=t("../util/extend");e.exports=function(t){var e=[],n=t.value,c=t.key,f=t.style,p=t.styleSpec;n.type||n.ref||e.push(new r(c,n,'either "type" or "ref" is required'));var h=o(n.type),d=o(n.ref);if(n.id)for(var m=0;m<t.arrayIndex;m++){var y=f.layers[m];o(y.id)===o(n.id)&&e.push(new r(c,n.id,'duplicate layer id "%s", previously used at line %d',n.id,y.id.__line__))}if("ref"in n){["type","source","source-layer","filter","layout"].forEach(function(t){t in n&&e.push(new r(c,n[t],'"%s" is prohibited for ref layers',t))});var v;f.layers.forEach(function(t){t.id==d&&(v=t)}),v?v.ref?e.push(new r(c,n.ref,"ref cannot reference another ref layer")):h=o(v.type):e.push(new r(c,n.ref,'ref layer "%s" not found',d))}else if("background"!==h)if(n.source){var g=f.sources&&f.sources[n.source];g?"vector"==g.type&&"raster"==h?e.push(new r(c,n.source,'layer "%s" requires a raster source',n.id)):"raster"==g.type&&"raster"!=h?e.push(new r(c,n.source,'layer "%s" requires a vector source',n.id)):"vector"!=g.type||n["source-layer"]||e.push(new r(c,n,'layer "%s" must specify a "source-layer"',n.id)):e.push(new r(c,n.source,'source "%s" not found',n.source))}else e.push(new r(c,n,'missing required property "source"'));return e=e.concat(i({key:c,value:n,valueSpec:p.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{filter:a,layout:function(t){return i({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return l(u({layerType:h},t))}}})},paint:function(t){return i({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return s(u({layerType:h},t))}}})}}}))}},{"../error/validation_error":424,"../util/extend":425,"../util/unbundle_jsonlint":427,"./validate_filter":434,"./validate_layout_property":438,"./validate_object":440,"./validate_paint_property":441}],438:[function(t,e,n){"use strict";var r=t("./validate"),o=t("../error/validation_error");e.exports=function(t){var e=t.key,n=t.style,i=t.styleSpec,a=t.value,s=t.objectKey,l=i["layout_"+t.layerType];if(t.valueSpec||l[s]){var u=[];return"symbol"===t.layerType&&("icon-image"===s&&n&&!n.sprite?u.push(new o(e,a,'use of "icon-image" requires a style "sprite" property')):"text-field"===s&&n&&!n.glyphs&&u.push(new o(e,a,'use of "text-field" requires a style "glyphs" property'))),u.concat(r({key:t.key,value:a,valueSpec:t.valueSpec||l[s],style:n,styleSpec:i}))}return[new o(e,a,'unknown property "%s"',s)]}},{"../error/validation_error":424,"./validate":428}],439:[function(t,e,n){"use strict";var r=t("../util/get_type"),o=t("../error/validation_error");e.exports=function(t){var e=t.key,n=t.value,i=t.valueSpec,a=r(n);return"number"!==a?[new o(e,n,"number expected, %s found",a)]:"minimum"in i&&n<i.minimum?[new o(e,n,"%s is less than the minimum value %s",n,i.minimum)]:"maximum"in i&&n>i.maximum?[new o(e,n,"%s is greater than the maximum value %s",n,i.maximum)]:[]}},{"../error/validation_error":424,"../util/get_type":426}],440:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/get_type"),i=t("./validate");e.exports=function(t){var e=t.key,n=t.value,a=t.valueSpec,s=t.objectElementValidators||{},l=t.style,u=t.styleSpec,c=[],f=o(n);if("object"!==f)return[new r(e,n,"object expected, %s found",f)];for(var p in n){var h=p.split(".")[0],d=a&&(a[h]||a["*"]),m=s[h]||s["*"];d||m?c=c.concat((m||i)({key:(e?e+".":e)+p,value:n[p],valueSpec:d,style:l,styleSpec:u,object:n,objectKey:p})):""!==e&&1!==e.split(".").length&&c.push(new r(e,n[p],'unknown property "%s"',p))}for(h in a)a[h].required&&void 0===a[h]["default"]&&void 0===n[h]&&c.push(new r(e,n,'missing required property "%s"',h));return c}},{"../error/validation_error":424,"../util/get_type":426,"./validate":428}],441:[function(t,e,n){"use strict";var r=t("./validate"),o=t("../error/validation_error");e.exports=function(t){var e=t.key,n=t.style,i=t.styleSpec,a=t.value,s=t.objectKey,l=i["paint_"+t.layerType],u=s.match(/^(.*)-transition$/);return u&&l[u[1]]&&l[u[1]].transition?r({key:e,value:a,valueSpec:i.transition,style:n,styleSpec:i}):t.valueSpec||l[s]?r({key:t.key,value:a,valueSpec:t.valueSpec||l[s],style:n,styleSpec:i}):[new o(e,a,'unknown property "%s"',s)]}},{"../error/validation_error":424,"./validate":428}],442:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/unbundle_jsonlint"),i=t("./validate_object"),a=t("./validate_enum");e.exports=function(t){var e=t.value,n=t.key,s=t.styleSpec,l=t.style;if(!e.type)return[new r(n,e,'"type" is required')];var u=o(e.type);switch(u){case"vector":case"raster":var c=[];if(c=c.concat(i({key:n,value:e,valueSpec:s.source_tile,style:t.style,styleSpec:s})),"url"in e)for(var f in e)["type","url","tileSize"].indexOf(f)<0&&c.push(new r(n+"."+f,e[f],'a source with a "url" property may not include a "%s" property',f));return c;case"geojson":return i({key:n,value:e,valueSpec:s.source_geojson,style:l,styleSpec:s});case"video":return i({key:n,value:e,valueSpec:s.source_video,style:l,styleSpec:s});case"image":return i({key:n,value:e,valueSpec:s.source_image,style:l,styleSpec:s});default:return a({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","geojson","video","image"]},style:l,styleSpec:s})}}},{"../error/validation_error":424,"../util/unbundle_jsonlint":427,"./validate_enum":433,"./validate_object":440}],443:[function(t,e,n){"use strict";var r=t("../util/get_type"),o=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.key,i=r(e);return"string"!==i?[new o(n,e,"string expected, %s found",i)]:[]}},{"../error/validation_error":424,"../util/get_type":426}],444:[function(t,e,n){"use strict";function r(t,e){e=e||l;var n=[];return n=n.concat(s({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:u}})),e.$version>7&&t.constants&&(n=n.concat(a({key:"constants",value:t.constants,style:t,styleSpec:e}))),o(n)}function o(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function i(t){return function(){return o(t.apply(this,arguments))}}var a=t("./validate/validate_constants"),s=t("./validate/validate"),l=t("../reference/latest.min"),u=t("./validate/validate_glyphs_url");r.source=i(t("./validate/validate_source")),r.layer=i(t("./validate/validate_layer")),r.filter=i(t("./validate/validate_filter")),r.paintProperty=i(t("./validate/validate_paint_property")),r.layoutProperty=i(t("./validate/validate_layout_property")),e.exports=r},{"../reference/latest.min":446,"./validate/validate":428,"./validate/validate_constants":432,"./validate/validate_filter":434,"./validate/validate_glyphs_url":436,"./validate/validate_layer":437,"./validate/validate_layout_property":438,"./validate/validate_paint_property":441,"./validate/validate_source":442}],445:[function(t,e,n){e.exports=t("./v8.json")},{"./v8.json":447}],446:[function(t,e,n){e.exports=t("./v8.min.json")},{"./v8.min.json":448}],447:[function(t,e,n){e.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number","default":0,period:360,units:"degrees",doc:"Default bearing, in degrees.  The style bearing will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:29},pitch:{type:"number","default":0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface.  The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the 'sprite-image' layout property.",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the 'text-field' layout property.",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},sources:{"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For GeoJSON and video sources, a URL must be provided."}},source:["source_tile","source_geojson","source_video","source_image"],source_tile:{type:{required:!0,type:"enum",values:["vector","raster"],doc:"The data type of the tile source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<mapid>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},"*":{type:"*",doc:"Other keys to configure the data source."}},source_geojson:{type:{required:!0,type:"enum",values:["geojson"],
doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number","default":14,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},buffer:{type:"number","default":64,doc:"Tile buffer size on each side (higher means fewer rendering artifacts near tile edges but slower performance)."},tolerance:{type:"number","default":3,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean","default":!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups."},clusterRadius:{type:"number","default":400,doc:"Radius of each cluster when clustering points, relative to 4096 tile."},clusterMaxZoom:{type:"number",doc:"Max zoom to cluster points on. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered)."}},source_video:{type:{required:!0,type:"enum",values:["video"],doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_image:{type:{required:!0,type:"enum",values:["image"],doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image"},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},layer:{id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:["fill","line","symbol","circle","raster","background"],doc:"Rendering type of this layer."},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},ref:{type:"string",doc:"References another layer to copy `type`, `source`, `source-layer`, `minzoom`, `maxzoom`, `filter`, and `layout` properties from. This allows the layers to share processing and be more efficient."},source:{type:"string",doc:"Name of a source description to be used for this layer."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required if the source supports multiple layers."},minzoom:{type:"number",minimum:0,maximum:22,doc:"The minimum zoom level on which the layer gets parsed and appears on."},maxzoom:{type:"number",minimum:0,maximum:22,doc:"The maximum zoom level on which the layer gets parsed and appears on."},interactive:{type:"boolean",doc:"Enable querying of feature data from this layer for interactivity.","default":!1},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."},"paint.*":{type:"paint",doc:"Class-specific paint properties for this layer. The class name is the part after the first dot."}},layout:["layout_fill","layout_line","layout_circle","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum","function":"piecewise-constant","zoom-function":!0,values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}}},layout_fill:{visibility:{type:"enum","function":"piecewise-constant","zoom-function":!0,values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}}},layout_circle:{visibility:{type:"enum","function":"piecewise-constant","zoom-function":!0,values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}}},layout_line:{"line-cap":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["butt","round","square"],"default":"butt",doc:"The display of line endings.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"line-join":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["bevel","round","miter"],"default":"miter",doc:"The display of lines when joining.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"line-miter-limit":{type:"number","default":2,"function":"interpolated","zoom-function":!0,"property-function":!0,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"line-round-limit":{type:"number","default":1.05,"function":"interpolated","zoom-function":!0,"property-function":!0,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},visibility:{type:"enum","function":"piecewise-constant","zoom-function":!0,values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}}},layout_symbol:{"symbol-placement":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["point","line"],"default":"point",doc:"Label placement relative to its geometry. `line` can only be used on LineStrings and Polygons.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"symbol-spacing":{type:"number","default":250,minimum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"symbol-avoid-edges":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"icon-allow-overlap":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"icon-ignore-placement":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"icon-optional":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"icon-rotation-alignment":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],"default":"viewport",doc:"Orientation of icon when map is rotated.",requires:["icon-image"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"icon-size":{type:"number","default":1,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,doc:"Scale factor for icon. 1 is original size, 3 triples the size.",requires:["icon-image"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"icon-text-fit":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!1,values:["none","both","width","height"],"default":"none",doc:"Position and scale an icon by the its corresponding text.",requires:["icon-image","text-field"],"sdk-support":{basic:{}}},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels","function":"interpolated","zoom-function":!0,"property-function":!0,doc:"Size of padding area around the text-fit size in clockwise order: top, right, bottom, left.",requires:["icon-image","icon-text-fit","text-field"],"sdk-support":{basic:{}}},"icon-image":{type:"string","function":"piecewise-constant","zoom-function":!0,"property-function":!0,doc:"A string with {tokens} replaced, referencing the data property to pull from.",tokens:!0,"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"icon-rotate":{type:"number","default":0,period:360,"function":"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"icon-padding":{type:"number","default":2,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"icon-keep-upright":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-pitch-alignment":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],doc:"Aligns text to the plane of the `viewport` or the `map` when the map is pitched. Matches `text-rotation-alignment` if unspecified.",requires:["text-field"],"sdk-support":{basic:{}}},"text-rotation-alignment":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],"default":"viewport",doc:"Orientation of text when map is rotated.",requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-field":{type:"string","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":"",tokens:!0,doc:"Value to use for a text label. Feature properties are specified using tokens like {field_name}.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-font":{type:"array",value:"string","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-size":{type:"number","default":16,minimum:0,units:"pixels","function":"interpolated","zoom-function":!0,"property-function":!0,doc:"Font size.",requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-max-width":{type:"number","default":10,minimum:0,units:"em","function":"interpolated","zoom-function":!0,"property-function":!0,doc:"The maximum line width for text wrapping.",requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-line-height":{type:"number","default":1.2,units:"em","function":"interpolated","zoom-function":!0,"property-function":!0,doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-letter-spacing":{type:"number","default":0,units:"em","function":"interpolated","zoom-function":!0,"property-function":!0,doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-justify":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["left","center","right"],"default":"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],"default":"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-max-angle":{type:"number","default":45,units:"degrees","function":"interpolated","zoom-function":!0,"property-function":!0,doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":"line"}],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-rotate":{type:"number","default":0,period:360,units:"degrees","function":"interpolated","zoom-function":!0,"property-function":!0,doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-padding":{type:"number","default":2,minimum:0,units:"pixels","function":"interpolated","zoom-function":!0,"property-function":!0,doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-keep-upright":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-transform":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["none","uppercase","lowercase"],"default":"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up.",value:"number",units:"ems","function":"interpolated","zoom-function":!0,"property-function":!0,length:2,"default":[0,0],requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-allow-overlap":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-ignore-placement":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-optional":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},visibility:{type:"enum","function":"piecewise-constant","zoom-function":!0,values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}}},layout_raster:{visibility:{type:"enum","function":"piecewise-constant","zoom-function":!0,values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}}},filter:{type:"array",value:"*",doc:"A filter selects specific features from a layer."},filter_operator:{type:"enum",values:["==","!=",">",">=","<","<=","in","!in","all","any","none","has","!has"],doc:"The filter operator."},geometry_type:{type:"enum",values:["Point","LineString","Polygon"],doc:"The geometry type for the filter to select."},color_operation:{type:"enum",values:["lighten","saturate","spin","fade","mix"],doc:"A color operation to apply."},"function":{stops:{type:"array",required:!0,doc:"An array of stops.",value:"function_stop"},base:{type:"number","default":1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a global property or feature property to use as the function input.","default":"$zoom"},type:{type:"enum",values:["exponential","interval","categorical"],doc:"The interpolation strategy to use in function evaluation.","default":"exponential"}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2,doc:"Zoom level and value pair."},paint:["paint_fill","paint_line","paint_circle","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"fill-opacity":{type:"number","function":"interpolated","zoom-function":!0,"property-function":!0,"default":1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the fill-color, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"fill-color":{type:"color","default":"#000000",doc:"The color of the filled part of this layer. This color can be specified as rgba with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"},"property-function":{js:"0.19.0"}}},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"},"property-function":{js:"0.19.0"}}},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"fill-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen)","default":"map",requires:["fill-translate"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"fill-pattern":{type:"string","function":"piecewise-constant","zoom-function":!0,"property-function":!0,transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512).","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}}},paint_line:{"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.","function":"interpolated","zoom-function":!0,"property-function":!0,"default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"line-color":{type:"color",doc:"The color with which the line will be drawn.","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"line-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen)","default":"map",requires:["line-translate"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"line-width":{type:"number","default":1,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"line-gap-width":{type:"number","default":0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"line-offset":{type:"number","default":0,doc:'The line\'s offset perpendicular to its direction. Values may be positive or negative, where positive indicates "rightwards" (if you were moving in the direction of the line) and negative indicates "leftwards."',"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels","sdk-support":{basic:{js:"0.12.1",ios:"3.1.0",android:"3.0.0"}}},"line-blur":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"line-dasharray":{type:"array",value:"number","function":"piecewise-constant","zoom-function":!0,"property-function":!0,doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"line-pattern":{type:"string","function":"piecewise-constant","zoom-function":!0,"property-function":!0,transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512).","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"},"property-function":{js:"0.18.0"}}},"circle-color":{type:"color","default":"#000000",doc:"The color of the circle.","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"},"property-function":{js:"0.18.0"}}},"circle-blur":{type:"number","default":0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"},"property-function":{js:"0.20.0"}}},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"},"property-function":{js:"0.20.0"}}},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"circle-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen)","default":"map",requires:["circle-translate"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"circle-pitch-scale":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],"default":"map",doc:"Controls the scaling behavior of the circle when the map is pitched. The value `map` scales circles according to their apparent distance to the camera. The value `viewport` results in no pitch-related scaling.","sdk-support":{basic:{}}}},paint_symbol:{"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"icon-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,doc:"The color of the icon. This can only be used with sdf icons.",requires:["icon-image"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with sdf icons.",requires:["icon-image"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"icon-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"icon-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"icon-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen).","default":"map",requires:["icon-image","icon-translate"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-color":{type:"color",doc:"The color with which the text will be drawn.","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"text-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen).","default":"map",requires:["text-field","text-translate"],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}}},paint_raster:{"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,transition:!0,"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"raster-hue-rotate":{type:"number","default":0,period:360,"function":"interpolated","zoom-function":!0,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"raster-brightness-min":{type:"number","function":"interpolated","zoom-function":!0,doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.","default":0,minimum:0,maximum:1,transition:!0,"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"raster-brightness-max":{type:"number","function":"interpolated","zoom-function":!0,doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.","default":0,minimum:-1,maximum:1,"function":"interpolated","zoom-function":!0,transition:!0,"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.","default":0,minimum:-1,maximum:1,"function":"interpolated","zoom-function":!0,transition:!0,"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"raster-fade-duration":{type:"number","default":300,minimum:0,"function":"interpolated","zoom-function":!0,
transition:!0,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}}},paint_background:{"background-color":{type:"color","default":"#000000",doc:"The color with which the background will be drawn.","function":"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"background-pattern":{type:"string","function":"piecewise-constant","zoom-function":!0,transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512).","sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.","function":"interpolated","zoom-function":!0,transition:!0,"sdk-support":{basic:{js:"0.10.0",ios:"2.0.0",android:"2.0.1"}}}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number","default":0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}}}},{}],448:[function(t,e,n){e.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number","default":0,period:360,units:"degrees"},pitch:{type:"number","default":0,units:"degrees"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_tile","source_geojson","source_video","source_image"],source_tile:{type:{required:!0,type:"enum",values:["vector","raster"]},url:{type:"string"},tiles:{type:"array",value:"string"},minzoom:{type:"number","default":0},maxzoom:{type:"number","default":22},tileSize:{type:"number","default":512,units:"pixels"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:["geojson"]},data:{type:"*"},maxzoom:{type:"number","default":14},buffer:{type:"number","default":64},tolerance:{type:"number","default":3},cluster:{type:"boolean","default":!1},clusterRadius:{type:"number","default":400},clusterMaxZoom:{type:"number"}},source_video:{type:{required:!0,type:"enum",values:["video"]},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:["image"]},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:["fill","line","symbol","circle","raster","background"]},metadata:{type:"*"},ref:{type:"string"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:22},maxzoom:{type:"number",minimum:0,maximum:22},interactive:{type:"boolean","default":!1},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"},"paint.*":{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum","function":"piecewise-constant","zoom-function":!0,values:["visible","none"],"default":"visible"}},layout_fill:{visibility:{type:"enum","function":"piecewise-constant","zoom-function":!0,values:["visible","none"],"default":"visible"}},layout_circle:{visibility:{type:"enum","function":"piecewise-constant","zoom-function":!0,values:["visible","none"],"default":"visible"}},layout_line:{"line-cap":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["butt","round","square"],"default":"butt"},"line-join":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["bevel","round","miter"],"default":"miter"},"line-miter-limit":{type:"number","default":2,"function":"interpolated","zoom-function":!0,"property-function":!0,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number","default":1.05,"function":"interpolated","zoom-function":!0,"property-function":!0,requires:[{"line-join":"round"}]},visibility:{type:"enum","function":"piecewise-constant","zoom-function":!0,values:["visible","none"],"default":"visible"}},layout_symbol:{"symbol-placement":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["point","line"],"default":"point"},"symbol-spacing":{type:"number","default":250,minimum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1},"icon-allow-overlap":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,requires:["icon-image"]},"icon-optional":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],"default":"viewport",requires:["icon-image"]},"icon-size":{type:"number","default":1,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"icon-text-fit":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!1,values:["none","both","width","height"],"default":"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels","function":"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image","icon-text-fit","text-field"]},"icon-image":{type:"string","function":"piecewise-constant","zoom-function":!0,"property-function":!0,tokens:!0},"icon-rotate":{type:"number","default":0,period:360,"function":"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number","default":2,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"text-pitch-alignment":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],requires:["text-field"]},"text-rotation-alignment":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],"default":"viewport",requires:["text-field"]},"text-field":{type:"string","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":"",tokens:!0},"text-font":{type:"array",value:"string","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number","default":16,minimum:0,units:"pixels","function":"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-max-width":{type:"number","default":10,minimum:0,units:"em","function":"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-line-height":{type:"number","default":1.2,units:"em","function":"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-letter-spacing":{type:"number","default":0,units:"em","function":"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-justify":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["left","center","right"],"default":"center",requires:["text-field"]},"text-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],"default":"center",requires:["text-field"]},"text-max-angle":{type:"number","default":45,units:"degrees","function":"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number","default":0,period:360,units:"degrees","function":"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-padding":{type:"number","default":2,minimum:0,units:"pixels","function":"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-keep-upright":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["none","uppercase","lowercase"],"default":"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems","function":"interpolated","zoom-function":!0,"property-function":!0,length:2,"default":[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,requires:["text-field"]},"text-optional":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,requires:["text-field","icon-image"]},visibility:{type:"enum","function":"piecewise-constant","zoom-function":!0,values:["visible","none"],"default":"visible"}},layout_raster:{visibility:{type:"enum","function":"piecewise-constant","zoom-function":!0,values:["visible","none"],"default":"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:["==","!=",">",">=","<","<=","in","!in","all","any","none","has","!has"]},geometry_type:{type:"enum",values:["Point","LineString","Polygon"]},color_operation:{type:"enum",values:["lighten","saturate","spin","fade","mix"]},"function":{stops:{type:"array",required:!0,value:"function_stop"},base:{type:"number","default":1,minimum:0},property:{type:"string","default":"$zoom"},type:{type:"enum",values:["exponential","interval","categorical"],"default":"exponential"}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},paint:["paint_fill","paint_line","paint_circle","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!0},"fill-opacity":{type:"number","function":"interpolated","zoom-function":!0,"property-function":!0,"default":1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],"default":"map",requires:["fill-translate"]},"fill-pattern":{type:"string","function":"piecewise-constant","zoom-function":!0,"property-function":!0,transition:!0}},paint_line:{"line-opacity":{type:"number","function":"interpolated","zoom-function":!0,"property-function":!0,"default":1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],"default":"map",requires:["line-translate"]},"line-width":{type:"number","default":1,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-gap-width":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-offset":{type:"number","default":0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-blur":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number","function":"piecewise-constant","zoom-function":!0,"property-function":!0,minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string","function":"piecewise-constant","zoom-function":!0,"property-function":!0,transition:!0}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-blur":{type:"number","default":0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],"default":"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],"default":"map"}},paint_symbol:{"icon-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],"default":"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],"default":"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,transition:!0},"raster-hue-rotate":{type:"number","default":0,period:360,"function":"interpolated","zoom-function":!0,transition:!0,units:"degrees"},"raster-brightness-min":{type:"number","function":"interpolated","zoom-function":!0,"default":0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number","function":"interpolated","zoom-function":!0,"default":1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number","default":0,minimum:-1,maximum:1,"function":"interpolated","zoom-function":!0,transition:!0},"raster-contrast":{type:"number","default":0,minimum:-1,maximum:1,"function":"interpolated","zoom-function":!0,transition:!0},"raster-fade-duration":{type:"number","default":300,minimum:0,"function":"interpolated","zoom-function":!0,transition:!0,units:"milliseconds"}},paint_background:{"background-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string","function":"piecewise-constant","zoom-function":!0,transition:!0},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,transition:!0}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds"},delay:{type:"number","default":0,minimum:0,units:"milliseconds"}}}},{}],449:[function(t,e,n){"use strict";function r(t){return!!(o()&&i()&&a()&&s()&&l()&&u()&&c()&&f(t&&t.failIfMajorPerformanceCaveat))}function o(){return"undefined"!=typeof window&&"undefined"!=typeof document}function i(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function a(){return Function.prototype&&Function.prototype.bind}function s(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function l(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function u(){return"Worker"in window}function c(){return"Uint8ClampedArray"in window}function f(t){return void 0===h[t]&&(h[t]=p(t)),h[t]}function p(t){var e=document.createElement("canvas"),n=Object.create(r.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=t,e.probablySupportsContext?e.probablySupportsContext("webgl",n)||e.probablySupportsContext("experimental-webgl",n):e.supportsContext?e.supportsContext("webgl",n)||e.supportsContext("experimental-webgl",n):e.getContext("webgl",n)||e.getContext("experimental-webgl",n)}"undefined"!=typeof e&&e.exports?e.exports=r:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=r);var h={};r.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},{}],450:[function(t,e,n){"use strict";function r(t){var e;t&&t.length&&(e=t,t=e.length);var n=new Uint8Array(t||0);return e&&n.set(e),n.readUInt32LE=i.readUInt32LE,n.writeUInt32LE=i.writeUInt32LE,n.readInt32LE=i.readInt32LE,n.writeInt32LE=i.writeInt32LE,n.readFloatLE=i.readFloatLE,n.writeFloatLE=i.writeFloatLE,n.readDoubleLE=i.readDoubleLE,n.writeDoubleLE=i.writeDoubleLE,n.toString=i.toString,n.write=i.write,n.slice=i.slice,n.copy=i.copy,n._isBuffer=!0,n}function o(t){for(var e,n,r=t.length,o=[],i=0;i<r;i++){if(e=t.charCodeAt(i),e>55295&&e<57344){if(!n){e>56319||i+1===r?o.push(239,191,189):n=e;continue}if(e<56320){o.push(239,191,189),n=e;continue}e=n-55296<<10|e-56320|65536,n=null}else n&&(o.push(239,191,189),n=null);e<128?o.push(e):e<2048?o.push(e>>6|192,63&e|128):e<65536?o.push(e>>12|224,e>>6&63|128,63&e|128):o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}return o}e.exports=r;var i,a,s,l=t("ieee754");i={readUInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},writeUInt32LE:function(t,e){this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24},readInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+(this[t+3]<<24)},readFloatLE:function(t){return l.read(this,t,!0,23,4)},readDoubleLE:function(t){return l.read(this,t,!0,52,8)},writeFloatLE:function(t,e){return l.write(this,t,e,!0,23,4)},writeDoubleLE:function(t,e){return l.write(this,t,e,!0,52,8)},toString:function(t,e,n){var r="",o="";e=e||0,n=Math.min(this.length,n||this.length);for(var i=e;i<n;i++){var a=this[i];a<=127?(r+=decodeURIComponent(o)+String.fromCharCode(a),o=""):o+="%"+a.toString(16)}return r+=decodeURIComponent(o)},write:function(t,e){for(var n=t===a?s:o(t),r=0;r<n.length;r++)this[e+r]=n[r]},slice:function(t,e){return this.subarray(t,e)},copy:function(t,e){e=e||0;for(var n=0;n<this.length;n++)t[e+n]=this[n]}},i.writeInt32LE=i.writeUInt32LE,r.byteLength=function(t){return a=t,s=o(t),s.length},r.isBuffer=function(t){return!(!t||!t._isBuffer)}},{ieee754:452}],451:[function(t,e,n){(function(n){"use strict";function r(t){this.buf=y.isBuffer(t)?t:new y(t||0),this.pos=0,this.length=this.buf.length}function o(t,e){var n,r=e.buf;if(n=r[e.pos++],t+=268435456*(127&n),n<128)return t;if(n=r[e.pos++],t+=34359738368*(127&n),n<128)return t;if(n=r[e.pos++],t+=4398046511104*(127&n),n<128)return t;if(n=r[e.pos++],t+=562949953421312*(127&n),n<128)return t;if(n=r[e.pos++],t+=72057594037927940*(127&n),n<128)return t;if(n=r[e.pos++],t+=0x8000000000000000*(127&n),n<128)return t;throw new Error("Expected varint not more than 10 bytes")}function i(t,e){e.realloc(10);for(var n=e.pos+10;t>=1;){if(e.pos>=n)throw new Error("Given varint doesn't fit into 10 bytes");var r=255&t;e.buf[e.pos++]=r|(t>=128?128:0),t/=128}}function a(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var o=n.pos-1;o>=t;o--)n.buf[o+r]=n.buf[o]}function s(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function l(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function u(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function c(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function h(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function m(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}e.exports=r;var y=n.Buffer||t("./buffer");r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var v=4294967296,g=1/v,b=Math.pow(2,63);r.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),o=r>>3,i=this.pos;t(o,e,this),this.pos===i&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=this.buf.readUInt32LE(this.pos);return this.pos+=4,t},readSFixed32:function(){var t=this.buf.readInt32LE(this.pos);return this.pos+=4,t},readFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readUInt32LE(this.pos+4)*v;return this.pos+=8,t},readSFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readInt32LE(this.pos+4)*v;return this.pos+=8,t},readFloat:function(){var t=this.buf.readFloatLE(this.pos);return this.pos+=4,t},readDouble:function(){var t=this.buf.readDoubleLE(this.pos);return this.pos+=8,t},readVarint:function(){var t,e,n=this.buf;return e=n[this.pos++],t=127&e,e<128?t:(e=n[this.pos++],t|=(127&e)<<7,e<128?t:(e=n[this.pos++],t|=(127&e)<<14,e<128?t:(e=n[this.pos++],t|=(127&e)<<21,e<128?t:o(t,this))))},readVarint64:function(){var t=this.pos,e=this.readVarint();if(e<b)return e;for(var n=this.pos-2;255===this.buf[n];)n--;n<t&&(n=t),e=0;for(var r=0;r<n-t+1;r++){var o=127&~this.buf[t+r];e+=r<4?o<<7*r:o*Math.pow(2,7*r)}return-e-1},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.buf.toString("utf8",this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.slice(this.pos,t);return this.pos=t,e},readPackedVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readVarint());return e},readPackedSVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(t){var e=7&t;if(e===r.Varint)for(;this.buf[this.pos++]>127;);else if(e===r.Bytes)this.pos=this.readVarint()+this.pos;else if(e===r.Fixed32)this.pos+=4;else{if(e!==r.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new y(e);this.buf.copy(n),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(t){this.realloc(4),this.buf.writeUInt32LE(t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),this.buf.writeInt32LE(t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(t&-1,this.pos),this.buf.writeUInt32LE(Math.floor(t*g),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(t&-1,this.pos),this.buf.writeInt32LE(Math.floor(t*g),this.pos+4),this.pos+=8},writeVarint:function(t){return t=+t,t>268435455?void i(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),void(t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127)))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t);var e=y.byteLength(t);this.writeVarint(e),this.realloc(e),this.buf.write(t,this.pos),this.pos+=e},writeFloat:function(t){this.realloc(4),this.buf.writeFloatLE(t,this.pos),this.pos+=4},writeDouble:function(t){this.realloc(8),this.buf.writeDoubleLE(t,this.pos),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&a(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,r.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,s,e)},writePackedSVarint:function(t,e){this.writeMessage(t,l,e)},writePackedBoolean:function(t,e){this.writeMessage(t,f,e)},writePackedFloat:function(t,e){this.writeMessage(t,u,e)},writePackedDouble:function(t,e){this.writeMessage(t,c,e)},writePackedFixed32:function(t,e){this.writeMessage(t,p,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,h,e)},writePackedFixed64:function(t,e){this.writeMessage(t,d,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,m,e)},writeBytesField:function(t,e){this.writeTag(t,r.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,r.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,r.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,r.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./buffer":450}],452:[function(t,e,n){arguments[4][55][0].apply(n,arguments)},{dup:55}],453:[function(t,e,n){"use strict";function r(t,e){this.x=t,this.y=e}e.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){
var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,o=n*this.x+e*this.y;return this.x=r,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t}},{}],454:[function(t,e,n){"use strict";function r(t,e,n,a,s){for(n=n||0,a=a||t.length-1,s=s||i;a>n;){if(a-n>600){var l=a-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(e-u*f/l+p)),d=Math.min(a,Math.floor(e+(l-u)*f/l+p));r(t,e,h,d,s)}var m=t[e],y=n,v=a;for(o(t,n,e),s(t[a],m)>0&&o(t,n,a);y<v;){for(o(t,y,v),y++,v--;s(t[y],m)<0;)y++;for(;s(t[v],m)>0;)v--}0===s(t[n],m)?o(t,n,v):(v++,o(t,v,a)),v<=e&&(n=v+1),e<=v&&(a=v-1)}}function o(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function i(t,e){return t<e?-1:t>e?1:0}e.exports=r},{}],455:[function(e,n,r){void function(e,o){"function"==typeof t&&t.amd?t(o):"object"==typeof r?n.exports=o():e.resolveUrl=o()}(this,function(){function t(){var t=arguments.length;if(0===t)throw new Error("resolveUrl requires at least one argument; got none.");var e=document.createElement("base");if(e.href=arguments[0],1===t)return e.href;var n=document.getElementsByTagName("head")[0];n.insertBefore(e,n.firstChild);for(var r,o=document.createElement("a"),i=1;i<t;i++)o.href=arguments[i],r=o.href,e.href=r;return n.removeChild(e),r}return t})},{}],456:[function(e,n,r){!function(e,o){"object"==typeof r&&"undefined"!=typeof n?n.exports=o():"function"==typeof t&&t.amd?t(o):e.ShelfPack=o()}(this,function(){function t(t,e,n){n=n||{},this.w=t||64,this.h=e||64,this.autoResize=!!n.autoResize,this.shelves=[],this.stats={},this.count=function(t){this.stats[t]=(0|this.stats[t])+1}}function e(t,e,n){this.x=0,this.y=t,this.w=this.free=e,this.h=n}return t.prototype.pack=function(t,e){t=[].concat(t),e=e||{};for(var n,r,o,i=[],a=0;a<t.length;a++)if(n=t[a].w||t[a].width,r=t[a].h||t[a].height,n&&r){if(o=this.packOne(n,r),!o)continue;e.inPlace&&(t[a].x=o.x,t[a].y=o.y),i.push(o)}if(this.shelves.length>0){for(var s=0,l=0,u=0;u<this.shelves.length;u++){var c=this.shelves[u];l+=c.h,s=Math.max(c.w-c.free,s)}this.resize(s,l)}return i},t.prototype.packOne=function(t,n){for(var r,o,i=0,a={shelf:-1,waste:1/0},s=0;s<this.shelves.length;s++){if(r=this.shelves[s],i+=r.h,n===r.h&&t<=r.free)return this.count(n),r.alloc(t,n);n>r.h||t>r.free||n<r.h&&t<=r.free&&(o=r.h-n,o<a.waste&&(a.waste=o,a.shelf=s))}if(a.shelf!==-1)return r=this.shelves[a.shelf],this.count(n),r.alloc(t,n);if(n<=this.h-i&&t<=this.w)return r=new e(i,this.w,n),this.shelves.push(r),this.count(n),r.alloc(t,n);if(this.autoResize){var l,u,c,f;return l=u=this.h,c=f=this.w,(c<=l||t>c)&&(f=2*Math.max(t,c)),(l<c||n>l)&&(u=2*Math.max(n,l)),this.resize(f,u),this.packOne(t,n)}return null},t.prototype.clear=function(){this.shelves=[],this.stats={}},t.prototype.resize=function(t,e){this.w=t,this.h=e;for(var n=0;n<this.shelves.length;n++)this.shelves[n].resize(t);return!0},e.prototype.alloc=function(t,e){if(t>this.free||e>this.h)return null;var n=this.x;return this.x+=t,this.free-=t,{x:n,y:this.y,w:t,h:e,width:t,height:e}},e.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t})},{}],457:[function(t,e,n){"use strict";function r(t){return new o(t)}function o(t){this.options=h(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function i(t,e,n,r){return{x:t,y:e,zoom:1/0,id:r,numPoints:n}}function a(t,e){var n=t.geometry.coordinates;return i(u(n[0]),c(n[1]),1,e)}function s(t){return{type:"Feature",properties:l(t),geometry:{type:"Point",coordinates:[f(t.x),p(t.y)]}}}function l(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return{cluster:!0,point_count:e,point_count_abbreviated:n}}function u(t){return t/360+.5}function c(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function f(t){return 360*(t-.5)}function p(t){var e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function h(t,e){for(var n in e)t[n]=e[n];return t}function d(t){return t.x}function m(t){return t.y}var y=t("kdbush");e.exports=r,o.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1},load:function(t){var e=this.options.log;e&&console.time("total time");var n="prepare "+t.length+" points";e&&console.time(n),this.points=t;var r=t.map(a);e&&console.timeEnd(n);for(var o=this.options.maxZoom;o>=this.options.minZoom;o--){var i=+Date.now();this.trees[o+1]=y(r,d,m,this.options.nodeSize,Float32Array),r=this._cluster(r,o),e&&console.log("z%d: %d clusters in %dms",o,r.length,+Date.now()-i)}return this.trees[this.options.minZoom]=y(r,d,m,this.options.nodeSize,Float32Array),e&&console.timeEnd("total time"),this},getClusters:function(t,e){for(var n=this.trees[this._limitZoom(e)],r=n.range(u(t[0]),c(t[3]),u(t[2]),c(t[1])),o=[],i=0;i<r.length;i++){var a=n.points[r[i]];o.push(a.id!==-1?this.points[a.id]:s(a))}return o},getTile:function(t,e,n){var r=Math.pow(2,t),o=this.options.extent,i=this.options.radius/o,a=this.trees[this._limitZoom(t)],s=a.range((e-i)/r,(n-i)/r,(e+1+i)/r,(n+1+i)/r);if(!s.length)return null;for(var u={features:[]},c=0;c<s.length;c++){var f=a.points[s[c]],p={type:1,geometry:[[Math.round(o*(f.x*r-e)),Math.round(o*(f.y*r-n))]],tags:f.id!==-1?this.points[f.id].properties:l(f)};u.features.push(p)}return u},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var n=[],r=this.options.radius/(this.options.extent*Math.pow(2,e)),o=0;o<t.length;o++){var a=t[o];if(!(a.zoom<=e)){a.zoom=e;for(var s=this.trees[e+1],l=s.within(a.x,a.y,r),u=!1,c=a.numPoints,f=a.x*c,p=a.y*c,h=0;h<l.length;h++){var d=s.points[l[h]];e<d.zoom&&(u=!0,d.zoom=e,f+=d.x*d.numPoints,p+=d.y*d.numPoints,c+=d.numPoints)}n.push(u?i(f/c,p/c,c,-1):a)}}return n}}},{kdbush:458}],458:[function(t,e,n){"use strict";function r(t,e,n,r,i){return new o(t,e,n,r,i)}function o(t,e,n,r,o){e=e||i,n=n||a,o=o||Array,this.nodeSize=r||64,this.points=t,this.ids=new o(t.length),this.coords=new o(2*t.length);for(var l=0;l<t.length;l++)this.ids[l]=l,this.coords[2*l]=e(t[l]),this.coords[2*l+1]=n(t[l]);s(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function i(t){return t[0]}function a(t){return t[1]}var s=t("./sort"),l=t("./range"),u=t("./within");e.exports=r,o.prototype={range:function(t,e,n,r){return l(this.ids,this.coords,t,e,n,r,this.nodeSize)},within:function(t,e,n){return u(this.ids,this.coords,t,e,n,this.nodeSize)}}},{"./range":459,"./sort":460,"./within":461}],459:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a){for(var s,l,u=[0,t.length-1,0],c=[];u.length;){var f=u.pop(),p=u.pop(),h=u.pop();if(p-h<=a)for(var d=h;d<=p;d++)s=e[2*d],l=e[2*d+1],s>=n&&s<=o&&l>=r&&l<=i&&c.push(t[d]);else{var m=Math.floor((h+p)/2);s=e[2*m],l=e[2*m+1],s>=n&&s<=o&&l>=r&&l<=i&&c.push(t[m]);var y=(f+1)%2;(0===f?n<=s:r<=l)&&(u.push(h),u.push(m-1),u.push(y)),(0===f?o>=s:i>=l)&&(u.push(m+1),u.push(p),u.push(y))}}return c}e.exports=r},{}],460:[function(t,e,n){"use strict";function r(t,e,n,i,a,s){if(!(a-i<=n)){var l=Math.floor((i+a)/2);o(t,e,l,i,a,s%2),r(t,e,n,i,l-1,s+1),r(t,e,n,l+1,a,s+1)}}function o(t,e,n,r,a,s){for(;a>r;){if(a-r>600){var l=a-r+1,u=n-r+1,c=Math.log(l),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(r,Math.floor(n-u*f/l+p)),d=Math.min(a,Math.floor(n+(l-u)*f/l+p));o(t,e,n,h,d,s)}var m=e[2*n+s],y=r,v=a;for(i(t,e,r,n),e[2*a+s]>m&&i(t,e,r,a);y<v;){for(i(t,e,y,v),y++,v--;e[2*y+s]<m;)y++;for(;e[2*v+s]>m;)v--}e[2*r+s]===m?i(t,e,r,v):(v++,i(t,e,v,a)),v<=n&&(r=v+1),n<=v&&(a=v-1)}}function i(t,e,n,r){a(t,n,r),a(e,2*n,2*r),a(e,2*n+1,2*r+1)}function a(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}e.exports=r},{}],461:[function(t,e,n){"use strict";function r(t,e,n,r,i,a){for(var s=[0,t.length-1,0],l=[],u=i*i;s.length;){var c=s.pop(),f=s.pop(),p=s.pop();if(f-p<=a)for(var h=p;h<=f;h++)o(e[2*h],e[2*h+1],n,r)<=u&&l.push(t[h]);else{var d=Math.floor((p+f)/2),m=e[2*d],y=e[2*d+1];o(m,y,n,r)<=u&&l.push(t[d]);var v=(c+1)%2;(0===c?n-i<=m:r-i<=y)&&(s.push(p),s.push(d-1),s.push(v)),(0===c?n+i>=m:r+i>=y)&&(s.push(d+1),s.push(f),s.push(v))}}return l}function o(t,e,n,r){var o=t-n,i=e-r;return o*o+i*i}e.exports=r},{}],462:[function(t,e,n){function r(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}e.exports=r,r.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},r.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},r.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},r.prototype.solveCurveX=function(t,e){"undefined"==typeof e&&(e=1e-6);var n,r,o,i,a;for(o=t,a=0;a<8;a++){if(i=this.sampleCurveX(o)-t,Math.abs(i)<e)return o;var s=this.sampleCurveDerivativeX(o);if(Math.abs(s)<1e-6)break;o-=i/s}if(n=0,r=1,o=t,o<n)return n;if(o>r)return r;for(;n<r;){if(i=this.sampleCurveX(o),Math.abs(i-t)<e)return o;t>i?n=o:r=o,o=.5*(r-n)+n}return o},r.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},{}],463:[function(t,e,n){e.exports.VectorTile=t("./lib/vectortile.js"),e.exports.VectorTileFeature=t("./lib/vectortilefeature.js"),e.exports.VectorTileLayer=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":464,"./lib/vectortilefeature.js":465,"./lib/vectortilelayer.js":466}],464:[function(t,e,n){"use strict";function r(t,e){this.layers=t.readFields(o,{},e)}function o(t,e,n){if(3===t){var r=new i(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}var i=t("./vectortilelayer");e.exports=r},{"./vectortilelayer":466}],465:[function(t,e,n){"use strict";function r(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(o,this,e)}function o(t,e,n){1==t?e.id=n.readVarint():2==t?i(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function i(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],o=e._values[t.readVarint()];e.properties[r]=o}}function a(t){var e=t.length;if(e<=1)return[t];for(var n,r,o=[],i=0;i<e;i++){var a=s(t[i]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&o.push(n),n=[t[i]]):n.push(t[i]))}return n&&o.push(n),o}function s(t){for(var e,n,r=0,o=0,i=t.length,a=i-1;o<i;a=o++)e=t[o],n=t[a],r+=(n.x-e.x)*(e.y+n.y);return r}var l=t("point-geometry");e.exports=r,r.types=["Unknown","Point","LineString","Polygon"],r.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,o=0,i=0,a=0,s=[];t.pos<n;){if(!o){var u=t.readVarint();r=7&u,o=u>>3}if(o--,1===r||2===r)i+=t.readSVarint(),a+=t.readSVarint(),1===r&&(e&&s.push(e),e=[]),e.push(new l(i,a));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&s.push(e),s},r.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,o=0,i=0,a=1/0,s=-(1/0),l=1/0,u=-(1/0);t.pos<e;){if(!r){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)o+=t.readSVarint(),i+=t.readSVarint(),o<a&&(a=o),o>s&&(s=o),i<l&&(l=i),i>u&&(u=i);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,u]},r.prototype.toGeoJSON=function(t,e,n){function o(t){for(var e=0;e<t.length;e++){var n=t[e],r=180-360*(n.y+c)/l;t[e]=[360*(n.x+u)/l-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}var i,s,l=this.extent*Math.pow(2,n),u=this.extent*t,c=this.extent*e,f=this.loadGeometry(),p=r.types[this.type];switch(this.type){case 1:var h=[];for(i=0;i<f.length;i++)h[i]=f[i][0];f=h,o(f);break;case 2:for(i=0;i<f.length;i++)o(f[i]);break;case 3:for(f=a(f),i=0;i<f.length;i++)for(s=0;s<f[i].length;s++)o(f[i][s])}1===f.length?f=f[0]:p="Multi"+p;var d={type:"Feature",geometry:{type:p,coordinates:f},properties:this.properties};return"id"in this&&(d.id=this.id),d}},{"point-geometry":453}],466:[function(t,e,n){"use strict";function r(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(o,this,e),this.length=this._features.length}function o(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(i(n))}function i(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}var a=t("./vectortilefeature.js");e.exports=r,r.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new a(this._pbf,e,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":465}],467:[function(t,e,n){function r(t){var e=[];for(var n in t.layers)e.push(i(t.layers[n]));var r=new c;return f.tile.write({layers:e},r),r.finish()}function o(t){var e={};for(var n in t)e[n]=new p(t[n].features),e[n].name=n;return r({layers:e})}function i(t){for(var e={name:t.name||"",version:t.version||1,extent:t.extent||4096,keys:[],values:[],features:[]},n={},r={},o=0;o<t.length;o++){var i=t.feature(o);i.geometry=l(i.loadGeometry());var a=[];for(var s in i.properties){var c=n[s];"undefined"==typeof c&&(e.keys.push(s),c=e.keys.length-1,n[s]=c);var f=u(i.properties[s]),p=r[f.key];"undefined"==typeof p&&(e.values.push(f),p=e.values.length-1,r[f.key]=p),a.push(c),a.push(p)}i.tags=a,e.features.push(i)}return e}function a(t,e){return(e<<3)+(7&t)}function s(t){return t<<1^t>>31}function l(t){for(var e=[],n=0,r=0,o=t.length,i=0;i<o;i++){var l=t[i];e.push(a(1,1));for(var u=0;u<l.length;u++){1===u&&e.push(a(2,l.length-1));var c=l[u].x-n,f=l[u].y-r;e.push(s(c),s(f)),n+=c,r+=f}}return e}function u(t){var e,n=typeof t;return"string"===n?e={string_value:t}:"boolean"===n?e={bool_value:t}:"number"===n?e=t%1!==0?{double_value:t}:t<0?{sint_value:t}:{uint_value:t}:(t=JSON.stringify(t),e={string_value:t}),e.key=n+":"+t,e}var c=t("pbf"),f=t("./vector-tile-pb"),p=t("./lib/geojson_wrapper");e.exports=r,e.exports.fromVectorTileJs=r,e.exports.fromGeojsonVt=o,e.exports.GeoJSONWrapper=p},{"./lib/geojson_wrapper":468,"./vector-tile-pb":469,pbf:451}],468:[function(t,e,n){"use strict";function r(t){this.features=t,this.length=t.length}function o(t){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=4096}var i=t("point-geometry"),a=t("vector-tile").VectorTileFeature;e.exports=r,r.prototype.feature=function(t){return new o(this.features[t])},o.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],r=[],o=0;o<n.length;o++)r.push(new i(n[o][0],n[o][1]));this.geometry.push(r)}return this.geometry},o.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-(1/0),r=1/0,o=-(1/0),i=0;i<t.length;i++)for(var a=t[i],s=0;s<a.length;s++){var l=a[s];e=Math.min(e,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),o=Math.max(o,l.y)}return[e,r,n,o]},o.prototype.toGeoJSON=a.prototype.toGeoJSON},{"point-geometry":453,"vector-tile":463}],469:[function(t,e,n){"use strict";function r(t,e){return t.readFields(o,{layers:[]},e)}function o(t,e,n){3===t&&e.layers.push(p(n,n.readVarint()+n.pos))}function i(t,e){var n;if(void 0!==t.layers)for(n=0;n<t.layers.length;n++)e.writeMessage(3,d,t.layers[n])}function a(t,e){return t.readFields(s,{},e)}function s(t,e,n){1===t?e.string_value=n.readString():2===t?e.float_value=n.readFloat():3===t?e.double_value=n.readDouble():4===t?e.int_value=n.readVarint():5===t?e.uint_value=n.readVarint():6===t?e.sint_value=n.readSVarint():7===t&&(e.bool_value=n.readBoolean())}function l(t,e){void 0!==t.string_value&&e.writeStringField(1,t.string_value),void 0!==t.float_value&&e.writeFloatField(2,t.float_value),void 0!==t.double_value&&e.writeDoubleField(3,t.double_value),void 0!==t.int_value&&e.writeVarintField(4,t.int_value),void 0!==t.uint_value&&e.writeVarintField(5,t.uint_value),void 0!==t.sint_value&&e.writeSVarintField(6,t.sint_value),void 0!==t.bool_value&&e.writeBooleanField(7,t.bool_value)}function u(t,e){var n=t.readFields(c,{},e);return void 0===n.type&&(n.type="Unknown"),n}function c(t,e,n){1===t?e.id=n.readVarint():2===t?e.tags=n.readPackedVarint():3===t?e.type=n.readVarint():4===t&&(e.geometry=n.readPackedVarint())}function f(t,e){void 0!==t.id&&e.writeVarintField(1,t.id),void 0!==t.tags&&e.writePackedVarint(2,t.tags),void 0!==t.type&&e.writeVarintField(3,t.type),void 0!==t.geometry&&e.writePackedVarint(4,t.geometry)}function p(t,e){return t.readFields(h,{features:[],keys:[],values:[]},e)}function h(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():2===t?e.features.push(u(n,n.readVarint()+n.pos)):3===t?e.keys.push(n.readString()):4===t?e.values.push(a(n,n.readVarint()+n.pos)):5===t&&(e.extent=n.readVarint())}function d(t,e){void 0!==t.version&&e.writeVarintField(15,t.version),void 0!==t.name&&e.writeStringField(1,t.name);var n;if(void 0!==t.features)for(n=0;n<t.features.length;n++)e.writeMessage(2,f,t.features[n]);if(void 0!==t.keys)for(n=0;n<t.keys.length;n++)e.writeStringField(3,t.keys[n]);if(void 0!==t.values)for(n=0;n<t.values.length;n++)e.writeMessage(4,l,t.values[n]);void 0!==t.extent&&e.writeVarintField(5,t.extent)}var m=n.tile={read:r,write:i};m.GeomType={Unknown:0,Point:1,LineString:2,Polygon:3},m.value={read:a,write:l},m.feature={read:u,write:f},m.layer={read:p,write:d}},{}],470:[function(t,e,n){var r=arguments[3],o=arguments[4],i=arguments[5],a=JSON.stringify;e.exports=function(t,e){for(var n,s=Object.keys(i),l=0,u=s.length;l<u;l++){var c=s[l],f=i[c].exports;if(f===t||f&&f["default"]===t){n=c;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var p={},l=0,u=s.length;l<u;l++){var c=s[l];p[c]=c}o[n]=[Function(["require","module","exports"],"("+t+")(self)"),p]}var h=Math.floor(Math.pow(16,8)*Math.random()).toString(16),d={};d[n]=n,o[h]=[Function(["require"],"var f = require("+a(n)+");(f.default ? f.default : f)(self);"),d];var m="("+r+")({"+Object.keys(o).map(function(t){return a(t)+":["+o[t][0]+","+a(o[t][1])+"]"}).join(",")+"},{},["+a(h)+"])",y=window.URL||window.webkitURL||window.mozURL||window.msURL,v=new Blob([m],{type:"text/javascript"});if(e&&e.bare)return v;var g=y.createObjectURL(v),b=new Worker(g);return b.objectURL=g,b}},{}],471:[function(e,n,r){!function(e,o){"object"==typeof r&&"undefined"!=typeof n?o(r):"function"==typeof t&&t.amd?t(["exports"],o):o(e.WhooTS=e.WhooTS||{})}(this,function(t){function e(t,e,r,o,i,a){a=a||{};var s=t+"?"+["bbox="+n(r,o,i),"format="+(a.format||"image/png"),"service="+(a.service||"WMS"),"version="+(a.version||"1.1.1"),"request="+(a.request||"GetMap"),"srs="+(a.srs||"EPSG:3857"),"width="+(a.width||256),"height="+(a.height||256),"layers="+e].join("&");return s}function n(t,e,n){e=Math.pow(2,n)-e-1;var o=r(256*t,256*e,n),i=r(256*(t+1),256*(e+1),n);return o[0]+","+o[1]+","+i[0]+","+i[1]}function r(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n),o=t*r-2*Math.PI*6378137/2,i=e*r-2*Math.PI*6378137/2;return[o,i]}t.getURL=e,t.getTileBBox=n,t.getMercCoords=r,Object.defineProperty(t,"__esModule",{value:!0})})},{}],472:[function(t,e,n){e.exports={name:"mapbox-gl",description:"A WebGL interactive maps library",version:"0.22.0",main:"js/mapbox-gl.js",license:"BSD-3-Clause",repository:{type:"git",url:"git://github.com/mapbox/mapbox-gl-js.git"},engines:{node:">=4.0.0"},dependencies:{csscolorparser:"^1.0.2",earcut:"^2.0.3","feature-filter":"^2.2.0","geojson-rewind":"^0.1.0","geojson-vt":"^2.4.0","gl-matrix":"^2.3.1","grid-index":"^1.0.0","mapbox-gl-function":"^1.2.1","mapbox-gl-shaders":"github:mapbox/mapbox-gl-shaders#de2ab007455aa2587c552694c68583f94c9f2747","mapbox-gl-style-spec":"github:mapbox/mapbox-gl-style-spec#83b1a3e5837d785af582efd5ed1a212f2df6a4ae","mapbox-gl-supported":"^1.2.0",pbf:"^1.3.2",pngjs:"^2.2.0","point-geometry":"^0.0.0",quickselect:"^1.0.0",request:"^2.39.0","resolve-url":"^0.2.1","shelf-pack":"^1.0.0",supercluster:"^2.0.1",unassertify:"^2.0.0",unitbezier:"^0.0.0","vector-tile":"^1.3.0","vt-pbf":"^2.0.2",webworkify:"^1.3.0","whoots-js":"^2.0.0"},devDependencies:{async:"^2.0.1","babel-preset-react":"^6.11.1",babelify:"^7.3.0",benchmark:"~2.1.0",browserify:"^13.0.0","browserify-middleware":"^7.0.0",clipboard:"^1.5.12","concat-stream":"1.5.1",coveralls:"^2.11.8",doctrine:"^1.2.1",documentation:"https://github.com/documentationjs/documentation/archive/bb41619c734e59ef3fbc3648610032efcfdaaace.tar.gz","documentation-theme-utils":"3.0.0",envify:"^3.4.0",eslint:"^2.5.3","eslint-config-mourner":"^2.0.0","eslint-plugin-html":"^1.5.1",express:"^4.13.4",gl:"^4.0.1",handlebars:"4.0.5","highlight.js":"9.3.0",istanbul:"^0.4.2","json-loader":"^0.5.4",lodash:"^4.13.1","mapbox-gl-test-suite":"github:mapbox/mapbox-gl-test-suite#1619d84e76ff3434becd51237720d370c7405ee5","memory-fs":"^0.3.0",minifyify:"^7.0.1",nyc:"6.4.0",proxyquire:"^1.7.9",react:"^15.3.0","react-dom":"^15.3.0",remark:"4.2.2","remark-html":"3.0.0",sinon:"^1.15.4",st:"^1.0.0",tap:"^5.7.0",through:"^2.3.7","transform-loader":"^0.2.3","unist-util-visit":"1.1.0",vinyl:"1.1.1","vinyl-fs":"2.4.3",watchify:"^3.2.2",webpack:"^1.13.1","webworkify-webpack":"^1.1.3"},browserify:{transform:["unassertify"]},browser:{"./js/util/ajax.js":"./js/util/browser/ajax.js","./js/util/browser.js":"./js/util/browser/browser.js","./js/util/canvas.js":"./js/util/browser/canvas.js","./js/util/dom.js":"./js/util/browser/dom.js","./js/util/web_worker.js":"./js/util/browser/web_worker.js"},scripts:{"build-dev":"browserify js/mapbox-gl.js --debug --ignore-transform unassertify --standalone mapboxgl > dist/mapbox-gl-dev.js && tap --no-coverage test/build/dev.test.js","build-docs":"documentation build --github --format html -c documentation.yml --theme ./docs/_theme --output docs/api/","build-min":"browserify js/mapbox-gl.js --debug --plugin [minifyify --map mapbox-gl.js.map --output dist/mapbox-gl.js.map] --standalone mapboxgl > dist/mapbox-gl.js && tap --no-coverage test/build/min.test.js","//":"The 'build' script is invoked by publisher when publishing docs on the mb-pages branch",build:"npm run build-docs",lint:"eslint js test bench server.js docs/_posts/examples/*.html","open-changed-examples":"git diff --name-only mb-pages HEAD -- docs/_posts/examples/*.html | awk '{print \"http://127.0.0.1:4000/mapbox-gl-js/example/\" substr($0,33,length($0)-37)}' | xargs open","start-docs":"npm run build-min && npm run build-docs && jekyll serve -w",start:"node server.js","test-suite":"node test/render.test.js && node test/query.test.js",test:"npm run lint && tap --reporter dot test/js/*/*.js test/build/webpack.test.js"},gitHead:"98461d3e2db6369cbcb66d70595e3032558fba9d",bugs:{url:"https://github.com/mapbox/mapbox-gl-js/issues"},homepage:"https://github.com/mapbox/mapbox-gl-js#readme",_id:"mapbox-gl@0.22.0",_shasum:"7fb1d70984dc7d8671abcd09ef6ab5fb98c0a310",_from:"mapbox-gl@latest",_npmVersion:"2.15.5",_nodeVersion:"4.4.5",_npmUser:{name:"lucaswoj",email:"lucas@lucaswoj.com"},dist:{shasum:"7fb1d70984dc7d8671abcd09ef6ab5fb98c0a310",tarball:"https://registry.npmjs.org/mapbox-gl/-/mapbox-gl-0.22.0.tgz"},maintainers:[{name:"aaronlidman",email:"aaronlidman@gmail.com"},{name:"ajashton",email:"aj.ashton@gmail.com"},{name:"ansis",email:"ansis.brammanis@gmail.com"},{name:"bergwerkgis",email:"wb@bergwerk-gis.at"},{name:"bhousel",email:"bryan@mapbox.com"},{name:"bsudekum",email:"bobby@mapbox.com"},{name:"camilleanne",email:"camille@mapbox.com"},{name:"dnomadb",email:"damon@mapbox.com"},{name:"dthompson",email:"dthompson@gmail.com"},{name:"emilymcafee",email:"emily@mapbox.com"},{name:"flippmoke",email:"flippmoke@gmail.com"},{name:"freenerd",email:"spam@freenerd.de"},{name:"gretacb",email:"carol@mapbox.com"},{name:"ian29",email:"ian.villeda@gmail.com"},{name:"ianshward",email:"ian@mapbox.com"},{name:"ingalls",email:"nicholas.ingalls@gmail.com"},{name:"jfirebaugh",email:"john.firebaugh@gmail.com"},{name:"jrpruit1",email:"jake@jakepruitt.com"},{name:"karenzshea",email:"karen@mapbox.com"},{name:"kkaefer",email:"kkaefer@gmail.com"},{name:"lbud",email:"lauren@mapbox.com"},{name:"lucaswoj",email:"lucas@lucaswoj.com"},{name:"lxbarth",email:"alex@mapbox.com"},{name:"lyzidiamond",email:"lyzi@mapbox.com"},{name:"mapbox-admin",email:"accounts@mapbox.com"},{name:"mateov",email:"matt@mapbox.com"},{name:"mcwhittemore",email:"mcwhittemore@gmail.com"},{name:"miccolis",email:"jeff@miccolis.net"},{name:"mikemorris",email:"michael.patrick.morris@gmail.com"},{name:"morganherlocker",email:"morgan.herlocker@gmail.com"},{name:"mourner",email:"agafonkin@gmail.com"},{name:"nickidlugash",email:"nicki@mapbox.com"},{name:"rclark",email:"ryan.clark.j@gmail.com"},{name:"samanbb",email:"saman@mapbox.com"},{name:"sbma44",email:"tlee@mapbox.com"},{name:"scothis",email:"scothis@gmail.com"},{name:"sgillies",email:"sean@mapbox.com"},{name:"springmeyer",email:"dane@mapbox.com"},{name:"themarex",email:"patrick@mapbox.com"},{name:"tmcw",email:"tom@macwright.org"},{name:"tristen",email:"tristen.brown@gmail.com"},{name:"willwhite",email:"will@mapbox.com"},{name:"yhahn",email:"young@mapbox.com"}],_npmOperationalInternal:{host:"packages-12-west.internal.npmjs.com",tmp:"tmp/mapbox-gl-0.22.0.tgz_1471021366539_0.7491761057171971"},directories:{},_resolved:"https://registry.npmjs.org/mapbox-gl/-/mapbox-gl-0.22.0.tgz"}},{}],473:[function(t,e,n){"use strict";function r(t,e){function n(t){var e=!1;return"altKey"in t&&(e=e||t.altKey!==m.alt,m.alt=!!t.altKey),"shiftKey"in t&&(e=e||t.shiftKey!==m.shift,m.shift=!!t.shiftKey),"ctrlKey"in t&&(e=e||t.ctrlKey!==m.control,m.control=!!t.ctrlKey),"metaKey"in t&&(e=e||t.metaKey!==m.meta,m.meta=!!t.metaKey),e}function r(t,r){var i=o.x(r),a=o.y(r);"buttons"in r&&(t=0|r.buttons),(t!==p||i!==h||a!==d||n(r))&&(p=0|t,h=i||0,d=a||0,e(p,h,d,m))}function i(t){r(0,t)}function a(){(p||h||d||m.shift||m.alt||m.meta||m.control)&&(h=d=0,p=0,m.shift=m.alt=m.control=m.meta=!1,e(0,0,0,m))}function s(t){n(t)&&e(p,h,d,m)}function l(t){0===o.buttons(t)?r(0,t):r(p,t)}function u(t){r(p|o.buttons(t),t)}function c(t){r(p&~o.buttons(t),t)}function f(){y||(y=!0,t.addEventListener("mousemove",l),t.addEventListener("mousedown",u),t.addEventListener("mouseup",c),t.addEventListener("mouseleave",i),t.addEventListener("mouseenter",i),t.addEventListener("mouseout",i),t.addEventListener("mouseover",i),t.addEventListener("blur",a),t.addEventListener("keyup",s),t.addEventListener("keydown",s),t.addEventListener("keypress",s),t!==window&&(window.addEventListener("blur",a),window.addEventListener("keyup",s),window.addEventListener("keydown",s),window.addEventListener("keypress",s)))}e||(e=t,t=window);var p=0,h=0,d=0,m={shift:!1,alt:!1,control:!1,meta:!1},y=!1;f();var v={element:t};return Object.defineProperties(v,{enabled:{get:function(){return y},set:function(t){t&&f()},enumerable:!0},buttons:{get:function(){return p},enumerable:!0},x:{get:function(){return h},enumerable:!0},y:{get:function(){return d},enumerable:!0},mods:{get:function(){return m},enumerable:!0}}),v}e.exports=r;var o=t("mouse-event")},{"mouse-event":474}],474:[function(t,e,n){"use strict";function r(t){if("object"==typeof t){if("buttons"in t)return t.buttons;if("which"in t){var e=t.which;if(2===e)return 4;if(3===e)return 2;if(e>0)return 1<<e-1}else if("button"in t){var e=t.button;if(1===e)return 4;if(2===e)return 2;if(e>=0)return 1<<e}}return 0}function o(t){return t.target||t.srcElement||window}function i(t){if("object"==typeof t){if("offsetX"in t)return t.offsetX;var e=o(t),n=e.getBoundingClientRect();return t.clientX-n.left}return 0}function a(t){if("object"==typeof t){if("offsetY"in t)return t.offsetY;var e=o(t),n=e.getBoundingClientRect();return t.clientY-n.top}return 0}n.buttons=r,n.element=o,n.x=i,n.y=a},{}],475:[function(t,e,n){e.exports=function(t,e){e||(e=[0,""]),t=String(t);var n=parseFloat(t,10);return e[0]=n,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},{}],476:[function(t,e,n){"use strict";function r(t,e){var n=a(getComputedStyle(t).getPropertyValue(e));return n[0]*i(n[1],t)}function o(t,e){var n=document.createElement("div");n.style["font-size"]="128"+t,e.appendChild(n);var o=r(n,"font-size")/128;return e.removeChild(n),o}function i(t,e){switch(e=e||document.body,t=(t||"px").trim().toLowerCase(),e!==window&&e!==document||(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return o(t,e);case"em":return r(e,"font-size");case"rem":return r(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return s;case"cm":return s/2.54;case"mm":return s/25.4;case"pt":return s/72;case"pc":return s/6}return 1}var a=t("parse-unit");e.exports=i;var s=96},{"parse-unit":475}],477:[function(t,e,n){"use strict";function r(t,e,n){"function"==typeof t&&(n=!!e,e=t,t=window);var r=o("ex",t),i=function(t){n&&t.preventDefault();var o=t.deltaX||0,i=t.deltaY||0,a=t.deltaZ||0,s=t.deltaMode,l=1;switch(s){case 1:l=r;break;case 2:l=window.innerHeight}if(o*=l,i*=l,a*=l,o||i||a)return e(o,i,a)};return t.addEventListener("wheel",i),i}var o=t("to-px");e.exports=r},{"to-px":476}],478:[function(t,e,n){"use strict";var r=t("cwise/lib/wrapper")({args:["index","array","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_1_arg1_=_inline_1_arg2_.apply(void 0,_inline_1_arg0_)}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64});e.exports=function(t,e){return r(t,e),t}},{"cwise/lib/wrapper":124}],479:[function(t,e,n){"use strict";function r(t,e){switch(e.length){case 0:break;case 1:t[0]=1/e[0];break;case 4:o(t,e);break;case 9:i(t,e);break;case 16:a(t,e);break;default:throw new Error("currently supports matrices up to 4x4")}return t}e.exports=r;var o=t("gl-mat2/invert"),i=t("gl-mat3/invert"),a=t("gl-mat4/invert")},{"gl-mat2/invert":480,"gl-mat3/invert":142,"gl-mat4/invert":149}],480:[function(t,e,n){function r(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n*i-o*r;return a?(a=1/a,t[0]=i*a,t[1]=-r*a,t[2]=-o*a,t[3]=n*a,t):null}e.exports=r},{}],481:[function(t,e,n){"use strict";function r(t,e){var n=Math.floor(e),r=e-n,o=0<=n&&n<t.shape[0],i=0<=n+1&&n+1<t.shape[0],a=o?+t.get(n):0,s=i?+t.get(n+1):0;return(1-r)*a+r*s}function o(t,e,n){var r=Math.floor(e),o=e-r,i=0<=r&&r<t.shape[0],a=0<=r+1&&r+1<t.shape[0],s=Math.floor(n),l=n-s,u=0<=s&&s<t.shape[1],c=0<=s+1&&s+1<t.shape[1],f=i&&u?t.get(r,s):0,p=i&&c?t.get(r,s+1):0,h=a&&u?t.get(r+1,s):0,d=a&&c?t.get(r+1,s+1):0;return(1-l)*((1-o)*f+o*h)+l*((1-o)*p+o*d)}function i(t,e,n,r){var o=Math.floor(e),i=e-o,a=0<=o&&o<t.shape[0],s=0<=o+1&&o+1<t.shape[0],l=Math.floor(n),u=n-l,c=0<=l&&l<t.shape[1],f=0<=l+1&&l+1<t.shape[1],p=Math.floor(r),h=r-p,d=0<=p&&p<t.shape[2],m=0<=p+1&&p+1<t.shape[2],y=a&&c&&d?t.get(o,l,p):0,v=a&&f&&d?t.get(o,l+1,p):0,g=s&&c&&d?t.get(o+1,l,p):0,b=s&&f&&d?t.get(o+1,l+1,p):0,_=a&&c&&m?t.get(o,l,p+1):0,x=a&&f&&m?t.get(o,l+1,p+1):0,w=s&&c&&m?t.get(o+1,l,p+1):0,T=s&&f&&m?t.get(o+1,l+1,p+1):0;return(1-h)*((1-u)*((1-i)*y+i*g)+u*((1-i)*v+i*b))+h*((1-u)*((1-i)*_+i*w)+u*((1-i)*x+i*T))}function a(t){var e,n,r=0|t.shape.length,o=new Array(r),i=new Array(r),a=new Array(r),s=new Array(r);for(e=0;e<r;++e)n=+arguments[e+1],o[e]=Math.floor(n),i[e]=n-o[e],a[e]=0<=o[e]&&o[e]<t.shape[e],s[e]=0<=o[e]+1&&o[e]+1<t.shape[e];var l,u,c,f=0;t:for(e=0;e<1<<r;++e){for(u=1,c=t.offset,l=0;l<r;++l)if(e&1<<l){if(!s[l])continue t;u*=i[l],c+=t.stride[l]*(o[l]+1)}else{if(!a[l])continue t;
u*=1-i[l],c+=t.stride[l]*o[l]}f+=u*t.data[c]}return f}function s(t,e,n,s){switch(t.shape.length){case 0:return 0;case 1:return r(t,e);case 2:return o(t,e,n);case 3:return i(t,e,n,s);default:return a.apply(void 0,arguments)}}e.exports=s,e.exports.d1=r,e.exports.d2=o,e.exports.d3=i},{}],482:[function(t,e,n){"use strict";var r=t("ndarray-linear-interpolate"),o=t("cwise/lib/wrapper")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=new Array(_inline_9_arg4_)}",args:[{name:"_inline_9_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_9_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_9_arg2_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_9_arg3_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_9_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_10_arg2_(this_warped,_inline_10_arg0_),_inline_10_arg1_=_inline_10_arg3_.apply(void 0,this_warped)}",args:[{name:"_inline_10_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_10_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_10_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_10_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_10_arg4_",lvalue:!1,rvalue:!1,count:0}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warpND",blockSize:64}),i=t("cwise/lib/wrapper")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=[0]}",args:[],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_13_arg2_(this_warped,_inline_13_arg0_),_inline_13_arg1_=_inline_13_arg3_(_inline_13_arg4_,this_warped[0])}",args:[{name:"_inline_13_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_13_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_13_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_13_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_13_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warp1D",blockSize:64}),a=t("cwise/lib/wrapper")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=[0,0]}",args:[],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_16_arg2_(this_warped,_inline_16_arg0_),_inline_16_arg1_=_inline_16_arg3_(_inline_16_arg4_,this_warped[0],this_warped[1])}",args:[{name:"_inline_16_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_16_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warp2D",blockSize:64}),s=t("cwise/lib/wrapper")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=[0,0,0]}",args:[],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_19_arg2_(this_warped,_inline_19_arg0_),_inline_19_arg1_=_inline_19_arg3_(_inline_19_arg4_,this_warped[0],this_warped[1],this_warped[2])}",args:[{name:"_inline_19_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_19_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warp3D",blockSize:64});e.exports=function(t,e,n){switch(e.shape.length){case 1:i(t,n,r.d1,e);break;case 2:a(t,n,r.d2,e);break;case 3:s(t,n,r.d3,e);break;default:o(t,n,r.bind(void 0,e),e.shape.length)}return t}},{"cwise/lib/wrapper":124,"ndarray-linear-interpolate":481}],483:[function(t,e,n){"use strict";function r(t,e,n){var r=e.dimension,a=i([],n);return o(t,e,function(t,e){for(var n=0;n<r;++n){t[n]=a[(r+1)*r+n];for(var o=0;o<r;++o)t[n]+=a[(r+1)*o+n]*e[o]}for(var i=a[(r+1)*(r+1)-1],o=0;o<r;++o)i+=a[(r+1)*o+r]*e[o];for(var s=1/i,n=0;n<r;++n)t[n]*=s;return t}),t}var o=t("ndarray-warp"),i=t("gl-matrix-invert");e.exports=r},{"gl-matrix-invert":479,"ndarray-warp":482}],484:[function(t,e,n){"use strict";function r(t){if(!t)return s;for(var e=0;e<t.args.length;++e){var n=t.args[e];0===e?t.args[e]={name:n,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:t.args[e]={name:n,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function o(t){return a({args:t.args,pre:r(t.pre),body:r(t.body),post:r(t.proc),funcName:t.funcName})}function i(t){for(var e=[],n=0;n<t.args.length;++n)e.push("a"+n);var r=new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""));return r(o(t))}var a=t("cwise-compiler"),s={body:"",args:[],thisVars:[],localVars:[]},l={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in l){var e=l[t];n[t]=i({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),n[t+"eq"]=i({args:["array","array"],body:{args:["a","b"],body:"a"+e+"=b"},rvalue:!0,funcName:t+"eq"}),n[t+"s"]=i({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),n[t+"seq"]=i({args:["array","scalar"],body:{args:["a","s"],body:"a"+e+"=s"},rvalue:!0,funcName:t+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in u){var e=u[t];n[t]=i({args:["array","array"],body:{args:["a","b"],body:"a="+e+"b"},funcName:t}),n[t+"eq"]=i({args:["array"],body:{args:["a"],body:"a="+e+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var c={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in c){var e=c[t];n[t]=i({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),n[t+"s"]=i({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),n[t+"eq"]=i({args:["array","array"],body:{args:["a","b"],body:"a=a"+e+"b"},rvalue:!0,count:2,funcName:t+"eq"}),n[t+"seq"]=i({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+e+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var f=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<f.length;++t){var e=f[t];n[e]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:e}),n[e+"eq"]=i({args:["array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"})}}();var p=["max","min","atan2","pow"];!function(){for(var t=0;t<p.length;++t){var e=p[t];n[e]=i({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e}),n[e+"s"]=i({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e+"s"}),n[e+"eq"]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"}),n[e+"seq"]=i({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"seq"})}}();var h=["atan2","pow"];!function(){for(var t=0;t<h.length;++t){var e=h[t];n[e+"op"]=i({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"op"}),n[e+"ops"]=i({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"ops"}),n[e+"opeq"]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opeq"}),n[e+"opseq"]=i({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opseq"})}}(),n.any=a({args:["array"],pre:s,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),n.all=a({args:["array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),n.sum=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),n.prod=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),n.norm2squared=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),n.norm2=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),n.norminf=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),n.norm1=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),n.sup=a({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.inf=a({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.argmin=a({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.argmax=a({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.random=i({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),n.assign=i({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),n.assigns=i({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),n.equals=a({args:["array","array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":121}],485:[function(t,e,n){function r(t,e){return t[0]-e[0]}function o(){var t,e=this.stride,n=new Array(e.length);for(t=0;t<n.length;++t)n[t]=[Math.abs(e[t]),t];n.sort(r);var o=new Array(n.length);for(t=0;t<o.length;++t)o[t]=n[t][1];return o}function i(t,e){var n=["View",e,"d",t].join("");e<0&&(n="View_Nil"+t);var r="generic"===t;if(e===-1){var i="function "+n+"(a){this.data=a;};\tvar proto="+n+".prototype;\tproto.dtype='"+t+"';\tproto.index=function(){return -1};\tproto.size=0;\tproto.dimension=-1;\tproto.shape=proto.stride=proto.order=[];\tproto.lo=proto.hi=proto.transpose=proto.step=\tfunction(){return new "+n+"(this.data);};\tproto.get=proto.set=function(){};\tproto.pick=function(){return null};\treturn function construct_"+n+"(a){return new "+n+"(a);}",a=new Function(i);return a()}if(0===e){var i="function "+n+"(a,d) {\tthis.data = a;\tthis.offset = d\t};\tvar proto="+n+".prototype;\tproto.dtype='"+t+"';\tproto.index=function(){return this.offset};\tproto.dimension=0;\tproto.size=1;\tproto.shape=\tproto.stride=\tproto.order=[];\tproto.lo=\tproto.hi=\tproto.transpose=\tproto.step=function "+n+"_copy() {\treturn new "+n+"(this.data,this.offset)\t};\tproto.pick=function "+n+"_pick(){\treturn TrivialArray(this.data);\t};\tproto.valueOf=proto.get=function "+n+"_get(){\treturn "+(r?"this.data.get(this.offset)":"this.data[this.offset]")+"};\tproto.set=function "+n+"_set(v){\treturn "+(r?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"\t};\treturn function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",a=new Function("TrivialArray",i);return a(f[t][0])}var i=["'use strict'"],s=l(e),u=s.map(function(t){return"i"+t}),c="this.offset+"+s.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),p=s.map(function(t){return"b"+t}).join(","),h=s.map(function(t){return"c"+t}).join(",");i.push("function "+n+"(a,"+p+","+h+",d){this.data=a","this.shape=["+p+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),i.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){\treturn "+s.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===e?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),e<4?(i.push("function "+n+"_order(){"),2===e?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);\tif(s0>s1){\tif(s1>s2){\treturn [2,1,0];\t}else if(s0>s2){\treturn [1,2,0];\t}else{\treturn [1,0,2];\t}\t}else if(s0>s2){\treturn [2,0,1];\t}else if(s2>s1){\treturn [0,1,2];\t}else{\treturn [0,2,1];\t}}})")):i.push("ORDER})")),i.push("proto.set=function "+n+"_set("+u.join(",")+",v){"),r?i.push("return this.data.set("+c+",v)}"):i.push("return this.data["+c+"]=v}"),i.push("proto.get=function "+n+"_get("+u.join(",")+"){"),r?i.push("return this.data.get("+c+")}"):i.push("return this.data["+c+"]}"),i.push("proto.index=function "+n+"_index(",u.join(),"){return "+c+"}"),i.push("proto.hi=function "+n+"_hi("+u.join(",")+"){return new "+n+"(this.data,"+s.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+s.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var d=s.map(function(t){return"a"+t+"=this.shape["+t+"]"}),m=s.map(function(t){return"c"+t+"=this.stride["+t+"]"});i.push("proto.lo=function "+n+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+m.join(","));for(var y=0;y<e;++y)i.push("if(typeof i"+y+"==='number'&&i"+y+">=0){\td=i"+y+"|0;\tb+=c"+y+"*d;\ta"+y+"-=d}");i.push("return new "+n+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"c"+t}).join(",")+",b)}"),i.push("proto.step=function "+n+"_step("+u.join(",")+"){var "+s.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+s.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var y=0;y<e;++y)i.push("if(typeof i"+y+"==='number'){\td=i"+y+"|0;\tif(d<0){\tc+=b"+y+"*(a"+y+"-1);\ta"+y+"=ceil(-a"+y+"/d)\t}else{\ta"+y+"=ceil(a"+y+"/d)\t}\tb"+y+"*=d\t}");i.push("return new "+n+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"b"+t}).join(",")+",c)}");for(var v=new Array(e),g=new Array(e),y=0;y<e;++y)v[y]="a[i"+y+"]",g[y]="b[i"+y+"]";i.push("proto.transpose=function "+n+"_transpose("+u+"){"+u.map(function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+v.join(",")+","+g.join(",")+",this.offset)}"),i.push("proto.pick=function "+n+"_pick("+u+"){var a=[],b=[],c=this.offset");for(var y=0;y<e;++y)i.push("if(typeof i"+y+"==='number'&&i"+y+">=0){c=(c+this.stride["+y+"]*i"+y+")|0}else{a.push(this.shape["+y+"]);b.push(this.stride["+y+"])}");i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+s.map(function(t){return"shape["+t+"]"}).join(",")+","+s.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}");var a=new Function("CTOR_LIST","ORDER",i.join("\n"));return a(f[t],o)}function a(t){if(u(t))return"buffer";if(c)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}function s(t,e,n,r){if(void 0===t){var o=f.array[0];return o([])}"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var s=e.length;if(void 0===n){n=new Array(s);for(var l=s-1,u=1;l>=0;--l)n[l]=u,u*=e[l]}if(void 0===r){r=0;for(var l=0;l<s;++l)n[l]<0&&(r-=(e[l]-1)*n[l])}for(var c=a(t),p=f[c];p.length<=s+1;)p.push(i(c,p.length-1));var o=p[s+1];return o(t,e,n,r)}var l=t("iota-array"),u=t("is-buffer"),c="undefined"!=typeof Float64Array,f={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};e.exports=s},{"iota-array":279,"is-buffer":280}],486:[function(t,e,n){arguments[4][207][0].apply(n,arguments)},{dup:207}],487:[function(t,e,n){(function(t){e.exports=t.performance&&t.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],488:[function(t,e,n){"use strict";function r(t){for(var e="robustLinearSolve"+t+"d",n=["function ",e,"(A,b){return ["],r=0;r<t;++r){n.push("det([");for(var o=0;o<t;++o){o>0&&n.push(","),n.push("[");for(var i=0;i<t;++i)i>0&&n.push(","),i===r?n.push("+b[",o,"]"):n.push("+A[",o,"][",i,"]");n.push("]")}n.push("]),")}n.push("det(A)]}return ",e);var a=new Function("det",n.join(""));return a(t<6?s[t]:s)}function o(){return[0]}function i(t,e){return[[e[0]],[t[0][0]]]}function a(){for(;u.length<l;)u.push(r(u.length));for(var t=[],n=["function dispatchLinearSolve(A,b){switch(A.length){"],o=0;o<l;++o)t.push("s"+o),n.push("case ",o,":return s",o,"(A,b);");n.push("}var s=CACHE[A.length];if(!s)s=CACHE[A.length]=g(A.length);return s(A,b)}return dispatchLinearSolve"),t.push("CACHE","g",n.join(""));var i=Function.apply(void 0,t);e.exports=i.apply(void 0,u.concat([u,r]));for(var o=0;o<l;++o)e.exports[o]=u[o]}var s=t("robust-determinant"),l=6,u=[o,i];a()},{"robust-determinant":490}],489:[function(t,e,n){"use strict";function r(t){for(var e=t.length,n=t[t.length-1],r=e,o=e-2;o>=0;--o){var i=n,a=t[o];n=i+a;var s=n-i,l=a-s;l&&(t[--r]=n,n=l)}for(var u=0,o=r;o<e;++o){var i=t[o],a=n;n=i+a;var s=n-i,l=a-s;l&&(t[u++]=l)}return t[u++]=n,t.length=u,t}e.exports=r},{}],490:[function(t,e,n){"use strict";function r(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var o=n[r-1]=new Array(t.length-1),i=0,a=0;i<t.length;++i)i!==e&&(o[a++]=t[r][i]);return n}function o(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m[",n,"][",r,"]"].join("")}return e}function i(t){return 1&t?"-":""}function a(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",a(t.slice(0,e)),",",a(t.slice(e)),")"].join("")}function s(t){if(2===t.length)return["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("");for(var e=[],n=0;n<t.length;++n)e.push(["scale(",s(r(t,n)),",",i(n),t[0][n],")"].join(""));return a(e)}function l(t){var e=new Function("sum","scale","prod","compress",["function robustDeterminant",t,"(m){return compress(",s(o(t)),")};return robustDeterminant",t].join(""));return e(f,p,c,h)}function u(){for(;m.length<d;)m.push(l(m.length));for(var t=[],n=["function robustDeterminant(m){switch(m.length){"],r=0;r<d;++r)t.push("det"+r),n.push("case ",r,":return det",r,"(m);");n.push("}\tvar det=CACHE[m.length];\tif(!det)\tdet=CACHE[m.length]=gen(m.length);\treturn det(m);\t}\treturn robustDeterminant"),t.push("CACHE","gen",n.join(""));var o=Function.apply(void 0,t);e.exports=o.apply(void 0,m.concat([m,l]));for(var r=0;r<m.length;++r)e.exports[r]=m[r]}var c=t("two-product"),f=t("robust-sum"),p=t("robust-scale"),h=t("robust-compress"),d=6,m=[function(){return[0]},function(t){return[t[0][0]]}];u()},{"robust-compress":489,"robust-scale":492,"robust-sum":494,"two-product":508}],491:[function(t,e,n){"use strict";function r(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var o=n[r-1]=new Array(t.length-1),i=0,a=0;i<t.length;++i)i!==e&&(o[a++]=t[r][i]);return n}function o(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}function i(t){return 1&t?"-":""}function a(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",a(t.slice(0,e)),",",a(t.slice(e)),")"].join("")}function s(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],n=0;n<t.length;++n)e.push(["scale(",a(s(r(t,n))),",",i(n),t[0][n],")"].join(""));return e}function l(t){for(var e=[],n=[],i=o(t),l=[],u=0;u<t;++u)0===(1&u)?e.push.apply(e,s(r(i,u))):n.push.apply(n,s(r(i,u))),l.push("m"+u);var c=a(e),m=a(n),y="orientation"+t+"Exact",v=["function ",y,"(",l.join(),"){var p=",c,",n=",m,",d=sub(p,n);\treturn d[d.length-1];};return ",y].join(""),g=new Function("sum","prod","scale","sub",v);return g(p,f,h,d)}function u(t){var e=x[t.length];return e||(e=x[t.length]=l(t.length)),e.apply(void 0,t)}function c(){for(;x.length<=m;)x.push(l(x.length));for(var t=[],n=["slow"],r=0;r<=m;++r)t.push("a"+r),n.push("o"+r);for(var o=["function getOrientation(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"],r=2;r<=m;++r)o.push("case ",r,":return o",r,"(",t.slice(0,r).join(),");");o.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(o.join(""));var i=Function.apply(void 0,n);e.exports=i.apply(void 0,[u].concat(x));for(var r=0;r<=m;++r)e.exports[r]=x[r]}var f=t("two-product"),p=t("robust-sum"),h=t("robust-scale"),d=t("robust-subtract"),m=5,y=1.1102230246251565e-16,v=(3+16*y)*y,g=(7+56*y)*y,b=l(3),_=l(4),x=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,o=(t[1]-n[1])*(e[0]-n[0]),i=(t[0]-n[0])*(e[1]-n[1]),a=o-i;if(o>0){if(i<=0)return a;r=o+i}else{if(!(o<0))return a;if(i>=0)return a;r=-(o+i)}var s=v*r;return a>=s||a<=-s?a:b(t,e,n)},function(t,e,n,r){var o=t[0]-r[0],i=e[0]-r[0],a=n[0]-r[0],s=t[1]-r[1],l=e[1]-r[1],u=n[1]-r[1],c=t[2]-r[2],f=e[2]-r[2],p=n[2]-r[2],h=i*u,d=a*l,m=a*s,y=o*u,v=o*l,b=i*s,x=c*(h-d)+f*(m-y)+p*(v-b),w=(Math.abs(h)+Math.abs(d))*Math.abs(c)+(Math.abs(m)+Math.abs(y))*Math.abs(f)+(Math.abs(v)+Math.abs(b))*Math.abs(p),T=g*w;return x>T||-x>T?x:_(t,e,n,r)}];c()},{"robust-scale":492,"robust-subtract":493,"robust-sum":494,"two-product":508}],492:[function(t,e,n){"use strict";function r(t,e){var n=t.length;if(1===n){var r=o(t[0],e);return r[0]?r:[r[1]]}var a=new Array(2*n),s=[.1,.1],l=[.1,.1],u=0;o(t[0],e,s),s[0]&&(a[u++]=s[0]);for(var c=1;c<n;++c){o(t[c],e,l);var f=s[1];i(f,l[0],s),s[0]&&(a[u++]=s[0]);var p=l[1],h=s[1],d=p+h,m=d-p,y=h-m;s[1]=d,y&&(a[u++]=y)}return s[1]&&(a[u++]=s[1]),0===u&&(a[u++]=0),a.length=u,a}var o=t("two-product"),i=t("two-sum");e.exports=r},{"two-product":508,"two-sum":509}],493:[function(t,e,n){"use strict";function r(t,e){var n=t+e,r=n-t,o=n-r,i=e-r,a=t-o,s=a+i;return s?[s,n]:[n]}function o(t,e){var n=0|t.length,o=0|e.length;if(1===n&&1===o)return r(t[0],-e[0]);var i,a,s=n+o,l=new Array(s),u=0,c=0,f=0,p=Math.abs,h=t[c],d=p(h),m=-e[f],y=p(m);d<y?(a=h,c+=1,c<n&&(h=t[c],d=p(h))):(a=m,f+=1,f<o&&(m=-e[f],y=p(m))),c<n&&d<y||f>=o?(i=h,c+=1,c<n&&(h=t[c],d=p(h))):(i=m,f+=1,f<o&&(m=-e[f],y=p(m)));for(var v,g,b,_,x,w=i+a,T=w-i,E=a-T,C=E,k=w;c<n&&f<o;)d<y?(i=h,c+=1,c<n&&(h=t[c],d=p(h))):(i=m,f+=1,f<o&&(m=-e[f],y=p(m))),a=C,w=i+a,T=w-i,E=a-T,E&&(l[u++]=E),v=k+w,g=v-k,b=v-g,_=w-g,x=k-b,C=x+_,k=v;for(;c<n;)i=h,a=C,w=i+a,T=w-i,E=a-T,E&&(l[u++]=E),v=k+w,g=v-k,b=v-g,_=w-g,x=k-b,C=x+_,k=v,c+=1,c<n&&(h=t[c]);for(;f<o;)i=m,a=C,w=i+a,T=w-i,E=a-T,E&&(l[u++]=E),v=k+w,g=v-k,b=v-g,_=w-g,x=k-b,C=x+_,k=v,f+=1,f<o&&(m=-e[f]);return C&&(l[u++]=C),k&&(l[u++]=k),u||(l[u++]=0),l.length=u,l}e.exports=o},{}],494:[function(t,e,n){"use strict";function r(t,e){var n=t+e,r=n-t,o=n-r,i=e-r,a=t-o,s=a+i;return s?[s,n]:[n]}function o(t,e){var n=0|t.length,o=0|e.length;if(1===n&&1===o)return r(t[0],e[0]);var i,a,s=n+o,l=new Array(s),u=0,c=0,f=0,p=Math.abs,h=t[c],d=p(h),m=e[f],y=p(m);d<y?(a=h,c+=1,c<n&&(h=t[c],d=p(h))):(a=m,f+=1,f<o&&(m=e[f],y=p(m))),c<n&&d<y||f>=o?(i=h,c+=1,c<n&&(h=t[c],d=p(h))):(i=m,f+=1,f<o&&(m=e[f],y=p(m)));for(var v,g,b,_,x,w=i+a,T=w-i,E=a-T,C=E,k=w;c<n&&f<o;)d<y?(i=h,c+=1,c<n&&(h=t[c],d=p(h))):(i=m,f+=1,f<o&&(m=e[f],y=p(m))),a=C,w=i+a,T=w-i,E=a-T,E&&(l[u++]=E),v=k+w,g=v-k,b=v-g,_=w-g,x=k-b,C=x+_,k=v;for(;c<n;)i=h,a=C,w=i+a,T=w-i,E=a-T,E&&(l[u++]=E),v=k+w,g=v-k,b=v-g,_=w-g,x=k-b,C=x+_,k=v,c+=1,c<n&&(h=t[c]);for(;f<o;)i=m,a=C,w=i+a,T=w-i,E=a-T,E&&(l[u++]=E),v=k+w,g=v-k,b=v-g,_=w-g,x=k-b,C=x+_,k=v,f+=1,f<o&&(m=e[f]);return C&&(l[u++]=C),k&&(l[u++]=k),u||(l[u++]=0),l.length=u,l}e.exports=o},{}],495:[function(t,e,n){"use strict";function r(t){return t.split("").map(function(t){return t in o?o[t]:""}).join("")}e.exports=r;var o={" ":" ",0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"","+":"","-":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:""}},{}],496:[function(t,e,n){"use strict";function r(t){return"a"+t}function o(t){return"d"+t}function i(t,e){return"c"+t+"_"+e}function a(t){return"s"+t}function s(t,e){return"t"+t+"_"+e}function l(t){return"o"+t}function u(t){return"x"+t}function c(t){return"p"+t}function f(t,e){return"d"+t+"_"+e}function p(t){return"i"+t}function h(t,e){return"u"+t+"_"+e}function d(t){return"b"+t}function m(t){return"y"+t}function y(t){return"e"+t}function v(t){return"v"+t}function g(t,e,n){for(var r=0,o=0;o<t;++o)e&1<<o&&(r|=1<<n[o]);return r}function b(t,e,n,b,_,P){function M(t,e){N.push("for(",p(_[t]),"=",e,";",p(_[t]),"<",a(_[t]),";","++",p(_[t]),"){")}function A(t){for(var e=0;e<j;++e)N.push(c(e),"+=",h(e,_[t]),";");N.push("}")}function O(t){for(var e=t-1;e>=0;--e)M(e,0);for(var n=[],e=0;e<j;++e)P[e]?n.push(o(e)+".get("+c(e)+")"):n.push(o(e)+"["+c(e)+"]");for(var e=0;e<b;++e)n.push(u(e));N.push(T,"[",k,"++]=phase(",n.join(),");");for(var e=0;e<t;++e)A(e);for(var r=0;r<j;++r)N.push(c(r),"+=",h(r,_[t]),";")}function D(t){for(var e=0;e<j;++e)P[e]?N.push(i(e,0),"=",o(e),".get(",c(e),");"):N.push(i(e,0),"=",o(e),"[",c(e),"];");for(var n=[],e=0;e<j;++e)n.push(i(e,0));for(var e=0;e<b;++e)n.push(u(e));N.push(d(0),"=",T,"[",k,"]=phase(",n.join(),");");for(var r=1;r<1<<F;++r)N.push(d(r),"=",T,"[",k,"+",y(r),"];");for(var a=[],r=1;r<1<<F;++r)a.push("("+d(0)+"!=="+d(r)+")");N.push("if(",a.join("||"),"){");for(var s=[],e=0;e<F;++e)s.push(p(e));for(var e=0;e<j;++e){s.push(i(e,0));for(var r=1;r<1<<F;++r)P[e]?N.push(i(e,r),"=",o(e),".get(",c(e),"+",f(e,r),");"):N.push(i(e,r),"=",o(e),"[",c(e),"+",f(e,r),"];"),s.push(i(e,r))}for(var e=0;e<1<<F;++e)s.push(d(e));for(var e=0;e<b;++e)s.push(u(e));N.push("vertex(",s.join(),");",v(0),"=",w,"[",k,"]=",E,"++;");for(var l=(1<<F)-1,h=d(l),r=0;r<F;++r)if(0===(t&~(1<<r))){for(var m=l^1<<r,g=d(m),_=[],x=m;x>0;x=x-1&m)_.push(w+"["+k+"+"+y(x)+"]");_.push(v(0));for(var x=0;x<j;++x)1&r?_.push(i(x,l),i(x,m)):_.push(i(x,m),i(x,l));1&r?_.push(h,g):_.push(g,h);for(var x=0;x<b;++x)_.push(u(x));N.push("if(",h,"!==",g,"){","face(",_.join(),")}")}N.push("}",k,"+=1;")}function L(){for(var t=1;t<1<<F;++t)N.push(S,"=",y(t),";",y(t),"=",m(t),";",m(t),"=",S,";")}function I(t,e){if(t<0)return void D(e);O(t),N.push("if(",a(_[t]),">0){",p(_[t]),"=1;"),I(t-1,e|1<<_[t]);for(var n=0;n<j;++n)N.push(c(n),"+=",h(n,_[t]),";");t===F-1&&(N.push(k,"=0;"),L()),M(t,2),I(t-1,e),t===F-1&&(N.push("if(",p(_[F-1]),"&1){",k,"=0;}"),L()),A(t),N.push("}")}var j=P.length,F=_.length;if(F<2)throw new Error("ndarray-extract-contour: Dimension must be at least 2");for(var R="extractContour"+_.join("_"),N=[],z=[],B=[],U=0;U<j;++U)B.push(r(U));for(var U=0;U<b;++U)B.push(u(U));for(var U=0;U<F;++U)z.push(a(U)+"="+r(0)+".shape["+U+"]|0");for(var U=0;U<j;++U){z.push(o(U)+"="+r(U)+".data",l(U)+"="+r(U)+".offset|0");for(var W=0;W<F;++W)z.push(s(U,W)+"="+r(U)+".stride["+W+"]|0")}for(var U=0;U<j;++U){z.push(c(U)+"="+l(U)),z.push(i(U,0));for(var W=1;W<1<<F;++W){for(var q=[],V=0;V<F;++V)W&1<<V&&q.push("-"+s(U,V));z.push(f(U,W)+"=("+q.join("")+")|0"),z.push(i(U,W)+"=0")}}for(var U=0;U<j;++U)for(var W=0;W<F;++W){var H=[s(U,_[W])];W>0&&H.push(s(U,_[W-1])+"*"+a(_[W-1])),z.push(h(U,_[W])+"=("+H.join("-")+")|0")}for(var U=0;U<F;++U)z.push(p(U)+"=0");z.push(E+"=0");for(var G=["2"],U=F-2;U>=0;--U)G.push(a(_[U]));z.push(C+"=("+G.join("*")+")|0",T+"=mallocUint32("+C+")",w+"=mallocUint32("+C+")",k+"=0"),z.push(d(0)+"=0");for(var W=1;W<1<<F;++W){for(var Y=[],Z=[],V=0;V<F;++V)W&1<<V&&(0===Z.length?Y.push("1"):Y.unshift(Z.join("*"))),Z.push(a(_[V]));var X="";Y[0].indexOf(a(_[F-2]))<0&&(X="-");var K=g(F,W,_);z.push(y(K)+"=(-"+Y.join("-")+")|0",m(K)+"=("+X+Y.join("-")+")|0",d(K)+"=0")}z.push(v(0)+"=0",S+"=0"),I(F-1,0),N.push("freeUint32(",w,");freeUint32(",T,");");var Q=["'use strict';","function ",R,"(",B.join(),"){","var ",z.join(),";",N.join(""),"}","return ",R].join(""),J=new Function("vertex","face","phase","mallocUint32","freeUint32",Q);
return J(t,e,n,x.mallocUint32,x.freeUint32)}function _(t){function e(t){throw new Error("ndarray-extract-contour: "+t)}"object"!=typeof t&&e("Must specify arguments");var n=t.order;Array.isArray(n)||e("Must specify order");var r=t.arrayArguments||1;r<1&&e("Must have at least one array argument");var o=t.scalarArguments||0;o<0&&e("Scalar arg count must be > 0"),"function"!=typeof t.vertex&&e("Must specify vertex creation function"),"function"!=typeof t.cell&&e("Must specify cell creation function"),"function"!=typeof t.phase&&e("Must specify phase function");for(var i=t.getters||[],a=new Array(r),s=0;s<r;++s)i.indexOf(s)>=0?a[s]=!0:a[s]=!1;return b(t.vertex,t.cell,t.phase,o,n,a)}var x=t("typedarray-pool");e.exports=_;var w="V",T="P",E="N",C="Q",k="X",S="T"},{"typedarray-pool":510}],497:[function(t,e,n){function r(t){if(t<0)return Number("0/0");for(var e=s[0],n=s.length-1;n>0;--n)e+=s[n]/(t+n);var r=t+a+.5;return.5*Math.log(2*Math.PI)+(t+.5)*Math.log(r)-r+Math.log(e)-Math.log(t)}var o=7,i=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],a=607/128,s=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];e.exports=function l(t){if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*l(1-t));if(t>100)return Math.exp(r(t));t-=1;for(var e=i[0],n=1;n<o+2;n++)e+=i[n]/(t+n);var a=t+o+.5;return Math.sqrt(2*Math.PI)*Math.pow(a,t+.5)*Math.exp(-a)*e},e.exports.log=r},{}],498:[function(t,e,n){"use strict";function r(t){var e=t.length;if(e<o){for(var n=1,r=0;r<e;++r)for(var a=0;a<r;++a)if(t[r]<t[a])n=-n;else if(t[r]===t[a])return 0;return n}for(var s=i.mallocUint8(e),r=0;r<e;++r)s[r]=0;for(var n=1,r=0;r<e;++r)if(!s[r]){var l=1;s[r]=1;for(var a=t[r];a!==r;a=t[a]){if(s[a])return i.freeUint8(s),0;l+=1,s[a]=1}1&l||(n=-n)}return i.freeUint8(s),n}e.exports=r;var o=32,i=t("typedarray-pool")},{"typedarray-pool":510}],499:[function(t,e,n){"use strict";function r(t){var e=t.length;switch(e){case 0:case 1:return 0;case 2:return t[1]}var n,r,o,s=i.mallocUint32(e),l=i.mallocUint32(e),u=0;for(a(t,l),o=0;o<e;++o)s[o]=t[o];for(o=e-1;o>0;--o)r=l[o],n=s[o],s[o]=s[r],s[r]=n,l[o]=l[n],l[n]=r,u=(u+n)*o;return i.freeUint32(l),i.freeUint32(s),u}function o(t,e,n){switch(t){case 0:return n?n:[];case 1:return n?(n[0]=0,n):[0];case 2:return n?(e?(n[0]=0,n[1]=1):(n[0]=1,n[1]=0),n):e?[0,1]:[1,0]}n=n||new Array(t);var r,o,i,a=1;for(n[0]=0,i=1;i<t;++i)n[i]=i,a=a*i|0;for(i=t-1;i>0;--i)r=e/a|0,e=e-r*a|0,a=a/i|0,o=0|n[i],n[i]=0|n[r],n[r]=0|o;return n}var i=t("typedarray-pool"),a=t("invert-permutation");n.rank=r,n.unrank=o},{"invert-permutation":500,"typedarray-pool":510}],500:[function(t,e,n){"use strict";function r(t,e){e=e||new Array(t.length);for(var n=0;n<t.length;++n)e[t[n]]=n;return e}e.exports=r},{}],501:[function(t,e,n){"use strict";function r(t){if(t<0)return[];if(0===t)return[[0]];for(var e=0|Math.round(a(t+1)),n=[],r=0;r<e;++r){for(var s=o.unrank(t,r),l=[0],u=0,c=0;c<s.length;++c)u+=1<<s[c],l.push(u);i(s)<1&&(l[0]=u,l[t]=0),n.push(l)}return n}e.exports=r;var o=t("permutation-rank"),i=t("permutation-parity"),a=t("gamma")},{gamma:497,"permutation-parity":498,"permutation-rank":499}],502:[function(t,e,n){e.exports=t("cwise-compiler")({args:["array",{offset:[1],array:0},"scalar","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\n        var _inline_1_da = _inline_1_arg0_ - _inline_1_arg3_\n        var _inline_1_db = _inline_1_arg1_ - _inline_1_arg3_\n        if((_inline_1_da >= 0) !== (_inline_1_db >= 0)) {\n          _inline_1_arg2_.push(_inline_1_arg4_[0] + 0.5 + 0.5 * (_inline_1_da + _inline_1_db) / (_inline_1_da - _inline_1_db))\n        }\n      }",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg3_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:["_inline_1_da","_inline_1_db"]},funcName:"zeroCrossings"})},{"cwise-compiler":121}],503:[function(t,e,n){"use strict";function r(t,e){var n=[];return e=+e||0,o(t.hi(t.shape[0]-1),n,e),n}e.exports=r;var o=t("./lib/zc-core")},{"./lib/zc-core":502}],504:[function(t,e,n){"use strict";function r(t,e){var n=t.length,r=["'use strict';"],o="surfaceNets"+t.join("_")+"d"+e;r.push("var contour=genContour({","order:[",t.join(),"],","scalarArguments: 3,","phase:function phaseFunc(p,a,b,c) { return (p > c)|0 },"),"generic"===e&&r.push("getters:[0],");for(var i=[],l=[],u=0;u<n;++u)i.push("d"+u),l.push("d"+u);for(var u=0;u<1<<n;++u)i.push("v"+u),l.push("v"+u);for(var u=0;u<1<<n;++u)i.push("p"+u),l.push("p"+u);i.push("a","b","c"),l.push("a","c"),r.push("vertex:function vertexFunc(",i.join(),"){");for(var c=[],u=0;u<1<<n;++u)c.push("(p"+u+"<<"+u+")");r.push("var m=(",c.join("+"),")|0;if(m===0||m===",(1<<(1<<n))-1,"){return}");var f=[],p=[];1<<(1<<n)<=128?(r.push("switch(m){"),p=r):r.push("switch(m>>>7){");for(var u=0;u<1<<(1<<n);++u){if(1<<(1<<n)>128&&u%128===0){f.length>0&&p.push("}}");var h="vExtra"+f.length;r.push("case ",u>>>7,":",h,"(m&0x7f,",l.join(),");break;"),p=["function ",h,"(m,",l.join(),"){switch(m){"],f.push(p)}p.push("case ",127&u,":");for(var d=new Array(n),m=new Array(n),y=new Array(n),v=new Array(n),g=0,b=0;b<n;++b)d[b]=[],m[b]=[],y[b]=0,v[b]=0;for(var b=0;b<1<<n;++b)for(var _=0;_<n;++_){var x=b^1<<_;if(!(x>b)&&!(u&1<<x)!=!(u&1<<b)){var w=1;u&1<<x?m[_].push("v"+x+"-v"+b):(m[_].push("v"+b+"-v"+x),w=-w),w<0?(d[_].push("-v"+b+"-v"+x),y[_]+=2):(d[_].push("v"+b+"+v"+x),y[_]-=2),g+=1;for(var T=0;T<n;++T)T!==_&&(x&1<<T?v[T]+=1:v[T]-=1)}}for(var E=[],_=0;_<n;++_)if(0===d[_].length)E.push("d"+_+"-0.5");else{var C="";y[_]<0?C=y[_]+"*c":y[_]>0&&(C="+"+y[_]+"*c");var k=.5*(d[_].length/g),S=.5+.5*(v[_]/g);E.push("d"+_+"-"+S+"-"+k+"*("+d[_].join("+")+C+")/("+m[_].join("+")+")")}p.push("a.push([",E.join(),"]);","break;")}r.push("}},"),f.length>0&&p.push("}}");for(var P=[],u=0;u<1<<n-1;++u)P.push("v"+u);P.push("c0","c1","p0","p1","a","b","c"),r.push("cell:function cellFunc(",P.join(),"){");var M=s(n-1);r.push("if(p0){b.push(",M.map(function(t){return"["+t.map(function(t){return"v"+t})+"]"}).join(),")}else{b.push(",M.map(function(t){var e=t.slice();return e.reverse(),"["+e.map(function(t){return"v"+t})+"]"}).join(),")}}});function ",o,"(array,level){var verts=[],cells=[];contour(array,verts,cells,level);return {positions:verts,cells:cells};} return ",o,";");for(var u=0;u<f.length;++u)r.push(f[u].join(""));var A=new Function("genContour",r.join(""));return A(a)}function o(t,e){for(var n=l(t,e),r=n.length,o=new Array(r),i=new Array(r),a=0;a<r;++a)o[a]=[n[a]],i[a]=[a];return{positions:o,cells:i}}function i(t,e){if(t.dimension<=0)return{positions:[],cells:[]};if(1===t.dimension)return o(t,e);var n=t.order.join()+"-"+t.dtype,i=u[n],e=+e||0;return i||(i=u[n]=r(t.order,t.dtype)),i(t,e)}e.exports=i;var a=t("ndarray-extract-contour"),s=t("triangulate-hypercube"),l=t("zero-crossings"),u={}},{"ndarray-extract-contour":496,"triangulate-hypercube":501,"zero-crossings":503}],505:[function(t,e,n){(function(n){"use strict";function r(t){for(var e=t.cells,n=t.positions,r=new Float32Array(6*e.length),o=0,i=0,a=0;a<e.length;++a)for(var s=e[a],l=0;l<3;++l){var u=n[s[l]];r[o++]=u[0],r[o++]=u[1]+1.4,i=Math.max(u[0],i)}return{data:r,shape:i}}function o(t,e){var n=s[t];n||(n=s[t]={" ":{data:new Float32Array(0),shape:.2}});var a=n[e];if(!a)if(e.length<=1||!/\d/.test(e))a=n[e]=r(i(e,{triangles:!0,font:t,textAlign:"left",textBaseline:"alphabetic"}));else{for(var l=e.split(/(\d|\s)/),u=new Array(l.length),c=0,f=0,p=0;p<l.length;++p)u[p]=o(t,l[p]),c+=u[p].data.length,f+=u[p].shape,p>0&&(f+=.02);for(var h=new Float32Array(c),d=0,m=-.5*f,p=0;p<u.length;++p){for(var y=u[p].data,v=0;v<y.length;v+=2)h[d++]=y[v]+m,h[d++]=y[v+1];m+=u[p].shape+.02}a=n[e]={data:h,shape:f}}return a}e.exports=o;var i=t("vectorize-text"),a=window||n.global||{},s=a.__TEXT_CACHE||{};a.__TEXT_CACHE={}}).call(this,t("_process"))},{_process:60,"vectorize-text":512}],506:[function(e,n,r){!function(){function e(t,n){if(t=t?t:"",n=n||{},t instanceof e)return t;if(!(this instanceof e))return new e(t,n);var o=r(t);this._originalInput=t,this._r=o.r,this._g=o.g,this._b=o.b,this._a=o.a,this._roundA=U(100*this._a)/100,this._format=n.format||o.format,this._gradientType=n.gradientType,this._r<1&&(this._r=U(this._r)),this._g<1&&(this._g=U(this._g)),this._b<1&&(this._b=U(this._b)),this._ok=o.ok,this._tc_id=z++}function r(t){var e={r:0,g:0,b:0},n=1,r=!1,i=!1;return"string"==typeof t&&(t=j(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(e=o(t.r,t.g,t.b),r=!0,i="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=D(t.s),t.v=D(t.v),e=l(t.h,t.s,t.v),r=!0,i="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=D(t.s),t.l=D(t.l),e=a(t.h,t.s,t.l),r=!0,i="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=C(n),{ok:r,format:t.format||i,r:W(255,q(e.r,0)),g:W(255,q(e.g,0)),b:W(255,q(e.b,0)),a:n}}function o(t,e,n){return{r:255*k(t,255),g:255*k(e,255),b:255*k(n,255)}}function i(t,e,n){t=k(t,255),e=k(e,255),n=k(n,255);var r,o,i=q(t,e,n),a=W(t,e,n),s=(i+a)/2;if(i==a)r=o=0;else{var l=i-a;switch(o=s>.5?l/(2-i-a):l/(i+a),i){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:o,l:s}}function a(t,e,n){function r(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var o,i,a;if(t=k(t,360),e=k(e,100),n=k(n,100),0===e)o=i=a=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;o=r(l,s,t+1/3),i=r(l,s,t),a=r(l,s,t-1/3)}return{r:255*o,g:255*i,b:255*a}}function s(t,e,n){t=k(t,255),e=k(e,255),n=k(n,255);var r,o,i=q(t,e,n),a=W(t,e,n),s=i,l=i-a;if(o=0===i?0:l/i,i==a)r=0;else{switch(i){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:o,v:s}}function l(t,e,n){t=6*k(t,360),e=k(e,100),n=k(n,100);var r=B.floor(t),o=t-r,i=n*(1-e),a=n*(1-o*e),s=n*(1-(1-o)*e),l=r%6,u=[n,a,i,i,s,n][l],c=[s,n,n,a,i,i][l],f=[i,i,s,n,n,a][l];return{r:255*u,g:255*c,b:255*f}}function u(t,e,n,r){var o=[O(U(t).toString(16)),O(U(e).toString(16)),O(U(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function c(t,e,n,r){var o=[O(L(r)),O(U(t).toString(16)),O(U(e).toString(16)),O(U(n).toString(16))];return o.join("")}function f(t,n){n=0===n?0:n||10;var r=e(t).toHsl();return r.s-=n/100,r.s=S(r.s),e(r)}function p(t,n){n=0===n?0:n||10;var r=e(t).toHsl();return r.s+=n/100,r.s=S(r.s),e(r)}function h(t){return e(t).desaturate(100)}function d(t,n){n=0===n?0:n||10;var r=e(t).toHsl();return r.l+=n/100,r.l=S(r.l),e(r)}function m(t,n){n=0===n?0:n||10;var r=e(t).toRgb();return r.r=q(0,W(255,r.r-U(255*-(n/100)))),r.g=q(0,W(255,r.g-U(255*-(n/100)))),r.b=q(0,W(255,r.b-U(255*-(n/100)))),e(r)}function y(t,n){n=0===n?0:n||10;var r=e(t).toHsl();return r.l-=n/100,r.l=S(r.l),e(r)}function v(t,n){var r=e(t).toHsl(),o=(U(r.h)+n)%360;return r.h=o<0?360+o:o,e(r)}function g(t){var n=e(t).toHsl();return n.h=(n.h+180)%360,e(n)}function b(t){var n=e(t).toHsl(),r=n.h;return[e(t),e({h:(r+120)%360,s:n.s,l:n.l}),e({h:(r+240)%360,s:n.s,l:n.l})]}function _(t){var n=e(t).toHsl(),r=n.h;return[e(t),e({h:(r+90)%360,s:n.s,l:n.l}),e({h:(r+180)%360,s:n.s,l:n.l}),e({h:(r+270)%360,s:n.s,l:n.l})]}function x(t){var n=e(t).toHsl(),r=n.h;return[e(t),e({h:(r+72)%360,s:n.s,l:n.l}),e({h:(r+216)%360,s:n.s,l:n.l})]}function w(t,n,r){n=n||6,r=r||30;var o=e(t).toHsl(),i=360/r,a=[e(t)];for(o.h=(o.h-(i*n>>1)+720)%360;--n;)o.h=(o.h+i)%360,a.push(e(o));return a}function T(t,n){n=n||6;for(var r=e(t).toHsv(),o=r.h,i=r.s,a=r.v,s=[],l=1/n;n--;)s.push(e({h:o,s:i,v:a})),a=(a+l)%1;return s}function E(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function C(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function k(t,e){M(t)&&(t="100%");var n=A(t);return t=W(e,q(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),B.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function S(t){return W(1,q(0,t))}function P(t){return parseInt(t,16)}function M(t){return"string"==typeof t&&t.indexOf(".")!=-1&&1===parseFloat(t)}function A(t){return"string"==typeof t&&t.indexOf("%")!=-1}function O(t){return 1==t.length?"0"+t:""+t}function D(t){return t<=1&&(t=100*t+"%"),t}function L(t){return Math.round(255*parseFloat(t)).toString(16)}function I(t){return P(t)/255}function j(t){t=t.replace(R,"").replace(N,"").toLowerCase();var e=!1;if(H[t])t=H[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Y.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Y.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Y.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Y.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Y.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Y.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Y.hex8.exec(t))?{a:I(n[1]),r:P(n[2]),g:P(n[3]),b:P(n[4]),format:e?"name":"hex8"}:(n=Y.hex6.exec(t))?{r:P(n[1]),g:P(n[2]),b:P(n[3]),format:e?"name":"hex"}:!!(n=Y.hex3.exec(t))&&{r:P(n[1]+""+n[1]),g:P(n[2]+""+n[2]),b:P(n[3]+""+n[3]),format:e?"name":"hex"}}function F(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}var R=/^\s+/,N=/\s+$/,z=0,B=Math,U=B.round,W=B.min,q=B.max,V=B.random;e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r,o,i,a=this.toRgb();return t=a.r/255,e=a.g/255,n=a.b/255,r=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),o=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),i=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),.2126*r+.7152*o+.0722*i},setAlpha:function(t){return this._a=C(t),this._roundA=U(100*this._a)/100,this},toHsv:function(){var t=s(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=s(this._r,this._g,this._b),e=U(360*t.h),n=U(100*t.s),r=U(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=i(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=i(this._r,this._g,this._b),e=U(360*t.h),n=U(100*t.s),r=U(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return u(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return c(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:U(this._r),g:U(this._g),b:U(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+U(this._r)+", "+U(this._g)+", "+U(this._b)+")":"rgba("+U(this._r)+", "+U(this._g)+", "+U(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:U(100*k(this._r,255))+"%",g:U(100*k(this._g,255))+"%",b:U(100*k(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+U(100*k(this._r,255))+"%, "+U(100*k(this._g,255))+"%, "+U(100*k(this._b,255))+"%)":"rgba("+U(100*k(this._r,255))+"%, "+U(100*k(this._g,255))+"%, "+U(100*k(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(G[u(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var n="#"+c(this._r,this._g,this._b,this._a),r=n,o=this._gradientType?"GradientType = 1, ":"";if(t){var i=e(t);r=i.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0,o=!e&&r&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t);return o?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return e(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(d,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(h,arguments)},spin:function(){return this._applyModification(v,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(w,arguments)},complement:function(){return this._applyCombination(g,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(x,arguments)},triad:function(){return this._applyCombination(b,arguments)},tetrad:function(){return this._applyCombination(_,arguments)}},e.fromRatio=function(t,n){if("object"==typeof t){var r={};for(var o in t)t.hasOwnProperty(o)&&("a"===o?r[o]=t[o]:r[o]=D(t[o]));t=r}return e(t,n)},e.equals=function(t,n){return!(!t||!n)&&e(t).toRgbString()==e(n).toRgbString()},e.random=function(){return e.fromRatio({r:V(),g:V(),b:V()})},e.mix=function(t,n,r){r=0===r?0:r||50;var o,i=e(t).toRgb(),a=e(n).toRgb(),s=r/100,l=2*s-1,u=a.a-i.a;o=l*u==-1?l:(l+u)/(1+l*u),o=(o+1)/2;var c=1-o,f={r:a.r*o+i.r*c,g:a.g*o+i.g*c,b:a.b*o+i.b*c,a:a.a*s+i.a*(1-s)};return e(f)},e.readability=function(t,n){var r=e(t),o=e(n);return(Math.max(r.getLuminance(),o.getLuminance())+.05)/(Math.min(r.getLuminance(),o.getLuminance())+.05)},e.isReadable=function(t,n,r){var o,i,a=e.readability(t,n);switch(i=!1,o=F(r),o.level+o.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},e.mostReadable=function(t,n,r){var o,i,a,s,l=null,u=0;r=r||{},i=r.includeFallbackColors,a=r.level,s=r.size;for(var c=0;c<n.length;c++)o=e.readability(t,n[c]),o>u&&(u=o,l=e(n[c]));return e.isReadable(t,l,{level:a,size:s})||!i?l:(r.includeFallbackColors=!1,e.mostReadable(t,["#fff","#000"],r))};var H=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},G=e.hexNames=E(H),Y=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof n&&n.exports?n.exports=e:"function"==typeof t&&t.amd?t(function(){return e}):window.tinycolor=e}()},{}],507:[function(e,n,r){!function(e,o){"object"==typeof r&&"undefined"!=typeof n?o(r):"function"==typeof t&&t.amd?t(["exports"],o):o(e.topojson={})}(this,function(t){"use strict";function e(){}function n(t){if(!t)return e;var n,r,o=t.scale[0],i=t.scale[1],a=t.translate[0],s=t.translate[1];return function(t,e){e||(n=r=0),t[0]=(n+=t[0])*o+a,t[1]=(r+=t[1])*i+s}}function r(t){if(!t)return e;var n,r,o=t.scale[0],i=t.scale[1],a=t.translate[0],s=t.translate[1];return function(t,e){e||(n=r=0);var l=(t[0]-a)/o|0,u=(t[1]-s)/i|0;t[0]=l-n,t[1]=u-r,n=l,r=u}}function o(t,e){for(var n,r=t.length,o=r-e;o<--r;)n=t[o],t[o++]=t[r],t[r]=n}function i(t,e){for(var n=0,r=t.length;n<r;){var o=n+r>>>1;t[o]<e?n=o+1:r=o}return n}function a(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return s(t,e)})}:s(t,e)}function s(t,e){var n={type:"Feature",id:e.id,properties:e.properties||{},geometry:l(t,e)};return null==e.id&&delete n.id,n}function l(t,e){function r(t,e){e.length&&e.pop();for(var n,r=f[t<0?~t:t],i=0,a=r.length;i<a;++i)e.push(n=r[i].slice()),c(n,i);t<0&&o(e,a)}function i(t){return t=t.slice(),c(t,0),t}function a(t){for(var e=[],n=0,o=t.length;n<o;++n)r(t[n],e);return e.length<2&&e.push(e[0].slice()),e}function s(t){for(var e=a(t);e.length<4;)e.push(e[0].slice());return e}function l(t){return t.map(s)}function u(t){var e=t.type;return"GeometryCollection"===e?{type:e,geometries:t.geometries.map(u)}:e in p?{type:e,coordinates:p[e](t)}:null}var c=n(t.transform),f=t.arcs,p={Point:function(t){return i(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(i)},LineString:function(t){return a(t.arcs)},MultiLineString:function(t){return t.arcs.map(a)},Polygon:function(t){return l(t.arcs)},MultiPolygon:function(t){return t.arcs.map(l)}};return u(e)}function u(t,e){function n(e){var n,r=t.arcs[e<0?~e:e],o=r[0];return t.transform?(n=[0,0],r.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=r[r.length-1],e<0?[n,o]:[o,n]}function r(t,e){for(var n in t){var r=t[n];delete e[r.start],delete r.start,delete r.end,r.forEach(function(t){o[t<0?~t:t]=1}),s.push(r)}}var o={},i={},a={},s=[],l=-1;return e.forEach(function(n,r){var o,i=t.arcs[n<0?~n:n];i.length<3&&!i[1][0]&&!i[1][1]&&(o=e[++l],e[l]=n,e[r]=o)}),e.forEach(function(t){var e,r,o=n(t),s=o[0],l=o[1];if(e=a[s])if(delete a[e.end],e.push(t),e.end=l,r=i[l]){delete i[r.start];var u=r===e?e:e.concat(r);i[u.start=e.start]=a[u.end=r.end]=u}else i[e.start]=a[e.end]=e;else if(e=i[l])if(delete i[e.start],e.unshift(t),e.start=s,r=a[s]){delete a[r.end];var c=r===e?e:r.concat(e);i[c.start=r.start]=a[c.end=e.end]=c}else i[e.start]=a[e.end]=e;else e=[t],i[e.start=s]=a[e.end=l]=e}),r(a,i),r(i,a),e.forEach(function(t){o[t<0?~t:t]||s.push([t])}),s}function c(t){return l(t,f.apply(this,arguments))}function f(t,e,n){function r(t){var e=t<0?~t:t;(c[e]||(c[e]=[])).push({i:t,g:l})}function o(t){t.forEach(r)}function i(t){t.forEach(o)}function a(t){"GeometryCollection"===t.type?t.geometries.forEach(a):t.type in f&&(l=t,f[t.type](t.arcs))}var s=[];if(arguments.length>1){var l,c=[],f={LineString:o,MultiLineString:i,Polygon:i,MultiPolygon:function(t){t.forEach(i)}};a(e),c.forEach(arguments.length<3?function(t){s.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&s.push(t[0].i)})}else for(var p=0,h=t.arcs.length;p<h;++p)s.push(p);return{type:"MultiLineString",arcs:u(t,s)}}function p(t){var e=t[0],n=t[1],r=t[2];return Math.abs((e[0]-r[0])*(n[1]-e[1])-(e[0]-n[0])*(r[1]-e[1]))}function h(t){for(var e,n=-1,r=t.length,o=t[r-1],i=0;++n<r;)e=o,o=t[n],i+=e[0]*o[1]-e[1]*o[0];return i/2}function d(t){return l(t,m.apply(this,arguments))}function m(t,e){function n(t){t.forEach(function(e){e.forEach(function(e){(o[e=e<0?~e:e]||(o[e]=[])).push(t)})}),i.push(t)}function r(e){return h(l(t,{type:"Polygon",arcs:[e]}).coordinates[0])>0}var o={},i=[],a=[];return e.forEach(function(t){"Polygon"===t.type?n(t.arcs):"MultiPolygon"===t.type&&t.arcs.forEach(n)}),i.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,a.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){o[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),i.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:a.map(function(e){var n,i=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){o[t<0?~t:t].length<2&&i.push(t)})})}),i=u(t,i),(n=i.length)>1)for(var a,s=r(e[0][0]),l=0;l<n;++l)if(s===r(i[l])){a=i[0],i[0]=i[l],i[l]=a;break}return i})}}function y(t){function e(t,e){t.forEach(function(t){t<0&&(t=~t);var n=o[t];n?n.push(e):o[t]=[e]})}function n(t,n){t.forEach(function(t){e(t,n)})}function r(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){r(t,e)}):t.type in s&&s[t.type](t.arcs,e)}var o={},a=t.map(function(){return[]}),s={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach(function(t){n(t,e)})}};t.forEach(r);for(var l in o)for(var u=o[l],c=u.length,f=0;f<c;++f)for(var p=f+1;p<c;++p){var h,d=u[f],m=u[p];(h=a[d])[l=i(h,m)]!==m&&h.splice(l,0,m),(h=a[m])[l=i(h,d)]!==d&&h.splice(l,0,d)}return a}function v(t,e){return t[1][2]-e[1][2]}function g(){function t(t,e){for(;e>0;){var n=(e+1>>1)-1,o=r[n];if(v(t,o)>=0)break;r[o._=e]=o,r[t._=e=n]=t}}function e(t,e){for(;;){var n=e+1<<1,i=n-1,a=e,s=r[a];if(i<o&&v(r[i],s)<0&&(s=r[a=i]),n<o&&v(r[n],s)<0&&(s=r[a=n]),a===e)break;r[s._=e]=s,r[t._=e=a]=t}}var n={},r=[],o=0;return n.push=function(e){return t(r[e._=o]=e,o++),o},n.pop=function(){if(!(o<=0)){var t,n=r[0];return--o>0&&(t=r[o],e(r[t._=0]=t,0)),n}},n.remove=function(n){var i,a=n._;if(r[a]===n)return a!==--o&&(i=r[o],(v(i,n)<0?t:e)(r[i._=a]=i,a)),a},n}function b(t,e){function o(t){s.remove(t),t[1][2]=e(t),s.push(t)}var i=n(t.transform),a=r(t.transform),s=g();return e||(e=p),t.arcs.forEach(function(t){var n,r,l,u,c=[],f=0;for(r=0,l=t.length;r<l;++r)u=t[r],i(t[r]=[u[0],u[1],1/0],r);for(r=1,l=t.length-1;r<l;++r)n=t.slice(r-1,r+2),n[1][2]=e(n),c.push(n),s.push(n);for(r=0,l=c.length;r<l;++r)n=c[r],n.previous=c[r-1],n.next=c[r+1];for(;n=s.pop();){var p=n.previous,h=n.next;n[1][2]<f?n[1][2]=f:f=n[1][2],p&&(p.next=h,p[2]=n[2],o(p)),h&&(h.previous=p,h[0]=n[0],o(h))}t.forEach(a)}),t}var _="1.6.24";t.version=_,t.mesh=c,t.meshArcs=f,t.merge=d,t.mergeArcs=m,t.feature=a,t.neighbors=y,t.presimplify=b})},{}],508:[function(t,e,n){"use strict";function r(t,e,n){var r=t*e,i=o*t,a=i-t,s=i-a,l=t-s,u=o*e,c=u-e,f=u-c,p=e-f,h=r-s*f,d=h-l*f,m=d-s*p,y=l*p-m;return n?(n[0]=y,n[1]=r,n):[y,r]}e.exports=r;var o=+(Math.pow(2,27)+1)},{}],509:[function(t,e,n){"use strict";function r(t,e,n){var r=t+e,o=r-t,i=r-o,a=e-o,s=t-i;return n?(n[0]=s+a,n[1]=r,n):[s+a,r]}e.exports=r},{}],510:[function(t,e,n){(function(e,r){"use strict";function o(t){if(t){var e=t.length||t.byteLength,n=g.log2(e);w[n].push(t)}}function i(t){o(t.buffer)}function a(t){var t=g.nextPow2(t),e=g.log2(t),n=w[e];return n.length>0?n.pop():new ArrayBuffer(t)}function s(t){return new Uint8Array(a(t),0,t)}function l(t){return new Uint16Array(a(2*t),0,t)}function u(t){return new Uint32Array(a(4*t),0,t)}function c(t){return new Int8Array(a(t),0,t)}function f(t){return new Int16Array(a(2*t),0,t)}function p(t){return new Int32Array(a(4*t),0,t)}function h(t){return new Float32Array(a(4*t),0,t)}function d(t){return new Float64Array(a(8*t),0,t)}function m(t){return _?new Uint8ClampedArray(a(t),0,t):s(t)}function y(t){return new DataView(a(t),0,t)}function v(t){t=g.nextPow2(t);var e=g.log2(t),n=T[e];return n.length>0?n.pop():new r(t)}var g=t("bit-twiddle"),b=t("dup");e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:b([32,0]),UINT16:b([32,0]),UINT32:b([32,0]),INT8:b([32,0]),INT16:b([32,0]),INT32:b([32,0]),FLOAT:b([32,0]),DOUBLE:b([32,0]),DATA:b([32,0]),UINT8C:b([32,0]),BUFFER:b([32,0])});var _="undefined"!=typeof Uint8ClampedArray,x=e.__TYPEDARRAY_POOL;x.UINT8C||(x.UINT8C=b([32,0])),x.BUFFER||(x.BUFFER=b([32,0]));var w=x.DATA,T=x.BUFFER;n.free=function(t){if(r.isBuffer(t))T[g.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,n=0|g.log2(e);w[n].push(t)}},n.freeUint8=n.freeUint16=n.freeUint32=n.freeInt8=n.freeInt16=n.freeInt32=n.freeFloat32=n.freeFloat=n.freeFloat64=n.freeDouble=n.freeUint8Clamped=n.freeDataView=i,n.freeArrayBuffer=o,n.freeBuffer=function(t){T[g.log2(t.length)].push(t)},n.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return a(t);switch(e){case"uint8":return s(t);case"uint16":return l(t);case"uint32":return u(t);case"int8":return c(t);case"int16":return f(t);case"int32":return p(t);case"float":case"float32":return h(t);case"double":case"float64":return d(t);case"uint8_clamped":return m(t);case"buffer":return v(t);case"data":case"dataview":return y(t);default:return null}return null},n.mallocArrayBuffer=a,n.mallocUint8=s,n.mallocUint16=l,n.mallocUint32=u,n.mallocInt8=c,n.mallocInt16=f,n.mallocInt32=p,n.mallocFloat32=n.mallocFloat=h,n.mallocFloat64=n.mallocDouble=d,n.mallocUint8Clamped=m,n.mallocDataView=y,n.mallocBuffer=v,n.clearCache=function(){for(var t=0;t<32;++t)x.UINT8[t].length=0,x.UINT16[t].length=0,x.UINT32[t].length=0,x.INT8[t].length=0,x.INT16[t].length=0,x.INT32[t].length=0,x.FLOAT[t].length=0,x.DOUBLE[t].length=0,x.UINT8C[t].length=0,w[t].length=0,T[t].length=0}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer);
},{"bit-twiddle":52,buffer:53,dup:127}],511:[function(t,e,n){"use strict";function r(t,e){for(var n=1,r=t.length,o=t[0],i=t[0],a=1;a<r;++a)if(i=o,o=t[a],e(o,i)){if(a===n){n++;continue}t[n++]=o}return t.length=n,t}function o(t){for(var e=1,n=t.length,r=t[0],o=t[0],i=1;i<n;++i,o=r)if(o=r,r=t[i],r!==o){if(i===e){e++;continue}t[e++]=r}return t.length=e,t}function i(t,e,n){return 0===t.length?t:e?(n||t.sort(e),r(t,e)):(n||t.sort(),o(t))}e.exports=i},{}],512:[function(t,e,n){"use strict";function r(t,e){return"object"==typeof e&&null!==e||(e={}),o(t,e.canvas||i,e.context||a,e)}e.exports=r;var o=t("./lib/vtext"),i=null,a=null;"undefined"!=typeof document&&(i=document.createElement("canvas"),i.width=8192,i.height=1024,a=i.getContext("2d"))},{"./lib/vtext":513}],513:[function(t,e,n){"use strict";function r(t,e,n){for(var r=e.textAlign||"start",o=e.textBaseline||"alphabetic",i=[1<<30,1<<30],a=[0,0],s=t.length,l=0;l<s;++l)for(var u=t[l],c=0;c<2;++c)i[c]=0|Math.min(i[c],u[c]),a[c]=0|Math.max(a[c],u[c]);var f=0;switch(r){case"center":f=-.5*(i[0]+a[0]);break;case"right":case"end":f=-a[0];break;case"left":case"start":f=-i[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+r+"'")}var p=0;switch(o){case"hanging":case"top":p=-i[1];break;case"middle":p=-.5*(i[1]+a[1]);break;case"alphabetic":case"ideographic":p=-3*n;break;case"bottom":p=-a[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+o+"'")}var h=1/n;return"lineHeight"in e?h*=+e.lineHeight:"width"in e?h=e.width/(a[0]-i[0]):"height"in e&&(h=e.height/(a[1]-i[1])),t.map(function(t){return[h*(t[0]+f),h*(t[1]+p)]})}function o(t,e,n,r){var o=0|Math.ceil(e.measureText(n).width+2*r);if(o>8192)throw new Error("vectorize-text: String too long (sorry, this will get fixed later)");var i=3*r;t.height<i&&(t.height=i),e.fillStyle="#000",e.fillRect(0,0,t.width,t.height),e.fillStyle="#fff",e.fillText(n,r,2*r);var a=e.getImageData(0,0,o,i),s=c(a.data,[i,o,4]);return s.pick(-1,-1,0).transpose(1,0)}function i(t,e){var n=u(t,128);return e?f(n.cells,n.positions,.25):{edges:n.cells,positions:n.positions}}function a(t,e,n,o){var a=i(t,o),s=r(a.positions,e,n),l=a.edges,u="ccw"===e.orientation;if(p(s,l),e.polygons||e.polygon||e.polyline){for(var c=d(l,s),f=new Array(c.length),m=0;m<c.length;++m){for(var y=c[m],v=new Array(y.length),g=0;g<y.length;++g){for(var b=y[g],_=new Array(b.length),x=0;x<b.length;++x)_[x]=s[b[x]].slice();u&&_.reverse(),v[g]=_}f[m]=v}return f}return e.triangles||e.triangulate||e.triangle?{cells:h(s,l,{delaunay:!1,exterior:!1,interior:!0}),positions:s}:{edges:l,positions:s}}function s(t,e,n){try{return a(t,e,n,!0)}catch(r){}try{return a(t,e,n,!1)}catch(r){}return e.polygons||e.polyline||e.polygon?[]:e.triangles||e.triangulate||e.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function l(t,e,n,r){var i=r.size||64,a=r.font||"normal";n.font=i+"px "+a,n.textAlign="start",n.textBaseline="alphabetic",n.direction="ltr";var l=o(e,n,t,i);return s(l,r,i)}e.exports=l,e.exports.processPixels=s;var u=t("surface-nets"),c=t("ndarray"),f=t("simplify-planar-graph"),p=t("clean-pslg"),h=t("cdt2d"),d=t("planar-graph-to-polyline")},{cdt2d:69,"clean-pslg":76,ndarray:485,"planar-graph-to-polyline":526,"simplify-planar-graph":530,"surface-nets":504}],514:[function(t,e,n){"use strict";function r(t,e){for(var n=o(t,e.length),r=new Array(e.length),i=new Array(e.length),a=[],s=0;s<e.length;++s){var l=n[s].length;i[s]=l,r[s]=!0,l<=1&&a.push(s)}for(;a.length>0;){var u=a.pop();r[u]=!1;for(var c=n[u],s=0;s<c.length;++s){var f=c[s];0===--i[f]&&a.push(f)}}for(var p=new Array(e.length),h=[],s=0;s<e.length;++s)if(r[s]){var u=h.length;p[s]=u,h.push(e[s])}else p[s]=-1;for(var d=[],s=0;s<t.length;++s){var m=t[s];r[m[0]]&&r[m[1]]&&d.push([p[m[0]],p[m[1]]])}return[d,h]}e.exports=r;var o=t("edges-to-adjacency-list")},{"edges-to-adjacency-list":515}],515:[function(t,e,n){"use strict";function r(t,e){var n=t.length;if("number"!=typeof e){e=0;for(var r=0;r<n;++r){var i=t[r];e=Math.max(e,i[0],i[1])}e=(0|e)+1}e=0|e;for(var a=new Array(e),r=0;r<e;++r)a[r]=[];for(var r=0;r<n;++r){var i=t[r];a[i[0]].push(i[1]),a[i[1]].push(i[0])}for(var s=0;s<e;++s)o(a[s],function(t,e){return t-e});return a}e.exports=r;var o=t("uniq")},{uniq:511}],516:[function(t,e,n){"use strict";function r(t,e){function n(t,e){var n=u[e][t[e]];n.splice(n.indexOf(t),1)}function r(t,r,i){for(var a,s,l,c=0;c<2;++c)if(u[c][r].length>0){a=u[c][r][0],l=c;break}s=a[1^l];for(var f=0;f<2;++f)for(var p=u[f][r],h=0;h<p.length;++h){var d=p[h],m=d[1^f],y=o(e[t],e[r],e[s],e[m]);y>0&&(a=d,s=m,l=f)}return i?s:(a&&n(a,l),s)}function i(t,i){var a=u[i][t][0],s=[t];n(a,i);for(var l=a[1^i];;){for(;l!==t;)s.push(l),l=r(s[s.length-2],l,!1);if(u[0][t].length+u[1][t].length===0)break;var c=s[s.length-1],f=t,p=s[1],h=r(c,f,!0);if(o(e[c],e[f],e[p],e[h])<0)break;s.push(t),l=r(c,f)}return s}function a(t,e){return e[1]===e[e.length-1]}for(var s=0|e.length,l=t.length,u=[new Array(s),new Array(s)],c=0;c<s;++c)u[0][c]=[],u[1][c]=[];for(var c=0;c<l;++c){var f=t[c];u[0][f[0]].push(f),u[1][f[1]].push(f)}for(var p=[],c=0;c<s;++c)u[0][c].length+u[1][c].length===0&&p.push([c]);for(var c=0;c<s;++c)for(var h=0;h<2;++h){for(var d=[];u[h][c].length>0;){var m=(u[0][c].length,i(c,h));a(d,m)?d.push.apply(d,m):(d.length>0&&p.push(d),d=m)}d.length>0&&p.push(d)}return p}e.exports=r;var o=t("compare-angle")},{"compare-angle":517}],517:[function(t,e,n){"use strict";function r(t,e,n){var r=s(t[0],-e[0]),o=s(t[1],-e[1]),i=s(n[0],-e[0]),a=s(n[1],-e[1]),c=u(l(r,i),l(o,a));return c[c.length-1]>=0}function o(t,e,n,o){var s=i(e,n,o);if(0===s){var l=a(i(t,e,n)),u=a(i(t,e,o));if(l===u){if(0===l){var c=r(t,e,n),f=r(t,e,o);return c===f?0:c?1:-1}return 0}return 0===u?l>0?-1:r(t,e,o)?-1:1:0===l?u>0?1:r(t,e,n)?1:-1:a(u-l)}var p=i(t,e,n);if(p>0)return s>0&&i(t,e,o)>0?1:-1;if(p<0)return s>0||i(t,e,o)>0?1:-1;var h=i(t,e,o);return h>0?1:r(t,e,n)?1:-1}e.exports=o;var i=t("robust-orientation"),a=t("signum"),s=t("two-sum"),l=t("robust-product"),u=t("robust-sum")},{"robust-orientation":491,"robust-product":518,"robust-sum":494,signum:519,"two-sum":509}],518:[function(t,e,n){"use strict";function r(t,e){if(1===t.length)return i(e,t[0]);if(1===e.length)return i(t,e[0]);if(0===t.length||0===e.length)return[0];var n=[0];if(t.length<e.length)for(var r=0;r<t.length;++r)n=o(n,i(e,t[r]));else for(var r=0;r<e.length;++r)n=o(n,i(t,e[r]));return n}var o=t("robust-sum"),i=t("robust-scale");e.exports=r},{"robust-scale":492,"robust-sum":494}],519:[function(t,e,n){"use strict";e.exports=function(t){return t<0?-1:t>0?1:0}},{}],520:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],521:[function(t,e,n){"use strict";function r(t,e,n,r,o){this.mid=t,this.left=e,this.right=n,this.leftPoints=r,this.rightPoints=o,this.count=(e?e.count:0)+(n?n.count:0)+r.length}function o(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function i(t,e){var n=d(e);t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function a(t,e){var n=t.intervals([]);n.push(e),i(t,n)}function s(t,e){var n=t.intervals([]),r=n.indexOf(e);return r<0?g:(n.splice(r,1),i(t,n),b)}function l(t,e,n){for(var r=0;r<t.length&&t[r][0]<=e;++r){var o=n(t[r]);if(o)return o}}function u(t,e,n){for(var r=t.length-1;r>=0&&t[r][1]>=e;--r){var o=n(t[r]);if(o)return o}}function c(t,e){for(var n=0;n<t.length;++n){var r=e(t[n]);if(r)return r}}function f(t,e){return t-e}function p(t,e){var n=t[0]-e[0];return n?n:t[1]-e[1]}function h(t,e){var n=t[1]-e[1];return n?n:t[0]-e[0]}function d(t){if(0===t.length)return null;for(var e=[],n=0;n<t.length;++n)e.push(t[n][0],t[n][1]);e.sort(f);for(var o=e[e.length>>1],i=[],a=[],s=[],n=0;n<t.length;++n){var l=t[n];l[1]<o?i.push(l):o<l[0]?a.push(l):s.push(l)}var u=s,c=s.slice();return u.sort(p),c.sort(h),new r(o,d(i),d(a),u,c)}function m(t){this.root=t}function y(t){return new m(t&&0!==t.length?d(t):null)}var v=t("binary-search-bounds"),g=0,b=1,_=2;e.exports=y;var x=r.prototype;x.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t},x.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?a(this,t):this.left.insert(t):this.left=d([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?a(this,t):this.right.insert(t):this.right=d([t]);else{var n=v.ge(this.leftPoints,t,p),r=v.ge(this.rightPoints,t,h);this.leftPoints.splice(n,0,t),this.rightPoints.splice(r,0,t)}},x.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid){if(!this.left)return g;var n=this.right?this.right.count:0;if(4*n>3*(e-1))return s(this,t);var r=this.left.remove(t);return r===_?(this.left=null,this.count-=1,b):(r===b&&(this.count-=1),r)}if(t[0]>this.mid){if(!this.right)return g;var i=this.left?this.left.count:0;if(4*i>3*(e-1))return s(this,t);var r=this.right.remove(t);return r===_?(this.right=null,this.count-=1,b):(r===b&&(this.count-=1),r)}if(1===this.count)return this.leftPoints[0]===t?_:g;if(1===this.leftPoints.length&&this.leftPoints[0]===t){if(this.left&&this.right){for(var a=this,l=this.left;l.right;)a=l,l=l.right;if(a===this)l.right=this.right;else{var u=this.left,r=this.right;a.count-=l.count,a.right=l.left,l.left=u,l.right=r}o(this,l),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?o(this,this.left):o(this,this.right);return b}for(var u=v.ge(this.leftPoints,t,p);u<this.leftPoints.length&&this.leftPoints[u][0]===t[0];++u)if(this.leftPoints[u]===t){this.count-=1,this.leftPoints.splice(u,1);for(var r=v.ge(this.rightPoints,t,h);r<this.rightPoints.length&&this.rightPoints[r][1]===t[1];++r)if(this.rightPoints[r]===t)return this.rightPoints.splice(r,1),b}return g},x.queryPoint=function(t,e){if(t<this.mid){if(this.left){var n=this.left.queryPoint(t,e);if(n)return n}return l(this.leftPoints,t,e)}if(t>this.mid){if(this.right){var n=this.right.queryPoint(t,e);if(n)return n}return u(this.rightPoints,t,e)}return c(this.leftPoints,e)},x.queryInterval=function(t,e,n){if(t<this.mid&&this.left){var r=this.left.queryInterval(t,e,n);if(r)return r}if(e>this.mid&&this.right){var r=this.right.queryInterval(t,e,n);if(r)return r}return e<this.mid?l(this.leftPoints,e,n):t>this.mid?u(this.rightPoints,t,n):c(this.leftPoints,n)};var w=m.prototype;w.insert=function(t){this.root?this.root.insert(t):this.root=new r(t[0],null,null,[t],[t])},w.remove=function(t){if(this.root){var e=this.root.remove(t);return e===_&&(this.root=null),e!==g}return!1},w.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)},w.queryInterval=function(t,e,n){if(t<=e&&this.root)return this.root.queryInterval(t,e,n)},Object.defineProperty(w,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(w,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},{"binary-search-bounds":520}],522:[function(t,e,n){"use strict";function r(t,e){var n,r;if(e[0][0]<e[1][0])n=e[0],r=e[1];else{if(!(e[0][0]>e[1][0])){var o=Math.min(t[0][1],t[1][1]),a=Math.max(t[0][1],t[1][1]),s=Math.min(e[0][1],e[1][1]),l=Math.max(e[0][1],e[1][1]);return a<s?a-s:o>l?o-l:a-l}n=e[1],r=e[0]}var u,c;t[0][1]<t[1][1]?(u=t[0],c=t[1]):(u=t[1],c=t[0]);var f=i(r,n,u);return f?f:(f=i(r,n,c),f?f:c-r)}function o(t,e){var n,o;if(e[0][0]<e[1][0])n=e[0],o=e[1];else{if(!(e[0][0]>e[1][0]))return r(e,t);n=e[1],o=e[0]}var a,s;if(t[0][0]<t[1][0])a=t[0],s=t[1];else{if(!(t[0][0]>t[1][0]))return-r(t,e);a=t[1],s=t[0]}var l=i(n,o,s),u=i(n,o,a);if(l<0){if(u<=0)return l}else if(l>0){if(u>=0)return l}else if(u)return u;if(l=i(s,a,o),u=i(s,a,n),l<0){if(u<=0)return l}else if(l>0){if(u>=0)return l}else if(u)return u;return o[0]-s[0]}e.exports=o;var i=t("robust-orientation")},{"robust-orientation":491}],523:[function(t,e,n){"use strict";function r(t,e,n,r,o,i){this._color=t,this.key=e,this.value=n,this.left=r,this.right=o,this._count=i}function o(t){return new r(t._color,t.key,t.value,t.left,t.right,t._count)}function i(t,e){return new r(t,e.key,e.value,e.left,e.right,e._count)}function a(t){t._count=1+(t.left?t.left._count:0)+(t.right?t.right._count:0)}function s(t,e){this._compare=t,this.root=e}function l(t,e){if(e.left){var n=l(t,e.left);if(n)return n}var n=t(e.key,e.value);return n?n:e.right?l(t,e.right):void 0}function u(t,e,n,r){var o=e(t,r.key);if(o<=0){if(r.left){var i=u(t,e,n,r.left);if(i)return i}var i=n(r.key,r.value);if(i)return i}if(r.right)return u(t,e,n,r.right)}function c(t,e,n,r,o){var i,a=n(t,o.key),s=n(e,o.key);if(a<=0){if(o.left&&(i=c(t,e,n,r,o.left)))return i;if(s>0&&(i=r(o.key,o.value)))return i}if(s>0&&o.right)return c(t,e,n,r,o.right)}function f(t,e){this.tree=t,this._stack=e}function p(t,e){t.key=e.key,t.value=e.value,t.left=e.left,t.right=e.right,t._color=e._color,t._count=e._count}function h(t){for(var e,n,r,s,l=t.length-1;l>=0;--l){if(e=t[l],0===l)return void(e._color=v);if(n=t[l-1],n.left===e){if(r=n.right,r.right&&r.right._color===y){if(r=n.right=o(r),s=r.right=o(r.right),n.right=r.left,r.left=n,r.right=s,r._color=n._color,e._color=v,n._color=v,s._color=v,a(n),a(r),l>1){var u=t[l-2];u.left===n?u.left=r:u.right=r}return void(t[l-1]=r)}if(r.left&&r.left._color===y){if(r=n.right=o(r),s=r.left=o(r.left),n.right=s.left,r.left=s.right,s.left=n,s.right=r,s._color=n._color,n._color=v,r._color=v,e._color=v,a(n),a(r),a(s),l>1){var u=t[l-2];u.left===n?u.left=s:u.right=s}return void(t[l-1]=s)}if(r._color===v){if(n._color===y)return n._color=v,void(n.right=i(y,r));n.right=i(y,r);continue}if(r=o(r),n.right=r.left,r.left=n,r._color=n._color,n._color=y,a(n),a(r),l>1){var u=t[l-2];u.left===n?u.left=r:u.right=r}t[l-1]=r,t[l]=n,l+1<t.length?t[l+1]=e:t.push(e),l+=2}else{if(r=n.left,r.left&&r.left._color===y){if(r=n.left=o(r),s=r.left=o(r.left),n.left=r.right,r.right=n,r.left=s,r._color=n._color,e._color=v,n._color=v,s._color=v,a(n),a(r),l>1){var u=t[l-2];u.right===n?u.right=r:u.left=r}return void(t[l-1]=r)}if(r.right&&r.right._color===y){if(r=n.left=o(r),s=r.right=o(r.right),n.left=s.right,r.right=s.left,s.right=n,s.left=r,s._color=n._color,n._color=v,r._color=v,e._color=v,a(n),a(r),a(s),l>1){var u=t[l-2];u.right===n?u.right=s:u.left=s}return void(t[l-1]=s)}if(r._color===v){if(n._color===y)return n._color=v,void(n.left=i(y,r));n.left=i(y,r);continue}if(r=o(r),n.left=r.right,r.right=n,r._color=n._color,n._color=y,a(n),a(r),l>1){var u=t[l-2];u.right===n?u.right=r:u.left=r}t[l-1]=r,t[l]=n,l+1<t.length?t[l+1]=e:t.push(e),l+=2}}}function d(t,e){return t<e?-1:t>e?1:0}function m(t){return new s(t||d,null)}e.exports=m;var y=0,v=1,g=s.prototype;Object.defineProperty(g,"keys",{get:function(){var t=[];return this.forEach(function(e,n){t.push(e)}),t}}),Object.defineProperty(g,"values",{get:function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t}}),Object.defineProperty(g,"length",{get:function(){return this.root?this.root._count:0}}),g.insert=function(t,e){for(var n=this._compare,o=this.root,l=[],u=[];o;){var c=n(t,o.key);l.push(o),u.push(c),o=c<=0?o.left:o.right}l.push(new r(y,t,e,null,null,1));for(var f=l.length-2;f>=0;--f){var o=l[f];u[f]<=0?l[f]=new r(o._color,o.key,o.value,l[f+1],o.right,o._count+1):l[f]=new r(o._color,o.key,o.value,o.left,l[f+1],o._count+1)}for(var f=l.length-1;f>1;--f){var p=l[f-1],o=l[f];if(p._color===v||o._color===v)break;var h=l[f-2];if(h.left===p)if(p.left===o){var d=h.right;if(!d||d._color!==y){if(h._color=y,h.left=p.right,p._color=v,p.right=h,l[f-2]=p,l[f-1]=o,a(h),a(p),f>=3){var m=l[f-3];m.left===h?m.left=p:m.right=p}break}p._color=v,h.right=i(v,d),h._color=y,f-=1}else{var d=h.right;if(!d||d._color!==y){if(p.right=o.left,h._color=y,h.left=o.right,o._color=v,o.left=p,o.right=h,l[f-2]=o,l[f-1]=p,a(h),a(p),a(o),f>=3){var m=l[f-3];m.left===h?m.left=o:m.right=o}break}p._color=v,h.right=i(v,d),h._color=y,f-=1}else if(p.right===o){var d=h.left;if(!d||d._color!==y){if(h._color=y,h.right=p.left,p._color=v,p.left=h,l[f-2]=p,l[f-1]=o,a(h),a(p),f>=3){var m=l[f-3];m.right===h?m.right=p:m.left=p}break}p._color=v,h.left=i(v,d),h._color=y,f-=1}else{var d=h.left;if(!d||d._color!==y){if(p.left=o.right,h._color=y,h.right=o.left,o._color=v,o.right=p,o.left=h,l[f-2]=o,l[f-1]=p,a(h),a(p),a(o),f>=3){var m=l[f-3];m.right===h?m.right=o:m.left=o}break}p._color=v,h.left=i(v,d),h._color=y,f-=1}}return l[0]._color=v,new s(n,l[0])},g.forEach=function(t,e,n){if(this.root)switch(arguments.length){case 1:return l(t,this.root);case 2:return u(e,this._compare,t,this.root);case 3:if(this._compare(e,n)>=0)return;return c(e,n,this._compare,t,this.root)}},Object.defineProperty(g,"begin",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.left;return new f(this,t)}}),Object.defineProperty(g,"end",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.right;return new f(this,t)}}),g.at=function(t){if(t<0)return new f(this,[]);for(var e=this.root,n=[];;){if(n.push(e),e.left){if(t<e.left._count){e=e.left;continue}t-=e.left._count}if(!t)return new f(this,n);if(t-=1,!e.right)break;if(t>=e.right._count)break;e=e.right}return new f(this,[])},g.ge=function(t){for(var e=this._compare,n=this.root,r=[],o=0;n;){var i=e(t,n.key);r.push(n),i<=0&&(o=r.length),n=i<=0?n.left:n.right}return r.length=o,new f(this,r)},g.gt=function(t){for(var e=this._compare,n=this.root,r=[],o=0;n;){var i=e(t,n.key);r.push(n),i<0&&(o=r.length),n=i<0?n.left:n.right}return r.length=o,new f(this,r)},g.lt=function(t){for(var e=this._compare,n=this.root,r=[],o=0;n;){var i=e(t,n.key);r.push(n),i>0&&(o=r.length),n=i<=0?n.left:n.right}return r.length=o,new f(this,r)},g.le=function(t){for(var e=this._compare,n=this.root,r=[],o=0;n;){var i=e(t,n.key);r.push(n),i>=0&&(o=r.length),n=i<0?n.left:n.right}return r.length=o,new f(this,r)},g.find=function(t){for(var e=this._compare,n=this.root,r=[];n;){var o=e(t,n.key);if(r.push(n),0===o)return new f(this,r);n=o<=0?n.left:n.right}return new f(this,[])},g.remove=function(t){var e=this.find(t);return e?e.remove():this},g.get=function(t){for(var e=this._compare,n=this.root;n;){var r=e(t,n.key);if(0===r)return n.value;n=r<=0?n.left:n.right}};var b=f.prototype;Object.defineProperty(b,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(b,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),b.clone=function(){return new f(this.tree,this._stack.slice())},b.remove=function(){var t=this._stack;if(0===t.length)return this.tree;var e=new Array(t.length),n=t[t.length-1];e[e.length-1]=new r(n._color,n.key,n.value,n.left,n.right,n._count);for(var o=t.length-2;o>=0;--o){var n=t[o];n.left===t[o+1]?e[o]=new r(n._color,n.key,n.value,e[o+1],n.right,n._count):e[o]=new r(n._color,n.key,n.value,n.left,e[o+1],n._count)}if(n=e[e.length-1],n.left&&n.right){var i=e.length;for(n=n.left;n.right;)e.push(n),n=n.right;var a=e[i-1];e.push(new r(n._color,a.key,a.value,n.left,n.right,n._count)),e[i-1].key=n.key,e[i-1].value=n.value;for(var o=e.length-2;o>=i;--o)n=e[o],e[o]=new r(n._color,n.key,n.value,n.left,e[o+1],n._count);e[i-1].left=e[i]}if(n=e[e.length-1],n._color===y){var l=e[e.length-2];l.left===n?l.left=null:l.right===n&&(l.right=null),e.pop();for(var o=0;o<e.length;++o)e[o]._count--;return new s(this.tree._compare,e[0])}if(n.left||n.right){n.left?p(n,n.left):n.right&&p(n,n.right),n._color=v;for(var o=0;o<e.length-1;++o)e[o]._count--;return new s(this.tree._compare,e[0])}if(1===e.length)return new s(this.tree._compare,null);for(var o=0;o<e.length;++o)e[o]._count--;var u=e[e.length-2];return h(e),u.left===n?u.left=null:u.right=null,new s(this.tree._compare,e[0])},Object.defineProperty(b,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(b,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(b,"index",{get:function(){var t=0,e=this._stack;if(0===e.length){var n=this.tree.root;return n?n._count:0}e[e.length-1].left&&(t=e[e.length-1].left._count);for(var r=e.length-2;r>=0;--r)e[r+1]===e[r].right&&(++t,e[r].left&&(t+=e[r].left._count));return t},enumerable:!0}),b.next=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.right)for(e=e.right;e;)t.push(e),e=e.left;else for(t.pop();t.length>0&&t[t.length-1].right===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(b,"hasNext",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].right)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].left===t[e])return!0;return!1}}),b.update=function(t){var e=this._stack;if(0===e.length)throw new Error("Can't update empty node!");var n=new Array(e.length),o=e[e.length-1];n[n.length-1]=new r(o._color,o.key,t,o.left,o.right,o._count);for(var i=e.length-2;i>=0;--i)o=e[i],o.left===e[i+1]?n[i]=new r(o._color,o.key,o.value,n[i+1],o.right,o._count):n[i]=new r(o._color,o.key,o.value,o.left,n[i+1],o._count);return new s(this.tree._compare,n[0])},b.prev=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.left)for(e=e.left;e;)t.push(e),e=e.right;else for(t.pop();t.length>0&&t[t.length-1].left===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(b,"hasPrev",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].left)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].right===t[e])return!0;return!1}})},{}],524:[function(t,e,n){"use strict";function r(t,e,n){this.slabs=t,this.coordinates=e,this.horizontal=n}function o(t,e){return t.y-e}function i(t,e){for(var n=null;t;){var r,o,a=t.key;a[0][0]<a[1][0]?(r=a[0],o=a[1]):(r=a[1],o=a[0]);var s=f(r,o,e);if(s<0)t=t.left;else if(s>0)if(e[0]!==a[1][0])n=t,t=t.right;else{var l=i(t.right,e);if(l)return l;t=t.left}else{if(e[0]!==a[1][0])return t;var l=i(t.right,e);if(l)return l;t=t.left}}return n}function a(t,e,n,r){this.y=t,this.index=e,this.start=n,this.closed=r}function s(t,e,n,r){this.x=t,this.segment=e,this.create=n,this.index=r}function l(t){for(var e=t.length,n=2*e,o=new Array(n),i=0;i<e;++i){var l=t[i],u=l[0][0]<l[1][0];o[2*i]=new s(l[0][0],l,u,i),o[2*i+1]=new s(l[1][0],l,(!u),i)}o.sort(function(t,e){var n=t.x-e.x;return n?n:(n=t.create-e.create,n?n:Math.min(t.segment[0][1],t.segment[1][1])-Math.min(e.segment[0][1],e.segment[1][1]))});for(var f=c(p),h=[],d=[],m=[],i=0;i<n;){for(var y=o[i].x,v=[];i<n;){var g=o[i];if(g.x!==y)break;i+=1,g.segment[0][0]===g.x&&g.segment[1][0]===g.x?g.create&&(g.segment[0][1]<g.segment[1][1]?(v.push(new a(g.segment[0][1],g.index,(!0),(!0))),v.push(new a(g.segment[1][1],g.index,(!1),(!1)))):(v.push(new a(g.segment[1][1],g.index,(!0),(!1))),v.push(new a(g.segment[0][1],g.index,(!1),(!0))))):f=g.create?f.insert(g.segment,g.index):f.remove(g.segment)}h.push(f.root),d.push(y),m.push(v)}return new r(h,d,m)}e.exports=l;var u=t("binary-search-bounds"),c=t("functional-red-black-tree"),f=t("robust-orientation"),p=t("./lib/order-segments"),h=r.prototype;h.castUp=function(t){var e=u.le(this.coordinates,t[0]);if(e<0)return-1;var n=(this.slabs[e],i(this.slabs[e],t)),r=-1;if(n&&(r=n.value),this.coordinates[e]===t[0]){var a=null;if(n&&(a=n.key),e>0){var s=i(this.slabs[e-1],t);s&&(a?p(s.key,a)>0&&(a=s.key,r=s.value):(r=s.value,a=s.key))}var l=this.horizontal[e];if(l.length>0){var c=u.ge(l,t[1],o);if(c<l.length){var h=l[c];if(t[1]===h.y){if(h.closed)return h.index;for(;c<l.length-1&&l[c+1].y===t[1];)if(c+=1,h=l[c],h.closed)return h.index;if(h.y===t[1]&&!h.start){if(c+=1,c>=l.length)return r;h=l[c]}}if(h.start)if(a){var d=f(a[0],a[1],[t[0],h.y]);a[0][0]>a[1][0]&&(d=-d),d>0&&(r=h.index)}else r=h.index;else h.y!==t[1]&&(r=h.index)}}}return r}},{"./lib/order-segments":522,"binary-search-bounds":520,"functional-red-black-tree":523,"robust-orientation":491}],525:[function(t,e,n){function r(){return!0}function o(t){return function(e,n){var o=t[e];return!!o&&!!o.queryPoint(n,r)}}function i(t){for(var e={},n=0;n<t.length;++n){var r=t[n],i=r[0][0],a=r[0][1],s=r[1][1],l=[Math.min(a,s),Math.max(a,s)];i in e?e[i].push(l):e[i]=[l]}for(var u={},c=Object.keys(e),n=0;n<c.length;++n){var f=e[c[n]];u[c[n]]=h(f)}return o(u)}function a(t,e){return function(n){var r=d.le(e,n[0]);if(r<0)return 1;var o=t[r];if(!o){if(!(r>0&&e[r]===n[0]))return 1;o=t[r-1]}for(var i=1;o;){var a=o.key,s=f(n,a[0],a[1]);if(a[0][0]<a[1][0])if(s<0)o=o.left;else{if(!(s>0))return 0;i=-1,o=o.right}else if(s>0)o=o.left;else{if(!(s<0))return 0;i=1,o=o.right}}return i}}function s(t){return 1}function l(t){return function(e){return t(e[0],e[1])?0:1}}function u(t,e){return function(n){return t(n[0],n[1])?0:e(n)}}function c(t){for(var e=t.length,n=[],r=[],o=0;o<e;++o)for(var c=t[o],f=c.length,h=f-1,d=0;d<f;h=d++){var m=c[h],y=c[d];m[0]===y[0]?r.push([m,y]):n.push([m,y])}if(0===n.length)return 0===r.length?s:l(i(r));var v=p(n),g=a(v.slabs,v.coordinates);return 0===r.length?g:u(i(r),g)}e.exports=c;var f=t("robust-orientation")[3],p=t("slab-decomposition"),h=t("interval-tree-1d"),d=t("binary-search-bounds")},{"binary-search-bounds":520,"interval-tree-1d":521,"robust-orientation":491,"slab-decomposition":524}],526:[function(t,e,n){"use strict";function r(t,e){for(var n=new Array(t),r=0;r<t;++r)n[r]=e;return n}function o(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=[];return e}function i(t,e){function n(t){for(var n=t.length,r=[0],o=0;o<n;++o){var i=e[t[o]],a=e[t[(o+1)%n]],s=u(-i[0],i[1]),l=u(-i[0],a[1]),f=u(a[0],i[1]),p=u(a[0],a[1]);r=c(r,c(c(s,l),c(f,p)))}return r[r.length-1]>0}function i(t){for(var e=t.length,n=0;n<e;++n)if(!I[t[n]])return!1;return!0}var h=p(t,e);t=h[0],e=h[1];for(var d=e.length,m=(t.length,a(t,e.length)),y=0;y<d;++y)if(m[y].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var v=s(t,e);v=v.filter(n);for(var g=v.length,b=new Array(g),_=new Array(g),y=0;y<g;++y){b[y]=y;var x=new Array(g),w=v[y].map(function(t){return e[t]}),T=l([w]),E=0;t:for(var C=0;C<g;++C)if(x[C]=0,y!==C){for(var k=v[C],S=k.length,P=0;P<S;++P){var M=T(e[k[P]]);if(0!==M){M<0&&(x[C]=1,E+=1);continue t}}x[C]=1,E+=1}_[y]=[E,y,x]}_.sort(function(t,e){return e[0]-t[0]});for(var y=0;y<g;++y)for(var x=_[y],A=x[1],O=x[2],C=0;C<g;++C)O[C]&&(b[C]=A);for(var D=o(g),y=0;y<g;++y)D[y].push(b[y]),D[b[y]].push(y);for(var L={},I=r(d,!1),y=0;y<g;++y)for(var k=v[y],S=k.length,C=0;C<S;++C){var j=k[C],F=k[(C+1)%S],R=Math.min(j,F)+":"+Math.max(j,F);if(R in L){var N=L[R];D[N].push(y),D[y].push(N),I[j]=I[F]=!0}else L[R]=y}for(var z=[],B=r(g,-1),y=0;y<g;++y)b[y]!==y||i(v[y])?B[y]=-1:(z.push(y),B[y]=0);for(var h=[];z.length>0;){var U=z.pop(),W=D[U];f(W,function(t,e){return t-e});var q,V=W.length,H=B[U];if(0===H){var k=v[U];q=[k]}for(var y=0;y<V;++y){var G=W[y];if(!(B[G]>=0)&&(B[G]=1^H,z.push(G),0===H)){var k=v[G];i(k)||(k.reverse(),q.push(k))}}0===H&&h.push(q)}return h}e.exports=i;var a=t("edges-to-adjacency-list"),s=t("planar-dual"),l=t("point-in-big-polygon"),u=t("two-product"),c=t("robust-sum"),f=t("uniq"),p=t("./lib/trim-leaves")},{"./lib/trim-leaves":514,"edges-to-adjacency-list":515,"planar-dual":516,"point-in-big-polygon":525,"robust-sum":494,"two-product":508,uniq:511}],527:[function(t,e,n){arguments[4][52][0].apply(n,arguments)},{dup:52}],528:[function(t,e,n){"use strict";"use restrict";function r(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}e.exports=r,r.prototype.length=function(){return this.roots.length},r.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.prototype.find=function(t){for(var e=this.roots;e[t]!==t;){var n=e[t];e[t]=e[n],t=n}return t},r.prototype.link=function(t,e){var n=this.find(t),r=this.find(e);if(n!==r){var o=this.ranks,i=this.roots,a=o[n],s=o[r];a<s?i[n]=r:s<a?i[r]=n:(i[r]=n,++o[n])}}},{}],529:[function(t,e,n){arguments[4][278][0].apply(n,arguments)},{"bit-twiddle":527,dup:278,"union-find":528}],530:[function(t,e,n){"use strict";function r(t,e,n){var r=Math.abs(i(t,e,n)),o=Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2));return r/o}function o(t,e,n){function o(t){if(_[t])return 1/0;var n=v[t],o=g[t];return n<0||o<0?1/0:r(e[t],e[n],e[o])}function i(t,e){var n=C[t],r=C[e];C[t]=r,C[e]=n,k[n]=e,k[r]=t}function s(t){return b[C[t]]}function l(t){return 1&t?t-1>>1:(t>>1)-1}function u(t){for(var e=s(t);;){var n=e,r=2*t+1,o=2*(t+1),a=t;if(r<P){var l=s(r);l<n&&(a=r,n=l)}if(o<P){var u=s(o);u<n&&(a=o)}if(a===t)return t;i(t,a),t=a}}function c(t){for(var e=s(t);t>0;){var n=l(t);if(n>=0){var r=s(n);if(e<r){i(t,n),t=n;continue}}return t}}function f(){if(P>0){var t=C[0];return i(0,P-1),P-=1,u(0),t}return-1}function p(t,e){var n=C[t];return b[n]===e?t:(b[n]=-(1/0),c(t),f(),b[n]=e,P+=1,c(P-1))}function h(t){if(!_[t]){_[t]=!0;var e=v[t],n=g[t];v[n]>=0&&(v[n]=e),g[e]>=0&&(g[e]=n),k[e]>=0&&p(k[e],o(e)),k[n]>=0&&p(k[n],o(n))}}function d(t,e){if(t[e]<0)return e;var n=e,r=e;do{var o=t[r];if(!_[r]||o<0||o===r)break;if(r=o,o=t[r],!_[r]||o<0||o===r)break;r=o,n=t[n]}while(n!==r);for(var i=e;i!==r;i=t[i])t[i]=r;return r}for(var m=e.length,y=t.length,v=new Array(m),g=new Array(m),b=new Array(m),_=new Array(m),x=0;x<m;++x)v[x]=g[x]=-1,b[x]=1/0,_[x]=!1;for(var x=0;x<y;++x){var w=t[x];if(2!==w.length)throw new Error("Input must be a graph");var T=w[1],E=w[0];g[E]!==-1?g[E]=-2:g[E]=T,v[T]!==-1?v[T]=-2:v[T]=E}for(var C=[],k=new Array(m),x=0;x<m;++x){var S=b[x]=o(x);S<1/0?(k[x]=C.length,C.push(x)):k[x]=-1}for(var P=C.length,x=P>>1;x>=0;--x)u(x);for(;;){var M=f();if(M<0||b[M]>n)break;h(M)}for(var A=[],x=0;x<m;++x)_[x]||(k[x]=A.length,A.push(e[x].slice()));var O=(A.length,[]);return t.forEach(function(t){var e=d(v,t[0]),n=d(g,t[1]);if(e>=0&&n>=0&&e!==n){var r=k[e],o=k[n];r!==o&&O.push([r,o])}}),a.unique(a.normalize(O)),{positions:A,edges:O}}e.exports=o;var i=t("robust-orientation"),a=t("simplicial-complex")},{"robust-orientation":491,"simplicial-complex":529}],531:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("../color"),i=t("../../plots/cartesian/axes"),a=t("./attributes");e.exports=function(t,e){function n(e,n){return r.coerce(t,s,a,e,n)}var s={};n("opacity"),n("align"),n("bgcolor");var l=n("bordercolor"),u=o.opacity(l);n("borderpad");var c=n("borderwidth"),f=n("showarrow");f&&(n("arrowcolor",u?s.bordercolor:o.defaultLine),n("arrowhead"),n("arrowsize"),n("arrowwidth",2*(u&&c||1)),n("ax"),n("ay"),n("axref"),n("ayref"),r.noneOrAll(t,s,["ax","ay"])),n("text",f?" ":"new text"),n("textangle"),r.coerceFont(n,"font",e.font);for(var p=["x","y"],h=0;h<2;h++){var d=p[h],m={_fullLayout:e},y=i.coerceRef(t,s,m,d),v=i.coerceARef(t,s,m,d),g=.5;if("paper"!==y){var b=i.getFromId(m,y);if(g=b.range[0]+g*(b.range[1]-b.range[0]),["date","category"].indexOf(b.type)!==-1&&"string"==typeof t[d]){var _;if("date"===b.type){if(_=r.dateTime2ms(t[d]),_!==!1&&(t[d]=_),v===y){var x=r.dateTime2ms(t["a"+d]);x!==!1&&(t["a"+d]=x)}}else(b._categories||[]).length&&(_=b._categories.indexOf(t[d]),_!==-1&&(t[d]=_))}}n(d,g),f||n(d+"anchor")}return r.noneOrAll(t,s,["x","y"]),s}},{"../../lib":633,"../../plots/cartesian/axes":662,"../color":540,"./attributes":533}],532:[function(t,e,n){"use strict";e.exports=["",{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0},{path:"M2,2V-2H-2V2Z",backoff:0}]},{}],533:[function(t,e,n){"use strict";var r=t("./arrow_paths"),o=t("../../plots/font_attributes"),i=t("../../plots/cartesian/constants"),a=t("../../lib/extend").extendFlat;e.exports={_isLinkedToArray:!0,text:{valType:"string"},textangle:{valType:"angle",dflt:0},font:a({},o,{}),opacity:{valType:"number",min:0,max:1,dflt:1},align:{valType:"enumerated",values:["left","center","right"],dflt:"center"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)"},borderpad:{
valType:"number",min:0,dflt:1},borderwidth:{valType:"number",min:0,dflt:1},showarrow:{valType:"boolean",dflt:!0},arrowcolor:{valType:"color"},arrowhead:{valType:"integer",min:0,max:r.length,dflt:1},arrowsize:{valType:"number",min:.3,dflt:1},arrowwidth:{valType:"number",min:.1},ax:{valType:"number",dflt:-10},ay:{valType:"number",dflt:-30},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()]},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()]},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()]},x:{valType:"number"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()]},y:{valType:"number"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto"},_deprecated:{ref:{valType:"string"}}}},{"../../lib/extend":627,"../../plots/cartesian/constants":667,"../../plots/font_attributes":681,"./arrow_paths":532}],534:[function(t,e,n){"use strict";function r(t){var e=t._fullLayout;e.annotations.forEach(function(e){var n=i.getFromId(t,e.xref),r=i.getFromId(t,e.yref);if(n||r){var o=(e._xsize||0)/2,a=e._xshift||0,s=(e._ysize||0)/2,l=e._yshift||0,u=o-a,c=o+a,f=s-l,p=s+l;if(e.showarrow){var h=3*e.arrowsize*e.arrowwidth;u=Math.max(u,h),c=Math.max(c,h),f=Math.max(f,h),p=Math.max(p,h)}n&&n.autorange&&i.expand(n,[n.l2c(e.x)],{ppadplus:c,ppadminus:u}),r&&r.autorange&&i.expand(r,[r.l2c(e.y)],{ppadplus:p,ppadminus:f})}})}var o=t("../../lib"),i=t("../../plots/cartesian/axes"),a=t("./draw").draw;e.exports=function(t){var e=t._fullLayout,n=e.annotations;if(n.length&&t._fullData.length){var s={};n.forEach(function(t){s[t.xref]=!0,s[t.yref]=!0});var l=i.list(t).filter(function(t){return t.autorange&&s[t._id]});if(l.length)return o.syncOrAsync([a,r],t)}}},{"../../lib":633,"../../plots/cartesian/axes":662,"./draw":536}],535:[function(t,e,n){"use strict";var r=t("./annotation_defaults");e.exports=function(t,e){for(var n=t.annotations||[],o=e.annotations=[],i=0;i<n.length;i++){var a=n[i]||{},s=r(a,e);o.push(s)}}},{"./annotation_defaults":531}],536:[function(t,e,n){"use strict";function r(t){var e=t._fullLayout;e._infolayer.selectAll(".annotation").remove();for(var n=0;n<e.annotations.length;n++)o(t,n);return u.previousPromises(t)}function o(t,e,n,u){function _(t){return t.call(h.font,nt).attr({"text-anchor":{left:"start",right:"end"}[V.align]||"middle"}),d.convertToTspans(t,x),t}function x(){function n(t,e){return"auto"===e&&(e=t<1/3?"left":t>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[e]}rt.selectAll("tspan.line").attr({y:0,x:0});var r=Q.select(".annotation-math-group"),o=!r.empty(),s=h.bBox((o?r:rt).node()),u=s.width,d=s.height,v=Math.round(u+2*tt),g=Math.round(d+2*tt);V._w=u,V._h=d;var _=!1;if(["x","y"].forEach(function(e){var r,o=V[e+"ref"]||e,i=f.getFromId(t,o),a=(Z+("x"===e?0:90))*Math.PI/180,s=v*Math.abs(Math.cos(a))+g*Math.abs(Math.sin(a)),l=V[e+"anchor"];if(i){if(!i.autorange&&(V[e]-i.range[0])*(V[e]-i.range[1])>0&&(V["a"+e+"ref"]===o?(V["a"+e]-i.range[0])*(V["a"+e]-i.range[1])>0&&(_=!0):_=!0,_))return;Y[e]=i._offset+i.l2p(V[e]),r=.5}else r=V[e],"y"===e&&(r=1-r),Y[e]="x"===e?D.l+D.w*r:D.t+D.h*r;var u=0;V["a"+e+"ref"]===o?Y["aa"+e]=i._offset+i.l2p(V["a"+e]):(u=V.showarrow?V["a"+e]:s*n(r,l),Y[e]+=u),V["_"+e+"type"]=i&&i.type,V["_"+e+"size"]=s,V["_"+e+"shift"]=u}),_)return void Q.remove();var x,w;V.showarrow&&(x=V.axref===V.xref?Y.x:c.constrain(Y.x-V.ax,1,E.width-1),w=V.ayref===V.yref?Y.y:c.constrain(Y.y-V.ay,1,E.height-1)),Y.x=c.constrain(Y.x,1,E.width-1),Y.y=c.constrain(Y.y,1,E.height-1);var T=tt-s.top,C=tt-s.left;o?r.select("svg").attr({x:tt-1,y:tt}):(rt.attr({x:C,y:T}),rt.selectAll("tspan.line").attr({y:T,x:C})),et.call(h.setRect,J/2,J/2,v-J,g-J);var k=0,S=0;k=V.axref===V.xref?Math.round(Y.aax-v/2):Math.round(Y.x-v/2),S=V.ayref===V.yref?Math.round(Y.aay-g/2):Math.round(Y.y-g/2),Q.call(c.setTranslate,k,S);var P="annotations["+e+"]",M=function(n,r){a.select(t).selectAll('.annotation-arrow-g[data-index="'+e+'"]').remove();var o,s;o=V.axref===V.xref?Y.aax+n:Y.x+n,s=V.ayref===V.yref?Y.aay+r:Y.y+r;var u=c.rotationXYMatrix(Z,o,s),f=c.apply2DTransform(u),h=c.apply2DTransform2(u),d=et.attr("width")/2,m=et.attr("height")/2,v=[[o-d,s-m,o-d,s+m],[o-d,s+m,o+d,s+m],[o+d,s+m,o+d,s-m],[o+d,s-m,o-d,s-m]].map(h);if(!v.reduce(function(t,e){return t^!!i(x,w,x+1e6,w+1e6,e[0],e[1],e[2],e[3])},!1)){v.forEach(function(t){var e=i(o,s,x,w,t[0],t[1],t[2],t[3]);e&&(o=e.x,s=e.y)});var g=V.arrowwidth,_=V.arrowcolor,T=X.append("g").style({opacity:p.opacity(_)}).classed("annotation-arrow-g",!0).attr("data-index",String(e)),E=T.append("path").attr("d","M"+o+","+s+"L"+x+","+w).style("stroke-width",g+"px").call(p.stroke,p.rgb(_));b(E,V.arrowhead,"end",V.arrowsize);var C=T.append("path").classed("annotation",!0).classed("anndrag",!0).attr({"data-index":String(e),d:"M3,3H-3V-3H3ZM0,0L"+(o-x)+","+(s-w),transform:"translate("+x+","+w+")"}).style("stroke-width",g+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)");if(t._context.editable){var k,S,M;y.init({element:C.node(),prepFn:function(){var t=c.getTranslate(Q);S=t.x,M=t.y,k={},H&&H.autorange&&(k[H._name+".autorange"]=!0),G&&G.autorange&&(k[G._name+".autorange"]=!0)},moveFn:function(t,e){T.attr("transform","translate("+t+","+e+")");var n=f(S,M),r=n[0]+t,o=n[1]+e;Q.call(c.setTranslate,r,o),k[P+".x"]=H?V.x+t/H._m:(x+t-D.l)/D.w,k[P+".y"]=G?V.y+e/G._m:1-(w+e-D.t)/D.h,V.axref===V.xref&&(k[P+".ax"]=H?V.ax+t/H._m:(x+t-D.l)/D.w),V.ayref===V.yref&&(k[P+".ay"]=G?V.ay+e/G._m:1-(w+e-D.t)/D.h),K.attr({transform:"rotate("+Z+","+r+","+o+")"})},doneFn:function(e){if(e){l.relayout(t,k);var n=document.querySelector(".js-notes-box-panel");n&&n.redraw(n.selectedObj)}}})}}};V.showarrow&&M(0,0);var A=c.rotationXYMatrix(Z,Y.x,Y.y),O=c.apply2DTransform(A);if(t._context.editable){var L,I,j;y.init({element:Q.node(),prepFn:function(){var t=c.getTranslate(Q);L=t.x,I=t.y,j={}},moveFn:function(t,e){Q.call(c.setTranslate,L+t,I+e);var n="pointer";if(V.showarrow)V.axref===V.xref?j[P+".ax"]=H.p2l(H.l2p(V.ax)+t):j[P+".ax"]=V.ax+t,V.ayref===V.yref?j[P+".ay"]=G.p2l(G.l2p(V.ay)+e):j[P+".ay"]=V.ay+e,M(t,e);else{if(H)j[P+".x"]=V.x+t/H._m;else{var r=V._xsize/D.w,o=V.x+V._xshift/D.w-r/2;j[P+".x"]=y.align(o+t/D.w,r,0,1,V.xanchor)}if(G)j[P+".y"]=V.y+e/G._m;else{var i=V._ysize/D.h,a=V.y-V._yshift/D.h-i/2;j[P+".y"]=y.align(a-e/D.h,i,0,1,V.yanchor)}H&&G||(n=y.getCursor(H?.5:j[P+".x"],G?.5:j[P+".y"],V.xanchor,V.yanchor))}var s=O(L,I),l=s[0]+t,u=s[1]+e;Q.call(c.setTranslate,L+t,I+e),K.attr({transform:"rotate("+Z+","+l+","+u+")"}),m(Q,n)},doneFn:function(e){if(m(Q),e){l.relayout(t,j);var n=document.querySelector(".js-notes-box-panel");n&&n.redraw(n.selectedObj)}}})}}var w,T=t.layout,E=t._fullLayout;if(!s(e)||e===-1){if(!e&&Array.isArray(u))return T.annotations=u,g(T,E),void r(t);if("remove"===u)return delete T.annotations,E.annotations=[],void r(t);if(n&&"add"!==u){for(w=0;w<E.annotations.length;w++)o(t,w,n,u);return}e=E.annotations.length,E.annotations.push({})}if(!n&&u){if("remove"===u){for(E._infolayer.selectAll('.annotation[data-index="'+e+'"]').remove(),E.annotations.splice(e,1),T.annotations.splice(e,1),w=e;w<E.annotations.length;w++)E._infolayer.selectAll('.annotation[data-index="'+(w+1)+'"]').attr("data-index",String(w)),o(t,w);return}if("add"===u||c.isPlainObject(u)){E.annotations.splice(e,0,{});var C=c.isPlainObject(u)?c.extendFlat({},u):{text:"New text"};for(T.annotations?T.annotations.splice(e,0,C):T.annotations=[C],w=E.annotations.length-1;w>e;w--)E._infolayer.selectAll('.annotation[data-index="'+(w-1)+'"]').attr("data-index",String(w)),o(t,w)}}E._infolayer.selectAll('.annotation[data-index="'+e+'"]').remove();var k=T.annotations[e],S=E.annotations[e];if(k){var P={xref:k.xref,yref:k.yref},M={};"string"==typeof n&&n?M[n]=u:c.isPlainObject(n)&&(M=n);var A=Object.keys(M);for(w=0;w<A.length;w++){var O=A[w];c.nestedProperty(k,O).set(M[O])}var D=E._size,L=["x","y"];for(w=0;w<2;w++){var I=L[w];if(void 0===M[I]&&void 0!==k[I]){var j=f.getFromId(t,f.coerceRef(P,{},t,I)),F=f.getFromId(t,f.coerceRef(k,{},t,I)),R=k[I],N=S["_"+I+"type"];if(void 0!==M[I+"ref"]){var z="auto"===k[I+"anchor"],B="x"===I?D.w:D.h,U=(S["_"+I+"size"]||0)/(2*B);if(j&&F)R=(R-j.range[0])/(j.range[1]-j.range[0]),R=F.range[0]+R*(F.range[1]-F.range[0]);else if(j){if(R=(R-j.range[0])/(j.range[1]-j.range[0]),R=j.domain[0]+R*(j.domain[1]-j.domain[0]),z){var W=R+U,q=R-U;R+q<2/3?R=q:R+W>4/3&&(R=W)}}else F&&(z&&(R<1/3?R+=U:R>2/3&&(R-=U)),R=(R-F.domain[0])/(F.domain[1]-F.domain[0]),R=F.range[0]+R*(F.range[1]-F.range[0]))}F&&F===j&&N&&("log"===N&&"log"!==F.type?R=Math.pow(10,R):"log"!==N&&"log"===F.type&&(R=R>0?Math.log(R)/Math.LN10:void 0)),k[I]=R}}var V=v(k,E);E.annotations[e]=V;var H=f.getFromId(t,V.xref),G=f.getFromId(t,V.yref),Y={x:0,y:0},Z=+V.textangle||0,X=E._infolayer.append("g").classed("annotation",!0).attr("data-index",String(e)).style("opacity",V.opacity).on("click",function(){t._dragging=!1,t.emit("plotly_clickannotation",{index:e,annotation:k,fullAnnotation:V})}),K=X.append("g").classed("annotation-text-g",!0).attr("data-index",String(e)),Q=K.append("g"),J=V.borderwidth,$=V.borderpad,tt=J+$,et=Q.append("rect").attr("class","bg").style("stroke-width",J+"px").call(p.stroke,V.bordercolor).call(p.fill,V.bgcolor),nt=V.font,rt=Q.append("text").classed("annotation",!0).attr("data-unformatted",V.text).text(V.text);t._context.editable?rt.call(d.makeEditable,Q).call(_).on("edit",function(n){V.text=n,this.attr({"data-unformatted":V.text}),this.call(_);var r={};r["annotations["+e+"].text"]=V.text,H&&H.autorange&&(r[H._name+".autorange"]=!0),G&&G.autorange&&(r[G._name+".autorange"]=!0),l.relayout(t,r)}):rt.call(_),K.attr({transform:"rotate("+Z+","+Y.x+","+Y.y+")"}).call(h.setPosition,Y.x,Y.y)}}function i(t,e,n,r,o,i,a,s){var l=n-t,u=o-t,c=a-o,f=r-e,p=i-e,h=s-i,d=l*h-c*f;if(0===d)return null;var m=(u*h-c*p)/d,y=(u*f-l*p)/d;return y<0||y>1||m<0||m>1?null:{x:t+l*m,y:e+f*m}}var a=t("d3"),s=t("fast-isnumeric"),l=t("../../plotly"),u=t("../../plots/plots"),c=t("../../lib"),f=t("../../plots/cartesian/axes"),p=t("../color"),h=t("../drawing"),d=t("../../lib/svg_text_utils"),m=t("../../lib/setcursor"),y=t("../dragelement"),v=t("./annotation_defaults"),g=t("./defaults"),b=t("./draw_arrow_head");e.exports={draw:r,drawOne:o}},{"../../lib":633,"../../lib/setcursor":643,"../../lib/svg_text_utils":647,"../../plotly":658,"../../plots/cartesian/axes":662,"../../plots/plots":720,"../color":540,"../dragelement":561,"../drawing":563,"./annotation_defaults":531,"./defaults":535,"./draw_arrow_head":537,d3:125,"fast-isnumeric":129}],537:[function(t,e,n){"use strict";var r=t("d3"),o=t("fast-isnumeric"),i=t("../color"),a=t("../drawing"),s=t("./arrow_paths");e.exports=function(t,e,n,l){o(l)||(l=1);var u=t.node(),c=s[e||0];if(c){"string"==typeof n&&n||(n="end");var f,p,h,d,m=(a.getPx(t,"stroke-width")||1)*l,y=t.style("stroke")||i.defaultLine,v=t.style("stroke-opacity")||1,g=n.indexOf("start")>=0,b=n.indexOf("end")>=0,_=c.backoff*m;if("line"===u.nodeName){if(f={x:+t.attr("x1"),y:+t.attr("y1")},p={x:+t.attr("x2"),y:+t.attr("y2")},h=Math.atan2(f.y-p.y,f.x-p.x),d=h+Math.PI,_){var x=_*Math.cos(h),w=_*Math.sin(h);g&&(f.x-=x,f.y-=w,t.attr({x1:f.x,y1:f.y})),b&&(p.x+=x,p.y+=w,t.attr({x2:p.x,y2:p.y}))}}else if("path"===u.nodeName){var T=u.getTotalLength(),E="";if(g){var C=u.getPointAtLength(0),k=u.getPointAtLength(.1);h=Math.atan2(C.y-k.y,C.x-k.x),f=u.getPointAtLength(Math.min(_,T)),_&&(E="0px,"+_+"px,")}if(b){var S=u.getPointAtLength(T),P=u.getPointAtLength(T-.1);if(d=Math.atan2(S.y-P.y,S.x-P.x),p=u.getPointAtLength(Math.max(0,T-_)),_){var M=E?2*_:_;E+=T-M+"px,"+T+"px"}}else E&&(E+=T+"px");E&&t.style("stroke-dasharray",E)}var A=function(n,o){e>5&&(o=0),r.select(u.parentElement).append("path").attr({"class":t.attr("class"),d:c.path,transform:"translate("+n.x+","+n.y+")rotate("+180*o/Math.PI+")scale("+m+")"}).style({fill:y,opacity:v,"stroke-width":0})};g&&A(f,h),b&&A(p,d)}}},{"../color":540,"../drawing":563,"./arrow_paths":532,d3:125,"fast-isnumeric":129}],538:[function(t,e,n){"use strict";var r=t("../../plotly");n.moduleType="component",n.name="annotations",n.ARROWPATHS=t("./arrow_paths"),n.layoutAttributes=t("./attributes"),n.supplyLayoutDefaults=t("./defaults"),n.calcAutorange=t("./calc_autorange"),n.arrowhead=t("./draw_arrow_head");var o=t("./draw");n.draw=o.draw,n.drawOne=o.drawOne,n.add=function(t){var e=t._fullLayout.annotations.length;r.relayout(t,"annotations["+e+"]","add")}},{"../../plotly":658,"./arrow_paths":532,"./attributes":533,"./calc_autorange":534,"./defaults":535,"./draw":536,"./draw_arrow_head":537}],539:[function(t,e,n){"use strict";n.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],n.defaultLine="#444",n.lightLine="#eee",n.background="#fff",n.borderLine="#BEC8D9",n.lightFraction=1e3/11},{}],540:[function(t,e,n){"use strict";function r(t){if(i(t)||"string"!=typeof t)return t;var e=t.trim();if("rgb"!==e.substr(0,3))return t;var n=e.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var r=n[1].trim().split(/\s*[\s,]\s*/),o="a"===e.charAt(3)&&4===r.length;if(!o&&3!==r.length)return t;for(var a=0;a<r.length;a++){if(!r[a].length)return t;if(r[a]=Number(r[a]),!(r[a]>=0))return t;if(3===a)r[a]>1&&(r[a]=1);else if(r[a]>=1)return t}var s=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return o?"rgba("+s+", "+r[3]+")":"rgb("+s+")"}var o=t("tinycolor2"),i=t("fast-isnumeric"),a=e.exports={},s=t("./attributes");a.defaults=s.defaults,a.defaultLine=s.defaultLine,a.lightLine=s.lightLine,a.background=s.background,a.tinyRGB=function(t){var e=t.toRgb();return"rgb("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+")"},a.rgb=function(t){return a.tinyRGB(o(t))},a.opacity=function(t){return t?o(t).getAlpha():0},a.addOpacity=function(t,e){var n=o(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+e+")"},a.combine=function(t,e){var n=o(t).toRgb();if(1===n.a)return o(t).toRgbString();var r=o(e||a.background).toRgb(),i=1===r.a?r:{r:255*(1-r.a)+r.r*r.a,g:255*(1-r.a)+r.g*r.a,b:255*(1-r.a)+r.b*r.a},s={r:i.r*(1-n.a)+n.r*n.a,g:i.g*(1-n.a)+n.g*n.a,b:i.b*(1-n.a)+n.b*n.a};return o(s).toRgbString()},a.contrast=function(t,e,n){var r=o(t),i=r.isLight()?r.darken(n):r.lighten(e);return i.toString()},a.stroke=function(t,e){var n=o(e);t.style({stroke:a.tinyRGB(n),"stroke-opacity":n.getAlpha()})},a.fill=function(t,e){var n=o(e);t.style({fill:a.tinyRGB(n),"fill-opacity":n.getAlpha()})},a.clean=function(t){if(t&&"object"==typeof t){var e,n,o,i,s=Object.keys(t);for(e=0;e<s.length;e++)if(o=s[e],i=t[o],"color"===o.substr(o.length-5))if(Array.isArray(i))for(n=0;n<i.length;n++)i[n]=r(i[n]);else t[o]=r(i);else if("colorscale"===o.substr(o.length-10)&&Array.isArray(i))for(n=0;n<i.length;n++)Array.isArray(i[n])&&(i[n][1]=r(i[n][1]));else if(Array.isArray(i)){var l=i[0];if(!Array.isArray(l)&&l&&"object"==typeof l)for(n=0;n<i.length;n++)a.clean(i[n])}else i&&"object"==typeof i&&a.clean(i)}}},{"./attributes":539,"fast-isnumeric":129,tinycolor2:506}],541:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/layout_attributes"),o=t("../../plots/font_attributes"),i=t("../../lib/extend").extendFlat;e.exports={thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",dflt:1.02,min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",dflt:.5,min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{valType:"number",min:0,dflt:10},outlinecolor:r.linecolor,outlinewidth:r.linewidth,bordercolor:r.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:i({},r.ticks,{dflt:""}),ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,tickfont:r.tickfont,tickangle:r.tickangle,tickformat:r.tickformat,tickprefix:r.tickprefix,showtickprefix:r.showtickprefix,ticksuffix:r.ticksuffix,showticksuffix:r.showticksuffix,separatethousands:r.separatethousands,exponentformat:r.exponentformat,showexponent:r.showexponent,title:{valType:"string",dflt:"Click to enter colorscale title"},titlefont:i({},o,{}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},{"../../lib/extend":627,"../../plots/cartesian/layout_attributes":671,"../../plots/font_attributes":681}],542:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("../../plots/cartesian/tick_value_defaults"),i=t("../../plots/cartesian/tick_mark_defaults"),a=t("../../plots/cartesian/tick_label_defaults"),s=t("./attributes");e.exports=function(t,e,n){function l(t,e){return r.coerce(c,u,s,t,e)}var u=e.colorbar={},c=t.colorbar||{},f=l("thicknessmode");l("thickness","fraction"===f?30/(n.width-n.margin.l-n.margin.r):30);var p=l("lenmode");l("len","fraction"===p?1:n.height-n.margin.t-n.margin.b),l("x"),l("xanchor"),l("xpad"),l("y"),l("yanchor"),l("ypad"),r.noneOrAll(c,u,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor"),o(c,u,l,"linear"),a(c,u,l,"linear",{outerTicks:!1,font:n.font,noHover:!0}),i(c,u,l,"linear",{outerTicks:!1,font:n.font,noHover:!0}),l("title"),r.coerceFont(l,"titlefont",n.font),l("titleside")}},{"../../lib":633,"../../plots/cartesian/tick_label_defaults":677,"../../plots/cartesian/tick_mark_defaults":678,"../../plots/cartesian/tick_value_defaults":679,"./attributes":541}],543:[function(t,e,n){"use strict";var r=t("d3"),o=t("tinycolor2"),i=t("../../plotly"),a=t("../../plots/plots"),s=t("../../registry"),l=t("../../plots/cartesian/axes"),u=t("../dragelement"),c=t("../../lib"),f=t("../../lib/extend").extendFlat,p=t("../../lib/setcursor"),h=t("../drawing"),d=t("../color"),m=t("../titles"),y=t("../../plots/cartesian/axis_defaults"),v=t("../../plots/cartesian/position_defaults"),g=t("../../plots/cartesian/layout_attributes"),b=t("./attributes");e.exports=function(t,e){function n(){function b(t,e){return c.coerce(J,$,g,t,e)}function w(){if(["top","bottom"].indexOf(x.titleside)!==-1){var e=it.select(".cbtitle"),n=e.select("text"),i=[-x.outlinewidth/2,x.outlinewidth/2],a=e.select(".h"+$._id+"title-math-group").node(),s=15.6;if(n.node()&&(s=1.3*parseInt(n.style("font-size"),10)),a?(st=h.bBox(a).height,st>s&&(i[1]-=(st-s)/2)):n.node()&&!n.classed("js-placeholder")&&(st=h.bBox(e.node()).height),st){if(st+=5,"top"===x.titleside)$.domain[1]-=st/k.h,i[1]*=-1;else{$.domain[0]+=st/k.h;var u=Math.max(1,n.selectAll("tspan.line").size());i[1]+=(1-u)*s}e.attr("transform","translate("+i+")"),$.setScale()}}it.selectAll(".cbfills,.cblines,.cbaxis").attr("transform","translate(0,"+Math.round(k.h*(1-$.domain[1]))+")");var f=it.select(".cbfills").selectAll("rect.cbfill").data(A);f.enter().append("rect").classed("cbfill",!0).style("stroke","none"),f.exit().remove(),f.each(function(t,e){var n=[0===e?P[0]:(A[e]+A[e-1])/2,e===A.length-1?P[1]:(A[e]+A[e+1])/2].map($.c2p).map(Math.round);e!==A.length-1&&(n[1]+=n[1]>n[0]?1:-1);var i=D(t).replace("e-",""),a=o(i).toHexString();r.select(this).attr({x:Y,width:Math.max(B,2),y:r.min(n),height:Math.max(r.max(n)-r.min(n),2),fill:a})});var p=it.select(".cblines").selectAll("path.cbline").data(x.line.color&&x.line.width?M:[]);return p.enter().append("path").classed("cbline",!0),p.exit().remove(),p.each(function(t){r.select(this).attr("d","M"+Y+","+(Math.round($.c2p(t))+x.line.width/2%1)+"h"+B).call(h.lineGroupStyle,x.line.width,O(t),x.line.dash)}),$._axislayer.selectAll("g."+$._id+"tick,path").remove(),$._pos=Y+B+(x.outlinewidth||0)/2-("outside"===x.ticks?1:0),$.side="right",c.syncOrAsync([function(){return l.doTicks(t,$,!0)},function(){if(["top","bottom"].indexOf(x.titleside)===-1){var e=$.titlefont.size,n=$._offset+$._length/2,o=k.l+($.position||0)*k.w+("right"===$.side?10+e*($.showticklabels?1:.5):-10-e*($.showticklabels?.5:0));T("h"+$._id+"title",{avoid:{selection:r.select(t).selectAll("g."+$._id+"tick"),side:x.titleside,offsetLeft:k.l,offsetTop:k.t,maxShift:C.width},attributes:{x:o,y:n,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}])}function T(e,n){var r,o=_();r=s.traceIs(o,"markerColorscale")?"marker.colorbar.title":"colorbar.title";var i={propContainer:$,propName:r,traceIndex:o.index,dfltName:"colorscale",containerGroup:it.select(".cbtitle")},a="h"===e.charAt(0)?e.substr(1):"h"+e;it.selectAll("."+a+",."+a+"-math-group").remove(),m.draw(t,e,f(i,n||{}))}function E(){var n=B+x.outlinewidth/2+h.bBox($._axislayer.node()).width;if(R=at.select("text"),R.node()&&!R.classed("js-placeholder")){var r,o=at.select(".h"+$._id+"title-math-group").node();r=o&&["top","bottom"].indexOf(x.titleside)!==-1?h.bBox(o).width:h.bBox(at.node()).right-Y-k.l,n=Math.max(n,r)}var i=2*x.xpad+n+x.borderwidth+x.outlinewidth/2,s=K-Q;it.select(".cbbg").attr({x:Y-x.xpad-(x.borderwidth+x.outlinewidth)/2,y:Q-H,width:Math.max(i,2),height:Math.max(s+2*H,2)}).call(d.fill,x.bgcolor).call(d.stroke,x.bordercolor).style({"stroke-width":x.borderwidth}),it.selectAll(".cboutline").attr({x:Y,y:Q+x.ypad+("top"===x.titleside?st:0),width:Math.max(B,2),height:Math.max(s-2*x.ypad-st,2)}).call(d.stroke,x.outlinecolor).style({fill:"None","stroke-width":x.outlinewidth});var l=({center:.5,right:1}[x.xanchor]||0)*i;it.attr("transform","translate("+(k.l-l)+","+k.t+")"),a.autoMargin(t,e,{x:x.x,y:x.y,l:i*({right:1,center:.5}[x.xanchor]||0),r:i*({left:1,center:.5}[x.xanchor]||0),t:s*({bottom:1,middle:.5}[x.yanchor]||0),b:s*({top:1,middle:.5}[x.yanchor]||0)})}var C=t._fullLayout,k=C._size;if("function"!=typeof x.fillcolor&&"function"!=typeof x.line.color)return void C._infolayer.selectAll("g."+e).remove();var S,P=r.extent(("function"==typeof x.fillcolor?x.fillcolor:x.line.color).domain()),M=[],A=[],O="function"==typeof x.line.color?x.line.color:function(){return x.line.color},D="function"==typeof x.fillcolor?x.fillcolor:function(){return x.fillcolor},L=x.levels.end+x.levels.size/100,I=x.levels.size,j=1.001*P[0]-.001*P[1],F=1.001*P[1]-.001*P[0];for(S=x.levels.start;(S-L)*I<0;S+=I)S>j&&S<F&&M.push(S);if("function"==typeof x.fillcolor)if(x.filllevels)for(L=x.filllevels.end+x.filllevels.size/100,I=x.filllevels.size,S=x.filllevels.start;(S-L)*I<0;S+=I)S>P[0]&&S<P[1]&&A.push(S);else A=M.map(function(t){return t-x.levels.size/2}),A.push(A[A.length-1]+x.levels.size);else x.fillcolor&&"string"==typeof x.fillcolor&&(A=[0]);x.levels.size<0&&(M.reverse(),A.reverse());var R,N=C.height-C.margin.t-C.margin.b,z=C.width-C.margin.l-C.margin.r,B=Math.round(x.thickness*("fraction"===x.thicknessmode?z:1)),U=B/k.w,W=Math.round(x.len*("fraction"===x.lenmode?N:1)),q=W/k.h,V=x.xpad/k.w,H=(x.borderwidth+x.outlinewidth)/2,G=x.ypad/k.h,Y=Math.round(x.x*k.w+x.xpad),Z=x.x-U*({middle:.5,right:1}[x.xanchor]||0),X=x.y+q*(({top:-.5,bottom:.5}[x.yanchor]||0)-.5),K=Math.round(k.h*(1-X)),Q=K-W,J={type:"linear",range:P,tickmode:x.tickmode,nticks:x.nticks,tick0:x.tick0,dtick:x.dtick,tickvals:x.tickvals,ticktext:x.ticktext,ticks:x.ticks,ticklen:x.ticklen,tickwidth:x.tickwidth,tickcolor:x.tickcolor,showticklabels:x.showticklabels,tickfont:x.tickfont,tickangle:x.tickangle,tickformat:x.tickformat,exponentformat:x.exponentformat,separatethousands:x.separatethousands,showexponent:x.showexponent,showtickprefix:x.showtickprefix,tickprefix:x.tickprefix,showticksuffix:x.showticksuffix,ticksuffix:x.ticksuffix,title:x.title,titlefont:x.titlefont,anchor:"free",position:1},$={},tt={letter:"y",font:C.font,noHover:!0};if(y(J,$,b,tt),v(J,$,b,tt),$._id="y"+e,$._gd=t,$.position=x.x+V+U,n.axis=$,["top","bottom"].indexOf(x.titleside)!==-1&&($.titleside=x.titleside,$.titlex=x.x+V,$.titley=X+("top"===x.titleside?q-G:G)),x.line.color&&"auto"===x.tickmode){$.tickmode="linear",$.tick0=x.levels.start;var et=x.levels.size,nt=c.constrain((K-Q)/50,4,15)+1,rt=(P[1]-P[0])/((x.nticks||nt)*et);if(rt>1){var ot=Math.pow(10,Math.floor(Math.log(rt)/Math.LN10));et*=ot*c.roundUp(rt/ot,[2,5,10]),(Math.abs(x.levels.start)/x.levels.size+1e-6)%1<2e-6&&($.tick0=0)}$.dtick=et}$.domain=[X+G,X+q-G],$.setScale();var it=C._infolayer.selectAll("g."+e).data([0]);it.enter().append("g").classed(e,!0).each(function(){var t=r.select(this);t.append("rect").classed("cbbg",!0),t.append("g").classed("cbfills",!0),t.append("g").classed("cblines",!0),t.append("g").classed("cbaxis",!0).classed("crisp",!0),t.append("g").classed("cbtitleunshift",!0).append("g").classed("cbtitle",!0),t.append("rect").classed("cboutline",!0),t.select(".cbtitle").datum(0)}),it.attr("transform","translate("+Math.round(k.l)+","+Math.round(k.t)+")");var at=it.select(".cbtitleunshift").attr("transform","translate(-"+Math.round(k.l)+",-"+Math.round(k.t)+")");$._axislayer=it.select(".cbaxis");var st=0;if(["top","bottom"].indexOf(x.titleside)!==-1){var lt,ut=k.l+(x.x+V)*k.w,ct=$.titlefont.size;lt="top"===x.titleside?(1-(X+q-G))*k.h+k.t+3+.75*ct:(1-(X+G))*k.h+k.t-3-.25*ct,T($._id+"title",{attributes:{x:ut,y:lt,"text-anchor":"start"}})}var ft=c.syncOrAsync([a.previousPromises,w,a.previousPromises,E],t);if(ft&&ft.then&&(t._promises||[]).push(ft),t._context.editable){var pt,ht,dt;u.init({element:it.node(),prepFn:function(){pt=it.attr("transform"),p(it)},moveFn:function(t,e){it.attr("transform",pt+" translate("+t+","+e+")"),ht=u.align(Z+t/k.w,U,0,1,x.xanchor),dt=u.align(X-e/k.h,q,0,1,x.yanchor);var n=u.getCursor(ht,dt,x.xanchor,x.yanchor);p(it,n)},doneFn:function(e){p(it),e&&void 0!==ht&&void 0!==dt&&i.restyle(t,{"colorbar.x":ht,"colorbar.y":dt},_().index)}})}return ft}function _(){var n,r,o=e.substr(2);for(n=0;n<t._fullData.length;n++)if(r=t._fullData[n],r.uid===o)return r}var x={};return Object.keys(b).forEach(function(t){x[t]=null}),x.fillcolor=null,x.line={color:null,width:null,dash:null},x.levels={start:null,end:null,size:null},x.filllevels=null,Object.keys(x).forEach(function(t){n[t]=function(e){return arguments.length?(x[t]=c.isPlainObject(x[t])?c.extendFlat(x[t],e):e,n):x[t]}}),n.options=function(t){return Object.keys(t).forEach(function(e){"function"==typeof n[e]&&n[e](t[e])}),n},n._opts=x,n}},{"../../lib":633,"../../lib/extend":627,"../../lib/setcursor":643,"../../plotly":658,"../../plots/cartesian/axes":662,"../../plots/cartesian/axis_defaults":663,"../../plots/cartesian/layout_attributes":671,"../../plots/cartesian/position_defaults":674,"../../plots/plots":720,"../../registry":735,"../color":540,"../dragelement":561,"../drawing":563,"../titles":610,"./attributes":541,d3:125,tinycolor2:506}],544:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t){return r.isPlainObject(t.colorbar)}},{"../../lib":633}],545:[function(t,e,n){"use strict";n.attributes=t("./attributes"),n.supplyDefaults=t("./defaults"),n.draw=t("./draw"),n.hasColorbar=t("./has_colorbar")},{"./attributes":541,"./defaults":542,"./draw":543,"./has_colorbar":544}],546:[function(t,e,n){"use strict";e.exports={zauto:{valType:"boolean",dflt:!0},zmin:{valType:"number",dflt:null},zmax:{valType:"number",dflt:null},colorscale:{valType:"colorscale"},autocolorscale:{valType:"boolean",dflt:!0},reversescale:{valType:"boolean",dflt:!1},showscale:{valType:"boolean",dflt:!0}}},{}],547:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("./scales"),i=t("./flip_scale");e.exports=function(t,e,n,a){var s,l;n?(s=r.nestedProperty(t,n).get(),l=r.nestedProperty(t._input,n).get()):(s=t,l=t._input);var u=s[a+"auto"],c=s[a+"min"],f=s[a+"max"],p=s.colorscale;u===!1&&void 0!==c||(c=r.aggNums(Math.min,null,e)),u===!1&&void 0!==f||(f=r.aggNums(Math.max,null,e)),c===f&&(c-=.5,f+=.5),s[a+"min"]=c,s[a+"max"]=f,l[a+"min"]=c,l[a+"max"]=f,s.autocolorscale&&(p=c*f<0?o.RdBu:c>=0?o.Reds:o.Blues,l.colorscale=p,s.reversescale&&(p=i(p)),s.colorscale=p)}},{"../../lib":633,"./flip_scale":551,"./scales":558}],548:[function(t,e,n){"use strict";var r=t("./attributes"),o=t("../../lib/extend").extendDeep;t("./scales.js");e.exports=function(t){return{color:{valType:"color",arrayOk:!0},colorscale:o({},r.colorscale,{}),cauto:o({},r.zauto,{}),cmax:o({},r.zmax,{}),cmin:o({},r.zmin,{}),autocolorscale:o({},r.autocolorscale,{}),reversescale:o({},r.reversescale,{})}}},{"../../lib/extend":627,"./attributes":546,"./scales.js":558}],549:[function(t,e,n){"use strict";var r=t("./scales");e.exports=r.RdBu},{"./scales":558}],550:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),o=t("../../lib"),i=t("../colorbar/has_colorbar"),a=t("../colorbar/defaults"),s=t("./is_valid_scale"),l=t("./flip_scale");e.exports=function(t,e,n,u,c){var f=c.prefix,p=c.cLetter,h=f.slice(0,f.length-1),d=f?o.nestedProperty(t,h).get()||{}:t,m=f?o.nestedProperty(e,h).get()||{}:e,y=d[p+"min"],v=d[p+"max"],g=d.colorscale,b=r(y)&&r(v)&&y<v;u(f+p+"auto",!b),u(f+p+"min"),u(f+p+"max");var _;void 0!==g&&(_=!s(g)),u(f+"autocolorscale",_);var x=u(f+"colorscale"),w=u(f+"reversescale");if(w&&(m.colorscale=l(x)),"marker.line."!==f){var T;f&&(T=i(d));var E=u(f+"showscale",T);E&&a(d,m,n)}}},{"../../lib":633,"../colorbar/defaults":542,"../colorbar/has_colorbar":544,"./flip_scale":551,"./is_valid_scale":555,"fast-isnumeric":129}],551:[function(t,e,n){"use strict";e.exports=function(t){for(var e,n=t.length,r=new Array(n),o=n-1,i=0;o>=0;o--,i++)e=t[o],r[i]=[1-e[0],e[1]];return r}},{}],552:[function(t,e,n){"use strict";var r=t("./scales"),o=t("./default_scale"),i=t("./is_valid_scale_array");e.exports=function(t,e){function n(){try{t=r[t]||JSON.parse(t)}catch(n){t=e}}return e||(e=o),t?("string"==typeof t&&(n(),"string"==typeof t&&n()),i(t)?t:e):e}},{"./default_scale":549,"./is_valid_scale_array":556,"./scales":558}],553:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),o=t("../../lib"),i=t("./is_valid_scale");e.exports=function(t,e){var n=e?o.nestedProperty(t,e).get()||{}:t,a=n.color,s=!1;if(Array.isArray(a))for(var l=0;l<a.length;l++)if(r(a[l])){s=!0;break}return o.isPlainObject(n)&&(s||n.showscale===!0||r(n.cmin)&&r(n.cmax)||i(n.colorscale)||o.isPlainObject(n.colorbar))}},{"../../lib":633,"./is_valid_scale":555,"fast-isnumeric":129}],554:[function(t,e,n){"use strict";n.scales=t("./scales"),n.defaultScale=t("./default_scale"),n.attributes=t("./attributes"),n.handleDefaults=t("./defaults"),n.calc=t("./calc"),n.hasColorscale=t("./has_colorscale"),n.isValidScale=t("./is_valid_scale"),n.getScale=t("./get_scale"),n.flipScale=t("./flip_scale"),n.makeScaleFunction=t("./make_scale_function")},{"./attributes":546,"./calc":547,"./default_scale":549,"./defaults":550,"./flip_scale":551,"./get_scale":552,"./has_colorscale":553,"./is_valid_scale":555,"./make_scale_function":557,"./scales":558}],555:[function(t,e,n){"use strict";var r=t("./scales"),o=t("./is_valid_scale_array");e.exports=function(t){return void 0!==r[t]||o(t)}},{"./is_valid_scale_array":556,"./scales":558}],556:[function(t,e,n){"use strict";var r=t("tinycolor2");e.exports=function(t){var e=0;if(!Array.isArray(t)||t.length<2)return!1;if(!t[0]||!t[t.length-1])return!1;if(0!==+t[0][0]||1!==+t[t.length-1][0])return!1;for(var n=0;n<t.length;n++){var o=t[n];if(2!==o.length||+o[0]<e||!r(o[1]).isValid())return!1;e=+o[0]}return!0}},{tinycolor2:506}],557:[function(t,e,n){"use strict";var r=t("d3"),o=t("tinycolor2"),i=t("fast-isnumeric"),a=t("../../lib"),s=t("../color");e.exports=function(t,e,n){for(var l,u=t.length,c=new Array(u),f=new Array(u),p=0;p<u;p++)l=t[p],c[p]=e+l[0]*(n-e),f[p]=o(l[1]).toRgb();var h=r.scale.linear().domain(c).interpolate(r.interpolateObject).range(f);return function(t){if(i(t)){var r=a.constrain(t,e,n),l=h(r);return o(l).toRgbString()}return o(t).isValid()?t:s.defaultLine}}},{"../../lib":633,"../color":540,d3:125,"fast-isnumeric":129,tinycolor2:506}],558:[function(t,e,n){"use strict";e.exports={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],
Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]]}},{}],559:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,o){var i=(t-n)/(r-n),a=i+e/(r-n),s=(i+a)/2;return"left"===o||"bottom"===o?i:"center"===o||"middle"===o?s:"right"===o||"top"===o?a:i<2/3-s?i:a>4/3-s?a:s}},{}],560:[function(t,e,n){"use strict";var r=t("../../lib"),o=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function(t,e,n,i){return t="left"===n?0:"center"===n?1:"right"===n?2:r.constrain(Math.floor(3*t),0,2),e="bottom"===i?0:"middle"===i?1:"top"===i?2:r.constrain(Math.floor(3*e),0,2),o[e][t]}},{"../../lib":633}],561:[function(t,e,n){"use strict";function r(){var t=document.createElement("div");t.className="dragcover";var e=t.style;return e.position="fixed",e.left=0,e.right=0,e.top=0,e.bottom=0,e.zIndex=999999999,e.background="none",document.body.appendChild(t),t}function o(t){t._dragging=!1,t._replotPending&&i.plot(t)}var i=t("../../plotly"),a=t("../../lib"),s=t("../../plots/cartesian/constants"),l=e.exports={};l.align=t("./align"),l.getCursor=t("./cursor");var u=t("./unhover");l.unhover=u.wrapped,l.unhoverRaw=u.raw,l.init=function(t){function e(e){return t.element.onmousemove=d,m._dragged=!1,m._dragging=!0,u=e.clientX,c=e.clientY,h=e.target,f=(new Date).getTime(),f-m._mouseDownTime<v?y+=1:(y=1,m._mouseDownTime=f),t.prepFn&&t.prepFn(e,u,c),p=r(),p.onmousemove=n,p.onmouseup=i,p.onmouseout=i,p.style.cursor=window.getComputedStyle(t.element).cursor,a.pauseEvent(e)}function n(e){var n=e.clientX-u,r=e.clientY-c,o=t.minDrag||s.MINDRAG;return Math.abs(n)<o&&(n=0),Math.abs(r)<o&&(r=0),(n||r)&&(m._dragged=!0,l.unhover(m)),t.moveFn&&t.moveFn(n,r,m._dragged),a.pauseEvent(e)}function i(e){if(d=t.element.onmousemove,t.setCursor&&(t.element.onmousemove=t.setCursor),p.onmousemove=null,p.onmouseup=null,p.onmouseout=null,a.removeElement(p),!m._dragging)return void(m._dragged=!1);if(m._dragging=!1,(new Date).getTime()-m._mouseDownTime>v&&(y=Math.max(y-1,1)),t.doneFn&&t.doneFn(m._dragged,y),!m._dragged){var n=document.createEvent("MouseEvents");n.initEvent("click",!0,!0),h.dispatchEvent(n)}return o(m),m._dragged=!1,a.pauseEvent(e)}var u,c,f,p,h,d,m=a.getPlotDiv(t.element)||{},y=1,v=s.DBLCLICKDELAY;m._mouseDownTime||(m._mouseDownTime=0),d=t.element.onmousemove,t.setCursor&&(t.element.onmousemove=t.setCursor),t.element.onmousedown=e,t.element.style.pointerEvents="all"}},{"../../lib":633,"../../plotly":658,"../../plots/cartesian/constants":667,"./align":559,"./cursor":560,"./unhover":562}],562:[function(t,e,n){"use strict";var r=t("../../lib/events"),o=e.exports={};o.wrapped=function(t,e,n){"string"==typeof t&&(t=document.getElementById(t)),t._hoverTimer&&(clearTimeout(t._hoverTimer),t._hoverTimer=void 0),o.raw(t,e,n)},o.raw=function(t,e){var n=t._fullLayout;e||(e={}),e.target&&r.triggerHandler(t,"plotly_beforehover",e)===!1||(n._hoverlayer.selectAll("g").remove(),e.target&&t._hoverdata&&t.emit("plotly_unhover",{points:t._hoverdata}),t._hoverdata=void 0)}},{"../../lib/events":626}],563:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a){if(s.traceIs(n,"symbols")){var u=d(n);e.attr("d",function(t){var e;e="various"===t.ms||"various"===i.size?3:h.isBubble(n)?u(t.ms):(i.size||6)/2,t.mrc=e;var r=m.symbolNumber(t.mx||i.symbol)||0,o=r%100;return t.om=r%200>=100,m.symbolFuncs[o](e)+(r>=200?g:"")}).style("opacity",function(t){return(t.mo+1||i.opacity+1)-1})}var c,f,p;t.so?(p=a.outlierwidth,f=a.outliercolor,c=i.outliercolor):(p=(t.mlw+1||a.width+1||(t.trace?t.trace.marker.line.width:0)+1)-1,f="mlc"in t?t.mlcc=o(t.mlc):Array.isArray(a.color)?l.defaultLine:a.color,c="mc"in t?t.mcc=r(t.mc):Array.isArray(i.color)?l.defaultLine:i.color||"rgba(0,0,0,0)"),t.om?e.call(l.stroke,c).style({"stroke-width":(p||1)+"px",fill:"none"}):(e.style("stroke-width",p+"px").call(l.fill,c),p&&e.call(l.stroke,f))}function o(t,e,n,r){var o=t[0]-e[0],a=t[1]-e[1],s=n[0]-e[0],l=n[1]-e[1],u=Math.pow(o*o+a*a,x/2),c=Math.pow(s*s+l*l,x/2),f=(c*c*o-u*u*s)*r,p=(c*c*a-u*u*l)*r,h=3*c*(u+c),d=3*u*(u+c);return[[i.round(e[0]+(h&&f/h),2),i.round(e[1]+(h&&p/h),2)],[i.round(e[0]-(d&&f/d),2),i.round(e[1]-(d&&p/d),2)]]}var i=t("d3"),a=t("fast-isnumeric"),s=t("../../registry"),l=t("../color"),u=t("../colorscale"),c=t("../../lib"),f=t("../../lib/svg_text_utils"),p=t("../../constants/xmlns_namespaces"),h=t("../../traces/scatter/subtypes"),d=t("../../traces/scatter/make_bubble_size_func"),m=e.exports={};m.font=function(t,e,n,r){e&&e.family&&(r=e.color,n=e.size,e=e.family),e&&t.style("font-family",e),n+1&&t.style("font-size",n+"px"),r&&t.call(l.fill,r)},m.setPosition=function(t,e,n){t.attr("x",e).attr("y",n)},m.setSize=function(t,e,n){t.attr("width",e).attr("height",n)},m.setRect=function(t,e,n,r,o){t.call(m.setPosition,e,n).call(m.setSize,r,o)},m.translatePoint=function(t,e,n,r){var o=t.xp||n.c2p(t.x),i=t.yp||r.c2p(t.y);a(o)&&a(i)?"text"===e.node().nodeName?e.attr("x",o).attr("y",i):e.attr("transform","translate("+o+","+i+")"):e.remove()},m.translatePoints=function(t,e,n,r){t.each(function(t){var o=i.select(this);m.translatePoint(t,o,e,n,r)})},m.getPx=function(t,e){return Number(t.style(e).replace(/px$/,""))},m.crispRound=function(t,e,n){return e&&a(e)?t._context.staticPlot?e:e<1?1:Math.round(e):n||0},m.singleLineStyle=function(t,e,n,r,o){e.style("fill","none");var i=(((t||[])[0]||{}).trace||{}).line||{},a=n||i.width||0,s=o||i.dash||"";l.stroke(e,r||i.color),m.dashLine(e,s,a)},m.lineGroupStyle=function(t,e,n,r){t.style("fill","none").each(function(t){var o=(((t||[])[0]||{}).trace||{}).line||{},a=e||o.width||0,s=r||o.dash||"";i.select(this).call(l.stroke,n||o.color).call(m.dashLine,s,a)})},m.dashLine=function(t,e,n){var r=Math.max(n,3);"solid"===e?e="":"dot"===e?e=r+"px,"+r+"px":"dash"===e?e=3*r+"px,"+3*r+"px":"longdash"===e?e=5*r+"px,"+5*r+"px":"dashdot"===e?e=3*r+"px,"+r+"px,"+r+"px,"+r+"px":"longdashdot"===e&&(e=5*r+"px,"+2*r+"px,"+r+"px,"+2*r+"px"),t.style({"stroke-dasharray":e,"stroke-width":n+"px"})},m.fillGroupStyle=function(t){t.style("stroke-width",0).each(function(e){var n=i.select(this);try{n.call(l.fill,e[0].trace.fillcolor)}catch(r){c.error(r,t),n.remove()}})};var y=t("./symbol_defs");m.symbolNames=[],m.symbolFuncs=[],m.symbolNeedLines={},m.symbolNoDot={},m.symbolList=[],Object.keys(y).forEach(function(t){var e=y[t];m.symbolList=m.symbolList.concat([e.n,t,e.n+100,t+"-open"]),m.symbolNames[e.n]=t,m.symbolFuncs[e.n]=e.f,e.needLine&&(m.symbolNeedLines[e.n]=!0),e.noDot?m.symbolNoDot[e.n]=!0:m.symbolList=m.symbolList.concat([e.n+200,t+"-dot",e.n+300,t+"-open-dot"])});var v=m.symbolNames.length,g="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";m.symbolNumber=function(t){if("string"==typeof t){var e=0;t.indexOf("-open")>0&&(e=100,t=t.replace("-open","")),t.indexOf("-dot")>0&&(e+=200,t=t.replace("-dot","")),t=m.symbolNames.indexOf(t),t>=0&&(t+=e)}return t%100>=v||t>=400?0:Math.floor(Math.max(t,0))},m.singlePointStyle=function(t,e,n){var o=n.marker,i=o.line,a=(n._input||{}).marker||{},s=m.tryColorscale(o,a,""),l=m.tryColorscale(o,a,"line.");r(t,e,n,s,l,o,i)},m.pointStyle=function(t,e){if(t.size()){var n=e.marker,r=(e._input||{}).marker||{},o=m.tryColorscale(n,r,""),a=m.tryColorscale(n,r,"line.");t.each(function(t){m.singlePointStyle(t,i.select(this),e,o,a)})}},m.tryColorscale=function(t,e,n){var r=c.nestedProperty(t,n+"color").get(),o=c.nestedProperty(t,n+"colorscale").get(),i=c.nestedProperty(t,n+"cauto").get(),s=c.nestedProperty(t,n+"cmin"),l=c.nestedProperty(t,n+"cmax"),f=s.get(),p=l.get();return o&&Array.isArray(r)?(!i&&a(f)&&a(p)||(f=1/0,p=-(1/0),r.forEach(function(t){a(t)&&(f>t&&(f=+t),p<t&&(p=+t))}),f>p&&(f=0,p=1),s.set(f),l.set(p),c.nestedProperty(e,n+"cmin").set(f),c.nestedProperty(e,n+"cmax").set(p)),u.makeScaleFunction(o,f,p)):c.identity};var b={start:1,end:-1,middle:0,bottom:1,top:-1},_=1.3;m.textPointStyle=function(t,e){t.each(function(t){var n=i.select(this),r=t.tx||e.text;if(!r||Array.isArray(r))return void n.remove();var o=t.tp||e.textposition,s=o.indexOf("top")!==-1?"top":o.indexOf("bottom")!==-1?"bottom":"middle",l=o.indexOf("left")!==-1?"end":o.indexOf("right")!==-1?"start":"middle",u=t.ts||e.textfont.size,c=t.mrc?t.mrc/.8+1:0;u=a(u)&&u>0?u:0,n.call(m.font,t.tf||e.textfont.family,u,t.tc||e.textfont.color).attr("text-anchor",l).text(r).call(f.convertToTspans);var p=i.select(this.parentNode),h=n.selectAll("tspan.line"),d=((h[0].length||1)-1)*_+1,y=b[l]*c,v=.75*u+b[s]*c+(b[s]-1)*d*u/2;p.attr("transform","translate("+y+","+v+")"),d>1&&h.attr({x:n.attr("x"),y:n.attr("y")})})};var x=.5;m.smoothopen=function(t,e){if(t.length<3)return"M"+t.join("L");var n,r="M"+t[0],i=[];for(n=1;n<t.length-1;n++)i.push(o(t[n-1],t[n],t[n+1],e));for(r+="Q"+i[0][0]+" "+t[1],n=2;n<t.length-1;n++)r+="C"+i[n-2][1]+" "+i[n-1][0]+" "+t[n];return r+="Q"+i[t.length-3][1]+" "+t[t.length-1]},m.smoothclosed=function(t,e){if(t.length<3)return"M"+t.join("L")+"Z";var n,r="M"+t[0],i=t.length-1,a=[o(t[i],t[0],t[1],e)];for(n=1;n<i;n++)a.push(o(t[n-1],t[n],t[n+1],e));for(a.push(o(t[i-1],t[i],t[0],e)),n=1;n<=i;n++)r+="C"+a[n-1][1]+" "+a[n][0]+" "+t[n];return r+="C"+a[i][1]+" "+a[0][0]+" "+t[0]+"Z"};var w={hv:function(t,e){return"H"+i.round(e[0],2)+"V"+i.round(e[1],2)},vh:function(t,e){return"V"+i.round(e[1],2)+"H"+i.round(e[0],2)},hvh:function(t,e){return"H"+i.round((t[0]+e[0])/2,2)+"V"+i.round(e[1],2)+"H"+i.round(e[0],2)},vhv:function(t,e){return"V"+i.round((t[1]+e[1])/2,2)+"H"+i.round(e[0],2)+"V"+i.round(e[1],2)}},T=function(t,e){return"L"+i.round(e[0],2)+","+i.round(e[1],2)};m.steps=function(t){var e=w[t]||T;return function(t){for(var n="M"+i.round(t[0][0],2)+","+i.round(t[0][1],2),r=1;r<t.length;r++)n+=e(t[r-1],t[r]);return n}},m.makeTester=function(t){var e=i.select("body").selectAll("#js-plotly-tester").data([0]);e.enter().append("svg").attr("id","js-plotly-tester").attr(p.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"});var n=e.selectAll(".js-reference-point").data([0]);n.enter().append("path").classed("js-reference-point",!0).attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"}),e.node()._cache||(e.node()._cache={}),t._tester=e,t._testref=n};var E=[],C=1e4;m.bBox=function(t){var e=t.attributes["data-bb"];if(e&&e.value)return c.extendFlat({},E[e.value]);var n=i.select("#js-plotly-tester"),r=n.node(),o=t.cloneNode(!0);r.appendChild(o),i.select(o).attr({x:0,y:0,transform:""});var a=o.getBoundingClientRect(),s=n.select(".js-reference-point").node().getBoundingClientRect();r.removeChild(o);var l={height:a.height,width:a.width,left:a.left-s.left,top:a.top-s.top,right:a.right-s.left,bottom:a.bottom-s.top};return E.length>=C&&(i.selectAll("[data-bb]").attr("data-bb",null),E=[]),t.setAttribute("data-bb",E.length),E.push(l),c.extendFlat({},l)},m.setClipUrl=function(t,e){if(!e)return void t.attr("clip-path",null);var n="#"+e,r=i.select("base");r.size()&&r.attr("href")&&(n=window.location.href+n),t.attr("clip-path","url("+n+")")}},{"../../constants/xmlns_namespaces":620,"../../lib":633,"../../lib/svg_text_utils":647,"../../registry":735,"../../traces/scatter/make_bubble_size_func":844,"../../traces/scatter/subtypes":849,"../color":540,"../colorscale":554,"./symbol_defs":564,d3:125,"fast-isnumeric":129}],564:[function(t,e,n){"use strict";var r=t("d3");e.exports={circle:{n:0,f:function(t){var e=r.round(t,2);return"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"}},square:{n:1,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"}},diamond:{n:2,f:function(t){var e=r.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"Z"}},cross:{n:3,f:function(t){var e=r.round(.4*t,2),n=r.round(1.2*t,2);return"M"+n+","+e+"H"+e+"V"+n+"H-"+e+"V"+e+"H-"+n+"V-"+e+"H-"+e+"V-"+n+"H"+e+"V-"+e+"H"+n+"Z"}},x:{n:4,f:function(t){var e=r.round(.8*t/Math.sqrt(2),2),n="l"+e+","+e,o="l"+e+",-"+e,i="l-"+e+",-"+e,a="l-"+e+","+e;return"M0,"+e+n+o+i+o+i+a+i+a+n+a+n+"Z"}},"triangle-up":{n:5,f:function(t){var e=r.round(2*t/Math.sqrt(3),2),n=r.round(t/2,2),o=r.round(t,2);return"M-"+e+","+n+"H"+e+"L0,-"+o+"Z"}},"triangle-down":{n:6,f:function(t){var e=r.round(2*t/Math.sqrt(3),2),n=r.round(t/2,2),o=r.round(t,2);return"M-"+e+",-"+n+"H"+e+"L0,"+o+"Z"}},"triangle-left":{n:7,f:function(t){var e=r.round(2*t/Math.sqrt(3),2),n=r.round(t/2,2),o=r.round(t,2);return"M"+n+",-"+e+"V"+e+"L-"+o+",0Z"}},"triangle-right":{n:8,f:function(t){var e=r.round(2*t/Math.sqrt(3),2),n=r.round(t/2,2),o=r.round(t,2);return"M-"+n+",-"+e+"V"+e+"L"+o+",0Z"}},"triangle-ne":{n:9,f:function(t){var e=r.round(.6*t,2),n=r.round(1.2*t,2);return"M-"+n+",-"+e+"H"+e+"V"+n+"Z"}},"triangle-se":{n:10,f:function(t){var e=r.round(.6*t,2),n=r.round(1.2*t,2);return"M"+e+",-"+n+"V"+e+"H-"+n+"Z"}},"triangle-sw":{n:11,f:function(t){var e=r.round(.6*t,2),n=r.round(1.2*t,2);return"M"+n+","+e+"H-"+e+"V-"+n+"Z"}},"triangle-nw":{n:12,f:function(t){var e=r.round(.6*t,2),n=r.round(1.2*t,2);return"M-"+e+","+n+"V-"+e+"H"+n+"Z"}},pentagon:{n:13,f:function(t){var e=r.round(.951*t,2),n=r.round(.588*t,2),o=r.round(-t,2),i=r.round(t*-.309,2),a=r.round(.809*t,2);return"M"+e+","+i+"L"+n+","+a+"H-"+n+"L-"+e+","+i+"L0,"+o+"Z"}},hexagon:{n:14,f:function(t){var e=r.round(t,2),n=r.round(t/2,2),o=r.round(t*Math.sqrt(3)/2,2);return"M"+o+",-"+n+"V"+n+"L0,"+e+"L-"+o+","+n+"V-"+n+"L0,-"+e+"Z"}},hexagon2:{n:15,f:function(t){var e=r.round(t,2),n=r.round(t/2,2),o=r.round(t*Math.sqrt(3)/2,2);return"M-"+n+","+o+"H"+n+"L"+e+",0L"+n+",-"+o+"H-"+n+"L-"+e+",0Z"}},octagon:{n:16,f:function(t){var e=r.round(.924*t,2),n=r.round(.383*t,2);return"M-"+n+",-"+e+"H"+n+"L"+e+",-"+n+"V"+n+"L"+n+","+e+"H-"+n+"L-"+e+","+n+"V-"+n+"Z"}},star:{n:17,f:function(t){var e=1.4*t,n=r.round(.225*e,2),o=r.round(.951*e,2),i=r.round(.363*e,2),a=r.round(.588*e,2),s=r.round(-e,2),l=r.round(e*-.309,2),u=r.round(.118*e,2),c=r.round(.809*e,2),f=r.round(.382*e,2);return"M"+n+","+l+"H"+o+"L"+i+","+u+"L"+a+","+c+"L0,"+f+"L-"+a+","+c+"L-"+i+","+u+"L-"+o+","+l+"H-"+n+"L0,"+s+"Z"}},hexagram:{n:18,f:function(t){var e=r.round(.66*t,2),n=r.round(.38*t,2),o=r.round(.76*t,2);return"M-"+o+",0l-"+n+",-"+e+"h"+o+"l"+n+",-"+e+"l"+n+","+e+"h"+o+"l-"+n+","+e+"l"+n+","+e+"h-"+o+"l-"+n+","+e+"l-"+n+",-"+e+"h-"+o+"Z"}},"star-triangle-up":{n:19,f:function(t){var e=r.round(t*Math.sqrt(3)*.8,2),n=r.round(.8*t,2),o=r.round(1.6*t,2),i=r.round(4*t,2),a="A "+i+","+i+" 0 0 1 ";return"M-"+e+","+n+a+e+","+n+a+"0,-"+o+a+"-"+e+","+n+"Z"}},"star-triangle-down":{n:20,f:function(t){var e=r.round(t*Math.sqrt(3)*.8,2),n=r.round(.8*t,2),o=r.round(1.6*t,2),i=r.round(4*t,2),a="A "+i+","+i+" 0 0 1 ";return"M"+e+",-"+n+a+"-"+e+",-"+n+a+"0,"+o+a+e+",-"+n+"Z"}},"star-square":{n:21,f:function(t){var e=r.round(1.1*t,2),n=r.round(2*t,2),o="A "+n+","+n+" 0 0 1 ";return"M-"+e+",-"+e+o+"-"+e+","+e+o+e+","+e+o+e+",-"+e+o+"-"+e+",-"+e+"Z"}},"star-diamond":{n:22,f:function(t){var e=r.round(1.4*t,2),n=r.round(1.9*t,2),o="A "+n+","+n+" 0 0 1 ";return"M-"+e+",0"+o+"0,"+e+o+e+",0"+o+"0,-"+e+o+"-"+e+",0Z"}},"diamond-tall":{n:23,f:function(t){var e=r.round(.7*t,2),n=r.round(1.4*t,2);return"M0,"+n+"L"+e+",0L0,-"+n+"L-"+e+",0Z"}},"diamond-wide":{n:24,f:function(t){var e=r.round(1.4*t,2),n=r.round(.7*t,2);return"M0,"+n+"L"+e+",0L0,-"+n+"L-"+e+",0Z"}},hourglass:{n:25,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"H-"+e+"L"+e+",-"+e+"H-"+e+"Z"},noDot:!0},bowtie:{n:26,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"V-"+e+"L-"+e+","+e+"V-"+e+"Z"},noDot:!0},"circle-cross":{n:27,f:function(t){var e=r.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(t){var e=r.round(t,2),n=r.round(t/Math.sqrt(2),2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(t){var e=r.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(t){var e=r.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM0,-"+e+"V"+e+"M-"+e+",0H"+e},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(t){var e=r.round(1.3*t,2),n=r.round(.65*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(t){var e=r.round(1.4*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e},needLine:!0,noDot:!0},"x-thin":{n:34,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0},asterisk:{n:35,f:function(t){var e=r.round(1.2*t,2),n=r.round(.85*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0},hash:{n:36,f:function(t){var e=r.round(t/2,2),n=r.round(t,2);return"M"+e+","+n+"V-"+n+"m-"+n+",0V"+n+"M"+n+","+e+"H-"+n+"m0,-"+n+"H"+n},needLine:!0},"y-up":{n:37,f:function(t){var e=r.round(1.2*t,2),n=r.round(1.6*t,2),o=r.round(.8*t,2);return"M-"+e+","+o+"L0,0M"+e+","+o+"L0,0M0,-"+n+"L0,0"},needLine:!0,noDot:!0},"y-down":{n:38,f:function(t){var e=r.round(1.2*t,2),n=r.round(1.6*t,2),o=r.round(.8*t,2);return"M-"+e+",-"+o+"L0,0M"+e+",-"+o+"L0,0M0,"+n+"L0,0"},needLine:!0,noDot:!0},"y-left":{n:39,f:function(t){var e=r.round(1.2*t,2),n=r.round(1.6*t,2),o=r.round(.8*t,2);return"M"+o+","+e+"L0,0M"+o+",-"+e+"L0,0M-"+n+",0L0,0"},needLine:!0,noDot:!0},"y-right":{n:40,f:function(t){var e=r.round(1.2*t,2),n=r.round(1.6*t,2),o=r.round(.8*t,2);return"M-"+o+","+e+"L0,0M-"+o+",-"+e+"L0,0M"+n+",0L0,0"},needLine:!0,noDot:!0},"line-ew":{n:41,f:function(t){var e=r.round(1.4*t,2);return"M"+e+",0H-"+e},needLine:!0,noDot:!0},"line-ns":{n:42,f:function(t){var e=r.round(1.4*t,2);return"M0,"+e+"V-"+e},needLine:!0,noDot:!0},"line-ne":{n:43,f:function(t){var e=r.round(t,2);return"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0},"line-nw":{n:44,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e},needLine:!0,noDot:!0}}},{d3:125}],565:[function(t,e,n){"use strict";e.exports={visible:{valType:"boolean"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"]},symmetric:{valType:"boolean"},array:{valType:"data_array"},arrayminus:{valType:"data_array"},value:{valType:"number",min:0,dflt:10},valueminus:{valType:"number",min:0,dflt:10},traceref:{valType:"integer",min:0,dflt:0},tracerefminus:{valType:"integer",min:0,dflt:0},copy_ystyle:{valType:"boolean"},copy_zstyle:{valType:"boolean"},color:{valType:"color"},thickness:{valType:"number",min:0,dflt:2},width:{valType:"number",min:0},_deprecated:{opacity:{valType:"number"}}}},{}],566:[function(t,e,n){"use strict";function r(t,e,n,r){var i=e["error_"+r]||{},l=i.visible&&["linear","log"].indexOf(n.type)!==-1,u=[];if(l){for(var c=s(i),f=0;f<t.length;f++){var p=t[f],h=p[r];if(o(n.c2l(h))){var d=c(h,f);if(o(d[0])&&o(d[1])){var m=p[r+"s"]=h-d[0],y=p[r+"h"]=h+d[1];u.push(m,y)}}}a.expand(n,u,{padded:!0})}}var o=t("fast-isnumeric"),i=t("../../registry"),a=t("../../plots/cartesian/axes"),s=t("./compute_error");e.exports=function(t){for(var e=t.calcdata,n=0;n<e.length;n++){var o=e[n],s=o[0].trace;if(i.traceIs(s,"errorBarsOK")){var l=a.getFromId(t,s.xaxis),u=a.getFromId(t,s.yaxis);r(o,s,l,"x"),r(o,s,u,"y")}}}},{"../../plots/cartesian/axes":662,"../../registry":735,"./compute_error":567,"fast-isnumeric":129}],567:[function(t,e,n){"use strict";function r(t,e){return"percent"===t?function(t){return Math.abs(t*e/100)}:"constant"===t?function(){return Math.abs(e)}:"sqrt"===t?function(t){return Math.sqrt(Math.abs(t))}:void 0}e.exports=function(t){var e=t.type,n=t.symmetric;if("data"===e){var o=t.array,i=t.arrayminus;return n||void 0===i?function(t,e){var n=+o[e];return[n,n]}:function(t,e){return[+i[e],+o[e]]}}var a=r(e,t.value),s=r(e,t.valueminus);return n||void 0===t.valueminus?function(t){var e=a(t);return[e,e]}:function(t){return[s(t),a(t)]}}},{}],568:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),o=t("../../registry"),i=t("../../lib"),a=t("./attributes");e.exports=function(t,e,n,s){function l(t,e){return i.coerce(f,c,a,t,e)}var u="error_"+s.axis,c=e[u]={},f=t[u]||{},p=void 0!==f.array||void 0!==f.value||"sqrt"===f.type,h=l("visible",p);if(h!==!1){var d=l("type","array"in f?"data":"percent"),m=!0;if("sqrt"!==d&&(m=l("symmetric",!(("data"===d?"arrayminus":"valueminus")in f))),"data"===d){var y=l("array");if(y||(c.array=[]),l("traceref"),!m){var v=l("arrayminus");v||(c.arrayminus=[]),l("tracerefminus")}}else"percent"!==d&&"constant"!==d||(l("value"),m||l("valueminus"));var g="copy_"+s.inherit+"style";if(s.inherit){var b=e["error_"+s.inherit];(b||{}).visible&&l(g,!(f.color||r(f.thickness)||r(f.width)))}s.inherit&&c[g]||(l("color",n),l("thickness"),l("width",o.traceIs(e,"gl3d")?0:4))}}},{"../../lib":633,"../../registry":735,"./attributes":565,"fast-isnumeric":129}],569:[function(t,e,n){"use strict";var r=e.exports={};r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.calc=t("./calc"),r.calcFromTrace=function(t,e){for(var n=t.x||[],o=t.y,i=n.length||o.length,a=new Array(i),s=0;s<i;s++)a[s]={x:n[s],y:o[s]};return a[0].trace=t,r.calc({calcdata:[a],_fullLayout:e}),a},r.plot=t("./plot"),r.style=t("./style"),r.hoverInfo=function(t,e,n){(e.error_y||{}).visible&&(n.yerr=t.yh-t.y,e.error_y.symmetric||(n.yerrneg=t.y-t.ys)),(e.error_x||{}).visible&&(n.xerr=t.xh-t.x,e.error_x.symmetric||(n.xerrneg=t.x-t.xs))}},{"./attributes":565,"./calc":566,"./defaults":568,"./plot":570,"./style":571}],570:[function(t,e,n){"use strict";function r(t,e,n){var r={x:e.c2p(t.x),y:n.c2p(t.y)};return void 0!==t.yh&&(r.yh=n.c2p(t.yh),r.ys=n.c2p(t.ys),i(r.ys)||(r.noYS=!0,r.ys=n.c2p(t.ys,!0))),void 0!==t.xh&&(r.xh=e.c2p(t.xh),r.xs=e.c2p(t.xs),i(r.xs)||(r.noXS=!0,r.xs=e.c2p(t.xs,!0))),r}var o=t("d3"),i=t("fast-isnumeric"),a=t("../../traces/scatter/subtypes");e.exports=function(t,e,n){var s,l=e.x(),u=e.y(),c=n&&n.duration>0;t.each(function(t){var e,f=t[0].trace,p=f.error_x||{},h=f.error_y||{};f.ids&&(e=function(t){return t.id});var d=a.hasMarkers(f)&&f.marker.maxdisplayed>0;if(h.visible||p.visible){var m=o.select(this).selectAll("g.errorbar").data(t,e);m.exit().remove(),m.style("opacity",1);var y=m.enter().append("g").classed("errorbar",!0);c&&y.style("opacity",0).transition().duration(n.duration).style("opacity",1),m.each(function(t){var e=o.select(this),a=r(t,l,u);if(!d||t.vis){var f;if(h.visible&&i(a.x)&&i(a.yh)&&i(a.ys)){var m=h.width;f="M"+(a.x-m)+","+a.yh+"h"+2*m+"m-"+m+",0V"+a.ys,a.noYS||(f+="m-"+m+",0h"+2*m);var y=e.select("path.yerror");s=!y.size(),s?y=e.append("path").classed("yerror",!0):c&&(y=y.transition().duration(n.duration).ease(n.easing)),y.attr("d",f)}if(p.visible&&i(a.y)&&i(a.xh)&&i(a.xs)){var v=(p.copy_ystyle?h:p).width;f="M"+a.xh+","+(a.y-v)+"v"+2*v+"m0,-"+v+"H"+a.xs,a.noXS||(f+="m0,-"+v+"v"+2*v);var g=e.select("path.xerror");s=!g.size(),s?g=e.append("path").classed("xerror",!0):c&&(g=g.transition().duration(n.duration).ease(n.easing)),g.attr("d",f)}}})}})}},{"../../traces/scatter/subtypes":849,d3:125,"fast-isnumeric":129}],571:[function(t,e,n){"use strict";var r=t("d3"),o=t("../color");e.exports=function(t){t.each(function(t){var e=t[0].trace,n=e.error_y||{},i=e.error_x||{},a=r.select(this);a.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call(o.stroke,n.color),i.copy_ystyle&&(i=n),a.selectAll("path.xerror").style("stroke-width",i.thickness+"px").call(o.stroke,i.color)})}},{"../color":540,d3:125}],572:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/constants");e.exports={_isLinkedToArray:!0,source:{valType:"string"},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},sizex:{valType:"number",dflt:0},sizey:{valType:"number",dflt:0},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain"},opacity:{valType:"number",min:0,max:1,dflt:1},x:{valType:"number",dflt:0},y:{valType:"number",dflt:0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top"},xref:{valType:"enumerated",values:["paper",r.idRegex.x.toString()],dflt:"paper"},yref:{valType:"enumerated",values:["paper",r.idRegex.y.toString()],dflt:"paper"}}},{"../../plots/cartesian/constants":667}],573:[function(t,e,n){"use strict";function r(t,e,n){function r(n,r){return i.coerce(t,e,a,n,r)}e=e||{},r("source"),r("layer"),r("x"),r("y"),r("xanchor"),r("yanchor"),r("sizex"),r("sizey"),r("sizing"),r("opacity");for(var s=0;s<2;s++){var l={_fullLayout:n},u=["x","y"][s];o.coerceRef(t,e,l,u,"paper")}return e}var o=t("../../plots/cartesian/axes"),i=t("../../lib"),a=t("./attributes");e.exports=function(t,e){if(t.images&&Array.isArray(t.images))for(var n=t.images,o=e.images=[],i=0;i<n.length;i++){var a=n[i];if(a.source){var s=r(n[i]||{},o[i]||{},e);o.push(s)}}}},{"../../lib":633,"../../plots/cartesian/axes":662,"./attributes":572}],574:[function(t,e,n){"use strict";var r=t("d3"),o=t("../drawing"),i=t("../../plots/cartesian/axes"),a=t("../../constants/xmlns_namespaces");e.exports=function(t){function e(e){var n=r.select(this);n.attr("xmlns",a.svg);var o=new Promise(function(t){function r(){n.remove(),t()}var o=new Image;o.setAttribute("crossOrigin","anonymous"),o.onerror=r,o.onload=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height;var e=t.getContext("2d");e.drawImage(this,0,0);var r=t.toDataURL("image/png");n.attr("xlink:href",r)},n.on("error",r),n.on("load",t),o.src=e.source});t._promises.push(o)}function n(e){var n=r.select(this),a=i.getFromId(t,e.xref),s=i.getFromId(t,e.yref),u=l._size,c=a?Math.abs(a.l2p(e.sizex)-a.l2p(0)):e.sizex*u.w,f=s?Math.abs(s.l2p(e.sizey)-s.l2p(0)):e.sizey*u.h,p=c*d.x[e.xanchor].offset,h=f*d.y[e.yanchor].offset,m=d.x[e.xanchor].sizing+d.y[e.yanchor].sizing,y=(a?a.l2p(e.x)+a._offset:e.x*u.w+u.l)+p,v=(s?s.l2p(e.y)+s._offset:u.h-e.y*u.h+u.t)+h;switch(e.sizing){case"fill":m+=" slice";break;case"stretch":m="none"}n.attr({x:y,y:v,width:c,height:f,preserveAspectRatio:m,opacity:e.opacity});var g=a?a._id:"",b=s?s._id:"",_=g+b;_&&n.call(o.setClipUrl,"clip"+l._uid+_)}function s(t,e){return t.source+e}var l=t._fullLayout,u=[],c=[],f=[];if(l.images){for(var p=0;p<l.images.length;p++){var h=l.images[p];"below"===h.layer&&"paper"!==h.xref&&"paper"!==h.yref?c.push(h):"above"===h.layer?u.push(h):f.push(h)}var d={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}},m=l._imageLowerLayer.selectAll("image").data(f,s),y=l._imageSubplotLayer.selectAll("image").data(c,s),v=l._imageUpperLayer.selectAll("image").data(u,s);m.enter().append("image").each(e),y.enter().append("image").each(e),v.enter().append("image").each(e),m.exit().remove(),y.exit().remove(),v.exit().remove(),m.each(n),y.each(n),v.each(n)}}},{"../../constants/xmlns_namespaces":620,"../../plots/cartesian/axes":662,"../drawing":563,d3:125}],575:[function(t,e,n){"use strict";var r=t("./draw"),o=t("./defaults"),i=t("./attributes");e.exports={moduleType:"component",name:"images",draw:r,layoutAttributes:i,supplyLayoutDefaults:o}},{"./attributes":572,"./defaults":573,"./draw":574}],576:[function(t,e,n){"use strict";n.isRightAnchor=function(t){return"right"===t.xanchor||"auto"===t.xanchor&&t.x>=2/3},n.isCenterAnchor=function(t){return"center"===t.xanchor||"auto"===t.xanchor&&t.x>1/3&&t.x<2/3},n.isBottomAnchor=function(t){return"bottom"===t.yanchor||"auto"===t.yanchor&&t.y<=1/3},n.isMiddleAnchor=function(t){return"middle"===t.yanchor||"auto"===t.yanchor&&t.y>1/3&&t.y<2/3}},{}],577:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),o=t("../color/attributes"),i=t("../../lib/extend").extendFlat;e.exports={bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:o.defaultLine},borderwidth:{valType:"number",min:0,dflt:0},font:i({},r,{}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"]},tracegroupgap:{valType:"number",min:0,dflt:10},x:{valType:"number",min:-2,max:3,dflt:1.02},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto"}}},{"../../lib/extend":627,"../../plots/font_attributes":681,"../color/attributes":539}],578:[function(t,e,n){"use strict";e.exports={scrollBarWidth:4,scrollBarHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4}},{}],579:[function(t,e,n){"use strict";var r=t("../../registry"),o=t("../../lib"),i=t("./attributes"),a=t("../../plots/layout_attributes"),s=t("./helpers");e.exports=function(t,e,n){function l(t,e){return o.coerce(h,d,i,t,e)}for(var u,c,f,p,h=t.legend||{},d=e.legend={},m=0,y="normal",v=0;v<n.length;v++){var g=n[v];s.legendGetsTrace(g)&&(m++,r.traceIs(g,"pie")&&m++),(r.traceIs(g,"bar")&&"stack"===e.barmode||["tonextx","tonexty"].indexOf(g.fill)!==-1)&&(y=s.isGrouped({traceorder:y})?"grouped+reversed":"reversed"),void 0!==g.legendgroup&&""!==g.legendgroup&&(y=s.isReversed({traceorder:y})?"reversed+grouped":"grouped")}var b=o.coerce(t,e,a,"showlegend",m>1);if(b!==!1){if(l("bgcolor",e.paper_bgcolor),l("bordercolor"),l("borderwidth"),o.coerceFont(l,"font",e.font),l("orientation"),"h"===d.orientation){var _=t.xaxis;_&&_.rangeslider&&_.rangeslider.visible?(u=0,
f="left",c=1.1,p="bottom"):(u=0,f="left",c=-.1,p="top")}l("traceorder",y),s.isGrouped(e.legend)&&l("tracegroupgap"),l("x",u),l("xanchor",f),l("y",c),l("yanchor",p),o.noneOrAll(h,d,["x","y"])}}},{"../../lib":633,"../../plots/layout_attributes":712,"../../registry":735,"./attributes":577,"./helpers":582}],580:[function(t,e,n){"use strict";function r(t,e){function n(n){v.convertToTspans(n,function(){n.selectAll("tspan.line").attr({x:n.attr("x")}),t.call(i,e)})}var r=t.data()[0][0],o=e._fullLayout,a=r.trace,s=h.traceIs(a,"pie"),l=a.index,u=s?r.label:a.name,f=t.selectAll("text.legendtext").data([0]);f.enter().append("text").classed("legendtext",!0),f.attr({x:40,y:0,"data-unformatted":u}).style("text-anchor","start").classed("user-select-none",!0).call(m.font,o.legend.font).text(u),e._context.editable&&!s?f.call(v.makeEditable).call(n).on("edit",function(t){this.attr({"data-unformatted":t}),this.text(t).call(n),this.text()||(t="    "),c.restyle(e,"name",t,l)}):f.call(n)}function o(t,e){var n=e._fullLayout.hiddenlabels?e._fullLayout.hiddenlabels.slice():[],r=t.selectAll("rect").data([0]);r.enter().append("rect").classed("legendtoggle",!0).style("cursor","pointer").attr("pointer-events","all").call(y.fill,"rgba(0,0,0,0)"),r.on("click",function(){if(!e._dragged){var r,o,i=t.data()[0][0],a=e._fullData,s=i.trace,l=s.legendgroup,u=[];if(h.traceIs(s,"pie")){var f=i.label,p=n.indexOf(f);p===-1?n.push(f):n.splice(p,1),c.relayout(e,"hiddenlabels",n)}else{if(""===l)u=[s.index];else for(var d=0;d<a.length;d++)r=a[d],r.legendgroup===l&&u.push(r.index);o=s.visible!==!0||"legendonly",c.restyle(e,"visible",o,u)}}})}function i(t,e){var n,r,o=t.data()[0][0],i=t.select("g[class*=math-group]"),a=e._fullLayout.legend,s=1.3*a.font.size;if(!o.trace.showlegend)return void t.remove();if(i.node()){var l=m.bBox(i.node());n=l.height,r=l.width,f.setTranslate(i,0,n/4)}else{var u=t.selectAll(".legendtext"),c=t.selectAll(".legendtext>tspan"),p=c[0].length||1;n=s*p,r=u.node()&&m.bBox(u.node()).width;var h=s*(.3+(1-p)/2);u.attr("y",h),c.attr("y",h)}n=Math.max(n,16)+3,o.height=n,o.width=r}function a(t,e,n){var r=t._fullLayout,o=r.legend,i=o.borderwidth,a=x.isGrouped(o);if(x.isVertical(o))a&&e.each(function(t,e){f.setTranslate(this,0,e*o.tracegroupgap)}),o.width=0,o.height=0,n.each(function(t){var e=t[0],n=e.height,r=e.width;f.setTranslate(this,i,5+i+o.height+n/2),o.height+=n,o.width=Math.max(o.width,r)}),o.width+=45+2*i,o.height+=10+2*i,a&&(o.height+=(o._lgroupsLength-1)*o.tracegroupgap),o.width=Math.ceil(o.width),o.height=Math.ceil(o.height),n.each(function(e){var n=e[0],r=u.select(this).select(".legendtoggle");r.call(m.setRect,0,-n.height/2,(t._context.editable?0:o.width)+40,n.height)});else if(a){o.width=0,o.height=0;for(var s=[o.width],l=e.data(),c=0,p=l.length;c<p;c++){var h=l[c].map(function(t){return t[0].width}),d=40+Math.max.apply(null,h);o.width+=o.tracegroupgap+d,s.push(o.width)}e.each(function(t,e){f.setTranslate(this,s[e],0)}),e.each(function(){var t=u.select(this),e=t.selectAll("g.traces"),n=0;e.each(function(t){var e=t[0],r=e.height;f.setTranslate(this,0,5+i+n+r/2),n+=r}),o.height=Math.max(o.height,n)}),o.height+=10+2*i,o.width+=2*i,o.width=Math.ceil(o.width),o.height=Math.ceil(o.height),n.each(function(e){var n=e[0],r=u.select(this).select(".legendtoggle");r.call(m.setRect,0,-n.height/2,t._context.editable?0:o.width,n.height)})}else{o.width=0,o.height=0;var y=0,v=0,g=0,b=0;n.each(function(t){g=Math.max(40+t[0].width,g)}),n.each(function(t){var e=t[0],n=g,a=o.tracegroupgap||5;i+b+a+n>r.width-(r.margin.r+r.margin.l)&&(b=0,y+=v,o.height=o.height+v,v=0),f.setTranslate(this,i+b,5+i+e.height/2+y),o.width+=a+n,o.height=Math.max(o.height,e.height),b+=a+n,v=Math.max(e.height,v)}),o.width+=2*i,o.height+=10+2*i,o.width=Math.ceil(o.width),o.height=Math.ceil(o.height),n.each(function(e){var n=e[0],r=u.select(this).select(".legendtoggle");r.call(m.setRect,0,-n.height/2,t._context.editable?0:o.width,n.height)})}}function s(t){var e=t._fullLayout,n=e.legend,r="left";w.isRightAnchor(n)?r="right":w.isCenterAnchor(n)&&(r="center");var o="top";w.isBottomAnchor(n)?o="bottom":w.isMiddleAnchor(n)&&(o="middle"),p.autoMargin(t,"legend",{x:n.x,y:n.y,l:n.width*({right:1,center:.5}[r]||0),r:n.width*({left:1,center:.5}[r]||0),b:n.height*({top:1,middle:.5}[o]||0),t:n.height*({bottom:1,middle:.5}[o]||0)})}function l(t){var e=t._fullLayout,n=e.legend,r="left";w.isRightAnchor(n)?r="right":w.isCenterAnchor(n)&&(r="center"),p.autoMargin(t,"legend",{x:n.x,y:.5,l:n.width*({right:1,center:.5}[r]||0),r:n.width*({left:1,center:.5}[r]||0),b:0,t:0})}var u=t("d3"),c=t("../../plotly"),f=t("../../lib"),p=t("../../plots/plots"),h=t("../../registry"),d=t("../dragelement"),m=t("../drawing"),y=t("../color"),v=t("../../lib/svg_text_utils"),g=t("./constants"),b=t("./get_legend_data"),_=t("./style"),x=t("./helpers"),w=t("./anchor_utils");e.exports=function(t){function e(t,e){S.attr("data-scroll",e).call(f.setTranslate,0,e),P.call(m.setRect,z,t,g.scrollBarWidth,g.scrollBarHeight),C.select("rect").attr({y:v.borderwidth-e})}var n=t._fullLayout,i="legend"+n._uid;if(n._infolayer&&t.calcdata){var v=n.legend,x=n.showlegend&&b(t.calcdata,v),T=n.hiddenlabels||[];if(!n.showlegend||!x.length)return n._infolayer.selectAll(".legend").remove(),n._topdefs.select("#"+i).remove(),void p.autoMargin(t,"legend");var E=n._infolayer.selectAll("g.legend").data([0]);E.enter().append("g").attr({"class":"legend","pointer-events":"all"});var C=n._topdefs.selectAll("#"+i).data([0]);C.enter().append("clipPath").attr("id",i).append("rect");var k=E.selectAll("rect.bg").data([0]);k.enter().append("rect").attr({"class":"bg","shape-rendering":"crispEdges"}),k.call(y.stroke,v.bordercolor),k.call(y.fill,v.bgcolor),k.style("stroke-width",v.borderwidth+"px");var S=E.selectAll("g.scrollbox").data([0]);S.enter().append("g").attr("class","scrollbox");var P=E.selectAll("rect.scrollbar").data([0]);P.enter().append("rect").attr({"class":"scrollbar",rx:20,ry:2,width:0,height:0}).call(y.fill,"#808BA4");var M=S.selectAll("g.groups").data(x);M.enter().append("g").attr("class","groups"),M.exit().remove();var A=M.selectAll("g.traces").data(f.identity);A.enter().append("g").attr("class","traces"),A.exit().remove(),A.call(_).style("opacity",function(t){var e=t[0].trace;return h.traceIs(e,"pie")?T.indexOf(t[0].label)!==-1?.5:1:"legendonly"===e.visible?.5:1}).each(function(){u.select(this).call(r,t).call(o,t)});var O=0!==E.enter().size();O&&(a(t,M,A),s(t));var D=0,L=n.width,I=0,j=n.height;a(t,M,A),v.height>j?l(t):s(t);var F=n._size,R=F.l+F.w*v.x,N=F.t+F.h*(1-v.y);w.isRightAnchor(v)?R-=v.width:w.isCenterAnchor(v)&&(R-=v.width/2),w.isBottomAnchor(v)?N-=v.height:w.isMiddleAnchor(v)&&(N-=v.height/2);var z=v.width,B=F.w;z>B?(R=F.l,z=B):(R+z>L&&(R=L-z),R<D&&(R=D),z=Math.min(L-R,v.width));var U=v.height,W=F.h;U>W?(N=F.t,U=W):(N+U>j&&(N=j-U),N<I&&(N=I),U=Math.min(j-N,v.height)),f.setTranslate(E,R,N);var q,V,H=U-g.scrollBarHeight-2*g.scrollBarMargin,G=v.height-U;if(v.height<=U||t._context.staticPlot)k.attr({width:z-v.borderwidth,height:U-v.borderwidth,x:v.borderwidth/2,y:v.borderwidth/2}),f.setTranslate(S,0,0),C.select("rect").attr({width:z-2*v.borderwidth,height:U-2*v.borderwidth,x:v.borderwidth,y:v.borderwidth}),S.call(m.setClipUrl,i);else{q=g.scrollBarMargin,V=S.attr("data-scroll")||0,k.attr({width:z-2*v.borderwidth+g.scrollBarWidth+g.scrollBarMargin,height:U-v.borderwidth,x:v.borderwidth/2,y:v.borderwidth/2}),C.select("rect").attr({width:z-2*v.borderwidth+g.scrollBarWidth+g.scrollBarMargin,height:U-2*v.borderwidth,x:v.borderwidth,y:v.borderwidth-V}),S.call(m.setClipUrl,i),O&&e(q,V),E.on("wheel",null),E.on("wheel",function(){V=f.constrain(S.attr("data-scroll")-u.event.deltaY/H*G,-G,0),q=g.scrollBarMargin-V/G*H,e(q,V),u.event.preventDefault()}),P.on(".drag",null),S.on(".drag",null);var Y=u.behavior.drag().on("drag",function(){q=f.constrain(u.event.y-g.scrollBarHeight/2,g.scrollBarMargin,g.scrollBarMargin+H),V=-(q-g.scrollBarMargin)/H*G,e(q,V)});P.call(Y),S.call(Y)}if(t._context.editable){var Z,X,K,Q;E.classed("cursor-move",!0),d.init({element:E.node(),prepFn:function(){var t=f.getTranslate(E);K=t.x,Q=t.y},moveFn:function(t,e){var n=K+t,r=Q+e;f.setTranslate(E,n,r),Z=d.align(n,0,F.l,F.l+F.w,v.xanchor),X=d.align(r,0,F.t+F.h,F.t,v.yanchor)},doneFn:function(e){e&&void 0!==Z&&void 0!==X&&c.relayout(t,{"legend.x":Z,"legend.y":X})}})}}}},{"../../lib":633,"../../lib/svg_text_utils":647,"../../plotly":658,"../../plots/plots":720,"../../registry":735,"../color":540,"../dragelement":561,"../drawing":563,"./anchor_utils":576,"./constants":578,"./get_legend_data":581,"./helpers":582,"./style":584,d3:125}],581:[function(t,e,n){"use strict";var r=t("../../registry"),o=t("./helpers");e.exports=function(t,e){function n(t,n){if(""!==t&&o.isGrouped(e))l.indexOf(t)===-1?(l.push(t),u=!0,s[t]=[[n]]):s[t].push([n]);else{var r="~~i"+f;l.push(r),s[r]=[[n]],f++}}var i,a,s={},l=[],u=!1,c={},f=0;for(i=0;i<t.length;i++){var p=t[i],h=p[0],d=h.trace,m=d.legendgroup;if(o.legendGetsTrace(d)&&d.showlegend)if(r.traceIs(d,"pie"))for(c[m]||(c[m]={}),a=0;a<p.length;a++){var y=p[a].label;c[m][y]||(n(m,{label:y,color:p[a].color,i:p[a].i,trace:d}),c[m][y]=!0)}else n(m,h)}if(!l.length)return[];var v,g,b=l.length;if(u&&o.isGrouped(e))for(g=new Array(b),i=0;i<b;i++)v=s[l[i]],g[i]=o.isReversed(e)?v.reverse():v;else{for(g=[new Array(b)],i=0;i<b;i++)v=s[l[i]][0],g[0][o.isReversed(e)?b-i-1:i]=v;b=1}return e._lgroupsLength=b,g}},{"../../registry":735,"./helpers":582}],582:[function(t,e,n){"use strict";var r=t("../../registry");n.legendGetsTrace=function(t){return t.visible&&r.traceIs(t,"showLegend")},n.isGrouped=function(t){return(t.traceorder||"").indexOf("grouped")!==-1},n.isVertical=function(t){return"h"!==t.orientation},n.isReversed=function(t){return(t.traceorder||"").indexOf("reversed")!==-1}},{"../../registry":735}],583:[function(t,e,n){"use strict";var r=e.exports={};r.moduleType="component",r.name="legend",r.layoutAttributes=t("./attributes"),r.supplyLayoutDefaults=t("./defaults"),r.draw=t("./draw"),r.style=t("./style")},{"./attributes":577,"./defaults":579,"./draw":580,"./style":584}],584:[function(t,e,n){"use strict";function r(t){var e=t[0].trace,n=e.visible&&e.fill&&"none"!==e.fill,r=h.hasLines(e),o=l.select(this).select(".legendfill").selectAll("path").data(n?[t]:[]);o.enter().append("path").classed("js-fill",!0),o.exit().remove(),o.attr("d","M5,0h30v6h-30z").call(f.fillGroupStyle);var i=l.select(this).select(".legendlines").selectAll("path").data(r?[t]:[]);i.enter().append("path").classed("js-line",!0).attr("d","M5,0h30"),i.exit().remove(),i.call(f.lineGroupStyle)}function o(t){function e(t,e,n){var r=c.nestedProperty(a,t).get(),o=Array.isArray(r)&&e?e(r):r;if(n){if(o<n[0])return n[0];if(o>n[1])return n[1]}return o}function n(t){return t[0]}var r,o,i=t[0],a=i.trace,s=h.hasMarkers(a),u=h.hasText(a),p=h.hasLines(a);if(s||u||p){var d={},m={};s&&(d.mc=e("marker.color",n),d.mo=e("marker.opacity",c.mean,[.2,1]),d.ms=e("marker.size",c.mean,[2,16]),d.mlc=e("marker.line.color",n),d.mlw=e("marker.line.width",c.mean,[0,5]),m.marker={sizeref:1,sizemin:1,sizemode:"diameter"}),p&&(m.line={width:e("line.width",n,[0,10])}),u&&(d.tx="Aa",d.tp=e("textposition",n),d.ts=10,d.tc=e("textfont.color",n),d.tf=e("textfont.family",n)),r=[c.minExtend(i,d)],o=c.minExtend(a,m)}var y=l.select(this).select("g.legendpoints"),v=y.selectAll("path.scatterpts").data(s?r:[]);v.enter().append("path").classed("scatterpts",!0).attr("transform","translate(20,0)"),v.exit().remove(),v.call(f.pointStyle,o),s&&(r[0].mrc=3);var g=y.selectAll("g.pointtext").data(u?r:[]);g.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),g.exit().remove(),g.selectAll("text").call(f.textPointStyle,o)}function i(t){var e=t[0].trace,n=e.marker||{},r=n.line||{},o=l.select(this).select("g.legendpoints").selectAll("path.legendbar").data(u.traceIs(e,"bar")?[t]:[]);o.enter().append("path").classed("legendbar",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),o.exit().remove(),o.each(function(t){var e=(t.mlw+1||r.width+1)-1,o=l.select(this);o.style("stroke-width",e+"px").call(p.fill,t.mc||n.color),e&&o.call(p.stroke,t.mlc||r.color)})}function a(t){var e=t[0].trace,n=l.select(this).select("g.legendpoints").selectAll("path.legendbox").data(u.traceIs(e,"box")&&e.visible?[t]:[]);n.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),n.exit().remove(),n.each(function(t){var n=(t.lw+1||e.line.width+1)-1,r=l.select(this);r.style("stroke-width",n+"px").call(p.fill,t.fc||e.fillcolor),n&&r.call(p.stroke,t.lc||e.line.color)})}function s(t){var e=t[0].trace,n=l.select(this).select("g.legendpoints").selectAll("path.legendpie").data(u.traceIs(e,"pie")&&e.visible?[t]:[]);n.enter().append("path").classed("legendpie",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),n.exit().remove(),n.size()&&n.call(d,t[0],e)}var l=t("d3"),u=t("../../registry"),c=t("../../lib"),f=t("../drawing"),p=t("../color"),h=t("../../traces/scatter/subtypes"),d=t("../../traces/pie/style_one");e.exports=function(t){t.each(function(t){var e=l.select(this),n=e.selectAll("g.legendfill").data([t]);n.enter().append("g").classed("legendfill",!0);var r=e.selectAll("g.legendlines").data([t]);r.enter().append("g").classed("legendlines",!0);var o=e.selectAll("g.legendsymbols").data([t]);o.enter().append("g").classed("legendsymbols",!0),o.style("opacity",t[0].trace.opacity),o.selectAll("g.legendpoints").data([t]).enter().append("g").classed("legendpoints",!0)}).each(i).each(a).each(s).each(r).each(o)}},{"../../lib":633,"../../registry":735,"../../traces/pie/style_one":823,"../../traces/scatter/subtypes":849,"../color":540,"../drawing":563,d3:125}],585:[function(t,e,n){"use strict";function r(t,e){var n=e.currentTarget,r=n.getAttribute("data-attr"),o=n.getAttribute("data-val")||!0,i=t._fullLayout,a={};if("zoom"===r){for(var s,l,c="in"===o?.5:2,p=(1+c)/2,h=(1-c)/2,d=f.list(t,null,!0),m=0;m<d.length;m++)if(s=d[m],!s.fixedrange)if(l=s._name,"auto"===o)a[l+".autorange"]=!0;else if("reset"===o)if(void 0===s._rangeInitial)a[l+".autorange"]=!0;else{var y=s._rangeInitial.slice();a[l+".range[0]"]=y[0],a[l+".range[1]"]=y[1]}else{var v=s.range;a[l+".range[0]"]=p*v[0]+h*v[1],a[l+".range[1]"]=p*v[1]+h*v[0]}}else"hovermode"!==r||"x"!==o&&"y"!==o||(o=i._isHoriz?"y":"x",n.setAttribute("data-val",o)),a[r]=o;u.relayout(t,a)}function o(t,e){for(var n=e.currentTarget,r=n.getAttribute("data-attr"),o=n.getAttribute("data-val")||!0,i=t._fullLayout,a=c.getSubplotIds(i,"gl3d"),s={},l=r.split("."),f=0;f<a.length;f++)s[a[f]+"."+l[1]]=o;u.relayout(t,s)}function i(t,e){for(var n=e.currentTarget,r=n.getAttribute("data-attr"),o=t._fullLayout,i=c.getSubplotIds(o,"gl3d"),a=0;a<i.length;a++){var s=i[a],l=o[s],u=l._scene;"resetDefault"===r?u.setCameraToDefault():"resetLastSave"===r&&u.setCamera(l.camera)}}function a(t,e){var n=e.currentTarget,r=n._previousVal||!1,o=t.layout,i=t._fullLayout,a=c.getSubplotIds(i,"gl3d"),s=["xaxis","yaxis","zaxis"],l=["showspikes","spikesides","spikethickness","spikecolor"],f={},h={},d={};if(r)d=p.extendDeep(o,r),n._previousVal=null;else{d={"allaxes.showspikes":!1};for(var m=0;m<a.length;m++){var y=a[m],v=i[y],g=f[y]={};g.hovermode=v.hovermode,d[y+".hovermode"]=!1;for(var b=0;b<3;b++){var _=s[b];h=g[_]={};for(var x=0;x<l.length;x++){var w=l[x];h[w]=v[_][w]}}}n._previousVal=p.extendDeep({},f)}u.relayout(t,d)}function s(t,e){for(var n=e.currentTarget,r=n.getAttribute("data-attr"),o=n.getAttribute("data-val")||!0,i=t._fullLayout,a=c.getSubplotIds(i,"geo"),s=0;s<a.length;s++){var l=i[a[s]]._geo;if("zoom"===r){var u=l.projection.scale(),f="in"===o?2*u:.5*u;l.projection.scale(f),l.zoom.scale(f),l.render()}else"reset"===r&&l.zoomReset()}}function l(t){var e,n=t._fullLayout;e=n._has("cartesian")?n._isHoriz?"y":"x":"closest";var r=!t._fullLayout.hovermode&&e;u.relayout(t,"hovermode",r)}var u=t("../../plotly"),c=t("../../plots/plots"),f=t("../../plots/cartesian/axes"),p=t("../../lib"),h=t("../../snapshot/download"),d=t("../../../build/ploticon"),m=e.exports={};m.toImage={name:"toImage",title:"Download plot as a png",icon:d.camera,click:function(t){var e="png";p.notifier("Taking snapshot - this may take a few seconds","long"),p.isIE()&&(p.notifier("IE only supports svg.  Changing format to svg.","long"),e="svg"),h(t,{format:e}).then(function(t){p.notifier("Snapshot succeeded - "+t,"long")})["catch"](function(){p.notifier("Sorry there was a problem downloading your snapshot!","long")})}},m.sendDataToCloud={name:"sendDataToCloud",title:"Save and edit plot in cloud",icon:d.disk,click:function(t){c.sendDataToCloud(t)}},m.zoom2d={name:"zoom2d",title:"Zoom",attr:"dragmode",val:"zoom",icon:d.zoombox,click:r},m.pan2d={name:"pan2d",title:"Pan",attr:"dragmode",val:"pan",icon:d.pan,click:r},m.select2d={name:"select2d",title:"Box Select",attr:"dragmode",val:"select",icon:d.selectbox,click:r},m.lasso2d={name:"lasso2d",title:"Lasso Select",attr:"dragmode",val:"lasso",icon:d.lasso,click:r},m.zoomIn2d={name:"zoomIn2d",title:"Zoom in",attr:"zoom",val:"in",icon:d.zoom_plus,click:r},m.zoomOut2d={name:"zoomOut2d",title:"Zoom out",attr:"zoom",val:"out",icon:d.zoom_minus,click:r},m.autoScale2d={name:"autoScale2d",title:"Autoscale",attr:"zoom",val:"auto",icon:d.autoscale,click:r},m.resetScale2d={name:"resetScale2d",title:"Reset axes",attr:"zoom",val:"reset",icon:d.home,click:r},m.hoverClosestCartesian={name:"hoverClosestCartesian",title:"Show closest data on hover",attr:"hovermode",val:"closest",icon:d.tooltip_basic,gravity:"ne",click:r},m.hoverCompareCartesian={name:"hoverCompareCartesian",title:"Compare data on hover",attr:"hovermode",val:function(t){return t._fullLayout._isHoriz?"y":"x"},icon:d.tooltip_compare,gravity:"ne",click:r},m.zoom3d={name:"zoom3d",title:"Zoom",attr:"scene.dragmode",val:"zoom",icon:d.zoombox,click:o},m.pan3d={name:"pan3d",title:"Pan",attr:"scene.dragmode",val:"pan",icon:d.pan,click:o},m.orbitRotation={name:"orbitRotation",title:"orbital rotation",attr:"scene.dragmode",val:"orbit",icon:d["3d_rotate"],click:o},m.tableRotation={name:"tableRotation",title:"turntable rotation",attr:"scene.dragmode",val:"turntable",icon:d["z-axis"],click:o},m.resetCameraDefault3d={name:"resetCameraDefault3d",title:"Reset camera to default",attr:"resetDefault",icon:d.home,click:i},m.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:"Reset camera to last save",attr:"resetLastSave",icon:d.movie,click:i},m.hoverClosest3d={name:"hoverClosest3d",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:d.tooltip_basic,gravity:"ne",click:a},m.zoomInGeo={name:"zoomInGeo",title:"Zoom in",attr:"zoom",val:"in",icon:d.zoom_plus,click:s},m.zoomOutGeo={name:"zoomOutGeo",title:"Zoom out",attr:"zoom",val:"out",icon:d.zoom_minus,click:s},m.resetGeo={name:"resetGeo",title:"Reset",attr:"reset",val:null,icon:d.autoscale,click:s},m.hoverClosestGeo={name:"hoverClosestGeo",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:d.tooltip_basic,gravity:"ne",click:l},m.hoverClosestGl2d={name:"hoverClosestGl2d",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:d.tooltip_basic,gravity:"ne",click:l},m.hoverClosestPie={name:"hoverClosestPie",title:"Toggle show closest data on hover",attr:"hovermode",val:"closest",icon:d.tooltip_basic,gravity:"ne",click:l},m.toggleHover={name:"toggleHover",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:d.tooltip_basic,gravity:"ne",click:function(t,e){l(t),a(t,e)}},m.resetViews={name:"resetViews",title:"Reset views",icon:d.home,click:function(t,e){var n=e.currentTarget;n.setAttribute("data-attr","zoom"),n.setAttribute("data-val","reset"),r(t,e),n.setAttribute("data-attr","resetLastSave"),i(t,e)}}},{"../../../build/ploticon":2,"../../lib":633,"../../plotly":658,"../../plots/cartesian/axes":662,"../../plots/plots":720,"../../snapshot/download":737}],586:[function(t,e,n){"use strict";n.manage=t("./manage")},{"./manage":587}],587:[function(t,e,n){"use strict";function r(t,e,n){function r(t){for(var n=[],r=0;r<t.length;r++){var o=t[r];e.indexOf(o)===-1&&n.push(f[o])}y.push(n)}var s=t._fullLayout,l=t._fullData,u=s._has("cartesian"),c=s._has("gl3d"),p=s._has("geo"),h=s._has("pie"),d=s._has("gl2d"),m=s._has("ternary"),y=[];if(r(["toImage","sendDataToCloud"]),(u||d||h||m)+p+c>1)return r(["resetViews","toggleHover"]),a(y,n);c&&(r(["zoom3d","pan3d","orbitRotation","tableRotation"]),r(["resetCameraDefault3d","resetCameraLastSave3d"]),r(["hoverClosest3d"])),p&&(r(["zoomInGeo","zoomOutGeo","resetGeo"]),r(["hoverClosestGeo"]));var v=o(s),g=[];return((u||d)&&!v||m)&&(g=["zoom2d","pan2d"]),(u||m)&&i(l)&&(g.push("select2d"),g.push("lasso2d")),g.length&&r(g),!u&&!d||v||m||r(["zoomIn2d","zoomOut2d","autoScale2d","resetScale2d"]),u&&h?r(["toggleHover"]):d?r(["hoverClosestGl2d"]):u?r(["hoverClosestCartesian","hoverCompareCartesian"]):h&&r(["hoverClosestPie"]),a(y,n)}function o(t){for(var e=l.list({_fullLayout:t},null,!0),n=!0,r=0;r<e.length;r++)if(!e[r].fixedrange){n=!1;break}return n}function i(t){for(var e=!1,n=0;n<t.length&&!e;n++){var r=t[n];r._module&&r._module.selectPoints&&("scatter"===r.type||"scatterternary"===r.type?(u.hasMarkers(r)||u.hasText(r))&&(e=!0):e=!0)}return e}function a(t,e){if(e.length)if(Array.isArray(e[0]))for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}function s(t){for(var e=0;e<t.length;e++)for(var n=t[e],r=0;r<n.length;r++){var o=n[r];if("string"==typeof o){if(void 0===f[o])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));t[e][r]=f[o]}}return t}var l=t("../../plots/cartesian/axes"),u=t("../../traces/scatter/subtypes"),c=t("./modebar"),f=t("./buttons");e.exports=function(t){var e=t._fullLayout,n=t._context,o=e._modeBar;if(!n.displayModeBar)return void(o&&(o.destroy(),delete e._modeBar));if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var i,a=n.modeBarButtons;i=Array.isArray(a)&&a.length?s(a):r(t,n.modeBarButtonsToRemove,n.modeBarButtonsToAdd),o?o.update(t,i):e._modeBar=c(t,i)}},{"../../plots/cartesian/axes":662,"../../traces/scatter/subtypes":849,"./buttons":585,"./modebar":588}],588:[function(t,e,n){"use strict";function r(t){this.container=t.container,this.element=document.createElement("div"),this.update(t.graphInfo,t.buttons),this.container.appendChild(this.element)}function o(t,e){var n=t._fullLayout,o=new r({graphInfo:t,container:n._paperdiv.node(),buttons:e});return n._privateplot&&i.select(o.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),o}var i=t("d3"),a=t("../../lib"),s=t("../../../build/ploticon"),l=r.prototype;l.update=function(t,e){this.graphInfo=t;var n=this.graphInfo._context;"hover"===n.displayModeBar?this.element.className="modebar modebar--hover":this.element.className="modebar";var r=!this.hasButtons(e),o=this.hasLogo!==n.displaylogo;(r||o)&&(this.removeAllButtons(),this.updateButtons(e),n.displaylogo&&(this.element.appendChild(this.getLogo()),this.hasLogo=!0)),this.updateActiveButton()},l.updateButtons=function(t){var e=this;this.buttons=t,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(t){var n=e.createGroup();t.forEach(function(t){var r=t.name;if(!r)throw new Error("must provide button 'name' in button config");if(e.buttonsNames.indexOf(r)!==-1)throw new Error("button name '"+r+"' is taken");e.buttonsNames.push(r);var o=e.createButton(t);e.buttonElements.push(o),n.appendChild(o)}),e.element.appendChild(n)})},l.createGroup=function(){var t=document.createElement("div");return t.className="modebar-group",t},l.createButton=function(t){var e=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var r=t.title;void 0===r&&(r=t.name),(r||0===r)&&n.setAttribute("data-title",r),void 0!==t.attr&&n.setAttribute("data-attr",t.attr);var o=t.val;void 0!==o&&("function"==typeof o&&(o=o(this.graphInfo)),n.setAttribute("data-val",o));var i=t.click;if("function"!=typeof i)throw new Error("must provide button 'click' function in button config");return n.addEventListener("click",function(n){t.click(e.graphInfo,n),e.updateActiveButton(n.currentTarget)}),n.setAttribute("data-toggle",t.toggle||!1),t.toggle&&n.classList.add("active"),n.appendChild(this.createIcon(t.icon||s.question)),n.setAttribute("data-gravity",t.gravity||"n"),n},l.createIcon=function(t){var e=t.ascent-t.descent,n="http://www.w3.org/2000/svg",r=document.createElementNS(n,"svg"),o=document.createElementNS(n,"path");return r.setAttribute("height","1em"),r.setAttribute("width",t.width/e+"em"),r.setAttribute("viewBox",[0,0,t.width,e].join(" ")),o.setAttribute("d",t.path),o.setAttribute("transform","matrix(1 0 0 -1 0 "+t.ascent+")"),r.appendChild(o),r},l.updateActiveButton=function(t){var e=this.graphInfo._fullLayout,n=void 0!==t?t.getAttribute("data-attr"):null;this.buttonElements.forEach(function(t){var r=t.getAttribute("data-val")||!0,o=t.getAttribute("data-attr"),s="true"===t.getAttribute("data-toggle"),l=i.select(t);if(s)o===n&&l.classed("active",!l.classed("active"));else{var u=null===o?o:a.nestedProperty(e,o).get();l.classed("active",u===r)}})},l.hasButtons=function(t){var e=this.buttons;if(!e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n){if(t[n].length!==e[n].length)return!1;for(var r=0;r<t[n].length;r++)if(t[n][r].name!==e[n][r].name)return!1}return!0},l.getLogo=function(){var t=this.createGroup(),e=document.createElement("a");return e.href="https://plot.ly/",e.target="_blank",e.setAttribute("data-title","Produced with Plotly"),e.className="modebar-btn plotlyjsicon modebar-btn--logo",e.appendChild(this.createIcon(s.plotlylogo)),t.appendChild(e),t},l.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},l.destroy=function(){a.removeElement(this.container.querySelector(".modebar"))},e.exports=o},{"../../../build/ploticon":2,"../../lib":633,d3:125}],589:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),o=t("../color/attributes"),i=t("../../lib/extend").extendFlat,a=t("./button_attributes");a=i(a,{_isLinkedToArray:!0}),e.exports={visible:{valType:"boolean"},buttons:a,x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom"},font:i({},r,{}),bgcolor:{valType:"color",dflt:o.lightLine},activecolor:{valType:"color"},bordercolor:{valType:"color",dflt:o.defaultLine},borderwidth:{valType:"number",min:0,dflt:0}}},{"../../lib/extend":627,"../../plots/font_attributes":681,"../color/attributes":539,"./button_attributes":590}],590:[function(t,e,n){"use strict";e.exports={step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward"},count:{valType:"number",min:0,dflt:1},label:{valType:"string"}}},{}],591:[function(t,e,n){"use strict";e.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],592:[function(t,e,n){"use strict";function r(t,e){function n(t,e){return i.coerce(r,o,l,t,e)}for(var r,o,a=t.buttons||[],s=e.buttons=[],u=0;u<a.length;u++)if(r=a[u],o={},i.isPlainObject(r)){var c=n("step");"all"!==c&&(n("stepmode"),n("count")),n("label"),o._index=u,s.push(o)}return s}function o(t,e,n){for(var r=n.filter(function(n){return e[n].anchor===t._id}),o=0,i=0;i<r.length;i++){var a=e[r[i]].domain;a&&(o=Math.max(a[1],o))}return[t.domain[0],o+u.yPad]}var i=t("../../lib"),a=t("../color"),s=t("./attributes"),l=t("./button_attributes"),u=t("./constants");e.exports=function(t,e,n,l){function c(t,e){return i.coerce(f,p,s,t,e)}var f=t.rangeselector||{},p=e.rangeselector={},h=r(f,p),d=c("visible",h.length>0);if(d){var m=o(e,n,l);c("x",m[0]),c("y",m[1]),i.noneOrAll(t,e,["x","y"]),c("xanchor"),c("yanchor"),i.coerceFont(c,"font",n.font);var y=c("bgcolor");c("activecolor",a.contrast(y,u.lightAmount,u.darkAmount)),c("bordercolor"),c("borderwidth")}}},{"../../lib":633,"../color":540,"./attributes":589,"./button_attributes":590,"./constants":591}],593:[function(t,e,n){"use strict";function r(t){for(var e=v.list(t,"x",!0),n=[],r=0;r<e.length;r++){var o=e[r];o.rangeselector&&o.rangeselector.visible&&n.push(o)}return n}function o(t){return t._id}function i(t,e,n){if("all"===e.step)return t.autorange===!0;var r=Object.keys(n);return t.range[0]===n[r[0]]&&t.range[1]===n[r[1]]}function a(t,e,n){var r=t.selectAll("rect").data([0]);r.enter().append("rect").classed("selector-rect",!0),r.attr("shape-rendering","crispEdges"),r.attr({rx:b.rx,ry:b.ry}),r.call(d.stroke,e.bordercolor).call(d.fill,s(e,n)).style("stroke-width",e.borderwidth+"px")}function s(t,e){return e.isActive||e.isHovered?t.activecolor:t.bgcolor}function l(t,e,n){function r(t){y.convertToTspans(t)}var o=t.selectAll("text").data([0]);o.enter().append("text").classed("selector-text",!0).classed("user-select-none",!0),o.attr("text-anchor","middle"),o.call(m.font,e.font).text(u(n)).call(r)}function u(t){return t.label?t.label:"all"===t.step?"all":t.count+t.step.charAt(0)}function c(t,e,n,r){n.width=0,n.height=0;var o=n.borderwidth;e.each(function(){var t=f.select(this),e=t.select(".selector-text"),r=e.selectAll("tspan"),o=1.3*n.font.size,i=r[0].length||1,a=Math.max(o*i,16)+3;n.height=Math.max(n.height,a)}),e.each(function(){var t=f.select(this),e=t.select(".selector-rect"),r=t.select(".selector-text"),i=r.selectAll("tspan"),a=r.node()&&m.bBox(r.node()).width,s=1.3*n.font.size,l=i[0].length||1,u=Math.max(a+10,b.minButtonWidth);t.attr("transform","translate("+(o+n.width)+","+o+")"),e.attr({x:0,y:0,width:u,height:n.height});var c={x:u/2,y:n.height/2-(l-1)*s/2+3};r.attr(c),i.attr(c),n.width+=u+5}),e.selectAll("rect").attr("height",n.height);var i=t._fullLayout._size;n.lx=i.l+i.w*n.x,n.ly=i.t+i.h*(1-n.y);var a="left";g.isRightAnchor(n)&&(n.lx-=n.width,a="right"),g.isCenterAnchor(n)&&(n.lx-=n.width/2,a="center");var s="top";g.isBottomAnchor(n)&&(n.ly-=n.height,s="bottom"),g.isMiddleAnchor(n)&&(n.ly-=n.height/2,s="middle"),n.width=Math.ceil(n.width),n.height=Math.ceil(n.height),n.lx=Math.round(n.lx),n.ly=Math.round(n.ly),h.autoMargin(t,r+"-range-selector",{x:n.x,y:n.y,l:n.width*({right:1,center:.5}[a]||0),r:n.width*({left:1,center:.5}[a]||0),b:n.height*({top:1,middle:.5}[s]||0),t:n.height*({bottom:1,middle:.5}[s]||0)})}var f=t("d3"),p=t("../../plotly"),h=t("../../plots/plots"),d=t("../color"),m=t("../drawing"),y=t("../../lib/svg_text_utils"),v=t("../../plots/cartesian/axis_ids"),g=t("../legend/anchor_utils"),b=t("./constants"),_=t("./get_update_object");e.exports=function(t){var e=t._fullLayout,n=e._infolayer.selectAll(".rangeselector").data(r(t),o);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each(function(e){var n=f.select(this),r=e,o=r.rangeselector,s=n.selectAll("g.button").data(o.buttons);s.enter().append("g").classed("button",!0),s.exit().remove(),s.each(function(e){var n=f.select(this),s=_(r,e);e.isActive=i(r,e,s),n.call(a,o,e),n.call(l,o,e),n.on("click",function(){t._dragged||p.relayout(t,s)}),n.on("mouseover",function(){e.isHovered=!0,n.call(a,o,e)}),n.on("mouseout",function(){e.isHovered=!1,n.call(a,o,e)})}),c(t,s,o,r._name),n.attr("transform","translate("+o.lx+","+o.ly+")")})}},{"../../lib/svg_text_utils":647,"../../plotly":658,"../../plots/cartesian/axis_ids":664,"../../plots/plots":720,"../color":540,"../drawing":563,"../legend/anchor_utils":576,"./constants":591,"./get_update_object":594,d3:125}],594:[function(t,e,n){"use strict";function r(t,e){var n,r=t.range,i=new Date(r[1]),a=e.step,s=e.count;
switch(e.stepmode){case"backward":n=o.time[a].offset(i,-s).getTime();break;case"todate":var l=o.time[a].offset(i,-(s-1));n=o.time[a].floor(l).getTime()}var u=r[1];return[n,u]}var o=t("d3");e.exports=function(t,e){var n=t._name,o={};if("all"===e.step)o[n+".autorange"]=!0;else{var i=r(t,e);o[n+".range[0]"]=i[0],o[n+".range[1]"]=i[1]}return o}},{d3:125}],595:[function(t,e,n){"use strict";n.moduleType="component",n.name="rangeselector",n.layoutAttributes=t("./attributes"),n.handleDefaults=t("./defaults"),n.draw=t("./draw")},{"./attributes":589,"./defaults":592,"./draw":593}],596:[function(t,e,n){"use strict";var r=t("../color/attributes");e.exports={bgcolor:{valType:"color",dflt:r.background},bordercolor:{valType:"color",dflt:r.defaultLine},borderwidth:{valType:"integer",dflt:0,min:0},range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},thickness:{valType:"number",dflt:.15,min:0,max:1},visible:{valType:"boolean",dflt:!0}}},{"../color/attributes":539}],597:[function(t,e,n){"use strict";var r=t("../../plotly"),o=t("../../plots/cartesian/axes"),i=t("../../lib"),a=t("../../constants/xmlns_namespaces").svg,s=t("./helpers"),l=t("./range_plot");e.exports=function(t){function e(t){var e=h.range[0],n=h.range[1],r=n-e,o=t/d*r+e;return o=i.constrain(o,e,n)}function n(t,e){t=t||-(1/0),e=e||1/0;var n=h.range[0],r=h.range[1],o=r-n,i=(t-n)/o*d,a=(e-n)/o*d;c(i,a)}function u(e,n){window.requestAnimationFrame(function(){r.relayout(t,"xaxis.range",[e,n])})}function c(t,e){if(t=i.constrain(t,0,d),e=i.constrain(e,0,d),e<t){var n=e;e=t,t=n}s.setAttributes(w,{"data-min":t,"data-max":e}),s.setAttributes(L,{x:t,width:e-t}),s.setAttributes(C,{width:t}),s.setAttributes(k,{x:e,width:d-e}),s.setAttributes(S,{transform:"translate("+(t-y-1)+")"}),s.setAttributes(A,{transform:"translate("+e+")"})}var f=t._fullLayout,p=f._infolayer.selectAll("g.range-slider"),h=f.xaxis.rangeslider,d=f._size.w,m=(f.height-f.margin.b-f.margin.t)*h.thickness,y=2,v=Math.floor(h.borderwidth/2),g=f.margin.l,b=f.height-m-f.margin.b,_=0,x=d,w=document.createElementNS(a,"g");s.setAttributes(w,{"class":"range-slider","data-min":_,"data-max":x,"pointer-events":"all",transform:"translate("+g+","+b+")"});var T=document.createElementNS(a,"rect"),E=h.borderwidth%2===0?h.borderwidth:h.borderwidth-1;s.setAttributes(T,{fill:h.bgcolor,stroke:h.bordercolor,"stroke-width":h.borderwidth,height:m+E,width:d+E,transform:"translate(-"+v+", -"+v+")","shape-rendering":"crispEdges"});var C=document.createElementNS(a,"rect");s.setAttributes(C,{x:0,width:_,height:m,fill:"rgba(0,0,0,0.4)"});var k=document.createElementNS(a,"rect");s.setAttributes(k,{x:x,width:d-x,height:m,fill:"rgba(0,0,0,0.4)"});var S=document.createElementNS(a,"g"),P=document.createElementNS(a,"rect"),M=document.createElementNS(a,"rect");s.setAttributes(S,{transform:"translate("+(_-y-1)+")"}),s.setAttributes(P,{width:10,height:m,x:-6,fill:"transparent",cursor:"col-resize"}),s.setAttributes(M,{width:y,height:m/2,y:m/4,rx:1,fill:"white",stroke:"#666","shape-rendering":"crispEdges"}),s.appendChildren(S,[M,P]);var A=document.createElementNS(a,"g"),O=document.createElementNS(a,"rect"),D=document.createElementNS(a,"rect");s.setAttributes(A,{transform:"translate("+x+")"}),s.setAttributes(O,{width:10,height:m,x:-2,fill:"transparent",cursor:"col-resize"}),s.setAttributes(D,{width:y,height:m/2,y:m/4,rx:1,fill:"white",stroke:"#666","shape-rendering":"crispEdges"}),s.appendChildren(A,[D,O]);var L=document.createElementNS(a,"rect");s.setAttributes(L,{x:_,width:x-_,height:m,cursor:"ew-resize",fill:"transparent"}),w.addEventListener("mousedown",function(t){function n(t){var n,r,f=+t.clientX-i;switch(o){case L:w.style.cursor="ew-resize",n=+s+f,r=+l+f,c(n,r),u(e(n),e(r));break;case P:w.style.cursor="col-resize",n=+s+f,r=+l,c(n,r),u(e(n),e(r));break;case O:w.style.cursor="col-resize",n=+s,r=+l+f,c(n,r),u(e(n),e(r));break;default:w.style.cursor="ew-resize",n=a,r=a+f,c(n,r),u(e(n),e(r))}}function r(){window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",r),w.style.cursor="auto"}var o=t.target,i=t.clientX,a=i-w.getBoundingClientRect().left,s=w.getAttribute("data-min"),l=w.getAttribute("data-max");window.addEventListener("mousemove",n),window.addEventListener("mouseup",r)}),h.range||(h.range=o.getAutoRange(f.xaxis));var I=l(t,d,m);s.appendChildren(w,[T,I,C,k,L,S,A]),n(f.xaxis.range[0],f.xaxis.range[1]),p.data([0]).enter().append(function(){return h.setRange=n,w})}},{"../../constants/xmlns_namespaces":620,"../../lib":633,"../../plotly":658,"../../plots/cartesian/axes":662,"./helpers":599,"./range_plot":601}],598:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("./attributes");e.exports=function(t,e,n,i){function a(t,e){return r.coerce(s,l,o,t,e)}if(t[n].rangeslider){var s=r.isPlainObject(t[n].rangeslider)?t[n].rangeslider:{},l=e[n].rangeslider={};if(a("bgcolor"),a("bordercolor"),a("borderwidth"),a("thickness"),a("visible"),a("range"),l.range&&!e[n].autorange){var u=l.range,c=e[n].range;u[0]=Math.min(u[0],c[0]),u[1]=Math.max(u[1],c[1])}else e[n]._needsExpand=!0;l.visible&&i.forEach(function(t){var n=e[t]||{};n.fixedrange=!0,e[t]=n})}}},{"../../lib":633,"./attributes":596}],599:[function(t,e,n){"use strict";n.setAttributes=function(t,e){for(var n in e)t.setAttribute(n,e[n])},n.appendChildren=function(t,e){for(var n=0;n<e.length;n++)e[n]&&t.appendChild(e[n])}},{}],600:[function(t,e,n){"use strict";function r(t){if(t._fullLayout.xaxis){var e=t._fullLayout,n=e._infolayer.selectAll("g.range-slider"),r=e.xaxis.rangeslider;if(!r||!r.visible)return n.data([]).exit().remove(),void o.autoMargin(t,"range-slider");var a=(e.height-e.margin.b-e.margin.t)*r.thickness,s=Math.floor(r.borderwidth/2);0!==n[0].length||e._has("gl2d")||i(t);var l=e.xaxis._boundingBox?e.xaxis._boundingBox.height:0;o.autoMargin(t,"range-slider",{x:0,y:0,l:0,r:0,t:0,b:a+e.margin.b+l,pad:15+2*s})}}var o=t("../../plots/plots"),i=t("./create_slider"),a=t("./attributes"),s=t("./defaults");e.exports={moduleType:"component",name:"rangeslider",layoutAttributes:a,handleDefaults:s,draw:r}},{"../../plots/plots":720,"./attributes":596,"./create_slider":597,"./defaults":598}],601:[function(t,e,n){"use strict";function r(t,e){for(var n=e.makeCalcdata(t||[],e._id[0]),r=0;r<n.length;r++)n[r]=e.c2l(n[r]);return n}function o(t,e,n,r){var o,i,f;if(t.line){o=document.createElementNS(c,"path");var p=l.smoothopen(e,t.line.smoothing||0);u.setAttributes(o,{d:p,fill:"none",stroke:t.line?t.line.color:"transparent","stroke-width":t.line.width/2||1,opacity:1})}if(t.marker){i=document.createElementNS(c,"g");var h=e.map(function(e,n){var r,o=document.createElementNS(c,"g"),i=document.createElementNS(c,"path");return r=Array.isArray(t.marker.size)?"number"==typeof t.marker.size[n]?Math.max(t.marker.size[n]/(t.marker.sizeref||1)/15,0):0:Math.max(t.marker.size/15,2),u.setAttributes(i,{d:s[t.marker.symbol].f(r),fill:t.marker.color,stroke:t.marker.line.color,"stroke-width":t.marker.line.width,opacity:t.marker.opacity}),u.setAttributes(o,{transform:"translate("+e[0]+","+e[1]+")"}),o.appendChild(i),o});u.appendChildren(i,h)}if("none"!==t.fill){switch(f=document.createElementNS(c,"path"),t.fill){case"tozeroy":e.unshift([e[0][0],r]),e.push([e[e.length-1][0],r]);break;case"tozerox":e.unshift([0,e[e.length-1][1]]);break;default:a.warn("Fill type "+t.fill+" not supported for range slider! (yet...)")}var d=l.smoothopen(e,t.line.smoothing||0);u.setAttributes(f,{d:d,fill:t.fillcolor||"transparent"})}return[o,i,f]}var i=t("d3"),a=t("../../lib"),s=t("../drawing/symbol_defs"),l=t("../drawing"),u=t("./helpers"),c=t("../../constants/xmlns_namespaces").svg;e.exports=function f(t,e,n){var s=t._fullLayout,p=t._fullData,h=s.xaxis,d=s.yaxis,m=h.rangeslider.range[0],y=h.rangeslider.range[1],v=d.range[0],g=d.range[1],b=document.createElementNS(c,"path");b.setAttribute("d",["M0,0",e+",0",e+","+n,"0,"+n,"Z"].join(" "));var _=document.createElementNS(c,"clipPath");_.setAttribute("id","range-clip-path"),_.appendChild(b);var x=document.createElementNS(c,"defs");x.appendChild(_);var f=document.createElementNS(c,"g");i.select(f).call(l.setClipUrl,"range-clip-path"),f.appendChild(x);for(var w=["scatter"],T=0;T<p.length;T++){var E=p[T],C=[];if(w.indexOf(E.type)<0)a.warn("Trace type "+E.type+" not supported for range slider!");else{for(var k=r(E,h),S=r(E,d),P=0;P<k.length;P++){var M=e*(k[P]-m)/(y-m),A=n*(1-(S[P]-v)/(g-v));isNaN(M)||isNaN(A)||C.push([M,A])}u.appendChildren(f,o(E,C,e,n))}}return f}},{"../../constants/xmlns_namespaces":620,"../../lib":633,"../drawing":563,"../drawing/symbol_defs":564,"./helpers":599,d3:125}],602:[function(t,e,n){"use strict";var r=t("../annotations/attributes"),o=t("../../traces/scatter/attributes"),i=t("../../lib/extend").extendFlat,a=o.line;e.exports={_isLinkedToArray:!0,type:{valType:"enumerated",values:["circle","rect","path","line"]},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},xref:i({},r.xref,{}),x0:{valType:"any"},x1:{valType:"any"},yref:i({},r.yref,{}),y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string"},opacity:{valType:"number",min:0,max:1,dflt:1},line:{color:a.color,width:a.width,dash:a.dash},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"}}},{"../../lib/extend":627,"../../traces/scatter/attributes":829,"../annotations/attributes":533}],603:[function(t,e,n){"use strict";function r(t,e,n,r,o){var s="category"===t.type?Number:t.d2c;if(void 0!==e)return[s(e),s(n)];if(r){var l,u,c,f,p,h=1/0,d=-(1/0),m=r.match(i.segmentRE);for("date"===t.type&&(s=a.decodeDate(s)),l=0;l<m.length;l++)u=m[l],c=o[u.charAt(0)].drawn,void 0!==c&&(f=m[l].substr(1).match(i.paramRE),!f||f.length<c||(p=s(f[c]),p<h&&(h=p),p>d&&(d=p)));return d>=h?[h,d]:void 0}}var o=t("../../plots/cartesian/axes"),i=t("./constants"),a=t("./helpers");e.exports=function(t){var e=t._fullLayout,n=e.shapes;if(n.length&&t._fullData.length)for(var a=0;a<n.length;a++){var s,l,u=n[a],c=u.line.width/2;"paper"!==u.xref&&(s=o.getFromId(t,u.xref),l=r(s,u.x0,u.x1,u.path,i.paramIsX),l&&o.expand(s,l,{ppad:c})),"paper"!==u.yref&&(s=o.getFromId(t,u.yref),l=r(s,u.y0,u.y1,u.path,i.paramIsY),l&&o.expand(s,l,{ppad:c}))}}},{"../../plots/cartesian/axes":662,"./constants":604,"./helpers":607}],604:[function(t,e,n){"use strict";e.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],605:[function(t,e,n){"use strict";var r=t("./shape_defaults");e.exports=function(t,e){for(var n=t.shapes||[],o=e.shapes=[],i=0;i<n.length;i++){var a=n[i]||{},s=r(a,e);o.push(s)}}},{"./shape_defaults":609}],606:[function(t,e,n){"use strict";function r(t){var e=t._fullLayout;e._shapeUpperLayer.selectAll("path").remove(),e._shapeLowerLayer.selectAll("path").remove(),e._shapeSubplotLayer.selectAll("path").remove();for(var n=0;n<e.shapes.length;n++)o(t,n)}function o(t,e,n,r){if(!v(e)||e===-1){if(!e&&Array.isArray(r))return void i(t,r);if("remove"===r)return void a(t);if(n&&"add"!==r)return void s(t,n,r);e=t._fullLayout.shapes.length,t._fullLayout.shapes.push({})}if(!n&&r){if("remove"===r)return void l(t,e);("add"===r||b.isPlainObject(r))&&u(t,e,r)}c(t,e,n,r)}function i(t,e){t.layout.shapes=e,P(t.layout,t._fullLayout),r(t)}function a(t){delete t.layout.shapes,t._fullLayout.shapes=[],r(t)}function s(t,e,n){for(var r=0;r<t._fullLayout.shapes.length;r++)o(t,r,e,n)}function l(t,e){p(t,e).selectAll('[data-index="'+e+'"]').remove(),t._fullLayout.shapes.splice(e,1),t.layout.shapes.splice(e,1);for(var n=e;n<t._fullLayout.shapes.length;n++)p(t,n).selectAll('[data-index="'+(n+1)+'"]').attr("data-index",n),o(t,n)}function u(t,e,n){t._fullLayout.shapes.splice(e,0,{});var r=b.isPlainObject(n)?b.extendFlat({},n):{text:"New text"};t.layout.shapes?t.layout.shapes.splice(e,0,r):t.layout.shapes=[r];for(var i=t._fullLayout.shapes.length-1;i>e;i--)p(t,i).selectAll('[data-index="'+(i-1)+'"]').attr("data-index",i),o(t,i)}function c(t,e,n,r){function o(n){var r={"data-index":e,"fill-rule":"evenodd",d:d(t,M)},o=M.line.width?M.line.color:"rgba(0,0,0,0)",i=n.append("path").attr(r).style("opacity",M.opacity).call(x.stroke,o).call(x.fill,M.fillcolor).call(w.dashLine,M.line.dash,M.line.width);A&&i.call(w.setClipUrl,"clip"+t._fullLayout._uid+A),t._context.editable&&f(t,i,M,e)}var i,a;p(t,e).selectAll('[data-index="'+e+'"]').remove();var s=t.layout.shapes[e];if(s){var l={xref:s.xref,yref:s.yref},u={};"string"==typeof n&&n?u[n]=r:b.isPlainObject(n)&&(u=n);var c=Object.keys(u);for(i=0;i<c.length;i++){var m=c[i];b.nestedProperty(s,m).set(u[m])}var y=["x0","x1","y0","y1"];for(i=0;i<4;i++){var v=y[i];if(void 0===u[v]&&void 0!==s[v]){var g,T=v.charAt(0),E=_.getFromId(t,_.coerceRef(l,{},t,T)),C=_.getFromId(t,_.coerceRef(s,{},t,T)),P=s[v];void 0!==u[T+"ref"]&&(E?(g=k.dataToLinear(E)(P),P=(g-E.range[0])/(E.range[1]-E.range[0])):P=(P-C.domain[0])/(C.domain[1]-C.domain[0]),C?(g=C.range[0]+P*(C.range[1]-C.range[0]),P=k.linearToData(C)(g)):P=E.domain[0]+P*(E.domain[1]-E.domain[0])),s[v]=P}}var M=S(s,t._fullLayout);t._fullLayout.shapes[e]=M;var A;if("below"!==M.layer)A=(M.xref+M.yref).replace(/paper/g,""),o(t._fullLayout._shapeUpperLayer);else if("paper"===M.xref&&"paper"===M.yref)A="",o(t._fullLayout._shapeLowerLayer);else{var O,D=t._fullLayout._plots||{},L=Object.keys(D);for(i=0,a=L.length;i<a;i++)O=D[L[i]],A=L[i],h(t,M,O)&&o(O.shapelayer)}}}function f(t,e,n,r){function o(t){var n=X.right-X.left,r=X.bottom-X.top,o=t.clientX-X.left,i=t.clientY-X.top,a=n>G&&r>Y&&!t.shiftKey?T.getCursor(o/n,1-i/r):"move";E(e,a),H=a.split("-")[0]}function i(e){z=_.getFromId(t,n.xref),B=_.getFromId(t,n.yref),U=k.getDataToPixel(t,z),W=k.getDataToPixel(t,B,!0),q=k.getPixelToData(t,z),V=k.getPixelToData(t,B,!0);var i="shapes["+r+"]";"path"===n.type?(R=n.path,N=i+".path"):(c=U(n.x0),f=W(n.y0),p=U(n.x1),h=W(n.y1),m=i+".x0",v=i+".y0",b=i+".x1",x=i+".y1"),c<p?(S=c,O=i+".x0",j="x0",P=p,D=i+".x1",F="x1"):(S=p,O=i+".x1",j="x1",P=c,D=i+".x0",F="x0"),f<h?(w=f,M=i+".y0",L="y0",C=h,A=i+".y1",I="y1"):(w=h,M=i+".y1",L="y1",C=f,A=i+".y0",I="y0"),u={},o(e),Z.moveFn="move"===H?s:l}function a(n){E(e),n&&g.relayout(t,u)}function s(r,o){if("path"===n.type){var i=function(t){return q(U(t)+r)};z&&"date"===z.type&&(i=k.encodeDate(i));var a=function(t){return V(W(t)+o)};B&&"date"===B.type&&(a=k.encodeDate(a)),n.path=y(R,i,a),u[N]=n.path}else u[m]=n.x0=q(c+r),u[v]=n.y0=V(f+o),u[b]=n.x1=q(p+r),u[x]=n.y1=V(h+o);e.attr("d",d(t,n))}function l(r,o){if("path"===n.type){var i=function(t){return q(U(t)+r)};z&&"date"===z.type&&(i=k.encodeDate(i));var a=function(t){return V(W(t)+o)};B&&"date"===B.type&&(a=k.encodeDate(a)),n.path=y(R,i,a),u[N]=n.path}else{var s=~H.indexOf("n")?w+o:w,l=~H.indexOf("s")?C+o:C,c=~H.indexOf("w")?S+r:S,f=~H.indexOf("e")?P+r:P;l-s>Y&&(u[M]=n[L]=V(s),u[A]=n[I]=V(l)),f-c>G&&(u[O]=n[j]=q(c),u[D]=n[F]=q(f))}e.attr("d",d(t,n))}var u,c,f,p,h,m,v,b,x,w,C,S,P,M,A,O,D,L,I,j,F,R,N,z,B,U,W,q,V,H,G=10,Y=10,Z={setCursor:o,element:e.node(),prepFn:i,doneFn:a},X=Z.element.getBoundingClientRect();T.init(Z)}function p(t,e){var n=t._fullLayout.shapes[e],r=t._fullLayout._shapeUpperLayer;return n?"below"===n.layer&&(r="paper"===n.xref&&"paper"===n.yref?t._fullLayout._shapeLowerLayer:t._fullLayout._shapeSubplotLayer):b.log("getShapeLayer: undefined shape: index",e),r}function h(t,e,n){var r=_.getFromId(t,n.id,"x")._id,o=_.getFromId(t,n.id,"y")._id,i="below"===e.layer,a=r===e.xref||o===e.yref,s=!!n.shapelayer;return i&&a&&s}function d(t,e){var n,r,o,i,a=e.type,s=_.getFromId(t,e.xref),l=_.getFromId(t,e.yref),u=t._fullLayout._size;if(s?(n=k.dataToLinear(s),r=function(t){return s._offset+s.l2p(n(t,!0))}):r=function(t){return u.l+u.w*t},l?(o=k.dataToLinear(l),i=function(t){return l._offset+l.l2p(o(t,!0))}):i=function(t){return u.t+u.h*(1-t)},"path"===a)return s&&"date"===s.type&&(r=k.decodeDate(r)),l&&"date"===l.type&&(i=k.decodeDate(i)),m(e.path,r,i);var c=r(e.x0),f=r(e.x1),p=i(e.y0),h=i(e.y1);if("line"===a)return"M"+c+","+p+"L"+f+","+h;if("rect"===a)return"M"+c+","+p+"H"+f+"V"+h+"H"+c+"Z";var d=(c+f)/2,y=(p+h)/2,v=Math.abs(d-c),g=Math.abs(y-p),b="A"+v+","+g,x=d+v+","+y,w=d+","+(y-g);return"M"+x+b+" 0 1,1 "+w+b+" 0 0,1 "+x+"Z"}function m(t,e,n){return t.replace(C.segmentRE,function(t){var r=0,o=t.charAt(0),i=C.paramIsX[o],a=C.paramIsY[o],s=C.numParams[o],l=t.substr(1).replace(C.paramRE,function(t){return i[r]?t=e(t):a[r]&&(t=n(t)),r++,r>s&&(t="X"),t});return r>s&&(l=l.replace(/[\s,]*X.*/,""),b.log("Ignoring extra params in segment "+t)),o+l})}function y(t,e,n){return t.replace(C.segmentRE,function(t){var r=0,o=t.charAt(0),i=C.paramIsX[o],a=C.paramIsY[o],s=C.numParams[o],l=t.substr(1).replace(C.paramRE,function(t){return r>=s?t:(i[r]?t=e(t):a[r]&&(t=n(t)),r++,t)});return o+l})}var v=t("fast-isnumeric"),g=t("../../plotly"),b=t("../../lib"),_=t("../../plots/cartesian/axes"),x=t("../color"),w=t("../drawing"),T=t("../dragelement"),E=t("../../lib/setcursor"),C=t("./constants"),k=t("./helpers"),S=t("./shape_defaults"),P=t("./defaults");e.exports={draw:r,drawOne:o}},{"../../lib":633,"../../lib/setcursor":643,"../../plotly":658,"../../plots/cartesian/axes":662,"../color":540,"../dragelement":561,"../drawing":563,"./constants":604,"./defaults":605,"./helpers":607,"./shape_defaults":609,"fast-isnumeric":129}],607:[function(t,e,n){"use strict";n.dataToLinear=function(t){return"category"===t.type?t.c2l:t.d2l},n.linearToData=function(t){return"category"===t.type?t.l2c:t.l2d},n.decodeDate=function(t){return function(e){return e.replace&&(e=e.replace("_"," ")),t(e)}},n.encodeDate=function(t){return function(e){return t(e).replace(" ","_")}},n.getDataToPixel=function(t,e,r){var o,i=t._fullLayout._size;if(e){var a=n.dataToLinear(e);o=function(t){return e._offset+e.l2p(a(t,!0))},"date"===e.type&&(o=n.decodeDate(o))}else o=r?function(t){return i.t+i.h*(1-t)}:function(t){return i.l+i.w*t};return o},n.getPixelToData=function(t,e,r){var o,i=t._fullLayout._size;if(e){var a=n.linearToData(e);o=function(t){return a(e.p2l(t-e._offset))}}else o=r?function(t){return 1-(t-i.t)/i.h}:function(t){return(t-i.l)/i.w};return o}},{}],608:[function(t,e,n){"use strict";n.moduleType="component",n.name="shapes",n.layoutAttributes=t("./attributes"),n.supplyLayoutDefaults=t("./defaults"),n.calcAutorange=t("./calc_autorange");var r=t("./draw");n.draw=r.draw,n.drawOne=r.drawOne},{"./attributes":602,"./calc_autorange":603,"./defaults":605,"./draw":606}],609:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("../../plots/cartesian/axes"),i=t("./attributes"),a=t("./helpers");e.exports=function(t,e){function n(e,n){return r.coerce(t,s,i,e,n)}var s={};n("layer"),n("opacity"),n("fillcolor"),n("line.color"),n("line.width"),n("line.dash");for(var l=t.path?"path":"rect",u=n("type",l),c=["x","y"],f=0;f<2;f++){var p=c[f],h={_fullLayout:e},d=o.coerceRef(t,s,h,p);if("path"!==u){var m=.25,y=.75;if("paper"!==d){var v=o.getFromId(h,d),g=a.linearToData(v);m=g(v.range[0]+m*(v.range[1]-v.range[0])),y=g(v.range[0]+y*(v.range[1]-v.range[0]))}n(p+"0",m),n(p+"1",y)}}return"path"===u?n("path"):r.noneOrAll(t,s,["x0","x1","y0","y1"]),s}},{"../../lib":633,"../../plots/cartesian/axes":662,"./attributes":602,"./helpers":607}],610:[function(t,e,n){"use strict";var r=t("d3"),o=t("fast-isnumeric"),i=t("../../plotly"),a=t("../../plots/plots"),s=t("../../lib"),l=t("../drawing"),u=t("../color"),c=t("../../lib/svg_text_utils"),f=e.exports={};f.draw=function(t,e,n){function f(t){s.syncOrAsync([p,h],t)}function p(e){return e.attr("transform",x?"rotate("+[x.rotate,_.x,_.y]+") translate(0, "+x.offset+")":null),e.style({"font-family":E,"font-size":r.round(C,2)+"px",fill:u.rgb(k),opacity:S*u.opacity(k),"font-weight":a.fontWeight}).attr(_).call(c.convertToTspans).attr(_),e.selectAll("tspan.line").attr(_),a.previousPromises(t)}function h(t){var e=r.select(t.node().parentNode);if(b&&b.selection&&b.side&&M){e.attr("transform",null);var n=0,i={left:"right",right:"left",top:"bottom",bottom:"top"}[b.side],a=["left","top"].indexOf(b.side)!==-1?-1:1,u=o(b.pad)?b.pad:2,c=l.bBox(e.node()),f={left:0,top:0,right:T.width,bottom:T.height},p=b.maxShift||(f[b.side]-c[b.side])*("left"===b.side||"top"===b.side?-1:1);if(p<0?n=p:(c.left-=b.offsetLeft,c.right-=b.offsetLeft,c.top-=b.offsetTop,c.bottom-=b.offsetTop,b.selection.each(function(){var t=l.bBox(this);s.bBoxIntersect(c,t,u)&&(n=Math.max(n,a*(t[b.side]-c[i])+u))}),n=Math.min(p,n)),n>0||p<0){var h={left:[-n,0],right:[n,0],top:[0,-n],bottom:[0,n]}[b.side];e.attr("transform","translate("+h+")")}}}function d(){S=0,P=!0,M=O,T._infolayer.select("."+e).attr({"data-unformatted":M}).text(M).on("mouseover.opacity",function(){r.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){r.select(this).transition().duration(1e3).style("opacity",0)})}var m=n.propContainer,y=n.propName,v=n.traceIndex,g=n.dfltName,b=n.avoid||{},_=n.attributes,x=n.transform,w=n.containerGroup,T=t._fullLayout,E=m.titlefont.family,C=m.titlefont.size,k=m.titlefont.color,S=1,P=!1,M=m.title.trim();""===M&&(S=0),M.match(/Click to enter .+ title/)&&(S=.2,P=!0),w||(w=T._infolayer.selectAll(".g-"+e).data([0]),w.enter().append("g").classed("g-"+e,!0));var A=w.selectAll("text").data([0]);A.enter().append("text"),A.text(M).attr("class",e),A.attr({"data-unformatted":M}).call(f);var O="Click to enter "+g+" title";t._context.editable?(M||d(),A.call(c.makeEditable).on("edit",function(e){void 0!==v?i.restyle(t,y,e,v):i.relayout(t,y,e)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(f)}).on("input",function(t){this.text(t||" ").attr(_).selectAll("tspan.line").attr(_)})):M&&!M.match(/Click to enter .+ title/)||A.remove(),A.classed("js-placeholder",P)}},{"../../lib":633,"../../lib/svg_text_utils":647,"../../plotly":658,"../../plots/plots":720,"../color":540,"../drawing":563,d3:125,"fast-isnumeric":129}],611:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),o=t("../color/attributes"),i=t("../../lib/extend").extendFlat,a={_isLinkedToArray:!0,method:{valType:"enumerated",values:["restyle","relayout","animate"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""}};e.exports={_isLinkedToArray:!0,visible:{valType:"boolean"},active:{valType:"integer",min:-1,dflt:0},buttons:a,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},font:i({},r,{}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:o.borderLine},borderwidth:{valType:"number",min:0,dflt:1}}},{"../../lib/extend":627,"../../plots/font_attributes":681,"../color/attributes":539}],612:[function(t,e,n){"use strict";e.exports={name:"updatemenus",itemName:"updatemenu",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",buttonGroupClassName:"updatemenu-button-group",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:40,fontSizeToHeight:1.3,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF"}},{}],613:[function(t,e,n){"use strict";function r(t,e,n){function r(n,r){return i.coerce(t,e,a,n,r)}var s=o(t,e),l=r("visible",s.length>0);l&&(r("active"),r("x"),r("y"),i.noneOrAll(t,e,["x","y"]),r("xanchor"),r("yanchor"),i.coerceFont(r,"font",n.font),r("bgcolor",n.paper_bgcolor),r("bordercolor"),r("borderwidth"))}function o(t,e){function n(t,e){return i.coerce(r,o,u,t,e)}for(var r,o,a=t.buttons||[],s=e.buttons=[],l=0;l<a.length;l++)r=a[l],o={},i.isPlainObject(r)&&Array.isArray(r.args)&&(n("method"),n("args"),n("label"),o._index=l,s.push(o));return s}var i=t("../../lib"),a=t("./attributes"),s=t("./constants"),l=s.name,u=a.buttons;e.exports=function(t,e){for(var n=Array.isArray(t[l])?t[l]:[],o=e[l]=[],i=0;i<n.length;i++){var a=n[i]||{},s={};r(a,s,e),s._input=a,s._index=i,o.push(s)}}},{"../../lib":633,"./attributes":611,"./constants":612}],614:[function(t,e,n){"use strict";function r(t){for(var e=t[k.name],n=[],r=0;r<e.length;r++){var o=e[r];o.visible&&n.push(o)}return n}function o(t){return t._index}function i(t,e){var n=+t.attr(k.menuIndexAttrName);return n===e._index}function a(t,e,n,r){var o=e.selectAll("g."+k.headerClassName).data([0]);o.enter().append("g").classed(k.headerClassName,!0).style("pointer-events","all");var a=r.active,u=r.buttons[a]||k.blankHeaderOpts,c={y:0,yPad:0};o.call(l,r,u).call(m,r,c);var f=e.selectAll("text."+k.headerArrowClassName).data([0]);f.enter().append("text").classed(k.headerArrowClassName,!0).classed("user-select-none",!0).attr("text-anchor","end").call(T.font,r.font).text(""),f.attr({x:r.width-k.arrowOffsetX,y:r.height1/2+k.textOffsetY}),o.on("click",function(){n.call(y),n.attr(k.menuIndexAttrName,i(n,r)?"-1":String(r._index)),s(t,e,n,r)}),o.on("mouseover",function(){o.call(p)}),o.on("mouseout",function(){o.call(h,r)}),x.setTranslate(e,r.lx,r.ly)}function s(t,e,n,r){var o="-1"!==n.attr(k.menuIndexAttrName)?r.buttons:[],i=n.selectAll("g."+k.buttonClassName).data(o);i.enter().append("g").classed(k.buttonClassName,!0).attr("opacity","0").transition().attr("opacity","1"),i.exit().transition().attr("opacity","0").remove();var u={y:r.height1+k.gapButtonHeader,yPad:k.gapButton};i.each(function(o,c){var d=g.select(this);d.call(l,r,o).call(m,r,u),d.on("click",function(){r._input.active=r.active=c,n.attr(k.menuIndexAttrName,"-1"),a(t,e,n,r),s(t,e,n,r);var i=o.args;b[o.method](t,i[0],i[1],i[2])}),d.on("mouseover",function(){d.call(p)}),d.on("mouseout",function(){d.call(h,r),i.call(f,r)})}),i.call(f,r),x.setTranslate(n,r.lx,r.ly)}function l(t,e,n){t.call(u,e).call(c,e,n)}function u(t,e){var n=t.selectAll("rect").data([0]);n.enter().append("rect").classed(k.itemRectClassName,!0).attr({rx:k.rx,ry:k.ry,"shape-rendering":"crispEdges"}),n.call(w.stroke,e.bordercolor).call(w.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px")}function c(t,e,n){var r=t.selectAll("text").data([0]);r.enter().append("text").classed(k.itemTextClassName,!0).classed("user-select-none",!0).attr("text-anchor","start"),r.call(T.font,e.font).text(n.label).call(E.convertToTspans)}function f(t,e){var n=e.active;t.each(function(t,e){var r=g.select(this);e===n&&r.select("rect."+k.itemRectClassName).call(w.fill,k.activeColor)})}function p(t){t.select("rect."+k.itemRectClassName).call(w.fill,k.hoverColor)}function h(t,e){t.select("rect."+k.itemRectClassName).call(w.fill,e.bgcolor)}function d(t,e){e.width=0,e.height=0,e.height1=0,e.lx=0,e.ly=0;var n=t._tester.selectAll("g."+k.buttonClassName).data(e.buttons);n.enter().append("g").classed(k.buttonClassName,!0),n.each(function(t){var n=g.select(this);n.call(l,e,t);var r=n.select("."+k.itemTextClassName),o=r.selectAll("tspan"),i=r.node()&&T.bBox(r.node()).width,a=Math.max(i+k.textPadX,k.minWidth),s=e.font.size*k.fontSizeToHeight,u=o[0].length||1,c=Math.max(s*u,k.minHeight)+k.textOffsetY;e.width=Math.max(e.width,a),e.height1=Math.max(e.height1,c),e.height+=e.height1}),n.remove();var r=t._fullLayout._size;e.lx=r.l+r.w*e.x,e.ly=r.t+r.h*(1-e.y);var o="left";C.isRightAnchor(e)&&(e.lx-=e.width,o="right"),C.isCenterAnchor(e)&&(e.lx-=e.width/2,o="center");var i="top";C.isBottomAnchor(e)&&(e.ly-=e.height,i="bottom"),C.isMiddleAnchor(e)&&(e.ly-=e.height/2,i="middle"),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e.lx=Math.round(e.lx),e.ly=Math.round(e.ly),_.autoMargin(t,k.autoMarginIdRoot+e._index,{x:e.x,y:e.y,l:e.width*({right:1,center:.5}[o]||0),r:e.width*({left:1,center:.5}[o]||0),b:e.height*({top:1,middle:.5}[i]||0),t:e.height*({bottom:1,middle:.5}[i]||0)})}function m(t,e,n){var r=t.select("."+k.itemRectClassName),o=t.select("."+k.itemTextClassName),i=o.selectAll("tspan"),a=e.borderwidth;x.setTranslate(t,a,a+n.y),r.attr({x:0,y:0,width:e.width,height:e.height1});var s=e.font.size*k.fontSizeToHeight,l=i[0].length||1,u=(l-1)*s/4,c={x:k.textOffsetX,y:e.height1/2-u+k.textOffsetY};o.attr(c),i.attr(c),n.y+=e.height1+n.yPad}function y(t){t.selectAll("g."+k.buttonClassName).remove()}function v(t){for(var e=t._fullLayout._pushmargin||{},n=Object.keys(e),r=0;r<n.length;r++){var o=n[r];o.indexOf(k.autoMarginIdRoot)!==-1&&_.autoMargin(t,o)}}var g=t("d3"),b=t("../../plotly"),_=t("../../plots/plots"),x=t("../../lib"),w=t("../color"),T=t("../drawing"),E=t("../../lib/svg_text_utils"),C=t("../legend/anchor_utils"),k=t("./constants");e.exports=function(t){var e=t._fullLayout,n=r(e),l=e._infolayer.selectAll("g."+k.containerClassName).data(n.length>0?[0]:[]);if(l.enter().append("g").classed(k.containerClassName,!0).style("cursor","pointer"),l.exit().remove(),l.exit().size()&&v(t),0!==n.length){var u=l.selectAll("g."+k.headerGroupClassName).data(n,o);u.enter().append("g").classed(k.headerGroupClassName,!0);var c=l.selectAll("g."+k.buttonGroupClassName).data([0]);c.enter().append("g").classed(k.buttonGroupClassName,!0).style("pointer-events","all"),u.enter().size()&&c.call(y).attr(k.menuIndexAttrName,"-1"),u.exit().each(function(e){g.select(this).remove(),c.call(y).attr(k.menuIndexAttrName,"-1"),_.autoMargin(t,k.autoMarginIdRoot+e._index)});for(var f=0;f<n.length;f++){var p=n[f];d(t,p)}u.each(function(e){var n=g.select(this);a(t,n,c,e),i(c,e)&&s(t,n,c,e)})}}},{"../../lib":633,"../../lib/svg_text_utils":647,"../../plotly":658,"../../plots/plots":720,"../color":540,"../drawing":563,"../legend/anchor_utils":576,"./constants":612,d3:125}],615:[function(t,e,n){"use strict";n.moduleType="component",n.name="updatemenus",n.layoutAttributes=t("./attributes"),n.supplyLayoutDefaults=t("./defaults"),n.draw=t("./draw")},{"./attributes":611,"./defaults":613,"./draw":614}],616:[function(t,e,n){"use strict";e.exports={solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}},{}],617:[function(t,e,n){"use strict";e.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},{}],618:[function(t,e,n){"use strict";e.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},{}],619:[function(t,e,n){"use strict";e.exports={entityToUnicode:{mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},unicodeToEntity:{"&":"amp","<":"lt",">":"gt",'"':"quot","'":"#x27","/":"#x2F"}}},{}],620:[function(t,e,n){"use strict";n.xmlns="http://www.w3.org/2000/xmlns/",n.svg="http://www.w3.org/2000/svg",n.xlink="http://www.w3.org/1999/xlink",n.svgAttrs={xmlns:n.svg,"xmlns:xlink":n.xlink}},{}],621:[function(t,e,n){"use strict";var r=t("./plotly");n.version="1.17.3",t("es6-promise").polyfill(),t("../build/plotcss"),t("./fonts/mathjax_config"),n.plot=r.plot,n.newPlot=r.newPlot,n.restyle=r.restyle,n.relayout=r.relayout,n.redraw=r.redraw,n.update=r.update,n.extendTraces=r.extendTraces,n.prependTraces=r.prependTraces,n.addTraces=r.addTraces,n.deleteTraces=r.deleteTraces,n.moveTraces=r.moveTraces,n.purge=r.purge,n.setPlotConfig=t("./plot_api/set_plot_config"),n.register=t("./plot_api/register"),n.toImage=t("./plot_api/to_image"),n.downloadImage=t("./snapshot/download"),n.validate=t("./plot_api/validate"),n.addFrames=r.addFrames,n.deleteFrames=r.deleteFrames,n.animate=r.animate,n.register(t("./traces/scatter")),n.register([t("./components/legend"),t("./components/annotations"),t("./components/shapes"),t("./components/images"),t("./components/updatemenus"),t("./components/rangeslider"),t("./components/rangeselector")]),
n.Icons=t("../build/ploticon"),n.Plots=r.Plots,n.Fx=r.Fx,n.Snapshot=t("./snapshot"),n.PlotSchema=t("./plot_api/plot_schema"),n.Queue=t("./lib/queue"),n.d3=t("d3")},{"../build/plotcss":1,"../build/ploticon":2,"./components/annotations":538,"./components/images":575,"./components/legend":583,"./components/rangeselector":595,"./components/rangeslider":600,"./components/shapes":608,"./components/updatemenus":615,"./fonts/mathjax_config":622,"./lib/queue":641,"./plot_api/plot_schema":652,"./plot_api/register":653,"./plot_api/set_plot_config":654,"./plot_api/to_image":656,"./plot_api/validate":657,"./plotly":658,"./snapshot":740,"./snapshot/download":737,"./traces/scatter":839,d3:125,"es6-promise":128}],622:[function(t,e,n){"use strict";"undefined"!=typeof MathJax?(n.MathJax=!0,MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()):n.MathJax=!1},{}],623:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){Array.isArray(t)&&(e[n]=t[r])}},{}],624:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),o=t("tinycolor2"),i=t("./nested_property"),a=t("../components/colorscale/get_scale"),s=(Object.keys(t("../components/colorscale/scales")),/^([2-9]|[1-9][0-9]+)$/);n.valObjects={data_array:{coerceFunction:function(t,e,n){Array.isArray(t)?e.set(t):void 0!==n&&e.set(n)}},enumerated:{coerceFunction:function(t,e,n,r){r.coerceNumber&&(t=+t),r.values.indexOf(t)===-1?e.set(n):e.set(t)}},"boolean":{coerceFunction:function(t,e,n){t===!0||t===!1?e.set(t):e.set(n)}},number:{coerceFunction:function(t,e,n,o){!r(t)||void 0!==o.min&&t<o.min||void 0!==o.max&&t>o.max?e.set(n):e.set(+t)}},integer:{coerceFunction:function(t,e,n,o){t%1||!r(t)||void 0!==o.min&&t<o.min||void 0!==o.max&&t>o.max?e.set(n):e.set(+t)}},string:{coerceFunction:function(t,e,n,r){if("string"!=typeof t){var o="number"==typeof t;r.strict!==!0&&o?e.set(String(t)):e.set(n)}else r.noBlank&&!t?e.set(n):e.set(t)}},color:{coerceFunction:function(t,e,n){o(t).isValid()?e.set(t):e.set(n)}},colorscale:{coerceFunction:function(t,e,n){e.set(a(t,n))}},angle:{coerceFunction:function(t,e,n){"auto"===t?e.set("auto"):r(t)?(Math.abs(t)>180&&(t-=360*Math.round(t/360)),e.set(+t)):e.set(n)}},subplotid:{coerceFunction:function(t,e,n){var r=n.length;return"string"==typeof t&&t.substr(0,r)===n&&s.test(t.substr(r))?void e.set(t):void e.set(n)},validateFunction:function(t,e){var n=e.dflt,r=n.length;return t===n||"string"==typeof t&&!(t.substr(0,r)!==n||!s.test(t.substr(r)))}},flaglist:{coerceFunction:function(t,e,n,r){if("string"!=typeof t)return void e.set(n);if((r.extras||[]).indexOf(t)!==-1)return void e.set(t);for(var o=t.split("+"),i=0;i<o.length;){var a=o[i];r.flags.indexOf(a)===-1||o.indexOf(a)<i?o.splice(i,1):i++}o.length?e.set(o.join("+")):e.set(n)}},any:{coerceFunction:function(t,e,n){void 0===t?e.set(n):e.set(t)}},info_array:{coerceFunction:function(t,e,r,o){if(!Array.isArray(t))return void e.set(r);var i=o.items,a=[];r=Array.isArray(r)?r:[];for(var s=0;s<i.length;s++)n.coerce(t,a,i,"["+s+"]",r[s]);e.set(a)},validateFunction:function(t,e){if(!Array.isArray(t))return!1;var r=e.items;if(!e.freeLength&&t.length!==r.length)return!1;for(var o=0;o<t.length;o++){var i=n.validate(t[o],e.items[o]);if(!i)return!1}return!0}}},n.coerce=function(t,e,r,o,a){var s=i(r,o).get(),l=i(t,o),u=i(e,o),c=l.get();return void 0===a&&(a=s.dflt),s.arrayOk&&Array.isArray(c)?(u.set(c),c):(n.valObjects[s.valType].coerceFunction(c,u,a,s),u.get())},n.coerce2=function(t,e,r,o,a){var s=i(t,o),l=n.coerce(t,e,r,o,a);return!!s.get()&&l},n.coerceFont=function(t,e,n){var r={};return n=n||{},r.family=t(e+".family",n.family),r.size=t(e+".size",n.size),r.color=t(e+".color",n.color),r},n.validate=function(t,e){var r=n.valObjects[e.valType];if(e.arrayOk&&Array.isArray(t))return!0;if(r.validateFunction)return r.validateFunction(t,e);var o={},i=o,a={set:function(t){i=t}};return r.coerceFunction(t,a,o,e),i!==o}},{"../components/colorscale/get_scale":552,"../components/colorscale/scales":558,"./nested_property":638,"fast-isnumeric":129,tinycolor2:506}],625:[function(t,e,n){"use strict";function r(t,e){return String(t+Math.pow(10,e)).substr(1)}function o(t){var e;return e=g.test(t)?"Y":"y",e+=b.test(t)?"b":""}function i(t){var e;return e=x.test(t)?_.test(t)?"I":"H":"D"}var a=t("d3"),s=t("fast-isnumeric");n.dateTime2ms=function(t){try{if(t.getTime)return+t}catch(e){return!1}var n,r,o,i,a=String(t).split(" ");if(a.length>2)return!1;var l=a[0].split("-");if(l.length>3||3!==l.length&&a[1])return!1;if(4===l[0].length)n=Number(l[0]);else{if(2!==l[0].length)return!1;var u=(new Date).getFullYear();n=((Number(l[0])-u+70)%100+200)%100+u-70}return!!s(n)&&(1===l.length?new Date(n,0,1).getTime():(r=Number(l[1])-1,!(l[1].length>2)&&r>=0&&r<=11&&(2===l.length?new Date(n,r,1).getTime():(o=Number(l[2]),!(l[2].length>2)&&o>=1&&o<=31&&(o=new Date(n,r,o).getTime(),a[1]?(l=a[1].split(":"),!(l.length>3)&&(i=Number(l[0]),!(l[0].length>2)&&i>=0&&i<=23&&(o+=36e5*i,1===l.length?o:(r=Number(l[1]),!(l[1].length>2)&&r>=0&&r<=59&&(o+=6e4*r,2===l.length?o:(t=Number(l[2]),t>=0&&t<60&&o+1e3*t)))))):o)))))},n.isDateTime=function(t){return n.dateTime2ms(t)!==!1},n.ms2DateTime=function(t,e){e||(e=0);var n=new Date(t),o=a.time.format("%Y-%m-%d")(n);return e<7776e6?(o+=" "+r(n.getHours(),2),e<432e6&&(o+=":"+r(n.getMinutes(),2),e<108e5&&(o+=":"+r(n.getSeconds(),2),e<3e5&&(o+="."+r(n.getMilliseconds(),3)))),o.replace(/([:\s]00)*\.?[0]*$/,"")):o};var l={H:["%H:%M:%S~%L","%H:%M:%S","%H:%M"],I:["%I:%M:%S~%L%p","%I:%M:%S%p","%I:%M%p"],D:["%H","%I%p","%Hh"]},u={Y:["%Y~%m~%d","%Y%m%d","%y%m%d","%m~%d~%Y","%d~%m~%Y"],Yb:["%b~%d~%Y","%d~%b~%Y","%Y~%d~%b","%Y~%b~%d"],y:["%m~%d~%y","%d~%m~%y","%y~%m~%d"],yb:["%b~%d~%y","%d~%b~%y","%y~%d~%b","%y~%b~%d"]},c=a.time.format.utc,f={Y:{H:["%Y~%m~%dT%H:%M:%S","%Y~%m~%dT%H:%M:%S~%L"].map(c),I:[],D:["%Y%m%d%H%M%S","%Y~%m","%m~%Y"].map(c)},Yb:{H:[],I:[],D:["%Y~%b","%b~%Y"].map(c)},y:{H:[],I:[],D:[]},yb:{H:[],I:[],D:[]}};["Y","Yb","y","yb"].forEach(function(t){u[t].forEach(function(e){f[t].D.push(c(e)),["H","I","D"].forEach(function(n){l[n].forEach(function(r){var o=f[t][n];o.push(c(e+"~"+r)),o.push(c(r+"~"+e))})})})});var p=/[a-z]*/g,h=function(t){return t.substr(0,3)},d=/(mon|tue|wed|thu|fri|sat|sun|the|of|st|nd|rd|th)/g,m=/[\s,\/\-\.\(\)]+/g,y=/~?([ap])~?m(~|$)/,v=function(t,e){return e+"m "},g=/\d\d\d\d/,b=/(^|~)[a-z]{3}/,_=/[ap]m/,x=/:/,w=/q([1-4])/,T=["31~mar","30~jun","30~sep","31~dec"],E=function(t,e){return T[e-1]},C=/ ?([+\-]\d\d:?\d\d|Z)$/;n.parseDate=function(t){if(t.getTime)return t;if("string"!=typeof t)return!1;t=t.toLowerCase().replace(p,h).replace(d,"").replace(m,"~").replace(y,v).replace(w,E).trim().replace(C,"");var e,n,r=null,a=o(t),s=i(t);e=f[a][s],n=e.length;for(var l=0;l<n&&!(r=e[l].parse(t));l++);if(!(r instanceof Date))return!1;var u=r.getTimezoneOffset();return r.setTime(r.getTime()+60*u*1e3),r}},{d3:125,"fast-isnumeric":129}],626:[function(t,e,n){"use strict";var r=t("events").EventEmitter,o={init:function(t){if(t._ev instanceof r)return t;var e=new r,n=new r;return t._ev=e,t._internalEv=n,t.on=e.on.bind(e),t.once=e.once.bind(e),t.removeListener=e.removeListener.bind(e),t.removeAllListeners=e.removeAllListeners.bind(e),t._internalOn=n.on.bind(n),t._internalOnce=n.once.bind(n),t._removeInternalListener=n.removeListener.bind(n),t._removeAllInternalListeners=n.removeAllListeners.bind(n),t.emit=function(r,o){"undefined"!=typeof jQuery&&jQuery(t).trigger(r,o),e.emit(r,o),n.emit(r,o)},t},triggerHandler:function(t,e,n){var r,o;"undefined"!=typeof jQuery&&(r=jQuery(t).triggerHandler(e,n));var i=t._ev;if(!i)return r;var a=i._events[e];if(!a)return r;"function"==typeof a&&(a=[a]);for(var s=a.pop(),l=0;l<a.length;l++)a[l](n);return o=s(n),void 0!==r?r:o},purge:function(t){return delete t._ev,delete t.on,delete t.once,delete t.removeListener,delete t.removeAllListeners,delete t.emit,delete t._ev,delete t._internalEv,delete t._internalOn,delete t._internalOnce,delete t._removeInternalListener,delete t._removeAllInternalListeners,t}};e.exports=o},{events:57}],627:[function(t,e,n){"use strict";function r(t,e){var n,r;for(n=0;n<t.length;n++){if(r=t[n],null!==r&&"object"==typeof r)return!1;void 0!==r&&(e[n]=r)}return!0}function o(t,e,n,s){var l,u,c,f,p,h,d,m=t[0],y=t.length;if(2===y&&a(m)&&a(t[1])&&0===m.length){if(d=r(t[1],m))return m;m.splice(0,m.length)}for(var v=1;v<y;v++){l=t[v];for(u in l)c=m[u],f=l[u],s&&a(f)?m[u]=f:e&&f&&(i(f)||(p=a(f)))?(p?(p=!1,h=c&&a(c)?c:[]):h=c&&i(c)?c:{},m[u]=o([h,f],e,n,s)):("undefined"!=typeof f||n)&&(m[u]=f)}return m}var i=t("./is_plain_object.js"),a=Array.isArray;n.extendFlat=function(){return o(arguments,!1,!1,!1)},n.extendDeep=function(){return o(arguments,!0,!1,!1)},n.extendDeepAll=function(){return o(arguments,!0,!0,!1)},n.extendDeepNoArrays=function(){return o(arguments,!0,!1,!0)}},{"./is_plain_object.js":635}],628:[function(t,e,n){"use strict";e.exports=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];r.visible===!0&&e.push(r)}return e}},{}],629:[function(t,e,n){"use strict";e.exports=function(t,e){for(var n=new Float32Array(e),r=0;r<e;r++)n[r]=t[r];return n}},{}],630:[function(t,e,n){"use strict";function r(t,e){var n=l[t];return n(e)}function o(t){for(var e,n,r=0;r<s.length;r++)if(e=s[r],n=new RegExp(i[e]),n.test(t.toLowerCase()))return e;a.warn("Unrecognized country name: "+t+".")}var i=t("country-regex"),a=t("../lib"),s=Object.keys(i),l={"ISO-3":a.identity,"USA-states":a.identity,"country names":o};n.locationToFeature=function(t,e,n){for(var o,i=r(t,e),s=0;s<n.length;s++)if(o=n[s],o.id===i)return o;a.warn(["Location with id",i,"does not have a matching topojson feature at this resolution."].join(" "))}},{"../lib":633,"country-regex":120}],631:[function(t,e,n){"use strict";function r(t,e){var n=f(t);return n[3]*=e,n}function o(t){return s(t).isValid()?t:c}function i(t){return l(t)?t:p}function a(t,e,n){var a,s,l,f,h,d=t.color,m=Array.isArray(d),y=Array.isArray(e),v=[];if(a=void 0!==t.colorscale?u(t.colorscale,t.cmin,t.cmax):o,s=m?function(t,e){return void 0===t[e]?c:a(t[e])}:o,l=y?function(t,e){return void 0===t[e]?p:i(t[e])}:i,m||y)for(var g=0;g<n;g++)f=s(d,g),h=l(e,g),v[g]=r(f,h);else v=r(d,e);return v}var s=t("tinycolor2"),l=t("fast-isnumeric"),u=t("../components/colorscale/make_scale_function"),c=t("../components/color/attributes").defaultLine,f=t("./str2rgbarray"),p=1;e.exports=a},{"../components/color/attributes":539,"../components/colorscale/make_scale_function":557,"./str2rgbarray":646,"fast-isnumeric":129,tinycolor2:506}],632:[function(t,e,n){"use strict";function r(t){for(var e=0;(e=t.indexOf("<sup>",e))>=0;){var n=t.indexOf("</sup>",e);if(n<e)break;t=t.slice(0,e)+l(t.slice(e+5,n))+t.slice(n+6)}return t}function o(t){return t.replace(/\<br\>/g,"\n")}function i(t){return t.replace(/\<.*\>/g,"")}function a(t){for(var e=u.entityToUnicode,n=0;(n=t.indexOf("&",n))>=0;){var r=t.indexOf(";",n);if(r<n)n+=1;else{var o=e[t.slice(n+1,r)];t=o?t.slice(0,n)+o+t.slice(r+1):t.slice(0,n)+t.slice(r+1)}}return t}function s(t){return""+a(i(r(o(t))))}var l=t("superscript-text"),u=t("../constants/string_mappings");e.exports=s},{"../constants/string_mappings":619,"superscript-text":495}],633:[function(t,e,n){"use strict";var r=t("d3"),o=e.exports={};o.nestedProperty=t("./nested_property"),o.isPlainObject=t("./is_plain_object"),o.isArray=t("./is_array");var i=t("./coerce");o.valObjects=i.valObjects,o.coerce=i.coerce,o.coerce2=i.coerce2,o.coerceFont=i.coerceFont,o.validate=i.validate;var a=t("./dates");o.dateTime2ms=a.dateTime2ms,o.isDateTime=a.isDateTime,o.ms2DateTime=a.ms2DateTime,o.parseDate=a.parseDate;var s=t("./search");o.findBin=s.findBin,o.sorterAsc=s.sorterAsc,o.sorterDes=s.sorterDes,o.distinctVals=s.distinctVals,o.roundUp=s.roundUp;var l=t("./stats");o.aggNums=l.aggNums,o.len=l.len,o.mean=l.mean,o.variance=l.variance,o.stdev=l.stdev,o.interp=l.interp;var u=t("./matrix");o.init2dArray=u.init2dArray,o.transposeRagged=u.transposeRagged,o.dot=u.dot,o.translationMatrix=u.translationMatrix,o.rotationMatrix=u.rotationMatrix,o.rotationXYMatrix=u.rotationXYMatrix,o.apply2DTransform=u.apply2DTransform,o.apply2DTransform2=u.apply2DTransform2;var c=t("./extend");o.extendFlat=c.extendFlat,o.extendDeep=c.extendDeep,o.extendDeepAll=c.extendDeepAll,o.extendDeepNoArrays=c.extendDeepNoArrays;var f=t("./loggers");o.log=f.log,o.warn=f.warn,o.error=f.error,o.notifier=t("./notifier"),o.swapAttrs=function(t,e,n,r){n||(n="x"),r||(r="y");for(var i=0;i<e.length;i++){var a=e[i],s=o.nestedProperty(t,a.replace("?",n)),l=o.nestedProperty(t,a.replace("?",r)),u=s.get();s.set(l.get()),l.set(u)}},o.pauseEvent=function(t){return t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,!1},o.constrain=function(t,e,n){return e>n?Math.max(n,Math.min(e,t)):Math.max(e,Math.min(n,t))},o.bBoxIntersect=function(t,e,n){return n=n||0,t.left<=e.right+n&&e.left<=t.right+n&&t.top<=e.bottom+n&&e.top<=t.bottom+n},o.identity=function(t){return t},o.noop=function(){},o.randstr=function h(t,e,n){if(n||(n=16),void 0===e&&(e=24),e<=0)return"0";var r,o,i,a=Math.log(Math.pow(2,e))/Math.log(n),s="";for(r=2;a===1/0;r*=2)a=Math.log(Math.pow(2,e/r))/Math.log(n)*r;var l=a-Math.floor(a);for(r=0;r<Math.floor(a);r++)i=Math.floor(Math.random()*n).toString(n),s=i+s;l&&(o=Math.pow(n,l),i=Math.floor(Math.random()*o).toString(n),s=i+s);var u=parseInt(s,n);return t&&t.indexOf(s)>-1||u!==1/0&&u>=Math.pow(2,e)?h(t,e,n):s},o.OptionControl=function(t,e){t||(t={}),e||(e="opt");var n={};return n.optionList=[],n._newoption=function(r){r[e]=t,n[r.name]=r,n.optionList.push(r)},n["_"+e]=t,n},o.smooth=function(t,e){if(e=Math.round(e)||0,e<2)return t;var n,r,o,i,a=t.length,s=2*a,l=2*e-1,u=new Array(l),c=new Array(a);for(n=0;n<l;n++)u[n]=(1-Math.cos(Math.PI*(n+1)/e))/(2*e);for(n=0;n<a;n++){for(i=0,r=0;r<l;r++)o=n+r+1-e,o<-a?o-=s*Math.round(o/s):o>=s&&(o-=s*Math.floor(o/s)),o<0?o=-1-o:o>=a&&(o=s-1-o),i+=t[o]*u[r];c[n]=i}return c},o.syncOrAsync=function(t,e,n){function r(){return o.syncOrAsync(t,e,n)}for(var i,a;t.length;)if(a=t.splice(0,1)[0],i=a(e),i&&i.then)return i.then(r).then(void 0,o.promiseError);return n&&n(e)},o.stripTrailingSlash=function(t){return"/"===t.substr(-1)?t.substr(0,t.length-1):t},o.noneOrAll=function(t,e,n){if(t){var r,o,i=!1,a=!0;for(r=0;r<n.length;r++)o=t[n[r]],void 0!==o&&null!==o?i=!0:a=!1;if(i&&!a)for(r=0;r<n.length;r++)t[n[r]]=e[n[r]]}},o.pushUnique=function(t,e){return e&&t.indexOf(e)===-1&&t.push(e),t},o.mergeArray=function(t,e,n){if(Array.isArray(t))for(var r=Math.min(t.length,e.length),o=0;o<r;o++)e[o][n]=t[o]},o.minExtend=function(t,e){var n={};"object"!=typeof e&&(e={});var r,i,a,s=3,l=Object.keys(t);for(r=0;r<l.length;r++)i=l[r],a=t[i],"_"!==i.charAt(0)&&"function"!=typeof a&&("module"===i?n[i]=a:Array.isArray(a)?n[i]=a.slice(0,s):a&&"object"==typeof a?n[i]=o.minExtend(t[i],e[i]):n[i]=a);for(l=Object.keys(e),r=0;r<l.length;r++)i=l[r],a=e[i],"object"==typeof a&&i in n&&"object"==typeof n[i]||(n[i]=a);return n},o.titleCase=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},o.containsAny=function(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])!==-1)return!0;return!1},o.getPlotDiv=function(t){for(;t&&t.removeAttribute;t=t.parentNode)if(o.isPlotDiv(t))return t},o.isPlotDiv=function(t){var e=r.select(t);return e.size()&&e.classed("js-plotly-plot")},o.removeElement=function(t){var e=t&&t.parentNode;e&&e.removeChild(t)},o.addStyleRule=function(t,e){if(!o.styleSheet){var n=document.createElement("style");n.appendChild(document.createTextNode("")),document.head.appendChild(n),o.styleSheet=n.sheet}var r=o.styleSheet;r.insertRule?r.insertRule(t+"{"+e+"}",0):r.addRule?r.addRule(t,e,0):o.warn("addStyleRule failed")},o.getTranslate=function(t){var e=/.*\btranslate\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,n=t.attr?"attr":"getAttribute",r=t[n]("transform")||"",o=r.replace(e,function(t,e,n){return[e,n].join(" ")}).split(" ");return{x:+o[0]||0,y:+o[1]||0}},o.setTranslate=function(t,e,n){var r=/(\btranslate\(.*?\);?)/,o=t.attr?"attr":"getAttribute",i=t.attr?"attr":"setAttribute",a=t[o]("transform")||"";return e=e||0,n=n||0,a=a.replace(r,"").trim(),a+=" translate("+e+", "+n+")",a=a.trim(),t[i]("transform",a),a},o.getScale=function(t){var e=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,n=t.attr?"attr":"getAttribute",r=t[n]("transform")||"",o=r.replace(e,function(t,e,n){return[e,n].join(" ")}).split(" ");return{x:+o[0]||1,y:+o[1]||1}},o.setScale=function(t,e,n){var r=/(\bscale\(.*?\);?)/,o=t.attr?"attr":"getAttribute",i=t.attr?"attr":"setAttribute",a=t[o]("transform")||"";return e=e||1,n=n||1,a=a.replace(r,"").trim(),a+=" scale("+e+", "+n+")",a=a.trim(),t[i]("transform",a),a},o.setPointGroupScale=function(t,e,n){var r,o,i;return e=e||1,n=n||1,o=1===e&&1===n?"":" scale("+e+","+n+")",i=/\s*sc.*/,t.each(function(){r=(this.getAttribute("transform")||"").replace(i,""),r+=o,r=r.trim(),this.setAttribute("transform",r)}),o},o.isIE=function(){return"undefined"!=typeof window.navigator.msSaveBlob},o.objectFromPath=function(t,e){for(var n,r=t.split("."),o=n={},i=0;i<r.length;i++){var a=r[i],s=null,l=r[i].match(/(.*)\[([0-9]+)\]/);l?(a=l[1],s=l[2],n=n[a]=[],i===r.length-1?n[s]=e:n[s]={},n=n[s]):(i===r.length-1?n[a]=e:n[a]={},n=n[a])}return o};var p=/^([^\.]*)\../;o.expandObjectPaths=function(t){var e,n,r,i;if("object"==typeof t&&!Array.isArray(t))for(n in t)t.hasOwnProperty(n)&&((e=n.match(p))?(i=t[n],r=e[1],delete t[n],t[r]=o.extendDeepNoArrays(t[r]||{},o.objectFromPath(n,o.expandObjectPaths(i))[r])):t[n]=o.expandObjectPaths(t[n]));return t},o.numSeparate=function(t,e,n){if(n||(n=!1),"string"!=typeof e||0===e.length)throw new Error("Separator string required for formatting!");"number"==typeof t&&(t=String(t));var r=/(\d+)(\d{3})/,o=e.charAt(0),i=e.charAt(1),a=t.split("."),s=a[0],l=a.length>1?o+a[1]:"";if(i&&(a.length>1||s.length>4||n))for(;r.test(s);)s=s.replace(r,"$1"+i+"$2");return s+l}},{"./coerce":624,"./dates":625,"./extend":627,"./is_array":634,"./is_plain_object":635,"./loggers":636,"./matrix":637,"./nested_property":638,"./notifier":639,"./search":642,"./stats":645,d3:125}],634:[function(t,e,n){"use strict";e.exports=function(t){return Array.isArray(t)||ArrayBuffer.isView(t)}},{}],635:[function(t,e,n){"use strict";e.exports=function(t){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(t):"[object Object]"===Object.prototype.toString.call(t)&&Object.getPrototypeOf(t)===Object.prototype}},{}],636:[function(t,e,n){"use strict";var r=t("../plot_api/plot_config"),o=e.exports={};o.log=function(){if(r.logging>1){for(var t=["LOG:"],e=0;e<arguments.length;e++)t.push(arguments[e]);console.trace?console.trace.apply(console,t):console.log.apply(console,t)}},o.warn=function(){if(r.logging>0){for(var t=["WARN:"],e=0;e<arguments.length;e++)t.push(arguments[e]);console.trace?console.trace.apply(console,t):console.log.apply(console,t)}},o.error=function(){if(r.logging>0){for(var t=["ERROR:"],e=0;e<arguments.length;e++)t.push(arguments[e]);console.error.apply(console,arguments)}}},{"../plot_api/plot_config":651}],637:[function(t,e,n){"use strict";n.init2dArray=function(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=new Array(e);return n},n.transposeRagged=function(t){var e,n,r=0,o=t.length;for(e=0;e<o;e++)r=Math.max(r,t[e].length);var i=new Array(r);for(e=0;e<r;e++)for(i[e]=new Array(o),n=0;n<o;n++)i[e][n]=t[n][e];return i},n.dot=function(t,e){if(!t.length||!e.length||t.length!==e.length)return null;var r,o,i=t.length;if(t[0].length)for(r=new Array(i),o=0;o<i;o++)r[o]=n.dot(t[o],e);else if(e[0].length){var a=n.transposeRagged(e);for(r=new Array(a.length),o=0;o<a.length;o++)r[o]=n.dot(t,a[o])}else for(r=0,o=0;o<i;o++)r+=t[o]*e[o];return r},n.translationMatrix=function(t,e){return[[1,0,t],[0,1,e],[0,0,1]]},n.rotationMatrix=function(t){var e=t*Math.PI/180;return[[Math.cos(e),-Math.sin(e),0],[Math.sin(e),Math.cos(e),0],[0,0,1]]},n.rotationXYMatrix=function(t,e,r){return n.dot(n.dot(n.translationMatrix(e,r),n.rotationMatrix(t)),n.translationMatrix(-e,-r))},n.apply2DTransform=function(t){return function(){var e=arguments;3===e.length&&(e=e[0]);var r=1===arguments.length?e[0]:[e[0],e[1]];return n.dot(t,[r[0],r[1],1]).slice(0,2)}},n.apply2DTransform2=function(t){var e=n.apply2DTransform(t);return function(t){return e(t.slice(0,2)).concat(e(t.slice(2,4)))}}},{}],638:[function(t,e,n){"use strict";function r(t,e){return function(){var n,o,i,a,s,l=t;for(a=0;a<e.length-1;a++){if(n=e[a],n===-1){for(o=!0,i=[],s=0;s<l.length;s++)i[s]=r(l[s],e.slice(a+1))(),i[s]!==i[0]&&(o=!1);return o?i[0]:i}if("number"==typeof n&&!p(l))return;if(l=l[n],"object"!=typeof l||null===l)return}if("object"==typeof l&&null!==l&&(i=l[e[a]],null!==i))return i}}function o(t,e){var n=["annotations","shapes","range","domain","buttons"],r=n.indexOf(e)===-1;return p(t)&&r}function i(t,e){return function(n){var r,i,c=t,f=[t],h=u(n)&&!o(n,e[e.length-1]);for(i=0;i<e.length-1;i++){if(r=e[i],"number"==typeof r&&!p(c))throw"array index but container is not an array";if(r===-1){if(h=!a(c,e.slice(i+1),n))break;return}if(!s(c,r,e[i+1],h))break;if(c=c[r],"object"!=typeof c||null===c)throw"container is not an object";f.push(c)}h?(i===e.length-1&&delete c[e[i]],l(f)):c[e[i]]=n}}function a(t,e,n){var r,o=p(n),a=!0,l=n,c=!o&&u(n),f=e[0];for(r=0;r<t.length;r++)o&&(l=n[r%n.length],c=u(l)),c&&(a=!1),s(t,r,f,c)&&i(t[r],e)(l);return a}function s(t,e,n,r){if(void 0===t[e]){if(r)return!1;"number"==typeof n?t[e]=[]:t[e]={}}return!0}function l(t){var e,n,r,i,a;for(e=t.length-1;e>=0;e--){if(r=t[e],a=!1,p(r))for(n=r.length-1;n>=0;n--)u(r[n])?a?r[n]=void 0:r.pop():a=!0;else if("object"==typeof r&&null!==r)for(i=Object.keys(r),a=!1,n=i.length-1;n>=0;n--)u(r[i[n]])&&!o(r[i[n]],i[n])?delete r[i[n]]:a=!0;if(a)return}}function u(t){return void 0===t||null===t||"object"==typeof t&&(p(t)?!t.length:!Object.keys(t).length)}function c(t,e,n){return{set:function(){throw"bad container"},get:function(){},astr:e,parts:n,obj:t}}var f=t("fast-isnumeric"),p=t("./is_array");e.exports=function(t,e){if(f(e))e=String(e);else if("string"!=typeof e||"[-1]"===e.substr(e.length-4))throw"bad property string";for(var n,o,a,s=0,l=e.split(".");s<l.length;){if(n=String(l[s]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(n[1])l[s]=n[1];else{if(0!==s)throw"bad property string";l.splice(0,1)}for(o=n[2].substr(1,n[2].length-2).split("]["),a=0;a<o.length;a++)s++,l.splice(s,0,Number(o[a]))}s++}return"object"!=typeof t?c(t,e,l):{set:i(t,l),get:r(t,l),astr:e,parts:l,obj:t}}},{"./is_array":634,"fast-isnumeric":129}],639:[function(t,e,n){"use strict";var r=t("d3"),o=t("fast-isnumeric"),i=[];e.exports=function(t,e){function n(t){t.duration(700).style("opacity",0).each("end",function(t){var e=i.indexOf(t);e!==-1&&i.splice(e,1),r.select(this).remove()})}if(i.indexOf(t)===-1){i.push(t);var a=1e3;o(e)?a=e:"long"===e&&(a=3e3);var s=r.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0);var l=s.selectAll(".notifier-note").data(i);l.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(t){var e=r.select(this);e.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){e.transition().call(n)}),e.append("p").html(t),e.transition().duration(700).style("opacity",1).transition().delay(a).call(n)})}}},{d3:125,"fast-isnumeric":129}],640:[function(t,e,n){"use strict";var r=t("./matrix").dot,o=e.exports={};o.tester=function(t){function e(t,e){var n=t[0],r=t[1];return!(n<o||n>i||r<a||r>s)&&(!e||!u(t))}function n(t,e){var n=t[0],l=t[1];if(n<o||n>i||l<a||l>s)return!1;var u,c,f,p,h,d=r.length,m=r[0][0],y=r[0][1],v=0;for(u=1;u<d;u++)if(c=m,f=y,m=r[u][0],y=r[u][1],p=Math.min(c,m),!(n<p||n>Math.max(c,m)||l>Math.max(f,y)))if(l<Math.min(f,y))n!==p&&v++;else{if(h=m===c?l:f+(n-c)*(y-f)/(m-c),l===h)return 1!==u||!e;l<=h&&n!==p&&v++}return v%2===1}var r=t.slice(),o=r[0][0],i=o,a=r[0][1],s=a;r.push(r[0]);for(var l=1;l<r.length;l++)o=Math.min(o,r[l][0]),i=Math.max(i,r[l][0]),a=Math.min(a,r[l][1]),s=Math.max(s,r[l][1]);var u,c=!1;return 5===r.length&&(r[0][0]===r[1][0]?r[2][0]===r[3][0]&&r[0][1]===r[3][1]&&r[1][1]===r[2][1]&&(c=!0,u=function(t){return t[0]===r[0][0]}):r[0][1]===r[1][1]&&r[2][1]===r[3][1]&&r[0][0]===r[3][0]&&r[1][0]===r[2][0]&&(c=!0,u=function(t){return t[1]===r[0][1]})),{xmin:o,xmax:i,ymin:a,ymax:s,pts:r,contains:c?e:n,isRect:c}};var i=o.isSegmentBent=function(t,e,n,o){var i,a,s,l=t[e],u=[t[n][0]-l[0],t[n][1]-l[1]],c=r(u,u),f=Math.sqrt(c),p=[-u[1]/f,u[0]/f];for(i=e+1;i<n;i++)if(a=[t[i][0]-l[0],t[i][1]-l[1]],s=r(a,u),s<0||s>c||Math.abs(r(a,p))>o)return!0;return!1};o.filter=function(t,e){function n(n){t.push(n);var s=r.length,l=o;r.splice(a+1);for(var u=l+1;u<t.length;u++)(u===t.length-1||i(t,l,u+1,e))&&(r.push(t[u]),r.length<s-2&&(o=u,a=r.length-1),l=u)}var r=[t[0]],o=0,a=0;if(t.length>1){var s=t.pop();n(s)}return{addPt:n,raw:t,filtered:r}}},{"./matrix":637}],641:[function(t,e,n){"use strict";function r(t,e){for(var n,r=[],i=0;i<e.length;i++)n=e[i],n===t?r[i]=n:"object"==typeof n?r[i]=Array.isArray(n)?o.extendDeep([],n):o.extendDeepAll({},n):r[i]=n;return r}var o=t("../lib"),i=t("../plot_api/plot_config"),a={};a.add=function(t,e,n,r,o){var a,s;return t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},s=t.undoQueue.index,t.autoplay?void(t.undoQueue.inSequence||(t.autoplay=!1)):(!t.undoQueue.sequence||t.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},t.undoQueue.queue.splice(s,t.undoQueue.queue.length-s,a),t.undoQueue.index+=1):a=t.undoQueue.queue[s-1],t.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(e),a.undo.args.unshift(n),a.redo.calls.push(r),a.redo.args.push(o)),void(t.undoQueue.queue.length>i.queueLength&&(t.undoQueue.queue.shift(),t.undoQueue.index--)))},a.startSequence=function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!0,t.undoQueue.beginSequence=!0},a.stopSequence=function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!1,t.undoQueue.beginSequence=!1},a.undo=function(t){var e,n;if(t.framework&&t.framework.isPolar)return void t.framework.undo();if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index<=0)){for(t.undoQueue.index--,e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,n=0;n<e.undo.calls.length;n++)a.plotDo(t,e.undo.calls[n],e.undo.args[n]);t.undoQueue.inSequence=!1,t.autoplay=!1}},a.redo=function(t){var e,n;if(t.framework&&t.framework.isPolar)return void t.framework.redo();if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index>=t.undoQueue.queue.length)){for(e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,n=0;n<e.redo.calls.length;n++)a.plotDo(t,e.redo.calls[n],e.redo.args[n]);t.undoQueue.inSequence=!1,t.autoplay=!1,t.undoQueue.index++}},a.plotDo=function(t,e,n){t.autoplay=!0,n=r(t,n),e.apply(null,n)},e.exports=a},{"../lib":633,"../plot_api/plot_config":651}],642:[function(t,e,n){"use strict";function r(t,e){return t<e}function o(t,e){return t<=e}function i(t,e){return t>e}function a(t,e){return t>=e}var s=t("fast-isnumeric"),l=t("./loggers");n.findBin=function(t,e,n){if(s(e.start))return n?Math.ceil((t-e.start)/e.size)-1:Math.floor((t-e.start)/e.size);var u,c,f=0,p=e.length,h=0;for(c=e[e.length-1]>=e[0]?n?r:o:n?a:i;f<p&&h++<100;)u=Math.floor((f+p)/2),c(e[u],t)?f=u+1:p=u;return h>90&&l.log("Long binary search..."),f-1},n.sorterAsc=function(t,e){return t-e},n.sorterDes=function(t,e){return e-t},n.distinctVals=function(t){var e=t.slice();e.sort(n.sorterAsc);for(var r=e.length-1,o=e[r]-e[0]||1,i=o/(r||1)/1e4,a=[e[0]],s=0;s<r;s++)e[s+1]>e[s]+i&&(o=Math.min(o,e[s+1]-e[s]),a.push(e[s+1]));return{vals:a,minDiff:o}},n.roundUp=function(t,e,n){for(var r,o=0,i=e.length-1,a=0,s=n?0:1,l=n?1:0,u=n?Math.ceil:Math.floor;o<i&&a++<100;)r=u((o+i)/2),e[r]<=t?o=r+s:i=r-l;return e[o]}},{"./loggers":636,"fast-isnumeric":129}],643:[function(t,e,n){"use strict";e.exports=function(t,e){(t.attr("class")||"").split(" ").forEach(function(e){0===e.indexOf("cursor-")&&t.classed(e,!1)}),e&&t.classed("cursor-"+e,!0)}},{}],644:[function(t,e,n){"use strict";var r=t("../components/color"),o=function(){};e.exports=function(t){for(var e in t)"function"==typeof t[e]&&(t[e]=o);t.destroy=function(){t.container.parentNode.removeChild(t.container)};var n=document.createElement("div");return n.textContent="Webgl is not supported by your browser - visit http://get.webgl.org for more info",n.style.cursor="pointer",n.style.fontSize="24px",n.style.color=r.defaults[0],t.container.appendChild(n),t.container.style.background="#FFFFFF",t.container.onclick=function(){window.open("http://get.webgl.org")},!1}},{"../components/color":540}],645:[function(t,e,n){"use strict";var r=t("fast-isnumeric");n.aggNums=function(t,e,o,i){var a,s;if(i||(i=o.length),r(e)||(e=!1),Array.isArray(o[0])){for(s=new Array(i),a=0;a<i;a++)s[a]=n.aggNums(t,e,o[a]);o=s}for(a=0;a<i;a++)r(e)?r(o[a])&&(e=t(+e,+o[a])):e=o[a];return e},n.len=function(t){return n.aggNums(function(t){return t+1},0,t)},n.mean=function(t,e){return e||(e=n.len(t)),n.aggNums(function(t,e){return t+e},0,t)/e},n.variance=function(t,e,o){return e||(e=n.len(t)),r(o)||(o=n.mean(t,e)),n.aggNums(function(t,e){return t+Math.pow(e-o,2)},0,t)/e},n.stdev=function(t,e,r){return Math.sqrt(n.variance(t,e,r))},n.interp=function(t,e){if(!r(e))throw"n should be a finite number";if(e=e*t.length-.5,e<0)return t[0];if(e>t.length-1)return t[t.length-1];var n=e%1;return n*t[Math.ceil(e)]+(1-n)*t[Math.floor(e)]}},{"fast-isnumeric":129}],646:[function(t,e,n){"use strict";function r(t){return t=o(t),i.str2RgbaArray(t.toRgbString())}var o=t("tinycolor2"),i=t("arraytools");e.exports=r},{arraytools:51,tinycolor2:506}],647:[function(t,e,n){"use strict";function r(t,e){return t.node().getBoundingClientRect()[e]}function o(t){return t.replace(/(<|&lt;|&#60;)/g,"\\lt ").replace(/(>|&gt;|&#62;)/g,"\\gt ")}function i(t,e,n){var r="math-output-"+p.randstr([],64),i=f.select("body").append("div").attr({id:r}).style({visibility:"hidden",position:"absolute"}).style({"font-size":e.fontSize+"px"}).text(o(t));MathJax.Hub.Queue(["Typeset",MathJax.Hub,i.node()],function(){var e=f.select("body").select("#MathJax_SVG_glyphs");if(i.select(".MathJax_SVG").empty()||!i.select("svg").node())p.log("There was an error in the tex syntax.",t),n();else{var r=i.select("svg").node().getBoundingClientRect();n(i.select(".MathJax_SVG"),e,r)}i.remove()})}function a(t,e){for(var n=t||"",r=0;r<e.length;r++){var o=e[r];n=n.replace(o.regExp,o.sub)}return n}function s(t){return a(t,g)}function l(t){return a(t,b)}function u(t){t=s(t);for(var e=t.split(/(<[^<>]*>)/).map(function(t){var e=t.match(/<(\/?)([^ >]*)\s*(.*)>/i),r=e&&e[2].toLowerCase(),o=m[r];if(void 0!==o){var i=e[1],a=e[3],s=a.match(/^style\s*=\s*"([^"]+)"\s*/i);if("a"===r){if(i)return"</a>";if("href"!==a.substr(0,4).toLowerCase())return"<a>";var u=a.substr(4).replace(/["']/g,"").replace(/=/,""),c=document.createElement("a");return c.href=u,y.indexOf(c.protocol)===-1?"<a>":'<a xlink:show="new" xlink:href="'+l(u)+'">'}if("br"===r)return"<br>";if(i)return"sup"===r?'</tspan><tspan dy="0.42em">&#x200b;</tspan>':"sub"===r?'</tspan><tspan dy="-0.21em">&#x200b;</tspan>':"</tspan>";var f="<tspan";return"sup"!==r&&"sub"!==r||(f="&#x200b;"+f),s&&(s=s[1].replace(/(^|;)\s*color:/,"$1 fill:"),o=(o?o+";":"")+l(s)),f+(o?' style="'+o+'"':"")+">"}return n.xml_entity_encode(t).replace(/</g,"&lt;")}),r=[],o=e.indexOf("<br>");o>0;o=e.indexOf("<br>",o+1))r.push(o);var i=0;r.forEach(function(t){for(var n=t+i,r=e.slice(0,n),o="",a=r.length-1;a>=0;a--){var s=r[a].match(/<(\/?).*>/i);if(s&&"<br>"!==r[a]){s[1]||(o=r[a]);break}}o&&(e.splice(n+1,0,o),e.splice(n,0,"</tspan>"),i+=2)});var a=e.join(""),u=a.split(/<br>/gi);return u.length>1&&(e=u.map(function(t,e){return'<tspan class="line" dy="'+1.3*e+'em">'+t+"</tspan>"})),e.join("")}function c(t,e,n){var r,o,i,a=n.horizontalAlign,s=n.verticalAlign||"top",l=t.node().getBoundingClientRect(),u=e.node().getBoundingClientRect();
return o="bottom"===s?function(){return l.bottom-r.height}:"middle"===s?function(){return l.top+(l.height-r.height)/2}:function(){return l.top},i="right"===a?function(){return l.right-r.width}:"center"===a?function(){return l.left+(l.width-r.width)/2}:function(){return l.left},function(){return r=this.node().getBoundingClientRect(),this.style({top:o()-u.top+"px",left:i()-u.left+"px","z-index":1e3}),this}}var f=t("d3"),p=t("../lib"),h=t("../constants/xmlns_namespaces"),d=t("../constants/string_mappings");f.selection.prototype.appendSVG=function(t){for(var e=['<svg xmlns="',h.svg,'" ','xmlns:xlink="',h.xlink,'">',t,"</svg>"].join(""),n=(new DOMParser).parseFromString(e,"application/xml"),r=n.documentElement.firstChild;r;)this.node().appendChild(this.node().ownerDocument.importNode(r,!0)),r=r.nextSibling;return n.querySelector("parsererror")?(p.log(n.querySelector("parsererror div").textContent),null):f.select(this.node().lastChild)},n.html_entity_decode=function(t){var e=f.select("body").append("div").style({display:"none"}).html(""),n=t.replace(/(&[^;]*;)/gi,function(t){return"&lt;"===t?"&#60;":"&rt;"===t?"&#62;":e.html(t).text()});return e.remove(),n},n.xml_entity_encode=function(t){return t.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")},n.convertToTspans=function(t,e){function n(){h.empty()||(d=s.attr("class")+"-math",h.select("svg."+d).remove()),t.text("").style({visibility:"visible","white-space":"pre"}),c=t.appendSVG(a),c||t.text(o),t.select("a").size()&&t.style("pointer-events","all"),e&&e.call(s)}var o=t.text(),a=u(o),s=t,l=!s.attr("data-notex")&&a.match(/([^$]*)([$]+[^$]*[$]+)([^$]*)/),c=o,h=f.select(s.node().parentNode);if(!h.empty()){var d=s.attr("class")?s.attr("class").split(" ")[0]:"text";d+="-math",h.selectAll("svg."+d).remove(),h.selectAll("g."+d+"-group").remove(),t.style({visibility:null});for(var m=t.node();m&&m.removeAttribute;m=m.parentNode)m.removeAttribute("data-bb");if(l){var y=p.getPlotDiv(s.node());(y&&y._promises||[]).push(new Promise(function(t){s.style({visibility:"hidden"});var o={fontSize:parseInt(s.style("font-size"),10)};i(l[2],o,function(o,i,a){h.selectAll("svg."+d).remove(),h.selectAll("g."+d+"-group").remove();var l=o&&o.select("svg");if(!l||!l.node())return n(),void t();var u=h.append("g").classed(d+"-group",!0).attr({"pointer-events":"none"});u.node().appendChild(l.node()),i&&i.node()&&l.node().insertBefore(i.node().cloneNode(!0),l.node().firstChild),l.attr({"class":d,height:a.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var c=s.style("fill")||"black";l.select("g").attr({fill:c,stroke:c});var f=r(l,"width"),p=r(l,"height"),m=+s.attr("x")-f*{start:0,middle:.5,end:1}[s.attr("text-anchor")||"start"],y=parseInt(s.style("font-size"),10)||r(s,"height"),v=-y/4;"y"===d[0]?(u.attr({transform:"rotate("+[-90,+s.attr("x"),+s.attr("y")]+") translate("+[-f/2,v-p/2]+")"}),l.attr({x:+s.attr("x"),y:+s.attr("y")})):"l"===d[0]?l.attr({x:s.attr("x"),y:v-p/2}):"a"===d[0]?l.attr({x:0,y:v}):l.attr({x:m,y:+s.attr("y")+v-p/2}),e&&e.call(s,u),t(u)})}))}else n();return t}};var m={sup:'font-size:70%" dy="-0.6em',sub:'font-size:70%" dy="0.3em',b:"font-weight:bold",i:"font-style:italic",a:"",span:"",br:"",em:"font-style:italic;font-weight:bold"},y=["http:","https:","mailto:"],v=new RegExp("</?("+Object.keys(m).join("|")+")( [^>]*)?/?>","g"),g=Object.keys(d.entityToUnicode).map(function(t){return{regExp:new RegExp("&"+t+";","g"),sub:d.entityToUnicode[t]}}),b=Object.keys(d.unicodeToEntity).map(function(t){return{regExp:new RegExp(t,"g"),sub:"&"+d.unicodeToEntity[t]+";"}});n.plainText=function(t){return(t||"").replace(v," ")},n.makeEditable=function(t,e,n){function r(){i(),a.style({opacity:0});var t,e=u.attr("class");t=e?"."+e.split(" ")[0]+"-math-group":"[class*=-math-group]",t&&f.select(a.node().parentNode).select(t).style({opacity:0})}function o(t){var e=t.node(),n=document.createRange();n.selectNodeContents(e);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),e.focus()}function i(){var t=f.select(p.getPlotDiv(a.node())),e=t.select(".svg-container"),r=e.append("div");r.classed("plugin-editable editable",!0).style({position:"absolute","font-family":a.style("font-family")||"Arial","font-size":a.style("font-size")||12,color:n.fill||a.style("fill")||"black",opacity:1,"background-color":n.background||"transparent",outline:"#ffffff33 1px solid",margin:[-parseFloat(a.style("font-size"))/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(n.text||a.attr("data-unformatted")).call(c(a,e,n)).on("blur",function(){a.text(this.textContent).style({opacity:1});var t,e=f.select(this).attr("class");t=e?"."+e.split(" ")[0]+"-math-group":"[class*=-math-group]",t&&f.select(a.node().parentNode).select(t).style({opacity:0});var n=this.textContent;f.select(this).transition().duration(0).remove(),f.select(document).on("mouseup",null),s.edit.call(a,n)}).on("focus",function(){var t=this;f.select(document).on("mouseup",function(){return f.event.target!==t&&void(document.activeElement===r.node()&&r.node().blur())})}).on("keyup",function(){27===f.event.which?(a.style({opacity:1}),f.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),s.cancel.call(a,this.textContent)):(s.input.call(a,this.textContent),f.select(this).call(c(a,e,n)))}).on("keydown",function(){13===f.event.which&&this.blur()}).call(o)}n||(n={});var a=this,s=f.dispatch("edit","input","cancel"),l=f.select(this.node()).style({"pointer-events":"all"}),u=e||l;return e&&l.style({"pointer-events":"none"}),n.immediate?r():u.on("click",r),f.rebind(this,s,"on")}},{"../constants/string_mappings":619,"../constants/xmlns_namespaces":620,"../lib":633,d3:125}],648:[function(t,e,n){"use strict";var r=e.exports={},o=t("../plots/geo/constants").locationmodeToLayer,i=t("topojson").feature;r.getTopojsonName=function(t){return[t.scope.replace(/ /g,"-"),"_",t.resolution.toString(),"m"].join("")},r.getTopojsonPath=function(t,e){return t+e+".json"},r.getTopojsonFeatures=function(t,e){var n=o[t.locationmode],r=e.objects[n];return i(e,r).features}},{"../plots/geo/constants":683,topojson:507}],649:[function(t,e,n){"use strict";function r(t,e){var n=t[e],r=e.charAt(0);n&&"paper"!==n&&(t[e]=f.cleanId(n,r))}function o(t){var e="middle",n="center";return t.indexOf("top")!==-1?e="top":t.indexOf("bottom")!==-1&&(e="bottom"),t.indexOf("left")!==-1?n="left":t.indexOf("right")!==-1&&(n="right"),e+" "+n}function i(t,e){return e in t&&"object"==typeof t[e]&&0===Object.keys(t[e]).length}var a=t("fast-isnumeric"),s=t("gl-mat4/fromQuat"),l=t("../registry"),u=t("../lib"),c=t("../plots/plots"),f=t("../plots/cartesian/axes"),p=t("../components/color");n.getGraphDiv=function(t){var e;if("string"==typeof t){if(e=document.getElementById(t),null===e)throw new Error("No DOM element with id '"+t+"' exists on the page.");return e}if(null===t||void 0===t)throw new Error("DOM element provided is null or undefined");return t},n.clearPromiseQueue=function(t){Array.isArray(t._promises)&&t._promises.length>0&&u.log("Clearing previous rejected promises from queue."),t._promises=[]},n.cleanLayout=function(t){var e,n;t||(t={}),t.xaxis1&&(t.xaxis||(t.xaxis=t.xaxis1),delete t.xaxis1),t.yaxis1&&(t.yaxis||(t.yaxis=t.yaxis1),delete t.yaxis1);var o=f.list({_fullLayout:t});for(e=0;e<o.length;e++){var a=o[e];a.anchor&&"free"!==a.anchor&&(a.anchor=f.cleanId(a.anchor)),a.overlaying&&(a.overlaying=f.cleanId(a.overlaying)),a.type||(a.isdate?a.type="date":a.islog?a.type="log":a.isdate===!1&&a.islog===!1&&(a.type="linear")),"withzero"!==a.autorange&&"tozero"!==a.autorange||(a.autorange=!0,a.rangemode="tozero"),delete a.islog,delete a.isdate,delete a.categories,i(a,"domain")&&delete a.domain,void 0!==a.autotick&&(void 0===a.tickmode&&(a.tickmode=a.autotick?"auto":"linear"),delete a.autotick)}void 0===t.annotations||Array.isArray(t.annotations)||(u.warn("Annotations must be an array."),delete t.annotations);var l=(t.annotations||[]).length;for(e=0;e<l;e++){var h=t.annotations[e];h.ref&&("paper"===h.ref?(h.xref="paper",h.yref="paper"):"data"===h.ref&&(h.xref="x",h.yref="y"),delete h.ref),r(h,"xref"),r(h,"yref")}void 0===t.shapes||Array.isArray(t.shapes)||(u.warn("Shapes must be an array."),delete t.shapes);var d=(t.shapes||[]).length;for(e=0;e<d;e++){var m=t.shapes[e];r(m,"xref"),r(m,"yref")}var y=t.legend;y&&(y.x>3?(y.x=1.02,y.xanchor="left"):y.x<-2&&(y.x=-.02,y.xanchor="right"),y.y>3?(y.y=1.02,y.yanchor="bottom"):y.y<-2&&(y.y=-.02,y.yanchor="top")),"rotate"===t.dragmode&&(t.dragmode="orbit"),t.scene1&&(t.scene||(t.scene=t.scene1),delete t.scene1);var v=c.getSubplotIds(t,"gl3d");for(e=0;e<v.length;e++){var g=t[v[e]],b=g.cameraposition;if(Array.isArray(b)&&4===b[0].length){var _=b[0],x=b[1],w=b[2],T=s([],_),E=[];for(n=0;n<3;++n)E[n]=x[e]+w*T[2+4*n];g.camera={eye:{x:E[0],y:E[1],z:E[2]},center:{x:x[0],y:x[1],z:x[2]},up:{x:T[1],y:T[5],z:T[9]}},delete g.cameraposition}}return p.clean(t),t},n.cleanData=function(t,e){for(var r=[],a=(t.concat(Array.isArray(e)?e:[]).filter(function(t){return"uid"in t}).map(function(t){return t.uid})),s=0;s<t.length;s++){var h,d=t[s];if(!("uid"in d)||r.indexOf(d.uid)!==-1){var m;for(h=0;h<100&&(m=u.randstr(a),r.indexOf(m)!==-1);h++);d.uid=u.randstr(a),a.push(d.uid)}if(r.push(d.uid),"histogramy"===d.type&&"xbins"in d&&!("ybins"in d)&&(d.ybins=d.xbins,delete d.xbins),d.error_y&&"opacity"in d.error_y){var y=p.defaults,v=d.error_y.color||(l.traceIs(d,"bar")?p.defaultLine:y[s%y.length]);d.error_y.color=p.addOpacity(p.rgb(v),p.opacity(v)*d.error_y.opacity),delete d.error_y.opacity}if("bardir"in d&&("h"!==d.bardir||!l.traceIs(d,"bar")&&"histogram"!==d.type.substr(0,9)||(d.orientation="h",n.swapXYData(d)),delete d.bardir),"histogramy"===d.type&&n.swapXYData(d),"histogramx"!==d.type&&"histogramy"!==d.type||(d.type="histogram"),"scl"in d&&(d.colorscale=d.scl,delete d.scl),"reversescl"in d&&(d.reversescale=d.reversescl,delete d.reversescl),d.xaxis&&(d.xaxis=f.cleanId(d.xaxis,"x")),d.yaxis&&(d.yaxis=f.cleanId(d.yaxis,"y")),l.traceIs(d,"gl3d")&&d.scene&&(d.scene=c.subplotsRegistry.gl3d.cleanId(d.scene)),l.traceIs(d,"pie")||(Array.isArray(d.textposition)?d.textposition=d.textposition.map(o):d.textposition&&(d.textposition=o(d.textposition))),l.traceIs(d,"2dMap")&&("YIGnBu"===d.colorscale&&(d.colorscale="YlGnBu"),"YIOrRd"===d.colorscale&&(d.colorscale="YlOrRd")),l.traceIs(d,"markerColorscale")&&d.marker){var g=d.marker;"YIGnBu"===g.colorscale&&(g.colorscale="YlGnBu"),"YIOrRd"===g.colorscale&&(g.colorscale="YlOrRd")}if("surface"===d.type&&u.isPlainObject(d.contours)){var b=["x","y","z"];for(h=0;h<b.length;h++){var _=d.contours[b[h]];u.isPlainObject(_)&&(_.highlightColor&&(_.highlightcolor=_.highlightColor,delete _.highlightColor),_.highlightWidth&&(_.highlightwidth=_.highlightWidth,delete _.highlightWidth))}}i(d,"line")&&delete d.line,"marker"in d&&(i(d.marker,"line")&&delete d.marker.line,i(d,"marker")&&delete d.marker),p.clean(d)}},n.swapXYData=function(t){var e;if(u.swapAttrs(t,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(t.z)&&Array.isArray(t.z[0])&&(t.transpose?delete t.transpose:t.transpose=!0),t.error_x&&t.error_y){var n=t.error_y,r="copy_ystyle"in n?n.copy_ystyle:!(n.color||n.thickness||n.width);u.swapAttrs(t,["error_?.copy_ystyle"]),r&&u.swapAttrs(t,["error_?.color","error_?.thickness","error_?.width"])}if(t.hoverinfo){var o=t.hoverinfo.split("+");for(e=0;e<o.length;e++)"x"===o[e]?o[e]="y":"y"===o[e]&&(o[e]="x");t.hoverinfo=o.join("+")}},n.coerceTraceIndices=function(t,e){return a(e)?[e]:Array.isArray(e)&&e.length?e:t.data.map(function(t,e){return e})}},{"../components/color":540,"../lib":633,"../plots/cartesian/axes":662,"../plots/plots":720,"../registry":735,"fast-isnumeric":129,"gl-mat4/fromQuat":146}],650:[function(t,e,n){"use strict";function r(t,e){t._fullLayout._paperdiv.style("background","white"),w.defaultConfig.setBackground(t,e)}function o(t,e){t._context||(t._context=T.extendFlat({},w.defaultConfig));var n=t._context;e&&(Object.keys(e).forEach(function(t){t in n&&("setBackground"===t&&"opaque"===e[t]?n[t]=r:n[t]=e[t])}),e.plot3dPixelRatio&&!n.plotGlPixelRatio&&(n.plotGlPixelRatio=n.plot3dPixelRatio)),n.staticPlot&&(n.editable=!1,n.autosizable=!1,n.scrollZoom=!1,n.doubleClick=!1,n.showTips=!1,n.showLink=!1,n.displayModeBar=!1)}function i(t,e,n){var r=_.select(t).selectAll(".plot-container").data([0]);r.enter().insert("div",":first-child").classed("plot-container plotly",!0);var o=r.selectAll(".svg-container").data([0]);o.enter().append("div").classed("svg-container",!0).style("position","relative"),o.html(""),e&&(t.data=e),n&&(t.layout=n),M.manager.fillLayout(t),"initial"===t._fullLayout.autosize&&t._context.autosizable&&(y(t,{}),t._fullLayout.autosize=n.autosize=!0),o.style({width:t._fullLayout.width+"px",height:t._fullLayout.height+"px"}),t.framework=M.manager.framework(t),t.framework({data:t.data,layout:t.layout},o.node()),t.framework.setUndoPoint();var i=t.framework.svg(),a=1,s=t._fullLayout.title;""!==s&&s||(a=0);var l="Click to enter title",u=function(){this.call(L.convertToTspans)},c=i.select(".title-group text").call(u);if(t._context.editable){c.attr({"data-unformatted":s}),s&&s!==l||(a=.2,c.attr({"data-unformatted":l}).text(l).style({opacity:a}).on("mouseover.opacity",function(){_.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){_.select(this).transition().duration(1e3).style("opacity",0)}));var f=function(){this.call(L.makeEditable).on("edit",function(e){t.framework({layout:{title:e}}),this.attr({"data-unformatted":e}).text(e).call(u),this.call(f)}).on("cancel",function(){var t=this.attr("data-unformatted");this.text(t).call(u)})};c.call(f)}return t._context.setBackground(t,t._fullLayout.paper_bgcolor),S.addLinks(t),Promise.resolve()}function a(t,e){var n,r,o=e+1,i=[];for(n=0;n<t.length;n++)r=t[n],r<0?i.push(o+r):i.push(r);return i}function s(t,e,n){var r,o;for(r=0;r<e.length;r++){if(o=e[r],o!==parseInt(o,10))throw new Error("all values in "+n+" must be integers");if(o>=t.data.length||o<-t.data.length)throw new Error(n+" must be valid indices for gd.data.");if(e.indexOf(o,r+1)>-1||o>=0&&e.indexOf(-t.data.length+o)>-1||o<0&&e.indexOf(t.data.length+o)>-1)throw new Error("each index in "+n+" must be unique.")}}function l(t,e,n){if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if("undefined"==typeof e)throw new Error("currentIndices is a required argument.");if(Array.isArray(e)||(e=[e]),s(t,e,"currentIndices"),"undefined"==typeof n||Array.isArray(n)||(n=[n]),"undefined"!=typeof n&&s(t,n,"newIndices"),"undefined"!=typeof n&&e.length!==n.length)throw new Error("current and new indices must be of equal length.")}function u(t,e,n){var r,o;if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if("undefined"==typeof e)throw new Error("traces must be defined.");for(Array.isArray(e)||(e=[e]),r=0;r<e.length;r++)if(o=e[r],"object"!=typeof o||Array.isArray(o)||null===o)throw new Error("all values in traces array must be non-array objects");if("undefined"==typeof n||Array.isArray(n)||(n=[n]),"undefined"!=typeof n&&n.length!==e.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function c(t,e,n,r){var o=T.isPlainObject(r);if(!Array.isArray(t.data))throw new Error("gd.data must be an array");if(!T.isPlainObject(e))throw new Error("update must be a key:value object");if("undefined"==typeof n)throw new Error("indices must be an integer or array of integers");s(t,n,"indices");for(var i in e){if(!Array.isArray(e[i])||e[i].length!==n.length)throw new Error("attribute "+i+" must be an array of length equal to indices array length");if(o&&(!(i in r)||!Array.isArray(r[i])||r[i].length!==e[i].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function f(t,e,n,r){var o,i,s,l,u,c=T.isPlainObject(r),f=[];Array.isArray(n)||(n=[n]),n=a(n,t.data.length-1);for(var p in e)for(var h=0;h<n.length;h++){if(o=t.data[n[h]],s=T.nestedProperty(o,p),i=s.get(),l=e[p][h],!Array.isArray(l))throw new Error("attribute: "+p+" index: "+h+" must be an array");if(!Array.isArray(i))throw new Error("cannot extend missing or non-array attribute: "+p);u=c?r[p][h]:r,x(u)||(u=-1),f.push({prop:s,target:i,insert:l,maxp:Math.floor(u)})}return f}function p(t,e,n,r,o,i){c(t,e,n,r);for(var a,s,l,u=f(t,e,n,r),p=[],h={},d={},m=0;m<u.length;m++)s=u[m].prop,l=u[m].maxp,a=o(u[m].target,u[m].insert),l>=0&&l<a.length&&(p=i(a,l)),l=u[m].target.length,s.set(a),Array.isArray(h[s.astr])||(h[s.astr]=[]),Array.isArray(d[s.astr])||(d[s.astr]=[]),h[s.astr].push(p),d[s.astr].push(l);return{update:h,maxPoints:d}}function h(t,e,n){function r(){return h.map(function(){})}function o(t){var e=w.Axes.id2name(t);u.indexOf(e)===-1&&u.push(e)}function i(t){return"LAYOUT"+t+".autorange"}function a(t){return"LAYOUT"+t+".range"}function s(n,o,i){if(Array.isArray(n))return void n.forEach(function(t){s(t,o,i)});if(!(n in e)){var a;a="LAYOUT"===n.substr(0,6)?T.nestedProperty(t.layout,n.replace("LAYOUT","")):T.nestedProperty(p[h[i]],n),n in y||(y[n]=r()),void 0===y[n][i]&&(y[n][i]=a.get()),void 0!==o&&a.set(o)}}var l,u,c=t._fullLayout,f=t._fullData,p=t.data,h=I.coerceTraceIndices(t,n),d={docalc:!1,docalcAutorange:!1,doplot:!1,dostyle:!1,docolorbars:!1,autorangeOn:!1,clearCalc:!1,fullReplot:!1},m={},y={},v={},g=["mode","visible","type","orientation","fill","histfunc","histnorm","text","x","y","z","a","b","c","xtype","x0","dx","ytype","y0","dy","xaxis","yaxis","line.width","connectgaps","transpose","zsmooth","showscale","marker.showscale","zauto","marker.cauto","autocolorscale","marker.autocolorscale","colorscale","marker.colorscale","reversescale","marker.reversescale","autobinx","nbinsx","xbins","xbins.start","xbins.end","xbins.size","autobiny","nbinsy","ybins","ybins.start","ybins.end","ybins.size","autocontour","ncontours","contours","contours.coloring","error_y","error_y.visible","error_y.value","error_y.type","error_y.traceref","error_y.array","error_y.symmetric","error_y.arrayminus","error_y.valueminus","error_y.tracerefminus","error_x","error_x.visible","error_x.value","error_x.type","error_x.traceref","error_x.array","error_x.symmetric","error_x.arrayminus","error_x.valueminus","error_x.tracerefminus","swapxy","swapxyaxes","orientationaxes","marker.colors","values","labels","label0","dlabel","sort","textinfo","textposition","textfont.size","textfont.family","textfont.color","insidetextfont.size","insidetextfont.family","insidetextfont.color","outsidetextfont.size","outsidetextfont.family","outsidetextfont.color","hole","scalegroup","domain","domain.x","domain.y","domain.x[0]","domain.x[1]","domain.y[0]","domain.y[1]","tilt","tiltaxis","depth","direction","rotation","pull","line.showscale","line.cauto","line.autocolorscale","line.reversescale","marker.line.showscale","marker.line.cauto","marker.line.autocolorscale","marker.line.reversescale"];for(l=0;l<h.length;l++)if(k.traceIs(f[h[l]],"box")){g.push("name");break}var b=["marker","marker.size","textfont","boxpoints","jitter","pointpos","whiskerwidth","boxmean"],_=["zmin","zmax","zauto","xgap","ygap","marker.cmin","marker.cmax","marker.cauto","line.cmin","line.cmax","marker.line.cmin","marker.line.cmax","contours.start","contours.end","contours.size","contours.showlines","line","line.smoothing","line.shape","error_y.width","error_x.width","error_x.copy_ystyle","marker.maxdisplayed"],x=["type","x","y","x0","y0","orientation","xaxis","yaxis"],E=["zmin","zmax"],C=["xbins.start","xbins.end","xbins.size"],S=["ybins.start","ybins.end","ybins.size"],P=["contours.start","contours.end","contours.size"],M=["cartesian","pie","ternary"];c._basePlotModules.forEach(function(t){M.indexOf(t.name)===-1&&(d.docalc=!0)});for(var A in e){var O,D,L,j,F,R=e[A];if(m[A]=R,"LAYOUT"!==A.substr(0,6)){for("transforms"===A.substr(0,10)&&(d.docalc=!0),y[A]=r(),l=0;l<h.length;l++)if(O=p[h[l]],D=f[h[l]],L=T.nestedProperty(O,A),j=L.get(),F=Array.isArray(R)?R[l%R.length]:R,void 0!==F){if(E.indexOf(A)!==-1)s("zauto",!1,l);else if("colorscale"===A)s("autocolorscale",!1,l);else if("autocolorscale"===A)s("colorscale",void 0,l);else if("marker.colorscale"===A)s("marker.autocolorscale",!1,l);else if("marker.autocolorscale"===A)s("marker.colorscale",void 0,l);else if("zauto"===A)s(E,void 0,l);else if(C.indexOf(A)!==-1)s("autobinx",!1,l);else if("autobinx"===A)s(C,void 0,l);else if(S.indexOf(A)!==-1)s("autobiny",!1,l);else if("autobiny"===A)s(S,void 0,l);else if(P.indexOf(A)!==-1)s("autocontour",!1,l);else if("autocontour"===A)s(P,void 0,l);else if(["x0","dx"].indexOf(A)!==-1&&D.x&&"scaled"!==D.xtype)s("xtype","scaled",l);else if(["y0","dy"].indexOf(A)!==-1&&D.y&&"scaled"!==D.ytype)s("ytype","scaled",l);else if("colorbar.thicknessmode"===A&&L.get()!==F&&["fraction","pixels"].indexOf(F)!==-1&&D.colorbar){var N=["top","bottom"].indexOf(D.colorbar.orient)!==-1?c.height-c.margin.t-c.margin.b:c.width-c.margin.l-c.margin.r;s("colorbar.thickness",D.colorbar.thickness*("fraction"===F?1/N:N),l)}else if("colorbar.lenmode"===A&&L.get()!==F&&["fraction","pixels"].indexOf(F)!==-1&&D.colorbar){var z=["top","bottom"].indexOf(D.colorbar.orient)!==-1?c.width-c.margin.l-c.margin.r:c.height-c.margin.t-c.margin.b;s("colorbar.len",D.colorbar.len*("fraction"===F?1/z:z),l)}else"colorbar.tick0"===A||"colorbar.dtick"===A?s("colorbar.tickmode","linear",l):"colorbar.tickmode"===A&&s(["colorbar.tick0","colorbar.dtick"],void 0,l);if("type"===A&&"pie"===F!=("pie"===j)){var B="x",U="y";"bar"!==F&&"bar"!==j||"h"!==O.orientation||(B="y",U="x"),T.swapAttrs(O,["?","?src"],"labels",B),T.swapAttrs(O,["d?","?0"],"label",B),T.swapAttrs(O,["?","?src"],"values",U),"pie"===j?(T.nestedProperty(O,"marker.color").set(T.nestedProperty(O,"marker.colors").get()),c._pielayer.selectAll("g.trace").remove()):k.traceIs(O,"cartesian")&&(T.nestedProperty(O,"marker.colors").set(T.nestedProperty(O,"marker.color").get()),v[O.xaxis||"x"]=!0,v[O.yaxis||"y"]=!0)}y[A][l]=j;var W=["swapxy","swapxyaxes","orientation","orientationaxes"];if(W.indexOf(A)!==-1){if("orientation"===A){if(L.set(F),L.get()===y[A][l])continue}else"orientationaxes"===A&&(O.orientation={v:"h",h:"v"}[D.orientation]);I.swapXYData(O)}else L.set(F)}if(["swapxyaxes","orientationaxes"].indexOf(A)!==-1&&w.Axes.swap(t,h),"orientationaxes"===A){var q=T.nestedProperty(t.layout,"hovermode");"x"===q.get()?q.set("y"):"y"===q.get()&&q.set("x")}if(h.indexOf(0)!==-1&&x.indexOf(A)!==-1&&(w.Axes.clearTypes(t,h),d.docalc=!0),["autobinx","autobiny","zauto"].indexOf(A)!==-1&&F===!1||(d.dostyle=!0),(["colorbar","line"].indexOf(L.parts[0])!==-1||"marker"===L.parts[0]&&"colorbar"===L.parts[1])&&(d.docolorbars=!0),g.indexOf(A)!==-1){if(["orientation","type"].indexOf(A)!==-1){for(u=[],l=0;l<h.length;l++){var V=p[h[l]];k.traceIs(V,"cartesian")&&(o(V.xaxis||"x"),o(V.yaxis||"y"),"type"===A&&s(["autobinx","autobiny"],!0,l))}s(u.map(i),!0,0),s(u.map(a),[0,1],0)}d.docalc=!0}else _.indexOf(A)!==-1?d.doplot=!0:b.indexOf(A)!==-1&&(d.docalcAutorange=!0)}else L=T.nestedProperty(t.layout,A.replace("LAYOUT","")),y[A]=[L.get()],L.set(Array.isArray(R)?R[0]:R),d.docalc=!0}w.Axes.list(t).forEach(function(t){t.autorange&&(d.autorangeOn=!0)});var H=Object.keys(v);t:for(l=0;l<H.length;l++){for(var G=H[l],Y=G.charAt(0),Z=Y+"axis",X=0;X<p.length;X++)if(k.traceIs(p[X],"cartesian")&&(p[X][Z]||Y)===G)continue t;s("LAYOUT"+w.Axes.id2name(G),null,0)}return(d.docalc||d.docalcAutorange&&d.autorangeOn)&&(d.clearCalc=!0),(d.docalc||d.doplot||d.docalcAutorange)&&(d.fullReplot=!0),{flags:d,undoit:y,redoit:m,traces:h,eventData:T.extendDeepNoArrays([],[m,h])}}function d(t,e){function n(t,r){if(Array.isArray(t))return void t.forEach(function(t){n(t,r)});if(!(t in e)){var o=T.nestedProperty(i,t);t in m||(m[t]=o.get()),void 0!==r&&o.set(r)}}function r(t,e){var n=w.Axes.id2name(t[e+"ref"]||e);return(a[n]||{}).autorange}var o,i=t.layout,a=t._fullLayout,s=Object.keys(e),l=w.Axes.list(t);for(o=0;o<s.length;o++)if(0===s[o].indexOf("allaxes")){for(var u=0;u<l.length;u++){var c=l[u]._id.substr(1),f=c.indexOf("scene")!==-1?c+".":"",p=s[o].replace("allaxes",f+l[u]._name);e[p]||(e[p]=e[s[o]])}delete e[s[o]]}var h={dolegend:!1,doticks:!1,dolayoutstyle:!1,doplot:!1,docalc:!1,domodebar:!1,layoutReplot:!1},d={},m={},v=["height","width"];for(var g in e){var b,_=T.nestedProperty(i,g),x=e[g],E=_.parts.length,C="string"==typeof _.parts[E-1]?E-1:E-2,S=_.parts[C],P=_.parts[C-1]+"."+S,M=_.parts.slice(0,C).join("."),A=T.nestedProperty(t.layout,M).get(),O=T.nestedProperty(a,M).get();if(void 0!==x){if(d[g]=x,m[g]="reverse"===S?x:_.get(),v.indexOf(g)!==-1?n("autosize",!1):"autosize"===g?n(v,void 0):P.match(/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/)?n(M+".autorange",!1):P.match(/^[xyz]axis[0-9]*\.autorange$/)?n([M+".range[0]",M+".range[1]"],void 0):P.match(/^aspectratio\.[xyz]$/)?n(_.parts[0]+".aspectmode","manual"):P.match(/^aspectmode$/)?n([M+".x",M+".y",M+".z"],void 0):"tick0"===S||"dtick"===S?n(M+".tickmode","linear"):"tickmode"===S?n([M+".tick0",M+".dtick"],void 0):/[xy]axis[0-9]*?$/.test(S)&&!Object.keys(x||{}).length?h.docalc=!0:/[xy]axis[0-9]*\.categoryorder$/.test(P)?h.docalc=!0:/[xy]axis[0-9]*\.categoryarray/.test(P)&&(h.docalc=!0),P.indexOf("rangeslider")!==-1&&(h.docalc=!0),"type"===S&&"log"===O.type!=("log"===x)){var D=A;if(D&&D.range)if(O.autorange)"log"===x&&(D.range=D.range[1]>D.range[0]?[1,2]:[2,1]);else{var L=D.range[0],I=D.range[1];"log"===x?(L<=0&&I<=0&&n(M+".autorange",!0),L<=0?L=I/1e6:I<=0&&(I=L/1e6),n(M+".range[0]",Math.log(L)/Math.LN10),n(M+".range[1]",Math.log(I)/Math.LN10)):(n(M+".range[0]",Math.pow(10,L)),n(M+".range[1]",Math.pow(10,I)))}else n(M+".autorange",!0)}if("reverse"===S)A.range?A.range.reverse():(n(M+".autorange",!0),A.range=[1,0]),O.autorange?h.docalc=!0:h.doplot=!0;else if("annotations"===_.parts[0]||"shapes"===_.parts[0]){var j=_.parts[1],F=_.parts[0],R=i[F]||[],N=R[j]||{};2===_.parts.length&&("add"===e[g]||T.isPlainObject(e[g])?m[g]="remove":"remove"===e[g]?j===-1?(m[F]=R,delete m[g]):m[g]=N:T.log("???",e)),!r(N,"x")&&!r(N,"y")||T.containsAny(g,["color","opacity","align","dash"])||(h.docalc=!0);var z=k.getComponentMethod(F,"drawOne");z(t,j,_.parts.slice(2).join("."),e[g]),delete e[g]}else if("images"===_.parts[0]){var B=T.objectFromPath(g,x);T.extendDeepAll(t.layout,B),k.getComponentMethod("images","supplyLayoutDefaults")(t.layout,t._fullLayout),k.getComponentMethod("images","draw")(t)}else if("mapbox"===_.parts[0]&&"layers"===_.parts[1]){T.extendDeepAll(t.layout,T.objectFromPath(g,x));var U=(t._fullLayout.mapbox||{}).layers||[];for(b=_.parts[2]+1-U.length,o=0;o<b;o++)U.push({});h.doplot=!0}else if("updatemenus"===_.parts[0]){T.extendDeepAll(t.layout,T.objectFromPath(g,x));var W=t._fullLayout.updatemenus||[];for(b=_.parts[2]+1-W.length,o=0;o<b;o++)W.push({});h.doplot=!0}else 0===_.parts[0].indexOf("scene")?h.doplot=!0:0===_.parts[0].indexOf("geo")?h.doplot=!0:0===_.parts[0].indexOf("ternary")?h.doplot=!0:"paper_bgcolor"===g?h.doplot=!0:!a._has("gl2d")||g.indexOf("axis")===-1&&"plot_bgcolor"!==_.parts[0]?"hiddenlabels"===g?h.docalc=!0:_.parts[0].indexOf("legend")!==-1?h.dolegend=!0:g.indexOf("title")!==-1?h.doticks=!0:_.parts[0].indexOf("bgcolor")!==-1?h.dolayoutstyle=!0:_.parts.length>1&&T.containsAny(_.parts[1],["tick","exponent","grid","zeroline"])?h.doticks=!0:g.indexOf(".linewidth")!==-1&&g.indexOf("axis")!==-1?h.doticks=h.dolayoutstyle=!0:_.parts.length>1&&_.parts[1].indexOf("line")!==-1?h.dolayoutstyle=!0:_.parts.length>1&&"mirror"===_.parts[1]?h.doticks=h.dolayoutstyle=!0:"margin.pad"===g?h.doticks=h.dolayoutstyle=!0:"margin"===_.parts[0]||"autorange"===_.parts[1]||"rangemode"===_.parts[1]||"type"===_.parts[1]||"domain"===_.parts[1]||g.match(/^(bar|box|font)/)?h.docalc=!0:["hovermode","dragmode"].indexOf(g)!==-1?h.domodebar=!0:["hovermode","dragmode","height","width","autosize"].indexOf(g)===-1&&(h.doplot=!0):h.doplot=!0,_.set(x)}}return e.autosize&&(e=y(t,e)),(e.height||e.width||e.autosize)&&(h.docalc=!0),(h.doplot||h.docalc)&&(h.layoutReplot=!0),{flags:h,undoit:m,redoit:d,eventData:T.extendDeep({},d)}}function m(t){var e,n={left:0,right:0,bottom:0,top:0};if(t)for(e in t)t.hasOwnProperty(e)&&(n.left+=t[e].left||0,n.right+=t[e].right||0,n.bottom+=t[e].bottom||0,n.top+=t[e].top||0);return n}function y(t,e){var n,r,o,i=t._fullLayout,a=t._context;if(t.emit("plotly_autosize"),t._context.fillFrame)o=window.innerWidth,r=window.innerHeight,document.body.style.overflow="hidden";else if(x(a.frameMargins)&&a.frameMargins>0){var s=m(t._boundingBoxMargins),l=s.left+s.right,u=s.bottom+s.top,c=i._container.node().getBoundingClientRect(),f=1-2*a.frameMargins;o=Math.round(f*(c.width-l)),r=Math.round(f*(c.height-u))}else n=window.getComputedStyle(t),r=parseFloat(n.height)||i.height,o=parseFloat(n.width)||i.width;return Math.abs(i.width-o)>1||Math.abs(i.height-r)>1?(i.height=t.layout.height=r,i.width=t.layout.width=o):"initial"!==i.autosize&&(delete e.autosize,i.autosize=t.layout.autosize=!0),S.sanitizeMargins(i),e}function v(t){var e=_.select(t),n=t._fullLayout;if(n._container=e.selectAll(".plot-container").data([0]),n._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),n._paperdiv=n._container.selectAll(".svg-container").data([0]),n._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),"initial"===n.autosize&&(y(t,{}),n.autosize=!0,t.layout.autosize=!0),n._glcontainer=n._paperdiv.selectAll(".gl-container").data([0]),n._glcontainer.enter().append("div").classed("gl-container",!0),n._geocontainer=n._paperdiv.selectAll(".geo-container").data([0]),n._geocontainer.enter().append("div").classed("geo-container",!0),n._paperdiv.selectAll(".main-svg").remove(),n._paper=n._paperdiv.insert("svg",":first-child").classed("main-svg",!0),n._toppaper=n._paperdiv.append("svg").classed("main-svg",!0),!n._uid){var r=[];_.selectAll("defs").each(function(){this.id&&r.push(this.id.split("-")[1])}),n._uid=T.randstr(r)}n._paperdiv.selectAll(".main-svg").attr(D.svgAttrs),n._defs=n._paper.append("defs").attr("id","defs-"+n._uid),n._topdefs=n._toppaper.append("defs").attr("id","topdefs-"+n._uid),n._draggers=n._paper.append("g").classed("draglayer",!0);var o=n._paper.append("g").classed("layer-below",!0);n._imageLowerLayer=o.append("g").classed("imagelayer",!0),n._shapeLowerLayer=o.append("g").classed("shapelayer",!0);var i=w.Axes.getSubplots(t);i.join("")!==Object.keys(t._fullLayout._plots||{}).join("")&&g(t,i),n._has("cartesian")&&b(t,i),n._ternarylayer=n._paper.append("g").classed("ternarylayer",!0);var a=n._paper.selectAll(".layer-subplot");n._imageSubplotLayer=a.selectAll(".imagelayer"),n._shapeSubplotLayer=a.selectAll(".shapelayer");var s=n._paper.append("g").classed("layer-above",!0);n._imageUpperLayer=s.append("g").classed("imagelayer",!0),n._shapeUpperLayer=s.append("g").classed("shapelayer",!0),n._pielayer=n._paper.append("g").classed("pielayer",!0),n._glimages=n._paper.append("g").classed("glimages",!0),n._geoimages=n._paper.append("g").classed("geoimages",!0),n._infolayer=n._toppaper.append("g").classed("infolayer",!0),n._zoomlayer=n._toppaper.append("g").classed("zoomlayer",!0),n._hoverlayer=n._toppaper.append("g").classed("hoverlayer",!0),t.emit("plotly_framework");var l=T.syncOrAsync([j.layoutStyles,function(){return w.Axes.doTicks(t,"redraw")},P.init],t);return l&&l.then&&t._promises.push(l),l}function g(t,e){function n(e,n){return function(){return w.Axes.getFromId(t,e,n)}}for(var r,o,i=t._fullLayout._plots={},a=0;a<e.length;a++)r=e[a],o=i[r]={},o.id=r,o.x=n(r,"x"),o.y=n(r,"y"),o.xaxis=o.x(),o.yaxis=o.y()}function b(t,e){function n(t){t.append("g").classed("imagelayer",!0),t.append("g").classed("maplayer",!0),t.append("g").classed("barlayer",!0),t.append("g").classed("boxlayer",!0),t.append("g").classed("scatterlayer",!0)}var r=t._fullLayout,o=[];r._paper.selectAll("g.subplot").data(e).enter().append("g").classed("subplot",!0).each(function(i){
var a=r._plots[i],s=a.plotgroup=_.select(this).classed(i,!0),l=a.xaxis,u=a.yaxis;a.overlays=[];var c=w.Axes.getFromId(t,l.overlaying)||l;c!==l&&c.overlaying&&(c=l,l.overlaying=!1);var f=w.Axes.getFromId(t,u.overlaying)||u;f!==u&&f.overlaying&&(f=u,u.overlaying=!1);var p=c._id+f._id;if(p!==i&&e.indexOf(p)!==-1)a.mainplot=p,o.push(a),l.domain=c.domain.slice(),u.domain=f.domain.slice();else{a.bg=s.append("rect").style("stroke-width",0);var h=s.append("g").classed("layer-subplot",!0);a.shapelayer=h.append("g").classed("shapelayer",!0),a.imagelayer=h.append("g").classed("imagelayer",!0),a.gridlayer=s.append("g"),a.overgrid=s.append("g"),a.zerolinelayer=s.append("g"),a.overzero=s.append("g"),a.plot=s.append("g").call(n),a.overplot=s.append("g"),a.xlines=s.append("path"),a.ylines=s.append("path"),a.overlines=s.append("g"),a.xaxislayer=s.append("g"),a.yaxislayer=s.append("g"),a.overaxes=s.append("g")}a.draglayer=r._draggers.append("g")}),o.forEach(function(t){var e=r._plots[t.mainplot];e.overlays.push(t),t.gridlayer=e.overgrid.append("g"),t.zerolinelayer=e.overzero.append("g"),t.plot=e.overplot.append("g").call(n),t.xlines=e.overlines.append("path"),t.ylines=e.overlines.append("path"),t.xaxislayer=e.overaxes.append("g"),t.yaxislayer=e.overaxes.append("g")}),e.forEach(function(t){var e=r._plots[t];e.xlines.style("fill","none").classed("crisp",!0),e.ylines.style("fill","none").classed("crisp",!0)})}var _=t("d3"),x=t("fast-isnumeric"),w=t("../plotly"),T=t("../lib"),E=t("../lib/events"),C=t("../lib/queue"),k=t("../registry"),S=t("../plots/plots"),P=t("../plots/cartesian/graph_interact"),M=t("../plots/polar"),A=t("../components/drawing"),O=t("../components/errorbars"),D=t("../constants/xmlns_namespaces"),L=t("../lib/svg_text_utils"),I=t("./helpers"),j=t("./subroutines");w.plot=function(t,e,n,r){function a(){var e,n,r,o=t.calcdata;for(k.getComponentMethod("legend","draw")(t),k.getComponentMethod("rangeselector","draw")(t),k.getComponentMethod("updatemenus","draw")(t),e=0;e<o.length;e++)n=o[e],r=n[0].trace,r.visible===!0&&r._module.colorbar?r._module.colorbar(t,n):S.autoMargin(t,"cb"+r.uid);return S.doAutoMargin(t),S.previousPromises(t)}function s(){var e=JSON.stringify(C._size)===L?[]:[a,j.layoutStyles];return T.syncOrAsync(e.concat(P.init),t)}function l(){if(M){for(var e,n,r=S.getSubplotIds(C,"cartesian"),o=C._modules,i=0;i<r.length;i++){e=C._plots[r[i]];for(var a=0;a<o.length;a++)n=o[a],n.setPositions&&n.setPositions(t,e)}return O.calc(t),T.syncOrAsync([k.getComponentMethod("shapes","calcAutorange"),k.getComponentMethod("annotations","calcAutorange"),u],t)}}function u(){if(!t._transitioning)for(var e=w.Axes.list(t,"",!0),n=0;n<e.length;n++)w.Axes.doAutoRange(e[n])}function c(){return w.Axes.doTicks(t,"redraw")}function f(){var e,n=t.calcdata;for(e=0;e<n.length;e++){var r=n[e][0].trace,o=r.visible===!0,i=r.uid;o&&k.traceIs(r,"2dMap")||C._paper.selectAll(".hm"+i+",.contour"+i+",#clip"+i).remove(),o&&r._module.colorbar||C._infolayer.selectAll(".cb"+i).remove()}var a=C._basePlotModules;for(e=0;e<a.length;e++)a[e].plot(t);return S.style(t),k.getComponentMethod("shapes","draw")(t),k.getComponentMethod("annoations","draw")(t),S.addLinks(t),t._replotting=!1,S.previousPromises(t)}function p(){k.getComponentMethod("shapes","draw")(t),k.getComponentMethod("images","draw")(t),k.getComponentMethod("annotations","draw")(t),k.getComponentMethod("legend","draw")(t),k.getComponentMethod("rangeslider","draw")(t),k.getComponentMethod("rangeselector","draw")(t),k.getComponentMethod("updatemenus","draw")(t)}function h(){t.emit("plotly_afterplot")}t=I.getGraphDiv(t),E.init(t);var d=E.triggerHandler(t,"plotly_beforeplot",[e,n,r]);if(d===!1)return Promise.reject();e||n||T.isPlotDiv(t)||T.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",t),o(t,r),n||(n={}),_.select(t).classed("js-plotly-plot",!0),A.makeTester(t),t._promises=[];var m=0===(t.data||[]).length&&Array.isArray(e);if(Array.isArray(e)&&(I.cleanData(e,t.data),m?t.data=e:t.data.push.apply(t.data,e),t.empty=!1),t.layout&&!m||(t.layout=I.cleanLayout(n)),t._dragging&&!t._transitioning)return t._replotPending=!0,Promise.reject();if(t._replotPending=!1,S.supplyDefaults(t),e&&e[0]&&e[0].r)return i(t,e,n);t._replotting=!0;var y=t._fullData.length>0,g=w.Axes.getSubplots(t).join(""),b=Object.keys(t._fullLayout._plots||{}).join(""),x=b===g;y?t.framework===v&&!m&&x||(t.framework=v,v(t)):x?m&&v(t):(t.framework=v,v(t)),m&&w.Axes.saveRangeInitial(t);var C=t._fullLayout,M=!t.calcdata||t.calcdata.length!==(t.data||[]).length;M&&S.doCalcdata(t);for(var D=0;D<t.calcdata.length;D++)t.calcdata[D][0].trace=t._fullData[D];var L=JSON.stringify(C._size);return T.syncOrAsync([S.previousPromises,a,s,l,j.layoutStyles,c,f,p],t,h),Promise.all(t._promises).then(function(){return t})},w.redraw=function(t){if(t=I.getGraphDiv(t),!T.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);return I.cleanData(t.data,t.data),I.cleanLayout(t.layout),t.calcdata=void 0,w.plot(t).then(function(){return t.emit("plotly_redraw"),t})},w.newPlot=function(t,e,n,r){return t=I.getGraphDiv(t),S.cleanPlot([],{},t._fullData||{},t._fullLayout||{}),S.purge(t),w.plot(t,e,n,r)},w.extendTraces=function F(t,e,n,r){t=I.getGraphDiv(t);var o=p(t,e,n,r,function(t,e){return t.concat(e)},function(t,e){return t.splice(0,t.length-e)}),i=w.redraw(t),a=[t,o.update,n,o.maxPoints];return C.add(t,w.prependTraces,a,F,arguments),i},w.prependTraces=function R(t,e,n,r){t=I.getGraphDiv(t);var o=p(t,e,n,r,function(t,e){return e.concat(t)},function(t,e){return t.splice(e,t.length)}),i=w.redraw(t),a=[t,o.update,n,o.maxPoints];return C.add(t,w.extendTraces,a,R,arguments),i},w.addTraces=function N(t,e,n){t=I.getGraphDiv(t);var r,o,i=[],a=w.deleteTraces,s=N,c=[t,i],f=[t,e];for(u(t,e,n),Array.isArray(e)||(e=[e]),I.cleanData(e,t.data),r=0;r<e.length;r+=1)t.data.push(e[r]);for(r=0;r<e.length;r++)i.push(-e.length+r);if("undefined"==typeof n)return o=w.redraw(t),C.add(t,a,c,s,f),o;Array.isArray(n)||(n=[n]);try{l(t,i,n)}catch(p){throw t.data.splice(t.data.length-e.length,e.length),p}return C.startSequence(t),C.add(t,a,c,s,f),o=w.moveTraces(t,i,n),C.stopSequence(t),o},w.deleteTraces=function z(t,e){t=I.getGraphDiv(t);var n,r,o=[],i=w.addTraces,l=z,u=[t,o,e],c=[t,e];if("undefined"==typeof e)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(e)||(e=[e]),s(t,e,"indices"),e=a(e,t.data.length-1),e.sort(T.sorterDes),n=0;n<e.length;n+=1)r=t.data.splice(e[n],1)[0],o.push(r);var f=w.redraw(t);return C.add(t,i,u,l,c),f},w.moveTraces=function B(t,e,n){t=I.getGraphDiv(t);var r,o=[],i=[],s=B,u=B,c=[t,n,e],f=[t,e,n];if(l(t,e,n),e=Array.isArray(e)?e:[e],"undefined"==typeof n)for(n=[],r=0;r<e.length;r++)n.push(-e.length+r);for(n=Array.isArray(n)?n:[n],e=a(e,t.data.length-1),n=a(n,t.data.length-1),r=0;r<t.data.length;r++)e.indexOf(r)===-1&&o.push(t.data[r]);for(r=0;r<e.length;r++)i.push({newIndex:n[r],trace:t.data[e[r]]});for(i.sort(function(t,e){return t.newIndex-e.newIndex}),r=0;r<i.length;r+=1)o.splice(i[r].newIndex,0,i[r].trace);t.data=o;var p=w.redraw(t);return C.add(t,s,c,u,f),p},w.restyle=function U(t,e,n,r){t=I.getGraphDiv(t),I.clearPromiseQueue(t);var o={};if("string"==typeof e)o[e]=n;else{if(!T.isPlainObject(e))return T.warn("Restyle fail.",e,n,r),Promise.reject();o=e,void 0===r&&(r=n)}Object.keys(o).length&&(t.changed=!0);var i=h(t,o,r),a=i.flags;a.clearCalc&&(t.calcdata=void 0);var s=[];a.fullReplot?s.push(w.plot):(s.push(S.previousPromises),S.supplyDefaults(t),a.dostyle&&s.push(j.doTraceStyle),a.docolorbars&&s.push(j.doColorBars)),C.add(t,U,[t,i.undoit,i.traces],U,[t,i.redoit,i.traces]);var l=T.syncOrAsync(s,t);return l&&l.then||(l=Promise.resolve()),l.then(function(){return t.emit("plotly_restyle",i.eventData),t})},w.relayout=function W(t,e,n){if(t=I.getGraphDiv(t),I.clearPromiseQueue(t),t.framework&&t.framework.isPolar)return Promise.resolve(t);var r={};if("string"==typeof e)r[e]=n;else{if(!T.isPlainObject(e))return T.warn("Relayout fail.",e,n),Promise.reject();r=e}Object.keys(r).length&&(t.changed=!0);var o=d(t,r),i=o.flags;i.docalc&&(t.calcdata=void 0);var a=[];i.layoutReplot?a.push(j.layoutReplot):Object.keys(r).length&&(a.push(S.previousPromises),S.supplyDefaults(t),i.dolegend&&a.push(j.doLegend),i.dolayoutstyle&&a.push(j.layoutStyles),i.doticks&&a.push(j.doTicksRelayout),i.domodebar&&a.push(j.doModeBar)),C.add(t,W,[t,o.undoit],W,[t,o.redoit]);var s=T.syncOrAsync(a,t);return s&&s.then||(s=Promise.resolve(t)),s.then(function(){return j.setRangeSliderRange(t,o.eventData),t.emit("plotly_relayout",o.eventData),t})},w.update=function q(t,e,n,r){if(t=I.getGraphDiv(t),I.clearPromiseQueue(t),t.framework&&t.framework.isPolar)return Promise.resolve(t);T.isPlainObject(e)||(e={}),T.isPlainObject(n)||(n={}),Object.keys(e).length&&(t.changed=!0),Object.keys(n).length&&(t.changed=!0);var o=h(t,e,r),i=o.flags,a=d(t,n),s=a.flags;(i.clearCalc||s.docalc)&&(t.calcdata=void 0);var l=[];if(i.fullReplot&&s.layoutReplot){var u=t.layout;t.layout=void 0,l.push(function(){return w.plot(t,t.data,u)})}else i.fullReplot?l.push(w.plot):s.layoutReplot?l.push(j.layoutReplot):(l.push(S.previousPromises),S.supplyDefaults(t),i.dostyle&&l.push(j.doTraceStyle),i.docolorbars&&l.push(j.doColorBars),s.dolegend&&l.push(j.doLegend),s.dolayoutstyle&&l.push(j.layoutStyles),s.doticks&&l.push(j.doTicksRelayout),s.domodebar&&l.push(j.doModeBar));C.add(t,q,[t,o.undoit,a.undoit,o.traces],q,[t,o.redoit,a.redoit,o.traces]);var c=T.syncOrAsync(l,t);return c&&c.then||(c=Promise.resolve(t)),c.then(function(){return j.setRangeSliderRange(t,a.eventData),t.emit("plotly_update",{data:o.eventData,layout:a.eventData}),t})},w.animate=function(t,e,n){function r(t){return Array.isArray(a)?t>=a.length?a[0]:a[t]:a}function o(t){return Array.isArray(s)?t>=s.length?s[0]:s[t]:s}if(t=I.getGraphDiv(t),!T.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);var i=t._transitionData;i._frameQueue||(i._frameQueue=[]),n=S.supplyAnimationDefaults(n);var a=n.transition,s=n.frame;return void 0===i._frameWaitingCnt&&(i._frameWaitingCnt=0),new Promise(function(s,l){function u(){if(0!==i._frameQueue.length){for(;i._frameQueue.length;){var e=i._frameQueue.pop();e.onInterrupt&&e.onInterrupt()}t.emit("plotly_animationinterrupted",[])}}function c(e){if(0!==e.length){for(var a=0;a<e.length;a++){var u;u="byname"===e[a].type?S.computeFrame(t,e[a].name):e[a].data;var c=o(a),f=r(a);f.duration=Math.min(f.duration,c.duration);var p={frame:u,name:e[a].name,frameOpts:c,transitionOpts:f};a===e.length-1&&(p.onComplete=s,p.onInterrupt=l),i._frameQueue.push(p)}"immediate"===n.mode&&(i._lastFrameAt=-(1/0)),i._animationRaf||h()}}function f(){t.emit("plotly_animated"),window.cancelAnimationFrame(i._animationRaf),i._animationRaf=null}function p(){i._currentFrame&&i._currentFrame.onComplete&&(i._currentFrame.onComplete(),i._currentFrame.onComplete=null);var e=i._currentFrame=i._frameQueue.shift();e?(t.emit("plotly_animatingframe",{name:e.name,frame:e.frame,animation:{frame:e.frameOpts,transition:e.transitionOpts}}),i._lastFrameAt=Date.now(),i._timeToNext=e.frameOpts.duration,S.transition(t,e.frame.data,e.frame.layout,I.coerceTraceIndices(t,e.frame.traces),e.frameOpts,e.transitionOpts)):f()}function h(){t.emit("plotly_animating"),i._lastFrameAt=-(1/0),i._timeToNext=0,i._runningTransitions=0,i._currentFrame=null;var e=function(){i._animationRaf=window.requestAnimationFrame(e),Date.now()-i._lastFrameAt>i._timeToNext&&p()};e()}function d(t){return Array.isArray(a)?v>=a.length?t.transitionOpts=a[v]:t.transitionOpts=a[0]:t.transitionOpts=a,v++,t}var m,y,v=0,g=[],b=void 0===e||null===e,_=Array.isArray(e),x=!b&&!_&&T.isPlainObject(e);if(x)g.push({type:"object",data:d(T.extendFlat({},e))});else if(b||"string"==typeof e)for(m=0;m<i._frames.length;m++)y=i._frames[m],(b||y.group===e)&&g.push({type:"byname",name:y.name,data:d({name:y.name})});else if(_)for(m=0;m<e.length;m++){var w=e[m];"string"==typeof w?g.push({type:"byname",name:w,data:d({name:w})}):g.push({type:"object",data:d(T.extendFlat({},w))})}for(m=0;m<g.length;m++)if(y=g[m],"byname"===y.type&&!i._frameHash[y.data.name])return T.warn('animate failure: frame not found: "'+y.data.name+'"'),void l();["next","immediate"].indexOf(n.mode)!==-1&&u(),g.length>0?c(g):(t.emit("plotly_animated"),s())})},w.addFrames=function(t,e,n){if(t=I.getGraphDiv(t),!T.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);var r,o,i,a,s=t._transitionData._frames,l=t._transitionData._frameHash;if(!Array.isArray(e))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+e);var u=s.length+2*e.length,c=[];for(r=e.length-1;r>=0;r--)c.push({frame:S.supplyFrameDefaults(e[r]),index:n&&void 0!==n[r]&&null!==n[r]?n[r]:u+r});c.sort(function(t,e){return t.index>e.index?-1:t.index<e.index?1:0});var f=[],p=[],h=s.length;for(r=c.length-1;r>=0;r--){if(o=c[r].frame,!o.name)for(;l[o.name="frame "+t._transitionData._counter++];);if(l[o.name]){for(i=0;i<s.length&&s[i].name!==o.name;i++);f.push({type:"replace",index:i,value:o}),p.unshift({type:"replace",index:i,value:s[i]})}else a=Math.max(0,Math.min(c[r].index,h)),f.push({type:"insert",index:a,value:o}),p.unshift({type:"delete",index:a}),h++}var d=S.modifyFrames,m=S.modifyFrames,y=[t,p],v=[t,f];return C&&C.add(t,d,y,m,v),S.modifyFrames(t,f)},w.deleteFrames=function(t,e){if(t=I.getGraphDiv(t),!T.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);var n,r,o=t._transitionData._frames,i=[],a=[];for(e=e.slice(0),e.sort(),n=e.length-1;n>=0;n--)r=e[n],i.push({type:"delete",index:r}),a.unshift({type:"insert",index:r,value:o[r]});var s=S.modifyFrames,l=S.modifyFrames,u=[t,a],c=[t,i];return C&&C.add(t,s,u,l,c),S.modifyFrames(t,i)},w.purge=function(t){t=I.getGraphDiv(t);var e=t._fullLayout||{},n=t._fullData||[];return S.cleanPlot([],{},n,e),S.purge(t),E.purge(t),e._container&&e._container.remove(),delete t._context,delete t._replotPending,delete t._mouseDownTime,delete t._hmpixcount,delete t._hmlumcount,t}},{"../components/drawing":563,"../components/errorbars":569,"../constants/xmlns_namespaces":620,"../lib":633,"../lib/events":626,"../lib/queue":641,"../lib/svg_text_utils":647,"../plotly":658,"../plots/cartesian/graph_interact":669,"../plots/plots":720,"../plots/polar":723,"../registry":735,"./helpers":649,"./subroutines":655,d3:125,"fast-isnumeric":129}],651:[function(t,e,n){"use strict";function r(t,n){try{t._fullLayout._paper.style("background",n)}catch(r){e.exports.logging>0&&console.error(r)}}e.exports={staticPlot:!1,editable:!1,queueLength:0,autosizable:!1,fillFrame:!1,frameMargins:0,scrollZoom:!1,doubleClick:"reset+autosize",showTips:!0,showLink:!1,sendData:!0,linkText:"Edit chart",showSources:!1,displayModeBar:"hover",modeBarButtonsToRemove:[],modeBarButtonsToAdd:[],modeBarButtons:!1,displaylogo:!0,plotGlPixelRatio:2,setBackground:r,topojsonURL:"https://cdn.plot.ly/",mapboxAccessToken:null,logging:!1,globalTransforms:[]}},{}],652:[function(t,e,n){"use strict";function r(t){var e=g.attributes,n=u({type:t}),r=f(t),o=h(t),i={},a={};i.type=null,T(i,e),i=s(n.attributes,i,"attributes",t),void 0!==o.attributes&&T(i,o.attributes),i.type=t,i=c(i),l(i),O.traces[t]=w({},r,{attributes:i}),void 0!==n.layoutAttributes&&(a=s(n.layoutAttributes,a,"layoutAttributes",t),l(a),O.traces[t].layoutAttributes=a)}function o(){var t=g.layoutAttributes,e={};e=s(t,e,"layoutAttributes","*"),e=p(e),e=d(e),e=c(e),l(e),m(e),O.layout={layoutAttributes:e}}function i(t){var e=v.transformsRegistry[t],n={};n=s(n,e.attributes||{},"attributes","*"),n=c(n),l(n),m(n),O.transforms[t]={attributes:n}}function a(){O.defs={valObjects:b.valObjects,metaKeys:A.concat(["description","role"])}}function s(t,e,n,r){var o,i,a,l,c;return Object.keys(t).forEach(function(f){return f===C?void Object.keys(t[f]).forEach(function(l){o=u({_module:t[f][l]}),void 0!==o&&(i=o[n],a=s(i,{},n,r),b.nestedProperty(e,l).set(T({},a)))}):f===k?void Object.keys(t[f]).forEach(function(o){o===r&&(l=u({_module:t[f][o]}),void 0!==l&&(c=l[n],c=s(c,{},n,r),E(e,c)))}):void(e[f]=b.isPlainObject(t[f])?E({},t[f]):t[f])}),e}function l(t){function e(t){return{valType:"string"}}function n(t,n,r){D.isValObject(t)?"data_array"===t.valType?(t.role="data",r[n+"src"]=e(n)):t.arrayOk===!0&&(r[n+"src"]=e(n)):b.isPlainObject(t)&&(t.role="object")}D.crawl(t,n)}function u(t){if("type"in t)return"area"===t.type?{attributes:_}:v.getModule({type:t.type});var e=v.subplotsRegistry,n=v.componentsRegistry,r=t._module;return e[r]?e[r]:n[r]?n[r]:y[r]}function c(t){return Object.keys(t).forEach(function(e){"_"===e.charAt(0)&&A.indexOf(e)===-1&&delete t[e]}),t}function f(t){return"area"===t?{}:v.modules[t].meta||{}}function p(t){return w(t,{radialaxis:x.radialaxis,angularaxis:x.angularaxis}),w(t,x.layout),t}function h(t){if("area"===t)return{};var e=v.subplotsRegistry,n=Object.keys(e).filter(function(e){return v.traceIs({type:t},e)})[0];return void 0===n?{}:e[n]}function d(t){var e=v.subplotsRegistry;return Object.keys(t).forEach(function(n){Object.keys(e).forEach(function(r){var o,i=e[r];i.attrRegex&&(o="cartesian"===r||"gl2d"===r?i.attrRegex.x.test(n)||i.attrRegex.y.test(n):i.attrRegex.test(n),o&&(t[n][S]=!0))})}),t}function m(t){function e(t,e,n){if(t[P]===!0){var r=e.substr(0,e.length-1);delete t[P],n[e]={items:{}},n[e].items[r]=t,n[e].role="object"}}D.crawl(t,e)}var y=t("../plotly"),v=t("../registry"),g=t("../plots/plots"),b=t("../lib"),_=t("../plots/polar/area_attributes"),x=t("../plots/polar/axis_attributes"),w=b.extendFlat,T=b.extendDeep,E=b.extendDeepAll,C="_nestedModules",k="_composedModules",S="_isSubplotObj",P="_isLinkedToArray",M="_deprecated",A=[S,P,M],O={traces:{},layout:{},transforms:{},defs:{}},D=e.exports={};D.get=function(){return v.allTypes.concat("area").forEach(r),o(),Object.keys(v.transformsRegistry).forEach(i),a(),O},D.crawl=function(t,e){Object.keys(t).forEach(function(n){var r=t[n];A.indexOf(n)===-1&&(e(r,n,t),D.isValObject(r)||b.isPlainObject(r)&&D.crawl(r,e))})},D.isValObject=function(t){return t&&void 0!==t.valType}},{"../lib":633,"../plotly":658,"../plots/plots":720,"../plots/polar/area_attributes":721,"../plots/polar/axis_attributes":722,"../registry":735}],653:[function(t,e,n){"use strict";function r(t){a.register(t,t.name,t.categories,t.meta),a.subplotsRegistry[t.basePlotModule.name]||a.registerSubplot(t.basePlotModule)}function o(t){if("string"!=typeof t.name)throw new Error("Transform module *name* must be a string.");var e="Transform module "+t.name;if("function"!=typeof t.transform)throw new Error(e+" is missing a *transform* function.");s.isPlainObject(t.attributes)||s.log(e+" registered without an *attributes* object."),"function"!=typeof t.supplyDefaults&&s.log(e+" registered without a *supplyDefaults* function."),a.transformsRegistry[t.name]=t}function i(t){a.componentsRegistry[t.name]=t}var a=t("../registry"),s=t("../lib");e.exports=function(t){if(!t)throw new Error("No argument passed to Plotly.register.");t&&!Array.isArray(t)&&(t=[t]);for(var e=0;e<t.length;e++){var n=t[e];if(!n)throw new Error("Invalid module was attempted to be registered!");switch(n.moduleType){case"trace":r(n);break;case"transform":o(n);break;case"component":i(n);break;default:throw new Error("Invalid module was attempted to be registered!")}}}},{"../lib":633,"../registry":735}],654:[function(t,e,n){"use strict";var r=t("../plotly"),o=t("../lib");e.exports=function(t){return o.extendFlat(r.defaultConfig,t)}},{"../lib":633,"../plotly":658}],655:[function(t,e,n){"use strict";var r=t("../plotly"),o=t("../registry"),i=t("../plots/plots"),a=t("../lib"),s=t("../components/color"),l=t("../components/drawing"),u=t("../components/titles"),c=t("../components/modebar");n.layoutStyles=function(t){return a.syncOrAsync([i.doAutoMargin,n.lsInner],t)},n.lsInner=function(t){var e,o=t._fullLayout,i=o._size,u=r.Axes.list(t);for(e=0;e<u.length;e++)u[e]._linepositions={};o._paperdiv.style({width:o.width+"px",height:o.height+"px"}).selectAll(".main-svg").call(l.setSize,o.width,o.height),t._context.setBackground(t,o.paper_bgcolor);var f=[];return o._paper.selectAll("g.subplot").each(function(e){var n=o._plots[e],u=r.Axes.getFromId(t,e,"x"),c=r.Axes.getFromId(t,e,"y");u.setScale(),c.setScale(),n.bg&&n.bg.call(l.setRect,u._offset-i.p,c._offset-i.p,u._length+2*i.p,c._length+2*i.p).call(s.fill,o.plot_bgcolor),n.clipId="clip"+o._uid+e+"plot";var p=o._defs.selectAll("g.clips").selectAll("#"+n.clipId).data([0]);p.enter().append("clipPath").attr({"class":"plotclip",id:n.clipId}).append("rect"),p.selectAll("rect").attr({width:u._length,height:c._length}),n.plot.call(a.setTranslate,u._offset,c._offset),n.plot.call(l.setClipUrl,n.clipId);var h=l.crispRound(t,u.linewidth,1),d=l.crispRound(t,c.linewidth,1),m=i.p+d,y="M"+-m+",",v="h"+(u._length+2*m),g="free"===u.anchor&&f.indexOf(u._id)===-1,b=i.h*(1-(u.position||0))+h/2%1,_=u.anchor===c._id&&(u.mirror||"top"!==u.side)||"all"===u.mirror||"allticks"===u.mirror||u.mirrors&&u.mirrors[c._id+"bottom"],x=c._length+i.p+h/2,w=u.anchor===c._id&&(u.mirror||"top"===u.side)||"all"===u.mirror||"allticks"===u.mirror||u.mirrors&&u.mirrors[c._id+"top"],T=-i.p-h/2,E=i.p,C=_?0:h,k=w?0:h,S=","+(-E-k)+"v"+(c._length+2*E+k+C),P="free"===c.anchor&&f.indexOf(c._id)===-1,M=i.w*(c.position||0)+d/2%1,A=c.anchor===u._id&&(c.mirror||"right"!==c.side)||"all"===c.mirror||"allticks"===c.mirror||c.mirrors&&c.mirrors[u._id+"left"],O=-i.p-d/2,D=c.anchor===u._id&&(c.mirror||"right"===c.side)||"all"===c.mirror||"allticks"===c.mirror||c.mirrors&&c.mirrors[u._id+"right"],L=u._length+i.p+d/2;u._linepositions[e]=[_?x:void 0,w?T:void 0,g?b:void 0],u.anchor===c._id?u._linepositions[e][3]="top"===u.side?T:x:g&&(u._linepositions[e][3]=b),c._linepositions[e]=[A?O:void 0,D?L:void 0,P?M:void 0],c.anchor===u._id?c._linepositions[e][3]="right"===c.side?L:O:P&&(c._linepositions[e][3]=M);var I="translate("+u._offset+","+c._offset+")",j=I,F=I;g&&(j="translate("+u._offset+","+i.t+")",T+=c._offset-i.t,x+=c._offset-i.t),P&&(F="translate("+i.l+","+c._offset+")",O+=u._offset-i.l,L+=u._offset-i.l),n.xlines.attr("transform",j).attr("d",(_?y+x+v:"")+(w?y+T+v:"")+(g?y+b+v:"")||"M0,0").style("stroke-width",h+"px").call(s.stroke,u.showline?u.linecolor:"rgba(0,0,0,0)"),n.ylines.attr("transform",F).attr("d",(A?"M"+O+S:"")+(D?"M"+L+S:"")+(P?"M"+M+S:"")||"M0,0").attr("stroke-width",d+"px").call(s.stroke,c.showline?c.linecolor:"rgba(0,0,0,0)"),n.xaxislayer.attr("transform",j),n.yaxislayer.attr("transform",F),n.gridlayer.attr("transform",I),n.zerolinelayer.attr("transform",I),n.draglayer.attr("transform",I),g&&f.push(u._id),P&&f.push(c._id)}),r.Axes.makeClipPaths(t),n.drawMainTitle(t),c.manage(t),t._promises.length&&Promise.all(t._promises)},n.drawMainTitle=function(t){var e=t._fullLayout;u.draw(t,"gtitle",{propContainer:e,propName:"title",dfltName:"Plot",attributes:{x:e.width/2,y:e._size.t/2,"text-anchor":"middle"}})},n.doTraceStyle=function(t){for(var e=0;e<t.calcdata.length;e++){var n=t.calcdata[e],r=((n[0]||{}).trace||{})._module||{},a=r.arraysToCalcdata;a&&a(n)}return i.style(t),o.getComponentMethod("legend","draw")(t),i.previousPromises(t)},n.doColorBars=function(t){for(var e=0;e<t.calcdata.length;e++){var n=t.calcdata[e][0];if((n.t||{}).cb){var r=n.trace,a=n.t.cb;o.traceIs(r,"contour")&&a.line({width:r.contours.showlines!==!1?r.line.width:0,dash:r.line.dash,color:"line"===r.contours.coloring?a._opts.line.color:r.line.color}),o.traceIs(r,"markerColorscale")?a.options(r.marker.colorbar)():a.options(r.colorbar)()}}return i.previousPromises(t)},n.layoutReplot=function(t){var e=t.layout;return t.layout=void 0,r.plot(t,"",e)},n.doLegend=function(t){return o.getComponentMethod("legend","draw")(t),i.previousPromises(t)},n.doTicksRelayout=function(t){return r.Axes.doTicks(t,"redraw"),n.drawMainTitle(t),i.previousPromises(t)},n.doModeBar=function(t){var e,n,o=t._fullLayout;for(c.manage(t),r.Fx.supplyLayoutDefaults(t.layout,t._fullLayout,t._fullData),r.Fx.init(t),e=i.getSubplotIds(o,"gl3d"),n=0;n<e.length;n++){var a=o[e[n]]._scene;a.updateFx(o.dragmode,o.hovermode)}for(e=i.getSubplotIds(o,"gl2d"),n=0;n<e.length;n++){var s=o._plots[e[n]]._scene2d;s.updateFx(o)}for(e=i.getSubplotIds(o,"geo"),n=0;n<e.length;n++){var l=o[e[n]]._geo;l.updateFx(o.hovermode)}return i.previousPromises(t)},n.setRangeSliderRange=function(t,e){var n=t._fullLayout,r=e["xaxis.range"]?e["xaxis.range"][0]:e["xaxis.range[0]"],o=e["xaxis.range"]?e["xaxis.range"][1]:e["xaxis.range[1]"],i=n.xaxis&&n.xaxis.rangeslider?n.xaxis.rangeslider:{};i.visible&&(r||o?n.xaxis.rangeslider.setRange(r,o):e["xaxis.autorange"]&&n.xaxis.rangeslider.setRange())}},{"../components/color":540,"../components/drawing":563,"../components/modebar":586,"../components/titles":610,"../lib":633,"../plotly":658,"../plots/plots":720,"../registry":735}],656:[function(t,e,n){"use strict";function r(t,e){var n=new Promise(function(n,r){function f(){var t=s.getDelay(d._fullLayout);return new Promise(function(n,r){setTimeout(function(){var t=u(d),o=document.createElement("canvas");o.id=a.randstr(),c({format:e.format,width:d._fullLayout.width,height:d._fullLayout.height,canvas:o,svg:t,promise:!0}).then(function(t){d&&document.body.removeChild(d),n(t)})["catch"](function(t){r(t)})},t)})}e=e||{},e.format=e.format||"png";var p=function(t){return void 0===t||null===t||!!(o(t)&&t>1)};p(e.width)&&p(e.height)||r(new Error("Height and width should be pixel values."));var h=l(t,{format:"png",height:e.height,width:e.width}),d=h.td;d.style.position="absolute",d.style.left="-5000px",document.body.appendChild(d);var m=s.getRedrawFunc(d);i.plot(d,h.data,h.layout,h.config).then(m).then(f).then(function(t){n(t)})["catch"](function(t){r(t)})});return n}var o=t("fast-isnumeric"),i=t("../plotly"),a=t("../lib"),s=t("../snapshot/helpers"),l=t("../snapshot/cloneplot"),u=t("../snapshot/tosvg"),c=t("../snapshot/svgtoimg");e.exports=r},{"../lib":633,"../plotly":658,"../snapshot/cloneplot":736,"../snapshot/helpers":739,"../snapshot/svgtoimg":741,"../snapshot/tosvg":743,"fast-isnumeric":129}],657:[function(t,e,n){"use strict";function r(t,e,n,o,i,u){u=u||[];for(var c=Object.keys(t),p=0;p<c.length;p++){var h=c[p];if("transforms"!==h){var y=u.slice();y.push(h);var v=t[h],g=e[h],b=l(n,h),_="info_array"===(b||{}).valType;if(s(n,h))if(d(v)&&d(g))r(v,g,b,o,i,y);else if(b.items&&!_&&m(v)){var x,w,T=h.substr(0,h.length-1),E=[];for(x=0;x<g.length;x++){var C=b.items[T],k=g[x]._index||x;w=y.slice(),w.push(k),d(v[k])&&d(g[x])&&(E.push(k),r(v[k],g[x],C,o,i,w))}for(x=0;x<v.length;x++)w=y.slice(),w.push(x),d(v[x])?E.indexOf(x)===-1&&o.push(a("unused",i,w)):o.push(a("object",i,w,v[x]))}else!d(v)&&d(g)?o.push(a("object",i,y,v)):m(v)||!m(g)||_?h in e?f.validate(v,b)||o.push(a("value",i,y,v)):o.push(a("unused",i,y,v)):o.push(a("array",i,y,v));else o.push(a("schema",i,y))}}return o}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n].type,o=t.traces[r].layoutAttributes;o&&f.extendFlat(t.layout.layoutAttributes,o)}return t.layout.layoutAttributes}function i(t){return m(t)?"In data trace "+t[1]+", ":"In "+t+", "}function a(t,e,n,r){n=n||"";var o,i;m(e)?(o=e[0],i=e[1]):(o=e,i=null);var a=c(n),s=y[t](e,a,r);return f.log(s),{code:t,container:o,trace:i,path:n,astr:a,msg:s}}function s(t,e){var n=u(e),r=n.keyMinusId,o=n.id;return!!(r in t&&t[r]._isSubplotObj&&o)||e in t}function l(t,e){var n=u(e);return t[n.keyMinusId]}function u(t){var e=/([2-9]|[1-9][0-9]+)$/,n=t.split(e)[0],r=t.substr(n.length,t.length);return{keyMinusId:n,id:r}}function c(t){if(!m(t))return String(t);for(var e="",n=0;n<t.length;n++){var r=t[n];"number"==typeof r?e=e.substr(0,e.length-1)+"["+r+"]":e+=r,n<t.length-1&&(e+=".")}return e}var f=t("../lib"),p=t("../plots/plots"),h=t("./plot_schema"),d=f.isPlainObject,m=Array.isArray;e.exports=function(t,e){var n,i,s=h.get(),l=[],u={};m(t)?(u.data=f.extendDeep([],t),n=t):(u.data=[],n=[],l.push(a("array","data"))),d(e)?(u.layout=f.extendDeep({},e),i=e):(u.layout={},i={},arguments.length>1&&l.push(a("object","layout"))),p.supplyDefaults(u);for(var c=u._fullData,y=n.length,v=0;v<y;v++){var g=n[v],b=["data",v];if(d(g)){var _=c[v],x=_.type,w=s.traces[x].attributes;w.type={valType:"enumerated",values:[x]},_.visible===!1&&g.visible!==!1&&l.push(a("invisible",b)),r(g,_,w,l,b);var T=g.transforms,E=_.transforms;if(T){m(T)||l.push(a("array",b,["transforms"])),b.push("transforms");for(var C=0;C<T.length;C++){var k=["transforms",C],S=T[C].type;if(d(T[C])){var P=s.transforms[S]?s.transforms[S].attributes:{};P.type={valType:"enumerated",values:Object.keys(s.transforms)},r(T[C],E[C],P,l,b,k)}else l.push(a("object",b,k))}}}else l.push(a("object",b))}var M=u._fullLayout,A=o(s,c);return r(i,M,A,l,"layout"),0===l.length?void 0:l};var y={object:function(t,e){var n;return n="layout"===t&&""===e?"The layout argument":"data"===t[0]&&""===e?"Trace "+t[1]+" in the data argument":i(t)+"key "+e,n+" must be linked to an object container"},array:function(t,e){var n;return n="data"===t?"The data argument":i(t)+"key "+e,n+" must be linked to an array container"},schema:function(t,e){return i(t)+"key "+e+" is not part of the schema"},unused:function(t,e,n){var r=d(n)?"container":"key";return i(t)+r+" "+e+" did not get coerced"},invisible:function(t){return"Trace "+t[1]+" got defaulted to be not visible"},value:function(t,e,n){return[i(t)+"key "+e,"is set to an invalid value ("+n+")"].join(" ")}}},{"../lib":633,"../plots/plots":720,"./plot_schema":652}],658:[function(t,e,n){"use strict";n.defaultConfig=t("./plot_api/plot_config"),n.Plots=t("./plots/plots"),n.Axes=t("./plots/cartesian/axes"),n.Fx=t("./plots/cartesian/graph_interact"),n.Color=t("./components/color"),n.Drawing=t("./components/drawing"),n.Colorscale=t("./components/colorscale"),n.Colorbar=t("./components/colorbar"),n.ErrorBars=t("./components/errorbars"),n.Annotations=t("./components/annotations"),n.Shapes=t("./components/shapes"),n.Legend=t("./components/legend"),n.Images=t("./components/images"),n.UpdateMenus=t("./components/updatemenus"),n.ModeBar=t("./components/modebar"),t("./plot_api/plot_api")},{"./components/annotations":538,"./components/color":540,"./components/colorbar":545,"./components/colorscale":554,"./components/drawing":563,"./components/errorbars":569,"./components/images":575,"./components/legend":583,"./components/modebar":586,"./components/shapes":608,"./components/updatemenus":615,"./plot_api/plot_api":650,"./plot_api/plot_config":651,"./plots/cartesian/axes":662,"./plots/cartesian/graph_interact":669,"./plots/plots":720}],659:[function(t,e,n){"use strict";e.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"]}}}},{}],660:[function(t,e,n){"use strict";e.exports={type:{valType:"enumerated",values:[],dflt:"scatter"},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0},showlegend:{valType:"boolean",dflt:!0},legendgroup:{valType:"string",dflt:""},opacity:{valType:"number",min:0,max:1,dflt:1},name:{valType:"string"},uid:{valType:"string",dflt:""},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],dflt:"all"},stream:{token:{valType:"string",noBlank:!0,strict:!0},maxpoints:{valType:"number",min:0}}}},{}],661:[function(t,e,n){"use strict";e.exports={xaxis:{valType:"subplotid",dflt:"x"},yaxis:{valType:"subplotid",dflt:"y"}}},{}],662:[function(t,e,n){"use strict";function r(t){var e,n,r=t.tickvals,o=t.ticktext,i=new Array(r.length),a=1.0001*t.range[0]-1e-4*t.range[1],l=1.0001*t.range[1]-1e-4*t.range[0],u=Math.min(a,l),c=Math.max(a,l),f=0;
for(Array.isArray(o)||(o=[]),n=0;n<r.length;n++)e=t.d2l(r[n]),e>u&&e<c&&(void 0===o[n]?i[f]=k.tickText(t,e):i[f]=s(t,e,String(o[n])),f++);return f<r.length&&i.splice(f,r.length-f),i}function o(t,e,n){return e*x.roundUp(t/e,n)}function i(t){var e,n=t.dtick;if(t._tickexponent=0,b(n)||"string"==typeof n||(n=1),"category"===t.type)t._tickround=null;else if(b(n)||"L"===n.charAt(0))if("date"===t.type)n>=864e5?t._tickround="d":n>=36e5?t._tickround="H":n>=6e4?t._tickround="M":n>=1e3?t._tickround="S":t._tickround=3-Math.round(Math.log(n/2)/Math.LN10);else{b(n)||(n=Number(n.substr(1))),t._tickround=2-Math.floor(Math.log(n)/Math.LN10+.01),e="log"===t.type?Math.pow(10,Math.max(t.range[0],t.range[1])):Math.max(Math.abs(t.range[0]),Math.abs(t.range[1]));var r=Math.floor(Math.log(e)/Math.LN10+.01);Math.abs(r)>3&&("SI"===t.exponentformat||"B"===t.exponentformat?t._tickexponent=3*Math.round((r-1)/3):t._tickexponent=r)}else"M"===n.charAt(0)?t._tickround=2===n.length?"m":"y":t._tickround=null}function a(t,e){var n=t.match(U),r=new Date(e);if(n){var o=Math.min(+n[1]||6,6),i=String(e/1e3%1+2.0000005).substr(2,o).replace(/0+$/,"")||"0";return g.time.format(t.replace(U,i))(r)}return g.time.format(t)(r)}function s(t,e,n){var r=t.tickfont||t._gd._fullLayout.font;return{x:e,dx:0,dy:0,text:n||"",fontSize:r.size,font:r.family,fontColor:r.color}}function l(t,e,n,r){var o,i=e.x,s=t._tickround,l=new Date(i),u="";n&&t.hoverformat?o=a(t.hoverformat,i):t.tickformat?o=a(t.tickformat,i):(r&&(b(s)?s+=2:s={y:"m",m:"d",d:"H",H:"M",M:"S",S:2}[s]),"y"===s?o=j(l):"m"===s?o=F(l):(i!==t._tmin||n||(u="<br>"+j(l)),"d"===s?o=R(l):"H"===s?o=N(l):(i!==t._tmin||n||(u="<br>"+R(l)+", "+j(l)),o=z(l),"M"!==s&&(o+=B(l),"S"!==s&&(o+=p(v(i/1e3,1),t,"none",n).substr(1)))))),e.text=o+u}function u(t,e,n,r,o){var i=t.dtick,a=e.x;if(!r||"string"==typeof i&&"L"===i.charAt(0)||(i="L3"),t.tickformat||"string"==typeof i&&"L"===i.charAt(0))e.text=p(Math.pow(10,a),t,o,r);else if(b(i)||"D"===i.charAt(0)&&v(a+.01,1)<.1)if(["e","E","power"].indexOf(t.exponentformat)!==-1){var s=Math.round(a);0===s?e.text=1:1===s?e.text="10":s>1?e.text="10<sup>"+s+"</sup>":e.text="10<sup>"+-s+"</sup>",e.fontSize*=1.25}else e.text=p(Math.pow(10,a),t,"","fakehover"),"D1"===i&&"y"===t._id.charAt(0)&&(e.dy-=e.fontSize/6);else{if("D"!==i.charAt(0))throw"unrecognized dtick "+String(i);e.text=String(Math.round(Math.pow(10,v(a,1)))),e.fontSize*=.75}if("D1"===t.dtick){var l=String(e.text).charAt(0);"0"!==l&&"1"!==l||("y"===t._id.charAt(0)?e.dx-=e.fontSize/4:(e.dy+=e.fontSize/2,e.dx+=(t.range[1]>t.range[0]?1:-1)*e.fontSize*(a<0?.5:.25)))}}function c(t,e){var n=t._categories[Math.round(e.x)];void 0===n&&(n=""),e.text=String(n)}function f(t,e,n,r,o){"all"===t.showexponent&&Math.abs(e.x/t.dtick)<1e-6&&(o="hide"),e.text=p(e.x,t,o,r)}function p(t,e,n,r){var o=t<0,a=e._tickround,s=n||e.exponentformat||"B",l=e._tickexponent,u=e.tickformat,c=e.separatethousands;if(r){var f={exponentformat:e.exponentformat,dtick:"none"===e.showexponent?e.dtick:b(t)?Math.abs(t)||1:1,range:"none"===e.showexponent?e.range:[0,t||1]};i(f),a=(Number(f._tickround)||0)+4,l=f._tickexponent,e.hoverformat&&(u=e.hoverformat)}if(u)return g.format(u)(t).replace(/-/g,"");var p=Math.pow(10,-a)/2;if("none"===s&&(l=0),t=Math.abs(t),t<p)t="0",o=!1;else{if(t+=p,l&&(t*=Math.pow(10,-l),a+=l),0===a)t=String(Math.floor(t));else if(a<0){t=String(Math.round(t)),t=t.substr(0,t.length+a);for(var h=a;h<0;h++)t+="0"}else{t=String(t);var d=t.indexOf(".")+1;d&&(t=t.substr(0,d+a).replace(/\.?0+$/,""))}t=x.numSeparate(t,e._gd._fullLayout.separators,c)}if(l&&"hide"!==s){var m;m=l<0?""+-l:"power"!==s?"+"+l:String(l),"e"===s||("SI"===s||"B"===s)&&(l>12||l<-15)?t+="e"+m:"E"===s?t+="E"+m:"power"===s?t+="10<sup>"+m+"</sup>":"B"===s&&9===l?t+="B":"SI"!==s&&"B"!==s||(t+=W[l/3+5])}return o?""+t:t}function h(t,e){var n,r,o=[];for(n=0;n<e.length;n++){var i=[],a=t._fullData[e[n]].xaxis,s=t._fullData[e[n]].yaxis;if(a&&s){for(r=0;r<o.length;r++)o[r].x.indexOf(a)===-1&&o[r].y.indexOf(s)===-1||i.push(r);if(i.length){var l,u=o[i[0]];if(i.length>1)for(r=1;r<i.length;r++)l=o[i[r]],d(u.x,l.x),d(u.y,l.y);d(u.x,[a]),d(u.y,[s])}else o.push({x:[a],y:[s]})}}return o}function d(t,e){for(var n=0;n<e.length;n++)t.indexOf(e[n])===-1&&t.push(e[n])}function m(t,e,n){var r,o,i=[],a=[],s=t.layout;for(r=0;r<e.length;r++)i.push(k.getFromId(t,e[r]));for(r=0;r<n.length;r++)a.push(k.getFromId(t,n[r]));var l=Object.keys(i[0]),u=["anchor","domain","overlaying","position","side","tickangle"],c=["linear","log"];for(r=0;r<l.length;r++){var f=l[r],p=i[0][f],h=a[0][f],d=!0,m=!1,v=!1;if("_"!==f.charAt(0)&&"function"!=typeof p&&u.indexOf(f)===-1){for(o=1;o<i.length&&d;o++){var g=i[o][f];"type"===f&&c.indexOf(p)!==-1&&c.indexOf(g)!==-1&&p!==g?m=!0:g!==p&&(d=!1)}for(o=1;o<a.length&&d;o++){var b=a[o][f];"type"===f&&c.indexOf(h)!==-1&&c.indexOf(b)!==-1&&h!==b?v=!0:a[o][f]!==h&&(d=!1)}d&&(m&&(s[i[0]._name].type="linear"),v&&(s[a[0]._name].type="linear"),y(s,f,i,a))}}for(r=0;r<t._fullLayout.annotations.length;r++){var _=t._fullLayout.annotations[r];e.indexOf(_.xref)!==-1&&n.indexOf(_.yref)!==-1&&x.swapAttrs(s.annotations[r],["?"])}}function y(t,e,n,r){var o,i=x.nestedProperty,a=i(t[n[0]._name],e).get(),s=i(t[r[0]._name],e).get();for("title"===e&&("Click to enter X axis title"===a&&(a="Click to enter Y axis title"),"Click to enter Y axis title"===s&&(s="Click to enter X axis title")),o=0;o<n.length;o++)i(t,n[o]._name+"."+e).set(s);for(o=0;o<r.length;o++)i(t,r[o]._name+"."+e).set(a)}function v(t,e){return(t%e+e)%e}var g=t("d3"),b=t("fast-isnumeric"),_=t("../../registry"),x=t("../../lib"),w=t("../../lib/svg_text_utils"),T=t("../../components/titles"),E=t("../../components/color"),C=t("../../components/drawing"),k=e.exports={};k.layoutAttributes=t("./layout_attributes"),k.supplyLayoutDefaults=t("./layout_defaults"),k.setConvert=t("./set_convert");var S=t("./axis_ids");k.id2name=S.id2name,k.cleanId=S.cleanId,k.list=S.list,k.listIds=S.listIds,k.getFromId=S.getFromId,k.getFromTrace=S.getFromTrace,k.coerceRef=function(t,e,n,r,o){var i=n._fullLayout._has("gl2d")?[]:k.listIds(n,r),a=r+"ref",s={};return s[a]={valType:"enumerated",values:i.concat(["paper"]),dflt:o||i[0]||"paper"},x.coerce(t,e,s,a)},k.coerceARef=function(t,e,n,r,o){var i=n._fullLayout._has("gl2d")?[]:k.listIds(n,r),a="a"+r+"ref",s={};return s[a]={valType:"enumerated",values:i.concat(["pixel"]),dflt:o||"pixel"||i[0]},x.coerce(t,e,s,a)},k.clearTypes=function(t,e){Array.isArray(e)&&e.length||(e=t._fullData.map(function(t,e){return e})),e.forEach(function(e){var n=t.data[e];delete(k.getFromId(t,n.xaxis)||{}).type,delete(k.getFromId(t,n.yaxis)||{}).type})},k.counterLetter=function(t){var e=t.charAt(0);return"x"===e?"y":"y"===e?"x":void 0},k.minDtick=function(t,e,n,r){["log","category"].indexOf(t.type)===-1&&r?null===t._minDtick?(t._minDtick=e,t._forceTick0=n):t._minDtick&&((t._minDtick/e+1e-6)%1<2e-6&&((n-t._forceTick0)/e%1+1.000001)%1<2e-6?(t._minDtick=e,t._forceTick0=n):((e/t._minDtick+1e-6)%1>2e-6||((n-t._forceTick0)/t._minDtick%1+1.000001)%1>2e-6)&&(t._minDtick=0)):t._minDtick=0},k.getAutoRange=function(t){var e,n=[],r=t._min[0].val,o=t._max[0].val;for(e=1;e<t._min.length&&r===o;e++)r=Math.min(r,t._min[e].val);for(e=1;e<t._max.length&&r===o;e++)o=Math.max(o,t._max[e].val);var i,a,s,l,u,c,f,p=0,h=t.range&&t.range[1]<t.range[0];for("reversed"===t.autorange&&(h=!0,t.autorange=!0),e=0;e<t._min.length;e++)for(a=t._min[e],i=0;i<t._max.length;i++)s=t._max[i],f=s.val-a.val,c=t._length-a.pad-s.pad,f>0&&c>0&&f/c>p&&(l=a,u=s,p=f/c);if(r===o){var d=r-1,m=r+1;n="tozero"===t.rangemode?r<0?[d,0]:[0,m]:"nonnegative"===t.rangemode?[Math.max(0,d),Math.max(0,m)]:[d,m]}else p&&("linear"!==t.type&&"-"!==t.type||("tozero"===t.rangemode?(l.val>=0&&(l={val:0,pad:0}),u.val<=0&&(u={val:0,pad:0})):"nonnegative"===t.rangemode&&(l.val-p*l.pad<0&&(l={val:0,pad:0}),u.val<0&&(u={val:1,pad:0})),p=(u.val-l.val)/(t._length-l.pad-u.pad)),n=[l.val-p*l.pad,u.val+p*u.pad]);return n[0]===n[1]&&("tozero"===t.rangemode?n=n[0]<0?[n[0],0]:n[0]>0?[0,n[0]]:[0,1]:(n=[n[0]-1,n[0]+1],"nonnegative"===t.rangemode&&(n[0]=Math.max(0,n[0])))),h&&n.reverse(),n},k.doAutoRange=function(t){t._length||t.setScale();var e=t._min&&t._max&&t._min.length&&t._max.length;if(t.autorange&&e){t.range=k.getAutoRange(t);var n=t._gd.layout[t._name];n||(t._gd.layout[t._name]=n={}),n!==t&&(n.range=t.range.slice(),n.autorange=t.autorange)}},k.saveRangeInitial=function(t,e){for(var n=k.list(t,"",!0),r=!1,o=0;o<n.length;o++){var i=n[o],a=void 0===i._rangeInitial,s=a||!(i.range[0]===i._rangeInitial[0]&&i.range[1]===i._rangeInitial[1]);(a&&i.autorange===!1||e&&s)&&(i._rangeInitial=i.range.slice(),r=!0)}return r};var P=Number.MAX_VALUE/2;k.expand=function(t,e,n){function r(t){if(Array.isArray(t))return function(e){return Math.max(Number(t[e]||0),0)};var e=Math.max(Number(t||0),0);return function(){return e}}function o(n){function r(t){return b(t)&&Math.abs(t)<P}if(l=e[n],b(l)){if(f=_(n)+v,p=x(n)+v,d=l-T(n),m=l+w(n),"log"===t.type&&d<m/10&&(d=m/10),u=t.c2l(d),c=t.c2l(m),g&&(u=Math.min(0,u),c=Math.max(0,c)),r(u)){for(h=!0,a=0;a<t._min.length&&h;a++)s=t._min[a],s.val<=u&&s.pad>=p?h=!1:s.val>=u&&s.pad<=p&&(t._min.splice(a,1),a--);h&&t._min.push({val:u,pad:g&&0===u?0:p})}if(r(c)){for(h=!0,a=0;a<t._max.length&&h;a++)s=t._max[a],s.val>=c&&s.pad>=f?h=!1:s.val<=c&&s.pad<=f&&(t._max.splice(a,1),a--);h&&t._max.push({val:c,pad:g&&0===c?0:f})}}}if((t.autorange||t._needsExpand)&&e){t._min||(t._min=[]),t._max||(t._max=[]),n||(n={}),t._m||t.setScale();var i,a,s,l,u,c,f,p,h,d,m,y=e.length,v=n.padded?.05*t._length:0,g=n.tozero&&("linear"===t.type||"-"===t.type),_=r((t._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),x=r((t._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),w=r(n.vpadplus||n.vpad),T=r(n.vpadminus||n.vpad);for(i=0;i<6;i++)o(i);for(i=y-1;i>5;i--)o(i)}},k.autoBin=function(t,e,n,r){function o(t){return(1+100*(t-h)/f.dtick)%100<2}var i=x.aggNums(Math.min,null,t),a=x.aggNums(Math.max,null,t);if("category"===e.type)return{start:i-.5,end:a+.5,size:1};var s;if(n)s=(a-i)/n;else{var l=x.distinctVals(t),u=Math.pow(10,Math.floor(Math.log(l.minDiff)/Math.LN10)),c=u*x.roundUp(l.minDiff/u,[.9,1.9,4.9,9.9],!0);s=Math.max(c,2*x.stdev(t)/Math.pow(t.length,r?.25:.4))}var f={type:"log"===e.type?"linear":e.type,range:[i,a]};k.autoTicks(f,s);var p,h=k.tickIncrement(k.tickFirst(f),f.dtick,"reverse");if("number"==typeof f.dtick){for(var d=0,m=0,y=0,v=0,g=0;g<t.length;g++)t[g]%1===0?y++:b(t[g])||v++,o(t[g])&&d++,o(t[g]+f.dtick/2)&&m++;var _=t.length-v;if(y===_&&"date"!==e.type)f.dtick<1?h=i-.5*f.dtick:h-=.5;else if(m<.1*_&&(d>.3*_||o(i)||o(a))){var w=f.dtick/2;h+=h+w<i?w:-w}var T=1+Math.floor((a-h)/f.dtick);p=h+T*f.dtick}else for(p=h;p<=a;)p=k.tickIncrement(p,f.dtick);return{start:h,end:p,size:f.dtick}},k.calcTicks=function(t){if("array"===t.tickmode)return r(t);if("auto"===t.tickmode||!t.dtick){var e,n=t.nticks;n||("category"===t.type?(e=t.tickfont?1.2*(t.tickfont.size||12):15,n=t._length/e):(e="y"===t._id.charAt(0)?40:80,n=x.constrain(t._length/e,4,9)+1)),k.autoTicks(t,Math.abs(t.range[1]-t.range[0])/n),t._minDtick>0&&t.dtick<2*t._minDtick&&(t.dtick=t._minDtick,t.tick0=t._forceTick0)}t.tick0||(t.tick0="date"===t.type?new Date(2e3,0,1).getTime():0),i(t),t._tmin=k.tickFirst(t);var o=t.range[1]<t.range[0],a=[],s=1.0001*t.range[1]-1e-4*t.range[0];"category"===t.type&&(s=o?Math.max(-.5,s):Math.min(t._categories.length-.5,s));for(var l=t._tmin;(o?l>=s:l<=s)&&(a.push(l),!(a.length>1e3));l=k.tickIncrement(l,t.dtick,o));t._tmax=a[a.length-1];for(var u=new Array(a.length),c=0;c<a.length;c++)u[c]=k.tickText(t,a[c]);return u};var M=[2,5,10],A=[1,2,3,6,12],O=[1,2,5,10,15,30],D=[1,2,3,7,14],L=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],I=[-.301,0,.301,.699,1];k.autoTicks=function(t,e){var n;if("date"===t.type)t.tick0=new Date(2e3,0,1).getTime(),e>157788e5?(e/=315576e5,n=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick="M"+12*o(e,n,M)):e>12096e5?(e/=26298e5,t.dtick="M"+o(e,1,A)):e>432e5?(t.dtick=o(e,864e5,D),t.tick0=new Date(2e3,0,2).getTime()):e>18e5?t.dtick=o(e,36e5,A):e>3e4?t.dtick=o(e,6e4,O):e>500?t.dtick=o(e,1e3,O):(n=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick=o(e,n,M));else if("log"===t.type)if(t.tick0=0,e>.7)t.dtick=Math.ceil(e);else if(Math.abs(t.range[1]-t.range[0])<1){var r=1.5*Math.abs((t.range[1]-t.range[0])/e);e=Math.abs(Math.pow(10,t.range[1])-Math.pow(10,t.range[0]))/r,n=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick="L"+o(e,n,M)}else t.dtick=e>.3?"D2":"D1";else"category"===t.type?(t.tick0=0,t.dtick=Math.ceil(Math.max(e,1))):(t.tick0=0,n=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick=o(e,n,M));if(0===t.dtick&&(t.dtick=1),!b(t.dtick)&&"string"!=typeof t.dtick){var i=t.dtick;throw t.dtick=1,"ax.dtick error: "+String(i)}},k.tickIncrement=function(t,e,n){var r=n?-1:1;if(b(e))return t+r*e;var o=e.charAt(0),i=r*Number(e.substr(1));if("M"===o){var a=new Date(t);return a.setMonth(a.getMonth()+i)}if("L"===o)return Math.log(Math.pow(10,t)+i)/Math.LN10;if("D"===o){var s="D2"===e?I:L,l=t+.01*r,u=x.roundUp(v(l,1),s,n);return Math.floor(l)+Math.log(g.round(Math.pow(10,u),1))/Math.LN10}throw"unrecognized dtick "+String(e)},k.tickFirst=function(t){var e=t.range[1]<t.range[0],n=e?Math.floor:Math.ceil,r=1.0001*t.range[0]-1e-4*t.range[1],o=t.dtick,i=t.tick0;if(b(o)){var a=n((r-i)/o)*o+i;return"category"===t.type&&(a=x.constrain(a,0,t._categories.length-1)),a}var s,l,u,c=o.charAt(0),f=Number(o.substr(1));if("M"===c){for(s=new Date(i),r=new Date(r),l=12*(r.getFullYear()-s.getFullYear())+r.getMonth()-s.getMonth(),u=s.setMonth(s.getMonth()+(Math.round(l/f)+(e?1:-1))*f);e?u>r:u<r;)u=k.tickIncrement(u,o,e);return u}if("L"===c)return Math.log(n((Math.pow(10,r)-i)/f)*f+i)/Math.LN10;if("D"===c){var p="D2"===o?I:L,h=x.roundUp(v(r,1),p,e);return Math.floor(r)+Math.log(g.round(Math.pow(10,h),1))/Math.LN10}throw"unrecognized dtick "+String(o)};var j=g.time.format("%Y"),F=g.time.format("%b %Y"),R=g.time.format("%b %-d"),N=g.time.format("%b %-d %Hh"),z=g.time.format("%H:%M"),B=g.time.format(":%S"),U=/%(\d?)f/g;k.tickText=function(t,e,n){function r(r){var o;return void 0===r||(n?"none"===r:(o={first:t._tmin,last:t._tmax}[r],"all"!==r&&e!==o))}var o,i,a=s(t,e),p="array"===t.tickmode,h=n||p;if(p&&Array.isArray(t.ticktext)){var d=Math.abs(t.range[1]-t.range[0])/1e4;for(i=0;i<t.ticktext.length&&!(Math.abs(e-t.d2l(t.tickvals[i]))<d);i++);if(i<t.ticktext.length)return a.text=String(t.ticktext[i]),a}return o="none"!==t.exponentformat&&r(t.showexponent)?"hide":"","date"===t.type?l(t,a,n,h):"log"===t.type?u(t,a,n,h,o):"category"===t.type?c(t,a):f(t,a,n,h,o),t.tickprefix&&!r(t.showtickprefix)&&(a.text=t.tickprefix+a.text),t.ticksuffix&&!r(t.showticksuffix)&&(a.text+=t.ticksuffix),a};var W=["f","p","n","","m","","k","M","G","T"];k.subplotMatch=/^x([0-9]*)y([0-9]*)$/,k.getSubplots=function(t,e){function n(t,e){return t.indexOf(e._id)!==-1}var r,o,i,a=[],s=t.data||[];for(r=0;r<s.length;r++){var l=s[r];if(l.visible!==!1&&"legendonly"!==l.visible&&(_.traceIs(l,"cartesian")||_.traceIs(l,"gl2d"))){var u=l.xaxis||"x",c=l.yaxis||"y";i=u+c,a.indexOf(i)===-1&&a.push(i)}}var f=k.list(t,"",!0);for(r=0;r<f.length;r++){var p=f[r],h=p._id.charAt(0),d="free"===p.anchor?"x"===h?"y":"x":p.anchor,m=k.getFromId(t,d),y=!1;for(o=0;o<a.length;o++)if(n(a[o],p)){y=!0;break}"free"===p.anchor&&y||m&&(i="x"===h?p._id+m._id:m._id+p._id,a.indexOf(i)===-1&&a.push(i))}var v=k.subplotMatch,g=[];for(r=0;r<a.length;r++)i=a[r],v.test(i)&&g.push(i);return g.sort(function(t,e){var n=t.match(v),r=e.match(v);return n[1]===r[1]?+(n[2]||1)-(r[2]||1):+(n[1]||0)-(r[1]||0)}),e?k.findSubplotsWithAxis(g,e):g},k.findSubplotsWithAxis=function(t,e){for(var n=new RegExp("x"===e._id.charAt(0)?"^"+e._id+"y":e._id+"$"),r=[],o=0;o<t.length;o++){var i=t[o];n.test(i)&&r.push(i)}return r},k.makeClipPaths=function(t){var e,n,r=t._fullLayout,o=r._defs,i={_offset:0,_length:r.width,_id:""},a={_offset:0,_length:r.height,_id:""},s=k.list(t,"x",!0),l=k.list(t,"y",!0),u=[];for(e=0;e<s.length;e++)for(u.push({x:s[e],y:a}),n=0;n<l.length;n++)0===e&&u.push({x:i,y:l[n]}),u.push({x:s[e],y:l[n]});var c=o.selectAll("g.clips").data([0]);c.enter().append("g").classed("clips",!0);var f=c.selectAll(".axesclip").data(u,function(t){return t.x._id+t.y._id});f.enter().append("clipPath").classed("axesclip",!0).attr("id",function(t){return"clip"+r._uid+t.x._id+t.y._id}).append("rect"),f.exit().remove(),f.each(function(t){g.select(this).select("rect").attr({x:t.x._offset||0,y:t.y._offset||0,width:t.x._length||1,height:t.y._length||1})})},k.doTicks=function(t,e,n){function r(t){var e=u.l2p(t.x);return e>1&&e<u._length-1}function o(t,e){var n=t.selectAll("path."+A).data("inside"===u.ticks?W:P,M);e&&u.ticks?(n.enter().append("path").classed(A,1).classed("ticks",1).classed("crisp",1).call(E.stroke,u.tickcolor).style("stroke-width",N+"px").attr("d",e),n.attr("transform",h),n.exit().remove()):n.remove()}function i(n,r){function o(t,e){t.each(function(t){var n=d(e),r=g.select(this),o=r.select(".text-math-group"),i=h(t)+(b(e)&&0!==+e?" rotate("+e+","+f(t)+","+(p(t)-t.fontSize/2)+")":"");if(o.empty()){var a=r.select("text").attr({transform:i,"text-anchor":n});a.empty()||a.selectAll("tspan.line").attr({x:a.attr("x"),y:a.attr("y")})}else{var s=C.bBox(o.node()).width*{end:-.5,start:.5}[n];o.attr("transform",i+(s?"translate("+s+",0)":""))}})}function i(){return k.length&&Promise.all(k)}function s(){if(o(c,u.tickangle),"x"===y&&!b(u.tickangle)&&("log"!==u.type||"D"!==String(u.dtick).charAt(0))){var t=[];for(c.each(function(e){var n=g.select(this),r=n.select(".text-math-group"),o=u.l2p(e.x);r.empty()&&(r=n.select("text"));var i=C.bBox(r.node());t.push({top:0,bottom:10,height:10,left:o-i.width/2,right:o+i.width/2+2,width:i.width+2})}),m=0;m<t.length-1;m++)if(x.bBoxIntersect(t[m],t[m+1])){E=30;break}if(E){var n=Math.abs((P[P.length-1].x-P[0].x)*u._m)/(P.length-1);n<2.5*T&&(E=90),o(c,E)}u._lastangle=E}return a(e),e+" done"}function l(){u._boundingBox=n.node().getBoundingClientRect()}var c=n.selectAll("g."+A).data(P,M);if(!u.showticklabels||!b(r))return c.remove(),void a(e);var f,p,d,v,_;"x"===y?(_="bottom"===B?1:-1,f=function(t){return t.dx+j*_},v=r+(I+L)*_,p=function(t){return t.dy+v+t.fontSize*("bottom"===B?1:-.5)},d=function(t){return b(t)&&0!==t&&180!==t?t*_<0?"end":"start":"middle"}):(_="right"===B?1:-1,p=function(t){return t.dy+t.fontSize/2-j*_},f=function(t){return t.dx+r+(I+L+(90===Math.abs(u.tickangle)?t.fontSize/2:0))*_},d=function(t){return b(t)&&90===Math.abs(t)?"middle":"right"===B?"start":"end"});var T=0,E=0,k=[];c.enter().append("g").classed(A,1).append("text").attr("text-anchor","middle").each(function(e){var n=g.select(this),r=t._promises.length;n.call(C.setPosition,f(e),p(e)).call(C.font,e.font,e.fontSize,e.fontColor).text(e.text).call(w.convertToTspans),r=t._promises[r],r?k.push(t._promises.pop().then(function(){o(n,u.tickangle)})):o(n,u.tickangle)}),c.exit().remove(),c.each(function(t){T=Math.max(T,t.fontSize)}),o(c,u._lastangle||u.tickangle);var S=x.syncOrAsync([i,s,l]);return S&&S.then&&t._promises.push(S),S}function a(e){if(!n){var r,o,i,a,s=S.getFromId(t,e),l=g.select(t).selectAll("g."+e+"tick"),u={selection:l,side:s.side},f=e.charAt(0),p=t._fullLayout._size,h=1.5,d=s.titlefont.size;if(l.size()){var m=g.select(l.node().parentNode).attr("transform").match(/translate\(([-\.\d]+),([-\.\d]+)\)/);m&&(u.offsetLeft=+m[1],u.offsetTop=+m[2])}"x"===f?(o="free"===s.anchor?{_offset:p.t+(1-(s.position||0))*p.h,_length:0}:S.getFromId(t,s.anchor),i=s._offset+s._length/2,a=o._offset+("top"===s.side?-10-d*(h+(s.showticklabels?1:0)):o._length+10+d*(h+(s.showticklabels?1.5:.5))),s.rangeslider&&s.rangeslider.visible&&s._boundingBox&&(a+=(c.height-c.margin.b-c.margin.t)*s.rangeslider.thickness+s._boundingBox.height),u.side||(u.side="bottom")):(o="free"===s.anchor?{_offset:p.l+(s.position||0)*p.w,_length:0}:S.getFromId(t,s.anchor),a=s._offset+s._length/2,i=o._offset+("right"===s.side?o._length+10+d*(h+(s.showticklabels?1:.5)):-10-d*(h+(s.showticklabels?.5:0))),r={rotate:"-90",offset:0},u.side||(u.side="left")),T.draw(t,e+"title",{propContainer:s,propName:s._name+".title",dfltName:f.toUpperCase()+" axis",avoid:u,transform:r,attributes:{x:i,y:a,"text-anchor":"middle"}})}}function s(t,e){return t.visible===!0&&t.xaxis+t.yaxis===e&&(!(!_.traceIs(t,"bar")||t.orientation!=={x:"h",y:"v"}[y])||t.fill&&t.fill.charAt(t.fill.length-1)===y)}function l(e,n,o){var i=e.gridlayer,a=e.zerolinelayer,l=e["hidegrid"+y]?[]:W,c=u._gridpath||"M0,0"+("x"===y?"v":"h")+n._length,f=i.selectAll("path."+O).data(u.showgrid===!1?[]:l,M);if(f.enter().append("path").classed(O,1).classed("crisp",1).attr("d",c).each(function(t){u.zeroline&&("linear"===u.type||"-"===u.type)&&Math.abs(t.x)<u.dtick/100&&g.select(this).remove()}),f.attr("transform",h).call(E.stroke,u.gridcolor||"#ddd").style("stroke-width",F+"px"),f.exit().remove(),a){for(var p=!1,d=0;d<t._fullData.length;d++)if(s(t._fullData[d],o)){p=!0;break}var m=u.range[0]*u.range[1]<=0&&u.zeroline&&("linear"===u.type||"-"===u.type)&&l.length&&(p||r({x:0})||!u.showline),v=a.selectAll("path."+D).data(m?[{x:0}]:[]);v.enter().append("path").classed(D,1).classed("zl",1).classed("crisp",1).attr("d",c),v.attr("transform",h).call(E.stroke,u.zerolinecolor||E.defaultLine).style("stroke-width",R+"px"),v.exit().remove()}}var u,c=t._fullLayout,f=!1;if("object"==typeof e)u=e,e=u._id,f=!0;else if(u=k.getFromId(t,e),"redraw"===e&&c._paper.selectAll("g.subplot").each(function(t){var e=c._plots[t],n=e.x(),r=e.y();e.xaxislayer.selectAll("."+n._id+"tick").remove(),e.yaxislayer.selectAll("."+r._id+"tick").remove(),e.gridlayer.selectAll("path").remove(),e.zerolinelayer.selectAll("path").remove()}),!e||"redraw"===e)return x.syncOrAsync(k.list(t,"",!0).map(function(n){return function(){if(n._id){var r=k.doTicks(t,n._id);return"redraw"===e&&(n._r=n.range.slice()),r}}}));u.tickformat||(["none","e","E","power","SI","B"].indexOf(u.exponentformat)===-1&&(u.exponentformat="e"),["all","first","last","none"].indexOf(u.showexponent)===-1&&(u.showexponent="all")),u.range=[+u.range[0],+u.range[1]],u.setScale();var p,h,d,m,y=e.charAt(0),v=k.counterLetter(e),P=k.calcTicks(u),M=function(t){return t.text+t.x+u.mirror},A=e+"tick",O=e+"grid",D=e+"zl",L=(u.linewidth||1)/2,I=("outside"===u.ticks?u.ticklen:1)+(u.linewidth||0),j=0,F=C.crispRound(t,u.gridwidth,1),R=C.crispRound(t,u.zerolinewidth,F),N=C.crispRound(t,u.tickwidth,1);if(u._counterangle&&"outside"===u.ticks){var z=u._counterangle*Math.PI/180;I=u.ticklen*Math.cos(z)+(u.linewidth||0),j=u.ticklen*Math.sin(z)}if("x"===y)p=["bottom","top"],h=function(t){return"translate("+u.l2p(t.x)+",0)"},d=function(t,e){if(u._counterangle){var n=u._counterangle*Math.PI/180;return"M0,"+t+"l"+Math.sin(n)*e+","+Math.cos(n)*e}return"M0,"+t+"v"+e};else{if("y"!==y)return void x.warn("Unrecognized doTicks axis:",e);p=["left","right"],h=function(t){return"translate(0,"+u.l2p(t.x)+")"},d=function(t,e){if(u._counterangle){var n=u._counterangle*Math.PI/180;return"M"+t+",0l"+Math.cos(n)*e+","+-Math.sin(n)*e}return"M"+t+",0h"+e}}var B=u.side||p[0],U=[-1,1,B===p[1]?1:-1];"inside"!==u.ticks==("x"===y)&&(U=U.map(function(t){return-t}));var W=P.filter(r);if(f){if(o(u._axislayer,d(u._pos+L*U[2],U[2]*u.ticklen)),u._counteraxis){var q={gridlayer:u._gridlayer,zerolinelayer:u._zerolinelayer};l(q,u._counteraxis)}return i(u._axislayer,u._pos)}var V=k.getSubplots(t,u).map(function(t){var e=c._plots[t];if(c._has("cartesian")){var n=e[y+"axislayer"],r=u._linepositions[t]||[],a=e[v](),s=a._id===u.anchor,f=[!1,!1,!1],h="";if("allticks"===u.mirror?f=[!0,!0,!1]:s&&("ticks"===u.mirror?f=[!0,!0,!1]:f[p.indexOf(B)]=!0),u.mirrors)for(m=0;m<2;m++){var g=u.mirrors[a._id+p[m]];"ticks"!==g&&"labels"!==g||(f[m]=!0)}return void 0!==r[2]&&(f[2]=!0),f.forEach(function(t,e){var n=r[e],o=U[e];t&&b(n)&&(h+=d(n+L*o,o*u.ticklen))}),o(n,h),l(e,a,t),i(n,r[3])}}).filter(function(t){return t&&t.then});return V.length?Promise.all(V):0},k.swap=function(t,e){for(var n=h(t,e),r=0;r<n.length;r++)m(t,n[r].x,n[r].y)}},{"../../components/color":540,"../../components/drawing":563,"../../components/titles":610,"../../lib":633,"../../lib/svg_text_utils":647,"../../registry":735,"./axis_ids":664,"./layout_attributes":671,"./layout_defaults":672,"./set_convert":676,d3:125,"fast-isnumeric":129}],663:[function(t,e,n){"use strict";function r(t,e){if("-"===t.type){var n=t._id,r=n.charAt(0);n.indexOf("scene")!==-1&&(n=r);var l=s(e,n,r);if(l){if("histogram"===l.type&&r==={v:"y",h:"x"}[l.orientation||"v"])return void(t.type="linear");if(i(l,r)){for(var u,c=o(l),f=[],p=0;p<e.length;p++)u=e[p],h.traceIs(u,"box")&&(u[r+"axis"]||r)===n&&(void 0!==u[c]?f.push(u[c][0]):void 0!==u.name?f.push(u.name):f.push("text"));t.type=a(f)}else t.type=a(l[r]||[l[r+"0"]])}}}function o(t){return{v:"x",h:"y"}[t.orientation||"v"]}function i(t,e){var n=o(t);return h.traceIs(t,"box")&&e===n&&void 0===t[n]&&void 0===t[n+"0"]}function a(t){return u(t)?"date":c(t)?"category":l(t)?"linear":"-"}function s(t,e,n){for(var r=0;r<t.length;r++){var o=t[r];if((o[n+"axis"]||n)===e){if(i(o,n))return o;if((o[n]||[]).length||o[n+"0"])return o}}}function l(t){if(!t)return!1;for(var e=0;e<t.length;e++)if(f(t[e]))return!0;return!1}function u(t){for(var e,n=0,r=0,o=Math.max(1,(t.length-1)/1e3),i=0;i<t.length;i+=o)e=t[Math.round(i)],d.isDateTime(e)&&(n+=1),f(e)&&(r+=1);return n>2*r}function c(t){for(var e,n=Math.max(1,(t.length-1)/1e3),r=0,o=0,i=0;i<t.length;i+=n)e=T(t[Math.round(i)]),f(e)?r++:"string"==typeof e&&""!==e&&"None"!==e&&o++;return o>2*r}var f=t("fast-isnumeric"),p=t("tinycolor2").mix,h=t("../../registry"),d=t("../../lib"),m=t("../../components/color/attributes").lightFraction,y=t("./layout_attributes"),v=t("./tick_value_defaults"),g=t("./tick_mark_defaults"),b=t("./tick_label_defaults"),_=t("./category_order_defaults"),x=t("./set_convert"),w=t("./ordered_categories"),T=t("./clean_datum"),E=t("./axis_ids");e.exports=function(t,e,n,o){function i(n,r){return d.coerce2(t,e,y,n,r)}var a=o.letter,s=o.font||{},l="Click to enter "+(o.title||a.toUpperCase()+" axis")+" title";o.name&&(e._name=o.name,e._id=E.name2id(o.name));var u=n("type");"-"===u&&(r(e,o.data),"-"===e.type?e.type="linear":u=t.type=e.type),x(e);var c=n("color"),h=c===t.color?c:s.color;n("title",l),d.coerceFont(n,"titlefont",{family:s.family,size:Math.round(1.2*s.size),color:h});var T=2===(t.range||[]).length&&f(t.range[0])&&f(t.range[1]),C=n("autorange",!T);C&&n("rangemode");var k=n("range",[-1,"x"===a?6:4]);k[0]===k[1]&&(e.range=[k[0]-1,k[0]+1]),d.noneOrAll(t.range,e.range,[0,1]),n("fixedrange"),v(t,e,n,u),b(t,e,n,u,o),g(t,e,n,o),_(t,e,n);var S=i("linecolor",c),P=i("linewidth"),M=n("showline",!!S||!!P);M||(delete e.linecolor,delete e.linewidth),(M||e.ticks)&&n("mirror");var A=i("gridcolor",p(c,o.bgColor,m).toRgbString()),O=i("gridwidth"),D=n("showgrid",o.showGrid||!!A||!!O);D||(delete e.gridcolor,delete e.gridwidth);var L=i("zerolinecolor",c),I=i("zerolinewidth"),j=n("zeroline",o.showGrid||!!L||!!I);return j||(delete e.zerolinecolor,delete e.zerolinewidth),e._initialCategories="category"===u?w(a,e.categoryorder,e.categoryarray,o.data):[],e}},{"../../components/color/attributes":539,"../../lib":633,"../../registry":735,"./axis_ids":664,"./category_order_defaults":665,"./clean_datum":666,"./layout_attributes":671,"./ordered_categories":673,"./set_convert":676,"./tick_label_defaults":677,"./tick_mark_defaults":678,"./tick_value_defaults":679,"fast-isnumeric":129,tinycolor2:506}],664:[function(t,e,n){"use strict";function r(t,e,n){function r(t,n){for(var r=Object.keys(t),o=/^[xyz]axis[0-9]*/,i=[],a=0;a<r.length;a++){var s=r[a];e&&s.charAt(0)!==e||o.test(s)&&i.push(n+s)}return i.sort()}var o=t._fullLayout;if(!o)return[];var a=r(o,"");if(n)return a;for(var s=i.getSubplotIds(o,"gl3d")||[],l=0;l<s.length;l++){var u=s[l];a=a.concat(r(o[u],u+"."))}return a}var o=t("../../registry"),i=t("../plots"),a=t("../../lib"),s=t("./constants");n.id2name=function(t){if("string"==typeof t&&t.match(s.AX_ID_PATTERN)){var e=t.substr(1);return"1"===e&&(e=""),t.charAt(0)+"axis"+e}},n.name2id=function(t){if(t.match(s.AX_NAME_PATTERN)){var e=t.substr(5);return"1"===e&&(e=""),t.charAt(0)+e}},n.cleanId=function(t,e){if(t.match(s.AX_ID_PATTERN)&&(!e||t.charAt(0)===e)){var n=t.substr(1).replace(/^0+/,"");return"1"===n&&(n=""),t.charAt(0)+n}},n.list=function(t,e,n){return r(t,e,n).map(function(e){return a.nestedProperty(t._fullLayout,e).get()})},n.listIds=function(t,e){return r(t,e,!0).map(n.name2id)},n.getFromId=function(t,e,r){var o=t._fullLayout;return"x"===r?e=e.replace(/y[0-9]*/,""):"y"===r&&(e=e.replace(/x[0-9]*/,"")),o[n.id2name(e)]},n.getFromTrace=function(t,e,r){var i=t._fullLayout,a=null;if(o.traceIs(e,"gl3d")){var s=e.scene;"scene"===s.substr(0,5)&&(a=i[s][r+"axis"])}else a=n.getFromId(t,e[r+"axis"]||r);return a}},{"../../lib":633,"../../registry":735,"../plots":720,"./constants":667}],665:[function(t,e,n){"use strict";e.exports=function(t,e,n){if("category"===e.type){var r,o=t.categoryarray,i=Array.isArray(o)&&o.length>0;i&&(r="array");var a=n("categoryorder",r);"array"===a&&n("categoryarray"),i||"array"!==a||(e.categoryorder="trace")}}},{}],666:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),o=t("../../lib");e.exports=function(t){try{if("object"==typeof t&&null!==t&&t.getTime)return o.ms2DateTime(t);if("string"!=typeof t&&!r(t))return"";t=t.toString().replace(/['"%,$# ]/g,"")}catch(e){o.error(e,t)}return t}},{"../../lib":633,"fast-isnumeric":129}],667:[function(t,e,n){"use strict";e.exports={idRegex:{x:/^x([2-9]|[1-9][0-9]+)?$/,y:/^y([2-9]|[1-9][0-9]+)?$/},attrRegex:{x:/^xaxis([2-9]|[1-9][0-9]+)?$/,y:/^yaxis([2-9]|[1-9][0-9]+)?$/},BADNUM:void 0,xAxisMatch:/^xaxis[0-9]*$/,yAxisMatch:/^yaxis[0-9]*$/,AX_ID_PATTERN:/^[xyz][0-9]*$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,DBLCLICKDELAY:300,MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,MAXDIST:20,YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,BENDPX:1.5,REDRAWDELAY:50}},{}],668:[function(t,e,n){"use strict";function r(t,e){var n,r=t.range[e],o=Math.abs(r-t.range[1-e]);return"date"===t.type?f.ms2DateTime(r,o):"log"===t.type?(n=Math.ceil(Math.max(0,-Math.log(o)/Math.LN10))+3,s.format("."+n+"g")(Math.pow(10,r))):(n=Math.floor(Math.log(Math.abs(r))/Math.LN10)-Math.floor(Math.log(o)/Math.LN10)+4,s.format("."+String(n)+"g")(r))}function o(t,e){return t?"nsew"===t?"pan"===e?"move":"crosshair":t.toLowerCase()+"-resize":"pointer"}function i(t){s.select(t).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function a(t){var e=["lasso","select"];return e.indexOf(t)!==-1}var s=t("d3"),l=t("tinycolor2"),u=t("../../plotly"),c=t("../../registry"),f=t("../../lib"),p=t("../../lib/svg_text_utils"),h=t("../../components/color"),d=t("../../components/drawing"),m=t("../../lib/setcursor"),y=t("../../components/dragelement"),v=t("./axes"),g=t("./select"),b=t("./constants"),_=!0;e.exports=function(t,e,n,s,x,w,T,E){function C(t,e){for(var n=0;n<t.length;n++)if(!t[n].fixedrange)return e;return""}function k(t){t[0]=Number(t[0]),t[1]=Number(t[1])}function S(){W=[e.x()],q=[e.y()],V=W[0]._length,H=q[0]._length;for(var t=1;t<U.length;t++){var n=U[t].x(),r=U[t].y();W.indexOf(n)===-1&&W.push(n),q.indexOf(r)===-1&&q.push(r)}J=W.concat(q),$=C(W,E),tt=C(q,T),et=o(tt+$,B.dragmode),yt=e.x()._offset,vt=e.y()._offset,it.xa=W,it.ya=q}function P(e,n,r){var o=ot.getBoundingClientRect();at=n-o.left,st=r-o.top,lt={l:at,r:at,w:0,t:st,b:st,h:0},ut=t._hmpixcount?t._hmlumcount/t._hmpixcount:l(t._fullLayout.plot_bgcolor).getLuminance(),ct="M0,0H"+V+"V"+H+"H0V0",ft=!1,pt="xy",ht=mt.append("path").attr("class","zoombox").style({fill:ut>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform","translate("+yt+", "+vt+")").attr("d",ct+"Z"),dt=mt.append("path").attr("class","zoombox-corners").style({fill:h.background,stroke:h.defaultLine,"stroke-width":1,opacity:0}).attr("transform","translate("+yt+", "+vt+")").attr("d","M0,0Z"),M();for(var i=0;i<J.length;i++)k(J[i].range)}function M(){mt.selectAll(".select-outline").remove();
}function A(e,n){if(t._transitioningWithDuration)return!1;var r=Math.max(0,Math.min(V,e+at)),o=Math.max(0,Math.min(H,n+st)),i=Math.abs(r-at),a=Math.abs(o-st),s=Math.floor(Math.min(a,i,Y)/2);lt.l=Math.min(at,r),lt.r=Math.max(at,r),lt.t=Math.min(st,o),lt.b=Math.max(st,o),!tt||a<Math.min(Math.max(.6*i,G),Y)?i<G?(pt="",lt.r=lt.l,lt.t=lt.b,dt.attr("d","M0,0Z")):(lt.t=0,lt.b=H,pt="x",dt.attr("d","M"+(lt.l-.5)+","+(st-Y-.5)+"h-3v"+(2*Y+1)+"h3ZM"+(lt.r+.5)+","+(st-Y-.5)+"h3v"+(2*Y+1)+"h-3Z")):!$||i<Math.min(.6*a,Y)?(lt.l=0,lt.r=V,pt="y",dt.attr("d","M"+(at-Y-.5)+","+(lt.t-.5)+"v-3h"+(2*Y+1)+"v3ZM"+(at-Y-.5)+","+(lt.b+.5)+"v3h"+(2*Y+1)+"v-3Z")):(pt="xy",dt.attr("d","M"+(lt.l-3.5)+","+(lt.t-.5+s)+"h3v"+-s+"h"+s+"v-3h-"+(s+3)+"ZM"+(lt.r+3.5)+","+(lt.t-.5+s)+"h-3v"+-s+"h"+-s+"v-3h"+(s+3)+"ZM"+(lt.r+3.5)+","+(lt.b+.5-s)+"h-3v"+s+"h"+-s+"v3h"+(s+3)+"ZM"+(lt.l-3.5)+","+(lt.b+.5-s)+"h3v"+s+"h"+s+"v3h-"+(s+3)+"Z")),lt.w=lt.r-lt.l,lt.h=lt.b-lt.t,ht.attr("d",ct+"M"+lt.l+","+lt.t+"v"+lt.h+"h"+lt.w+"v-"+lt.h+"h-"+lt.w+"Z"),ft||(ht.transition().style("fill",ut>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),dt.transition().style("opacity",1).duration(200),ft=!0)}function O(t,e,n){var r,o,i;for(r=0;r<t.length;r++)o=t[r],o.fixedrange||(i=o.range,o.range=[i[0]+(i[1]-i[0])*e,i[0]+(i[1]-i[0])*n])}function D(e,n){return Math.min(lt.h,lt.w)<2*G?(2===n&&R(),i(t)):("xy"!==pt&&"x"!==pt||O(W,lt.l/V,lt.r/V),"xy"!==pt&&"y"!==pt||O(q,(H-lt.b)/H,(H-lt.t)/H),i(t),N(pt),void(_&&t.data&&t._context.showTips&&(f.notifier("Double-click to<br>zoom back out","long"),_=!1)))}function L(e,n){var o=1===(T+E).length;if(e)N();else if(2!==n||o){if(1===n&&o){var i=T?q[0]:W[0],a="s"===T||"w"===E?0:1,s=i._name+".range["+a+"]",l=r(i,a),c="left",f="middle";if(i.fixedrange)return;T?(f="n"===T?"top":"bottom","right"===i.side&&(c="right")):"e"===E&&(c="right"),rt.call(p.makeEditable,null,{immediate:!0,background:B.paper_bgcolor,text:String(l),fill:i.tickfont?i.tickfont.color:"#444",horizontalAlign:c,verticalAlign:f}).on("edit",function(e){var n="category"===i.type?i.c2l(e):i.d2l(e);void 0!==n&&u.relayout(t,s,n)})}}else R()}function I(e){function n(t,e,n){if(!t.fixedrange){k(t.range);var r=t.range,o=r[0]+(r[1]-r[0])*e;t.range=[o+(r[0]-o)*n,o+(r[1]-o)*n]}}if(t._context.scrollZoom||B._enablescrollzoom){if(t._transitioningWithDuration)return f.pauseEvent(e);var r=t.querySelector(".plotly");if(S(),!(r.scrollHeight-r.clientHeight>10||r.scrollWidth-r.clientWidth>10)){clearTimeout(bt);var o=-e.deltaY;if(isFinite(o)||(o=e.wheelDelta/10),!isFinite(o))return void f.log("Did not find wheel motion attributes: ",e);var i,a=Math.exp(-Math.min(Math.max(o,-20),20)/100),s=xt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),l=(e.clientX-s.left)/s.width,u=gt[0]+gt[2]*l,c=(s.bottom-e.clientY)/s.height,p=gt[1]+gt[3]*(1-c);if(E){for(i=0;i<W.length;i++)n(W[i],l,a);gt[2]*=a,gt[0]=u-gt[2]*l}if(T){for(i=0;i<q.length;i++)n(q[i],c,a);gt[3]*=a,gt[1]=p-gt[3]*(1-c)}return z(gt),F(T,E),bt=setTimeout(function(){gt=[0,0,V,H],N()},_t),f.pauseEvent(e)}}}function j(e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.fixedrange||(r.range=[r._r[0]-e/r._m,r._r[1]-e/r._m])}}function o(t){return 1-(t>=0?Math.min(t,.9):1/(1/Math.max(t,-.3)+3.222))}function i(t,e,n){for(var r=1-e,i=0,a=0;a<t.length;a++){var s=t[a];s.fixedrange||(i=a,s.range[e]=s._r[r]+(s._r[e]-s._r[r])/o(n/s._length))}return t[i]._length*(t[i]._r[e]-t[i].range[e])/(t[i]._r[e]-t[i]._r[r])}if(!t._transitioningWithDuration){if(S(),"ew"===$||"ns"===tt)return $&&r(W,e),tt&&r(q,n),z([$?-e:0,tt?-n:0,V,H]),void F(tt,$);"w"===$?e=i(W,0,e):"e"===$?e=i(W,1,-e):$||(e=0),"n"===tt?n=i(q,1,n):"s"===tt?n=i(q,0,-n):tt||(n=0),z(["w"===$?e:0,"n"===tt?n:0,V-e,H-n]),F(tt,$)}}function F(e,n){function r(t){for(i=0;i<t.length;i++)t[i].fixedrange||a.push(t[i]._id)}function o(r,o){for(i=0;i<r.length;i++){var s=r[i];(n&&a.indexOf(s.xref)!==-1||e&&a.indexOf(s.yref)!==-1)&&o(t,i)}}var i,a=[];for(n&&r(W),e&&r(q),i=0;i<a.length;i++)v.doTicks(t,a[i],!0);o(B.annotations||[],c.getComponentMethod("annotations","drawOne")),o(B.shapes||[],c.getComponentMethod("shapes","drawOne")),o(B.images||[],c.getComponentMethod("images","draw"))}function R(){if(!t._transitioningWithDuration){var e,n,r,o=t._context.doubleClick,i=($?W:[]).concat(tt?q:[]),a={};if("autosize"===o)for(n=0;n<i.length;n++)e=i[n],e.fixedrange||(a[e._name+".autorange"]=!0);else if("reset"===o)for(n=0;n<i.length;n++)e=i[n],e._rangeInitial?(r=e._rangeInitial.slice(),a[e._name+".range[0]"]=r[0],a[e._name+".range[1]"]=r[1]):a[e._name+".autorange"]=!0;else if("reset+autosize"===o)for(n=0;n<i.length;n++)e=i[n],e.fixedrange||(void 0===e._rangeInitial||e.range[0]===e._rangeInitial[0]&&e.range[1]===e._rangeInitial[1]?a[e._name+".autorange"]=!0:(r=e._rangeInitial.slice(),a[e._name+".range[0]"]=r[0],a[e._name+".range[1]"]=r[1]));t.emit("plotly_doubleclick",null),u.relayout(t,a)}}function N(e){for(var n={},r=0;r<J.length;r++){var o=J[r];e&&e.indexOf(o._id.charAt(0))===-1||(o._r[0]!==o.range[0]&&(n[o._name+".range[0]"]=o.range[0]),o._r[1]!==o.range[1]&&(n[o._name+".range[1]"]=o.range[1]),o.range=o._r.slice())}z([0,0,V,H]),u.relayout(t,n)}function z(t){for(var e,n=B._plots,r=Object.keys(n),o=0;o<r.length;o++){var i=n[r[o]],a=i.x(),s=i.y(),l=E&&!a.fixedrange,u=T&&!s.fixedrange;if(l){var c=!1;for(e=0;e<W.length;e++)if(W[e]._id===a._id){c=!0;break}l=l&&c}if(u){var p=!1;for(e=0;e<q.length;e++)if(q[e]._id===s._id){p=!0;break}u=u&&p}var h=l?a._length/t[2]:1,d=u?s._length/t[3]:1,m=l?t[0]:0,y=u?t[1]:0,v=l?t[0]/t[2]*a._length:0,g=u?t[1]/t[3]*s._length:0,b=a._offset-v,_=s._offset-g;B._defs.selectAll("#"+i.clipId).call(f.setTranslate,m,y).call(f.setScale,1/h,1/d),i.plot.call(f.setTranslate,b,_).call(f.setScale,h,d).selectAll(".points").selectAll(".point").call(f.setPointGroupScale,1/h,1/d)}}for(var B=t._fullLayout,U=[e].concat(T&&E?e.overlays:[]),W=[e.x()],q=[e.y()],V=W[0]._length,H=q[0]._length,G=b.MINDRAG,Y=b.MINZOOM,Z=T+E==="nsew",X=1;X<U.length;X++){var K=U[X].x(),Q=U[X].y();W.indexOf(K)===-1&&W.push(K),q.indexOf(Q)===-1&&q.push(Q)}var J=W.concat(q),$=C(W,E),tt=C(q,T),et=o(tt+$,B.dragmode),nt=T+E+"drag",rt=e.draglayer.selectAll("."+nt).data([0]);rt.enter().append("rect").classed("drag",!0).classed(nt,!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id),rt.call(d.setRect,n,s,x,w).call(m,et);var ot=rt.node();if(!tt&&!$&&!a(B.dragmode))return ot.onmousedown=null,ot.style.pointerEvents=Z?"all":"none",ot;var it={element:ot,gd:t,plotinfo:e,xaxes:W,yaxes:q,doubleclick:R,prepFn:function(e,n,r){var o=t._fullLayout.dragmode;Z?e.shiftKey&&(o="pan"===o?"zoom":"pan"):o="pan","lasso"===o?it.minDrag=1:it.minDrag=void 0,"zoom"===o?(it.moveFn=A,it.doneFn=D,P(e,n,r)):"pan"===o?(it.moveFn=j,it.doneFn=L,M()):a(o)&&g(e,n,r,it,o)}};y.init(it);var at,st,lt,ut,ct,ft,pt,ht,dt,mt=t._fullLayout._zoomlayer,yt=e.x()._offset,vt=e.y()._offset,gt=[0,0,V,H],bt=null,_t=b.REDRAWDELAY,xt=e.mainplot?B._plots[e.mainplot]:e;return T.length*E.length!==1&&(void 0!==ot.onwheel?ot.onwheel=I:void 0!==ot.onmousewheel&&(ot.onmousewheel=I)),ot}},{"../../components/color":540,"../../components/dragelement":561,"../../components/drawing":563,"../../lib":633,"../../lib/setcursor":643,"../../lib/svg_text_utils":647,"../../plotly":658,"../../registry":735,"./axes":662,"./constants":667,"./select":675,d3:125,tinycolor2:506}],669:[function(t,e,n){"use strict";function r(t,e){for(var n=[],r=t.length;r>0;r--)n.push(e);return n}function o(t,e){for(var n=[],r=0;r<t.length;r++)n.push(t[r].p2c(e));return n}function i(t,e){return function(n){var r=t(n),o=e(n);return Math.sqrt(r*r+o*o)}}function a(t,e,n){if("pie"===n)return void t.emit("plotly_hover",{points:[e]});n||(n="xy");var i=Array.isArray(n)?n:[n],a=t._fullLayout,h=a._plots||[],d=h[n];if(d){var g=d.overlays.map(function(t){return t.id});i=i.concat(g)}for(var _=i.length,E=new Array(_),C=new Array(_),k=0;k<_;k++){var S=i[k],P=h[S];if(P)E[k]=w.getFromId(t,P.xaxis._id),C[k]=w.getFromId(t,P.yaxis._id);else{var M=a[S]._subplot;E[k]=M.xaxis,C[k]=M.yaxis}}var A=e.hovermode||a.hovermode;if(["x","y","closest"].indexOf(A)===-1||!t.calcdata||t.querySelector(".zoombox")||t._dragging)return x.unhoverRaw(t,e);var O,D,L,I,j,F,R,N,z,B,U,W,q=[],V=[];if(Array.isArray(e))for(A="array",L=0;L<e.length;L++)j=t.calcdata[e[L].curveNumber||0],"skip"!==j[0].trace.hoverinfo&&V.push(j);else{for(I=0;I<t.calcdata.length;I++)j=t.calcdata[I],F=j[0].trace,"skip"!==F.hoverinfo&&i.indexOf(s(F))!==-1&&V.push(j);var H,G;if(e.target&&"clientX"in e&&"clientY"in e){if(v.triggerHandler(t,"plotly_beforehover",e)===!1)return;var Y=e.target.getBoundingClientRect();if(H=e.clientX-Y.left,G=e.clientY-Y.top,H<0||H>Y.width||G<0||G>Y.height)return x.unhoverRaw(t,e)}else H="xpx"in e?e.xpx:E[0]._length/2,G="ypx"in e?e.ypx:C[0]._length/2;if(O="xval"in e?r(i,e.xval):o(E,H),D="yval"in e?r(i,e.yval):o(C,G),!m(O[0])||!m(D[0]))return y.warn("Fx.hover failed",e,t),x.unhoverRaw(t,e)}var Z=1/0;for(I=0;I<V.length;I++)if(j=V[I],j&&j[0]&&j[0].trace&&j[0].trace.visible===!0){if(F=j[0].trace,R=i.indexOf(s(F)),N=A,U={cd:j,trace:F,xa:E[R],ya:C[R],name:t.data.length>1||F.hoverinfo.indexOf("name")!==-1?F.name:void 0,index:!1,distance:Math.min(Z,T.MAXDIST),color:b.defaultLine,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},W=q.length,"array"===N){var X=e[I];"pointNumber"in X?(U.index=X.pointNumber,N="closest"):(N="","xval"in X&&(z=X.xval,N="x"),"yval"in X&&(B=X.yval,N=N?"closest":"y"))}else z=O[R],B=D[R];if(F._module&&F._module.hoverPoints){var K=F._module.hoverPoints(U,z,B,N);if(K)for(var Q,J=0;J<K.length;J++)Q=K[J],m(Q.x0)&&m(Q.y0)&&q.push(l(Q,A))}else y.log("Unrecognized trace type in hover:",F);"closest"===A&&q.length>W&&(q.splice(0,W),Z=q[0].distance)}if(0===q.length)return x.unhoverRaw(t,e);var $="y"===A&&V.length>1;q.sort(function(t,e){return t.distance-e.distance});var tt=b.combine(a.plot_bgcolor||b.background,a.paper_bgcolor),et={hovermode:A,rotateLabels:$,bgColor:tt,container:a._hoverlayer,outerContainer:a._paperdiv},nt=u(q,et);c(q,$?"xa":"ya"),f(nt,$);var rt=t._hoverdata,ot=[];for(L=0;L<q.length;L++){var it=q[L],at={data:it.trace._input,fullData:it.trace,curveNumber:it.trace.index,pointNumber:it.index,x:it.xVal,y:it.yVal,xaxis:it.xa,yaxis:it.ya};void 0!==it.zLabelVal&&(at.z=it.zLabelVal),ot.push(at)}t._hoverdata=ot,p(t,e,rt)&&(rt&&t.emit("plotly_unhover",{points:rt}),t.emit("plotly_hover",{points:t._hoverdata,xaxes:E,yaxes:C,xvals:O,yvals:D}))}function s(t){return t.subplot||t.xaxis+t.yaxis}function l(t,e){t.posref="y"===e?(t.x0+t.x1)/2:(t.y0+t.y1)/2,t.x0=y.constrain(t.x0,0,t.xa._length),t.x1=y.constrain(t.x1,0,t.xa._length),t.y0=y.constrain(t.y0,0,t.ya._length),t.y1=y.constrain(t.y1,0,t.ya._length);var n;if(void 0!==t.xLabelVal){n="log"===t.xa.type&&t.xLabelVal<=0;var r=w.tickText(t.xa,t.xa.c2l(n?-t.xLabelVal:t.xLabelVal),"hover");n?0===t.xLabelVal?t.xLabel="0":t.xLabel="-"+r.text:t.xLabel=r.text,t.xVal=t.xa.c2d(t.xLabelVal)}if(void 0!==t.yLabelVal){n="log"===t.ya.type&&t.yLabelVal<=0;var o=w.tickText(t.ya,t.ya.c2l(n?-t.yLabelVal:t.yLabelVal),"hover");n?0===t.yLabelVal?t.yLabel="0":t.yLabel="-"+o.text:t.yLabel=o.text,t.yVal=t.ya.c2d(t.yLabelVal)}if(void 0!==t.zLabelVal&&(t.zLabel=String(t.zLabelVal)),!(isNaN(t.xerr)||"log"===t.xa.type&&t.xerr<=0)){var i=w.tickText(t.xa,t.xa.c2l(t.xerr),"hover").text;void 0!==t.xerrneg?t.xLabel+=" +"+i+" / -"+w.tickText(t.xa,t.xa.c2l(t.xerrneg),"hover").text:t.xLabel+="  "+i,"x"===e&&(t.distance+=1)}if(!(isNaN(t.yerr)||"log"===t.ya.type&&t.yerr<=0)){var a=w.tickText(t.ya,t.ya.c2l(t.yerr),"hover").text;void 0!==t.yerrneg?t.yLabel+=" +"+a+" / -"+w.tickText(t.ya,t.ya.c2l(t.yerrneg),"hover").text:t.yLabel+="  "+a,"y"===e&&(t.distance+=1)}var s=t.trace.hoverinfo;return"all"!==s&&(s=s.split("+"),s.indexOf("x")===-1&&(t.xLabel=void 0),s.indexOf("y")===-1&&(t.yLabel=void 0),s.indexOf("z")===-1&&(t.zLabel=void 0),s.indexOf("text")===-1&&(t.text=void 0),s.indexOf("name")===-1&&(t.name=void 0)),t}function u(t,e){var n,r,o=e.hovermode,i=e.rotateLabels,a=e.bgColor,s=e.container,l=e.outerContainer,u=t[0],c=u.xa,f=u.ya,p="y"===o?"yLabel":"xLabel",m=u[p],y=(String(m)||"").split(" ")[0],v=l.node().getBoundingClientRect(),x=v.top,w=v.width,E=v.height,C=u.distance<=T.MAXDIST&&("x"===o||"y"===o);for(n=0;n<t.length;n++){r=t[n].trace.hoverinfo;var S=r.split("+");if(S.indexOf("all")===-1&&S.indexOf(o)===-1){C=!1;break}}var P=s.selectAll("g.axistext").data(C?[0]:[]);P.enter().append("g").classed("axistext",!0),P.exit().remove(),P.each(function(){var e=h.select(this),n=e.selectAll("path").data([0]),r=e.selectAll("text").data([0]);n.enter().append("path").style({fill:b.defaultLine,"stroke-width":"1px",stroke:b.background}),r.enter().append("text").call(_.font,I,L,b.background).attr("data-notex",1),r.text(m).call(g.convertToTspans).call(_.setPosition,0,0).selectAll("tspan.line").call(_.setPosition,0,0),e.attr("transform","");var i=r.node().getBoundingClientRect();if("x"===o){r.attr("text-anchor","middle").call(_.setPosition,0,"top"===c.side?x-i.bottom-O-D:x-i.top+O+D).selectAll("tspan.line").attr({x:r.attr("x"),y:r.attr("y")});var a="top"===c.side?"-":"";n.attr("d","M0,0L"+O+","+a+O+"H"+(D+i.width/2)+"v"+a+(2*D+i.height)+"H-"+(D+i.width/2)+"V"+a+O+"H-"+O+"Z"),e.attr("transform","translate("+(c._offset+(u.x0+u.x1)/2)+","+(f._offset+("top"===c.side?0:f._length))+")")}else{r.attr("text-anchor","right"===f.side?"start":"end").call(_.setPosition,("right"===f.side?1:-1)*(D+O),x-i.top-i.height/2).selectAll("tspan.line").attr({x:r.attr("x"),y:r.attr("y")});var s="right"===f.side?"":"-";n.attr("d","M0,0L"+s+O+","+O+"V"+(D+i.height/2)+"h"+s+(2*D+i.width)+"V-"+(D+i.height/2)+"H"+s+O+"V-"+O+"Z"),e.attr("transform","translate("+(c._offset+("right"===f.side?c._length:0))+","+(f._offset+(u.y0+u.y1)/2)+")")}t=t.filter(function(t){return void 0!==t.zLabelVal||(t[p]||"").split(" ")[0]===y})});var M=s.selectAll("g.hovertext").data(t,function(t){return[t.trace.index,t.index,t.x0,t.y0,t.name,t.attr,t.xa,t.ya||""].join(",")});return M.enter().append("g").classed("hovertext",!0).each(function(){var t=h.select(this);t.append("rect").call(b.fill,b.addOpacity(a,.8)),t.append("text").classed("name",!0).call(_.font,I,L),t.append("path").style("stroke-width","1px"),t.append("text").classed("nums",!0).call(_.font,I,L)}),M.exit().remove(),M.each(function(t){var e=h.select(this).attr("transform",""),n="",r="",s=b.opacity(t.color)?t.color:b.defaultLine,l=b.combine(s,a),u=d(l).getBrightness()>128?"#000":b.background;if(t.name&&void 0===t.zLabelVal){var c=document.createElement("p");c.innerHTML=t.name,n=c.textContent||"",n.length>15&&(n=n.substr(0,12)+"...")}void 0!==t.extraText&&(r+=t.extraText),void 0!==t.zLabel?(void 0!==t.xLabel&&(r+="x: "+t.xLabel+"<br>"),void 0!==t.yLabel&&(r+="y: "+t.yLabel+"<br>"),r+=(r?"z: ":"")+t.zLabel):C&&t[o+"Label"]===m?r=t[("x"===o?"y":"x")+"Label"]||"":void 0===t.xLabel?void 0!==t.yLabel&&(r=t.yLabel):r=void 0===t.yLabel?t.xLabel:"("+t.xLabel+", "+t.yLabel+")",t.text&&!Array.isArray(t.text)&&(r+=(r?"<br>":"")+t.text),""===r&&(""===n&&e.remove(),r=n);var f=e.select("text.nums").style("fill",u).call(_.setPosition,0,0).text(r).attr("data-notex",1).call(g.convertToTspans);f.selectAll("tspan.line").call(_.setPosition,0,0);var p=e.select("text.name"),y=0;n&&n!==r?(p.style("fill",l).text(n).call(_.setPosition,0,0).attr("data-notex",1).call(g.convertToTspans),p.selectAll("tspan.line").call(_.setPosition,0,0),y=p.node().getBoundingClientRect().width+2*D):(p.remove(),e.select("rect").remove()),e.select("path").style({fill:l,stroke:u});var v,T,S=f.node().getBoundingClientRect(),P=t.xa._offset+(t.x0+t.x1)/2,M=t.ya._offset+(t.y0+t.y1)/2,A=Math.abs(t.x1-t.x0),L=Math.abs(t.y1-t.y0),I=S.width+O+D+y;t.ty0=x-S.top,t.bx=S.width+2*D,t.by=S.height+2*D,t.anchor="start",t.txwidth=S.width,t.tx2width=y,t.offset=0,i?(t.pos=P,v=M+L/2+I<=E,T=M-L/2-I>=0,"top"!==t.idealAlign&&v||!T?v?(M+=L/2,t.anchor="start"):t.anchor="middle":(M-=L/2,t.anchor="end")):(t.pos=M,v=P+A/2+I<=w,T=P-A/2-I>=0,"left"!==t.idealAlign&&v||!T?v?(P+=A/2,t.anchor="start"):t.anchor="middle":(P-=A/2,t.anchor="end")),f.attr("text-anchor",t.anchor),y&&p.attr("text-anchor",t.anchor),e.attr("transform","translate("+P+","+M+")"+(i?"rotate("+k+")":""))}),M}function c(t,e){function n(t){var e=t[0],n=t[t.length-1];if(o=e.pmin-e.pos-e.dp+e.size,i=n.pos+n.dp+n.size-e.pmax,o>.01){for(s=t.length-1;s>=0;s--)t[s].dp+=o;r=!1}if(!(i<.01)){if(o<-.01){for(s=t.length-1;s>=0;s--)t[s].dp-=i;r=!1}if(r){var u=0;for(a=0;a<t.length;a++)l=t[a],l.pos+l.dp+l.size>e.pmax&&u++;for(a=t.length-1;a>=0&&!(u<=0);a--)l=t[a],l.pos>e.pmax-1&&(l.del=!0,u--);for(a=0;a<t.length&&!(u<=0);a++)if(l=t[a],l.pos<e.pmin+1)for(l.del=!0,u--,i=2*l.size,s=t.length-1;s>=0;s--)t[s].dp-=i;for(a=t.length-1;a>=0&&!(u<=0);a--)l=t[a],l.pos+l.dp+l.size>e.pmax&&(l.del=!0,u--)}}}for(var r,o,i,a,s,l,u,c=0,f=t.map(function(t,n){var r=t[e];return[{i:n,dp:0,pos:t.pos,posref:t.posref,size:t.by*("x"===r._id.charAt(0)?P:1)/2,pmin:r._offset,pmax:r._offset+r._length}]}).sort(function(t,e){return t[0].posref-e[0].posref});!r&&c<=t.length;){for(c++,r=!0,a=0;a<f.length-1;){var p=f[a],h=f[a+1],d=p[p.length-1],m=h[0];if(o=d.pos+d.dp+d.size-m.pos-m.dp+m.size,o>.01&&d.pmin===m.pmin&&d.pmax===m.pmax){for(s=h.length-1;s>=0;s--)h[s].dp+=o;for(p.push.apply(p,h),f.splice(a+1,1),u=0,s=p.length-1;s>=0;s--)u+=p[s].dp;for(i=u/p.length,s=p.length-1;s>=0;s--)p[s].dp-=i;r=!1}else a++}f.forEach(n)}for(a=f.length-1;a>=0;a--){var y=f[a];for(s=y.length-1;s>=0;s--){var v=y[s],g=t[v.i];g.offset=v.dp,g.del=v.del}}}function f(t,e){t.each(function(t){var n=h.select(this);if(t.del)return void n.remove();var r="end"===t.anchor?-1:1,o=n.select("text.nums"),i={start:1,end:-1,middle:0}[t.anchor],a=i*(O+D),s=a+i*(t.txwidth+D),l=0,u=t.offset;"middle"===t.anchor&&(a-=t.tx2width/2,s-=t.tx2width/2),e&&(u*=-A,l=t.offset*M),n.select("path").attr("d","middle"===t.anchor?"M-"+t.bx/2+",-"+t.by/2+"h"+t.bx+"v"+t.by+"h-"+t.bx+"Z":"M0,0L"+(r*O+l)+","+(O+u)+"v"+(t.by/2-O)+"h"+r*t.bx+"v-"+t.by+"H"+(r*O+l)+"V"+(u-O)+"Z"),o.call(_.setPosition,a+l,u+t.ty0-t.by/2+D).selectAll("tspan.line").attr({x:o.attr("x"),y:o.attr("y")}),t.tx2width&&(n.select("text.name, text.name tspan.line").call(_.setPosition,s+i*D+l,u+t.ty0-t.by/2+D),n.select("rect").call(_.setRect,s+(i-1)*t.tx2width/2+l,u-t.by/2-1,t.tx2width,t.by+2))})}function p(t,e,n){if(!e.target)return!1;if(!n||n.length!==t._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var o=n[r],i=t._hoverdata[r];if(o.curveNumber!==i.curveNumber||String(o.pointNumber)!==String(i.pointNumber))return!0}return!1}var h=t("d3"),d=t("tinycolor2"),m=t("fast-isnumeric"),y=t("../../lib"),v=t("../../lib/events"),g=t("../../lib/svg_text_utils"),b=t("../../components/color"),_=t("../../components/drawing"),x=t("../../components/dragelement"),w=t("./axes"),T=t("./constants"),E=t("./dragbox"),C=e.exports={};C.unhover=x.unhover,C.layoutAttributes={dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","orbit","turntable"],dflt:"zoom"},hovermode:{valType:"enumerated",values:["x","y","closest",!1]}},C.supplyLayoutDefaults=function(t,e,n){function r(n,r){return y.coerce(t,e,C.layoutAttributes,n,r)}r("dragmode");var o;if(e._has("cartesian")){var i=e._isHoriz=C.isHoriz(n);o=i?"y":"x"}else o="closest";r("hovermode",o)},C.isHoriz=function(t){for(var e=!0,n=0;n<t.length;n++){var r=t[n];if("h"!==r.orientation){e=!1;break}}return e},C.init=function(t){var e=t._fullLayout;if(e._has("cartesian")&&!t._context.staticPlot){var n=Object.keys(e._plots||{}).sort(function(t,n){if((e._plots[t].mainplot&&!0)===(e._plots[n].mainplot&&!0)){var r=t.split("y"),o=n.split("y");return r[0]===o[0]?Number(r[1]||1)-Number(o[1]||1):Number(r[0]||1)-Number(o[0]||1)}return e._plots[t].mainplot?1:-1});n.forEach(function(n){var r=e._plots[n];if(e._has("cartesian")){var o=r.x(),i=r.y(),a=(o._linepositions[n]||[])[3],s=(i._linepositions[n]||[])[3],l=T.DRAGGERSIZE;if(m(a)&&"top"===o.side&&(a-=l),m(s)&&"right"!==i.side&&(s-=l),!r.mainplot){var u=E(t,r,0,0,o._length,i._length,"ns","ew");u.onmousemove=function(r){C.hover(t,r,n),e._lasthover=u,e._hoversubplot=n},u.onmouseout=function(e){t._dragging||x.unhover(t,e)},u.onclick=function(e){C.click(t,e)},E(t,r,-l,-l,l,l,"n","w"),E(t,r,o._length,-l,l,l,"n","e"),E(t,r,-l,i._length,l,l,"s","w"),E(t,r,o._length,i._length,l,l,"s","e")}m(a)&&("free"===o.anchor&&(a-=e._size.h*(1-i.domain[1])),E(t,r,.1*o._length,a,.8*o._length,l,"","ew"),E(t,r,0,a,.1*o._length,l,"","w"),E(t,r,.9*o._length,a,.1*o._length,l,"","e")),m(s)&&("free"===i.anchor&&(s-=e._size.w*o.domain[0]),E(t,r,s,.1*i._length,l,.8*i._length,"ns",""),E(t,r,s,.9*i._length,l,.1*i._length,"s",""),E(t,r,s,0,l,.1*i._length,"n",""))}});var r=e._hoverlayer.node();r.onmousemove=function(n){n.target=e._lasthover,C.hover(t,n,e._hoversubplot)},r.onclick=function(n){n.target=e._lasthover,C.click(t,n)},r.onmousedown=function(t){e._lasthover.onmousedown(t)}}};var k=T.YANGLE,S=Math.PI*k/180,P=1/Math.sin(S),M=Math.cos(S),A=Math.sin(S),O=T.HOVERARROWSIZE,D=T.HOVERTEXTPAD,L=T.HOVERFONTSIZE,I=T.HOVERFONT;C.hover=function(t,e,n){return"string"==typeof t&&(t=document.getElementById(t)),void 0===t._lastHoverTime&&(t._lastHoverTime=0),void 0!==t._hoverTimer&&(clearTimeout(t._hoverTimer),t._hoverTimer=void 0),Date.now()>t._lastHoverTime+T.HOVERMINTIME?(a(t,e,n),void(t._lastHoverTime=Date.now())):void(t._hoverTimer=setTimeout(function(){a(t,e,n),t._lastHoverTime=Date.now(),t._hoverTimer=void 0},T.HOVERMINTIME))},C.getDistanceFunction=function(t,e,n,r){return"closest"===t?r||i(e,n):"x"===t?e:n},C.getClosest=function(t,e,n){if(n.index!==!1)n.index>=0&&n.index<t.length?n.distance=0:n.index=!1;else for(var r=0;r<t.length;r++){var o=e(t[r]);o<=n.distance&&(n.index=r,n.distance=o)}return n},C.loneHover=function(t,e){var n={color:t.color||b.defaultLine,x0:t.x0||t.x||0,x1:t.x1||t.x||0,y0:t.y0||t.y||0,y1:t.y1||t.y||0,xLabel:t.xLabel,yLabel:t.yLabel,zLabel:t.zLabel,text:t.text,name:t.name,idealAlign:t.idealAlign,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0},r=h.select(e.container),o=e.outerContainer?h.select(e.outerContainer):r,i={hovermode:"closest",rotateLabels:!1,bgColor:e.bgColor||b.background,container:r,outerContainer:o},a=u([n],i);return f(a,i.rotateLabels),a.node()},C.loneUnhover=function(t){var e=t instanceof h.selection?t:h.select(t);e.selectAll("g.hovertext").remove()},C.click=function(t,e){t._hoverdata&&e&&e.target&&(t.emit("plotly_click",{points:t._hoverdata}),e.stopImmediatePropagation&&e.stopImmediatePropagation())},C.inbox=function(t,e){return t*e<0||0===t?T.MAXDIST*(.6-.3/Math.max(3,Math.abs(t-e))):1/0}},{"../../components/color":540,"../../components/dragelement":561,"../../components/drawing":563,"../../lib":633,"../../lib/events":626,"../../lib/svg_text_utils":647,"./axes":662,"./constants":667,"./dragbox":668,d3:125,"fast-isnumeric":129,tinycolor2:506}],670:[function(t,e,n){"use strict";var r=t("../plots"),o=t("./constants");n.name="cartesian",n.attr=["xaxis","yaxis"],n.idRoot=["x","y"],n.idRegex=o.idRegex,n.attrRegex=o.attrRegex,n.attributes=t("./attributes"),n.transitionAxes=t("./transition_axes"),n.plot=function(t,e,n,o){var i,a,s,l,u,c,f=t._fullLayout,p=r.getSubplotIds(f,"cartesian"),h=t.calcdata,d=f._modules;if(!Array.isArray(e))for(e=[],l=0;l<h.length;l++)e.push(l);for(l=0;l<p.length;l++){var m=p[l],y=f._plots[m];i=[];var v;for(u=0;u<h.length;u++)a=h[u],s=a[0].trace,s.xaxis+s.yaxis===m&&(e.indexOf(s.index)!==-1&&(v&&["tonextx","tonexty","tonext"].indexOf(s.fill)!==-1&&i.indexOf(v)===-1&&i.push(v),i.push(a)),v=a);for(y.plot&&y.plot.selectAll("g:not(.scatterlayer)").selectAll("g.trace").remove(),u=0;u<d.length;u++){var g=d[u];if("cartesian"===g.basePlotModule.name){var b=[];for(c=0;c<i.length;c++)a=i[c],s=a[0].trace,s._module===g&&s.visible===!0&&b.push(a);g.plot(t,y,b,n,o)}}}},n.clean=function(t,e,n,r){var o,i,a,s=r._modules||[],l=e._modules||[];for(a=0;a<s.length;a++)if("scatter"===s[a].name){o=!0;break}for(a=0;a<l.length;a++)if("scatter"===l[a].name){i=!0;break}if(o&&!i){var u=r._plots,c=Object.keys(u||{});for(a=0;a<c.length;a++){var f=u[c[a]];f.plot&&f.plot.select("g.scatterlayer").selectAll("g.trace").remove()}}}},{"../plots":720,"./attributes":661,"./constants":667,"./transition_axes":680}],671:[function(t,e,n){"use strict";var r=t("../font_attributes"),o=t("../../components/color/attributes"),i=t("../../lib/extend").extendFlat,a=t("./constants");e.exports={color:{valType:"color",dflt:o.defaultLine},title:{valType:"string"},titlefont:i({},r,{}),type:{valType:"enumerated",values:["-","linear","log","date","category"],dflt:"-"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal"},range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},fixedrange:{valType:"boolean",dflt:!1},tickmode:{valType:"enumerated",values:["auto","linear","array"]},nticks:{valType:"integer",min:0,dflt:0},tick0:{valType:"number",dflt:0},dtick:{valType:"any",dflt:1},tickvals:{valType:"data_array"},ticktext:{valType:"data_array"},ticks:{valType:"enumerated",values:["outside","inside",""]},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1},ticklen:{valType:"number",min:0,dflt:5},tickwidth:{valType:"number",min:0,dflt:1},tickcolor:{valType:"color",dflt:o.defaultLine},showticklabels:{valType:"boolean",dflt:!0},tickfont:i({},r,{}),tickangle:{valType:"angle",dflt:"auto"},tickprefix:{valType:"string",dflt:""},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all"},ticksuffix:{valType:"string",dflt:""},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B"},separatethousands:{valType:"boolean",dflt:!1},tickformat:{valType:"string",dflt:""},hoverformat:{valType:"string",dflt:""},showline:{valType:"boolean",dflt:!1},linecolor:{valType:"color",dflt:o.defaultLine},linewidth:{valType:"number",min:0,dflt:1},showgrid:{valType:"boolean"},gridcolor:{valType:"color",dflt:o.lightLine},gridwidth:{valType:"number",min:0,dflt:1},zeroline:{valType:"boolean"},zerolinecolor:{valType:"color",dflt:o.defaultLine},zerolinewidth:{valType:"number",dflt:1},anchor:{valType:"enumerated",values:["free",a.idRegex.x.toString(),a.idRegex.y.toString()]},side:{valType:"enumerated",values:["top","bottom","left","right"]},overlaying:{valType:"enumerated",values:["free",a.idRegex.x.toString(),a.idRegex.y.toString()]},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},position:{valType:"number",min:0,max:1,dflt:0},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace"},categoryarray:{valType:"data_array"},_nestedModules:{rangeslider:"rangeslider",rangeselector:"rangeselector"},_deprecated:{autotick:{valType:"boolean"}}}},{"../../components/color/attributes":539,"../../lib/extend":627,"../font_attributes":681,"./constants":667}],672:[function(t,e,n){"use strict";var r=t("../../registry"),o=t("../../lib"),i=t("../../components/color"),a=t("../layout_attributes"),s=t("./constants"),l=t("./layout_attributes"),u=t("./axis_defaults"),c=t("./position_defaults"),f=t("./axis_ids");e.exports=function(t,e,n){function p(t,e){var n=Number(t.substr(5)||1),r=Number(e.substr(5)||1);return n-r}var h,d=Object.keys(t),m=[],y=[],v=[],g=[],b={},_={};for(h=0;h<n.length;h++){var x,w,T=n[h];if(r.traceIs(T,"cartesian"))x=m,w=y;else{if(!r.traceIs(T,"gl2d"))continue;x=v,w=g}var E=f.id2name(T.xaxis),C=f.id2name(T.yaxis);if(E&&x.indexOf(E)===-1&&x.push(E),C&&w.indexOf(C)===-1&&w.push(C),r.traceIs(T,"2dMap")&&(b[E]=!0,b[C]=!0),r.traceIs(T,"oriented")){var k="h"===T.orientation?C:E;_[k]=!0}}var S=e._has("gl3d")||e._has("geo");if(!S)for(h=0;h<d.length;h++){var P=d[h];v.indexOf(P)===-1&&m.indexOf(P)===-1&&s.xAxisMatch.test(P)?m.push(P):g.indexOf(P)===-1&&y.indexOf(P)===-1&&s.yAxisMatch.test(P)&&y.push(P)}m.length&&y.length&&o.pushUnique(e._basePlotModules,r.subplotsRegistry.cartesian);var M=m.concat(v).sort(p),A=y.concat(g).sort(p),O=M.concat(A),D=i.background;M.length&&A.length&&(D=o.coerce(t,e,a,"plot_bgcolor"));var L=i.combine(D,e.paper_bgcolor);O.forEach(function(r){function i(t,e){return o.coerce(s,p,l,t,e)}var a=r.charAt(0),s=t[r]||{},p={},h={letter:a,font:e.font,outerTicks:b[r],showGrid:!_[r],name:r,data:n,bgColor:L},d={letter:a,counterAxes:{x:A,y:M}[a].map(f.name2id),overlayableAxes:{x:M,y:A}[a].filter(function(e){return e!==r&&!(t[e]||{}).overlaying}).map(f.name2id)};u(s,p,i,h),c(s,p,i,d),e[r]=p,t[r]||"-"===s.type||(t[r]={type:s.type})});var I=r.getComponentMethod("rangeslider","handleDefaults"),j=r.getComponentMethod("rangeselector","handleDefaults");O.forEach(function(n){var r=n.charAt(0),o=t[n],i=e[n],a={x:A,y:M}[r];I(t,e,n,a),"x"===r&&"date"===i.type&&j(o,i,e,a)})}},{"../../components/color":540,"../../lib":633,"../../registry":735,"../layout_attributes":712,"./axis_defaults":663,"./axis_ids":664,"./constants":667,"./layout_attributes":671,"./position_defaults":674}],673:[function(t,e,n){"use strict";function r(t,e,n){var r,i,a,s,l,u=[],c=n.map(function(e){return e[t]}),f=o.bisector(e).left;for(r=0;r<c.length;r++)for(a=c[r],i=0;i<a.length;i++)s=a[i],null!==s&&void 0!==s&&(l=f(u,s),l<u.length&&u[l]===s||u.splice(l,0,s));return u}var o=t("d3");e.exports=function(t,e,n,i){switch(e){case"array":return Array.isArray(n)?n.slice():[];case"category ascending":return r(t,o.ascending,i);case"category descending":return r(t,o.descending,i);case"trace":return[];default:return[]}}},{d3:125}],674:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),o=t("../../lib");e.exports=function(t,e,n,i){var a=i.counterAxes||[],s=i.overlayableAxes||[],l=i.letter,u=o.coerce(t,e,{anchor:{valType:"enumerated",values:["free"].concat(a),dflt:r(t.position)?"free":a[0]||"free"}},"anchor");"free"===u&&n("position"),o.coerce(t,e,{side:{valType:"enumerated",values:"x"===l?["bottom","top"]:["left","right"],dflt:"x"===l?"bottom":"left"}},"side");var c=!1;if(s.length&&(c=o.coerce(t,e,{overlaying:{valType:"enumerated",values:[!1].concat(s),dflt:!1}},"overlaying")),!c){var f=n("domain");f[0]>f[1]-.01&&(e.domain=[0,1]),o.noneOrAll(t.domain,e.domain,[0,1])}return e}},{"../../lib":633,"fast-isnumeric":129}],675:[function(t,e,n){"use strict";function r(t){return t._id}var o=t("../../lib/polygon"),i=t("../../components/color"),a=t("./axes"),s=t("./constants"),l=o.filter,u=o.tester,c=s.MINSELECT;e.exports=function(t,e,n,o,f){function p(t){var e="y"===t._id.charAt(0)?1:0;return function(n){return t.p2d(n[e])}}function h(t,e){return t-e}var d,m=o.gd._fullLayout._zoomlayer,y=o.element.getBoundingClientRect(),v=o.plotinfo.x()._offset,g=o.plotinfo.y()._offset,b=e-y.left,_=n-y.top,x=b,w=_,T="M"+b+","+_,E=o.xaxes[0]._length,C=o.yaxes[0]._length,k=o.xaxes.map(r),S=o.yaxes.map(r),P=o.xaxes.concat(o.yaxes);"lasso"===f&&(d=l([[b,_]],s.BENDPX));var M=m.selectAll("path.select-outline").data([1,2]);M.enter().append("path").attr("class",function(t){return"select-outline select-outline-"+t}).attr("transform","translate("+v+", "+g+")").attr("d",T+"Z");var A,O,D,L,I,j=m.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1}).attr("transform","translate("+v+", "+g+")").attr("d","M0,0Z"),F=[],R=o.gd,N=[];for(A=0;A<R.calcdata.length;A++)if(O=R.calcdata[A],D=O[0].trace,D._module&&D._module.selectPoints)if(o.subplot){if(D.subplot!==o.subplot)continue;F.push({selectPoints:D._module.selectPoints,cd:O,xaxis:o.xaxes[0],yaxis:o.yaxes[0]})}else{if(k.indexOf(D.xaxis)===-1)continue;if(S.indexOf(D.yaxis)===-1)continue;F.push({selectPoints:D._module.selectPoints,cd:O,xaxis:a.getFromId(R,D.xaxis),yaxis:a.getFromId(R,D.yaxis)})}o.moveFn=function(t,e){var n,r;x=Math.max(0,Math.min(E,t+b)),w=Math.max(0,Math.min(C,e+_));var i=Math.abs(x-b),a=Math.abs(w-_);
for("select"===f?(a<Math.min(.6*i,c)?(n=u([[b,0],[b,C],[x,C],[x,0]]),j.attr("d","M"+n.xmin+","+(_-c)+"h-4v"+2*c+"h4ZM"+(n.xmax-1)+","+(_-c)+"h4v"+2*c+"h-4Z")):i<Math.min(.6*a,c)?(n=u([[0,_],[0,w],[E,w],[E,_]]),j.attr("d","M"+(b-c)+","+n.ymin+"v-4h"+2*c+"v4ZM"+(b-c)+","+(n.ymax-1)+"v4h"+2*c+"v-4Z")):(n=u([[b,_],[b,w],[x,w],[x,_]]),j.attr("d","M0,0Z")),M.attr("d","M"+n.xmin+","+n.ymin+"H"+(n.xmax-1)+"V"+(n.ymax-1)+"H"+n.xmin+"Z")):"lasso"===f&&(d.addPt([x,w]),n=u(d.filtered),M.attr("d","M"+d.filtered.join("L")+"Z")),N=[],A=0;A<F.length;A++)L=F[A],[].push.apply(N,L.selectPoints(L,n));if(I={points:N},"select"===f){var s,l=I.range={};for(A=0;A<P.length;A++)r=P[A],s=r._id.charAt(0),l[r._id]=[r.p2d(n[s+"min"]),r.p2d(n[s+"max"])].sort(h)}else{var m=I.lassoPoints={};for(A=0;A<P.length;A++)r=P[A],m[r._id]=d.filtered.map(p(r))}o.gd.emit("plotly_selecting",I)},o.doneFn=function(t,e){if(j.remove(),t||2!==e)o.gd.emit("plotly_selected",I);else{for(M.remove(),A=0;A<F.length;A++)L=F[A],L.selectPoints(L,!1);R.emit("plotly_deselect",null)}}}},{"../../components/color":540,"../../lib/polygon":640,"./axes":662,"./constants":667}],676:[function(t,e,n){"use strict";var r=t("d3"),o=t("fast-isnumeric"),i=t("../../lib"),a=t("./constants"),s=t("./clean_datum"),l=t("./axis_ids");e.exports=function(t){function e(e,n){if(e>0)return Math.log(e)/Math.LN10;if(e<=0&&n&&t.range&&2===t.range.length){var r=t.range[0],o=t.range[1];return.5*(r+o-3*c*Math.abs(r-o))}return a.BADNUM}function n(t){return Math.pow(10,t)}function u(t){return o(t)?Number(t):a.BADNUM}var c=10;if(t.c2l="log"===t.type?e:u,t.l2c="log"===t.type?n:u,t.l2d=function(e){return t.c2d(t.l2c(e))},t.p2d=function(e){return t.l2d(t.p2l(e))},t.setScale=function(e){var n,r=t._gd._fullLayout._size;if(t._categories||(t._categories=[]),t.overlaying){var a=l.getFromId(t._gd,t.overlaying);t.domain=a.domain}var s=e&&t._r?t._r:t.range;for(s&&2===s.length&&s[0]!==s[1]||(s=[-1,1]),n=0;n<2;n++)o(s[n])||(s[n]=o(s[1-n])?s[1-n]*(n?10:.1):n?1:-1),s[n]<-(Number.MAX_VALUE/2)?s[n]=-(Number.MAX_VALUE/2):s[n]>Number.MAX_VALUE/2&&(s[n]=Number.MAX_VALUE/2);if("y"===t._id.charAt(0)?(t._offset=r.t+(1-t.domain[1])*r.h,t._length=r.h*(t.domain[1]-t.domain[0]),t._m=t._length/(s[0]-s[1]),t._b=-t._m*s[1]):(t._offset=r.l+t.domain[0]*r.w,t._length=r.w*(t.domain[1]-t.domain[0]),t._m=t._length/(s[1]-s[0]),t._b=-t._m*s[0]),!isFinite(t._m)||!isFinite(t._b))throw i.notifier("Something went wrong with axis scaling","long"),t._gd._replotting=!1,new Error("axis scaling")},t.l2p=function(e){return o(e)?r.round(t._b+t._m*e,2):a.BADNUM},t.p2l=function(e){return(e-t._b)/t._m},t.c2p=function(e,n){return t.l2p(t.c2l(e,n))},t.p2c=function(e){return t.l2c(t.p2l(e))},["linear","log","-"].indexOf(t.type)!==-1)t.c2d=u,t.d2c=function(t){return t=s(t),o(t)?Number(t):a.BADNUM},t.d2l=function(e,n){return"log"===t.type?t.c2l(t.d2c(e),n):t.d2c(e)};else if("date"===t.type){if(t.c2d=function(t){return o(t)?i.ms2DateTime(t):a.BADNUM},t.d2c=function(t){return o(t)?Number(t):i.dateTime2ms(t)},t.d2l=t.d2c,t.range&&t.range.length>1)try{var f=t.range.map(i.dateTime2ms);!o(t.range[0])&&o(f[0])&&(t.range[0]=f[0]),!o(t.range[1])&&o(f[1])&&(t.range[1]=f[1])}catch(p){i.error(p,t.range)}}else"category"===t.type&&(t.c2d=function(e){return t._categories[Math.round(e)]},t.d2c=function(e){null!==e&&void 0!==e&&t._categories.indexOf(e)===-1&&t._categories.push(e);var n=t._categories.indexOf(e);return n===-1?a.BADNUM:n},t.d2l=t.d2c);t.makeCalcdata=function(e,n){var r,o,i;if(n in e)for(r=e[n],o=new Array(r.length),i=0;i<r.length;i++)o[i]=t.d2c(r[i]);else{var a=n+"0"in e?t.d2c(e[n+"0"]):0,s=e["d"+n]?Number(e["d"+n]):1;for(r=e[{x:"y",y:"x"}[n]],o=new Array(r.length),i=0;i<r.length;i++)o[i]=a+i*s}return o},t._min=[],t._max=[],t._minDtick=null,t._forceTick0=null}},{"../../lib":633,"./axis_ids":664,"./clean_datum":666,"./constants":667,d3:125,"fast-isnumeric":129}],677:[function(t,e,n){"use strict";function r(t){var e=["showexponent","showtickprefix","showticksuffix"],n=e.filter(function(e){return void 0!==t[e]}),r=function(e){return t[e]===t[n[0]]};if(n.every(r)||1===n.length)return t[n[0]]}var o=t("../../lib");e.exports=function(t,e,n,i,a){var s=r(t),l=n("tickprefix");l&&n("showtickprefix",s);var u=n("ticksuffix");u&&n("showticksuffix",s);var c=n("showticklabels");if(c){var f=a.font||{},p=e.color===t.color?e.color:f.color;if(o.coerceFont(n,"tickfont",{family:f.family,size:f.size,color:p}),n("tickangle"),"category"!==i){var h=n("tickformat");h||"date"===i||(n("showexponent",s),n("exponentformat"),n("separatethousands"))}}"category"===i||a.noHover||n("hoverformat")}},{"../../lib":633}],678:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("./layout_attributes");e.exports=function(t,e,n,i){var a=r.coerce2(t,e,o,"ticklen"),s=r.coerce2(t,e,o,"tickwidth"),l=r.coerce2(t,e,o,"tickcolor",e.color),u=n("ticks",i.outerTicks||a||s||l?"outside":"");u||(delete e.ticklen,delete e.tickwidth,delete e.tickcolor)}},{"../../lib":633,"./layout_attributes":671}],679:[function(t,e,n){"use strict";var r=t("fast-isnumeric");e.exports=function(t,e,n,o){var i="auto";"array"!==t.tickmode||"log"!==o&&"date"!==o||(t.tickmode="auto"),Array.isArray(t.tickvals)?i="array":t.dtick&&r(t.dtick)&&(i="linear");var a=n("tickmode",i);if("auto"===a)n("nticks");else if("linear"===a)n("tick0"),n("dtick");else{var s=n("tickvals");void 0===s?e.tickmode="auto":n("ticktext")}}},{"fast-isnumeric":129}],680:[function(t,e,n){"use strict";var r=t("d3"),o=t("../../plotly"),i=t("../../registry"),a=t("../../lib"),s=t("./axes"),l=/((x|y)([2-9]|[1-9][0-9]+)?)axis$/;e.exports=function(t,e,n,u){function c(t){var e,n,r,o,i,a={};for(e in t)if(n=e.split("."),r=n[0].match(l)){var s=r[1],u=s+"axis";if(o=g[u],i={},Array.isArray(t[e])?i.to=t[e].slice(0):Array.isArray(t[e].range)&&(i.to=t[e].range.slice(0)),!i.to)continue;i.axisName=u,i.length=o._length,b.push(s),a[s]=i}return a}function f(t,e,n){var r,o,i,a=t._plots,s=[];for(r in a){var l=a[r];if(s.indexOf(l)===-1){var u=l.xaxis._id,c=l.yaxis._id,f=l.xaxis.range,p=l.yaxis.range;l.xaxis._r=l.xaxis.range.slice(),l.yaxis._r=l.yaxis.range.slice(),o=n[u]?n[u].to:f,i=n[c]?n[c].to:p,f[0]===o[0]&&f[1]===o[1]&&p[0]===i[0]&&p[1]===i[1]||e.indexOf(u)===-1&&e.indexOf(c)===-1||s.push(l)}}return s}function p(e,n){function r(e,n){for(o=0;o<e.length;o++){var r=e[o];a.indexOf(r.xref)===-1&&a.indexOf(r.yref)===-1||n(t,o)}}var o,a=[];for(a=[e._id,n._id],o=0;o<a.length;o++)s.doTicks(t,a[o],!0);r(g.annotations||[],i.getComponentMethod("annotations","drawOne")),r(g.shapes||[],i.getComponentMethod("shapes","drawOne")),r(g.images||[],i.getComponentMethod("images","draw"))}function h(t){var e=t.x(),n=t.y();g._defs.selectAll("#"+t.clipId).call(a.setTranslate,0,0).call(a.setScale,1,1),t.plot.call(a.setTranslate,e._offset,n._offset).call(a.setScale,1,1).selectAll(".points").selectAll(".point").call(a.setPointGroupScale,1,1)}function d(e,n){var r,o,i,s=_[e.xaxis._id],l=_[e.yaxis._id],u=[];if(s){r=t._fullLayout[s.axisName],o=r._r,i=s.to,u[0]=(o[0]*(1-n)+n*i[0]-o[0])/(o[1]-o[0])*e.xaxis._length;var c=o[1]-o[0],f=i[1]-i[0];r.range[0]=o[0]*(1-n)+n*i[0],r.range[1]=o[1]*(1-n)+n*i[1],u[2]=e.xaxis._length*(1-n+n*f/c)}else u[0]=0,u[2]=e.xaxis._length;if(l){r=t._fullLayout[l.axisName],o=r._r,i=l.to,u[1]=(o[1]*(1-n)+n*i[1]-o[1])/(o[0]-o[1])*e.yaxis._length;var h=o[1]-o[0],d=i[1]-i[0];r.range[0]=o[0]*(1-n)+n*i[0],r.range[1]=o[1]*(1-n)+n*i[1],u[3]=e.yaxis._length*(1-n+n*d/h)}else u[1]=0,u[3]=e.yaxis._length;p(e.x(),e.y());var m=e.x(),y=e.y(),v=!!s,b=!!l,x=v?m._length/u[2]:1,w=b?y._length/u[3]:1,T=v?u[0]:0,E=b?u[1]:0,C=v?u[0]/u[2]*m._length:0,k=b?u[1]/u[3]*y._length:0,S=m._offset-C,P=y._offset-k;g._defs.selectAll("#"+e.clipId).call(a.setTranslate,T,E).call(a.setScale,1/x,1/w),e.plot.call(a.setTranslate,S,P).call(a.setScale,x,w).selectAll(".points").selectAll(".point").call(a.setPointGroupScale,1/x,1/w)}function m(){for(var e={},n=0;n<x.length;n++){var r=t._fullLayout[_[x[n]].axisName],i=_[x[n]].to;e[r._name+".range[0]"]=i[0],e[r._name+".range[1]"]=i[1],r.range=i.slice()}return T&&T(),o.relayout(t,e).then(function(){for(var t=0;t<w.length;t++)h(w[t])})}function y(){for(var e={},n=0;n<x.length;n++){var r=t._fullLayout[x[n]+"axis"];e[r._name+".range[0]"]=r.range[0],e[r._name+".range[1]"]=r.range[1],r.range=r._r.slice()}return o.relayout(t,e).then(function(){for(var t=0;t<w.length;t++)h(w[t])})}function v(){C=Date.now();for(var t=Math.min(1,(C-E)/n.duration),e=S(t),r=0;r<w.length;r++)d(w[r],e);C-E>n.duration?(m(),k=window.cancelAnimationFrame(v)):k=window.requestAnimationFrame(v)}var g=t._fullLayout,b=[],_=c(e),x=Object.keys(_),w=f(g,x,_);if(!w.length)return!1;var T;u&&(T=u());var E,C,k,S=r.ease(n.easing);return t._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(k),k=null,y()}),E=Date.now(),k=window.requestAnimationFrame(v),Promise.resolve()}},{"../../lib":633,"../../plotly":658,"../../registry":735,"./axes":662,d3:125}],681:[function(t,e,n){"use strict";e.exports={family:{valType:"string",noBlank:!0,strict:!0},size:{valType:"number",min:1},color:{valType:"color"}}},{}],682:[function(t,e,n){"use strict";e.exports={group:{valType:"string"},name:{valType:"string"},traces:{valType:"data_array"},baseframe:{valType:"string"},data:{valType:"data_array"},layout:{valType:"any"}}},{}],683:[function(t,e,n){"use strict";var r=e.exports={};r.projNames={equirectangular:"equirectangular",mercator:"mercator",orthographic:"orthographic","natural earth":"naturalEarth",kavrayskiy7:"kavrayskiy7",miller:"miller",robinson:"robinson",eckert4:"eckert4","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant","conic equal area":"conicEqualArea","conic conformal":"conicConformal","conic equidistant":"conicEquidistant",gnomonic:"gnomonic",stereographic:"stereographic",mollweide:"mollweide",hammer:"hammer","transverse mercator":"transverseMercator","albers usa":"albersUsa","winkel tripel":"winkel3"},r.axesNames=["lonaxis","lataxis"],r.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},r.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},r.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,80],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},r.clipPad=.001,r.precision=.1,r.landColor="#F0DC82",r.waterColor="#3399FF",r.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},r.sphereSVG={type:"Sphere"},r.fillLayers=["ocean","land","lakes"],r.lineLayers=["subunits","countries","coastlines","rivers","frame"],r.baseLayers=["ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame"],r.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"},r.baseLayersOverChoropleth=["rivers","lakes"]},{}],684:[function(t,e,n){"use strict";function r(t,e){this.id=t.id,this.graphDiv=t.graphDiv,this.container=t.container,this.topojsonURL=t.topojsonURL,d(u),this.hoverContainer=null,this.topojsonName=null,this.topojson=null,this.projectionType=null,this.projection=null,this.clipAngle=null,this.setScale=null,this.path=null,this.zoom=null,this.zoomReset=null,this.makeFramework(),this.updateFx(e.hovermode),this.traceHash={}}function o(t,e,n){return u.geo.graticule().extent([[t[0],e[0]],[t[1],e[1]]]).step(n)}function i(t,e,n){var r=g.layerNameToAdjective[e];t.select("."+e).selectAll("path").attr("stroke","none").call(c.fill,n[r+"color"])}function a(t,e,n){var r=g.layerNameToAdjective[e];t.select("."+e).selectAll("path").attr("fill","none").call(c.stroke,n[r+"color"]).call(f.dashLine,"",n[r+"width"])}function s(t,e,n){t.select("."+e+"graticule").selectAll("path").attr("fill","none").call(c.stroke,n[e].gridcolor).call(f.dashLine,"",n[e].gridwidth)}function l(t){var e={type:"linear",showexponent:"all",exponentformat:p.layoutAttributes.exponentformat.dflt,_gd:{_fullLayout:t}};return p.setConvert(e),e}var u=t("d3"),c=t("../../components/color"),f=t("../../components/drawing"),p=t("../../plots/cartesian/axes"),h=t("../../lib/filter_visible"),d=t("./projections"),m=t("./set_scale"),y=t("./zoom"),v=t("./zoom_reset"),g=t("./constants"),b=t("../../constants/xmlns_namespaces"),_=t("../../lib/topojson_utils"),x=t("topojson").feature;e.exports=r;var w=r.prototype;w.plot=function(t,e,n){var r,o,i=this,a=e[i.id],s=e._size;i.projection=null,i.setScale=m(a,s),i.makeProjection(a),i.makePath(),i.adjustLayout(a,s),i.zoom=y(i,a),i.zoomReset=v(i,a),i.mockAxis=l(e),i.framework.call(i.zoom).on("dblclick.zoom",i.zoomReset),r=_.getTopojsonName(a),null===i.topojson||r!==i.topojsonName?(i.topojsonName=r,void 0!==PlotlyGeoAssets.topojson[i.topojsonName]?(i.topojson=PlotlyGeoAssets.topojson[i.topojsonName],i.onceTopojsonIsLoaded(t,a)):(o=_.getTopojsonPath(i.topojsonURL,i.topojsonName),n.push(new Promise(function(e,n){u.json(o,function(r,s){return r?void n(404===r.status?new Error(["plotly.js could not find topojson file at",o,".","Make sure the *topojsonURL* plot config option","is set properly."].join(" ")):new Error(["unexpected error while fetching topojson file at",o].join(" "))):(i.topojson=s,PlotlyGeoAssets.topojson[i.topojsonName]=s,i.onceTopojsonIsLoaded(t,a),void e())})})))):i.onceTopojsonIsLoaded(t,a)},w.onceTopojsonIsLoaded=function(t,e){var n;this.drawLayout(e);var r=this.traceHash,o={};for(n=0;n<t.length;n++){var i=t[n];o[i.type]=o[i.type]||[],o[i.type].push(i)}var a=Object.keys(r),s=Object.keys(o);for(n=0;n<a.length;n++){var l=a[n];if(s.indexOf(l)===-1){var u=r[l][0];u.visible=!1,o[l]=[u]}}for(s=Object.keys(o),n=0;n<s.length;n++){var c=o[s[n]],f=c[0]._module;f.plot(this,h(c),e)}this.traceHash=o,this.render()},w.updateFx=function(t){this.showHover=t!==!1},w.makeProjection=function(t){var e,n=t.projection,r=n.type,o=null===this.projection||r!==this.projectionType;o?(this.projectionType=r,e=this.projection=u.geo[g.projNames[r]]()):e=this.projection,e.translate(n._translate0).precision(g.precision),t._isAlbersUsa||e.rotate(n._rotate).center(n._center),t._clipAngle?(this.clipAngle=t._clipAngle,e.clipAngle(t._clipAngle-g.clipPad)):this.clipAngle=null,n.parallels&&e.parallels(n.parallels),o&&this.setScale(e),e.translate(n._translate).scale(n._scale)},w.makePath=function(){this.path=u.geo.path().projection(this.projection)},w.makeFramework=function(){var t=this.geoDiv=u.select(this.container).append("div");t.attr("id",this.id).style("position","absolute");var e=this.hoverContainer=t.append("svg");e.attr(b.svgAttrs).style({position:"absolute","z-index":20,"pointer-events":"none"});var n=this.framework=t.append("svg");n.attr(b.svgAttrs).attr({position:"absolute",preserveAspectRatio:"none"}),n.append("g").attr("class","bglayer").append("rect"),n.append("g").attr("class","baselayer"),n.append("g").attr("class","choroplethlayer"),n.append("g").attr("class","baselayeroverchoropleth"),n.append("g").attr("class","scattergeolayer"),n.on("dblclick.zoom",null)},w.adjustLayout=function(t,e){var n=t.domain;this.geoDiv.style({left:e.l+e.w*n.x[0]+t._marginX+"px",top:e.t+e.h*(1-n.y[1])+t._marginY+"px",width:t._width+"px",height:t._height+"px"}),this.hoverContainer.attr({width:t._width,height:t._height}),this.framework.attr({width:t._width,height:t._height}),this.framework.select(".bglayer").select("rect").attr({width:t._width,height:t._height}).call(c.fill,t.bgcolor)},w.drawTopo=function(t,e,n){if(n["show"+e]===!0){var r=this.topojson,o="frame"===e?g.sphereSVG:x(r,r.objects[e]);t.append("g").datum(o).attr("class",e).append("path").attr("class","basepath")}},w.drawGraticule=function(t,e,n){var r=n[e];if(r.showgrid===!0){var i=g.scopeDefaults[n.scope],a=i.lonaxisRange,s=i.lataxisRange,l="lonaxis"===e?[r.dtick]:[0,r.dtick],u=o(a,s,l);t.append("g").datum(u).attr("class",e+"graticule").append("path").attr("class","graticulepath")}},w.drawLayout=function(t){var e,n=this.framework.select("g.baselayer"),r=g.baseLayers,o=g.axesNames;n.selectAll("*").remove();for(var i=0;i<r.length;i++)e=r[i],o.indexOf(e)!==-1?this.drawGraticule(n,e,t):this.drawTopo(n,e,t);this.styleLayout(t)},w.styleLayer=function(t,e,n){var r=g.fillLayers,o=g.lineLayers;r.indexOf(e)!==-1?i(t,e,n):o.indexOf(e)!==-1&&a(t,e,n)},w.styleLayout=function(t){for(var e,n=this.framework.select("g.baselayer"),r=g.baseLayers,o=g.axesNames,i=0;i<r.length;i++)e=r[i],o.indexOf(e)!==-1?s(n,e,t):this.styleLayer(n,e,t)},w.render=function(){function t(t){var e=i([t.lon,t.lat]);return e?"translate("+e[0]+","+e[1]+")":null}function e(t){var e=i.rotate(),n=u.geo.distance([t.lon,t.lat],[-e[0],-e[1]]),r=s*Math.PI/180;return n>r?"0":"1.0"}var n=this.framework,r=n.select("g.choroplethlayer"),o=n.select("g.scattergeolayer"),i=this.projection,a=this.path,s=this.clipAngle;n.selectAll("path.basepath").attr("d",a),n.selectAll("path.graticulepath").attr("d",a),r.selectAll("path.choroplethlocation").attr("d",a),r.selectAll("path.basepath").attr("d",a),o.selectAll("path.js-line").attr("d",a),null!==s?(o.selectAll("path.point").style("opacity",e).attr("transform",t),o.selectAll("text").style("opacity",e).attr("transform",t)):(o.selectAll("path.point").attr("transform",t),o.selectAll("text").attr("transform",t))}},{"../../components/color":540,"../../components/drawing":563,"../../constants/xmlns_namespaces":620,"../../lib/filter_visible":628,"../../lib/topojson_utils":648,"../../plots/cartesian/axes":662,"./constants":683,"./projections":691,"./set_scale":692,"./zoom":693,"./zoom_reset":694,d3:125,topojson:507}],685:[function(t,e,n){"use strict";var r=t("./geo"),o=t("../../plots/plots");n.name="geo",n.attr="geo",n.idRoot="geo",n.idRegex=/^geo([2-9]|[1-9][0-9]+)?$/,n.attrRegex=/^geo([2-9]|[1-9][0-9]+)?$/,n.attributes=t("./layout/attributes"),n.layoutAttributes=t("./layout/layout_attributes"),n.supplyLayoutDefaults=t("./layout/defaults"),n.plot=function(t){var e=t._fullLayout,n=t._fullData,i=o.getSubplotIds(e,"geo");void 0===window.PlotlyGeoAssets&&(window.PlotlyGeoAssets={topojson:{}});for(var a=0;a<i.length;a++){var s=i[a],l=o.getSubplotData(n,"geo",s),u=e[s]._geo;void 0===u&&(u=new r({id:s,graphDiv:t,container:e._geocontainer.node(),topojsonURL:t._context.topojsonURL},e),e[s]._geo=u),u.plot(l,e,t._promises)}},n.clean=function(t,e,n,r){for(var i=o.getSubplotIds(r,"geo"),a=0;a<i.length;a++){var s=i[a],l=r[s]._geo;!e[s]&&l&&l.geoDiv.remove()}},n.toSVG=function(t){for(var e=t._fullLayout,n=o.getSubplotIds(e,"geo"),r=e._size,i=0;i<n.length;i++){var a=e[n[i]],s=a.domain,l=a._geo.framework;l.attr("style",null),l.attr({x:r.l+r.w*s.x[0]+a._marginX,y:r.t+r.h*(1-s.y[1])+a._marginY,width:a._width,height:a._height}),e._geoimages.node().appendChild(l.node())}}},{"../../plots/plots":720,"./geo":684,"./layout/attributes":686,"./layout/defaults":689,"./layout/layout_attributes":690}],686:[function(t,e,n){"use strict";e.exports={geo:{valType:"subplotid",dflt:"geo"}}},{}],687:[function(t,e,n){"use strict";var r=t("../../../components/color/attributes");e.exports={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number"},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:r.lightLine},gridwidth:{valType:"number",min:0,dflt:1}}},{"../../../components/color/attributes":539}],688:[function(t,e,n){"use strict";var r=t("../../../lib"),o=t("../constants"),i=t("./axis_attributes");e.exports=function(t,e){function n(t,e){return r.coerce(s,l,i,t,e)}function a(t){var n,r,i,a,s,l,u=e.scope;return"world"===u?(n=e.projection,r=n.type,i=n.rotation,s=o[t+"Span"],l=void 0!==s[r]?s[r]/2:s["*"]/2,a="lonaxis"===t?i.lon:i.lat,[a-l,a+l]):o.scopeDefaults[u][t+"Range"]}for(var s,l,u=o.axesNames,c=0;c<u.length;c++){var f=u[c];s=t[f]||{},l={};var p=a(f),h=n("range",p);r.noneOrAll(s.range,l.range,[0,1]),n("tick0",h[0]),n("dtick","lonaxis"===f?30:10);var d=n("showgrid");d&&(n("gridcolor"),n("gridwidth")),e[f]=l,e[f]._fullRange=p}}},{"../../../lib":633,"../constants":683,"./axis_attributes":687}],689:[function(t,e,n){"use strict";function r(t,e,n){var r,o=n("scope"),a="world"!==o,l=i.scopeDefaults[o],u=n("resolution"),c=n("projection.type",l.projType),f="albers usa"===c,p=c.indexOf("conic")!==-1;if(p){var h=l.projParallels||[0,60];n("projection.parallels",h)}if(f)e.scope="usa";else{var d=l.projRotate||[0,0,0];n("projection.rotation.lon",d[0]),n("projection.rotation.lat",d[1]),n("projection.rotation.roll",d[2]),r=n("showcoastlines",!a),r&&(n("coastlinecolor"),n("coastlinewidth")),r=n("showocean"),r&&n("oceancolor")}n("projection.scale"),r=n("showland"),r&&n("landcolor"),r=n("showlakes"),r&&n("lakecolor"),r=n("showrivers"),r&&(n("rivercolor"),n("riverwidth")),r=n("showcountries",a),r&&(n("countrycolor"),n("countrywidth")),("usa"===o||"north america"===o&&50===u)&&(n("showsubunits",!0),n("subunitcolor"),n("subunitwidth")),a||(r=n("showframe",!0),r&&(n("framecolor"),n("framewidth"))),n("bgcolor"),s(t,e),e._isHighRes=50===u,e._clipAngle=i.lonaxisSpan[c]/2,e._isAlbersUsa=f,e._isConic=p,e._isScoped=a;var m=e.projection.rotation||{};e.projection._rotate=[-m.lon||0,-m.lat||0,m.roll||0]}var o=t("../../subplot_defaults"),i=t("../constants"),a=t("./layout_attributes"),s=t("./axis_defaults");e.exports=function(t,e,n){o(t,e,n,{type:"geo",attributes:a,handleDefaults:r,partition:"y"})}},{"../../subplot_defaults":727,"../constants":683,"./axis_defaults":688,"./layout_attributes":690}],690:[function(t,e,n){"use strict";var r=t("../../../components/color/attributes"),o=t("../constants"),i=t("./axis_attributes");e.exports={domain:{x:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},y:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]}},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:Object.keys(o.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:Object.keys(o.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,max:10,dflt:1}},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:r.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:o.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:o.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:o.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:o.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:r.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:r.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:r.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:r.background},lonaxis:i,lataxis:i}},{"../../../components/color/attributes":539,"../constants":683,"./axis_attributes":687}],691:[function(t,e,n){"use strict";function r(t){function e(t,e){return{type:"Feature",id:t.id,properties:t.properties,geometry:n(t.geometry,e)}}function n(e,r){if(!e)return null;if("GeometryCollection"===e.type)return{type:"GeometryCollection",geometries:object.geometries.map(function(t){return n(t,r)})};if(!P.hasOwnProperty(e.type))return null;var o=P[e.type];return t.geo.stream(e,r(o)),o.result()}function r(){}function o(t){if((e=t.length)<4)return!1;for(var e,n=0,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r<=0}function i(t,e){for(var n=e[0],r=e[1],o=!1,i=0,a=t.length,s=a-1;i<a;s=i++){var l=t[i],u=l[0],c=l[1],f=t[s],p=f[0],h=f[1];c>r^h>r&&n<(p-u)*(r-c)/(h-c)+u&&(o=!o)}return o}function a(t){return t?t/Math.sin(t):1}function s(t){return t>1?D:t<-1?-D:Math.asin(t)}function l(t){return t>1?0:t<-1?O:Math.acos(t)}function u(t,e){var n=(2+D)*Math.sin(e);e/=2;for(var r=0,o=1/0;r<10&&Math.abs(o)>M;r++){var i=Math.cos(e);e-=o=(e+Math.sin(e)*(i+2)-n)/(2*i*(1+i))}return[2/Math.sqrt(O*(4+O))*t*(1+Math.cos(e)),2*Math.sqrt(O/(4+O))*Math.sin(e)]}function c(t,e){function n(n,r){var o=R(n/e,r);return o[0]*=t,o}return arguments.length<2&&(e=t),1===e?R:e===1/0?p:(n.invert=function(n,r){var o=R.invert(n/t,r);return o[0]*=e,o},n)}function f(){var t=2,e=F(c),n=e(t);return n.coefficient=function(n){return arguments.length?e(t=+n):t},n}function p(t,e){return[t*Math.cos(e)/Math.cos(e/=2),2*Math.sin(e)]}function h(t,e){return[3*t/(2*O)*Math.sqrt(O*O/3-e*e),e]}function d(t,e){return[t,1.25*Math.log(Math.tan(O/4+.4*e))]}function m(t){return function(e){var n,r=t*Math.sin(e),o=30;do e-=n=(e+Math.sin(e)-r)/(1+Math.cos(e));while(Math.abs(n)>M&&--o>0);return e/2}}function y(t,e,n){function r(n,r){return[t*n*Math.cos(r=o(r)),e*Math.sin(r)]}var o=m(n);return r.invert=function(r,o){var i=s(o/e);return[r/(t*Math.cos(i)),s((2*i+Math.sin(2*i))/n)]},r}function v(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}function g(t,e){var n,r=Math.min(18,36*Math.abs(e)/O),o=Math.floor(r),i=r-o,a=(n=z[o])[0],s=n[1],l=(n=z[++o])[0],u=n[1],c=(n=z[Math.min(19,++o)])[0],f=n[1];return[t*(l+i*(c-a)/2+i*i*(c-2*l+a)/2),(e>0?D:-D)*(u+i*(f-s)/2+i*i*(f-2*u+s)/2)]}function b(t,e){return[t*Math.cos(e),e]}function _(t,e){var n=Math.cos(e),r=a(l(n*Math.cos(t/=2)));return[2*n*Math.sin(t)*r,Math.sin(e)*r]}function x(t,e){var n=_(t,e);return[(n[0]+t/D)/2,(n[1]+e)/2]}t.geo.project=function(t,e){var r=e.stream;if(!r)throw new Error("not yet supported");return(t&&w.hasOwnProperty(t.type)?w[t.type]:n)(t,r)};var w={Feature:e,FeatureCollection:function(t,n){return{type:"FeatureCollection",features:t.features.map(function(t){return e(t,n)})}}},T=[],E=[],C={point:function(t,e){T.push([t,e])},result:function(){var t=T.length?T.length<2?{type:"Point",coordinates:T[0]}:{type:"MultiPoint",coordinates:T}:null;return T=[],t}},k={lineStart:r,point:function(t,e){T.push([t,e])},lineEnd:function(){T.length&&(E.push(T),T=[])},result:function(){var t=E.length?E.length<2?{type:"LineString",coordinates:E[0]}:{type:"MultiLineString",coordinates:E}:null;return E=[],t}},S={polygonStart:r,lineStart:r,point:function(t,e){T.push([t,e])},lineEnd:function(){var t=T.length;if(t){do T.push(T[0].slice());while(++t<4);E.push(T),T=[]}},polygonEnd:r,result:function(){if(!E.length)return null;var t=[],e=[];return E.forEach(function(n){o(n)?t.push([n]):e.push(n)}),e.forEach(function(e){var n=e[0];t.some(function(t){if(i(t[0],n))return t.push(e),!0})||t.push([e])}),E=[],t.length?t.length>1?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t[0]}:null}},P={Point:C,MultiPoint:C,LineString:k,MultiLineString:k,Polygon:S,MultiPolygon:S,Sphere:S},M=1e-6,A=M*M,O=Math.PI,D=O/2,L=(Math.sqrt(O),O/180),I=180/O,j=t.geo.projection,F=t.geo.projectionMutator;t.geo.interrupt=function(e){function n(t,n){for(var r=n<0?-1:1,o=l[+(n<0)],i=0,a=o.length-1;i<a&&t>o[i][2][0];++i);var s=e(t-o[i][1][0],n);return s[0]+=e(o[i][1][0],r*n>r*o[i][0][1]?o[i][0][1]:n)[0],s}function r(){s=l.map(function(t){return t.map(function(t){var n,r=e(t[0][0],t[0][1])[0],o=e(t[2][0],t[2][1])[0],i=e(t[1][0],t[0][1])[1],a=e(t[1][0],t[1][1])[1];return i>a&&(n=i,i=a,a=n),[[r,i],[o,a]]})})}function o(){for(var e=1e-6,n=[],r=0,o=l[0].length;r<o;++r){var a=l[0][r],s=180*a[0][0]/O,u=180*a[0][1]/O,c=180*a[1][1]/O,f=180*a[2][0]/O,p=180*a[2][1]/O;n.push(i([[s+e,u+e],[s+e,c-e],[f-e,c-e],[f-e,p+e]],30))}for(var r=l[1].length-1;r>=0;--r){var a=l[1][r],s=180*a[0][0]/O,u=180*a[0][1]/O,c=180*a[1][1]/O,f=180*a[2][0]/O,p=180*a[2][1]/O;n.push(i([[f-e,p-e],[f-e,c+e],[s+e,c+e],[s+e,u-e]],30))}return{type:"Polygon",coordinates:[t.merge(n)]}}function i(t,e){for(var n,r,o,i=-1,a=t.length,s=t[0],l=[];++i<a;){n=t[i],r=(n[0]-s[0])/e,o=(n[1]-s[1])/e;for(var u=0;u<e;++u)l.push([s[0]+u*r,s[1]+u*o]);s=n}return l.push(n),l}function a(t,e){return Math.abs(t[0]-e[0])<M&&Math.abs(t[1]-e[1])<M}var s,l=[[[[-O,0],[0,D],[O,0]]],[[[-O,0],[0,-D],[O,0]]]];e.invert&&(n.invert=function(t,r){for(var o=s[+(r<0)],i=l[+(r<0)],u=0,c=o.length;u<c;++u){var f=o[u];if(f[0][0]<=t&&t<f[1][0]&&f[0][1]<=r&&r<f[1][1]){var p=e.invert(t-e(i[u][1][0],0)[0],r);return p[0]+=i[u][1][0],a(n(p[0],p[1]),[t,r])?p:null}}});var u=t.geo.projection(n),c=u.stream;return u.stream=function(e){var n=u.rotate(),r=c(e),i=(u.rotate([0,0]),c(e));return u.rotate(n),r.sphere=function(){t.geo.stream(o(),i)},r},u.lobes=function(t){return arguments.length?(l=t.map(function(t){return t.map(function(t){return[[t[0][0]*O/180,t[0][1]*O/180],[t[1][0]*O/180,t[1][1]*O/180],[t[2][0]*O/180,t[2][1]*O/180]]})}),r(),u):l.map(function(t){return t.map(function(t){return[[180*t[0][0]/O,180*t[0][1]/O],[180*t[1][0]/O,180*t[1][1]/O],[180*t[2][0]/O,180*t[2][1]/O]]})})},u},u.invert=function(t,e){var n=.5*e*Math.sqrt((4+O)/O),r=s(n),o=Math.cos(r);return[t/(2/Math.sqrt(O*(4+O))*(1+o)),s((r+n*(o+2))/(2+D))]},(t.geo.eckert4=function(){return j(u)}).raw=u;var R=t.geo.azimuthalEqualArea.raw;p.invert=function(t,e){var n=2*s(e/2);return[t*Math.cos(n/2)/Math.cos(n),n]},(t.geo.hammer=f).raw=c,h.invert=function(t,e){return[2/3*O*t/Math.sqrt(O*O/3-e*e),e]},(t.geo.kavrayskiy7=function(){return j(h)}).raw=h,d.invert=function(t,e){return[t,2.5*Math.atan(Math.exp(.8*e))-.625*O]},(t.geo.miller=function(){return j(d)}).raw=d;var N=(m(O),y(Math.SQRT2/D,Math.SQRT2,O));(t.geo.mollweide=function(){return j(N)}).raw=N,v.invert=function(t,e){var n,r=e,o=25;do{var i=r*r,a=i*i;r-=n=(r*(1.007226+i*(.015085+a*(-.044475+.028874*i-.005916*a)))-e)/(1.007226+i*(.045255+a*(-.311325+.259866*i-.005916*11*a)))}while(Math.abs(n)>M&&--o>0);return[t/(.8707+(i=r*r)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),r]},(t.geo.naturalEarth=function(){return j(v)}).raw=v;var z=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];z.forEach(function(t){t[1]*=1.0144}),g.invert=function(t,e){var n=e/D,r=90*n,o=Math.min(18,Math.abs(r/5)),i=Math.max(0,Math.floor(o));do{var a=z[i][1],s=z[i+1][1],l=z[Math.min(19,i+2)][1],u=l-a,c=l-2*s+a,f=2*(Math.abs(n)-s)/u,p=c/u,h=f*(1-p*f*(1-2*p*f));if(h>=0||1===i){r=(e>=0?5:-5)*(h+o);var d,m=50;do o=Math.min(18,Math.abs(r)/5),i=Math.floor(o),h=o-i,a=z[i][1],s=z[i+1][1],l=z[Math.min(19,i+2)][1],r-=(d=(e>=0?D:-D)*(s+h*(l-a)/2+h*h*(l-2*s+a)/2)-e)*I;while(Math.abs(d)>A&&--m>0);break}}while(--i>=0);var y=z[i][0],v=z[i+1][0],g=z[Math.min(19,i+2)][0];return[t/(v+h*(g-y)/2+h*h*(g-2*v+y)/2),r*L]},(t.geo.robinson=function(){return j(g)}).raw=g,b.invert=function(t,e){return[t/Math.cos(e),e]},(t.geo.sinusoidal=function(){return j(b)}).raw=b,_.invert=function(t,e){if(!(t*t+4*e*e>O*O+M)){var n=t,r=e,o=25;do{var i,a=Math.sin(n),s=Math.sin(n/2),u=Math.cos(n/2),c=Math.sin(r),f=Math.cos(r),p=Math.sin(2*r),h=c*c,d=f*f,m=s*s,y=1-d*u*u,v=y?l(f*u)*Math.sqrt(i=1/y):i=0,g=2*v*f*s-t,b=v*c-e,_=i*(d*m+v*f*u*h),x=i*(.5*a*p-2*v*c*s),w=.25*i*(p*s-v*c*d*a),T=i*(h*u+v*m*f),E=x*w-T*_;if(!E)break;var C=(b*x-g*T)/E,k=(g*w-b*_)/E;
n-=C,r-=k}while((Math.abs(C)>M||Math.abs(k)>M)&&--o>0);return[n,r]}},(t.geo.aitoff=function(){return j(_)}).raw=_,x.invert=function(t,e){var n=t,r=e,o=25;do{var i,a=Math.cos(r),s=Math.sin(r),u=Math.sin(2*r),c=s*s,f=a*a,p=Math.sin(n),h=Math.cos(n/2),d=Math.sin(n/2),m=d*d,y=1-f*h*h,v=y?l(a*h)*Math.sqrt(i=1/y):i=0,g=.5*(2*v*a*d+n/D)-t,b=.5*(v*s+r)-e,_=.5*i*(f*m+v*a*h*c)+.5/D,x=i*(p*u/4-v*s*d),w=.125*i*(u*d-v*s*f*p),T=.5*i*(c*h+v*m*a)+.5,E=x*w-T*_,C=(b*x-g*T)/E,k=(g*w-b*_)/E;n-=C,r-=k}while((Math.abs(C)>M||Math.abs(k)>M)&&--o>0);return[n,r]},(t.geo.winkel3=function(){return j(x)}).raw=x}e.exports=r},{}],692:[function(t,e,n){"use strict";function r(t,e){var n=t.projection,r=t.lonaxis,a=t.lataxis,l=t.domain,u=t.framewidth||0,c=e.w*(l.x[1]-l.x[0]),f=e.h*(l.y[1]-l.y[0]),p=r.range[0]+s,h=r.range[1]-s,d=a.range[0]+s,m=a.range[1]-s,y=r._fullRange[0]+s,v=r._fullRange[1]-s,g=a._fullRange[0]+s,b=a._fullRange[1]-s;n._translate0=[e.l+c/2,e.t+f/2];var _=h-p,x=m-d,w=[p+_/2,d+x/2],T=n._rotate;n._center=[w[0]+T[0],w[1]+T[1]];var E=function(e){function r(t){return Math.min(x*c/(t[1][0]-t[0][0]),x*f/(t[1][1]-t[0][1]))}var a,s,l,_,x=e.scale(),w=n._translate0,T=o(p,d,h,m),E=o(y,g,v,b);l=i(e,T),a=r(l),_=i(e,E),n._fullScale=r(_),e.scale(a),l=i(e,T),s=[w[0]-l[0][0]+u,w[1]-l[0][1]+u],n._translate=s,e.translate(s),l=i(e,T),t._isAlbersUsa||e.clipExtent(l),a=n.scale*a,n._scale=a,t._width=Math.round(l[1][0])+u,t._height=Math.round(l[1][1])+u,t._marginX=(c-Math.round(l[1][0]))/2,t._marginY=(f-Math.round(l[1][1]))/2};return E}function o(t,e,n,r){var o=(n-t)/4;return{type:"Polygon",coordinates:[[[t,e],[t,r],[t+o,r],[t+2*o,r],[t+3*o,r],[n,r],[n,e],[n-o,e],[n-2*o,e],[n-3*o,e],[t,e]]]}}function i(t,e){return a.geo.path().projection(t).bounds(e)}var a=t("d3"),s=t("./constants").clipPad;e.exports=r},{"./constants":683,d3:125}],693:[function(t,e,n){"use strict";function r(t,e){var n;return(n=e._isScoped?i:e._clipAngle?s:a)(t,e.projection)}function o(t,e){var n=e._fullScale;return x.behavior.zoom().translate(t.translate()).scale(t.scale()).scaleExtent([.5*n,100*n])}function i(t,e){function n(){x.select(this).style(E)}function r(){a.scale(x.event.scale).translate(x.event.translate),t.render()}function i(){x.select(this).style(C)}var a=t.projection,s=o(a,e);return s.on("zoomstart",n).on("zoom",r).on("zoomend",i),s}function a(t,e){function n(t){return y.invert(t)}function r(t){var e=y(n(t));return Math.abs(e[0]-t[0])>g||Math.abs(e[1]-t[1])>g}function i(){x.select(this).style(E),l=x.mouse(this),u=y.rotate(),c=y.translate(),f=u,p=n(l)}function a(){return h=x.mouse(this),r(l)?(v.scale(y.scale()),void v.translate(y.translate())):(y.scale(x.event.scale),y.translate([c[0],x.event.translate[1]]),p?n(h)&&(m=n(h),d=[f[0]+(m[0]-p[0]),u[1],u[2]],y.rotate(d),f=d):(l=h,p=n(l)),void t.render())}function s(){x.select(this).style(C)}var l,u,c,f,p,h,d,m,y=t.projection,v=o(y,e),g=2;return v.on("zoomstart",i).on("zoom",a).on("zoomend",s),v}function s(t,e){function n(t){v++||t({type:"zoomstart"})}function r(t){t({type:"zoom"})}function i(t){--v||t({type:"zoomend"})}var a,s=t.projection,h={r:s.rotate(),k:s.scale()},d=o(s,e),m=_(d,"zoomstart","zoom","zoomend"),v=0,g=d.on;return d.on("zoomstart",function(){x.select(this).style(E);var t=x.mouse(this),e=s.rotate(),o=e,i=s.translate(),v=u(e);a=l(s,t),g.call(d,"zoom",function(){var n=x.mouse(this);if(s.scale(h.k=x.event.scale),a){if(l(s,n)){s.rotate(e).translate(i);var u=l(s,n),d=f(a,u),g=y(c(v,d)),b=h.r=p(g,a,o);isFinite(b[0])&&isFinite(b[1])&&isFinite(b[2])||(b=o),s.rotate(b),o=b}}else t=n,a=l(s,t);r(m.of(this,arguments))}),n(m.of(this,arguments))}).on("zoomend",function(){x.select(this).style(C),g.call(d,"zoom",null),i(m.of(this,arguments))}).on("zoom.redraw",function(){t.render()}),x.rebind(d,m,"on")}function l(t,e){var n=t.invert(e);return n&&isFinite(n[0])&&isFinite(n[1])&&v(n)}function u(t){var e=.5*t[0]*w,n=.5*t[1]*w,r=.5*t[2]*w,o=Math.sin(e),i=Math.cos(e),a=Math.sin(n),s=Math.cos(n),l=Math.sin(r),u=Math.cos(r);return[i*s*u+o*a*l,o*s*u-i*a*l,i*a*u+o*s*l,i*s*l-o*a*u]}function c(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=e[0],s=e[1],l=e[2],u=e[3];return[n*a-r*s-o*l-i*u,n*s+r*a+o*u-i*l,n*l-r*u+o*a+i*s,n*u+r*l-o*s+i*a]}function f(t,e){if(t&&e){var n=b(t,e),r=Math.sqrt(g(n,n)),o=.5*Math.acos(Math.max(-1,Math.min(1,g(t,e)))),i=Math.sin(o)/r;return r&&[Math.cos(o),n[2]*i,-n[1]*i,n[0]*i]}}function p(t,e,n){var r=m(e,2,t[0]);r=m(r,1,t[1]),r=m(r,0,t[2]-n[2]);var o,i,a=e[0],s=e[1],l=e[2],u=r[0],c=r[1],f=r[2],p=Math.atan2(s,a)*T,d=Math.sqrt(a*a+s*s);Math.abs(c)>d?(i=(c>0?90:-90)-p,o=0):(i=Math.asin(c/d)*T-p,o=Math.sqrt(d*d-c*c));var y=180-i-2*p,v=(Math.atan2(f,u)-Math.atan2(l,o))*T,g=(Math.atan2(f,u)-Math.atan2(l,-o))*T,b=h(n[0],n[1],i,v),_=h(n[0],n[1],y,g);return b<=_?[i,v,n[2]]:[y,g,n[2]]}function h(t,e,n,r){var o=d(n-t),i=d(r-e);return Math.sqrt(o*o+i*i)}function d(t){return(t%360+540)%360-180}function m(t,e,n){var r=n*w,o=t.slice(),i=0===e?1:0,a=2===e?1:2,s=Math.cos(r),l=Math.sin(r);return o[i]=t[i]*s-t[a]*l,o[a]=t[a]*s+t[i]*l,o}function y(t){return[Math.atan2(2*(t[0]*t[1]+t[2]*t[3]),1-2*(t[1]*t[1]+t[2]*t[2]))*T,Math.asin(Math.max(-1,Math.min(1,2*(t[0]*t[2]-t[3]*t[1]))))*T,Math.atan2(2*(t[0]*t[3]+t[1]*t[2]),1-2*(t[2]*t[2]+t[3]*t[3]))*T]}function v(t){var e=t[0]*w,n=t[1]*w,r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function g(t,e){for(var n=0,r=0,o=t.length;r<o;++r)n+=t[r]*e[r];return n}function b(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function _(t){for(var e=0,n=arguments.length,r=[];++e<n;)r.push(arguments[e]);var o=x.dispatch.apply(null,r);return o.of=function(e,n){return function(r){var i;try{i=r.sourceEvent=x.event,r.target=t,x.event=r,o[r.type].apply(e,n)}finally{x.event=i}}},o}var x=t("d3"),w=Math.PI/180,T=180/Math.PI,E={cursor:"pointer"},C={cursor:"auto"};e.exports=r},{d3:125}],694:[function(t,e,n){"use strict";function r(t,e){var n=t.projection,r=t.zoom,i=function(){t.makeProjection(e),t.makePath(),r.scale(n.scale()),r.translate(n.translate()),o.loneUnhover(t.hoverContainer),t.render()};return i}var o=t("../cartesian/graph_interact");e.exports=r},{"../cartesian/graph_interact":669}],695:[function(t,e,n){"use strict";function r(t,e){this.element=t,this.plot=e,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxStart=[0,0],this.boxEnd=[0,0]}function o(t){function e(){t.xaxis.autorange=!1,t.yaxis.autorange=!1}var n=t.mouseContainer,o=t.glplot,s=new r(n,o);return s.mouseListener=i(n,function(n,r,i){function a(e,n,r){var o=Math.min(n,r),i=Math.max(n,r);o!==i?(e[0]=o,e[1]=i,s.dataBox=e):(t.selectBox.selectBox=[0,0,1,1],t.glplot.setDirty())}var l=t.xaxis.range,u=t.yaxis.range,c=o.viewBox,f=s.lastPos[0],p=s.lastPos[1];switch(r*=o.pixelRatio,i*=o.pixelRatio,i=c[3]-c[1]-i,t.fullLayout.dragmode){case"zoom":if(n){var h=r/(c[2]-c[0])*(l[1]-l[0])+l[0],d=i/(c[3]-c[1])*(u[1]-u[0])+u[0];s.boxEnabled||(s.boxStart[0]=h,s.boxStart[1]=d),s.boxEnd[0]=h,s.boxEnd[1]=d,s.boxEnabled=!0}else s.boxEnabled&&(a(l,s.boxStart[0],s.boxEnd[0]),a(u,s.boxStart[1],s.boxEnd[1]),e(),s.boxEnabled=!1);break;case"pan":if(s.boxEnabled=!1,n){var m=(f-r)*(l[1]-l[0])/(o.viewBox[2]-o.viewBox[0]),y=(p-i)*(u[1]-u[0])/(o.viewBox[3]-o.viewBox[1]);l[0]+=m,l[1]+=m,u[0]+=y,u[1]+=y,s.lastInputTime=Date.now(),e(),t.cameraChanged()}}s.lastPos[0]=r,s.lastPos[1]=i}),s.wheelListener=a(n,function(n,r){var i=t.xaxis.range,a=t.yaxis.range,l=o.viewBox,u=s.lastPos[0],c=s.lastPos[1];switch(t.fullLayout.dragmode){case"zoom":break;case"pan":var f=Math.exp(.1*r/(l[3]-l[1])),p=u/(l[2]-l[0])*(i[1]-i[0])+i[0],h=c/(l[3]-l[1])*(a[1]-a[0])+a[0];i[0]=(i[0]-p)*f+p,i[1]=(i[1]-p)*f+p,a[0]=(a[0]-h)*f+h,a[1]=(a[1]-h)*f+h,s.lastInputTime=Date.now(),e(),t.cameraChanged()}return!0}),s}var i=t("mouse-change"),a=t("mouse-wheel");e.exports=o},{"mouse-change":473,"mouse-wheel":477}],696:[function(t,e,n){"use strict";function r(t){this.scene=t,this.gl=t.gl,this.pixelRatio=t.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0]}function o(t){return new r(t)}var i=t("../plots"),a=t("../cartesian/axes"),s=t("../../lib/html2unicode"),l=t("../../lib/str2rgbarray"),u=r.prototype,c=["xaxis","yaxis"];u.merge=function(t){this.titleEnable=!1,this.backgroundColor=l(t.plot_bgcolor);var e,n,r,o,i,a,u,f,p,h,d;for(h=0;h<2;++h){for(e=c[h],n=t[this.scene[e]._name],r=/Click to enter .+ title/.test(n.title)?"":n.title,d=0;d<=2;d+=2)this.labelEnable[h+d]=!1,this.labels[h+d]=s(r),this.labelColor[h+d]=l(n.titlefont.color),this.labelFont[h+d]=n.titlefont.family,this.labelSize[h+d]=n.titlefont.size,this.labelPad[h+d]=this.getLabelPad(e,n),this.tickEnable[h+d]=!1,this.tickColor[h+d]=l((n.tickfont||{}).color),this.tickAngle[h+d]="auto"===n.tickangle?0:Math.PI*-n.tickangle/180,this.tickPad[h+d]=this.getTickPad(n),this.tickMarkLength[h+d]=0,this.tickMarkWidth[h+d]=n.tickwidth||0,this.tickMarkColor[h+d]=l(n.tickcolor),this.borderLineEnable[h+d]=!1,this.borderLineColor[h+d]=l(n.linecolor),this.borderLineWidth[h+d]=n.linewidth||0;u=this.hasSharedAxis(n),i=this.hasAxisInDfltPos(e,n)&&!u,a=this.hasAxisInAltrPos(e,n)&&!u,o=n.mirror||!1,f=u?String(o).indexOf("all")!==-1:!!o,p=u?"allticks"===o:String(o).indexOf("ticks")!==-1,i?this.labelEnable[h]=!0:a&&(this.labelEnable[h+2]=!0),i?this.tickEnable[h]=n.showticklabels:a&&(this.tickEnable[h+2]=n.showticklabels),(i||f)&&(this.borderLineEnable[h]=n.showline),(a||f)&&(this.borderLineEnable[h+2]=n.showline),(i||p)&&(this.tickMarkLength[h]=this.getTickMarkLength(n)),(a||p)&&(this.tickMarkLength[h+2]=this.getTickMarkLength(n)),this.gridLineEnable[h]=n.showgrid,this.gridLineColor[h]=l(n.gridcolor),this.gridLineWidth[h]=n.gridwidth,this.zeroLineEnable[h]=n.zeroline,this.zeroLineColor[h]=l(n.zerolinecolor),this.zeroLineWidth[h]=n.zerolinewidth}},u.hasSharedAxis=function(t){var e=this.scene,n=i.getSubplotIds(e.fullLayout,"gl2d"),r=a.findSubplotsWithAxis(n,t);return 0!==r.indexOf(e.id)},u.hasAxisInDfltPos=function(t,e){var n=e.side;return"xaxis"===t?"bottom"===n:"yaxis"===t?"left"===n:void 0},u.hasAxisInAltrPos=function(t,e){var n=e.side;return"xaxis"===t?"top"===n:"yaxis"===t?"right"===n:void 0},u.getLabelPad=function(t,e){var n=1.5,r=e.titlefont.size,o=e.showticklabels;return"xaxis"===t?"top"===e.side?-10+r*(n+(o?1:0)):-10+r*(n+(o?.5:0)):"yaxis"===t?"right"===e.side?10+r*(n+(o?1:.5)):10+r*(n+(o?.5:0)):void 0},u.getTickPad=function(t){return"outside"===t.ticks?10+t.ticklen:15},u.getTickMarkLength=function(t){if(!t.ticks)return 0;var e=t.ticklen;return"inside"===t.ticks?-e:e},e.exports=o},{"../../lib/html2unicode":632,"../../lib/str2rgbarray":646,"../cartesian/axes":662,"../plots":720}],697:[function(t,e,n){"use strict";var r=t("./scene2d"),o=t("../plots"),i=t("../../constants/xmlns_namespaces");n.name="gl2d",n.attr=["xaxis","yaxis"],n.idRoot=["x","y"],n.idRegex={x:/^x([2-9]|[1-9][0-9]+)?$/,y:/^y([2-9]|[1-9][0-9]+)?$/},n.attrRegex={x:/^xaxis([2-9]|[1-9][0-9]+)?$/,y:/^yaxis([2-9]|[1-9][0-9]+)?$/},n.attributes=t("../cartesian/attributes"),n.plot=function(t){for(var e=t._fullLayout,n=t._fullData,i=o.getSubplotIds(e,"gl2d"),a=0;a<i.length;a++){var s=i[a],l=e._plots[s],u=o.getSubplotData(n,"gl2d",s),c=l._scene2d;void 0===c&&(c=new r({id:s,graphDiv:t,container:t.querySelector(".gl-container"),staticPlot:t._context.staticPlot,plotGlPixelRatio:t._context.plotGlPixelRatio},e),l._scene2d=c),c.plot(u,t.calcdata,e,t.layout)}},n.clean=function(t,e,n,r){for(var i=o.getSubplotIds(r,"gl2d"),a=0;a<i.length;a++){var s=i[a],l=r._plots[s];if(l._scene2d){var u=o.getSubplotData(t,"gl2d",s);0===u.length&&(l._scene2d.destroy(),delete r._plots[s])}}},n.toSVG=function(t){for(var e=t._fullLayout,n=o.getSubplotIds(e,"gl2d"),r=0;r<n.length;r++){var a=e._plots[n[r]],s=a._scene2d,l=s.toImage("png"),u=e._glimages.append("svg:image");u.attr({xmlns:i.svg,"xlink:href":l,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),s.destroy()}}},{"../../constants/xmlns_namespaces":620,"../cartesian/attributes":661,"../plots":720,"./scene2d":698}],698:[function(t,e,n){"use strict";function r(t,e){this.container=t.container,this.graphDiv=t.graphDiv,this.pixelRatio=t.plotGlPixelRatio||window.devicePixelRatio,this.id=t.id,this.staticPlot=!!t.staticPlot,this.fullLayout=e,this.updateAxes(e),this.makeFramework(),this.glplotOptions=p(this),this.glplotOptions.merge(e),this.glplot=u(this.glplotOptions),this.camera=h(this),this.traces={},this.spikes=c(this.glplot),this.selectBox=f(this.glplot,{innerFill:!1,outerFill:!0}),this.pickResult=null,this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw()}function o(t,e){for(var n=0;n<2;++n){var r=t[n],o=e[n];if(r.length!==o.length)return!0;for(var i=0;i<r.length;++i)if(r[i].x!==o[i].x)return!0}return!1}var i,a,s=t("../../plots/cartesian/axes"),l=t("../../plots/cartesian/graph_interact"),u=t("gl-plot2d"),c=t("gl-spikes2d"),f=t("gl-select-box"),p=t("./convert"),h=t("./camera"),d=t("../../lib/html2unicode"),m=t("../../lib/show_no_webgl_msg"),y=["xaxis","yaxis"];e.exports=r;var v=r.prototype;v.makeFramework=function(){if(this.staticPlot){if(!a){i=document.createElement("canvas");try{a=i.getContext("webgl",{preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0})}catch(t){throw new Error(["Error creating static canvas/context for image server"].join(" "))}}this.canvas=i,this.gl=a}else{var e,n=document.createElement("canvas"),r={premultipliedAlpha:!0};try{e=n.getContext("webgl",r)}catch(t){}if(!e)try{e=n.getContext("experimental-webgl",r)}catch(t){}e||m(this),this.canvas=n,this.gl=e}var o=this.canvas,s=this.pixelRatio,l=this.fullLayout;o.width=0|Math.ceil(s*l.width),o.height=0|Math.ceil(s*l.height),o.style.width="100%",o.style.height="100%",o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style["pointer-events"]="none",o.className+="user-select-none";var u=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");u.style.position="absolute",u.style.top=u.style.left="0px",u.style.width=u.style.height="100%",u.style["z-index"]=20,u.style["pointer-events"]="none";var c=this.mouseContainer=document.createElement("div");c.style.position="absolute";var f=this.container;f.appendChild(o),f.appendChild(u),f.appendChild(c)},v.toImage=function(t){t||(t="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(i),this.glplot.setDirty(),this.glplot.draw();var e=this.glplot.gl,n=e.drawingBufferWidth,r=e.drawingBufferHeight;e.bindFramebuffer(e.FRAMEBUFFER,null);var o=new Uint8Array(n*r*4);e.readPixels(0,0,n,r,e.RGBA,e.UNSIGNED_BYTE,o);for(var a=0,s=r-1;a<s;++a,--s)for(var l=0;l<n;++l)for(var u=0;u<4;++u){var c=o[4*(n*a+l)+u];o[4*(n*a+l)+u]=o[4*(n*s+l)+u],o[4*(n*s+l)+u]=c}var f=document.createElement("canvas");f.width=n,f.height=r;var p=f.getContext("2d"),h=p.createImageData(n,r);h.data.set(o),p.putImageData(h,0,0);var d;switch(t){case"jpeg":d=f.toDataURL("image/jpeg");break;case"webp":d=f.toDataURL("image/webp");break;default:d=f.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(i),d},v.computeTickMarks=function(){this.xaxis._length=this.glplot.viewBox[2]-this.glplot.viewBox[0],this.yaxis._length=this.glplot.viewBox[3]-this.glplot.viewBox[1];for(var t=[s.calcTicks(this.xaxis),s.calcTicks(this.yaxis)],e=0;e<2;++e)for(var n=0;n<t[e].length;++n)t[e][n].text=d(t[e][n].text+"").replace(/\n/g," ");return t},v.updateAxes=function(t){var e=s.subplotMatch,n="xaxis"+this.id.match(e)[1],r="yaxis"+this.id.match(e)[2];this.xaxis=t[n],this.yaxis=t[r]},v.updateFx=function(t){var e=this.fullLayout;e.dragmode=t.dragmode,e.hovermode=t.hovermode};var g=function(t){var e=t.xaxis.range,n=t.yaxis.range;t.graphDiv.layout.xaxis.autorange=t.xaxis.autorange,t.graphDiv.layout.xaxis.range=e.slice(0),t.graphDiv.layout.yaxis.autorange=t.yaxis.autorange,t.graphDiv.layout.yaxis.range=n.slice(0);var r={lastInputTime:t.camera.lastInputTime};r[t.xaxis._name]=e.slice(),r[t.yaxis._name]=n.slice(),t.graphDiv.emit("plotly_relayout",r)};v.cameraChanged=function(){var t=this.camera,e=this.xaxis.range,n=this.yaxis.range;this.glplot.setDataBox([e[0],n[0],e[1],n[1]]);var r=this.computeTickMarks(),i=this.glplotOptions.ticks;o(r,i)&&(this.glplotOptions.ticks=r,this.glplotOptions.dataBox=t.dataBox,this.glplot.update(this.glplotOptions),g(this))},v.destroy=function(){var t=this.traces;t&&Object.keys(t).map(function(e){t[e].dispose(),delete t[e]}),this.glplot.dispose(),this.staticPlot||this.container.removeChild(this.canvas),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.glplot=null,this.stopped=!0},v.plot=function(t,e,n){var r=this.glplot,o=this.pixelRatio;this.fullLayout=n,this.updateAxes(n),this.updateTraces(t,e);var i=n.width,a=n.height,l=0|Math.ceil(o*i),u=0|Math.ceil(o*a),c=this.canvas;c.width===l&&c.height===u||(c.width=l,c.height=u);var f=this.glplotOptions;f.merge(n),f.screenBox=[0,0,i,a];var p=n._size,h=this.xaxis.domain,d=this.yaxis.domain;f.viewBox=[p.l+h[0]*p.w,p.b+d[0]*p.h,i-p.r-(1-h[1])*p.w,a-p.t-(1-d[1])*p.h],this.mouseContainer.style.width=p.w*(h[1]-h[0])+"px",this.mouseContainer.style.height=p.h*(d[1]-d[0])+"px",this.mouseContainer.height=p.h*(d[1]-d[0]),this.mouseContainer.style.left=p.l+h[0]*p.w+"px",this.mouseContainer.style.top=p.t+(1-d[1])*p.h+"px";var m=this.bounds;m[0]=m[1]=1/0,m[2]=m[3]=-(1/0);var v,g,b=Object.keys(this.traces);for(g=0;g<b.length;++g)for(var _=this.traces[b[g]],x=0;x<2;++x)m[x]=Math.min(m[x],_.bounds[x]),m[x+2]=Math.max(m[x+2],_.bounds[x+2]);for(g=0;g<2;++g)m[g]>m[g+2]&&(m[g]=-1,m[g+2]=1),v=this[y[g]],v._length=f.viewBox[g+2]-f.viewBox[g],s.doAutoRange(v);f.ticks=this.computeTickMarks();var w=this.xaxis.range,T=this.yaxis.range;f.dataBox=[w[0],T[0],w[1],T[1]],f.merge(n),r.update(f),this.glplot.draw()},v.updateTraces=function(t,e){var n,r,o,i=Object.keys(this.traces);t:for(n=0;n<i.length;n++){var a=i[n],s=this.traces[a];for(r=0;r<t.length;r++)if(o=t[r],o.uid===a&&o.type===s.type)continue t;s.dispose(),delete this.traces[a]}for(n=0;n<t.length;n++){o=t[n];var l=e[n],u=this.traces[o.uid];u?u.update(o,l):(u=o._module.plot(this,o,l),this.traces[o.uid]=u)}},v.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var t=this.glplot,e=this.camera,n=e.mouseListener,r=this.fullLayout;this.cameraChanged();var o=n.x*t.pixelRatio,i=this.canvas.height-t.pixelRatio*n.y;if(e.boxEnabled&&"zoom"===r.dragmode)this.selectBox.enabled=!0,this.selectBox.selectBox=[Math.min(e.boxStart[0],e.boxEnd[0]),Math.min(e.boxStart[1],e.boxEnd[1]),Math.max(e.boxStart[0],e.boxEnd[0]),Math.max(e.boxStart[1],e.boxEnd[1])],t.setDirty();else{this.selectBox.enabled=!1;var a=r._size,s=this.xaxis.domain,u=this.yaxis.domain,c=t.pick(o/t.pixelRatio+a.l+s[0]*a.w,i/t.pixelRatio-(a.t+(1-u[1])*a.h));if(c&&"skip"!==c.object._trace.hoverinfo&&r.hovermode){var f=c.object._trace.handlePick(c);if(f&&(!this.lastPickResult||this.lastPickResult.traceUid!==f.trace.uid||this.lastPickResult.dataCoord[0]!==f.dataCoord[0]||this.lastPickResult.dataCoord[1]!==f.dataCoord[1])){var p=f;this.lastPickResult={traceUid:f.trace?f.trace.uid:null,dataCoord:f.dataCoord.slice()},this.spikes.update({center:c.dataCoord}),p.screenCoord=[((t.viewBox[2]-t.viewBox[0])*(c.dataCoord[0]-t.dataBox[0])/(t.dataBox[2]-t.dataBox[0])+t.viewBox[0])/t.pixelRatio,(this.canvas.height-(t.viewBox[3]-t.viewBox[1])*(c.dataCoord[1]-t.dataBox[1])/(t.dataBox[3]-t.dataBox[1])-t.viewBox[1])/t.pixelRatio];var h=p.hoverinfo;if("all"!==h){var d=h.split("+");d.indexOf("x")===-1&&(p.traceCoord[0]=void 0),d.indexOf("y")===-1&&(p.traceCoord[1]=void 0),d.indexOf("z")===-1&&(p.traceCoord[2]=void 0),d.indexOf("text")===-1&&(p.textLabel=void 0),d.indexOf("name")===-1&&(p.name=void 0)}l.loneHover({x:p.screenCoord[0],y:p.screenCoord[1],xLabel:this.hoverFormatter("xaxis",p.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",p.traceCoord[1]),zLabel:p.traceCoord[2],text:p.textLabel,name:p.name,color:p.color},{container:this.svgContainer})}}else!c&&this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,l.loneUnhover(this.svgContainer))}t.draw()}},v.hoverFormatter=function(t,e){if(void 0!==e){var n=this[t];return s.tickText(n,n.c2l(e),"hover").text}}},{"../../lib/html2unicode":632,"../../lib/show_no_webgl_msg":644,"../../plots/cartesian/axes":662,"../../plots/cartesian/graph_interact":669,"./camera":695,"./convert":696,"gl-plot2d":177,"gl-select-box":235,"gl-spikes2d":255}],699:[function(t,e,n){"use strict";function r(t,e){t=t||document.body,e=e||{};var n=[.01,1/0];"distanceLimits"in e&&(n[0]=e.distanceLimits[0],n[1]=e.distanceLimits[1]),"zoomMin"in e&&(n[0]=e.zoomMin),"zoomMax"in e&&(n[1]=e.zoomMax);var r=i({center:e.center||[0,0,0],up:e.up||[0,1,0],eye:e.eye||[0,0,10],mode:e.mode||"orbit",distanceLimits:n}),l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=0,c=t.clientWidth,f=t.clientHeight,p={keyBindingMode:"rotate",view:r,element:t,delay:e.delay||16,rotateSpeed:e.rotateSpeed||1,zoomSpeed:e.zoomSpeed||1,translateSpeed:e.translateSpeed||1,flipX:!!e.flipX,flipY:!!e.flipY,modes:r.modes,tick:function(){var e=o(),n=this.delay,i=e-2*n;r.idle(e-n),r.recalcMatrix(i),r.flush(e-(100+2*n));for(var a=!0,s=r.computedMatrix,p=0;p<16;++p)a=a&&l[p]===s[p],l[p]=s[p];var h=t.clientWidth===c&&t.clientHeight===f;return c=t.clientWidth,f=t.clientHeight,a?!h:(u=Math.exp(r.computedRadius[0]),!0)},lookAt:function(t,e,n){r.lookAt(r.lastT(),t,e,n)},rotate:function(t,e,n){r.rotate(r.lastT(),t,e,n)},pan:function(t,e,n){r.pan(r.lastT(),t,e,n)},translate:function(t,e,n){r.translate(r.lastT(),t,e,n)}};Object.defineProperties(p,{matrix:{get:function(){return r.computedMatrix},set:function(t){return r.setMatrix(r.lastT(),t),r.computedMatrix},enumerable:!0},mode:{get:function(){return r.getMode()},set:function(t){var e=r.computedUp.slice(),n=r.computedEye.slice(),i=r.computedCenter.slice();if(r.setMode(t),"turntable"===t){var a=o();r._active.lookAt(a,n,i,e),r._active.lookAt(a+500,n,i,[0,0,1]),r._active.flush(a)}return r.getMode()},enumerable:!0},center:{get:function(){return r.computedCenter},set:function(t){return r.lookAt(r.lastT(),null,t),r.computedCenter},enumerable:!0},eye:{get:function(){return r.computedEye},set:function(t){return r.lookAt(r.lastT(),t),r.computedEye},enumerable:!0},up:{get:function(){return r.computedUp},set:function(t){return r.lookAt(r.lastT(),null,null,t),r.computedUp},enumerable:!0},distance:{get:function(){return u},set:function(t){return r.setDistance(r.lastT(),t),t},enumerable:!0},distanceLimits:{get:function(){return r.getDistanceLimits(n)},set:function(t){return r.setDistanceLimits(t),t},enumerable:!0}}),t.addEventListener("contextmenu",function(t){return t.preventDefault(),!1});var h=0,d=0;return a(t,function(e,n,i,a){var s="rotate"===p.keyBindingMode,l="pan"===p.keyBindingMode,c="zoom"===p.keyBindingMode,f=!!a.control,m=!!a.alt,y=!!a.shift,v=!!(1&e),g=!!(2&e),b=!!(4&e),_=1/t.clientHeight,x=_*(n-h),w=_*(i-d),T=p.flipX?1:-1,E=p.flipY?1:-1,C=o(),k=Math.PI*p.rotateSpeed;if((s&&v&&!f&&!m&&!y||v&&!f&&!m&&y)&&r.rotate(C,T*k*x,-E*k*w,0),(l&&v&&!f&&!m&&!y||g||v&&f&&!m&&!y)&&r.pan(C,-p.translateSpeed*x*u,p.translateSpeed*w*u,0),c&&v&&!f&&!m&&!y||b||v&&!f&&m&&!y){var S=-p.zoomSpeed*w/window.innerHeight*(C-r.lastT())*100;r.pan(C,0,0,u*(Math.exp(S)-1))}return h=n,d=i,!0}),s(t,function(t,e){var n=p.flipX?1:-1,i=p.flipY?1:-1,a=o();if(Math.abs(t)>Math.abs(e))r.rotate(a,0,0,-t*n*Math.PI*p.rotateSpeed/window.innerWidth);else{var s=-p.zoomSpeed*i*e/window.innerHeight*(a-r.lastT())/100;r.pan(a,0,0,u*(Math.exp(s)-1))}},!0),p}e.exports=r;var o=t("right-now"),i=t("3d-view"),a=t("mouse-change"),s=t("mouse-wheel")},{"3d-view":41,"mouse-change":473,"mouse-wheel":477,"right-now":487}],700:[function(t,e,n){"use strict";function r(t,e){for(var n=0;n<3;++n){var r=s[n];e[r]._gd=t}}var o=t("./scene"),i=t("../plots"),a=t("../../constants/xmlns_namespaces"),s=["xaxis","yaxis","zaxis"];n.name="gl3d",n.attr="scene",n.idRoot="scene",n.idRegex=/^scene([2-9]|[1-9][0-9]+)?$/,n.attrRegex=/^scene([2-9]|[1-9][0-9]+)?$/,n.attributes=t("./layout/attributes"),n.layoutAttributes=t("./layout/layout_attributes"),n.supplyLayoutDefaults=t("./layout/defaults"),n.plot=function(t){var e=t._fullLayout,n=t._fullData,a=i.getSubplotIds(e,"gl3d");e._paperdiv.style({width:e.width+"px",height:e.height+"px"}),t._context.setBackground(t,e.paper_bgcolor);for(var s=0;s<a.length;s++){var l=a[s],u=i.getSubplotData(n,"gl3d",l),c=e[l],f=c._scene;void 0===f&&(r(t,c),f=new o({id:l,graphDiv:t,container:t.querySelector(".gl-container"),staticPlot:t._context.staticPlot,plotGlPixelRatio:t._context.plotGlPixelRatio},e),c._scene=f),f.plot(u,e,t.layout)}},n.clean=function(t,e,n,r){for(var o=i.getSubplotIds(r,"gl3d"),a=0;a<o.length;a++){var s=o[a];!e[s]&&r[s]._scene&&r[s]._scene.destroy()}},n.toSVG=function(t){for(var e=t._fullLayout,n=i.getSubplotIds(e,"gl3d"),r=e._size,o=0;o<n.length;o++){var s=e[n[o]],l=s.domain,u=s._scene,c=u.toImage("png"),f=e._glimages.append("svg:image");f.attr({xmlns:a.svg,"xlink:href":c,x:r.l+r.w*l.x[0],y:r.t+r.h*(1-l.y[1]),width:r.w*(l.x[1]-l.x[0]),height:r.h*(l.y[1]-l.y[0]),preserveAspectRatio:"none"}),u.destroy()}},n.cleanId=function(t){if(t.match(/^scene[0-9]*$/)){var e=t.substr(5);return"1"===e&&(e=""),"scene"+e}},n.setConvert=t("./set_convert")},{"../../constants/xmlns_namespaces":620,"../plots":720,"./layout/attributes":701,"./layout/defaults":705,"./layout/layout_attributes":706,"./scene":710,"./set_convert":711}],701:[function(t,e,n){"use strict";e.exports={scene:{valType:"subplotid",dflt:"scene"}}},{}],702:[function(t,e,n){"use strict";var r=t("../../../components/color"),o=t("../../cartesian/layout_attributes"),i=t("../../../lib/extend").extendFlat;e.exports={showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:r.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:o.color,categoryorder:o.categoryorder,categoryarray:o.categoryarray,title:o.title,titlefont:o.titlefont,type:o.type,autorange:o.autorange,rangemode:o.rangemode,range:o.range,fixedrange:o.fixedrange,tickmode:o.tickmode,nticks:o.nticks,tick0:o.tick0,dtick:o.dtick,tickvals:o.tickvals,ticktext:o.ticktext,ticks:o.ticks,mirror:o.mirror,ticklen:o.ticklen,tickwidth:o.tickwidth,tickcolor:o.tickcolor,showticklabels:o.showticklabels,tickfont:o.tickfont,tickangle:o.tickangle,tickprefix:o.tickprefix,showtickprefix:o.showtickprefix,ticksuffix:o.ticksuffix,showticksuffix:o.showticksuffix,showexponent:o.showexponent,exponentformat:o.exponentformat,separatethousands:o.separatethousands,tickformat:o.tickformat,hoverformat:o.hoverformat,showline:o.showline,linecolor:o.linecolor,linewidth:o.linewidth,showgrid:o.showgrid,gridcolor:i({},o.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:o.gridwidth,zeroline:o.zeroline,zerolinecolor:o.zerolinecolor,zerolinewidth:o.zerolinewidth}},{"../../../components/color":540,"../../../lib/extend":627,"../../cartesian/layout_attributes":671}],703:[function(t,e,n){"use strict";var r=t("tinycolor2").mix,o=t("../../../lib"),i=t("./axis_attributes"),a=t("../../cartesian/axis_defaults"),s=["xaxis","yaxis","zaxis"],l=13600/187;e.exports=function(t,e,n){function u(t,e){return o.coerce(c,f,i,t,e)}for(var c,f,p=0;p<s.length;p++){var h=s[p];c=t[h]||{},f={_id:h[0]+n.scene,_name:h},e[h]=f=a(c,f,u,{font:n.font,letter:h[0],data:n.data,showGrid:!0,bgColor:n.bgColor}),u("gridcolor",r(f.color,n.bgColor,l).toRgbString()),u("title",h[0]),f.setScale=o.noop,u("showspikes")&&(u("spikesides"),u("spikethickness"),u("spikecolor",f.color)),u("showaxeslabels"),u("showbackground")&&u("backgroundcolor")}}},{"../../../lib":633,"../../cartesian/axis_defaults":663,"./axis_attributes":702,tinycolor2:506}],704:[function(t,e,n){"use strict";function r(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=l(this.tickPad),this._defaultLabelPad=l(this.labelPad),this._defaultLineTickLength=l(this.lineTickLength)}function o(t){var e=new r;return e.merge(t),e}var i=t("arraytools"),a=t("../../../lib/html2unicode"),s=t("../../../lib/str2rgbarray"),l=i.copy1D,u=["xaxis","yaxis","zaxis"],c=r.prototype;c.merge=function(t){for(var e=this,n=0;n<3;++n){var r=t[u[n]];e.labels[n]=a(r.title),"titlefont"in r&&(r.titlefont.color&&(e.labelColor[n]=s(r.titlefont.color)),r.titlefont.family&&(e.labelFont[n]=r.titlefont.family),r.titlefont.size&&(e.labelSize[n]=r.titlefont.size)),"showline"in r&&(e.lineEnable[n]=r.showline),"linecolor"in r&&(e.lineColor[n]=s(r.linecolor)),"linewidth"in r&&(e.lineWidth[n]=r.linewidth),"showgrid"in r&&(e.gridEnable[n]=r.showgrid),"gridcolor"in r&&(e.gridColor[n]=s(r.gridcolor)),"gridwidth"in r&&(e.gridWidth[n]=r.gridwidth),"log"===r.type?e.zeroEnable[n]=!1:"zeroline"in r&&(e.zeroEnable[n]=r.zeroline),"zerolinecolor"in r&&(e.zeroLineColor[n]=s(r.zerolinecolor)),"zerolinewidth"in r&&(e.zeroLineWidth[n]=r.zerolinewidth),"ticks"in r&&r.ticks?e.lineTickEnable[n]=!0:e.lineTickEnable[n]=!1,"ticklen"in r&&(e.lineTickLength[n]=e._defaultLineTickLength[n]=r.ticklen),"tickcolor"in r&&(e.lineTickColor[n]=s(r.tickcolor)),"tickwidth"in r&&(e.lineTickWidth[n]=r.tickwidth),"tickangle"in r&&(e.tickAngle[n]="auto"===r.tickangle?0:Math.PI*-r.tickangle/180),"showticklabels"in r&&(e.tickEnable[n]=r.showticklabels),"tickfont"in r&&(r.tickfont.color&&(e.tickColor[n]=s(r.tickfont.color)),r.tickfont.family&&(e.tickFont[n]=r.tickfont.family),r.tickfont.size&&(e.tickSize[n]=r.tickfont.size)),"mirror"in r?["ticks","all","allticks"].indexOf(r.mirror)!==-1?(e.lineTickMirror[n]=!0,e.lineMirror[n]=!0):r.mirror===!0?(e.lineTickMirror[n]=!1,e.lineMirror[n]=!0):(e.lineTickMirror[n]=!1,e.lineMirror[n]=!1):e.lineMirror[n]=!1,"showbackground"in r&&r.showbackground!==!1?(e.backgroundEnable[n]=!0,e.backgroundColor[n]=s(r.backgroundcolor)):e.backgroundEnable[n]=!1}},e.exports=o},{"../../../lib/html2unicode":632,"../../../lib/str2rgbarray":646,
arraytools:51}],705:[function(t,e,n){"use strict";function r(t,e,n,r){for(var i=n("bgcolor"),l=o.combine(i,r.paper_bgcolor),u=Object.keys(a.camera),c=0;c<u.length;c++)n("camera."+u[c]+".x"),n("camera."+u[c]+".y"),n("camera."+u[c]+".z");var f=!!n("aspectratio.x")&&!!n("aspectratio.y")&&!!n("aspectratio.z"),p=f?"manual":"auto",h=n("aspectmode",p);f||(t.aspectratio=e.aspectratio={x:1,y:1,z:1},"manual"===h&&(e.aspectmode="auto")),s(t,e,{font:r.font,scene:r.id,data:r.fullData,bgColor:l}),n("dragmode",r.getDfltFromLayout("dragmode")),n("hovermode",r.getDfltFromLayout("hovermode"))}var o=t("../../../components/color"),i=t("../../subplot_defaults"),a=t("./layout_attributes"),s=t("./axis_defaults");e.exports=function(t,e,n){function o(e){if(!s){var n=a[e].values.indexOf(t[e])!==-1;return n?t[e]:void 0}}var s=e._has("cartesian")||e._has("geo")||e._has("gl2d")||e._has("pie")||e._has("ternary");i(t,e,n,{type:"gl3d",attributes:a,handleDefaults:r,font:e.font,fullData:n,getDfltFromLayout:o,paper_bgcolor:e.paper_bgcolor})}},{"../../../components/color":540,"../../subplot_defaults":727,"./axis_defaults":703,"./layout_attributes":706}],706:[function(t,e,n){"use strict";function r(t,e,n){return{x:{valType:"number",dflt:t},y:{valType:"number",dflt:e},z:{valType:"number",dflt:n}}}var o=t("./axis_attributes"),i=t("../../../lib/extend").extendFlat;e.exports={bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},camera:{up:i(r(0,0,1),{}),center:i(r(0,0,0),{}),eye:i(r(1.25,1.25,1.25),{})},domain:{x:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},y:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]}},aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto"},aspectratio:{x:{valType:"number",min:0},y:{valType:"number",min:0},z:{valType:"number",min:0}},xaxis:o,yaxis:o,zaxis:o,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan"],dflt:"turntable"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest"},_deprecated:{cameraposition:{valType:"info_array"}}}},{"../../../lib/extend":627,"./axis_attributes":702}],707:[function(t,e,n){"use strict";function r(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}function o(t){var e=new r;return e.merge(t),e}var i=t("../../../lib/str2rgbarray"),a=["xaxis","yaxis","zaxis"],s=r.prototype;s.merge=function(t){for(var e=0;e<3;++e){var n=t[a[e]];this.enabled[e]=n.showspikes,this.colors[e]=i(n.spikecolor),this.drawSides[e]=n.spikesides,this.lineWidth[e]=n.spikethickness}},e.exports=o},{"../../../lib/str2rgbarray":646}],708:[function(t,e,n){"use strict";function r(t){for(var e=new Array(3),n=0;n<3;++n){for(var r=t[n],o=new Array(r.length),i=0;i<r.length;++i)o[i]=r[i].x;e[n]=o}return e}function o(t){for(var e=t.axesOptions,n=t.glplot.axesPixels,o=t.fullSceneLayout,c=[[],[],[]],f=0;f<3;++f){var p=o[l[f]];if(p._length=(n[f].hi-n[f].lo)*n[f].pixelsPerDataUnit/t.dataScale[f],Math.abs(p._length)===1/0)c[f]=[];else{p.range[0]=n[f].lo/t.dataScale[f],p.range[1]=n[f].hi/t.dataScale[f],p._m=1/(t.dataScale[f]*n[f].pixelsPerDataUnit),p.range[0]===p.range[1]&&(p.range[0]-=1,p.range[1]+=1);var h=p.tickmode;if("auto"===p.tickmode){p.tickmode="linear";var d=p.nticks||a.constrain(p._length/40,4,9);i.autoTicks(p,Math.abs(p.range[1]-p.range[0])/d)}for(var m=i.calcTicks(p),y=0;y<m.length;++y)m[y].x=m[y].x*t.dataScale[f],m[y].text=s(m[y].text);c[f]=m,p.tickmode=h}}e.ticks=c;for(var f=0;f<3;++f){u[f]=.5*(t.glplot.bounds[0][f]+t.glplot.bounds[1][f]);for(var y=0;y<2;++y)e.bounds[y][f]=t.glplot.bounds[y][f]}t.contourLevels=r(c)}e.exports=o;var i=t("../../cartesian/axes"),a=t("../../../lib"),s=t("../../../lib/html2unicode"),l=["xaxis","yaxis","zaxis"],u=[0,0,0]},{"../../../lib":633,"../../../lib/html2unicode":632,"../../cartesian/axes":662}],709:[function(t,e,n){"use strict";function r(t,e){var n,r,o=[0,0,0,0];for(n=0;n<4;++n)for(r=0;r<4;++r)o[r]+=t[4*n+r]*e[n];return o}function o(t,e){var n=r(t.projection,r(t.view,r(t.model,[e[0],e[1],e[2],1])));return n}e.exports=o},{}],710:[function(t,e,n){"use strict";function r(t){function e(e,n){if("string"==typeof n)return n;var r=t.fullSceneLayout[e];return d.tickText(r,r.c2l(n),"hover").text}var n,r=t.svgContainer,o=t.container.getBoundingClientRect(),i=o.width,a=o.height;r.setAttributeNS(null,"viewBox","0 0 "+i+" "+a),r.setAttributeNS(null,"width",i),r.setAttributeNS(null,"height",a),T(t),t.glplot.axes.update(t.axesOptions);for(var s=Object.keys(t.traces),l=null,u=t.glplot.selection,c=0;c<s.length;++c)n=t.traces[s[c]],"skip"!==n.data.hoverinfo&&n.handlePick(u)&&(l=n),n.setContourLevels&&n.setContourLevels();var f;if(null!==l){var p=b(t.glplot.cameraParams,u.dataCoordinate);n=l.data;var h=n.hoverinfo,y=e("xaxis",u.traceCoordinate[0]),v=e("yaxis",u.traceCoordinate[1]),g=e("zaxis",u.traceCoordinate[2]);if("all"!==h){var _=h.split("+");_.indexOf("x")===-1&&(y=void 0),_.indexOf("y")===-1&&(v=void 0),_.indexOf("z")===-1&&(g=void 0),_.indexOf("text")===-1&&(u.textLabel=void 0),_.indexOf("name")===-1&&(l.name=void 0)}t.fullSceneLayout.hovermode&&m.loneHover({x:(.5+.5*p[0]/p[3])*i,y:(.5-.5*p[1]/p[3])*a,xLabel:y,yLabel:v,zLabel:g,text:u.textLabel,name:l.name,color:l.color},{container:r});var x={points:[{x:y,y:v,z:g,data:n._input,fullData:n,curveNumber:n.index,pointNumber:u.data.index}]};u.buttons&&u.distance<5?t.graphDiv.emit("plotly_click",x):t.graphDiv.emit("plotly_hover",x),f=x}else m.loneUnhover(r),t.graphDiv.emit("plotly_unhover",f)}function o(t,e,n,o){var i={canvas:n,gl:o,container:t.container,axes:t.axesOptions,spikes:t.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1};if(t.staticMode){if(!f){c=document.createElement("canvas");try{f=c.getContext("webgl",{preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0})}catch(a){throw new Error("error creating static canvas/context for image server")}}i.pixelRatio=t.pixelRatio,i.gl=f,i.canvas=c}try{t.glplot=p(i)}catch(a){v(t)}var s=function(t){var e={};e[t.id]=u(t.camera),t.saveCamera(t.graphDiv.layout),t.graphDiv.emit("plotly_relayout",e)};if(t.glplot.canvas.addEventListener("mouseup",s.bind(null,t)),t.glplot.canvas.addEventListener("wheel",s.bind(null,t)),t.staticMode||t.glplot.canvas.addEventListener("webglcontextlost",function(t){h.warn("Lost WebGL context."),t.preventDefault()}),!t.camera){var l=t.fullSceneLayout.camera;t.camera=g(t.container,{center:[l.center.x,l.center.y,l.center.z],eye:[l.eye.x,l.eye.y,l.eye.z],up:[l.up.x,l.up.y,l.up.z],zoomMin:.1,zoomMax:100,mode:"orbit"})}return t.glplot.mouseListener.enabled=!1,t.glplot.camera=t.camera,t.glplot.oncontextloss=function(){t.recoverContext()},t.glplot.onrender=r.bind(null,t),t.traces={},!0}function i(t,e){var n=document.createElement("div"),r=t.container;this.graphDiv=t.graphDiv;var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.style.position="absolute",i.style.top=i.style.left="0px",i.style.width=i.style.height="100%",i.style["z-index"]=20,i.style["pointer-events"]="none",n.appendChild(i),this.svgContainer=i,n.id=t.id,n.style.position="absolute",n.style.top=n.style.left="0px",n.style.width=n.style.height="100%",r.appendChild(n),this.fullLayout=e,this.id=t.id||"scene",this.fullSceneLayout=e[this.id],this.plotArgs=[[],{},{}],this.axesOptions=x(e[this.id]),this.spikeOptions=w(e[this.id]),this.container=n,this.staticMode=!!t.staticPlot,this.pixelRatio=t.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],!o(this,e)}function a(t,e,n,r){for(var o,i=0;i<e.length;++i)if(Array.isArray(e[i]))for(var a=0;a<e[i].length;++a)o=t.d2l(e[i][a]),!isNaN(o)&&isFinite(o)&&(r[0][n]=Math.min(r[0][n],o),r[1][n]=Math.max(r[1][n],o));else o=t.d2l(e[i]),!isNaN(o)&&isFinite(o)&&(r[0][n]=Math.min(r[0][n],o),r[1][n]=Math.max(r[1][n],o))}function s(t,e,n){var r=t.fullSceneLayout;a(r.xaxis,e.x,0,n),a(r.yaxis,e.y,1,n),a(r.zaxis,e.z,2,n)}function l(t){return[[t.eye.x,t.eye.y,t.eye.z],[t.center.x,t.center.y,t.center.z],[t.up.x,t.up.y,t.up.z]]}function u(t){return{up:{x:t.up[0],y:t.up[1],z:t.up[2]},center:{x:t.center[0],y:t.center[1],z:t.center[2]},eye:{x:t.eye[0],y:t.eye[1],z:t.eye[2]}}}var c,f,p=t("gl-plot3d"),h=t("../../lib"),d=t("../../plots/cartesian/axes"),m=t("../../plots/cartesian/graph_interact"),y=t("../../lib/str2rgbarray"),v=t("../../lib/show_no_webgl_msg"),g=t("./camera"),b=t("./project"),_=t("./set_convert"),x=t("./layout/convert"),w=t("./layout/spikes"),T=t("./layout/tick_marks"),E=i.prototype;E.recoverContext=function(){function t(){return n.isContextLost()?void requestAnimationFrame(t):o(e,e.fullLayout,r,n)?void e.plot.apply(e,e.plotArgs):void h.error("Catastrophic and unrecoverable WebGL error. Context lost.")}var e=this,n=this.glplot.gl,r=this.glplot.canvas;this.glplot.dispose(),requestAnimationFrame(t)};var C=["xaxis","yaxis","zaxis"];E.plot=function(t,e,n){if(this.plotArgs=[t,e,n],!this.glplot.contextLost){var r,o,i,a,l,u,c=e[this.id],f=n[this.id];for(c.bgcolor?this.glplot.clearColor=y(c.bgcolor):this.glplot.clearColor=[0,0,0,0],this.glplot.snapToData=!0,this.fullSceneLayout=c,this.glplotLayout=c,this.axesOptions.merge(c),this.spikeOptions.merge(c),this.updateFx(c.dragmode,c.hovermode),this.glplot.update({}),i=0;i<3;++i)l=c[C[i]],_(l);t?Array.isArray(t)||(t=[t]):t=[];var p=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]];for(i=0;i<t.length;++i)r=t[i],r.visible===!0&&s(this,r,p);var h=[1,1,1];for(a=0;a<3;++a)p[0][a]>p[1][a]?h[a]=1:p[1][a]===p[0][a]?h[a]=1:h[a]=1/(p[1][a]-p[0][a]);for(this.dataScale=h,i=0;i<t.length;++i)r=t[i],r.visible===!0&&(o=this.traces[r.uid],o?o.update(r):(o=r._module.plot(this,r),this.traces[r.uid]=o),o.name=r.name);var d=Object.keys(this.traces);t:for(i=0;i<d.length;++i){for(a=0;a<t.length;++a)if(t[a].uid===d[i]&&t[a].visible===!0)continue t;o=this.traces[d[i]],o.dispose(),delete this.traces[d[i]]}var m=[[0,0,0],[0,0,0]],v=[],g={};for(i=0;i<3;++i){if(l=c[C[i]],u=l.type,u in g?(g[u].acc*=h[i],g[u].count+=1):g[u]={acc:h[i],count:1},l.autorange){for(m[0][i]=1/0,m[1][i]=-(1/0),a=0;a<this.glplot.objects.length;++a){var b=this.glplot.objects[a].bounds;m[0][i]=Math.min(m[0][i],b[0][i]/h[i]),m[1][i]=Math.max(m[1][i],b[1][i]/h[i])}if("rangemode"in l&&"tozero"===l.rangemode&&(m[0][i]=Math.min(m[0][i],0),m[1][i]=Math.max(m[1][i],0)),m[0][i]>m[1][i])m[0][i]=-1,m[1][i]=1;else{var x=m[1][i]-m[0][i];m[0][i]-=x/32,m[1][i]+=x/32}}else{var w=c[C[i]].range;m[0][i]=w[0],m[1][i]=w[1]}m[0][i]===m[1][i]&&(m[0][i]-=1,m[1][i]+=1),v[i]=m[1][i]-m[0][i],this.glplot.bounds[0][i]=m[0][i]*h[i],this.glplot.bounds[1][i]=m[1][i]*h[i]}var T=[1,1,1];for(i=0;i<3;++i){l=c[C[i]],u=l.type;var E=g[u];T[i]=Math.pow(E.acc,1/E.count)/h[i]}var k,S=4;if("auto"===c.aspectmode)k=Math.max.apply(null,T)/Math.min.apply(null,T)<=S?T:[1,1,1];else if("cube"===c.aspectmode)k=[1,1,1];else if("data"===c.aspectmode)k=T;else{if("manual"!==c.aspectmode)throw new Error("scene.js aspectRatio was not one of the enumerated types");var P=c.aspectratio;k=[P.x,P.y,P.z]}c.aspectratio.x=f.aspectratio.x=k[0],c.aspectratio.y=f.aspectratio.y=k[1],c.aspectratio.z=f.aspectratio.z=k[2],this.glplot.aspect=k;var M=c.domain||null,A=e._size||null;if(M&&A){var O=this.container.style;O.position="absolute",O.left=A.l+M.x[0]*A.w+"px",O.top=A.t+(1-M.y[1])*A.h+"px",O.width=A.w*(M.x[1]-M.x[0])+"px",O.height=A.h*(M.y[1]-M.y[0])+"px"}this.glplot.redraw()}},E.destroy=function(){this.glplot.dispose(),this.container.parentNode.removeChild(this.container),this.glplot=null},E.setCameraToDefault=function(){this.setCamera({eye:{x:1.25,y:1.25,z:1.25},center:{x:0,y:0,z:0},up:{x:0,y:0,z:1}})},E.getCamera=function(){return this.glplot.camera.view.recalcMatrix(this.camera.view.lastT()),u(this.glplot.camera)},E.setCamera=function(t){var e={};e[this.id]=t,this.glplot.camera.lookAt.apply(this,l(t)),this.graphDiv.emit("plotly_relayout",e)},E.saveCamera=function(t){function e(t,e,n,r){var o=["up","center","eye"],i=["x","y","z"];return e[o[n]]&&t[o[n]][i[r]]===e[o[n]][i[r]]}var n=this.getCamera(),r=h.nestedProperty(t,this.id+".camera"),o=r.get(),i=!1;if(void 0===o)i=!0;else for(var a=0;a<3;a++)for(var s=0;s<3;s++)if(!e(n,o,a,s)){i=!0;break}return i&&r.set(n),i},E.updateFx=function(t,e){var n=this.camera;n&&("orbit"===t?(n.mode="orbit",n.keyBindingMode="rotate"):"turntable"===t?(n.up=[0,0,1],n.mode="turntable",n.keyBindingMode="rotate"):n.keyBindingMode=t),this.fullSceneLayout.hovermode=e},E.toImage=function(t){t||(t="png"),this.staticMode&&this.container.appendChild(c),this.glplot.redraw();var e=this.glplot.gl,n=e.drawingBufferWidth,r=e.drawingBufferHeight;e.bindFramebuffer(e.FRAMEBUFFER,null);var o=new Uint8Array(n*r*4);e.readPixels(0,0,n,r,e.RGBA,e.UNSIGNED_BYTE,o);for(var i=0,a=r-1;i<a;++i,--a)for(var s=0;s<n;++s)for(var l=0;l<4;++l){var u=o[4*(n*i+s)+l];o[4*(n*i+s)+l]=o[4*(n*a+s)+l],o[4*(n*a+s)+l]=u}var f=document.createElement("canvas");f.width=n,f.height=r;var p=f.getContext("2d"),h=p.createImageData(n,r);h.data.set(o),p.putImageData(h,0,0);var d;switch(t){case"jpeg":d=f.toDataURL("image/jpeg");break;case"webp":d=f.toDataURL("image/webp");break;default:d=f.toDataURL("image/png")}return this.staticMode&&this.container.removeChild(c),d},e.exports=i},{"../../lib":633,"../../lib/show_no_webgl_msg":644,"../../lib/str2rgbarray":646,"../../plots/cartesian/axes":662,"../../plots/cartesian/graph_interact":669,"./camera":699,"./layout/convert":704,"./layout/spikes":707,"./layout/tick_marks":708,"./project":709,"./set_convert":711,"gl-plot3d":195}],711:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("../cartesian/axes");e.exports=function(t){o.setConvert(t),t.setScale=r.noop}},{"../../lib":633,"../cartesian/axes":662}],712:[function(t,e,n){"use strict";var r=t("../lib"),o=r.extendFlat,i=t("./font_attributes"),a=t("../components/color/attributes");e.exports={font:{family:o({},i.family,{dflt:'"Open Sans", verdana, arial, sans-serif'}),size:o({},i.size,{dflt:12}),color:o({},i.color,{dflt:a.defaultLine})},title:{valType:"string",dflt:"Click to enter Plot title"},titlefont:o({},i,{}),autosize:{valType:"enumerated",values:[!0,!1,"initial"]},width:{valType:"number",min:10,dflt:700},height:{valType:"number",min:10,dflt:450},margin:{l:{valType:"number",min:0,dflt:80},r:{valType:"number",min:0,dflt:80},t:{valType:"number",min:0,dflt:100},b:{valType:"number",min:0,dflt:80},pad:{valType:"number",min:0,dflt:0},autoexpand:{valType:"boolean",dflt:!0}},paper_bgcolor:{valType:"color",dflt:a.background},plot_bgcolor:{valType:"color",dflt:a.background},separators:{valType:"string",dflt:".,"},hidesources:{valType:"boolean",dflt:!1},smith:{valType:"enumerated",values:[!1],dflt:!1},showlegend:{valType:"boolean"},_composedModules:{"*":"Fx"},_nestedModules:{xaxis:"Axes",yaxis:"Axes",scene:"gl3d",geo:"geo",ternary:"ternary",mapbox:"mapbox",legend:"legend",annotations:"annotations",shapes:"shapes",images:"images",updatemenus:"updatemenus"}}},{"../components/color/attributes":539,"../lib":633,"./font_attributes":681}],713:[function(t,e,n){"use strict";e.exports={styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",controlContainerClassName:"mapboxgl-control-container",noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.plot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join("\n"),mapOnErrorMsg:"Mapbox error."}},{}],714:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t,e){var n=t.split(" "),o=n[0],i=n[1],a=Array.isArray(e)?r.mean(e):e,s=.5+a/100,l=1.5+a/100,u=["",""],c=[0,0];switch(o){case"top":u[0]="top",c[1]=-l;break;case"bottom":u[0]="bottom",c[1]=l}switch(i){case"left":u[1]="right",c[0]=-s;break;case"right":u[1]="left",c[0]=s}var f;return f=u[0]&&u[1]?u.join("-"):u[0]?u[0]:u[1]?u[1]:"center",{anchor:f,offset:c}}},{"../../lib":633}],715:[function(t,e,n){"use strict";function r(t,e){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=o[0].trace;i.subplot===e&&n.push(o)}return n}function o(t,e){var n=t._fullLayout,r=t._context;if(""===r.mapboxAccessToken)return"";for(var o=r.mapboxAccessToken,i=0;i<e.length;i++){var a=n[e[i]];if(a.accesstoken){o=a.accesstoken;break}}if(!o)throw new Error(u.noAccessTokenErrorMsg);return o}var i=t("mapbox-gl"),a=t("../plots"),s=t("../../constants/xmlns_namespaces"),l=t("./mapbox"),u=t("./constants");n.name="mapbox",n.attr="subplot",n.idRoot="mapbox",n.idRegex=/^mapbox([2-9]|[1-9][0-9]+)?$/,n.attrRegex=/^mapbox([2-9]|[1-9][0-9]+)?$/,n.attributes={subplot:{valType:"subplotid",dflt:"mapbox"}},n.layoutAttributes=t("./layout_attributes"),n.supplyLayoutDefaults=t("./layout_defaults"),n.plot=function(t){var e=t._fullLayout,n=t.calcdata,s=a.getSubplotIds(e,"mapbox"),u=o(t,s);i.accessToken=u;for(var c=0;c<s.length;c++){var f=s[c],p=r(n,f),h=e[f],d=h._subplot;h.accesstoken=u,d||(d=l({gd:t,container:e._glcontainer.node(),id:f,fullLayout:e,staticPlot:t._context.staticPlot}),e[f]._subplot=d),d.plot(p,e,t._promises)}},n.clean=function(t,e,n,r){for(var o=a.getSubplotIds(r,"mapbox"),i=0;i<o.length;i++){var s=o[i];!e[s]&&r[s]._subplot&&r[s]._subplot.destroy()}},n.toSVG=function(t){for(var e=t._fullLayout,n=a.getSubplotIds(e,"mapbox"),r=e._size,o=0;o<n.length;o++){var i=e[n[o]],l=i.domain,u=i._subplot,c=u.toImage("png"),f=e._glimages.append("svg:image");f.attr({xmlns:s.svg,"xlink:href":c,x:r.l+r.w*l.x[0],y:r.t+r.h*(1-l.y[1]),width:r.w*(l.x[1]-l.x[0]),height:r.h*(l.y[1]-l.y[0]),preserveAspectRatio:"none"}),u.destroy()}}},{"../../constants/xmlns_namespaces":620,"../plots":720,"./constants":713,"./layout_attributes":717,"./layout_defaults":718,"./mapbox":719,"mapbox-gl":296}],716:[function(t,e,n){"use strict";function r(t,e){this.mapbox=t,this.map=t.map,this.uid=t.uid+"-layer"+e,this.idSource=this.uid+"-source",this.idLayer=this.uid+"-layer",this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}function o(t){var e=t.source;return s.isPlainObject(e)||"string"==typeof e&&e.length>0}function i(t){var e={},n={};switch(t.type){case"circle":s.extendFlat(n,{"circle-radius":t.circle.radius,"circle-color":t.color,"circle-opacity":t.opacity});break;case"line":s.extendFlat(n,{"line-width":t.line.width,"line-color":t.color,"line-opacity":t.opacity});break;case"fill":s.extendFlat(n,{"fill-color":t.color,"fill-outline-color":t.fill.outlinecolor,"fill-opacity":t.opacity});break;case"symbol":var r=t.symbol,o=l(r.textposition,r.iconsize);s.extendFlat(e,{"icon-image":r.icon+"-15","icon-size":r.iconsize/10,"text-field":r.text,"text-size":r.textfont.size,"text-anchor":o.anchor,"text-offset":o.offset}),s.extendFlat(n,{"icon-color":t.color,"text-color":r.textfont.color,"text-opacity":t.opacity})}return{layout:e,paint:n}}function a(t){var e,n=t.sourcetype,r=t.source,o={type:n},i="string"==typeof r;return"geojson"===n?e="data":"vector"===n&&(e=i?"url":"tiles"),o[e]=r,o}var s=t("../../lib"),l=t("./convert_text_opts"),u=r.prototype;u.update=function(t){this.visible?this.needsNewSource(t)?(this.updateLayer(t),this.updateSource(t)):this.needsNewLayer(t)&&this.updateLayer(t):(this.updateSource(t),this.updateLayer(t)),this.updateStyle(t),this.visible=o(t)},u.needsNewSource=function(t){return this.sourceType!==t.sourcetype||this.source!==t.source||this.layerType!==t.type},u.needsNewLayer=function(t){return this.layerType!==t.type||this.below!==t.below},u.updateSource=function(t){var e=this.map;if(e.getSource(this.idSource)&&e.removeSource(this.idSource),this.sourceType=t.sourcetype,this.source=t.source,o(t)){var n=a(t);e.addSource(this.idSource,n)}},u.updateLayer=function(t){var e=this.map;if(e.getLayer(this.idLayer)&&e.removeLayer(this.idLayer),this.layerType=t.type,o(t)){e.addLayer({id:this.idLayer,source:this.idSource,"source-layer":t.sourcelayer||"",type:t.type},t.below);var n={visibility:"visible"};this.mapbox.setOptions(this.idLayer,"setLayoutProperty",n)}},u.updateStyle=function(t){var e=i(t);o(t)&&(this.mapbox.setOptions(this.idLayer,"setLayoutProperty",e.layout),this.mapbox.setOptions(this.idLayer,"setPaintProperty",e.paint))},u.dispose=function(){var t=this.map;t.removeLayer(this.idLayer),t.removeSource(this.idSource)},e.exports=function(t,e,n){var o=new r(t,e);return o.update(n),o}},{"../../lib":633,"./convert_text_opts":714}],717:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("../../components/color").defaultLine,i=t("../font_attributes"),a=t("../../traces/scatter/attributes").textposition;e.exports={domain:{x:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},y:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]}},accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],dflt:"basic"},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},layers:{_isLinkedToArray:!0,sourcetype:{valType:"enumerated",values:["geojson","vector"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},type:{valType:"enumerated",values:["circle","line","fill","symbol"],dflt:"circle"},below:{valType:"string",dflt:""},color:{valType:"color",dflt:o},opacity:{valType:"number",min:0,max:1,dflt:1},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2}},fill:{outlinecolor:{valType:"color",dflt:o}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},textfont:r.extendDeep({},i,{family:{dflt:"Open Sans Regular, Arial Unicode MS Regular"}}),textposition:r.extendFlat({},a,{arrayOk:!1})}}}},{"../../components/color":540,"../../lib":633,"../../traces/scatter/attributes":829,"../font_attributes":681}],718:[function(t,e,n){"use strict";function r(t,e,n){n("accesstoken"),n("style"),n("center.lon"),n("center.lat"),n("zoom"),n("bearing"),n("pitch"),o(t,e),e._input=t}function o(t,e){function n(t,e){return i.coerce(r,o,s.layers,t,e)}for(var r,o,a=t.layers||[],l=e.layers=[],u=0;u<a.length;u++)if(r=a[u],o={},i.isPlainObject(r)){var c=n("sourcetype");n("source"),"vector"===c&&n("sourcelayer");var f=n("type");n("below"),n("color"),n("opacity"),"circle"===f&&n("circle.radius"),"line"===f&&n("line.width"),"fill"===f&&n("fill.outlinecolor"),"symbol"===f&&(n("symbol.icon"),n("symbol.iconsize"),n("symbol.text"),i.coerceFont(n,"symbol.textfont"),n("symbol.textposition")),o._index=u,l.push(o)}}var i=t("../../lib"),a=t("../subplot_defaults"),s=t("./layout_attributes");e.exports=function(t,e,n){a(t,e,n,{type:"mapbox",attributes:s,handleDefaults:r,partition:"y"})}},{"../../lib":633,"../subplot_defaults":727,"./layout_attributes":717}],719:[function(t,e,n){"use strict";function r(t){this.id=t.id,this.gd=t.gd,this.container=t.container,this.isStatic=t.staticPlot;var e=t.fullLayout;this.uid=e._uid+"-"+this.id,this.opts=e[this.id],this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(e),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[]}function o(t){var e=f.style.values,n=f.style.dflt,r={};return u.isPlainObject(t)?(r.id=t.id,r.style=t):"string"==typeof t?(r.id=t,r.style=e.indexOf(t)!==-1?i(t):t):(r.id=n,r.style=i(n)),r}function i(t){return c.styleUrlPrefix+t+"-"+c.styleUrlSuffix}function a(t){return[t.lon,t.lat]}var s=t("mapbox-gl"),l=t("../cartesian/graph_interact"),u=t("../../lib"),c=t("./constants"),f=t("./layout_attributes"),p=t("./layers"),h=r.prototype;e.exports=function(t){var e=new r(t);return e},h.plot=function(t,e,n){var r=this,o=r.opts=e[this.id];r.map&&o.accesstoken!==r.accessToken&&(r.map.remove(),r.map=null,r.styleObj=null,r.traceHash=[],r.layerList={});var i;i=r.map?new Promise(function(n,o){r.updateMap(t,e,n,o)}):new Promise(function(n,o){r.createMap(t,e,n,o)}),n.push(i)},h.createMap=function(t,e,n,r){function i(){l.loneUnhover(e._toppaper)}var f=this,p=f.gd,h=f.opts,d=f.styleObj=o(h.style);f.accessToken=h.accesstoken;var m=f.map=new s.Map({container:f.div,style:d.style,center:a(h.center),zoom:h.zoom,bearing:h.bearing,pitch:h.pitch,interactive:!f.isStatic,preserveDrawingBuffer:f.isStatic}),y=c.controlContainerClassName,v=f.div.getElementsByClassName(y)[0];f.div.removeChild(v),f.rejectOnError(r),m.once("load",function(){f.updateData(t),f.updateLayout(e),f.resolveOnRender(n)}),m.on("moveend",function(t){var e=f.getView();if(h._input.center=h.center=e.center,h._input.zoom=h.zoom=e.zoom,h._input.bearing=h.bearing=e.bearing,h._input.pitch=h.pitch=e.pitch,t.originalEvent){var n={};n[f.id]=u.extendFlat({},e),p.emit("plotly_relayout",n)}}),m.on("mousemove",function(t){var e=f.div.getBoundingClientRect();t.clientX=t.point.x+e.left,t.clientY=t.point.y+e.top,t.target.getBoundingClientRect=function(){return e},f.xaxis.p2c=function(){return t.lngLat.lng},f.yaxis.p2c=function(){return t.lngLat.lat},l.hover(p,t,f.id)}),m.on("click",function(){l.click(p,{target:!0})}),m.on("dragstart",i),m.on("zoomstart",i)},h.updateMap=function(t,e,n,r){var i=this,a=i.map;i.rejectOnError(r);var s=o(i.opts.style);i.styleObj.id!==s.id?(i.styleObj=s,a.setStyle(s.style),a.style.once("load",function(){i.traceHash={},i.updateData(t),i.updateLayout(e),i.resolveOnRender(n)})):(i.updateData(t),i.updateLayout(e),i.resolveOnRender(n))},h.updateData=function(t){var e,n,r,o,i=this.traceHash;for(r=0;r<t.length;r++){var a=t[r];n=a[0].trace,e=i[n.uid],e?e.update(a):n._module&&(i[n.uid]=n._module.plot(this,a))}var s=Object.keys(i);t:for(r=0;r<s.length;r++){var l=s[r];for(o=0;o<t.length;o++)if(n=t[o][0].trace,l===n.uid)continue t;e=i[l],e.dispose(),delete i[l]}},h.updateLayout=function(t){var e=this.map,n=this.opts;e.setCenter(a(n.center)),e.setZoom(n.zoom),e.setBearing(n.bearing),e.setPitch(n.pitch),this.updateLayers(),this.updateFramework(t),this.map.resize()},h.resolveOnRender=function(t){var e=this.map;e.on("render",function n(){e.loaded()&&(e.off("render",n),t())})},h.rejectOnError=function(t){function e(){t(new Error(c.mapOnErrorMsg))}var n=this.map;n.once("error",e),n.once("style.error",e),n.once("source.error",e),n.once("tile.error",e),n.once("layer.error",e)},h.createFramework=function(t){var e=this,n=e.div=document.createElement("div");n.id=e.uid,n.style.position="absolute",e.container.appendChild(n),e.xaxis={_id:"x",c2p:function(t){return e.project(t).x}},e.yaxis={_id:"y",c2p:function(t){return e.project(t).y}},e.updateFramework(t)},h.updateFramework=function(t){var e=t[this.id].domain,n=t._size,r=this.div.style;r.width=n.w*(e.x[1]-e.x[0])+"px",r.height=n.h*(e.y[1]-e.y[0])+"px",r.left=n.l+e.x[0]*n.w+"px",r.top=n.t+(1-e.y[1])*n.h+"px",this.xaxis._offset=n.l+e.x[0]*n.w,this.xaxis._length=n.w*(e.x[1]-e.x[0]),this.yaxis._offset=n.t+(1-e.y[1])*n.h,this.yaxis._length=n.h*(e.y[1]-e.y[0])},h.updateLayers=function(){var t,e=this.opts,n=e.layers,r=this.layerList;if(n.length!==r.length){for(t=0;t<r.length;t++)r[t].dispose();for(r=this.layerList=[],t=0;t<n.length;t++)r.push(p(this,t,n[t]))}else for(t=0;t<n.length;t++)r[t].update(n[t])},h.destroy=function(){this.map&&this.map.remove(),this.container.removeChild(this.div)},h.toImage=function(){return this.map.getCanvas().toDataURL()},h.initSource=function(t){var e={type:"geojson",data:{type:"Feature",geometry:{type:"Point",coordinates:[]}}};return this.map.addSource(t,e)},h.setSourceData=function(t,e){this.map.getSource(t).setData(e)},h.setOptions=function(t,e,n){for(var r=this.map,o=Object.keys(n),i=0;i<o.length;i++){var a=o[i];r[e](t,a,n[a])}},h.project=function(t){return this.map.project(new s.LngLat(t[0],t[1]))},h.getView=function(){var t=this.map,e=t.getCenter(),n={lon:e.lng,lat:e.lat};return{center:n,zoom:t.getZoom(),bearing:t.getBearing(),pitch:t.getPitch()}}},{"../../lib":633,"../cartesian/graph_interact":669,"./constants":713,"./layers":716,"./layout_attributes":717,"mapbox-gl":296}],720:[function(t,e,n){"use strict";function r(t,e){e.text("");var n=e.append("a").attr({"xlink:xlink:href":"#","class":"link--impt link--embedview","font-weight":"bold"}).text(t._context.linkText+" "+String.fromCharCode(187));if(t._context.sendData)n.on("click",function(){h.sendDataToCloud(t)});else{var r=window.location.pathname.split("/"),o=window.location.search;n.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+o})}}function o(t,e){for(var n=f.isPlainObject,r=Array.isArray,i=Object.keys(e),a=0;a<i.length;a++){var s=i[a],l=e[s],u=t[s];if("_"===s.charAt(0)||"function"==typeof l){if(s in t)continue;t[s]=l}else if(r(l)&&r(u)&&n(l[0]))for(var c=0;c<l.length;c++)n(l[c])&&n(u[c])&&o(u[c],l[c]);else n(l)&&n(u)&&(o(u,l),Object.keys(u).length||delete t[s])}}function i(t,e,n){var r=n._globalTransforms||[];if(Array.isArray(t.transforms)||0!==r.length)for(var o=t.transforms||[],i=r.concat(o),a=e.transforms=[],s=0;s<i.length;s++){var l,u=i[s],c=u.type,p=v[c];p||f.warn("Unrecognized transform type "+c+"."),p&&p.supplyDefaults?(l=p.supplyDefaults(u,e,n),l.type=c):l=f.extendFlat({},u),a.push(l)}}function a(t,e,n){for(var r=t.transforms,o=[t],i=0;i<r.length;i++){var a=r[i],s=a.type,l=v[s];l&&(o=l.transform(o,{transform:a,fullTrace:t,fullData:e,layout:n}))}return o}var s=t("d3"),l=t("fast-isnumeric"),u=t("../plotly"),c=t("../registry"),f=t("../lib"),p=t("../components/color"),h=e.exports={},d=t("./animation_attributes"),m=t("./frame_attributes");f.extendFlat(h,c),h.attributes=t("./attributes"),h.attributes.type.values=h.allTypes,h.fontAttrs=t("./font_attributes"),h.layoutAttributes=t("./layout_attributes"),h.fontWeight="normal";var y=h.subplotsRegistry,v=h.transformsRegistry,g=t("../components/errorbars");h.findSubplotIds=function(t,e){var n=[];if(void 0===h.subplotsRegistry[e])return n;for(var r=h.subplotsRegistry[e].attr,o=0;o<t.length;o++){var i=t[o];h.traceIs(i,e)&&n.indexOf(i[r])===-1&&n.push(i[r])}return n},h.getSubplotIds=function(t,e){var n=h.subplotsRegistry[e];if(void 0===n)return[];if(!("cartesian"!==e||t._has&&t._has("cartesian")))return[];if(!("gl2d"!==e||t._has&&t._has("gl2d")))return[];if("cartesian"===e||"gl2d"===e)return Object.keys(t._plots||{});for(var r=n.idRegex,o=Object.keys(t),i=[],a=0;a<o.length;a++){var s=o[a];r.test(s)&&i.push(s)}var l=n.idRoot.length;return i.sort(function(t,e){var n=+(t.substr(l)||1),r=+(e.substr(l)||1);return n-r}),i},h.getSubplotData=function(t,e,n){if(void 0===h.subplotsRegistry[e])return[];for(var r,o=h.subplotsRegistry[e].attr,i=[],a=0;a<t.length;a++)if(r=t[a],"gl2d"===e&&h.traceIs(r,"gl2d")){var s=u.Axes.subplotMatch,l="x"+n.match(s)[1],c="y"+n.match(s)[2];r[o[0]]===l&&r[o[1]]===c&&i.push(r)}else r[o]===n&&i.push(r);return i},h.redrawText=function(t){if(!(t.data&&t.data[0]&&t.data[0].r))return new Promise(function(e){setTimeout(function(){c.getComponentMethod("annotations","draw")(t),c.getComponentMethod("legend","draw")(t),(t.calcdata||[]).forEach(function(t){t[0]&&t[0].t&&t[0].t.cb&&t[0].t.cb()}),e(h.previousPromises(t))},300)})},h.resize=function(t){return new Promise(function(e,n){t&&"none"!==s.select(t).style("display")||n(new Error("Resize must be passed a plot div element.")),t._redrawTimer&&clearTimeout(t._redrawTimer),t._redrawTimer=setTimeout(function(){if((t._fullLayout||{}).autosize){var n=t.changed;t.autoplay=!0,u.relayout(t,{autosize:!0}),t.changed=n,e(t)}},100)})},h.previousPromises=function(t){if((t._promises||[]).length)return Promise.all(t._promises).then(function(){t._promises=[]})},h.addLinks=function(t){var e=t._fullLayout,n=e._paper.selectAll("text.js-plot-link-container").data([0]);n.enter().append("text").classed("js-plot-link-container",!0).style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:p.defaultLine,"pointer-events":"all"}).each(function(){var t=s.select(this);t.append("tspan").classed("js-link-to-tool",!0),t.append("tspan").classed("js-link-spacer",!0),t.append("tspan").classed("js-sourcelinks",!0)});var o=n.node(),i={y:e._paper.attr("height")-9
};document.body.contains(o)&&o.getComputedTextLength()>=e.width-20?(i["text-anchor"]="start",i.x=5):(i["text-anchor"]="end",i.x=e._paper.attr("width")-7),n.attr(i);var a=n.select(".js-link-to-tool"),l=n.select(".js-link-spacer"),u=n.select(".js-sourcelinks");t._context.showSources&&t._context.showSources(t),t._context.showLink&&r(t,a),l.text(a.text()&&u.text()?" - ":"")},h.sendDataToCloud=function(t){t.emit("plotly_beforeexport");var e=window.PLOTLYENV&&window.PLOTLYENV.BASE_URL||"https://plot.ly",n=s.select(t).append("div").attr("id","hiddenform").style("display","none"),r=n.append("form").attr({action:e+"/external",method:"post",target:"_blank"}),o=r.append("input").attr({type:"text",name:"data"});return o.node().value=h.graphJson(t,!1,"keepdata"),r.node().submit(),n.remove(),t.emit("plotly_afterexport"),!1},h.supplyDefaults=function(t){var e,n=t._fullLayout||{},r=t._fullLayout={},i=t.layout||{},a=t._fullData||[],s=t._fullData=[],l=t.data||[];h.supplyLayoutGlobalDefaults(i,r),r._dataLength=l.length,r._globalTransforms=(t._context||{}).globalTransforms,h.supplyDataDefaults(l,s,r),r._has=h._hasPlotType.bind(r);var c=r._modules;for(e=0;e<c.length;e++){var f=c[e];f.cleanData&&f.cleanData(s)}if(a.length===l.length)for(e=0;e<s.length;e++)o(s[e],a[e]);h.supplyLayoutModuleDefaults(i,r,s),r._hasCartesian=r._has("cartesian"),r._hasGeo=r._has("geo"),r._hasGL3D=r._has("gl3d"),r._hasGL2D=r._has("gl2d"),r._hasTernary=r._has("ternary"),r._hasPie=r._has("pie"),h.cleanPlot(s,r,a,n),o(r,n),h.doAutoMargin(t);var p=u.Axes.list(t);for(e=0;e<p.length;e++){var d=p[e];d._gd=t,d.setScale()}if((t.calcdata||[]).length===s.length)for(e=0;e<s.length;e++){var m=s[e];(t.calcdata[e][0]||{}).trace=m}t._transitionData||h.createTransitionData(t)},h.createTransitionData=function(t){t._transitionData||(t._transitionData={}),t._transitionData._frames||(t._transitionData._frames=[]),t._transitionData._frameHash||(t._transitionData._frameHash={}),t._transitionData._counter||(t._transitionData._counter=0),t._transitionData._interruptCallbacks||(t._transitionData._interruptCallbacks=[])},h._hasPlotType=function(t){for(var e=this._basePlotModules||[],n=0;n<e.length;n++){var r=e[n];if(r.name===t)return!0}return!1},h.cleanPlot=function(t,e,n,r){var o,i,a=r._basePlotModules||[];for(o=0;o<a.length;o++){var s=a[o];s.clean&&s.clean(t,e,n,r)}var l=!!r._paper,u=!!r._infolayer;t:for(o=0;o<n.length;o++){var c=n[o],f=c.uid;for(i=0;i<t.length;i++){var p=t[i];if(f===p.uid)continue t}l&&r._paper.selectAll(".hm"+f+",.contour"+f+",#clip"+f+",.trace"+f).remove(),u&&r._infolayer.selectAll(".cb"+f).remove()}},h.supplyDataDefaults=function(t,e,n){function r(t){e.push(t);var n=t._module;n&&(f.pushUnique(o,n),f.pushUnique(i,t._module.basePlotModule),s++)}for(var o=n._modules=[],i=n._basePlotModules=[],s=0,l=0;l<t.length;l++){var u=t[l],c=h.supplyTraceDefaults(u,s,n);if(c.index=l,c._input=u,c._expandedIndex=s,c.transforms&&c.transforms.length)for(var p=a(c,e,n),d=0;d<p.length;d++){var m=p[d],y=h.supplyTraceDefaults(m,s,n);m.uid=y.uid=c.uid+d,y.index=l,y._input=u,y._fullInput=c,y._expandedIndex=s,y._expandedInput=m,r(y)}else r(c)}},h.supplyAnimationDefaults=function(t){function e(e,n){return f.coerce(t||{},r,d,e,n)}t=t||{};var n,r={};if(e("mode"),Array.isArray(t.frame))for(r.frame=[],n=0;n<t.frame.length;n++)r.frame[n]=h.supplyAnimationFrameDefaults(t.frame[n]||{});else r.frame=h.supplyAnimationFrameDefaults(t.frame||{});if(Array.isArray(t.transition))for(r.transition=[],n=0;n<t.transition.length;n++)r.transition[n]=h.supplyAnimationTransitionDefaults(t.transition[n]||{});else r.transition=h.supplyAnimationTransitionDefaults(t.transition||{});return r},h.supplyAnimationFrameDefaults=function(t){function e(e,r){return f.coerce(t||{},n,d.frame,e,r)}var n={};return e("duration"),e("redraw"),n},h.supplyAnimationTransitionDefaults=function(t){function e(e,r){return f.coerce(t||{},n,d.transition,e,r)}var n={};return e("duration"),e("easing"),n},h.supplyFrameDefaults=function(t){function e(e,r){return f.coerce(t,n,m,e,r)}var n={};return e("group"),e("name"),e("traces"),e("baseframe"),e("data"),e("layout"),n},h.supplyTraceDefaults=function(t,e,n){function r(e,n){return f.coerce(t,a,h.attributes,e,n)}function o(e,n){if(h.traceIs(a,e))return f.coerce(t,a,h.subplotsRegistry[e].attributes,n)}var a={},s=p.defaults[e%p.defaults.length],l=r("visible");r("type"),r("uid"),r("name","trace "+e);for(var u=Object.keys(y),c=0;c<u.length;c++){var d=u[c];if(["cartesian","gl2d"].indexOf(d)===-1){var m=y[d].attr;m&&o(d,m)}}if(l){var v=h.getModule(a);a._module=v,r("hoverinfo",1===n._dataLength?"x+y+z+text":void 0),v&&v.supplyDefaults(t,a,s,n),h.traceIs(a,"noOpacity")||r("opacity"),o("cartesian","xaxis"),o("cartesian","yaxis"),o("gl2d","xaxis"),o("gl2d","yaxis"),h.traceIs(a,"showLegend")&&(r("showlegend"),r("legendgroup")),i(t,a,n)}return a},h.supplyLayoutGlobalDefaults=function(t,e){function n(n,r){return f.coerce(t,e,h.layoutAttributes,n,r)}var r=f.coerceFont(n,"font");n("title"),f.coerceFont(n,"titlefont",{family:r.family,size:Math.round(1.4*r.size),color:r.color});var o=n("autosize",(!t.width||!t.height)&&"initial");n("width"),n("height"),n("margin.l"),n("margin.r"),n("margin.t"),n("margin.b"),n("margin.pad"),n("margin.autoexpand"),"initial"!==o&&h.sanitizeMargins(e),n("paper_bgcolor"),n("separators"),n("hidesources"),n("smith")},h.supplyLayoutModuleDefaults=function(t,e,n){var r,o;u.Axes.supplyLayoutDefaults(t,e,n);var i=e._basePlotModules;for(r=0;r<i.length;r++)o=i[r],"cartesian"!==o.name&&o.supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,n);var a=e._modules;for(r=0;r<a.length;r++)o=a[r],o.supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,n);u.Fx.supplyLayoutDefaults(t,e,n);var s=Object.keys(c.componentsRegistry);for(r=0;r<s.length;r++)o=c.componentsRegistry[s[r]],o.supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,n)},h.purge=function(t){var e=t._fullLayout||{};void 0!==e._glcontainer&&e._glcontainer.remove(),void 0!==e._geocontainer&&e._geocontainer.remove(),e._modeBar&&e._modeBar.destroy(),t._transitionData&&t._transitionData._animationRaf&&window.cancelAnimationFrame(t._transitionData._animationRaf),delete t.data,delete t.layout,delete t._fullData,delete t._fullLayout,delete t.calcdata,delete t.framework,delete t.empty,delete t.fid,delete t.undoqueue,delete t.undonum,delete t.autoplay,delete t.changed,delete t._tester,delete t._testref,delete t._promises,delete t._redrawTimer,delete t._replotting,delete t.firstscatter,delete t.hmlumcount,delete t.hmpixcount,delete t.numboxes,delete t._hoverTimer,delete t._lastHoverTime,delete t._transitionData,delete t._transitioning,t.removeAllListeners&&t.removeAllListeners()},h.style=function(t){for(var e=t._fullLayout._modules,n=0;n<e.length;n++){var r=e[n];r.style&&r.style(t)}},h.sanitizeMargins=function(t){if(t&&t.margin){var e,n=t.width,r=t.height,o=t.margin,i=n-(o.l+o.r),a=r-(o.t+o.b);i<0&&(e=(n-1)/(o.l+o.r),o.l=Math.floor(e*o.l),o.r=Math.floor(e*o.r)),a<0&&(e=(r-1)/(o.t+o.b),o.t=Math.floor(e*o.t),o.b=Math.floor(e*o.b))}},h.autoMargin=function(t,e,n){var r=t._fullLayout;if(r._pushmargin||(r._pushmargin={}),r.margin.autoexpand!==!1){if(n){var o=void 0===n.pad?12:n.pad;n.l+n.r>.5*r.width&&(n.l=n.r=0),n.b+n.t>.5*r.height&&(n.b=n.t=0),r._pushmargin[e]={l:{val:n.x,size:n.l+o},r:{val:n.x,size:n.r+o},b:{val:n.y,size:n.b+o},t:{val:n.y,size:n.t+o}}}else delete r._pushmargin[e];t._replotting||h.doAutoMargin(t)}},h.doAutoMargin=function(t){var e=t._fullLayout;e._size||(e._size={}),e._pushmargin||(e._pushmargin={});var n=e._size,r=JSON.stringify(n),o=Math.max(e.margin.l||0,0),i=Math.max(e.margin.r||0,0),a=Math.max(e.margin.t||0,0),s=Math.max(e.margin.b||0,0),c=e._pushmargin;if(e.margin.autoexpand!==!1&&(c.base={l:{val:0,size:o},r:{val:1,size:i},t:{val:1,size:a},b:{val:0,size:s}},Object.keys(c).forEach(function(t){var n=c[t].l||{},r=c[t].b||{},u=n.val,f=n.size,p=r.val,h=r.size;Object.keys(c).forEach(function(t){if(l(f)&&c[t].r){var n=c[t].r.val,r=c[t].r.size;if(n>u){var d=(f*n+(r-e.width)*u)/(n-u),m=(r*(1-u)+(f-e.width)*(1-n))/(n-u);d>=0&&m>=0&&d+m>o+i&&(o=d,i=m)}}if(l(h)&&c[t].t){var y=c[t].t.val,v=c[t].t.size;if(y>p){var g=(h*y+(v-e.height)*p)/(y-p),b=(v*(1-p)+(h-e.height)*(1-y))/(y-p);g>=0&&b>=0&&g+b>s+a&&(s=g,a=b)}}})})),n.l=Math.round(o),n.r=Math.round(i),n.t=Math.round(a),n.b=Math.round(s),n.p=Math.round(e.margin.pad),n.w=Math.round(e.width)-n.l-n.r,n.h=Math.round(e.height)-n.t-n.b,!t._replotting&&"{}"!==r&&r!==JSON.stringify(e._size))return u.plot(t)},h.graphJson=function(t,e,n,r,o){function i(t){if("function"==typeof t)return null;if(f.isPlainObject(t)){var e,r,o={};for(e in t)if("function"!=typeof t[e]&&["_","["].indexOf(e.charAt(0))===-1){if("keepdata"===n){if("src"===e.substr(e.length-3))continue}else if("keepstream"===n){if(r=t[e+"src"],"string"==typeof r&&r.indexOf(":")>0&&!f.isPlainObject(t.stream))continue}else if("keepall"!==n&&(r=t[e+"src"],"string"==typeof r&&r.indexOf(":")>0))continue;o[e]=i(t[e])}return o}return Array.isArray(t)?t.map(i):t&&t.getTime?f.ms2DateTime(t):t}(o&&e&&!t._fullData||o&&!e&&!t._fullLayout)&&h.supplyDefaults(t);var a=o?t._fullData:t.data,s=o?t._fullLayout:t.layout,l={data:(a||[]).map(function(t){var n=i(t);return e&&delete n.fit,n})};return e||(l.layout=i(s)),t.framework&&t.framework.isPolar&&(l=t.framework.getConfig()),"object"===r?l:JSON.stringify(l)},h.modifyFrames=function(t,e){var n,r,o,i=t._transitionData._frames,a=t._transitionData._frameHash;for(n=0;n<e.length;n++)switch(r=e[n],r.type){case"replace":o=r.value;var s=i[r.index].name,l=o.name;i[r.index]=a[l]=o,l!==s&&(delete a[s],a[l]=o);break;case"insert":o=r.value,a[o.name]=o,i.splice(r.index,0,o);break;case"delete":o=i[r.index],delete a[o.name],i.splice(r.index,1)}return Promise.resolve()},h.computeFrame=function(t,e){var n,r,o,i,a,s,l=t._transitionData._frameHash,u=l[e];if(!u)return!1;for(var c=[u],p=[u.name];(u=l[u.baseframe])&&p.indexOf(u.name)===-1;)c.push(u),p.push(u.name);for(var h={};u=c.pop();)if(u.layout&&(s=f.extendDeepNoArrays({},u.layout),i=f.expandObjectPaths(s),h.layout=f.extendDeepNoArrays(h.layout||{},i)),u.data){if(h.data||(h.data=[]),r=u.traces,!r)for(r=[],n=0;n<u.data.length;n++)r[n]=n;for(h.traces||(h.traces=[]),n=0;n<u.data.length;n++)o=r[n],void 0!==o&&null!==o&&(a=h.traces.indexOf(o),a===-1&&(a=h.data.length,h.traces[a]=o),s=f.extendDeepNoArrays({},u.data[n]),i=f.expandObjectPaths(s),h.data[a]=f.extendDeepNoArrays(h.data[a]||{},i))}return h},h.transition=function(t,e,n,r,o,i){function a(){var r,o;for(o=0;o<b.length;o++){var i=b[o],a=t._fullData[i],s=a._module;if(s&&s.animatable){_.push(i);var l=f.extendDeepNoArrays({},e[o]);l=f.expandObjectPaths(l),f.extendDeepNoArrays(t.data[b[o]],l)}}var c=f.expandObjectPaths(f.extendDeepNoArrays({},n)),p=/^[xy]axis[0-9]*$/;for(var d in c)p.test(d)&&delete c[d].range;f.extendDeepNoArrays(t.layout,c),h.supplyDefaults(t);var m=u.Axes.getSubplots(t);if(t._fullLayout._plots)for(o=0;o<m.length;o++)r=t._fullLayout._plots[m[o]],r.xaxis=r.x(),r.yaxis=r.y();return h.doCalcdata(t),g.calc(t),Promise.resolve()}function s(t){var e=Promise.resolve();if(!t)return e;for(;t.length;)e=e.then(t.shift());return e}function l(t){if(t)for(;t.length;)t.shift()}function c(){return new Promise(function(e){function r(){return s++,function(){l++,x||l!==s||p(e)}}t._transitioning=!0,i.duration>0&&(t._transitioningWithDuration=!0),t._transitionData._interruptCallbacks.push(function(){x=!0});var o,a,s=0,l=0,u=t._fullLayout._basePlotModules,c=!1;if(n)for(a=0;a<u.length;a++)if(u[a].transitionAxes){var h=f.expandObjectPaths(n);c=u[a].transitionAxes(t,h,i,r)||c}for(c?(o=f.extendFlat({},i),o.duration=0):o=i,a=0;a<u.length;a++)u[a].plot(t,_,o,r);setTimeout(r())})}function p(e){return l(t._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(o.redraw)return u.redraw(t)}).then(function(){t._transitioning=!1,t._transitioningWithDuration=!1,t.emit("plotly_transitioned",[])}).then(e)}function d(){return t.emit("plotly_transitioninterrupted",[]),t._transitioning=!1,t._transtionWithDuration=!1,s(t._transitionData._interruptCallbacks)}var m,y,v=Array.isArray(e)?e.length:0,b=r.slice(0,v),_=[],x=!1;for(m=0;m<b.length;m++){y=b[m];var w=t._fullData[y],T=w._module;if(T&&!T.animatable){var E={};for(var C in e[m])E[C]=[e[m][C]]}}var k=[h.previousPromises,d,a,c],S=f.syncOrAsync(k,t);return S&&S.then||(S=Promise.resolve()),S.then(function(){return t.emit("plotly_transitioning",[]),t})},h.doCalcdata=function(t,e){var n,r=u.Axes.list(t),o=t._fullData,i=t._fullLayout,a=new Array(o.length),s=(t.calcdata||[]).slice(0);for(t.calcdata=a,t.firstscatter=!0,t.numboxes=0,t._hmpixcount=0,t._hmlumcount=0,i._piecolormap={},i._piedefaultcolorcount=0,n=0;n<r.length;n++)r[n]._categories=r[n]._initialCategories.slice();for(n=0;n<o.length;n++)if(Array.isArray(e)&&e.indexOf(n)===-1)a[n]=s[n];else{var l=o[n],c=l._module,f=[];Array.isArray(e)&&e.indexOf(n)===-1?a[n]=s[n]:(c&&l.visible===!0&&c.calc&&(f=c.calc(t,l)),Array.isArray(f)&&f[0]||(f=[{x:!1,y:!1}]),f[0].t||(f[0].t={}),f[0].trace=l,a[n]=f)}}},{"../components/color":540,"../components/errorbars":569,"../lib":633,"../plotly":658,"../registry":735,"./animation_attributes":659,"./attributes":660,"./font_attributes":681,"./frame_attributes":682,"./layout_attributes":712,d3:125,"fast-isnumeric":129}],721:[function(t,e,n){"use strict";var r=t("../../traces/scatter/attributes"),o=r.marker;e.exports={r:r.r,t:r.t,marker:{color:o.color,size:o.size,symbol:o.symbol,opacity:o.opacity}}},{"../../traces/scatter/attributes":829}],722:[function(t,e,n){"use strict";function r(t,e){var n={showline:{valType:"boolean"},showticklabels:{valType:"boolean"},tickorientation:{valType:"enumerated",values:["horizontal","vertical"]},ticklen:{valType:"number",min:0},tickcolor:{valType:"color"},ticksuffix:{valType:"string"},endpadding:{valType:"number"},visible:{valType:"boolean"}};return i({},e,n)}var o=t("../cartesian/layout_attributes"),i=t("../../lib/extend").extendFlat,a=i({},o.domain,{});e.exports={radialaxis:r("radial",{range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},domain:a,orientation:{valType:"number"}}),angularaxis:r("angular",{range:{valType:"info_array",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}]},domain:a}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"]},orientation:{valType:"angle"}}}},{"../../lib/extend":627,"../cartesian/layout_attributes":671}],723:[function(t,e,n){"use strict";var r=e.exports=t("./micropolar");r.manager=t("./micropolar_manager")},{"./micropolar":724,"./micropolar_manager":725}],724:[function(t,e,n){var r=t("d3"),o=t("../../lib"),i=o.extendDeepAll,a=e.exports={version:"0.2.2"};a.Axis=function(){function t(t){n=t||n;var u=l.data,f=l.layout;return("string"==typeof n||n.nodeName)&&(n=r.select(n)),n.datum(u).each(function(t,n){function l(t,e){return s(t)%360+f.orientation}var u=t.slice();c={data:a.util.cloneJson(u),layout:a.util.cloneJson(f)};var p=0;u.forEach(function(t,e){t.color||(t.color=f.defaultColorRange[p],p=(p+1)%f.defaultColorRange.length),t.strokeColor||(t.strokeColor="LinePlot"===t.geometry?t.color:r.rgb(t.color).darker().toString()),c.data[e].color=t.color,c.data[e].strokeColor=t.strokeColor,c.data[e].strokeDash=t.strokeDash,c.data[e].strokeSize=t.strokeSize});var h=u.filter(function(t,e){var n=t.visible;return"undefined"==typeof n||n===!0}),d=!1,m=h.map(function(t,e){return d=d||"undefined"!=typeof t.groupId,t});if(d){var y=r.nest().key(function(t,e){return"undefined"!=typeof t.groupId?t.groupId:"unstacked"}).entries(m),v=[],g=y.map(function(t,e){if("unstacked"===t.key)return t.values;var n=t.values[0].r.map(function(t,e){return 0});return t.values.forEach(function(t,e,r){t.yStack=[n],v.push(n),n=a.util.sumArrays(t.r,n)}),t.values});h=r.merge(g)}h.forEach(function(t,e){t.t=Array.isArray(t.t[0])?t.t:[t.t],t.r=Array.isArray(t.r[0])?t.r:[t.r]});var b=Math.min(f.width-f.margin.left-f.margin.right,f.height-f.margin.top-f.margin.bottom)/2;b=Math.max(10,b);var _,x=[f.margin.left+b,f.margin.top+b];if(d){var w=r.max(a.util.sumArrays(a.util.arrayLast(h).r[0],a.util.arrayLast(v)));_=[0,w]}else _=r.extent(a.util.flattenArray(h.map(function(t,e){return t.r})));f.radialAxis.domain!=a.DATAEXTENT&&(_[0]=0),o=r.scale.linear().domain(f.radialAxis.domain!=a.DATAEXTENT&&f.radialAxis.domain?f.radialAxis.domain:_).range([0,b]),c.layout.radialAxis.domain=o.domain();var T,E=a.util.flattenArray(h.map(function(t,e){return t.t})),C="string"==typeof E[0];C&&(E=a.util.deduplicate(E),T=E.slice(),E=r.range(E.length),h=h.map(function(t,e){var n=t;return t.t=[E],d&&(n.yStack=t.yStack),n}));var k=h.filter(function(t,e){return"LinePlot"===t.geometry||"DotPlot"===t.geometry}).length===h.length,S=null===f.needsEndSpacing?C||!k:f.needsEndSpacing,P=f.angularAxis.domain&&f.angularAxis.domain!=a.DATAEXTENT&&!C&&f.angularAxis.domain[0]>=0,M=P?f.angularAxis.domain:r.extent(E),A=Math.abs(E[1]-E[0]);k&&!C&&(A=0);var O=M.slice();S&&C&&(O[1]+=A);var D=f.angularAxis.ticksCount||4;D>8&&(D=D/(D/8)+D%8),f.angularAxis.ticksStep&&(D=(O[1]-O[0])/D);var L=f.angularAxis.ticksStep||(O[1]-O[0])/(D*(f.minorTicks+1));T&&(L=Math.max(Math.round(L),1)),O[2]||(O[2]=L);var I=r.range.apply(this,O);if(I=I.map(function(t,e){return parseFloat(t.toPrecision(12))}),s=r.scale.linear().domain(O.slice(0,2)).range("clockwise"===f.direction?[0,360]:[360,0]),c.layout.angularAxis.domain=s.domain(),c.layout.angularAxis.endPadding=S?A:0,e=r.select(this).select("svg.chart-root"),"undefined"==typeof e||e.empty()){var j="<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>",F=(new DOMParser).parseFromString(j,"application/xml"),R=this.appendChild(this.ownerDocument.importNode(F.documentElement,!0));e=r.select(R)}e.select(".guides-group").style({"pointer-events":"none"}),e.select(".angular.axis-group").style({"pointer-events":"none"}),e.select(".radial.axis-group").style({"pointer-events":"none"});var N,z=e.select(".chart-group"),B={fill:"none",stroke:f.tickColor},U={"font-size":f.font.size,"font-family":f.font.family,fill:f.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(t,e){return" "+t+" 0 "+f.font.outlineColor}).join(",")};if(f.showLegend){N=e.select(".legend-group").attr({transform:"translate("+[b,f.margin.top]+")"}).style({display:"block"});var W=h.map(function(t,e){var n=a.util.cloneJson(t);return n.symbol="DotPlot"===t.geometry?t.dotType||"circle":"LinePlot"!=t.geometry?"square":"line",n.visibleInLegend="undefined"==typeof t.visibleInLegend||t.visibleInLegend,n.color="LinePlot"===t.geometry?t.strokeColor:t.color,n});a.Legend().config({data:h.map(function(t,e){return t.name||"Element"+e}),legendConfig:i({},a.Legend.defaultConfig().legendConfig,{container:N,elements:W,reverseOrder:f.legend.reverseOrder})})();var q=N.node().getBBox();b=Math.min(f.width-q.width-f.margin.left-f.margin.right,f.height-f.margin.top-f.margin.bottom)/2,b=Math.max(10,b),x=[f.margin.left+b,f.margin.top+b],o.range([0,b]),c.layout.radialAxis.domain=o.domain(),N.attr("transform","translate("+[x[0]+b,x[1]-b]+")")}else N=e.select(".legend-group").style({display:"none"});e.attr({width:f.width,height:f.height}).style({opacity:f.opacity}),z.attr("transform","translate("+x+")").style({cursor:"crosshair"});var V=[(f.width-(f.margin.left+f.margin.right+2*b+(q?q.width:0)))/2,(f.height-(f.margin.top+f.margin.bottom+2*b))/2];if(V[0]=Math.max(0,V[0]),V[1]=Math.max(0,V[1]),e.select(".outer-group").attr("transform","translate("+V+")"),f.title){var H=e.select("g.title-group text").style(U).text(f.title),G=H.node().getBBox();H.attr({x:x[0]-G.width/2,y:x[1]-b-20})}var Y=e.select(".radial.axis-group");if(f.radialAxis.gridLinesVisible){var Z=Y.selectAll("circle.grid-circle").data(o.ticks(5));Z.enter().append("circle").attr({"class":"grid-circle"}).style(B),Z.attr("r",o),Z.exit().remove()}Y.select("circle.outside-circle").attr({r:b}).style(B);var X=e.select("circle.background-circle").attr({r:b}).style({fill:f.backgroundColor,stroke:f.stroke});if(f.radialAxis.visible){var K=r.svg.axis().scale(o).ticks(5).tickSize(5);Y.call(K).attr({transform:"rotate("+f.radialAxis.orientation+")"}),Y.selectAll(".domain").style(B),Y.selectAll("g>text").text(function(t,e){return this.textContent+f.radialAxis.ticksSuffix}).style(U).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(t,e){return"horizontal"===f.radialAxis.tickOrientation?"rotate("+-f.radialAxis.orientation+") translate("+[0,U["font-size"]]+")":"translate("+[0,U["font-size"]]+")"}}),Y.selectAll("g>line").style({stroke:"black"})}var Q=e.select(".angular.axis-group").selectAll("g.angular-tick").data(I),J=Q.enter().append("g").classed("angular-tick",!0);Q.attr({transform:function(t,e){return"rotate("+l(t,e)+")"}}).style({display:f.angularAxis.visible?"block":"none"}),Q.exit().remove(),J.append("line").classed("grid-line",!0).classed("major",function(t,e){return e%(f.minorTicks+1)==0}).classed("minor",function(t,e){return!(e%(f.minorTicks+1)==0)}).style(B),J.selectAll(".minor").style({stroke:f.minorTickColor}),Q.select("line.grid-line").attr({x1:f.tickLength?b-f.tickLength:0,x2:b}).style({display:f.angularAxis.gridLinesVisible?"block":"none"}),J.append("text").classed("axis-text",!0).style(U);var $=Q.select("text.axis-text").attr({x:b+f.labelOffset,dy:".35em",transform:function(t,e){var n=l(t,e),r=b+f.labelOffset,o=f.angularAxis.tickOrientation;return"horizontal"==o?"rotate("+-n+" "+r+" 0)":"radial"==o?n<270&&n>90?"rotate(180 "+r+" 0)":null:"rotate("+(n<=180&&n>0?-90:90)+" "+r+" 0)"}}).style({"text-anchor":"middle",display:f.angularAxis.labelsVisible?"block":"none"}).text(function(t,e){return e%(f.minorTicks+1)!=0?"":T?T[t]+f.angularAxis.ticksSuffix:t+f.angularAxis.ticksSuffix}).style(U);f.angularAxis.rewriteTicks&&$.text(function(t,e){return e%(f.minorTicks+1)!=0?"":f.angularAxis.rewriteTicks(this.textContent,e)});var tt=r.max(z.selectAll(".angular-tick text")[0].map(function(t,e){return t.getCTM().e+t.getBBox().width}));N.attr({transform:"translate("+[b+tt,f.margin.top]+")"});var et=e.select("g.geometry-group").selectAll("g").size()>0,nt=e.select("g.geometry-group").selectAll("g.geometry").data(h);if(nt.enter().append("g").attr({"class":function(t,e){return"geometry geometry"+e}}),nt.exit().remove(),h[0]||et){var rt=[];h.forEach(function(t,e){var n={};n.radialScale=o,n.angularScale=s,n.container=nt.filter(function(t,n){return n==e}),n.geometry=t.geometry,n.orientation=f.orientation,n.direction=f.direction,n.index=e,rt.push({data:t,geometryConfig:n})});var ot=r.nest().key(function(t,e){return"undefined"!=typeof t.data.groupId||"unstacked"}).entries(rt),it=[];ot.forEach(function(t,e){"unstacked"===t.key?it=it.concat(t.values.map(function(t,e){return[t]})):it.push(t.values)}),it.forEach(function(t,e){var n;n=Array.isArray(t)?t[0].geometryConfig.geometry:t.geometryConfig.geometry;var r=t.map(function(t,e){return i(a[n].defaultConfig(),t)});a[n]().config(r)()})}var at,st,lt=e.select(".guides-group"),ut=e.select(".tooltips-group"),ct=a.tooltipPanel().config({container:ut,fontSize:8})(),ft=a.tooltipPanel().config({container:ut,fontSize:8})(),pt=a.tooltipPanel().config({container:ut,hasTick:!0})();if(!C){var ht=lt.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});z.on("mousemove.angular-guide",function(t,e){var n=a.util.getMousePos(X).angle;ht.attr({x2:-b,transform:"rotate("+n+")"}).style({opacity:.5});var r=(n+180+360-f.orientation)%360;at=s.invert(r);var o=a.util.convertToCartesian(b+12,n+180);ct.text(a.util.round(at)).move([o[0]+x[0],o[1]+x[1]])}).on("mouseout.angular-guide",function(t,e){lt.select("line").style({opacity:0})})}var dt=lt.select("circle").style({stroke:"grey",fill:"none"});z.on("mousemove.radial-guide",function(t,e){var n=a.util.getMousePos(X).radius;dt.attr({r:n}).style({opacity:.5}),st=o.invert(a.util.getMousePos(X).radius);var r=a.util.convertToCartesian(n,f.radialAxis.orientation);ft.text(a.util.round(st)).move([r[0]+x[0],r[1]+x[1]])}).on("mouseout.radial-guide",function(t,e){dt.style({opacity:0}),pt.hide(),ct.hide(),ft.hide()}),e.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(t,n){var o=r.select(this),i=o.style("fill"),s="black",l=o.style("opacity")||1;if(o.attr({"data-opacity":l}),"none"!=i){o.attr({"data-fill":i}),s=r.hsl(i).darker().toString(),o.style({fill:s,opacity:1});var u={t:a.util.round(t[0]),r:a.util.round(t[1])};C&&(u.t=T[t[0]]);var c="t: "+u.t+", r: "+u.r,f=this.getBoundingClientRect(),p=e.node().getBoundingClientRect(),h=[f.left+f.width/2-V[0]-p.left,f.top+f.height/2-V[1]-p.top];pt.config({color:s}).text(c),pt.move(h)}else i=o.style("stroke"),o.attr({"data-stroke":i}),s=r.hsl(i).darker().toString(),o.style({stroke:s,opacity:1})}).on("mousemove.tooltip",function(t,e){return 0==r.event.which&&void(r.select(this).attr("data-fill")&&pt.show())}).on("mouseout.tooltip",function(t,e){pt.hide();var n=r.select(this),o=n.attr("data-fill");o?n.style({fill:o,opacity:n.attr("data-opacity")}):n.style({stroke:n.attr("data-stroke"),opacity:n.attr("data-opacity")})})}),p}var e,n,o,s,l={data:[],layout:{}},u={},c={},f=r.dispatch("hover"),p={};return p.render=function(e){return t(e),this},p.config=function(t){if(!arguments.length)return l;var e=a.util.cloneJson(t);return e.data.forEach(function(t,e){l.data[e]||(l.data[e]={}),i(l.data[e],a.Axis.defaultConfig().data[0]),i(l.data[e],t)}),i(l.layout,a.Axis.defaultConfig().layout),i(l.layout,e.layout),this},p.getLiveConfig=function(){return c},p.getinputConfig=function(){return u},p.radialScale=function(t){return o},p.angularScale=function(t){return s},p.svg=function(){return e},r.rebind(p,f,"on"),p},a.Axis.defaultConfig=function(t,e){var n={data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:r.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}};return n},a.util={},a.DATAEXTENT="dataExtent",a.AREA="AreaChart",a.LINE="LinePlot",a.DOT="DotPlot",a.BAR="BarChart",a.util._override=function(t,e){for(var n in t)n in e&&(e[n]=t[n])},a.util._extend=function(t,e){for(var n in t)e[n]=t[n]},a.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},a.util.dataFromEquation2=function(t,e){var n=e||6,o=r.range(0,360+n,n).map(function(e,n){var r=e*Math.PI/180,o=t(r);return[e,o]});return o},a.util.dataFromEquation=function(t,e,n){var o=e||6,i=[],a=[];r.range(0,360+o,o).forEach(function(e,n){var r=e*Math.PI/180,o=t(r);i.push(e),a.push(o)});var s={t:i,r:a};return n&&(s.name=n),s},a.util.ensureArray=function(t,e){if("undefined"==typeof t)return null;var n=[].concat(t);return r.range(e).map(function(t,e){return n[e]||n[0]})},a.util.fillArrays=function(t,e,n){return e.forEach(function(e,r){t[e]=a.util.ensureArray(t[e],n)}),t},a.util.cloneJson=function(t){return JSON.parse(JSON.stringify(t))},a.util.validateKeys=function(t,e){"string"==typeof e&&(e=e.split("."));var n=e.shift();return t[n]&&(!e.length||objHasKeys(t[n],e))},a.util.sumArrays=function(t,e){return r.zip(t,e).map(function(t,e){return r.sum(t)})},a.util.arrayLast=function(t){return t[t.length-1]},a.util.arrayEqual=function(t,e){for(var n=Math.max(t.length,e.length,1);n-- >=0&&t[n]===e[n];);return n===-2},a.util.flattenArray=function(t){for(var e=[];!a.util.arrayEqual(e,t);)e=t,t=[].concat.apply([],t);return t},a.util.deduplicate=function(t){return t.filter(function(t,e,n){return n.indexOf(t)==e})},a.util.convertToCartesian=function(t,e){var n=e*Math.PI/180,r=t*Math.cos(n),o=t*Math.sin(n);return[r,o]},a.util.round=function(t,e){var n=e||2,r=Math.pow(10,n);return Math.round(t*r)/r},a.util.getMousePos=function(t){var e=r.mouse(t.node()),n=e[0],o=e[1],i={};return i.x=n,i.y=o,i.pos=e,i.angle=180*(Math.atan2(o,n)+Math.PI)/Math.PI,i.radius=Math.sqrt(n*n+o*o),i},a.util.duplicatesCount=function(t){for(var e,n={},r={},o=0,i=t.length;o<i;o++)e=t[o],e in n?(n[e]++,r[e]=n[e]):n[e]=1;return r},a.util.duplicates=function(t){return Object.keys(a.util.duplicatesCount(t))},a.util.translator=function(t,e,n,r){if(r){var o=n.slice();n=e,e=o}var i=e.reduce(function(t,e){if("undefined"!=typeof t)return t[e]},t);"undefined"!=typeof i&&(e.reduce(function(t,n,r){if("undefined"!=typeof t)return r===e.length-1&&delete t[n],t[n]},t),n.reduce(function(t,e,r){return"undefined"==typeof t[e]&&(t[e]={}),r===n.length-1&&(t[e]=i),t[e]},t))},a.PolyChart=function(){function t(){var t=n[0].geometryConfig,e=t.container;"string"==typeof e&&(e=r.select(e)),e.datum(n).each(function(e,n){function o(e,n){var r=t.radialScale(e[1]),o=(t.angularScale(e[0])+t.orientation)*Math.PI/180;return{r:r,t:o}}function i(t){var e=t.r*Math.cos(t.t),n=t.r*Math.sin(t.t);return{x:e,y:n}}var a=!!e[0].data.yStack,l=e.map(function(t,e){return a?r.zip(t.data.t[0],t.data.r[0],t.data.yStack[0]):r.zip(t.data.t[0],t.data.r[0])}),u=t.angularScale,c=t.radialScale.domain()[0],f={};f.bar=function(n,o,i){var a=e[i].data,s=t.radialScale(n[1])-t.radialScale(0),l=t.radialScale(n[2]||0),c=a.barWidth;r.select(this).attr({"class":"mark bar",d:"M"+[[s+l,-c/2],[s+l,c/2],[l,c/2],[l,-c/2]].join("L")+"Z",transform:function(e,n){return"rotate("+(t.orientation+u(e[0]))+")"}})},f.dot=function(t,n,a){var s=t[2]?[t[0],t[1]+t[2]]:t,l=r.svg.symbol().size(e[a].data.dotSize).type(e[a].data.dotType)(t,n);r.select(this).attr({"class":"mark dot",d:l,transform:function(t,e){var n=i(o(s));return"translate("+[n.x,n.y]+")"}})};var p=r.svg.line.radial().interpolate(e[0].data.lineInterpolation).radius(function(e){return t.radialScale(e[1])}).angle(function(e){return t.angularScale(e[0])*Math.PI/180});f.line=function(n,o,i){var a=n[2]?l[i].map(function(t,e){return[t[0],t[1]+t[2]]}):l[i];if(r.select(this).each(f.dot).style({opacity:function(t,n){return+e[i].data.dotVisible},fill:y.stroke(n,o,i)}).attr({"class":"mark dot"}),!(o>0)){var s=r.select(this.parentNode).selectAll("path.line").data([0]);s.enter().insert("path"),s.attr({"class":"line",d:p(a),transform:function(e,n){return"rotate("+(t.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(t,e){return y.fill(n,o,i)},"fill-opacity":0,stroke:function(t,e){return y.stroke(n,o,i)},"stroke-width":function(t,e){return y["stroke-width"](n,o,i)},"stroke-dasharray":function(t,e){return y["stroke-dasharray"](n,o,i)},opacity:function(t,e){return y.opacity(n,o,i)},display:function(t,e){return y.display(n,o,i)}})}};var h=t.angularScale.range(),d=Math.abs(h[1]-h[0])/l[0].length*Math.PI/180,m=r.svg.arc().startAngle(function(t){return-d/2}).endAngle(function(t){return d/2}).innerRadius(function(e){return t.radialScale(c+(e[2]||0))}).outerRadius(function(e){return t.radialScale(c+(e[2]||0))+t.radialScale(e[1])});f.arc=function(e,n,o){r.select(this).attr({"class":"mark arc",d:m,transform:function(e,n){return"rotate("+(t.orientation+u(e[0])+90)+")"}})};var y={fill:function(t,n,r){return e[r].data.color},stroke:function(t,n,r){return e[r].data.strokeColor;
},"stroke-width":function(t,n,r){return e[r].data.strokeSize+"px"},"stroke-dasharray":function(t,n,r){return s[e[r].data.strokeDash]},opacity:function(t,n,r){return e[r].data.opacity},display:function(t,n,r){return"undefined"==typeof e[r].data.visible||e[r].data.visible?"block":"none"}},v=r.select(this).selectAll("g.layer").data(l);v.enter().append("g").attr({"class":"layer"});var g=v.selectAll("path.mark").data(function(t,e){return t});g.enter().append("path").attr({"class":"mark"}),g.style(y).each(f[t.geometryType]),g.exit().remove(),v.exit().remove()})}var e,n=[a.PolyChart.defaultConfig()],o=r.dispatch("hover"),s={solid:"none",dash:[5,2],dot:[2,5]};return t.config=function(t){return arguments.length?(t.forEach(function(t,e){n[e]||(n[e]={}),i(n[e],a.PolyChart.defaultConfig()),i(n[e],t)}),this):n},t.getColorScale=function(){return e},r.rebind(t,o,"on"),t},a.PolyChart.defaultConfig=function(){var t={data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:r.scale.category20()}};return t},a.BarChart=function(){return a.PolyChart()},a.BarChart.defaultConfig=function(){var t={geometryConfig:{geometryType:"bar"}};return t},a.AreaChart=function(){return a.PolyChart()},a.AreaChart.defaultConfig=function(){var t={geometryConfig:{geometryType:"arc"}};return t},a.DotPlot=function(){return a.PolyChart()},a.DotPlot.defaultConfig=function(){var t={geometryConfig:{geometryType:"dot",dotType:"circle"}};return t},a.LinePlot=function(){return a.PolyChart()},a.LinePlot.defaultConfig=function(){var t={geometryConfig:{geometryType:"line"}};return t},a.Legend=function(){function t(){var n=e.legendConfig,o=e.data.map(function(t,e){return[].concat(t).map(function(t,r){var o=i({},n.elements[e]);return o.name=t,o.color=[].concat(n.elements[e].color)[r],o})}),a=r.merge(o);a=a.filter(function(t,e){return n.elements[e]&&(n.elements[e].visibleInLegend||"undefined"==typeof n.elements[e].visibleInLegend)}),n.reverseOrder&&(a=a.reverse());var s=n.container;("string"==typeof s||s.nodeName)&&(s=r.select(s));var l=a.map(function(t,e){return t.color}),u=n.fontSize,c=null==n.isContinuous?"number"==typeof a[0]:n.isContinuous,f=c?n.height:u*a.length,p=s.classed("legend-group",!0),h=p.selectAll("svg").data([0]),d=h.enter().append("svg").attr({width:300,height:f+u,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});d.append("g").classed("legend-axis",!0),d.append("g").classed("legend-marks",!0);var m=r.range(a.length),y=r.scale[c?"linear":"ordinal"]().domain(m).range(l),v=r.scale[c?"linear":"ordinal"]().domain(m)[c?"range":"rangePoints"]([0,f]),g=function(t,e){var n=3*e;return"line"===t?"M"+[[-e/2,-e/12],[e/2,-e/12],[e/2,e/12],[-e/2,e/12]]+"Z":r.svg.symbolTypes.indexOf(t)!=-1?r.svg.symbol().type(t).size(n)():r.svg.symbol().type("square").size(n)()};if(c){var b=h.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(l);b.enter().append("stop"),b.attr({offset:function(t,e){return e/(l.length-1)*100+"%"}}).style({"stop-color":function(t,e){return t}}),h.append("rect").classed("legend-mark",!0).attr({height:n.height,width:n.colorBandWidth,fill:"url(#grad1)"})}else{var _=h.select(".legend-marks").selectAll("path.legend-mark").data(a);_.enter().append("path").classed("legend-mark",!0),_.attr({transform:function(t,e){return"translate("+[u/2,v(e)+u/2]+")"},d:function(t,e){var n=t.symbol;return g(n,u)},fill:function(t,e){return y(e)}}),_.exit().remove()}var x=r.svg.axis().scale(v).orient("right"),w=h.select("g.legend-axis").attr({transform:"translate("+[c?n.colorBandWidth:u,u/2]+")"}).call(x);return w.selectAll(".domain").style({fill:"none",stroke:"none"}),w.selectAll("line").style({fill:"none",stroke:c?n.textColor:"none"}),w.selectAll("text").style({fill:n.textColor,"font-size":n.fontSize}).text(function(t,e){return a[e].name}),t}var e=a.Legend.defaultConfig(),n=r.dispatch("hover");return t.config=function(t){return arguments.length?(i(e,t),this):e},r.rebind(t,n,"on"),t},a.Legend.defaultConfig=function(t,e){var n={data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}};return n},a.tooltipPanel=function(){var t,e,n,o={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},s="tooltip-"+a.tooltipPanel.uid++,l=10,u=function(){t=o.container.selectAll("g."+s).data([0]);var r=t.enter().append("g").classed(s,!0).style({"pointer-events":"none",display:"none"});return n=r.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),e=r.append("text").attr({dx:o.padding+l,dy:.3*+o.fontSize}),u};return u.text=function(i){var a=r.hsl(o.color).l,s=a>=.5?"#aaa":"white",c=a>=.5?"black":"white",f=i||"";e.style({fill:c,"font-size":o.fontSize+"px"}).text(f);var p=o.padding,h=e.node().getBBox(),d={fill:o.color,stroke:s,"stroke-width":"2px"},m=h.width+2*p+l,y=h.height+2*p;return n.attr({d:"M"+[[l,-y/2],[l,-y/4],[o.hasTick?0:l,0],[l,y/4],[l,y/2],[m,y/2],[m,-y/2]].join("L")+"Z"}).style(d),t.attr({transform:"translate("+[l,-y/2+2*p]+")"}),t.style({display:"block"}),u},u.move=function(e){if(t)return t.attr({transform:"translate("+[e[0],e[1]]+")"}).style({display:"block"}),u},u.hide=function(){if(t)return t.style({display:"none"}),u},u.show=function(){if(t)return t.style({display:"block"}),u},u.config=function(t){return i(o,t),u},u},a.tooltipPanel.uid=1,a.adapter={},a.adapter.plotly=function(){var t={};return t.convert=function(t,e){var n={};if(t.data&&(n.data=t.data.map(function(t,n){var r=i({},t),o=[[r,["marker","color"],["color"]],[r,["marker","opacity"],["opacity"]],[r,["marker","line","color"],["strokeColor"]],[r,["marker","line","dash"],["strokeDash"]],[r,["marker","line","width"],["strokeSize"]],[r,["marker","symbol"],["dotType"]],[r,["marker","size"],["dotSize"]],[r,["marker","barWidth"],["barWidth"]],[r,["line","interpolation"],["lineInterpolation"]],[r,["showlegend"],["visibleInLegend"]]];return o.forEach(function(t,n){a.util.translator.apply(null,t.concat(e))}),e||delete r.marker,e&&delete r.groupId,e?("LinePlot"===r.geometry?(r.type="scatter",r.dotVisible===!0?(delete r.dotVisible,r.mode="lines+markers"):r.mode="lines"):"DotPlot"===r.geometry?(r.type="scatter",r.mode="markers"):"AreaChart"===r.geometry?r.type="area":"BarChart"===r.geometry&&(r.type="bar"),delete r.geometry):("scatter"===r.type?"lines"===r.mode?r.geometry="LinePlot":"markers"===r.mode?r.geometry="DotPlot":"lines+markers"===r.mode&&(r.geometry="LinePlot",r.dotVisible=!0):"area"===r.type?r.geometry="AreaChart":"bar"===r.type&&(r.geometry="BarChart"),delete r.mode,delete r.type),r}),!e&&t.layout&&"stack"===t.layout.barmode)){var o=a.util.duplicates(n.data.map(function(t,e){return t.geometry}));n.data.forEach(function(t,e){var r=o.indexOf(t.geometry);r!=-1&&(n.data[e].groupId=r)})}if(t.layout){var s=i({},t.layout),l=[[s,["plot_bgcolor"],["backgroundColor"]],[s,["showlegend"],["showLegend"]],[s,["radialaxis"],["radialAxis"]],[s,["angularaxis"],["angularAxis"]],[s.angularaxis,["showline"],["gridLinesVisible"]],[s.angularaxis,["showticklabels"],["labelsVisible"]],[s.angularaxis,["nticks"],["ticksCount"]],[s.angularaxis,["tickorientation"],["tickOrientation"]],[s.angularaxis,["ticksuffix"],["ticksSuffix"]],[s.angularaxis,["range"],["domain"]],[s.angularaxis,["endpadding"],["endPadding"]],[s.radialaxis,["showline"],["gridLinesVisible"]],[s.radialaxis,["tickorientation"],["tickOrientation"]],[s.radialaxis,["ticksuffix"],["ticksSuffix"]],[s.radialaxis,["range"],["domain"]],[s.angularAxis,["showline"],["gridLinesVisible"]],[s.angularAxis,["showticklabels"],["labelsVisible"]],[s.angularAxis,["nticks"],["ticksCount"]],[s.angularAxis,["tickorientation"],["tickOrientation"]],[s.angularAxis,["ticksuffix"],["ticksSuffix"]],[s.angularAxis,["range"],["domain"]],[s.angularAxis,["endpadding"],["endPadding"]],[s.radialAxis,["showline"],["gridLinesVisible"]],[s.radialAxis,["tickorientation"],["tickOrientation"]],[s.radialAxis,["ticksuffix"],["ticksSuffix"]],[s.radialAxis,["range"],["domain"]],[s.font,["outlinecolor"],["outlineColor"]],[s.legend,["traceorder"],["reverseOrder"]],[s,["labeloffset"],["labelOffset"]],[s,["defaultcolorrange"],["defaultColorRange"]]];if(l.forEach(function(t,n){a.util.translator.apply(null,t.concat(e))}),e?("undefined"!=typeof s.tickLength&&(s.angularaxis.ticklen=s.tickLength,delete s.tickLength),s.tickColor&&(s.angularaxis.tickcolor=s.tickColor,delete s.tickColor)):(s.angularAxis&&"undefined"!=typeof s.angularAxis.ticklen&&(s.tickLength=s.angularAxis.ticklen),s.angularAxis&&"undefined"!=typeof s.angularAxis.tickcolor&&(s.tickColor=s.angularAxis.tickcolor)),s.legend&&"boolean"!=typeof s.legend.reverseOrder&&(s.legend.reverseOrder="normal"!=s.legend.reverseOrder),s.legend&&"boolean"==typeof s.legend.traceorder&&(s.legend.traceorder=s.legend.traceorder?"reversed":"normal",delete s.legend.reverseOrder),s.margin&&"undefined"!=typeof s.margin.t){var u=["t","r","b","l","pad"],c=["top","right","bottom","left","pad"],f={};r.entries(s.margin).forEach(function(t,e){f[c[u.indexOf(t.key)]]=t.value}),s.margin=f}e&&(delete s.needsEndSpacing,delete s.minorTickColor,delete s.minorTicks,delete s.angularaxis.ticksCount,delete s.angularaxis.ticksCount,delete s.angularaxis.ticksStep,delete s.angularaxis.rewriteTicks,delete s.angularaxis.nticks,delete s.radialaxis.ticksCount,delete s.radialaxis.ticksCount,delete s.radialaxis.ticksStep,delete s.radialaxis.rewriteTicks,delete s.radialaxis.nticks),n.layout=s}return n},t}},{"../../lib":633,d3:125}],725:[function(t,e,n){"use strict";var r=t("d3"),o=t("../../lib"),i=t("../../components/color"),a=t("./micropolar"),s=t("./undo_manager"),l=o.extendDeepAll,u=e.exports={};u.framework=function(t){function e(e,o){return o&&(f=o),r.select(r.select(f).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),n=n?l(n,e):e,i||(i=a.Axis()),c=a.adapter.plotly().convert(n),i.config(c).render(f),t.data=n.data,t.layout=n.layout,u.fillLayout(t),n}var n,o,i,c,f,p=new s;return e.isPolar=!0,e.svg=function(){return i.svg()},e.getConfig=function(){return n},e.getLiveConfig=function(){return a.adapter.plotly().convert(i.getLiveConfig(),!0)},e.getLiveScales=function(){return{t:i.angularScale(),r:i.radialScale()}},e.setUndoPoint=function(){var t=this,e=a.util.cloneJson(n);!function(e,n){p.add({undo:function(){n&&t(n)},redo:function(){t(e)}})}(e,o),o=a.util.cloneJson(e)},e.undo=function(){p.undo()},e.redo=function(){p.redo()},e},u.fillLayout=function(t){var e=r.select(t).selectAll(".plot-container"),n=e.selectAll(".svg-container"),o=t.framework&&t.framework.svg&&t.framework.svg(),a={width:800,height:600,paper_bgcolor:i.background,_container:e,_paperdiv:n,_paper:o};t._fullLayout=l(a,t.layout)}},{"../../components/color":540,"../../lib":633,"./micropolar":724,"./undo_manager":726,d3:125}],726:[function(t,e,n){"use strict";e.exports=function(){function t(t,e){return t?(o=!0,t[e](),o=!1,this):this}var e,n=[],r=-1,o=!1;return{add:function(t){return o?this:(n.splice(r+1,n.length-r),n.push(t),r=n.length-1,this)},setCallback:function(t){e=t},undo:function(){var o=n[r];return o?(t(o,"undo"),r-=1,e&&e(o.undo),this):this},redo:function(){var o=n[r+1];return o?(t(o,"redo"),r+=1,e&&e(o.redo),this):this},clear:function(){n=[],r=-1},hasUndo:function(){return r!==-1},hasRedo:function(){return r<n.length-1},getCommands:function(){return n},getPreviousCommand:function(){return n[r-1]},getIndex:function(){return r}}}},{}],727:[function(t,e,n){"use strict";var r=t("../lib"),o=t("./plots");e.exports=function(t,e,n,i){function a(t,e){return r.coerce(s,l,c,t,e)}for(var s,l,u=i.type,c=i.attributes,f=i.handleDefaults,p=i.partition||"x",h=o.findSubplotIds(n,u),d=h.length,m=0;m<d;m++){var y=h[m];s=t[y]?t[y]:t[y]={},e[y]=l={},a("domain."+p,[m/d,(m+1)/d]),a("domain."+{x:"y",y:"x"}[p]),i.id=y,f(s,l,a,i)}}},{"../lib":633,"./plots":720}],728:[function(t,e,n){"use strict";var r=t("./ternary"),o=t("../../plots/plots");n.name="ternary",n.attr="subplot",n.idRoot="ternary",n.idRegex=/^ternary([2-9]|[1-9][0-9]+)?$/,n.attrRegex=/^ternary([2-9]|[1-9][0-9]+)?$/,n.attributes=t("./layout/attributes"),n.layoutAttributes=t("./layout/layout_attributes"),n.supplyLayoutDefaults=t("./layout/defaults"),n.plot=function(t){for(var e=t._fullLayout,n=t._fullData,i=o.getSubplotIds(e,"ternary"),a=0;a<i.length;a++){var s=i[a],l=o.getSubplotData(n,"ternary",s),u=e[s]._subplot;void 0===u&&(u=new r({id:s,graphDiv:t,container:e._ternarylayer.node()},e),e[s]._subplot=u),u.plot(l,e,t._promises)}},n.clean=function(t,e,n,r){for(var i=o.getSubplotIds(r,"ternary"),a=0;a<i.length;a++){var s=i[a],l=r[s]._subplot;!e[s]&&l&&(l.plotContainer.remove(),l.clipDef.remove())}}},{"../../plots/plots":720,"./layout/attributes":729,"./layout/defaults":732,"./layout/layout_attributes":733,"./ternary":734}],729:[function(t,e,n){"use strict";e.exports={subplot:{valType:"subplotid",dflt:"ternary"}}},{}],730:[function(t,e,n){"use strict";var r=t("../../cartesian/layout_attributes"),o=t("../../../lib/extend").extendFlat;e.exports={title:r.title,titlefont:r.titlefont,color:r.color,tickmode:r.tickmode,nticks:o({},r.nticks,{dflt:6,min:1}),tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:r.ticks,ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,showtickprefix:r.showtickprefix,tickprefix:r.tickprefix,showticksuffix:r.showticksuffix,ticksuffix:r.ticksuffix,showexponent:r.showexponent,exponentformat:r.exponentformat,separatethousands:r.separatethousands,tickfont:r.tickfont,tickangle:r.tickangle,tickformat:r.tickformat,hoverformat:r.hoverformat,showline:o({},r.showline,{dflt:!0}),linecolor:r.linecolor,linewidth:r.linewidth,showgrid:o({},r.showgrid,{dflt:!0}),gridcolor:r.gridcolor,gridwidth:r.gridwidth,min:{valType:"number",dflt:0,min:0}}},{"../../../lib/extend":627,"../../cartesian/layout_attributes":671}],731:[function(t,e,n){"use strict";var r=t("tinycolor2").mix,o=t("../../../lib"),i=t("./axis_attributes"),a=t("../../cartesian/tick_label_defaults"),s=t("../../cartesian/tick_mark_defaults"),l=t("../../cartesian/tick_value_defaults");e.exports=function(t,e,n){function u(n,r){return o.coerce(t,e,i,n,r)}e.type="linear";var c=u("color"),f=c===t.color?c:n.font.color,p=e._name,h=p.charAt(0).toUpperCase(),d="Component "+h,m=u("title",d);e._hovertitle=m===d?m:h,o.coerceFont(u,"titlefont",{family:n.font.family,size:Math.round(1.2*n.font.size),color:f}),u("min"),l(t,e,u,"linear"),a(t,e,u,"linear",{noHover:!1}),s(t,e,u,{outerTicks:!0});var y=u("showticklabels");y&&(o.coerceFont(u,"tickfont",{family:n.font.family,size:n.font.size,color:f}),u("tickangle"),u("tickformat")),u("hoverformat");var v=u("showline");v&&(u("linecolor",c),u("linewidth"));var g=u("showgrid");g&&(u("gridcolor",r(c,n.bgColor,60).toRgbString()),u("gridwidth"))}},{"../../../lib":633,"../../cartesian/tick_label_defaults":677,"../../cartesian/tick_mark_defaults":678,"../../cartesian/tick_value_defaults":679,"./axis_attributes":730,tinycolor2:506}],732:[function(t,e,n){"use strict";function r(t,e,n,r){var i=n("bgcolor"),a=n("sum");r.bgColor=o.combine(i,r.paper_bgcolor);for(var u,c,f,p=0;p<l.length;p++)u=l[p],c=t[u]||{},f=e[u]={_name:u},s(c,f,r);var h=e.aaxis,d=e.baxis,m=e.caxis;h.min+d.min+m.min>=a&&(h.min=0,d.min=0,m.min=0,t.aaxis&&delete t.aaxis.min,t.baxis&&delete t.baxis.min,t.caxis&&delete t.caxis.min)}var o=t("../../../components/color"),i=t("../../subplot_defaults"),a=t("./layout_attributes"),s=t("./axis_defaults"),l=["aaxis","baxis","caxis"];e.exports=function(t,e,n){i(t,e,n,{type:"ternary",attributes:a,handleDefaults:r,font:e.font,paper_bgcolor:e.paper_bgcolor})}},{"../../../components/color":540,"../../subplot_defaults":727,"./axis_defaults":731,"./layout_attributes":733}],733:[function(t,e,n){"use strict";var r=t("../../../components/color/attributes"),o=t("./axis_attributes");e.exports={domain:{x:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},y:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]}},bgcolor:{valType:"color",dflt:r.background},sum:{valType:"number",dflt:1,min:0},aaxis:o,baxis:o,caxis:o}},{"../../../components/color/attributes":539,"./axis_attributes":730}],734:[function(t,e,n){"use strict";function r(t,e){this.id=t.id,this.graphDiv=t.graphDiv,this.init(e),this.makeFramework()}function o(t){i.select(t).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}var i=t("d3"),a=t("tinycolor2"),s=t("../../plotly"),l=t("../../lib"),u=t("../../components/color"),c=t("../../components/drawing"),f=t("../cartesian/set_convert"),p=t("../../lib/extend").extendFlat,h=t("../cartesian/axes"),d=t("../../lib/filter_visible"),m=t("../../components/dragelement"),y=t("../../components/titles"),v=t("../cartesian/select"),g=t("../cartesian/constants"),b=t("../cartesian/graph_interact");e.exports=r;var _=r.prototype;_.init=function(t){this.container=t._ternarylayer,this.defs=t._defs,this.layoutId=t._uid,this.traceHash={}},_.plot=function(t,e){var n,r=this,o=e[r.id],i=e._size;l.getPlotDiv(r.plotContainer.node())!==r.graphDiv&&(r.init(r.graphDiv._fullLayout),r.makeFramework()),r.adjustLayout(o,i);var a=r.traceHash,s={};for(n=0;n<t.length;n++){var c=t[n];s[c.type]=s[c.type]||[],s[c.type].push(c)}var f=Object.keys(a),p=Object.keys(s);for(n=0;n<f.length;n++){var h=f[n];if(p.indexOf(h)===-1){var m=a[h][0];m.visible=!1,s[h]=[m]}}for(p=Object.keys(s),n=0;n<p.length;n++){var y=s[p[n]],v=y[0]._module;v.plot(r,d(y),o)}r.traceHash=s,r.layers.plotbg.select("path").call(u.fill,o.bgcolor)},_.makeFramework=function(){var t=this,e=t.defs.selectAll("g.clips").data([0]);e.enter().append("g").classed("clips",!0);var n="clip"+t.layoutId+t.id;t.clipDef=e.selectAll("#"+n).data([0]),t.clipDef.enter().append("clipPath").attr("id",n).append("path").attr("d","M0,0Z"),t.plotContainer=t.container.selectAll("g."+t.id).data([0]),t.plotContainer.enter().append("g").classed(t.id,!0),t.layers={};var r=["draglayer","plotbg","backplot","grids","frontplot","zoom","aaxis","baxis","caxis","axlines"],o=t.plotContainer.selectAll("g.toplevel").data(r);o.enter().append("g").attr("class",function(t){return"toplevel "+t}).each(function(e){var n=i.select(this);t.layers[e]=n,"frontplot"===e?n.append("g").classed("scatterlayer",!0):"backplot"===e?n.append("g").classed("maplayer",!0):"plotbg"===e?n.append("path").attr("d","M0,0Z"):"axlines"===e&&n.selectAll("path").data(["aline","bline","cline"]).enter().append("path").each(function(t){i.select(this).classed(t,!0)})});var a=t.plotContainer.select(".grids").selectAll("g.grid").data(["agrid","bgrid","cgrid"]);a.enter().append("g").attr("class",function(t){return"grid "+t}).each(function(e){t.layers[e]=i.select(this)}),t.plotContainer.selectAll(".backplot,.frontplot,.grids").call(c.setClipUrl,n),t.graphDiv._context.staticPlot||t.initInteractions()};var x=Math.sqrt(4/3);_.adjustLayout=function(t,e){var n,r,o,i,a,s,l=this,c=t.domain,h=(c.x[0]+c.x[1])/2,d=(c.y[0]+c.y[1])/2,m=c.x[1]-c.x[0],y=c.y[1]-c.y[0],v=m*e.w,g=y*e.h,b=t.sum,_=t.aaxis.min,w=t.baxis.min,T=t.caxis.min;v>x*g?(i=g,o=i*x):(o=v,i=o/x),a=m*o/v,s=y*i/g,n=e.l+e.w*h-o/2,r=e.t+e.h*(1-d)-i/2,l.x0=n,l.y0=r,l.w=o,l.h=i,l.sum=b,l.xaxis={type:"linear",range:[_+2*T-b,b-_-2*w],domain:[h-a/2,h+a/2],_id:"x",_gd:l.graphDiv},f(l.xaxis),l.xaxis.setScale(),l.yaxis={type:"linear",range:[_,b-w-T],domain:[d-s/2,d+s/2],_id:"y",_gd:l.graphDiv},f(l.yaxis),l.yaxis.setScale();var E=l.yaxis.domain[0],C=l.aaxis=p({},t.aaxis,{range:[_,b-w-T],side:"left",_counterangle:30,tickangle:(+t.aaxis.tickangle||0)-30,domain:[E,E+s*x],_axislayer:l.layers.aaxis,_gridlayer:l.layers.agrid,_pos:0,_gd:l.graphDiv,_id:"y",_length:o,_gridpath:"M0,0l"+i+",-"+o/2});f(C);var k=l.baxis=p({},t.baxis,{range:[b-_-T,w],side:"bottom",_counterangle:30,domain:l.xaxis.domain,_axislayer:l.layers.baxis,_gridlayer:l.layers.bgrid,_counteraxis:l.aaxis,_pos:0,_gd:l.graphDiv,_id:"x",_length:o,_gridpath:"M0,0l-"+o/2+",-"+i});f(k),C._counteraxis=k;var S=l.caxis=p({},t.caxis,{range:[b-_-w,T],side:"right",_counterangle:30,tickangle:(+t.caxis.tickangle||0)+30,domain:[E,E+s*x],_axislayer:l.layers.caxis,_gridlayer:l.layers.cgrid,_counteraxis:l.baxis,_pos:0,_gd:l.graphDiv,_id:"y",_length:o,_gridpath:"M0,0l-"+i+","+o/2});f(S);var P="M"+n+","+(r+i)+"h"+o+"l-"+o/2+",-"+i+"Z";l.clipDef.select("path").attr("d",P),l.layers.plotbg.select("path").attr("d",P);var M="translate("+n+","+r+")";l.plotContainer.selectAll(".scatterlayer,.maplayer,.zoom").attr("transform",M);var A="translate("+n+","+(r+i)+")";l.layers.baxis.attr("transform",A),l.layers.bgrid.attr("transform",A);var O="translate("+(n+o/2)+","+r+")rotate(30)";l.layers.aaxis.attr("transform",O),l.layers.agrid.attr("transform",O);var D="translate("+(n+o/2)+","+r+")rotate(-30)";l.layers.caxis.attr("transform",D),l.layers.cgrid.attr("transform",D),l.drawAxes(!0),l.plotContainer.selectAll(".crisp").classed("crisp",!1);var L=l.layers.axlines;L.select(".aline").attr("d",C.showline?"M"+n+","+(r+i)+"l"+o/2+",-"+i:"M0,0").call(u.stroke,C.linecolor||"#000").style("stroke-width",(C.linewidth||0)+"px"),L.select(".bline").attr("d",k.showline?"M"+n+","+(r+i)+"h"+o:"M0,0").call(u.stroke,k.linecolor||"#000").style("stroke-width",(k.linewidth||0)+"px"),L.select(".cline").attr("d",S.showline?"M"+(n+o/2)+","+r+"l"+o/2+","+i:"M0,0").call(u.stroke,S.linecolor||"#000").style("stroke-width",(S.linewidth||0)+"px")},_.drawAxes=function(t){var e=this,n=e.graphDiv,r=e.id.substr(7)+"title",o=e.aaxis,i=e.baxis,a=e.caxis;if(h.doTicks(n,o,!0),h.doTicks(n,i,!0),h.doTicks(n,a,!0),t){var s=Math.max(o.showticklabels?o.tickfont.size/2:0,(a.showticklabels?.75*a.tickfont.size:0)+("outside"===a.ticks?.87*a.ticklen:0));y.draw(n,"a"+r,{propContainer:o,propName:e.id+".aaxis.title",dfltName:"Component A",attributes:{x:e.x0+e.w/2,y:e.y0-o.titlefont.size/3-s,"text-anchor":"middle"}});var l=(i.showticklabels?i.tickfont.size:0)+("outside"===i.ticks?i.ticklen:0)+3;y.draw(n,"b"+r,{propContainer:i,propName:e.id+".baxis.title",dfltName:"Component B",attributes:{x:e.x0-l,y:e.y0+e.h+.83*i.titlefont.size+l,"text-anchor":"middle"}}),y.draw(n,"c"+r,{propContainer:a,propName:e.id+".caxis.title",dfltName:"Component C",attributes:{x:e.x0+e.w+l,y:e.y0+e.h+.83*a.titlefont.size+l,"text-anchor":"middle"}})}};var w=g.MINZOOM/2+.87,T="m-0.87,.5h"+w+"v3h-"+(w+5.2)+"l"+(w/2+2.6)+",-"+(.87*w+4.5)+"l2.6,1.5l-"+w/2+","+.87*w+"Z",E="m0.87,.5h-"+w+"v3h"+(w+5.2)+"l-"+(w/2+2.6)+",-"+(.87*w+4.5)+"l-2.6,1.5l"+w/2+","+.87*w+"Z",C="m0,1l"+w/2+","+.87*w+"l2.6,-1.5l-"+(w/2+2.6)+",-"+(.87*w+4.5)+"l-"+(w/2+2.6)+","+(.87*w+4.5)+"l2.6,1.5l"+w/2+",-"+.87*w+"Z",k="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",S=!0;_.initInteractions=function(){function t(t,e,n){var r=R.getBoundingClientRect();_=e-r.left,w=n-r.top,P={a:F.aaxis.range[0],b:F.baxis.range[1],c:F.caxis.range[1]},A=P,M=F.aaxis.range[1]-P.a,O=a(F.graphDiv._fullLayout[F.id].bgcolor).getLuminance(),D="M0,"+F.h+"L"+F.w/2+", 0L"+F.w+","+F.h+"Z",L=!1,I=z.append("path").attr("class","zoombox").style({fill:O>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",D),j=z.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),d()}function e(t,e){return 1-e/F.h}function n(t,e){return 1-(t+(F.h-e)/Math.sqrt(3))/F.w}function r(t,e){return(t-(F.h-e)/Math.sqrt(3))/F.w}function i(t,o){var i=_+t,a=w+o,s=Math.max(0,Math.min(1,e(_,w),e(i,a))),l=Math.max(0,Math.min(1,n(_,w),n(i,a))),u=Math.max(0,Math.min(1,r(_,w),r(i,a))),c=(s/2+u)*F.w,f=(1-s/2-l)*F.w,p=(c+f)/2,h=f-c,d=(1-s)*F.h,m=d-h/x;h<g.MINZOOM?(A=P,I.attr("d",D),j.attr("d","M0,0Z")):(A={a:P.a+s*M,b:P.b+l*M,c:P.c+u*M},I.attr("d",D+"M"+c+","+d+"H"+f+"L"+p+","+m+"L"+c+","+d+"Z"),j.attr("d","M"+_+","+w+k+"M"+c+","+d+T+"M"+f+","+d+E+"M"+p+","+m+C)),L||(I.transition().style("fill",O>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),j.transition().style("opacity",1).duration(200),L=!0)}function c(t,e){if(A===P)return 2===e&&y(),o(N);o(N);var n={};n[F.id+".aaxis.min"]=A.a,n[F.id+".baxis.min"]=A.b,n[F.id+".caxis.min"]=A.c,s.relayout(N,n),S&&N.data&&N._context.showTips&&(l.notifier("Double-click to<br>zoom back out","long"),S=!1)}function f(){P={a:F.aaxis.range[0],b:F.baxis.range[1],c:F.caxis.range[1]},A=P}function p(t,e){var n=t/F.xaxis._m,r=e/F.yaxis._m;A={a:P.a-r,b:P.b+(n+r)/2,c:P.c-(n-r)/2};var o=[A.a,A.b,A.c].sort(),i={a:o.indexOf(A.a),b:o.indexOf(A.b),c:o.indexOf(A.c)};o[0]<0&&(o[1]+o[0]/2<0?(o[2]+=o[0]+o[1],o[0]=o[1]=0):(o[2]+=o[0]/2,o[1]+=o[0]/2,o[0]=0),A={a:o[i.a],b:o[i.b],c:o[i.c]},e=(P.a-A.a)*F.yaxis._m,t=(P.c-A.c-P.b+A.b)*F.xaxis._m);var a="translate("+(F.x0+t)+","+(F.y0+e)+")";F.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",a),F.aaxis.range=[A.a,F.sum-A.b-A.c],F.baxis.range=[F.sum-A.a-A.c,A.b],F.caxis.range=[F.sum-A.a-A.b,A.c],F.drawAxes(!1),F.plotContainer.selectAll(".crisp").classed("crisp",!1)}function h(t,e){if(t){var n={};n[F.id+".aaxis.min"]=A.a,n[F.id+".baxis.min"]=A.b,n[F.id+".caxis.min"]=A.c,s.relayout(N,n)}else 2===e&&y()}function d(){F.plotContainer.selectAll(".select-outline").remove()}function y(){var t={};t[F.id+".aaxis.min"]=0,t[F.id+".baxis.min"]=0,t[F.id+".caxis.min"]=0,N.emit("plotly_doubleclick",null),s.relayout(N,t)}var _,w,P,M,A,O,D,L,I,j,F=this,R=F.layers.plotbg.select("path").node(),N=F.graphDiv,z=F.layers.zoom,B={element:R,gd:N,plotinfo:{plot:z},doubleclick:y,subplot:F.id,prepFn:function(e,n,r){B.xaxes=[F.xaxis],B.yaxes=[F.yaxis];var o=N._fullLayout.dragmode;e.shiftKey&&(o="pan"===o?"zoom":"pan"),"lasso"===o?B.minDrag=1:B.minDrag=void 0,"zoom"===o?(B.moveFn=i,B.doneFn=c,t(e,n,r)):"pan"===o?(B.moveFn=p,B.doneFn=h,f(),d()):"select"!==o&&"lasso"!==o||v(e,n,r,B,o)}};R.onmousemove=function(t){b.hover(N,t,F.id),N._fullLayout._lasthover=R,N._fullLayout._hoversubplot=F.id},R.onmouseout=function(t){N._dragging||m.unhover(N,t)},R.onclick=function(t){b.click(N,t)},m.init(B)}},{"../../components/color":540,"../../components/dragelement":561,"../../components/drawing":563,"../../components/titles":610,"../../lib":633,"../../lib/extend":627,"../../lib/filter_visible":628,"../../plotly":658,"../cartesian/axes":662,"../cartesian/constants":667,"../cartesian/graph_interact":669,"../cartesian/select":675,"../cartesian/set_convert":676,d3:125,tinycolor2:506}],735:[function(t,e,n){"use strict";function r(t){return"object"==typeof t&&(t=t.type),t}var o=t("./lib"),i=t("./plots/attributes");n.modules={},n.allTypes=[],n.allCategories={},n.subplotsRegistry={},n.transformsRegistry={},n.componentsRegistry={},n.register=function(t,e,r,i){if(n.modules[e])return void o.log("Type "+e+" already registered");for(var a={},s=0;s<r.length;s++)a[r[s]]=!0,n.allCategories[r[s]]=!0;n.modules[e]={_module:t,categories:a},i&&Object.keys(i).length&&(n.modules[e].meta=i),n.allTypes.push(e)},n.registerSubplot=function(t){var e=t.name;return n.subplotsRegistry[e]?void o.log("Plot type "+e+" already registered."):void(n.subplotsRegistry[e]=t)},n.getModule=function(t){if(void 0!==t.r)return o.warn("Tried to put a polar trace on an incompatible graph of cartesian data. Ignoring this dataset.",t),!1;var e=n.modules[r(t)];return!!e&&e._module},n.traceIs=function(t,e){if(t=r(t),"various"===t)return!1;var a=n.modules[t];return a||(t&&"area"!==t&&o.log("Unrecognized trace type "+t+"."),a=n.modules[i.type.dflt]),!!a.categories[e]},n.getComponentMethod=function(t,e){var r=n.componentsRegistry[t];return r?r[e]:o.noop}},{"./lib":633,"./plots/attributes":660}],736:[function(t,e,n){"use strict";function r(t){var e;switch(t){case"themes__thumb":e={autosize:!0,width:150,height:150,title:"",showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":e={title:"",hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:e={}}return e}function o(t){var e=["xaxis","yaxis","zaxis"];return e.indexOf(t.slice(0,5))>-1}var i=t("../lib"),a=t("../plots/plots"),s=i.extendFlat,l=i.extendDeep;e.exports=function(t,e){t.framework&&t.framework.isPolar&&(t=t.framework.getConfig());var n,i=t.data,u=t.layout,c=l([],i),f=l({},u,r(e.tileClass));if(e.width&&(f.width=e.width),e.height&&(f.height=e.height),"thumbnail"===e.tileClass||"themes__thumb"===e.tileClass){f.annotations=[];var p=Object.keys(f);for(n=0;n<p.length;n++)o(p[n])&&(f[p[n]].title="");for(n=0;n<c.length;n++){var h=c[n];h.showscale=!1,h.marker&&(h.marker.showscale=!1),"pie"===h.type&&(h.textposition="none")}}if(Array.isArray(e.annotations))for(n=0;n<e.annotations.length;n++)f.annotations.push(e.annotations[n]);var d=a.getSubplotIds(f,"gl3d");if(d.length){var m={};for("thumbnail"===e.tileClass&&(m={title:"",showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<d.length;n++){var y=d[n];s(f[y].xaxis,m),s(f[y].yaxis,m),s(f[y].zaxis,m),f[y]._scene=null}}var v=document.createElement("div");e.tileClass&&(v.className=e.tileClass);var g={td:v,layout:f,data:c,config:{staticPlot:void 0===e.staticPlot||e.staticPlot,plotGlPixelRatio:void 0===e.plotGlPixelRatio?2:e.plotGlPixelRatio,displaylogo:e.displaylogo||!1,showLink:e.showLink||!1,showTips:e.showTips||!1}};return"transparent"!==e.setBackground&&(g.config.setBackground=e.setBackground||"opaque"),g.td.defaultLayout=r(e.tileClass),g}},{"../lib":633,"../plots/plots":720}],737:[function(t,e,n){"use strict";function r(t,e){return e=e||{},e.format=e.format||"png",new Promise(function(n,r){t._snapshotInProgress&&r(new Error("Snapshotting already in progress.")),i.isIE()&&"svg"!==e.format&&r(new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.")),t._snapshotInProgress=!0;var s=o(t,e),l=e.filename||t.fn||"newplot";l+="."+e.format,s.then(function(e){return t._snapshotInProgress=!1,a(e,l)}).then(function(t){n(t)})["catch"](function(e){t._snapshotInProgress=!1,r(e)})})}var o=t("../plot_api/to_image"),i=t("../lib"),a=t("./filesaver");e.exports=r},{"../lib":633,"../plot_api/to_image":656,"./filesaver":738}],738:[function(t,e,n){"use strict";var r=function(t,e){var n=document.createElement("a"),r="download"in n,o=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),i=new Promise(function(i,a){"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)&&a(new Error("IE < 10 unsupported")),o&&(document.location.href="data:application/octet-stream"+t.slice(t.search(/[,;]/)),i(e)),e||(e="download"),r&&(n.href=t,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),i(e)),"undefined"!=typeof navigator&&navigator.msSaveBlob&&(navigator.msSaveBlob(new Blob([t]),e),i(e)),a(new Error("download error"))});return i};e.exports=r},{}],739:[function(t,e,n){"use strict";n.getDelay=function(t){return t._has&&(t._has("gl3d")||t._has("gl2d"))?500:0},n.getRedrawFunc=function(t){if(!(t.data&&t.data[0]&&t.data[0].r))return function(){(t.calcdata||[]).forEach(function(t){t[0]&&t[0].t&&t[0].t.cb&&t[0].t.cb()})}}},{}],740:[function(t,e,n){"use strict";var r=t("./helpers"),o={getDelay:r.getDelay,getRedrawFunc:r.getRedrawFunc,clone:t("./cloneplot"),toSVG:t("./tosvg"),svgToImg:t("./svgtoimg"),toImage:t("./toimage"),downloadImage:t("./download")};e.exports=o},{"./cloneplot":736,"./download":737,"./helpers":739,"./svgtoimg":741,"./toimage":742,"./tosvg":743}],741:[function(t,e,n){"use strict";function r(t){var e=t.emitter||new i,n=new Promise(function(r,i){var a=window.Image,s=t.svg,l=t.format||"png";if(o.isIE()&&(s=s.replace(/"/gi,"'"),s=s.replace(/(\('#)(.*)('\))/gi,'("$2")'),s=s.replace(/(\\')/gi,'"'),"svg"!==l)){
var u=new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.");return i(u),t.promise?n:e.emit("error",u)}var c=t.canvas,f=c.getContext("2d"),p=new a,h="data:image/svg+xml,"+encodeURIComponent(s);c.height=t.height||150,c.width=t.width||300,p.onload=function(){var n;switch("svg"!==l&&f.drawImage(p,0,0),l){case"jpeg":n=c.toDataURL("image/jpeg");break;case"png":n=c.toDataURL("image/png");break;case"webp":n=c.toDataURL("image/webp");break;case"svg":n=h;break;default:if(i(new Error("Image format is not jpeg, png or svg")),!t.promise)return e.emit("error","Image format is not jpeg, png or svg")}r(n),t.promise||e.emit("success",n)},p.onerror=function(n){if(i(n),!t.promise)return e.emit("error",n)},p.src=h});return t.promise?n:e}var o=t("../lib"),i=t("events").EventEmitter;e.exports=r},{"../lib":633,events:57}],742:[function(t,e,n){"use strict";function r(t,e){function n(){var t=s.getDelay(p._fullLayout);setTimeout(function(){var t=u(p),n=document.createElement("canvas");n.id=a.randstr(),r=c({format:e.format,width:p._fullLayout.width,height:p._fullLayout.height,canvas:n,emitter:r,svg:t}),r.clean=function(){p&&document.body.removeChild(p)}},t)}var r=new o,f=l(t,{format:"png"}),p=f.td;p.style.position="absolute",p.style.left="-5000px",document.body.appendChild(p);var h=s.getRedrawFunc(p);return i.plot(p,f.data,f.layout,f.config).then(h).then(n)["catch"](function(t){r.emit("error",t)}),r}var o=t("events").EventEmitter,i=t("../plotly"),a=t("../lib"),s=t("./helpers"),l=t("./cloneplot"),u=t("./tosvg"),c=t("./svgtoimg");e.exports=r},{"../lib":633,"../plotly":658,"./cloneplot":736,"./helpers":739,"./svgtoimg":741,"./tosvg":743,events:57}],743:[function(t,e,n){"use strict";var r=t("d3"),o=t("../lib/svg_text_utils"),i=t("../components/drawing"),a=t("../components/color"),s=t("../constants/xmlns_namespaces");e.exports=function(t,e){var n,l=t._fullLayout,u=l._paper,c=l._toppaper;u.insert("rect",":first-child").call(i.setRect,0,0,l.width,l.height).call(a.fill,l.paper_bgcolor);var f=l._basePlotModules||[];for(n=0;n<f.length;n++){var p=f[n];p.toSVG&&p.toSVG(t)}if(c){var h=c.node().childNodes,d=Array.prototype.slice.call(h);for(n=0;n<d.length;n++){var m=d[n];m.childNodes.length&&u.node().appendChild(m)}}l._draggers&&l._draggers.remove(),u.node().style.background="",u.selectAll("text").attr("data-unformatted",null).each(function(){var t=r.select(this);if("hidden"===t.style("visibility"))return void t.remove();var e=t.style("font-family");e&&e.indexOf('"')!==-1&&t.style("font-family",e.replace(/"/g,"TOBESTRIPPED"))}),"pdf"!==e&&"eps"!==e||u.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),u.node().setAttributeNS(s.xmlns,"xmlns",s.svg),u.node().setAttributeNS(s.xmlns,"xmlns:xlink",s.xlink);var y=(new window.XMLSerializer).serializeToString(u.node());return y=o.html_entity_decode(y),y=o.xml_entity_encode(y),y=y.replace(/("TOBESTRIPPED)|(TOBESTRIPPED")/g,"'")}},{"../components/color":540,"../components/drawing":563,"../constants/xmlns_namespaces":620,"../lib/svg_text_utils":647,d3:125}],744:[function(t,e,n){"use strict";var r=t("../../lib").mergeArray;e.exports=function(t){var e=t[0].trace,n=e.marker;if(r(e.text,t,"tx"),n&&n.line){var o=n.line;r(n.opacity,t,"mo"),r(n.color,t,"mc"),r(o.color,t,"mlc"),r(o.width,t,"mlw")}}},{"../../lib":633}],745:[function(t,e,n){"use strict";var r=t("../scatter/attributes"),o=t("../../components/colorscale/color_attributes"),i=t("../../lib/extend").extendFlat,a=r.marker,s=a.line,l=i({},s.width,{dflt:0}),u=i({},{width:l},o("marker.line")),c=i({},{showscale:a.showscale,line:u},o("marker"));e.exports={x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,text:r.text,orientation:{valType:"enumerated",values:["v","h"]},marker:c,r:r.r,t:r.t,_nestedModules:{error_y:"ErrorBars",error_x:"ErrorBars","marker.colorbar":"Colorbar"},_deprecated:{bardir:{valType:"enumerated",values:["v","h"]}}}},{"../../components/colorscale/color_attributes":548,"../../lib/extend":627,"../scatter/attributes":829}],746:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),o=t("../../plots/cartesian/axes"),i=t("../../components/colorscale/has_colorscale"),a=t("../../components/colorscale/calc");e.exports=function(t,e){var n,s,l,u=o.getFromId(t,e.xaxis||"x"),c=o.getFromId(t,e.yaxis||"y"),f=e.orientation||(e.x&&!e.y?"h":"v");"h"===f?(s=u.makeCalcdata(e,"x"),n=c.makeCalcdata(e,"y")):(s=c.makeCalcdata(e,"y"),n=u.makeCalcdata(e,"x"));var p=Math.min(n.length,s.length),h=[];for(l=0;l<p;l++)r(n[l])&&h.push({p:n[l],s:s[l],b:0});return i(e,"marker")&&a(e,e.marker.color,"marker","c"),i(e,"marker.line")&&a(e,e.marker.line.color,"marker.line","c"),h}},{"../../components/colorscale/calc":547,"../../components/colorscale/has_colorscale":553,"../../plots/cartesian/axes":662,"fast-isnumeric":129}],747:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("../../components/color"),i=t("../scatter/xy_defaults"),a=t("../bar/style_defaults"),s=t("../../components/errorbars/defaults"),l=t("./attributes");e.exports=function(t,e,n,u){function c(n,o){return r.coerce(t,e,l,n,o)}var f=i(t,e,c);return f?(c("orientation",e.x&&!e.y?"h":"v"),c("text"),a(t,e,c,n,u),s(t,e,o.defaultLine,{axis:"y"}),void s(t,e,o.defaultLine,{axis:"x",inherit:"y"})):void(e.visible=!1)}},{"../../components/color":540,"../../components/errorbars/defaults":568,"../../lib":633,"../bar/style_defaults":755,"../scatter/xy_defaults":851,"./attributes":745}],748:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/graph_interact"),o=t("../../components/errorbars"),i=t("../../components/color");e.exports=function(t,e,n,a){var s,l=t.cd,u=l[0].trace,c=l[0].t,f=t.xa,p=t.ya,h="closest"===a?c.barwidth/2:c.dbar*(1-f._gd._fullLayout.bargap)/2;s="closest"!==a?function(t){return t.p}:"h"===u.orientation?function(t){return t.y}:function(t){return t.x};var d,m;"h"===u.orientation?(d=function(t){return r.inbox(t.b-e,t.x-e)+(t.x-e)/(t.x-t.b)},m=function(t){var e=s(t)-n;return r.inbox(e-h,e+h)}):(m=function(t){return r.inbox(t.b-n,t.y-n)+(t.y-n)/(t.y-t.b)},d=function(t){var n=s(t)-e;return r.inbox(n-h,n+h)});var y=r.getDistanceFunction(a,d,m);if(r.getClosest(l,y,t),t.index!==!1){var v=l[t.index],g=v.mcc||u.marker.color,b=v.mlcc||u.marker.line.color,_=v.mlw||u.marker.line.width;return i.opacity(g)?t.color=g:i.opacity(b)&&_&&(t.color=b),"h"===u.orientation?(t.x0=t.x1=f.c2p(v.x,!0),t.xLabelVal=v.s,t.y0=p.c2p(s(v)-h,!0),t.y1=p.c2p(s(v)+h,!0),t.yLabelVal=v.p):(t.y0=t.y1=p.c2p(v.y,!0),t.yLabelVal=v.s,t.x0=f.c2p(s(v)-h,!0),t.x1=f.c2p(s(v)+h,!0),t.xLabelVal=v.p),v.tx&&(t.text=v.tx),o.hoverInfo(v,u,t),[t]}}},{"../../components/color":540,"../../components/errorbars":569,"../../plots/cartesian/graph_interact":669}],749:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.layoutAttributes=t("./layout_attributes"),r.supplyDefaults=t("./defaults"),r.supplyLayoutDefaults=t("./layout_defaults"),r.calc=t("./calc"),r.setPositions=t("./set_positions"),r.colorbar=t("../scatter/colorbar"),r.arraysToCalcdata=t("./arrays_to_calcdata"),r.plot=t("./plot"),r.style=t("./style"),r.hoverPoints=t("./hover"),r.moduleType="trace",r.name="bar",r.basePlotModule=t("../../plots/cartesian"),r.categories=["cartesian","bar","oriented","markerColorscale","errorBarsOK","showLegend"],r.meta={},e.exports=r},{"../../plots/cartesian":670,"../scatter/colorbar":832,"./arrays_to_calcdata":744,"./attributes":745,"./calc":746,"./defaults":747,"./hover":748,"./layout_attributes":750,"./layout_defaults":751,"./plot":752,"./set_positions":753,"./style":754}],750:[function(t,e,n){"use strict";e.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:""},bargap:{valType:"number",min:0,max:1},bargroupgap:{valType:"number",min:0,max:1,dflt:0}}},{}],751:[function(t,e,n){"use strict";var r=t("../../registry"),o=t("../../plots/cartesian/axes"),i=t("../../lib"),a=t("./layout_attributes");e.exports=function(t,e,n){function s(n,r){return i.coerce(t,e,a,n,r)}for(var l=!1,u=!1,c=!1,f={},p=0;p<n.length;p++){var h=n[p];if(r.traceIs(h,"bar")){if(l=!0,"overlay"!==t.barmode&&"stack"!==t.barmode){var d=h.xaxis+h.yaxis;f[d]&&(c=!0),f[d]=!0}if(h.visible&&"histogram"===h.type){var m=o.getFromId({_fullLayout:e},h["v"===h.orientation?"xaxis":"yaxis"]);"category"!==m.type&&(u=!0)}}}if(l){var y=s("barmode");"overlay"!==y&&s("barnorm"),s("bargap",u&&!c?0:.2),s("bargroupgap")}}},{"../../lib":633,"../../plots/cartesian/axes":662,"../../registry":735,"./layout_attributes":750}],752:[function(t,e,n){"use strict";var r=t("d3"),o=t("fast-isnumeric"),i=t("../../lib"),a=t("../../components/color"),s=t("../../components/errorbars"),l=t("./arrays_to_calcdata");e.exports=function(t,e,n){var u=e.x(),c=e.y(),f=t._fullLayout,p=e.plot.select(".barlayer").selectAll("g.trace.bars").data(n).enter().append("g").attr("class","trace bars");p.append("g").attr("class","points").each(function(e){var n=e[0].t,s=e[0].trace;l(e),r.select(this).selectAll("path").data(i.identity).enter().append("path").each(function(e){function i(t){return 0===f.bargap&&0===f.bargroupgap?r.round(Math.round(t)-v,2):t}function l(t,e){return Math.abs(t-e)>=2?i(t):t>e?Math.ceil(t):Math.floor(t)}var p,h,d,m;if("h"===s.orientation?(d=c.c2p(n.poffset+e.p,!0),m=c.c2p(n.poffset+e.p+n.barwidth,!0),p=u.c2p(e.b,!0),h=u.c2p(e.s+e.b,!0)):(p=u.c2p(n.poffset+e.p,!0),h=u.c2p(n.poffset+e.p+n.barwidth,!0),m=c.c2p(e.s+e.b,!0),d=c.c2p(e.b,!0)),!(o(p)&&o(h)&&o(d)&&o(m)&&p!==h&&d!==m))return void r.select(this).remove();var y=(e.mlw+1||s.marker.line.width+1||(e.trace?e.trace.marker.line.width:0)+1)-1,v=r.round(y/2%1,2);if(!t._context.staticPlot){var g=a.opacity(e.mc||s.marker.color),b=g<1||y>.01?i:l;p=b(p,h),h=b(h,p),d=b(d,m),m=b(m,d)}r.select(this).attr("d","M"+p+","+d+"V"+m+"H"+h+"V"+d+"Z")})}),p.call(s.plot,e)}},{"../../components/color":540,"../../components/errorbars":569,"../../lib":633,"./arrays_to_calcdata":744,d3:125,"fast-isnumeric":129}],753:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),o=t("../../registry"),i=t("../../plots/cartesian/axes"),a=t("../../lib");e.exports=function(t,e){var n,s,l=t._fullLayout,u=e.x(),c=e.y();["v","h"].forEach(function(f){function p(e){function n(t){t[d]=t.p+p}var r=[];e.forEach(function(e){t.calcdata[e].forEach(function(t){r.push(t.p)})});var o=a.distinctVals(r),s=o.vals,u=o.minDiff,c=!1,f=[];"group"===l.barmode&&e.forEach(function(e){c||(t.calcdata[e].forEach(function(t){c||f.forEach(function(e){Math.abs(t.p-e)<u&&(c=!0)})}),c||t.calcdata[e].forEach(function(t){f.push(t.p)}))}),i.minDtick(y,u,s[0],c),i.expand(y,s,{vpad:u/2}),u*=1-l.bargap,c&&(u/=h.length);for(var p,m=0;m<e.length;m++){var v=t.calcdata[e[m]][0].t;v.barwidth=u*(1-l.bargroupgap),v.poffset=((c?(2*m+1-e.length)*u:0)-v.barwidth)/2,v.dbar=o.minDiff,p=v.poffset+v.barwidth/2,t.calcdata[e[m]].forEach(n)}}var h=[],d={v:"x",h:"y"}[f],m={v:"y",h:"x"}[f],y=e[d](),v=e[m]();if(t._fullData.forEach(function(t,e){t.visible===!0&&o.traceIs(t,"bar")&&t.orientation===f&&t.xaxis===u._id&&t.yaxis===c._id&&h.push(e)}),h.length){"overlay"===l.barmode?h.forEach(function(t){p([t])}):p(h);var g="stack"===l.barmode,b="relative"===l.barmode,_=l.barnorm;if(g||b||_){var x,w,T,E=v.l2c(v.c2l(0)),C=E,k={},S=t.calcdata[h[0]][0].t.barwidth/100,P=0,M=!0;for(n=0;n<h.length;n++)for(w=t.calcdata[h[n]],s=0;s<w.length;s++)if(r(w[s].s)){P=Math.round(w[s].p/S),b&&w[s].s<0&&(P="-"+P);var A=k[P]||0;(g||b)&&(w[s].b=A),x=w[s].b+w[s].s,k[P]=A+w[s].s,(g||b)&&(w[s][m]=x,!_&&r(v.c2l(x))&&(E=Math.max(E,x),C=Math.min(C,x)))}if(_){var O="fraction"===_?1:100,D=!1,L=O/1e9;for(M=!1,C=0,E=g?O:0,n=0;n<h.length;n++)for(w=t.calcdata[h[n]],s=0;s<w.length;s++)D=b&&w[s].s<0,P=Math.round(w[s].p/S),D&&(P="-"+P),T=O/k[P],D&&(T*=-1),w[s].b*=T,w[s].s*=T,x=w[s].b+w[s].s,w[s][m]=x,r(v.c2l(x))&&(x<C-L&&(M=!0,C=x),x>E+L&&(M=!0,E=x))}i.expand(v,[C,E],{tozero:!0,padded:M})}else{var I=function(t){return t[m]=t.s,t.s};for(n=0;n<h.length;n++)i.expand(v,t.calcdata[h[n]].map(I),{tozero:!0,padded:!0})}}})}},{"../../lib":633,"../../plots/cartesian/axes":662,"../../registry":735,"fast-isnumeric":129}],754:[function(t,e,n){"use strict";var r=t("d3"),o=t("../../components/color"),i=t("../../components/drawing"),a=t("../../components/errorbars");e.exports=function(t){var e=r.select(t).selectAll("g.trace.bars"),n=e.size(),s=t._fullLayout;e.style("opacity",function(t){return t[0].trace.opacity}).each(function(t){("stack"===s.barmode&&n>1||0===s.bargap&&0===s.bargroupgap&&!t[0].trace.marker.line.width)&&r.select(this).attr("shape-rendering","crispEdges")}),e.selectAll("g.points").each(function(t){var e=t[0].trace,n=e.marker,a=n.line,s=(e._input||{}).marker||{},l=i.tryColorscale(n,s,""),u=i.tryColorscale(n,s,"line.");r.select(this).selectAll("path").each(function(t){var e,i,s=(t.mlw+1||a.width+1)-1,c=r.select(this);e="mc"in t?t.mcc=l(t.mc):Array.isArray(n.color)?o.defaultLine:n.color,c.style("stroke-width",s+"px").call(o.fill,e),s&&(i="mlc"in t?t.mlcc=u(t.mlc):Array.isArray(a.color)?o.defaultLine:a.color,c.call(o.stroke,i))})}),e.call(a.style)}},{"../../components/color":540,"../../components/drawing":563,"../../components/errorbars":569,d3:125}],755:[function(t,e,n){"use strict";var r=t("../../components/color"),o=t("../../components/colorscale/has_colorscale"),i=t("../../components/colorscale/defaults");e.exports=function(t,e,n,a,s){n("marker.color",a),o(t,"marker")&&i(t,e,s,n,{prefix:"marker.",cLetter:"c"}),n("marker.line.color",r.defaultLine),o(t,"marker.line")&&i(t,e,s,n,{prefix:"marker.line.",cLetter:"c"}),n("marker.line.width")}},{"../../components/color":540,"../../components/colorscale/defaults":550,"../../components/colorscale/has_colorscale":553}],756:[function(t,e,n){"use strict";var r=t("../scatter/attributes"),o=t("../../components/color/attributes"),i=t("../../lib/extend").extendFlat,a=r.marker,s=a.line;e.exports={y:{valType:"data_array"},x:{valType:"data_array"},x0:{valType:"any"},y0:{valType:"any"},whiskerwidth:{valType:"number",min:0,max:1,dflt:.5},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],dflt:"outliers"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],dflt:!1},jitter:{valType:"number",min:0,max:1},pointpos:{valType:"number",min:-2,max:2},orientation:{valType:"enumerated",values:["v","h"]},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)"},symbol:i({},a.symbol,{arrayOk:!1}),opacity:i({},a.opacity,{arrayOk:!1,dflt:1}),size:i({},a.size,{arrayOk:!1}),color:i({},a.color,{arrayOk:!1}),line:{color:i({},s.color,{arrayOk:!1,dflt:o.defaultLine}),width:i({},s.width,{arrayOk:!1,dflt:0}),outliercolor:{valType:"color"},outlierwidth:{valType:"number",min:0,dflt:1}}},line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:2}},fillcolor:r.fillcolor}},{"../../components/color/attributes":539,"../../lib/extend":627,"../scatter/attributes":829}],757:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),o=t("../../lib"),i=t("../../plots/cartesian/axes");e.exports=function(t,e){function n(t,e,n,i,a){var s;return n in e?d=i.makeCalcdata(e,n):(s=n+"0"in e?e[n+"0"]:"name"in e&&("category"===i.type||r(e.name)&&["linear","log"].indexOf(i.type)!==-1||o.isDateTime(e.name)&&"date"===i.type)?e.name:t.numboxes,s=i.d2c(s),d=a.map(function(){return s})),d}function a(t,e,n,i,a){var s,l,u,c,f=i.length,p=e.length,h=[],d=[];for(s=0;s<f;++s)l=i[s],t[s]={pos:l},d[s]=l-a,h[s]=[];for(d.push(i[f-1]+a),s=0;s<p;++s)c=e[s],r(c)&&(u=o.findBin(n[s],d),u>=0&&u<p&&h[u].push(c));return h}function s(t,e){var n,r,i,a;for(a=0;a<e.length;++a)n=e[a].sort(o.sorterAsc),r=n.length,i=t[a],i.val=n,i.min=n[0],i.max=n[r-1],i.mean=o.mean(n,r),i.sd=o.stdev(n,r,i.mean),i.q1=o.interp(n,.25),i.med=o.interp(n,.5),i.q3=o.interp(n,.75),i.lf=Math.min(i.q1,n[Math.min(o.findBin(2.5*i.q1-1.5*i.q3,n,!0)+1,r-1)]),i.uf=Math.max(i.q3,n[Math.max(o.findBin(2.5*i.q3-1.5*i.q1,n),0)]),i.lo=4*i.q1-3*i.q3,i.uo=4*i.q3-3*i.q1}var l,u,c,f,p,h,d,m,y,v=i.getFromId(t,e.xaxis||"x"),g=i.getFromId(t,e.yaxis||"y"),b=e.orientation,_=[];"h"===b?(l=v,u="x",p=g,h="y"):(l=g,u="y",p=v,h="x"),c=l.makeCalcdata(e,u),i.expand(l,c,{padded:!0}),d=n(t,e,h,p,c);var x=o.distinctVals(d);return m=x.vals,y=x.minDiff/2,f=a(_,c,d,m,y),s(_,f),_=_.filter(function(t){return t.val&&t.val.length}),_.length?(_[0].t={boxnum:t.numboxes,dPos:y},t.numboxes++,_):[{t:{emptybox:!0}}]}},{"../../lib":633,"../../plots/cartesian/axes":662,"fast-isnumeric":129}],758:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("../../components/color"),i=t("./attributes");e.exports=function(t,e,n){function a(n,o){return r.coerce(t,e,i,n,o)}var s,l=a("y"),u=a("x");if(l&&l.length)s="v",u||a("x0");else{if(!u||!u.length)return void(e.visible=!1);s="h",a("y0")}a("orientation",s),a("line.color",(t.marker||{}).color||n),a("line.width",2),a("fillcolor",o.addOpacity(e.line.color,.5)),a("whiskerwidth"),a("boxmean");var c=r.coerce2(t,e,i,"marker.outliercolor"),f=a("marker.line.outliercolor"),p=c||f?a("boxpoints","suspectedoutliers"):a("boxpoints");p&&(a("jitter","all"===p?.3:0),a("pointpos","all"===p?-1.5:0),a("marker.symbol"),a("marker.opacity"),a("marker.size"),a("marker.color",e.line.color),a("marker.line.color"),a("marker.line.width"),"suspectedoutliers"===p&&(a("marker.line.outliercolor",e.marker.color),a("marker.line.outlierwidth")))}},{"../../components/color":540,"../../lib":633,"./attributes":756}],759:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/axes"),o=t("../../plots/cartesian/graph_interact"),i=t("../../lib"),a=t("../../components/color");e.exports=function(t,e,n,s){var l,u,c,f,p,h,d,m,y,v=t.cd,g=v[0].trace,b=v[0].t,_=t.xa,x=t.ya,w=[];if(f="closest"===s?2.5*b.bdPos:b.bdPos,"h"===g.orientation?(l=function(t){return o.inbox(t.min-e,t.max-e)},u=function(t){var e=t.pos+b.bPos-n;return o.inbox(e-f,e+f)},p="y",h=x,m="x",y=_):(l=function(t){var n=t.pos+b.bPos-e;return o.inbox(n-f,n+f)},u=function(t){return o.inbox(t.min-n,t.max-n)},p="x",h=_,m="y",y=x),c=o.getDistanceFunction(s,l,u),o.getClosest(v,c,t),t.index!==!1){var T=v[t.index],E=g.line.color,C=(g.marker||{}).color;a.opacity(E)&&g.line.width?t.color=E:a.opacity(C)&&g.boxpoints?t.color=C:t.color=g.fillcolor,t[p+"0"]=h.c2p(T.pos+b.bPos-b.bdPos,!0),t[p+"1"]=h.c2p(T.pos+b.bPos+b.bdPos,!0),r.tickText(h,h.c2l(T.pos),"hover").text,t[p+"LabelVal"]=T.pos;var k,S,P={},M=["med","min","q1","q3","max"];g.boxmean&&M.push("mean"),g.boxpoints&&[].push.apply(M,["lf","uf"]);for(var A=0;A<M.length;A++)k=M[A],k in T&&!(T[k]in P)&&(P[T[k]]=!0,d=y.c2p(T[k],!0),S=i.extendFlat({},t),S[m+"0"]=S[m+"1"]=d,S[m+"LabelVal"]=T[k],S.attr=k,"mean"===k&&"sd"in T&&"sd"===g.boxmean&&(S[m+"err"]=T.sd),t.name="",w.push(S));return w}}},{"../../components/color":540,"../../lib":633,"../../plots/cartesian/axes":662,"../../plots/cartesian/graph_interact":669}],760:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.layoutAttributes=t("./layout_attributes"),r.supplyDefaults=t("./defaults"),r.supplyLayoutDefaults=t("./layout_defaults"),r.calc=t("./calc"),r.setPositions=t("./set_positions"),r.plot=t("./plot"),r.style=t("./style"),r.hoverPoints=t("./hover"),r.moduleType="trace",r.name="box",r.basePlotModule=t("../../plots/cartesian"),r.categories=["cartesian","symbols","oriented","box","showLegend"],r.meta={},e.exports=r},{"../../plots/cartesian":670,"./attributes":756,"./calc":757,"./defaults":758,"./hover":759,"./layout_attributes":761,"./layout_defaults":762,"./plot":763,"./set_positions":764,"./style":765}],761:[function(t,e,n){"use strict";e.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay"},boxgap:{valType:"number",min:0,max:1,dflt:.3},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3}}},{}],762:[function(t,e,n){"use strict";var r=t("../../registry"),o=t("../../lib"),i=t("./layout_attributes");e.exports=function(t,e,n){function a(n,r){return o.coerce(t,e,i,n,r)}for(var s,l=0;l<n.length;l++)if(r.traceIs(n[l],"box")){s=!0;break}s&&(a("boxmode"),a("boxgap"),a("boxgroupgap"))}},{"../../lib":633,"../../registry":735,"./layout_attributes":761}],763:[function(t,e,n){"use strict";function r(){l=2e9}function o(){var t=l;return l=(69069*l+1)%4294967296,Math.abs(l-t)<429496729?o():l/4294967296}var i=t("d3"),a=t("../../lib"),s=t("../../components/drawing"),l=2e9,u=5,c=.01;e.exports=function(t,e,n){var l,f,p=t._fullLayout,h=e.x(),d=e.y(),m=e.plot.select(".boxlayer").selectAll("g.trace.boxes").data(n).enter().append("g").attr("class","trace boxes");m.each(function(e){var n=e[0].t,m=e[0].trace,y="group"===p.boxmode&&t.numboxes>1,v=n.dPos*(1-p.boxgap)*(1-p.boxgroupgap)/(y?t.numboxes:1),g=y?2*n.dPos*(-.5+(n.boxnum+.5)/t.numboxes)*(1-p.boxgap):0,b=v*m.whiskerwidth;return m.visible!==!0||n.emptybox?void i.select(this).remove():("h"===m.orientation?(l=d,f=h):(l=h,f=d),n.bPos=g,n.bdPos=v,r(),i.select(this).selectAll("path.box").data(a.identity).enter().append("path").attr("class","box").each(function(t){var e=l.c2p(t.pos+g,!0),n=l.c2p(t.pos+g-v,!0),r=l.c2p(t.pos+g+v,!0),o=l.c2p(t.pos+g-b,!0),s=l.c2p(t.pos+g+b,!0),u=f.c2p(t.q1,!0),c=f.c2p(t.q3,!0),p=a.constrain(f.c2p(t.med,!0),Math.min(u,c)+1,Math.max(u,c)-1),h=f.c2p(m.boxpoints===!1?t.min:t.lf,!0),d=f.c2p(m.boxpoints===!1?t.max:t.uf,!0);"h"===m.orientation?i.select(this).attr("d","M"+p+","+n+"V"+r+"M"+u+","+n+"V"+r+"H"+c+"V"+n+"ZM"+u+","+e+"H"+h+"M"+c+","+e+"H"+d+(0===m.whiskerwidth?"":"M"+h+","+o+"V"+s+"M"+d+","+o+"V"+s)):i.select(this).attr("d","M"+n+","+p+"H"+r+"M"+n+","+u+"H"+r+"V"+c+"H"+n+"ZM"+e+","+u+"V"+h+"M"+e+","+c+"V"+d+(0===m.whiskerwidth?"":"M"+o+","+h+"H"+s+"M"+o+","+d+"H"+s))}),m.boxpoints&&i.select(this).selectAll("g.points").data(function(t){return t.forEach(function(t){t.t=n,t.trace=m}),t}).enter().append("g").attr("class","points").selectAll("path").data(function(t){var e,n,r,i,s,l,f,p="all"===m.boxpoints?t.val:t.val.filter(function(e){return e<t.lf||e>t.uf}),h=Math.max((t.max-t.min)/10,t.q3-t.q1),d=1e-9*h,y=h*c,b=[],_=0;if(m.jitter){if(0===h)for(_=1,b=new Array(p.length),e=0;e<p.length;e++)b[e]=1;else for(e=0;e<p.length;e++)n=Math.max(0,e-u),i=p[n],r=Math.min(p.length-1,e+u),s=p[r],"all"!==m.boxpoints&&(p[e]<t.lf?s=Math.min(s,t.lf):i=Math.max(i,t.uf)),l=Math.sqrt(y*(r-n)/(s-i+d))||0,l=a.constrain(Math.abs(l),0,1),b.push(l),_=Math.max(l,_);f=2*m.jitter/_}return p.map(function(e,n){var r,i=m.pointpos;return m.jitter&&(i+=f*b[n]*(o()-.5)),r="h"===m.orientation?{y:t.pos+i*v+g,x:e}:{x:t.pos+i*v+g,y:e},"suspectedoutliers"===m.boxpoints&&e<t.uo&&e>t.lo&&(r.so=!0),r})}).enter().append("path").call(s.translatePoints,h,d),void(m.boxmean&&i.select(this).selectAll("path.mean").data(a.identity).enter().append("path").attr("class","mean").style("fill","none").each(function(t){var e=l.c2p(t.pos+g,!0),n=l.c2p(t.pos+g-v,!0),r=l.c2p(t.pos+g+v,!0),o=f.c2p(t.mean,!0),a=f.c2p(t.mean-t.sd,!0),s=f.c2p(t.mean+t.sd,!0);"h"===m.orientation?i.select(this).attr("d","M"+o+","+n+"V"+r+("sd"!==m.boxmean?"":"m0,0L"+a+","+e+"L"+o+","+n+"L"+s+","+e+"Z")):i.select(this).attr("d","M"+n+","+o+"H"+r+("sd"!==m.boxmean?"":"m0,0L"+e+","+a+"L"+n+","+o+"L"+e+","+s+"Z"))})))})}},{"../../components/drawing":563,"../../lib":633,d3:125}],764:[function(t,e,n){"use strict";var r=t("../../registry"),o=t("../../plots/cartesian/axes"),i=t("../../lib");e.exports=function(t,e){var n,a,s,l,u=t._fullLayout,c=e.x(),f=e.y(),p=["v","h"];for(a=0;a<p.length;++a){var h,d,m,y=p[a],v=[],g=[],b=0,_=0;for(n="h"===y?f:c,s=0;s<t.calcdata.length;++s)h=t.calcdata[s],d=h[0].t,m=h[0].trace,m.visible===!0&&r.traceIs(m,"box")&&!d.emptybox&&m.orientation===y&&m.xaxis===c._id&&m.yaxis===f._id&&(v.push(s),m.boxpoints!==!1&&(b=Math.max(b,m.jitter-m.pointpos-1),_=Math.max(_,m.jitter+m.pointpos-1)));for(s=0;s<v.length;s++)for(h=t.calcdata[v[s]],l=0;l<h.length;l++)g.push(h[l].pos);if(g.length){var x=i.distinctVals(g),w=x.minDiff/2;for(g.length===x.vals.length&&(t.numboxes=1),o.minDtick(n,x.minDiff,x.vals[0],!0),a=0;a<v.length;++a)t.calcdata[a][0].t.dPos=w;var T=(1-u.boxgap)*(1-u.boxgroupgap)*w/t.numboxes;o.expand(n,x.vals,{vpadminus:w+b*T,vpadplus:w+_*T})}}}},{"../../lib":633,"../../plots/cartesian/axes":662,"../../registry":735}],765:[function(t,e,n){"use strict";var r=t("d3"),o=t("../../components/color"),i=t("../../components/drawing");e.exports=function(t){var e=r.select(t).selectAll("g.trace.boxes");e.style("opacity",function(t){return t[0].trace.opacity}).each(function(t){var e=t[0].trace,n=e.line.width;r.select(this).selectAll("path.box").style("stroke-width",n+"px").call(o.stroke,e.line.color).call(o.fill,e.fillcolor),r.select(this).selectAll("path.mean").style({"stroke-width":n,"stroke-dasharray":2*n+"px,"+n+"px"}).call(o.stroke,e.line.color),r.select(this).selectAll("g.points path").call(i.pointStyle,e)})}},{"../../components/color":540,"../../components/drawing":563,d3:125}],766:[function(t,e,n){"use strict";var r=t("../scattergeo/attributes"),o=t("../../components/colorscale/attributes"),i=t("../../plots/attributes"),a=t("../../lib/extend").extendFlat,s=r.marker.line;e.exports=a({},{locations:{valType:"data_array"},locationmode:r.locationmode,z:{valType:"data_array"},text:{valType:"data_array"},marker:{line:{color:s.color,width:s.width}},hoverinfo:a({},i.hoverinfo,{flags:["location","z","text","name"]}),_nestedModules:{colorbar:"Colorbar"}},o)},{"../../components/colorscale/attributes":546,"../../lib/extend":627,"../../plots/attributes":660,"../scattergeo/attributes":858}],767:[function(t,e,n){"use strict";var r=t("../../components/colorscale/calc");e.exports=function(t,e){r(e,e.z,"","z")}},{"../../components/colorscale/calc":547}],768:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("../../components/colorscale/defaults"),i=t("./attributes");e.exports=function(t,e,n,a){function s(n,o){return r.coerce(t,e,i,n,o)}var l,u=s("locations");if(u&&(l=u.length),!u||!l)return void(e.visible=!1);var c=s("z");return Array.isArray(c)?(c.length>l&&(e.z=c.slice(0,l)),s("locationmode"),s("text"),s("marker.line.color"),s("marker.line.width"),o(t,e,a,s,{prefix:"",cLetter:"z"}),void s("hoverinfo",1===a._dataLength?"location+z+text":void 0)):void(e.visible=!1)}},{"../../components/colorscale/defaults":550,"../../lib":633,"./attributes":766}],769:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.colorbar=t("../heatmap/colorbar"),r.calc=t("./calc"),r.plot=t("./plot").plot,r.moduleType="trace",r.name="choropleth",r.basePlotModule=t("../../plots/geo"),r.categories=["geo","noOpacity"],r.meta={},e.exports=r},{"../../plots/geo":685,"../heatmap/colorbar":783,"./attributes":766,"./calc":767,"./defaults":768,"./plot":770}],770:[function(t,e,n){"use strict";function r(t,e){function n(e){var n=t.mockAxis;return a.tickText(n,n.c2l(e),"hover").text}var r=e.hoverinfo;if("none"===r||"skip"===r)return function(t){delete t.nameLabel,delete t.textLabel};var o="all"===r?y.hoverinfo.flags:r.split("+"),i=o.indexOf("name")!==-1,s=o.indexOf("location")!==-1,l=o.indexOf("z")!==-1,u=o.indexOf("text")!==-1,c=!i&&s;return function(t){var r=[];c?t.nameLabel=t.id:(i&&(t.nameLabel=e.name),s&&r.push(t.id)),l&&r.push(n(t.z)),u&&r.push(t.tx),t.textLabel=r.join("<br>")}}function o(t){return function(e,n){return{points:[{data:t._input,fullData:t,curveNumber:t.index,pointNumber:n,location:e.id,z:e.z}]}}}var i=t("d3"),a=t("../../plots/cartesian/axes"),s=t("../../plots/cartesian/graph_interact"),l=t("../../components/color"),u=t("../../components/drawing"),c=t("../../components/colorscale/get_scale"),f=t("../../components/colorscale/make_scale_function"),p=t("../../lib/topojson_utils").getTopojsonFeatures,h=t("../../lib/geo_location_utils").locationToFeature,d=t("../../lib/array_to_calc_item"),m=t("../../plots/geo/constants"),y=t("./attributes"),v=e.exports={};v.calcGeoJSON=function(t,e){for(var n,r=[],o=t.locations,i=o.length,a=p(t,e),s=(t.marker||{}).line||{},l=0;l<i;l++)n=h(t.locationmode,o[l],a),void 0!==n&&(n.z=t.z[l],void 0!==t.text&&(n.tx=t.text[l]),d(s.color,n,"mlc",l),d(s.width,n,"mlw",l),r.push(n));return r.length>0&&(r[0].trace=t),r},v.plot=function(t,e,n){var a,l=t.framework,u=l.select("g.choroplethlayer"),c=l.select("g.baselayer"),f=l.select("g.baselayeroverchoropleth"),p=m.baseLayersOverChoropleth,h=u.selectAll("g.trace.choropleth").data(e,function(t){return t.uid});h.enter().append("g").attr("class","trace choropleth"),h.exit().remove(),h.each(function(e){function n(e,n){if(t.showHover){var r=t.projection(e.properties.ct);u(e),s.loneHover({x:r[0],y:r[1],name:e.nameLabel,text:e.textLabel},{container:t.hoverContainer.node()}),f=c(e,n),t.graphDiv.emit("plotly_hover",f)}}function a(e,n){t.graphDiv.emit("plotly_click",c(e,n))}var l=v.calcGeoJSON(e,t.topojson),u=r(t,e),c=o(e),f=null,p=i.select(this).selectAll("path.choroplethlocation").data(l);p.enter().append("path").classed("choroplethlocation",!0).on("mouseover",n).on("click",a).on("mouseout",function(){s.loneUnhover(t.hoverContainer),t.graphDiv.emit("plotly_unhover",f)}).on("mousedown",function(){s.loneUnhover(t.hoverContainer)}).on("mouseup",n),p.exit().remove()}),f.selectAll("*").remove();for(var d=0;d<p.length;d++)a=p[d],c.select("g."+a).remove(),t.drawTopo(f,a,n),t.styleLayer(f,a,n);v.style(t)},v.style=function(t){t.framework.selectAll("g.trace.choropleth").each(function(t){var e=i.select(this),n=t.marker||{},r=n.line||{},o=t.zmin,a=t.zmax,s=c(t.colorscale),p=f(s,o,a);e.selectAll("path.choroplethlocation").each(function(t){i.select(this).attr("fill",function(t){return p(t.z)}).call(l.stroke,t.mlc||r.color).call(u.dashLine,"",t.mlw||r.width)})})}},{"../../components/color":540,"../../components/colorscale/get_scale":552,"../../components/colorscale/make_scale_function":557,"../../components/drawing":563,"../../lib/array_to_calc_item":623,"../../lib/geo_location_utils":630,"../../lib/topojson_utils":648,"../../plots/cartesian/axes":662,"../../plots/cartesian/graph_interact":669,"../../plots/geo/constants":683,"./attributes":766,d3:125}],771:[function(t,e,n){"use strict";var r=t("../heatmap/attributes"),o=t("../scatter/attributes"),i=t("../../components/colorscale/attributes"),a=t("../../lib/extend").extendFlat,s=o.line;e.exports=a({},{z:r.z,x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,text:r.text,transpose:r.transpose,xtype:r.xtype,ytype:r.ytype,connectgaps:r.connectgaps,autocontour:{valType:"boolean",dflt:!0},ncontours:{valType:"integer",dflt:0},contours:{start:{valType:"number",dflt:null},end:{valType:"number",dflt:null},size:{valType:"number",dflt:null},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill"},showlines:{valType:"boolean",dflt:!0}},line:{color:a({},s.color,{}),width:s.width,dash:s.dash,smoothing:a({},s.smoothing,{})},_nestedModules:{colorbar:"Colorbar"}},i,{autocolorscale:a({},i.autocolorscale,{dflt:!1})})},{"../../components/colorscale/attributes":546,"../../lib/extend":627,"../heatmap/attributes":781,"../scatter/attributes":829}],772:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/axes"),o=t("../heatmap/calc");e.exports=function(t,e){var n=o(t,e),i=e.contours;if(e.autocontour!==!1){var a={type:"linear",range:[e.zmin,e.zmax]};r.autoTicks(a,(e.zmax-e.zmin)/(e.ncontours||15)),i.start=r.tickFirst(a),i.size=a.dtick,a.range.reverse(),i.end=r.tickFirst(a),i.start===e.zmin&&(i.start+=i.size),i.end===e.zmax&&(i.end-=i.size),i.end+=i.size/100,e._input.contours=i}return n}},{"../../plots/cartesian/axes":662,"../heatmap/calc":782}],773:[function(t,e,n){"use strict";var r=t("../../plots/plots"),o=t("../../components/colorbar/draw"),i=t("./make_color_map");e.exports=function(t,e){var n=e[0].trace,a="cb"+n.uid;if(t._fullLayout._infolayer.selectAll("."+a).remove(),n.showscale===!1)return void r.autoMargin(t,a);var s=o(t,a);e[0].t.cb=s;var l=n.contours,u=n.line,c=l.size||1,f=l.coloring,p=i(n,{isColorbar:!0});"heatmap"===f&&s.filllevels({start:n.zmin,end:n.zmax,size:(n.zmax-n.zmin)/254}),s.fillcolor("fill"===f||"heatmap"===f?p:"").line({color:"lines"===f?p:u.color,width:l.showlines!==!1?u.width:0,dash:u.dash}).levels({start:l.start,end:l.end,size:c}).options(n.colorbar)()}},{"../../components/colorbar/draw":543,"../../plots/plots":720,
"./make_color_map":777}],774:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("../heatmap/has_columns"),i=t("../heatmap/xyz_defaults"),a=t("../contour/style_defaults"),s=t("./attributes");e.exports=function(t,e,n,l){function u(n,o){return r.coerce(t,e,s,n,o)}var c=i(t,e,u);if(!c)return void(e.visible=!1);u("text"),u("connectgaps",o(e));var f=r.coerce2(t,e,s,"contours.start"),p=r.coerce2(t,e,s,"contours.end"),h=u("autocontour",!(f&&p));u(h?"ncontours":"contours.size"),a(t,e,u,l)}},{"../../lib":633,"../contour/style_defaults":780,"../heatmap/has_columns":786,"../heatmap/xyz_defaults":792,"./attributes":771}],775:[function(t,e,n){"use strict";var r=t("../heatmap/hover");e.exports=function(t,e,n,o){return r(t,e,n,o,!0)}},{"../heatmap/hover":787}],776:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.calc=t("./calc"),r.plot=t("./plot"),r.style=t("./style"),r.colorbar=t("./colorbar"),r.hoverPoints=t("./hover"),r.moduleType="trace",r.name="contour",r.basePlotModule=t("../../plots/cartesian"),r.categories=["cartesian","2dMap","contour"],r.meta={},e.exports=r},{"../../plots/cartesian":670,"./attributes":771,"./calc":772,"./colorbar":773,"./defaults":774,"./hover":775,"./plot":778,"./style":779}],777:[function(t,e,n){"use strict";var r=t("d3"),o=t("../../components/colorscale/get_scale");e.exports=function(t){var e,n,i=t.contours,a=i.start,s=i.end,l=i.size||1,u=Math.floor((s+l/10-a)/l)+1,c="lines"===i.coloring?0:1,f=o(t.colorscale),p=f.length,h=new Array(p),d=new Array(p);if("heatmap"===i.coloring){for(t.zauto&&t.autocontour===!1&&(t.zmin=a-l/2,t.zmax=t.zmin+u*l),n=0;n<p;n++)e=f[n],h[n]=e[0]*(t.zmax-t.zmin)+t.zmin,d[n]=e[1];var m=r.extent([t.zmin,t.zmax,i.start,i.start+l*(u-1)]),y=m[t.zmin<t.zmax?0:1],v=m[t.zmin<t.zmax?1:0];y!==t.zmin&&(h.splice(0,0,y),d.splice(0,0,Range[0])),v!==t.zmax&&(h.push(v),d.push(d[d.length-1]))}else for(n=0;n<p;n++)e=f[n],h[n]=(e[0]*(u+c-1)-c/2)*l+a,d[n]=e[1];var g=r.scale.linear().interpolate(r.interpolateRgb).domain(h).range(d);return g}},{"../../components/colorscale/get_scale":552,d3:125}],778:[function(t,e,n){"use strict";function r(t,e,n){var r=n[0].trace,i=n[0].x,s=n[0].y,u=r.contours,c=r.uid,f=e.x(),p=e.y(),y=t._fullLayout,b="contour"+c,_=o(u,e,n[0]);if(r.visible!==!0)return y._paper.selectAll("."+b+",.hm"+c).remove(),void y._infolayer.selectAll(".cb"+c).remove();"heatmap"===u.coloring?(r.zauto&&r.autocontour===!1&&(r._input.zmin=r.zmin=u.start-u.size/2,r._input.zmax=r.zmax=r.zmin+_.length*u.size),T(t,e,[n])):y._paper.selectAll(".hm"+c).remove(),a(_),l(_);var x=f.c2p(i[0],!0),w=f.c2p(i[i.length-1],!0),E=p.c2p(s[0],!0),C=p.c2p(s[s.length-1],!0),k=[[x,C],[w,C],[w,E],[x,E]],S=h(e,n,b);d(S,k,u),m(S,_,k,u),v(S,_,u),g(S,e,n[0],k)}function o(t,e,n){for(var r=t.size||1,o=[],i=t.start;i<t.end+r/10;i+=r)o.push({level:i,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:e.x(),yaxis:e.y(),x:n.x,y:n.y,z:n.z,smoothing:n.trace.line.smoothing});return o}function i(t,e){var n=(e[0][0]>t?0:1)+(e[0][1]>t?0:2)+(e[1][1]>t?0:4)+(e[1][0]>t?0:8);if(5===n||10===n){var r=(e[0][0]+e[0][1]+e[1][0]+e[1][1])/4;return t>r?5===n?713:1114:5===n?104:208}return 15===n?0:n}function a(t){var e,n,r,o,a,s,l,u,c,f=t[0].z,p=f.length,h=f[0].length,d=2===p||2===h;for(n=0;n<p-1;n++)for(o=[],0===n&&(o=o.concat(E)),n===p-2&&(o=o.concat(C)),e=0;e<h-1;e++)for(r=o.slice(),0===e&&(r=r.concat(k)),e===h-2&&(r=r.concat(S)),a=e+","+n,s=[[f[n][e],f[n][e+1]],[f[n+1][e],f[n+1][e+1]]],c=0;c<t.length;c++)u=t[c],l=i(u.level,s),l&&(u.crossings[a]=l,r.indexOf(l)!==-1&&(u.starts.push([e,n]),d&&r.indexOf(l,r.indexOf(l)+1)!==-1&&u.starts.push([e,n])))}function s(t,e,n){function r(t){return h[t%h.length]}var o,i=e.join(","),a=i,s=t.crossings[a],l=u(s,n,e),h=[p(t,e,[-l[0],-l[1]])],d=l.join(","),m=t.z.length,y=t.z[0].length;for(o=0;o<1e4;o++){if(s>20?(s=M[s][(l[0]||l[1])<0?0:1],t.crossings[a]=A[s]):delete t.crossings[a],l=P[s],!l){x.log("Found bad marching index:",s,e,t.level);break}if(h.push(p(t,e,l)),e[0]+=l[0],e[1]+=l[1],c(h[h.length-1],h[h.length-2])&&h.pop(),a=e.join(","),a===i&&l.join(",")===d||n&&(l[0]&&(e[0]<0||e[0]>y-2)||l[1]&&(e[1]<0||e[1]>m-2)))break;s=t.crossings[a]}1e4===o&&x.log("Infinite loop in contour?");var v,g,b,_,w,T,E,C=c(h[0],h[h.length-1]),k=0,S=.2*t.smoothing,O=[],D=0;for(o=1;o<h.length;o++)E=f(h[o],h[o-1]),k+=E,O.push(E);var L=k/O.length*S;for(o=h.length-2;o>=D;o--)if(v=O[o],v<L){for(b=0,g=o-1;g>=D&&v+O[g]<L;g--)v+=O[g];if(C&&o===h.length-2)for(b=0;b<g&&v+O[b]<L;b++)v+=O[b];w=o-g+b+1,T=Math.floor((o+g+b+2)/2),_=C||o!==h.length-2?C||g!==-1?w%2?r(T):[(r(T)[0]+r(T+1)[0])/2,(r(T)[1]+r(T+1)[1])/2]:h[0]:h[h.length-1],h.splice(g+1,o-g+1,_),o=g+1,b&&(D=b),C&&(o===h.length-2?h[b]=h[h.length-1]:0===o&&(h[h.length-1]=h[0]))}if(h.splice(0,D),!(h.length<2))if(C)h.pop(),t.paths.push(h);else{n||x.log("Unclosed interior contour?",t.level,i,h.join("L"));var I=!1;t.edgepaths.forEach(function(e,n){if(!I&&c(e[0],h[h.length-1])){h.pop(),I=!0;var r=!1;t.edgepaths.forEach(function(e,o){!r&&c(e[e.length-1],h[0])&&(r=!0,h.splice(0,1),t.edgepaths.splice(n,1),o===n?t.paths.push(h.concat(e)):t.edgepaths[o]=t.edgepaths[o].concat(h,e))}),r||(t.edgepaths[n]=h.concat(e))}}),t.edgepaths.forEach(function(e,n){!I&&c(e[e.length-1],h[0])&&(h.splice(0,1),t.edgepaths[n]=e.concat(h),I=!0)}),I||t.edgepaths.push(h)}}function l(t){var e,n,r,o,i;for(r=0;r<t.length;r++){for(o=t[r],i=0;i<o.starts.length;i++)n=o.starts[i],s(o,n,"edge");for(e=0;Object.keys(o.crossings).length&&e<1e4;)e++,n=Object.keys(o.crossings)[0].split(",").map(Number),s(o,n);1e4===e&&x.log("Infinite loop in contour?")}}function u(t,e,n){var r=0,o=0;return t>20&&e?208===t||1114===t?r=0===n[0]?1:-1:o=0===n[1]?1:-1:E.indexOf(t)!==-1?o=1:k.indexOf(t)!==-1?r=1:C.indexOf(t)!==-1?o=-1:r=-1,[r,o]}function c(t,e){return Math.abs(t[0]-e[0])<.01&&Math.abs(t[1]-e[1])<.01}function f(t,e){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function p(t,e,n){var r=e[0]+Math.max(n[0],0),o=e[1]+Math.max(n[1],0),i=t.z[o][r],a=t.xaxis,s=t.yaxis;if(n[1]){var l=(t.level-i)/(t.z[o][r+1]-i);return[a.c2p((1-l)*t.x[r]+l*t.x[r+1],!0),s.c2p(t.y[o],!0)]}var u=(t.level-i)/(t.z[o+1][r]-i);return[a.c2p(t.x[r],!0),s.c2p((1-u)*t.y[o]+u*t.y[o+1],!0)]}function h(t,e,n){var r=t.plot.select(".maplayer").selectAll("g.contour."+n).data(e);return r.enter().append("g").classed("contour",!0).classed(n,!0),r.exit().remove(),r}function d(t,e,n){var r=t.selectAll("g.contourbg").data([0]);r.enter().append("g").classed("contourbg",!0);var o=r.selectAll("path").data("fill"===n.coloring?[0]:[]);o.enter().append("path"),o.exit().remove(),o.attr("d","M"+e.join("L")+"Z").style("stroke","none")}function m(t,e,n,r){var o=t.selectAll("g.contourfill").data([0]);o.enter().append("g").classed("contourfill",!0);var i=o.selectAll("path").data("fill"===r.coloring?e:[]);i.enter().append("path"),i.exit().remove(),i.each(function(t){var e=y(t,n);e?_.select(this).attr("d",e).style("stroke","none"):_.select(this).remove()})}function y(t,e){function n(t){return Math.abs(t[1]-e[0][1])<.01}function r(t){return Math.abs(t[1]-e[2][1])<.01}function o(t){return Math.abs(t[0]-e[0][0])<.01}function i(t){return Math.abs(t[0]-e[2][0])<.01}for(var a,s,l,u,c,f,p=t.edgepaths.length||t.z[0][0]<t.level?"":"M"+e.join("L")+"Z",h=0,d=t.edgepaths.map(function(t,e){return e}),m=!0;d.length;){for(f=w.smoothopen(t.edgepaths[h],t.smoothing),p+=m?f:f.replace(/^M/,"L"),d.splice(d.indexOf(h),1),a=t.edgepaths[h][t.edgepaths[h].length-1],u=-1,l=0;l<4;l++){if(!a){x.log("Missing end?",h,t);break}for(n(a)&&!i(a)?s=e[1]:o(a)?s=e[0]:r(a)?s=e[3]:i(a)&&(s=e[2]),c=0;c<t.edgepaths.length;c++){var y=t.edgepaths[c][0];Math.abs(a[0]-s[0])<.01?Math.abs(a[0]-y[0])<.01&&(y[1]-a[1])*(s[1]-y[1])>=0&&(s=y,u=c):Math.abs(a[1]-s[1])<.01?Math.abs(a[1]-y[1])<.01&&(y[0]-a[0])*(s[0]-y[0])>=0&&(s=y,u=c):x.log("endpt to newendpt is not vert. or horz.",a,s,y)}if(a=s,u>=0)break;p+="L"+s}if(u===t.edgepaths.length){x.log("unclosed perimeter path");break}h=u,m=d.indexOf(h)===-1,m&&(h=d[0],p+="Z")}for(h=0;h<t.paths.length;h++)p+=w.smoothclosed(t.paths[h],t.smoothing);return p}function v(t,e,n){var r=e[0].smoothing,o=t.selectAll("g.contourlevel").data(n.showlines===!1?[]:e);o.enter().append("g").classed("contourlevel",!0),o.exit().remove();var i=o.selectAll("path.openline").data(function(t){return t.edgepaths});i.enter().append("path").classed("openline",!0),i.exit().remove(),i.attr("d",function(t){return w.smoothopen(t,r)}).style("stroke-miterlimit",1);var a=o.selectAll("path.closedline").data(function(t){return t.paths});a.enter().append("path").classed("closedline",!0),a.exit().remove(),a.attr("d",function(t){return w.smoothclosed(t,r)}).style("stroke-miterlimit",1)}function g(t,e,n,r){var o="clip"+n.trace.uid,i=e.plot.selectAll("defs").data([0]);i.enter().append("defs");var s=i.selectAll("#"+o).data(n.trace.connectgaps?[]:[0]);if(s.enter().append("clipPath").attr("id",o),s.exit().remove(),n.trace.connectgaps===!1){var u={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:e.x(),yaxis:e.y(),x:n.x,y:n.y,z:b(n),smoothing:0};a([u]),l([u]);var c=y(u,r),f=s.selectAll("path").data([0]);f.enter().append("path"),f.attr("d",c)}else o=null;t.call(w.setClipUrl,o),e.plot.selectAll(".hm"+n.trace.uid).call(w.setClipUrl,o)}function b(t){var e,n,r=t.trace._emptypoints,o=[],i=t.z.length,a=t.z[0].length,s=[];for(e=0;e<a;e++)s.push(1);for(e=0;e<i;e++)o.push(s.slice());for(e=0;e<r.length;e++)n=r[e],o[n[0]][n[1]]=0;return t.zmask=o,o}var _=t("d3"),x=t("../../lib"),w=t("../../components/drawing"),T=t("../heatmap/plot");e.exports=function(t,e,n){for(var o=0;o<n.length;o++)r(t,e,n[o])};var E=[1,9,13,104,713],C=[4,6,7,104,713],k=[8,12,14,208,1114],S=[2,3,11,208,1114],P=[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],M={104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},A={1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11}},{"../../components/drawing":563,"../../lib":633,"../heatmap/plot":790,d3:125}],779:[function(t,e,n){"use strict";var r=t("d3"),o=t("../../components/drawing"),i=t("../heatmap/style"),a=t("./make_color_map");e.exports=function(t){var e=r.select(t).selectAll("g.contour");e.style("opacity",function(t){return t.trace.opacity}),e.each(function(t){var e=r.select(this),n=t.trace,i=n.contours,s=n.line,l=i.size||1,u=i.start,c=a(n);e.selectAll("g.contourlevel").each(function(t,e){r.select(this).selectAll("path").call(o.lineGroupStyle,s.width,"lines"===i.coloring?c(u+e*l):s.color,s.dash)}),e.selectAll("g.contourbg path").style("fill",c(u-l/2)),e.selectAll("g.contourfill path").style("fill",function(t,e){return c(u+(e+.5)*l)})}),i(t)}},{"../../components/drawing":563,"../heatmap/style":791,"./make_color_map":777,d3:125}],780:[function(t,e,n){"use strict";var r=t("../../components/colorscale/defaults");e.exports=function(t,e,n,o){var i,a=n("contours.coloring");"fill"===a&&(i=n("contours.showlines")),i!==!1&&("lines"!==a&&n("line.color","#000"),n("line.width",.5),n("line.dash")),n("line.smoothing"),"none"!==(e.contours||{}).coloring&&r(t,e,o,n,{prefix:"",cLetter:"z"})}},{"../../components/colorscale/defaults":550}],781:[function(t,e,n){"use strict";var r=t("../scatter/attributes"),o=t("../../components/colorscale/attributes"),i=t("../../lib/extend").extendFlat;e.exports=i({},{z:{valType:"data_array"},x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,text:{valType:"data_array"},transpose:{valType:"boolean",dflt:!1},xtype:{valType:"enumerated",values:["array","scaled"]},ytype:{valType:"enumerated",values:["array","scaled"]},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1},connectgaps:{valType:"boolean",dflt:!1},xgap:{valType:"number",dflt:0,min:0},ygap:{valType:"number",dflt:0,min:0},_nestedModules:{colorbar:"Colorbar"}},o,{autocolorscale:i({},o.autocolorscale,{dflt:!1})})},{"../../components/colorscale/attributes":546,"../../lib/extend":627,"../scatter/attributes":829}],782:[function(t,e,n){"use strict";function r(t){function e(t){if(u(t))return+t}var n,r,o,i,a,s,l=t.z;if(t.transpose){for(n=0,a=0;a<l.length;a++)n=Math.max(n,l[a].length);if(0===n)return!1;o=function(t){return t.length},i=function(t,e,n){return t[n][e]}}else n=l.length,o=function(t,e){return t[e].length},i=function(t,e,n){return t[e][n]};var c=new Array(n);for(a=0;a<n;a++)for(r=o(l,a),c[a]=new Array(r),s=0;s<r;s++)c[a][s]=e(i(l,a,s));return c}function o(t,e,n,r,o,i){var a,s,l,u=[],f=c.traceIs(t,"contour"),p=c.traceIs(t,"histogram"),h=c.traceIs(t,"gl2d"),d=Array.isArray(e)&&e.length>1;if(d&&!p&&"category"!==i.type){e=e.map(i.d2c);var m=e.length;if(!(m<=o))return f?e.slice(0,o):e.slice(0,o+1);if(f||h)u=e.slice(0,o);else if(1===o)u=[e[0]-.5,e[0]+.5];else{for(u=[1.5*e[0]-.5*e[1]],l=1;l<m;l++)u.push(.5*(e[l-1]+e[l]));u.push(1.5*e[m-1]-.5*e[m-2])}if(m<o){var y=u[u.length-1],v=y-u[u.length-2];for(l=m;l<o;l++)y+=v,u.push(y)}}else for(s=r||1,a=p||"category"===i.type?n||0:Array.isArray(e)&&1===e.length?e[0]:void 0===n?0:i.d2c(n),l=f||h?0:-.5;l<o;l++)u.push(a+s*l);return u}function i(t){return.5-.25*Math.min(1,.5*t)}function a(t,e,n){var r,o,a=1;if(Array.isArray(n))for(r=0;r<e.length;r++)o=e[r],t[o[0]][o[1]]=n[o[0]][o[1]];else l(t,e);for(r=0;r<e.length&&!(e[r][2]<4);r++);for(e=e.slice(r),r=0;r<100&&a>g;r++)a=l(t,e,i(a));return a>g&&f.log("interp2d didn't converge quickly",a),t}function s(t){var e,n,r,o,i,a,s,l,u=[],c={},f=[],p=t[0],h=[],d=[0,0,0],m=v(t);for(n=0;n<t.length;n++)for(e=h,h=p,p=t[n+1]||[],r=0;r<m;r++)void 0===h[r]&&(a=(void 0!==h[r-1]?1:0)+(void 0!==h[r+1]?1:0)+(void 0!==e[r]?1:0)+(void 0!==p[r]?1:0),a?(0===n&&a++,0===r&&a++,n===t.length-1&&a++,r===h.length-1&&a++,a<4&&(c[[n,r]]=[n,r,a]),u.push([n,r,a])):f.push([n,r]));for(;f.length;){for(s={},l=!1,i=f.length-1;i>=0;i--)o=f[i],n=o[0],r=o[1],a=((c[[n-1,r]]||d)[2]+(c[[n+1,r]]||d)[2]+(c[[n,r-1]]||d)[2]+(c[[n,r+1]]||d)[2])/20,a&&(s[o]=[n,r,a],f.splice(i,1),l=!0);if(!l)throw"findEmpties iterated with no new neighbors";for(o in s)c[o]=s[o],u.push(s[o])}return u.sort(function(t,e){return e[2]-t[2]})}function l(t,e,n){var r,o,i,a,s,l,u,c,f,p,h,d,m,y=0;for(a=0;a<e.length;a++){for(r=e[a],o=r[0],i=r[1],h=t[o][i],p=0,f=0,s=0;s<4;s++)l=b[s],u=t[o+l[0]],u&&(c=u[i+l[1]],void 0!==c&&(0===p?d=m=c:(d=Math.min(d,c),m=Math.max(m,c)),f++,p+=c));if(0===f)throw"iterateInterp2d order is wrong: no defined neighbors";t[o][i]=p/f,void 0===h?f<4&&(y=1):(t[o][i]=(1+n)*t[o][i]-n*h,m>d&&(y=Math.max(y,Math.abs(t[o][i]-h)/(m-d))))}return y}var u=t("fast-isnumeric"),c=t("../../registry"),f=t("../../lib"),p=t("../../plots/cartesian/axes"),h=t("../histogram2d/calc"),d=t("../../components/colorscale/calc"),m=t("./has_columns"),y=t("./convert_column_xyz"),v=t("./max_row_length");e.exports=function(t,e){function n(t){P=e._input.zsmooth=e.zsmooth=!1,f.notifier("cannot fast-zsmooth: "+t)}var i,l,u,g,b,_,x,w,T=p.getFromId(t,e.xaxis||"x"),E=p.getFromId(t,e.yaxis||"y"),C=c.traceIs(e,"contour"),k=c.traceIs(e,"histogram"),S=c.traceIs(e,"gl2d"),P=C?"best":e.zsmooth;if(T._minDtick=0,E._minDtick=0,k){var M=h(t,e);i=M.x,l=M.x0,u=M.dx,g=M.y,b=M.y0,_=M.dy,x=M.z}else m(e)&&y(e,T,E),i=e.x?T.makeCalcdata(e,"x"):[],g=e.y?E.makeCalcdata(e,"y"):[],l=e.x0||0,u=e.dx||1,b=e.y0||0,_=e.dy||1,x=r(e),(C||e.connectgaps)&&(e._emptypoints=s(x),e._interpz=a(x,e._emptypoints,e._interpz));if("fast"===P)if("log"===T.type||"log"===E.type)n("log axis found");else if(!k){if(i.length){var A=(i[i.length-1]-i[0])/(i.length-1),O=Math.abs(A/100);for(w=0;w<i.length-1;w++)if(Math.abs(i[w+1]-i[w]-A)>O){n("x scale is not linear");break}}if(g.length&&"fast"===P){var D=(g[g.length-1]-g[0])/(g.length-1),L=Math.abs(D/100);for(w=0;w<g.length-1;w++)if(Math.abs(g[w+1]-g[w]-D)>L){n("y scale is not linear");break}}}var I=v(x),j="scaled"===e.xtype?"":e.x,F=o(e,j,l,u,I,T),R="scaled"===e.ytype?"":e.y,N=o(e,R,b,_,x.length,E);S||(p.expand(T,F),p.expand(E,N));var z={x:F,y:N,z:x};if(d(e,x,"","z"),C&&e.contours&&"heatmap"===e.contours.coloring){var B="contour"===e.type?"heatmap":"histogram2d";z.xfill=o(B,j,l,u,I,T),z.yfill=o(B,R,b,_,x.length,E)}return[z]};var g=.01,b=[[-1,0],[1,0],[0,-1],[0,1]]},{"../../components/colorscale/calc":547,"../../lib":633,"../../plots/cartesian/axes":662,"../../registry":735,"../histogram2d/calc":802,"./convert_column_xyz":784,"./has_columns":786,"./max_row_length":789,"fast-isnumeric":129}],783:[function(t,e,n){"use strict";var r=t("d3"),o=t("fast-isnumeric"),i=t("../../lib"),a=t("../../plots/plots"),s=t("../../components/colorscale/get_scale"),l=t("../../components/colorbar/draw");e.exports=function(t,e){var n=e[0].trace,u="cb"+n.uid,c=s(n.colorscale),f=n.zmin,p=n.zmax;if(o(f)||(f=i.aggNums(Math.min,null,n.z)),o(p)||(p=i.aggNums(Math.max,null,n.z)),t._fullLayout._infolayer.selectAll("."+u).remove(),!n.showscale)return void a.autoMargin(t,u);var h=e[0].t.cb=l(t,u);h.fillcolor(r.scale.linear().domain(c.map(function(t){return f+t[0]*(p-f)})).range(c.map(function(t){return t[1]}))).filllevels({start:f,end:p,size:(p-f)/254}).options(n.colorbar)()}},{"../../components/colorbar/draw":543,"../../components/colorscale/get_scale":552,"../../lib":633,"../../plots/plots":720,d3:125,"fast-isnumeric":129}],784:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t,e,n){var o,i=t.x.slice(),a=t.y.slice(),s=t.z,l=t.text,u=Math.min(i.length,a.length,s.length),c=void 0!==l&&!Array.isArray(l[0]);for(u<i.length&&(i=i.slice(0,u)),u<a.length&&(a=a.slice(0,u)),o=0;o<u;o++)i[o]=e.d2c(i[o]),a[o]=n.d2c(a[o]);var f,p,h,d=r.distinctVals(i),m=d.vals,y=r.distinctVals(a),v=y.vals,g=r.init2dArray(v.length,m.length);for(c&&(h=r.init2dArray(v.length,m.length)),o=0;o<u;o++)f=r.findBin(i[o]+d.minDiff/2,m),p=r.findBin(a[o]+y.minDiff/2,v),g[p][f]=s[o],c&&(h[p][f]=l[o]);t.x=m,t.y=v,t.z=g,c&&(t.text=h)}},{"../../lib":633}],785:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("./has_columns"),i=t("./xyz_defaults"),a=t("../../components/colorscale/defaults"),s=t("./attributes");e.exports=function(t,e,n,l){function u(n,o){return r.coerce(t,e,s,n,o)}var c=i(t,e,u);if(!c)return void(e.visible=!1);u("text");var f=u("zsmooth");f===!1&&(u("xgap"),u("ygap")),u("connectgaps",o(e)&&e.zsmooth!==!1),a(t,e,l,u,{prefix:"",cLetter:"z"})}},{"../../components/colorscale/defaults":550,"../../lib":633,"./attributes":781,"./has_columns":786,"./xyz_defaults":792}],786:[function(t,e,n){"use strict";e.exports=function(t){return!Array.isArray(t.z[0])}},{}],787:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/graph_interact"),o=t("../../lib"),i=t("../../plots/cartesian/constants").MAXDIST;e.exports=function(t,e,n,a,s){if(!(t.distance<i)){var l,u,c,f,p=t.cd[0],h=p.trace,d=t.xa,m=t.ya,y=p.x,v=p.y,g=p.z,b=p.zmask,_=y,x=v;if(t.index!==!1){try{c=Math.round(t.index[1]),f=Math.round(t.index[0])}catch(w){return void o.error("Error hovering on heatmap, pointNumber must be [row,col], found:",t.index)}if(c<0||c>=g[0].length||f<0||f>g.length)return}else{if(r.inbox(e-y[0],e-y[y.length-1])>i||r.inbox(n-v[0],n-v[v.length-1])>i)return;if(s){var T;for(_=[2*y[0]-y[1]],T=1;T<y.length;T++)_.push((y[T]+y[T-1])/2);for(_.push([2*y[y.length-1]-y[y.length-2]]),x=[2*v[0]-v[1]],T=1;T<v.length;T++)x.push((v[T]+v[T-1])/2);x.push([2*v[v.length-1]-v[v.length-2]])}c=Math.max(0,Math.min(_.length-2,o.findBin(e,_))),f=Math.max(0,Math.min(x.length-2,o.findBin(n,x)))}var E=d.c2p(y[c]),C=d.c2p(y[c+1]),k=m.c2p(v[f]),S=m.c2p(v[f+1]);s?(C=E,l=y[c],S=k,u=v[f]):(l=(y[c]+y[c+1])/2,u=(v[f]+v[f+1])/2,h.zsmooth&&(E=C=(E+C)/2,k=S=(k+S)/2));var P=g[f][c];b&&!b[f][c]&&(P=void 0);var M;return Array.isArray(h.text)&&Array.isArray(h.text[f])&&(M=h.text[f][c]),[o.extendFlat(t,{index:[f,c],distance:i+10,x0:E,x1:C,y0:k,y1:S,xLabelVal:l,yLabelVal:u,zLabelVal:P,text:M})]}}},{"../../lib":633,"../../plots/cartesian/constants":667,"../../plots/cartesian/graph_interact":669}],788:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.calc=t("./calc"),r.plot=t("./plot"),r.colorbar=t("./colorbar"),r.style=t("./style"),r.hoverPoints=t("./hover"),r.moduleType="trace",r.name="heatmap",r.basePlotModule=t("../../plots/cartesian"),r.categories=["cartesian","2dMap"],r.meta={},e.exports=r},{"../../plots/cartesian":670,"./attributes":781,"./calc":782,"./colorbar":783,"./defaults":785,"./hover":787,"./plot":790,"./style":791}],789:[function(t,e,n){"use strict";e.exports=function(t){for(var e=0,n=0;n<t.length;n++)e=Math.max(e,t[n].length);return e}},{}],790:[function(t,e,n){"use strict";function r(t,e,n){function r(t,e){var n=e.length-2,r=s.constrain(s.findBin(t,e),0,n),o=e[r],i=e[r+1],a=s.constrain(r+(t-o)/(i-o)-.5,0,n),l=Math.round(a),u=Math.abs(a-l);return a&&a!==n&&u?{bin0:l,frac:u,bin1:Math.round(l+u/(a-l))}:{bin0:l,bin1:l,frac:0}}function f(t,e,n,r,o,i,a,s,l){var u={x0:e,x1:n,y0:r,y1:o},c=2*t.xgap/3,f=2*t.ygap/3,p=t.xgap/3,h=t.ygap/3;return s===l-1&&(u.y1=o-f),i===a-1&&(u.x0=e+c),0===s&&(u.y0=r+f),0===i&&(u.x1=n-c),i>0&&i<a-1&&(u.x0=e+p,u.x1=n-p),s>0&&s<l-1&&(u.y0=r+h,u.y1=o-h),u}function p(t,e){if(void 0!==t){var n=K((t-P)/(M-P));return n[0]=Math.round(n[0]),n[1]=Math.round(n[1]),n[2]=Math.round(n[2]),lt+=e,ut+=n[0]*e,ct+=n[1]*e,ft+=n[2]*e,n}return[0,0,0,0]}function h(t,e,n){t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=Math.round(255*n[3])}function d(t,e,n,r){var o=t[n.bin0];if(void 0===o)return p(void 0,1);var i,a=t[n.bin1],s=e[n.bin0],l=e[n.bin1],u=a-o||0,c=s-o||0;return i=void 0===a?void 0===l?0:void 0===s?2*(l-o):2*(2*l-s-o)/3:void 0===l?void 0===s?0:2*(2*o-a-s)/3:void 0===s?2*(2*l-a-o)/3:l+o-a-s,p(o+n.frac*u+r.frac*(c+n.frac*i))}var m=n[0].trace,y=m.uid,v=e.x(),g=e.y(),b=t._fullLayout,_="hm"+y;if(b._paper.selectAll(".contour"+y).remove(),m.visible!==!0)return b._paper.selectAll("."+_).remove(),void b._infolayer.selectAll(".cb"+y).remove();var x,w,T,E,C,k,S=n[0].z,P=m.zmin,M=m.zmax,A=l(m.colorscale),O=n[0].x,D=n[0].y,L=a.traceIs(m,"contour"),I=L?"best":m.zsmooth,j=S.length,F=c(S),R=!1,N=!1;for(k=0;void 0===x&&k<O.length-1;)x=v.c2p(O[k]),k++;for(k=O.length-1;void 0===w&&k>0;)w=v.c2p(O[k]),k--;for(w<x&&(T=w,w=x,x=T,R=!0),k=0;void 0===E&&k<D.length-1;)E=g.c2p(D[k]),k++;for(k=D.length-1;void 0===C&&k>0;)C=g.c2p(D[k]),k--;if(C<E&&(T=E,E=C,C=T,N=!0),L&&(O=n[0].xfill,D=n[0].yfill),"fast"!==I){var z="best"===I?0:.5;x=Math.max(-z*v._length,x),w=Math.min((1+z)*v._length,w),E=Math.max(-z*g._length,E),C=Math.min((1+z)*g._length,C)}var B=Math.round(w-x),U=Math.round(C-E),W=B<=0||U<=0,q=e.plot.select(".imagelayer").selectAll("g.hm."+_).data(W?[]:[0]);if(q.enter().append("g").classed("hm",!0).classed(_,!0),q.exit().remove(),!W){var V,H;"fast"===I?(V=F,H=j):(V=B,H=U);var G=document.createElement("canvas");G.width=V,G.height=H;var Y,Z,X=G.getContext("2d"),K=o.scale.linear().domain(A.map(function(t){return t[0]})).range(A.map(function(t){var e=i(t[1]).toRgb();return[e.r,e.g,e.b,e.a]})).clamp(!0);"fast"===I?(Y=R?function(t){return F-1-t}:s.identity,Z=N?function(t){return j-1-t}:s.identity):(Y=function(t){return s.constrain(Math.round(v.c2p(O[t])-x),0,B)},Z=function(t){return s.constrain(Math.round(g.c2p(D[t])-E),0,U)});var Q,J,$,tt,et,nt,rt,ot=Z(0),it=[ot,ot],at=R?0:1,st=N?0:1,lt=0,ut=0,ct=0,ft=0;if(I){var pt=0,ht=new Uint8Array(B*U*4);if("best"===I){var dt,mt,yt,vt=new Array(O.length),gt=new Array(D.length),bt=new Array(B);for(k=0;k<O.length;k++)vt[k]=Math.round(v.c2p(O[k])-x);for(k=0;k<D.length;k++)gt[k]=Math.round(g.c2p(D[k])-E);for(k=0;k<B;k++)bt[k]=r(k,vt);for($=0;$<U;$++)for(dt=r($,gt),mt=S[dt.bin0],yt=S[dt.bin1],k=0;k<B;k++,pt+=4)rt=d(mt,yt,bt[k],dt),h(ht,pt,rt)}else for($=0;$<j;$++)for(nt=S[$],it=Z($),k=0;k<B;k++)rt=p(nt[k],1),pt=4*(it*B+Y(k)),h(ht,pt,rt);var _t=X.createImageData(B,U);_t.data.set(ht),X.putImageData(_t,0,0)}else for($=0;$<j;$++)if(nt=S[$],it.reverse(),it[st]=Z($+1),it[0]!==it[1]&&void 0!==it[0]&&void 0!==it[1])for(tt=Y(0),J=[tt,tt],k=0;k<F;k++)J.reverse(),J[at]=Y(k+1),J[0]!==J[1]&&void 0!==J[0]&&void 0!==J[1]&&(et=nt[k],rt=p(et,(J[1]-J[0])*(it[1]-it[0])),X.fillStyle="rgba("+rt.join(",")+")",Q=f(m,J[0],J[1],it[0],it[1],k,F,$,j),X.fillRect(Q.x0,Q.y0,Q.x1-Q.x0,Q.y1-Q.y0));ut=Math.round(ut/lt),ct=Math.round(ct/lt),ft=Math.round(ft/lt);var xt=i("rgb("+ut+","+ct+","+ft+")");t._hmpixcount=(t._hmpixcount||0)+lt,t._hmlumcount=(t._hmlumcount||0)+lt*xt.getLuminance();var wt=q.selectAll("image").data(n);wt.enter().append("svg:image").attr({xmlns:u.svg,preserveAspectRatio:"none"}),wt.attr({height:U,width:B,x:x,y:E,"xlink:href":G.toDataURL("image/png")}),wt.exit().remove()}}var o=t("d3"),i=t("tinycolor2"),a=t("../../registry"),s=t("../../lib"),l=t("../../components/colorscale/get_scale"),u=t("../../constants/xmlns_namespaces"),c=t("./max_row_length");e.exports=function(t,e,n){for(var o=0;o<n.length;o++)r(t,e,n[o])}},{"../../components/colorscale/get_scale":552,"../../constants/xmlns_namespaces":620,"../../lib":633,"../../registry":735,"./max_row_length":789,d3:125,tinycolor2:506}],791:[function(t,e,n){"use strict";var r=t("d3");e.exports=function(t){r.select(t).selectAll(".hm image").style("opacity",function(t){return t.trace.opacity})}},{d3:125}],792:[function(t,e,n){"use strict";function r(t,e){var n=e(t),r=n?e(t+"type","array"):"scaled";return"scaled"===r&&(e(t+"0"),e("d"+t)),n}function o(t){for(var e,n=!0,r=!1,o=!1,a=0;a<t.length;a++){if(e=t[a],!Array.isArray(e)){n=!1;break}e.length>0&&(r=!0);for(var s=0;s<e.length;s++)if(i(e[s])){o=!0;break}}return n&&r&&o}var i=t("fast-isnumeric"),a=t("./has_columns");e.exports=function(t,e,n){var i,s,l=n("z");if(void 0===l||!l.length)return 0;if(a(t)){if(i=n("x"),s=n("y"),!i||!s)return 0}else{if(i=r("x",n),s=r("y",n),!o(l))return 0;n("transpose")}return e.z.length}},{"./has_columns":786,"fast-isnumeric":129}],793:[function(t,e,n){"use strict";function r(t){return{start:{valType:"number",dflt:null},end:{valType:"number",dflt:null},size:{valType:"any",dflt:1}}}var o=t("../bar/attributes");e.exports={x:{valType:"data_array"},y:{valType:"data_array"},text:o.text,orientation:o.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:""},autobinx:{valType:"boolean",dflt:!0},nbinsx:{valType:"integer",min:0,dflt:0},xbins:r("x"),autobiny:{valType:"boolean",dflt:!0},nbinsy:{valType:"integer",min:0,dflt:0},ybins:r("y"),marker:o.marker,_nestedModules:{error_y:"ErrorBars",error_x:"ErrorBars","marker.colorbar":"Colorbar"},_deprecated:{bardir:o._deprecated.bardir}}},{"../bar/attributes":745}],794:[function(t,e,n){"use strict";e.exports=function(t,e){for(var n=t.length,r=0,o=0;o<n;o++)e[o]?(t[o]/=e[o],r+=t[o]):t[o]=null;return r}},{}],795:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){return n("histnorm"),r.forEach(function(t){var e=n(t+"bins.start"),r=n(t+"bins.end"),o=n("autobin"+t,!(e&&r));n(o?"nbins"+t:t+"bins.size")}),e}},{}],796:[function(t,e,n){"use strict";var r=t("fast-isnumeric");e.exports={count:function(t,e,n){return n[t]++,1},sum:function(t,e,n,o){var i=o[e];return r(i)?(i=Number(i),n[t]+=i,i):0},avg:function(t,e,n,o,i){var a=o[e];return r(a)&&(a=Number(a),n[t]+=a,i[t]++),0},min:function(t,e,n,o){var i=o[e];if(r(i)){if(i=Number(i),!r(n[t]))return n[t]=i,i;if(n[t]>i)return n[t]=i,i-n[t]}return 0},max:function(t,e,n,o){var i=o[e];if(r(i)){if(i=Number(i),!r(n[t]))return n[t]=i,i;if(n[t]<i)return n[t]=i,i-n[t]}return 0}}},{"fast-isnumeric":129}],797:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),o=t("../../lib"),i=t("../../plots/cartesian/axes"),a=t("./bin_functions"),s=t("./norm_functions"),l=t("./average");e.exports=function(t,e){if(e.visible===!0){var n,u=[],c=[],f=i.getFromId(t,"h"===e.orientation?e.yaxis||"y":e.xaxis||"x"),p="h"===e.orientation?"y":"x",h={x:"y",y:"x"}[p],d=f.makeCalcdata(e,p);e["autobin"+p]===!1&&p+"bins"in e||(e[p+"bins"]=i.autoBin(d,f,e["nbins"+p]),e._input[p+"bins"]=e[p+"bins"]);var m,y,v,g,b=e[p+"bins"],_="string"==typeof b.size,x=_?[]:b,w=[],T=[],E=0,C=e.histnorm,k=e.histfunc,S=C.indexOf("density")!==-1,P="max"===k||"min"===k,M=P?null:0,A=a.count,O=s[C],D=!1;for(Array.isArray(e[h])&&"count"!==k&&(g=e[h],D="avg"===k,A=a[k]),n=b.start,y=b.end+(b.start-i.tickIncrement(b.start,b.size))/1e6;n<y&&u.length<5e3;)m=i.tickIncrement(n,b.size),u.push((n+m)/2),c.push(M),_&&x.push(n),S&&w.push(1/(m-n)),D&&T.push(0),n=m;var L=c.length;for(n=0;n<d.length;n++)v=o.findBin(d[n],x),v>=0&&v<L&&(E+=A(v,n,c,g,T));D&&(E=l(c,T)),O&&O(c,E,w);var I=Math.min(u.length,c.length),j=[],F=0,R=I-1;for(n=0;n<I;n++)if(c[n]){F=n;break}for(n=I-1;n>F;n--)if(c[n]){R=n;break}for(n=F;n<=R;n++)r(u[n])&&r(c[n])&&j.push({p:u[n],s:c[n],b:0});return j}}},{"../../lib":633,"../../plots/cartesian/axes":662,"./average":794,"./bin_functions":796,"./norm_functions":800,"fast-isnumeric":129}],798:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("../../components/color"),i=t("./bin_defaults"),a=t("../bar/style_defaults"),s=t("../../components/errorbars/defaults"),l=t("./attributes");e.exports=function(t,e,n,u){function c(n,o){return r.coerce(t,e,l,n,o)}var f=c("x"),p=c("y");c("text");var h=c("orientation",p&&!f?"h":"v"),d=e["v"===h?"x":"y"];if(!d||!d.length)return void(e.visible=!1);var m=e["h"===h?"x":"y"];m&&c("histfunc");var y="h"===h?["y"]:["x"];i(t,e,c,y),a(t,e,c,n,u),s(t,e,o.defaultLine,{axis:"y"}),s(t,e,o.defaultLine,{axis:"x",inherit:"y"})}},{"../../components/color":540,"../../components/errorbars/defaults":568,"../../lib":633,"../bar/style_defaults":755,"./attributes":793,"./bin_defaults":795}],799:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.layoutAttributes=t("../bar/layout_attributes"),r.supplyDefaults=t("./defaults"),r.supplyLayoutDefaults=t("../bar/layout_defaults"),r.calc=t("./calc"),r.setPositions=t("../bar/set_positions"),r.plot=t("../bar/plot"),r.style=t("../bar/style"),r.colorbar=t("../scatter/colorbar"),r.hoverPoints=t("../bar/hover"),r.moduleType="trace",r.name="histogram",r.basePlotModule=t("../../plots/cartesian"),r.categories=["cartesian","bar","histogram","oriented","errorBarsOK","showLegend"],r.meta={},e.exports=r},{"../../plots/cartesian":670,"../bar/hover":748,"../bar/layout_attributes":750,"../bar/layout_defaults":751,"../bar/plot":752,"../bar/set_positions":753,"../bar/style":754,"../scatter/colorbar":832,"./attributes":793,"./calc":797,"./defaults":798}],800:[function(t,e,n){"use strict";e.exports={percent:function(t,e){for(var n=t.length,r=100/e,o=0;o<n;o++)t[o]*=r},probability:function(t,e){for(var n=t.length,r=0;r<n;r++)t[r]/=e},density:function(t,e,n,r){var o=t.length;r=r||1;for(var i=0;i<o;i++)t[i]*=n[i]*r},"probability density":function(t,e,n,r){var o=t.length;r&&(e/=r);for(var i=0;i<o;i++)t[i]*=n[i]/e}}},{}],801:[function(t,e,n){"use strict";var r=t("../histogram/attributes"),o=t("../heatmap/attributes"),i=t("../../components/colorscale/attributes"),a=t("../../lib/extend").extendFlat;e.exports=a({},{x:r.x,y:r.y,z:{valType:"data_array"},marker:{color:{valType:"data_array"}},histnorm:r.histnorm,histfunc:r.histfunc,autobinx:r.autobinx,nbinsx:r.nbinsx,xbins:r.xbins,autobiny:r.autobiny,nbinsy:r.nbinsy,ybins:r.ybins,xgap:o.xgap,ygap:o.ygap,zsmooth:o.zsmooth,_nestedModules:{colorbar:"Colorbar"}},i,{autocolorscale:a({},i.autocolorscale,{dflt:!1})})},{"../../components/colorscale/attributes":546,"../../lib/extend":627,"../heatmap/attributes":781,"../histogram/attributes":793}],802:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("../../plots/cartesian/axes"),i=t("../histogram/bin_functions"),a=t("../histogram/norm_functions"),s=t("../histogram/average");e.exports=function(t,e){var n,l,u,c,f,p,h=o.getFromId(t,e.xaxis||"x"),d=e.x?h.makeCalcdata(e,"x"):[],m=o.getFromId(t,e.yaxis||"y"),y=e.y?m.makeCalcdata(e,"y"):[],v=Math.min(d.length,y.length);d.length>v&&d.splice(v,d.length-v),y.length>v&&y.splice(v,y.length-v),!e.autobinx&&"xbins"in e||(e.xbins=o.autoBin(d,h,e.nbinsx,"2d"),"histogram2dcontour"===e.type&&(e.xbins.start-=e.xbins.size,e.xbins.end+=e.xbins.size),e._input.xbins=e.xbins),!e.autobiny&&"ybins"in e||(e.ybins=o.autoBin(y,m,e.nbinsy,"2d"),"histogram2dcontour"===e.type&&(e.ybins.start-=e.ybins.size,e.ybins.end+=e.ybins.size),e._input.ybins=e.ybins),f=[];var g,b,_=[],x=[],w="string"==typeof e.xbins.size?[]:e.xbins,T="string"==typeof e.xbins.size?[]:e.ybins,E=0,C=[],k=e.histnorm,S=e.histfunc,P=k.indexOf("density")!==-1,M="max"===S||"min"===S,A=M?null:0,O=i.count,D=a[k],L=!1,I=[],j=[],F="z"in e?e.z:"marker"in e&&Array.isArray(e.marker.color)?e.marker.color:"";
F&&"count"!==S&&(L="avg"===S,O=i[S]);var R=e.xbins,N=R.end+(R.start-o.tickIncrement(R.start,R.size))/1e6;for(p=R.start;p<N;p=o.tickIncrement(p,R.size))_.push(A),Array.isArray(w)&&w.push(p),L&&x.push(0);Array.isArray(w)&&w.push(p);var z=_.length;for(n=e.xbins.start,l=(p-n)/z,n+=l/2,R=e.ybins,N=R.end+(R.start-o.tickIncrement(R.start,R.size))/1e6,p=R.start;p<N;p=o.tickIncrement(p,R.size))f.push(_.concat()),Array.isArray(T)&&T.push(p),L&&C.push(x.concat());Array.isArray(T)&&T.push(p);var B=f.length;for(u=e.ybins.start,c=(p-u)/B,u+=c/2,P&&(I=_.map(function(t,e){return Array.isArray(w)?1/(w[e+1]-w[e]):1/l}),j=f.map(function(t,e){return Array.isArray(T)?1/(T[e+1]-T[e]):1/c})),p=0;p<v;p++)g=r.findBin(d[p],w),b=r.findBin(y[p],T),g>=0&&g<z&&b>=0&&b<B&&(E+=O(g,p,f[b],F,C[b]));if(L)for(b=0;b<B;b++)E+=s(f[b],C[b]);if(D)for(b=0;b<B;b++)D(f[b],E,I,j[b]);return{x:d,x0:n,dx:l,y:y,y0:u,dy:c,z:f}}},{"../../lib":633,"../../plots/cartesian/axes":662,"../histogram/average":794,"../histogram/bin_functions":796,"../histogram/norm_functions":800}],803:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("./sample_defaults"),i=t("../../components/colorscale/defaults"),a=t("./attributes");e.exports=function(t,e,n){function s(n,o){return r.coerce(t,e,a,n,o)}o(t,e,s);var l=s("zsmooth");l===!1&&(s("xgap"),s("ygap")),i(t,e,n,s,{prefix:"",cLetter:"z"})}},{"../../components/colorscale/defaults":550,"../../lib":633,"./attributes":801,"./sample_defaults":805}],804:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.calc=t("../heatmap/calc"),r.plot=t("../heatmap/plot"),r.colorbar=t("../heatmap/colorbar"),r.style=t("../heatmap/style"),r.hoverPoints=t("../heatmap/hover"),r.moduleType="trace",r.name="histogram2d",r.basePlotModule=t("../../plots/cartesian"),r.categories=["cartesian","2dMap","histogram"],r.meta={},e.exports=r},{"../../plots/cartesian":670,"../heatmap/calc":782,"../heatmap/colorbar":783,"../heatmap/hover":787,"../heatmap/plot":790,"../heatmap/style":791,"./attributes":801,"./defaults":803}],805:[function(t,e,n){"use strict";var r=t("../histogram/bin_defaults");e.exports=function(t,e,n){var o=n("x"),i=n("y");if(!(o&&o.length&&i&&i.length))return void(e.visible=!1);var a=n("z")||n("marker.color");a&&n("histfunc");var s=["x","y"];r(t,e,n,s)}},{"../histogram/bin_defaults":795}],806:[function(t,e,n){"use strict";var r=t("../histogram2d/attributes"),o=t("../contour/attributes"),i=t("../../components/colorscale/attributes"),a=t("../../lib/extend").extendFlat;e.exports=a({},{x:r.x,y:r.y,z:r.z,marker:r.marker,histnorm:r.histnorm,histfunc:r.histfunc,autobinx:r.autobinx,nbinsx:r.nbinsx,xbins:r.xbins,autobiny:r.autobiny,nbinsy:r.nbinsy,ybins:r.ybins,autocontour:o.autocontour,ncontours:o.ncontours,contours:o.contours,line:o.line,_nestedModules:{colorbar:"Colorbar"}},i)},{"../../components/colorscale/attributes":546,"../../lib/extend":627,"../contour/attributes":771,"../histogram2d/attributes":801}],807:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("../histogram2d/sample_defaults"),i=t("../contour/style_defaults"),a=t("./attributes");e.exports=function(t,e,n,s){function l(n,o){return r.coerce(t,e,a,n,o)}o(t,e,l);var u=r.coerce2(t,e,a,"contours.start"),c=r.coerce2(t,e,a,"contours.end"),f=l("autocontour",!(u&&c));l(f?"ncontours":"contours.size"),i(t,e,l,s)}},{"../../lib":633,"../contour/style_defaults":780,"../histogram2d/sample_defaults":805,"./attributes":806}],808:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.calc=t("../contour/calc"),r.plot=t("../contour/plot"),r.style=t("../contour/style"),r.colorbar=t("../contour/colorbar"),r.hoverPoints=t("../contour/hover"),r.moduleType="trace",r.name="histogram2dcontour",r.basePlotModule=t("../../plots/cartesian"),r.categories=["cartesian","2dMap","contour","histogram"],r.meta={},e.exports=r},{"../../plots/cartesian":670,"../contour/calc":772,"../contour/colorbar":773,"../contour/hover":775,"../contour/plot":778,"../contour/style":779,"./attributes":806,"./defaults":807}],809:[function(t,e,n){"use strict";var r=t("../../components/colorscale/attributes"),o=t("../surface/attributes"),i=t("../../lib/extend").extendFlat;e.exports={x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},i:{valType:"data_array"},j:{valType:"data_array"},k:{valType:"data_array"},delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z"},alphahull:{valType:"number",dflt:-1},intensity:{valType:"data_array"},color:{valType:"color"},vertexcolor:{valType:"data_array"},facecolor:{valType:"data_array"},opacity:i({},o.opacity),flatshading:{valType:"boolean",dflt:!1},contour:{show:i({},o.contours.x.show,{}),color:i({},o.contours.x.color),width:i({},o.contours.x.width)},colorscale:r.colorscale,reversescale:r.reversescale,showscale:r.showscale,lightposition:{x:i({},o.lightposition.x,{dflt:1e5}),y:i({},o.lightposition.y,{dflt:1e5}),z:i({},o.lightposition.z,{dflt:0})},lighting:i({},{vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6}},o.lighting),_nestedModules:{colorbar:"Colorbar"}}},{"../../components/colorscale/attributes":546,"../../lib/extend":627,"../surface/attributes":882}],810:[function(t,e,n){"use strict";function r(t,e,n){this.scene=t,this.uid=n,this.mesh=e,this.name="",this.color="#fff",this.data=null,this.showContour=!1}function o(t){return t.map(function(t){var e=t[0],n=u(t[1]),r=n.toRgb();return{index:e,rgb:[r.r,r.g,r.b,1]}})}function i(t){return t.map(h)}function a(t,e,n){for(var r=new Array(t.length),o=0;o<t.length;++o)r[o]=[t[o],e[o],n[o]];return r}function s(t,e){var n=t.glplot.gl,o=l({gl:n}),i=new r(t,o,e.uid);return i.update(e),t.glplot.add(o),i}var l=t("gl-mesh3d"),u=t("tinycolor2"),c=t("delaunay-triangulate"),f=t("alpha-shape"),p=t("convex-hull"),h=t("../../lib/str2rgbarray"),d=r.prototype;d.handlePick=function(t){if(t.object===this.mesh){var e=t.data.index;return t.traceCoordinate=[this.data.x[e],this.data.y[e],this.data.z[e]],!0}},d.update=function(t){function e(t,e,n){return e.map(function(e){return t.d2l(e)*n})}var n=this.scene,r=n.fullSceneLayout;this.data=t;var s,l=a(e(r.xaxis,t.x,n.dataScale[0]),e(r.yaxis,t.y,n.dataScale[1]),e(r.zaxis,t.z,n.dataScale[2]));if(t.i&&t.j&&t.k)s=a(t.i,t.j,t.k);else if(0===t.alphahull)s=p(l);else if(t.alphahull>0)s=f(t.alphahull,l);else{var u=["x","y","z"].indexOf(t.delaunayaxis);s=c(l.map(function(t){return[t[(u+1)%3],t[(u+2)%3]]}))}var d={positions:l,cells:s,lightPosition:[t.lightposition.x,t.lightposition.y,t.lightposition.z],ambient:t.lighting.ambient,diffuse:t.lighting.diffuse,specular:t.lighting.specular,roughness:t.lighting.roughness,fresnel:t.lighting.fresnel,vertexNormalsEpsilon:t.lighting.vertexnormalsepsilon,faceNormalsEpsilon:t.lighting.facenormalsepsilon,opacity:t.opacity,contourEnable:t.contour.show,contourColor:h(t.contour.color).slice(0,3),contourWidth:t.contour.width,useFacetNormals:t.flatshading};t.intensity?(this.color="#fff",d.vertexIntensity=t.intensity,d.colormap=o(t.colorscale)):t.vertexcolor?(this.color=t.vertexcolors[0],d.vertexColors=i(t.vertexcolor)):t.facecolor?(this.color=t.facecolor[0],d.cellColors=i(t.facecolor)):(this.color=t.color,d.meshColor=h(t.color)),this.mesh.update(d)},d.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},e.exports=s},{"../../lib/str2rgbarray":646,"alpha-shape":42,"convex-hull":114,"delaunay-triangulate":126,"gl-mesh3d":162,tinycolor2:506}],811:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("../../components/colorbar/defaults"),i=t("./attributes");e.exports=function(t,e,n,a){function s(n,o){return r.coerce(t,e,i,n,o)}function l(t){var e=t.map(function(t){var e=s(t);return e&&Array.isArray(e)?e:null});return e.every(function(t){return t&&t.length===e[0].length})&&e}var u=l(["x","y","z"]),c=l(["i","j","k"]);return u?(c&&c.forEach(function(t){for(var e=0;e<t.length;++e)t[e]|=0}),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","contour.show","contour.color","contour.width","colorscale","reversescale","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(t){s(t)}),"intensity"in t?(s("intensity"),s("showscale",!0)):(e.showscale=!1,"vertexcolor"in t?s("vertexcolor"):"facecolor"in t?s("facecolor"):s("color",n)),e.reversescale&&(e.colorscale=e.colorscale.map(function(t){return[1-t[0],t[1]]}).reverse()),void(e.showscale&&o(t,e,a))):void(e.visible=!1)}},{"../../components/colorbar/defaults":542,"../../lib":633,"./attributes":809}],812:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.colorbar=t("../heatmap/colorbar"),r.plot=t("./convert"),r.moduleType="trace",r.name="mesh3d",r.basePlotModule=t("../../plots/gl3d"),r.categories=["gl3d"],r.meta={},e.exports=r},{"../../plots/gl3d":700,"../heatmap/colorbar":783,"./attributes":809,"./convert":810,"./defaults":811}],813:[function(t,e,n){"use strict";var r=t("../../components/color/attributes"),o=t("../../plots/font_attributes"),i=t("../../plots/attributes"),a=t("../../lib/extend").extendFlat;e.exports={labels:{valType:"data_array"},label0:{valType:"number",dflt:0},dlabel:{valType:"number",dflt:1},values:{valType:"data_array"},marker:{colors:{valType:"data_array"},line:{color:{valType:"color",dflt:r.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}}},text:{valType:"data_array"},scalegroup:{valType:"string",dflt:""},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"]},hoverinfo:a({},i.hoverinfo,{flags:["label","text","value","percent","name"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0},textfont:a({},o,{}),insidetextfont:a({},o,{}),outsidetextfont:a({},o,{}),domain:{x:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},y:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]}},hole:{valType:"number",min:0,max:1,dflt:0},sort:{valType:"boolean",dflt:!0},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise"},rotation:{valType:"number",min:-360,max:360,dflt:0},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0}}},{"../../components/color/attributes":539,"../../lib/extend":627,"../../plots/attributes":660,"../../plots/font_attributes":681}],814:[function(t,e,n){"use strict";function r(t,e){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=o[0].trace;i._module===e&&i.visible===!0&&n.push(o)}return n}var o=t("../../registry");n.name="pie",n.plot=function(t){var e=o.getModule("pie"),n=r(t.calcdata,e);n.length&&e.plot(t,n)},n.clean=function(t,e,n,r){var o=r._has&&r._has("pie"),i=e._has&&e._has("pie");o&&!i&&r._pielayer.selectAll("g.trace").remove()}},{"../../registry":735}],815:[function(t,e,n){"use strict";function r(t){if(!l){var e=a.defaults;l=e.slice();var n;for(n=0;n<e.length;n++)l.push(i(e[n]).lighten(20).toHexString());for(n=0;n<a.defaults.length;n++)l.push(i(e[n]).darken(20).toHexString())}return l[t%l.length]}var o=t("fast-isnumeric"),i=t("tinycolor2"),a=t("../../components/color"),s=t("./helpers");e.exports=function(t,e){var n,l,u,c,f,p,h=e.values,d=e.labels,m=[],y=t._fullLayout,v=y._piecolormap,g={},b=!1,_=0,x=y.hiddenlabels||[];if(e.dlabel)for(d=new Array(h.length),n=0;n<h.length;n++)d[n]=String(e.label0+n*e.dlabel);for(n=0;n<h.length;n++)l=h[n],o(l)&&(l=+l,l<0||(u=d[n],void 0!==u&&""!==u||(u=n),u=String(u),void 0===g[u]&&(g[u]=!0,c=i(e.marker.colors[n]),c.isValid()?(c=a.addOpacity(c,c.getAlpha()),v[u]||(v[u]=c)):v[u]?c=v[u]:(c=!1,b=!0),f=x.indexOf(u)!==-1,f||(_+=l),m.push({v:l,label:u,color:c,i:n,hidden:f}))));if(e.sort&&m.sort(function(t,e){return e.v-t.v}),b)for(n=0;n<m.length;n++)p=m[n],p.color===!1&&(v[p.label]=p.color=r(y._piedefaultcolorcount),y._piedefaultcolorcount++);if(m[0]&&(m[0].vTotal=_),e.textinfo&&"none"!==e.textinfo){var w,T=e.textinfo.indexOf("label")!==-1,E=e.textinfo.indexOf("text")!==-1,C=e.textinfo.indexOf("value")!==-1,k=e.textinfo.indexOf("percent")!==-1,S=y.separators;for(n=0;n<m.length;n++)p=m[n],w=T?[p.label]:[],E&&e.text[p.i]&&w.push(e.text[p.i]),C&&w.push(s.formatPieValue(p.v,S)),k&&w.push(s.formatPiePercent(p.v/_,S)),p.text=w.join("<br>")}return m};var l},{"../../components/color":540,"./helpers":817,"fast-isnumeric":129,tinycolor2:506}],816:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("./attributes");e.exports=function(t,e,n,i){function a(n,i){return r.coerce(t,e,o,n,i)}var s=r.coerceFont,l=a("values");if(!Array.isArray(l)||!l.length)return void(e.visible=!1);var u=a("labels");Array.isArray(u)||(a("label0"),a("dlabel"));var c=a("marker.line.width");c&&a("marker.line.color");var f=a("marker.colors");Array.isArray(f)||(e.marker.colors=[]),a("scalegroup");var p=a("text"),h=a("textinfo",Array.isArray(p)?"text+percent":"percent");if(a("hoverinfo",1===i._dataLength?"label+text+value+percent":void 0),h&&"none"!==h){var d=a("textposition"),m=Array.isArray(d)||"auto"===d,y=m||"inside"===d,v=m||"outside"===d;if(y||v){var g=s(a,"textfont",i.font);y&&s(a,"insidetextfont",g),v&&s(a,"outsidetextfont",g)}}a("domain.x"),a("domain.y"),a("hole"),a("sort"),a("direction"),a("rotation"),a("pull")}},{"../../lib":633,"./attributes":813}],817:[function(t,e,n){"use strict";var r=t("../../lib");n.formatPiePercent=function(t,e){var n=(100*t).toPrecision(3);return n.lastIndexOf(".")!==-1&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,e)+"%"},n.formatPieValue=function(t,e){var n=t.toPrecision(10);return n.lastIndexOf(".")!==-1&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,e)}},{"../../lib":633}],818:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.supplyLayoutDefaults=t("./layout_defaults"),r.layoutAttributes=t("./layout_attributes"),r.calc=t("./calc"),r.plot=t("./plot"),r.style=t("./style"),r.styleOne=t("./style_one"),r.moduleType="trace",r.name="pie",r.basePlotModule=t("./base_plot"),r.categories=["pie","showLegend"],r.meta={},e.exports=r},{"./attributes":813,"./base_plot":814,"./calc":815,"./defaults":816,"./layout_attributes":819,"./layout_defaults":820,"./plot":821,"./style":822,"./style_one":823}],819:[function(t,e,n){"use strict";e.exports={hiddenlabels:{valType:"data_array"}}},{}],820:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("./layout_attributes");e.exports=function(t,e){function n(n,i){return r.coerce(t,e,o,n,i)}n("hiddenlabels")}},{"../../lib":633,"./layout_attributes":819}],821:[function(t,e,n){"use strict";function r(t,e,n){var r=Math.sqrt(t.width*t.width+t.height*t.height),i=t.width/t.height,a=Math.PI*Math.min(e.v/n.vTotal,.5),s=1-n.trace.hole,l=o(e,n),u={scale:l*n.r*2/r,rCenter:1-l,rotate:0};if(u.scale>=1)return u;var c=i+1/(2*Math.tan(a)),f=n.r*Math.min(1/(Math.sqrt(c*c+.5)+c),s/(Math.sqrt(i*i+s/2)+i)),p={scale:2*f/t.height,rCenter:Math.cos(f/n.r)-f*i/n.r,rotate:(180/Math.PI*e.midangle+720)%180-90},h=1/i,d=h+1/(2*Math.tan(a)),m=n.r*Math.min(1/(Math.sqrt(d*d+.5)+d),s/(Math.sqrt(h*h+s/2)+h)),y={scale:2*m/t.width,rCenter:Math.cos(m/n.r)-m/i/n.r,rotate:(180/Math.PI*e.midangle+810)%180-90},v=y.scale>p.scale?y:p;return u.scale<1&&v.scale>u.scale?v:u}function o(t,e){if(t.v===e.vTotal&&!e.trace.hole)return 1;var n=Math.PI*Math.min(t.v/e.vTotal,.5);return Math.min(1/(1+1/Math.sin(n)),(1-e.trace.hole)/2)}function i(t,e){var n=e.pxmid[0],r=e.pxmid[1],o=t.width/2,i=t.height/2;return n<0&&(o*=-1),r<0&&(i*=-1),{scale:1,rCenter:1,rotate:0,x:o+Math.abs(i)*(o>0?1:-1)/2,y:i/(1+n*n/(r*r)),outside:!0}}function a(t,e){function n(t,e){return t.pxmid[1]-e.pxmid[1]}function r(t,e){return e.pxmid[1]-t.pxmid[1]}function o(t,n){n||(n={});var r,o,i,s,p,h,m=n.labelExtraY+(a?n.yLabelMax:n.yLabelMin),y=a?t.yLabelMin:t.yLabelMax,v=a?t.yLabelMax:t.yLabelMin,g=t.cyFinal+u(t.px0[1],t.px1[1]),b=m-y;if(b*f>0&&(t.labelExtraY=b),Array.isArray(e.pull))for(o=0;o<d.length;o++)i=d[o],i===t||(e.pull[t.i]||0)>=e.pull[i.i]||((t.pxmid[1]-i.pxmid[1])*f>0?(s=i.cyFinal+u(i.px0[1],i.px1[1]),b=s-y-t.labelExtraY,b*f>0&&(t.labelExtraY+=b)):(v+t.labelExtraY-g)*f>0&&(r=3*c*Math.abs(o-d.indexOf(t)),p=i.cxFinal+l(i.px0[0],i.px1[0]),h=p+r-(t.cxFinal+t.pxmid[0])-t.labelExtraX,h*c>0&&(t.labelExtraX+=h)))}var i,a,s,l,u,c,f,p,h,d,m,y,v;for(a=0;a<2;a++)for(s=a?n:r,u=a?Math.max:Math.min,f=a?1:-1,i=0;i<2;i++){for(l=i?Math.max:Math.min,c=i?1:-1,p=t[a][i],p.sort(s),h=t[1-a][i],d=h.concat(p),y=[],m=0;m<p.length;m++)void 0!==p[m].yLabelMid&&y.push(p[m]);for(v=!1,m=0;a&&m<h.length;m++)if(void 0!==h[m].yLabelMid){v=h[m];break}for(m=0;m<y.length;m++){var g=m&&y[m-1];v&&!m&&(g=v),o(y[m],g)}}}function s(t,e){var n,r,o,i,a,s,l,c,f,p,h=[];for(o=0;o<t.length;o++){if(a=t[o][0],s=a.trace,n=e.w*(s.domain.x[1]-s.domain.x[0]),r=e.h*(s.domain.y[1]-s.domain.y[0]),l=s.tiltaxis*Math.PI/180,c=s.pull,Array.isArray(c))for(c=0,i=0;i<s.pull.length;i++)s.pull[i]>c&&(c=s.pull[i]);a.r=Math.min(n/u(s.tilt,Math.sin(l),s.depth),r/u(s.tilt,Math.cos(l),s.depth))/(2+2*c),a.cx=e.l+e.w*(s.domain.x[1]+s.domain.x[0])/2,a.cy=e.t+e.h*(2-s.domain.y[1]-s.domain.y[0])/2,s.scalegroup&&h.indexOf(s.scalegroup)===-1&&h.push(s.scalegroup)}for(i=0;i<h.length;i++){for(p=1/0,f=h[i],o=0;o<t.length;o++)a=t[o][0],a.trace.scalegroup===f&&(p=Math.min(p,a.r*a.r/a.vTotal));for(o=0;o<t.length;o++)a=t[o][0],a.trace.scalegroup===f&&(a.r=Math.sqrt(p*a.vTotal))}}function l(t){function e(t){var e=f.r*Math.sin(t),n=-f.r*Math.cos(t);return h?[e*(1-s*r*r)+n*a*s,e*a*s+n*(1-s*o*o),Math.sin(i)*(n*o-e*r)]:[e,n]}var n,r,o,i,a,s,l,u,c,f=t[0],p=f.trace,h=p.tilt,d=p.rotation*Math.PI/180,m=2*Math.PI/f.vTotal,y="px0",v="px1";if("counterclockwise"===p.direction){for(l=0;l<t.length&&t[l].hidden;l++);if(l===t.length)return;d+=m*t[l].v,m*=-1,y="px1",v="px0"}for(h&&(i=h*Math.PI/180,n=p.tiltaxis*Math.PI/180,a=Math.sin(n)*Math.cos(n),s=1-Math.cos(i),r=Math.sin(n),o=Math.cos(n)),c=e(d),l=0;l<t.length;l++)u=t[l],u.hidden||(u[y]=c,d+=m*u.v/2,u.pxmid=e(d),u.midangle=d,d+=m*u.v/2,c=e(d),u[v]=c,u.largeArc=u.v>f.vTotal/2?1:0)}function u(t,e,n){if(!t)return 1;var r=Math.sin(t*Math.PI/180);return Math.max(.01,n*r*Math.abs(e)+2*Math.sqrt(1-r*r*e*e))}var c=t("d3"),f=t("../../plots/cartesian/graph_interact"),p=t("../../components/color"),h=t("../../components/drawing"),d=t("../../lib/svg_text_utils"),m=t("./helpers");e.exports=function(t,e){var n=t._fullLayout;s(e,n._size);var u=n._pielayer.selectAll("g.trace").data(e);u.enter().append("g").attr({"stroke-linejoin":"round","class":"trace"}),u.exit().remove(),u.order(),u.each(function(e){var s=c.select(this),u=e[0],y=u.trace,v=0,g=(y.depth||0)*u.r*Math.sin(v)/2,b=y.tiltaxis||0,_=b*Math.PI/180,x=[g*Math.sin(_),g*Math.cos(_)],w=u.r*Math.cos(v),T=s.selectAll("g.part").data(y.tilt?["top","sides"]:["top"]);T.enter().append("g").attr("class",function(t){return t+" part"}),T.exit().remove(),T.order(),l(e),s.selectAll(".top").each(function(){var s=c.select(this).selectAll("g.slice").data(e);s.enter().append("g").classed("slice",!0),s.exit().remove();var l=[[[],[]],[[],[]]],v=!1;s.each(function(a){function s(e){var r=t._fullLayout,i=t._fullData[y.index],s=i.hoverinfo;if("all"===s&&(s="label+text+value+percent+name"),!t._dragging&&r.hovermode!==!1&&"none"!==s&&"skip"!==s&&s){var l=o(a,u),c=T+a.pxmid[0]*(1-l),p=E+a.pxmid[1]*(1-l),h=n.separators,d=[];s.indexOf("label")!==-1&&d.push(a.label),i.text&&i.text[a.i]&&s.indexOf("text")!==-1&&d.push(i.text[a.i]),s.indexOf("value")!==-1&&d.push(m.formatPieValue(a.v,h)),s.indexOf("percent")!==-1&&d.push(m.formatPiePercent(a.v/u.vTotal,h)),f.loneHover({x0:c-l*u.r,x1:c+l*u.r,y:p,text:d.join("<br>"),name:s.indexOf("name")!==-1?i.name:void 0,color:a.color,idealAlign:a.pxmid[0]<0?"left":"right"},{container:r._hoverlayer.node(),outerContainer:r._paper.node()}),f.hover(t,e,"pie"),S=!0}}function p(e){t.emit("plotly_unhover",{points:[e]}),S&&(f.loneUnhover(n._hoverlayer.node()),S=!1)}function g(){t._hoverdata=[a],t._hoverdata.trace=e.trace,f.click(t,{target:!0})}function _(t,e,n,r){return"a"+r*u.r+","+r*w+" "+b+" "+a.largeArc+(n?" 1 ":" 0 ")+r*(e[0]-t[0])+","+r*(e[1]-t[1])}if(a.hidden)return void c.select(this).selectAll("path,g").remove();l[a.pxmid[1]<0?0:1][a.pxmid[0]<0?0:1].push(a);var T=u.cx+x[0],E=u.cy+x[1],C=c.select(this),k=C.selectAll("path.surface").data([a]),S=!1;if(k.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),C.select("path.textline").remove(),C.on("mouseover",s).on("mouseout",p).on("click",g),y.pull){var P=+(Array.isArray(y.pull)?y.pull[a.i]:y.pull)||0;P>0&&(T+=P*a.pxmid[0],E+=P*a.pxmid[1])}a.cxFinal=T,a.cyFinal=E;var M=y.hole;if(a.v===u.vTotal){var A="M"+(T+a.px0[0])+","+(E+a.px0[1])+_(a.px0,a.pxmid,!0,1)+_(a.pxmid,a.px0,!0,1)+"Z";M?k.attr("d","M"+(T+M*a.px0[0])+","+(E+M*a.px0[1])+_(a.px0,a.pxmid,!1,M)+_(a.pxmid,a.px0,!1,M)+"Z"+A):k.attr("d",A)}else{var O=_(a.px0,a.px1,!0,1);if(M){var D=1-M;k.attr("d","M"+(T+M*a.px1[0])+","+(E+M*a.px1[1])+_(a.px1,a.px0,!1,M)+"l"+D*a.px0[0]+","+D*a.px0[1]+O+"Z")}else k.attr("d","M"+T+","+E+"l"+a.px0[0]+","+a.px0[1]+O+"Z")}var L=Array.isArray(y.textposition)?y.textposition[a.i]:y.textposition,I=C.selectAll("g.slicetext").data(a.text&&"none"!==L?[0]:[]);I.enter().append("g").classed("slicetext",!0),I.exit().remove(),I.each(function(){var t=c.select(this).selectAll("text").data([0]);t.enter().append("text").attr("data-notex",1),t.exit().remove(),t.text(a.text).attr({"class":"slicetext",transform:"","data-bb":"","text-anchor":"middle",x:0,y:0}).call(h.font,"outside"===L?y.outsidetextfont:y.insidetextfont).call(d.convertToTspans),t.selectAll("tspan.line").attr({x:0,y:0});var e,n=h.bBox(t.node());"outside"===L?e=i(n,a):(e=r(n,a,u),"auto"===L&&e.scale<1&&(t.call(h.font,y.outsidetextfont),y.outsidetextfont.family===y.insidetextfont.family&&y.outsidetextfont.size===y.insidetextfont.size||(t.attr({"data-bb":""}),n=h.bBox(t.node())),e=i(n,a)));var o=T+a.pxmid[0]*e.rCenter+(e.x||0),s=E+a.pxmid[1]*e.rCenter+(e.y||0);e.outside&&(a.yLabelMin=s-n.height/2,a.yLabelMid=s,a.yLabelMax=s+n.height/2,a.labelExtraX=0,a.labelExtraY=0,v=!0),t.attr("transform","translate("+o+","+s+")"+(e.scale<1?"scale("+e.scale+")":"")+(e.rotate?"rotate("+e.rotate+")":"")+"translate("+-(n.left+n.right)/2+","+-(n.top+n.bottom)/2+")")})}),v&&a(l,y),s.each(function(t){if(t.labelExtraX||t.labelExtraY){var e=c.select(this),n=e.select("g.slicetext text");n.attr("transform","translate("+t.labelExtraX+","+t.labelExtraY+")"+n.attr("transform"));var r=t.cxFinal+t.pxmid[0],o=t.cyFinal+t.pxmid[1],i="M"+r+","+o,a=(t.yLabelMax-t.yLabelMin)*(t.pxmid[0]<0?-1:1)/4;if(t.labelExtraX){var s=t.labelExtraX*t.pxmid[1]/t.pxmid[0],l=t.yLabelMid+t.labelExtraY-(t.cyFinal+t.pxmid[1]);i+=Math.abs(s)>Math.abs(l)?"l"+l*t.pxmid[0]/t.pxmid[1]+","+l+"H"+(r+t.labelExtraX+a):"l"+t.labelExtraX+","+s+"v"+(l-s)+"h"+a}else i+="V"+(t.yLabelMid+t.labelExtraY)+"h"+a;e.append("path").classed("textline",!0).call(p.stroke,y.outsidetextfont.color).attr({"stroke-width":Math.min(2,y.outsidetextfont.size/8),d:i,fill:"none"})}})})}),setTimeout(function(){u.selectAll("tspan").each(function(){var t=c.select(this);t.attr("dy")&&t.attr("dy",t.attr("dy"))})},0)}},{"../../components/color":540,"../../components/drawing":563,"../../lib/svg_text_utils":647,"../../plots/cartesian/graph_interact":669,"./helpers":817,d3:125}],822:[function(t,e,n){"use strict";var r=t("d3"),o=t("./style_one");e.exports=function(t){t._fullLayout._pielayer.selectAll(".trace").each(function(t){var e=t[0],n=e.trace,i=r.select(this);i.style({opacity:n.opacity}),i.selectAll(".top path.surface").each(function(t){r.select(this).call(o,t,n)})})}},{"./style_one":823,d3:125}],823:[function(t,e,n){"use strict";var r=t("../../components/color");e.exports=function(t,e,n){var o=n.marker.line.color;Array.isArray(o)&&(o=o[e.i]||r.defaultLine);var i=n.marker.line.width||0;Array.isArray(i)&&(i=i[e.i]||0),t.style({"stroke-width":i,fill:e.color}).call(r.stroke,o)}},{"../../components/color":540}],824:[function(t,e,n){"use strict";var r=t("../scattergl/attributes");e.exports={x:r.x,y:r.y,xy:{valType:"data_array"},indices:{valType:"data_array"},xbounds:{valType:"data_array"},ybounds:{valType:"data_array"},text:r.text,marker:{color:{valType:"color",arrayOk:!1},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1},blend:{valType:"boolean",dflt:!1},sizemin:{valType:"number",min:.1,max:2,dflt:.5},sizemax:{valType:"number",min:.1,dflt:20},border:{color:{valType:"color",arrayOk:!1},arearatio:{valType:"number",min:0,max:1,dflt:0}}}}},{"../scattergl/attributes":863}],825:[function(t,e,n){"use strict";function r(t,e){this.scene=t,this.uid=e,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=i(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}function o(t,e){var n=new r(t,e.uid);return n.update(e),n}var i=t("gl-pointcloud2d"),a=t("../../lib/str2rgbarray"),s=t("../scatter/get_trace_color"),l=["xaxis","yaxis"],u=r.prototype;u.handlePick=function(t){var e=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*e],this.pickXYData[2*e+1]]:[this.pickXData[e],this.pickYData[e]],textLabel:Array.isArray(this.textLabels)?this.textLabels[e]:this.textLabels,color:this.color,name:this.name,hoverinfo:this.hoverinfo}},u.update=function(t){this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.updateFast(t),this.color=s(t,{})},u.updateFast=function(t){var e,n,r,o,i,s,l=this.xData=this.pickXData=t.x,u=this.yData=this.pickYData=t.y,c=this.pickXYData=t.xy,f=t.xbounds&&t.ybounds,p=t.indices,h=this.bounds;if(c){if(r=c,e=c.length>>>1,f)h[0]=t.xbounds[0],h[2]=t.xbounds[1],h[1]=t.ybounds[0],h[3]=t.ybounds[1];else for(s=0;s<e;s++)o=r[2*s],i=r[2*s+1],o<h[0]&&(h[0]=o),o>h[2]&&(h[2]=o),i<h[1]&&(h[1]=i),i>h[3]&&(h[3]=i);if(p)n=p;else for(n=new Int32Array(e),s=0;s<e;s++)n[s]=s}else for(e=l.length,r=new Float32Array(2*e),n=new Int32Array(e),s=0;s<e;s++)o=l[s],i=u[s],n[s]=s,r[2*s]=o,r[2*s+1]=i,o<h[0]&&(h[0]=o),o>h[2]&&(h[2]=o),i<h[1]&&(h[1]=i),i>h[3]&&(h[3]=i);this.idToIndex=n,this.pointcloudOptions.idToIndex=n,this.pointcloudOptions.positions=r;var d=a(t.marker.color),m=a(t.marker.border.color),y=t.opacity*t.marker.opacity;d[3]*=y,this.pointcloudOptions.color=d,this.pointcloudOptions.blend=t.marker.blend,m[3]*=y,this.pointcloudOptions.borderColor=m;var v=t.marker.sizemin,g=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=v,this.pointcloudOptions.sizeMax=g,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions),this.expandAxesFast(h,g/2)},u.expandAxesFast=function(t,e){for(var n,r,o,i=e||.5,a=0;a<2;a++)n=this.scene[l[a]],r=n._min,r||(r=[]),r.push({val:t[a],pad:i}),o=n._max,o||(o=[]),o.push({val:t[a+2],pad:i})},u.dispose=function(){this.pointcloud.dispose()},e.exports=o},{"../../lib/str2rgbarray":646,"../scatter/get_trace_color":837,"gl-pointcloud2d":223}],826:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("./attributes");e.exports=function(t,e,n){function i(n,i){return r.coerce(t,e,o,n,i)}i("x"),i("y"),i("xbounds"),i("ybounds"),t.xy&&t.xy instanceof Float32Array&&(e.xy=t.xy),t.indices&&t.indices instanceof Int32Array&&(e.indices=t.indices),i("text"),i("marker.color",n),i("marker.opacity"),i("marker.blend"),i("marker.sizemin"),i("marker.sizemax"),i("marker.border.color",n),i("marker.border.arearatio")}},{"../../lib":633,"./attributes":824}],827:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.calc=t("../scatter3d/calc"),r.plot=t("./convert"),r.moduleType="trace",r.name="pointcloud",r.basePlotModule=t("../../plots/gl2d"),r.categories=["gl2d","showLegend"],r.meta={},e.exports=r},{"../../plots/gl2d":697,"../scatter3d/calc":853,"./attributes":824,"./convert":825,"./defaults":826}],828:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t){var e=t[0].trace,n=e.marker;if(r.mergeArray(e.text,t,"tx"),r.mergeArray(e.textposition,t,"tp"),e.textfont&&(r.mergeArray(e.textfont.size,t,"ts"),r.mergeArray(e.textfont.color,t,"tc"),r.mergeArray(e.textfont.family,t,"tf")),n&&n.line){var o=n.line;r.mergeArray(n.opacity,t,"mo"),r.mergeArray(n.symbol,t,"mx"),r.mergeArray(n.color,t,"mc"),r.mergeArray(o.color,t,"mlc"),r.mergeArray(o.width,t,"mlw")}}},{"../../lib":633}],829:[function(t,e,n){"use strict";var r=t("../../components/colorscale/color_attributes"),o=t("../../components/drawing"),i=(t("./constants"),t("../../lib/extend").extendFlat);e.exports={x:{valType:"data_array"},x0:{valType:"any",dflt:0},dx:{valType:"number",dflt:1},y:{valType:"data_array"},y0:{valType:"any",dflt:0},dy:{valType:"number",dflt:1},ids:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},hoveron:{valType:"flaglist",flags:["points","fills"]},line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:2},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear"},smoothing:{valType:"number",min:0,max:1.3,dflt:1},dash:{valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid"},simplify:{valType:"boolean",dflt:!0}},connectgaps:{valType:"boolean",dflt:!1},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],dflt:"none"},fillcolor:{valType:"color"},marker:i({},{symbol:{valType:"enumerated",values:o.symbolList,dflt:"circle",arrayOk:!0},opacity:{valType:"number",min:0,max:1,arrayOk:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0},maxdisplayed:{valType:"number",min:0,dflt:0},sizeref:{valType:"number",dflt:1},sizemin:{valType:"number",min:0,dflt:0},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter"},showscale:{valType:"boolean",dflt:!1},line:i({},{width:{valType:"number",min:0,arrayOk:!0}},r("marker.line"))},r("marker")),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0},textfont:{family:{valType:"string",noBlank:!0,strict:!0,arrayOk:!0},size:{valType:"number",min:1,arrayOk:!0},color:{valType:"color",arrayOk:!0}},r:{valType:"data_array"},t:{valType:"data_array"},_nestedModules:{error_y:"ErrorBars",error_x:"ErrorBars","marker.colorbar":"Colorbar"}}},{"../../components/colorscale/color_attributes":548,"../../components/drawing":563,"../../lib/extend":627,"./constants":834}],830:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),o=t("../../plots/cartesian/axes"),i=t("../../lib"),a=t("./subtypes"),s=t("./colorscale_calc");e.exports=function(t,e){var n,l,u,c=o.getFromId(t,e.xaxis||"x"),f=o.getFromId(t,e.yaxis||"y"),p=c.makeCalcdata(e,"x"),h=f.makeCalcdata(e,"y"),d=Math.min(p.length,h.length);c._minDtick=0,f._minDtick=0,p.length>d&&p.splice(d,p.length-d),h.length>d&&h.splice(d,h.length-d);var m={padded:!0},y={padded:!0};if(a.hasMarkers(e)){if(n=e.marker,l=n.size,Array.isArray(l)){var v={type:"linear"};o.setConvert(v),l=v.makeCalcdata(e.marker,"size"),l.length>d&&l.splice(d,l.length-d)}var g,b=1.6*(e.marker.sizeref||1);g="area"===e.marker.sizemode?function(t){return Math.max(Math.sqrt((t||0)/b),3)}:function(t){return Math.max((t||0)/b,3)},m.ppad=y.ppad=Array.isArray(l)?l.map(g):g(l)}s(e),!("tozerox"===e.fill||"tonextx"===e.fill&&t.firstscatter)||p[0]===p[d-1]&&h[0]===h[d-1]?e.error_y.visible||["tonexty","tozeroy"].indexOf(e.fill)===-1&&(a.hasMarkers(e)||a.hasText(e))||(m.padded=!1,m.ppad=0):m.tozero=!0,!("tozeroy"===e.fill||"tonexty"===e.fill&&t.firstscatter)||p[0]===p[d-1]&&h[0]===h[d-1]?["tonextx","tozerox"].indexOf(e.fill)!==-1&&(y.padded=!1):y.tozero=!0,
o.expand(c,p,m),o.expand(f,h,y);var _=new Array(d);for(u=0;u<d;u++)_[u]=r(p[u])&&r(h[u])?{x:p[u],y:h[u]}:{x:!1,y:!1},e.ids&&(_[u].id=String(e.ids[u]));return"undefined"!=typeof l&&i.mergeArray(l,_,"ms"),t.firstscatter=!1,_}},{"../../lib":633,"../../plots/cartesian/axes":662,"./colorscale_calc":833,"./subtypes":849,"fast-isnumeric":129}],831:[function(t,e,n){"use strict";e.exports=function(t){for(var e=0;e<t.length;e++){var n=t[e];if("scatter"===n.type){var r=n.fill;if("none"!==r&&"toself"!==r&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var o=e-1;o>=0;o--){var i=t[o];if("scatter"===i.type&&i.xaxis===n.xaxis&&i.yaxis===n.yaxis){i.opacity=void 0;break}}}}}},{}],832:[function(t,e,n){"use strict";var r=t("d3"),o=t("fast-isnumeric"),i=t("../../lib"),a=t("../../plots/plots"),s=t("../../components/colorscale/get_scale"),l=t("../../components/colorbar/draw");e.exports=function(t,e){var n=e[0].trace,u=n.marker,c="cb"+n.uid;if(t._fullLayout._infolayer.selectAll("."+c).remove(),void 0===u||!u.showscale)return void a.autoMargin(t,c);var f=s(u.colorscale),p=u.color,h=u.cmin,d=u.cmax;o(h)||(h=i.aggNums(Math.min,null,p)),o(d)||(d=i.aggNums(Math.max,null,p));var m=e[0].t.cb=l(t,c);m.fillcolor(r.scale.linear().domain(f.map(function(t){return h+t[0]*(d-h)})).range(f.map(function(t){return t[1]}))).filllevels({start:h,end:d,size:(d-h)/254}).options(u.colorbar)()}},{"../../components/colorbar/draw":543,"../../components/colorscale/get_scale":552,"../../lib":633,"../../plots/plots":720,d3:125,"fast-isnumeric":129}],833:[function(t,e,n){"use strict";var r=t("../../components/colorscale/has_colorscale"),o=t("../../components/colorscale/calc"),i=t("./subtypes");e.exports=function(t){i.hasLines(t)&&r(t,"line")&&o(t,t.line.color,"line","c"),i.hasMarkers(t)&&(r(t,"marker")&&o(t,t.marker.color,"marker","c"),r(t,"marker.line")&&o(t,t.marker.line.color,"marker.line","c"))}},{"../../components/colorscale/calc":547,"../../components/colorscale/has_colorscale":553,"./subtypes":849}],834:[function(t,e,n){"use strict";e.exports={PTS_LINESONLY:20}},{}],835:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("./attributes"),i=t("./constants"),a=t("./subtypes"),s=t("./xy_defaults"),l=t("./marker_defaults"),u=t("./line_defaults"),c=t("./line_shape_defaults"),f=t("./text_defaults"),p=t("./fillcolor_defaults"),h=t("../../components/errorbars/defaults");e.exports=function(t,e,n,d){function m(n,i){return r.coerce(t,e,o,n,i)}var y=s(t,e,m),v=y<i.PTS_LINESONLY?"lines+markers":"lines";if(!y)return void(e.visible=!1);m("text"),m("mode",v),m("ids"),a.hasLines(e)&&(u(t,e,n,d,m),c(t,e,m),m("connectgaps"),m("line.simplify")),a.hasMarkers(e)&&l(t,e,n,d,m),a.hasText(e)&&f(t,e,d,m);var g=[];(a.hasMarkers(e)||a.hasText(e))&&(m("marker.maxdisplayed"),g.push("points")),m("fill"),"none"!==e.fill&&(p(t,e,n,m),a.hasLines(e)||c(t,e,m)),"tonext"!==e.fill&&"toself"!==e.fill||g.push("fills"),m("hoveron",g.join("+")||"points"),h(t,e,n,{axis:"y"}),h(t,e,n,{axis:"x",inherit:"y"})}},{"../../components/errorbars/defaults":568,"../../lib":633,"./attributes":829,"./constants":834,"./fillcolor_defaults":836,"./line_defaults":840,"./line_shape_defaults":842,"./marker_defaults":845,"./subtypes":849,"./text_defaults":850,"./xy_defaults":851}],836:[function(t,e,n){"use strict";var r=t("../../components/color");e.exports=function(t,e,n,o){var i=!1;if(e.marker){var a=e.marker.color,s=(e.marker.line||{}).color;a&&!Array.isArray(a)?i=a:s&&!Array.isArray(s)&&(i=s)}o("fillcolor",r.addOpacity((e.line||{}).color||i||n,.5))}},{"../../components/color":540}],837:[function(t,e,n){"use strict";var r=t("../../components/color"),o=t("./subtypes");e.exports=function(t,e){var n,i;if("lines"===t.mode)return n=t.line.color,n&&r.opacity(n)?n:t.fillcolor;if("none"===t.mode)return t.fill?t.fillcolor:"";var a=e.mcc||(t.marker||{}).color,s=e.mlcc||((t.marker||{}).line||{}).color;return i=a&&r.opacity(a)?a:s&&r.opacity(s)&&(e.mlw||((t.marker||{}).line||{}).width)?s:"",i?r.opacity(i)<.3?r.addOpacity(i,.3):i:(n=(t.line||{}).color,n&&r.opacity(n)&&o.hasLines(t)&&t.line.width?n:t.fillcolor)}},{"../../components/color":540,"./subtypes":849}],838:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("../../plots/cartesian/graph_interact"),i=t("../../plots/cartesian/constants"),a=t("../../components/errorbars"),s=t("./get_trace_color"),l=t("../../components/color");e.exports=function(t,e,n,u){var c=t.cd,f=c[0].trace,p=t.xa,h=t.ya,d=p.c2p(e),m=h.c2p(n),y=[d,m];if(f.hoveron.indexOf("points")!==-1){var v=function(t){var e=Math.max(3,t.mrc||0);return Math.max(Math.abs(p.c2p(t.x)-d)-e,1-3/e)},g=function(t){var e=Math.max(3,t.mrc||0);return Math.max(Math.abs(h.c2p(t.y)-m)-e,1-3/e)},b=function(t){var e=Math.max(3,t.mrc||0),n=p.c2p(t.x)-d,r=h.c2p(t.y)-m;return Math.max(Math.sqrt(n*n+r*r)-e,1-3/e)},_=o.getDistanceFunction(u,v,g,b);if(o.getClosest(c,_,t),t.index!==!1){var x=c[t.index],w=p.c2p(x.x,!0),T=h.c2p(x.y,!0),E=x.mrc||1;return r.extendFlat(t,{color:s(f,x),x0:w-E,x1:w+E,xLabelVal:x.x,y0:T-E,y1:T+E,yLabelVal:x.y}),x.tx?t.text=x.tx:f.text&&(t.text=f.text),a.hoverInfo(x,f,t),[t]}}if(f.hoveron.indexOf("fills")!==-1&&f._polygons){var C,k,S,P,M,A,O,D,L,I=f._polygons,j=[],F=!1,R=1/0,N=-(1/0),z=1/0,B=-(1/0);for(C=0;C<I.length;C++)S=I[C],S.contains(y)&&(F=!F,j.push(S),z=Math.min(z,S.ymin),B=Math.max(B,S.ymax));if(F){z=Math.max(z,0),B=Math.min(B,h._length);var U=(z+B)/2;for(C=0;C<j.length;C++)for(P=j[C].pts,k=1;k<P.length;k++)D=P[k-1][1],L=P[k][1],D>U!=L>=U&&(A=P[k-1][0],O=P[k][0],M=A+(O-A)*(U-D)/(L-D),R=Math.min(R,M),N=Math.max(N,M));R=Math.max(R,0),N=Math.min(N,p._length);var W=l.defaultLine;return l.opacity(f.fillcolor)?W=f.fillcolor:l.opacity((f.line||{}).color)&&(W=f.line.color),r.extendFlat(t,{distance:i.MAXDIST+10,x0:R,x1:N,y0:U,y1:U,color:W}),delete t.index,f.text&&!Array.isArray(f.text)?t.text=String(f.text):t.text=f.name,[t]}}}},{"../../components/color":540,"../../components/errorbars":569,"../../lib":633,"../../plots/cartesian/constants":667,"../../plots/cartesian/graph_interact":669,"./get_trace_color":837}],839:[function(t,e,n){"use strict";var r={},o=t("./subtypes");r.hasLines=o.hasLines,r.hasMarkers=o.hasMarkers,r.hasText=o.hasText,r.isBubble=o.isBubble,r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.cleanData=t("./clean_data"),r.calc=t("./calc"),r.arraysToCalcdata=t("./arrays_to_calcdata"),r.plot=t("./plot"),r.colorbar=t("./colorbar"),r.style=t("./style"),r.hoverPoints=t("./hover"),r.selectPoints=t("./select"),r.animatable=!0,r.moduleType="trace",r.name="scatter",r.basePlotModule=t("../../plots/cartesian"),r.categories=["cartesian","symbols","markerColorscale","errorBarsOK","showLegend"],r.meta={},e.exports=r},{"../../plots/cartesian":670,"./arrays_to_calcdata":828,"./attributes":829,"./calc":830,"./clean_data":831,"./colorbar":832,"./defaults":835,"./hover":838,"./plot":846,"./select":847,"./style":848,"./subtypes":849}],840:[function(t,e,n){"use strict";var r=t("../../components/colorscale/has_colorscale"),o=t("../../components/colorscale/defaults");e.exports=function(t,e,n,i,a){var s=(t.marker||{}).color;if(a("line.color",n),r(t,"line"))o(t,e,i,a,{prefix:"line.",cLetter:"c"});else{var l=!Array.isArray(s)&&s||n;a("line.color",l)}a("line.width"),a("line.dash")}},{"../../components/colorscale/defaults":550,"../../components/colorscale/has_colorscale":553}],841:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/axes");e.exports=function(t,e){function n(e){var n=w.c2p(t[e].x),r=T.c2p(t[e].y);return n!==M&&r!==M&&[n,r]}function o(t){var e=t[0]/w._length,n=t[1]/T._length;return(1+10*Math.max(0,-e,e-1,-n,n-1))*k}function i(t,e){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}var a,s,l,u,c,f,p,h,d,m,y,v,g,b,_,x,w=e.xaxis,T=e.yaxis,E=e.simplify,C=e.connectGaps,k=e.baseTolerance,S=e.linear,P=[],M=r.BADNUM,A=.2,O=new Array(t.length),D=0;for(E||(k=A=-1),a=0;a<t.length;a++)if(s=n(a)){for(D=0,O[D++]=s,a++;a<t.length;a++){if(u=n(a),!u){if(C)continue;break}if(S){if(p=i(u,s),!(p<o(u)*A)){for(d=[(u[0]-s[0])/p,(u[1]-s[1])/p],c=s,y=p,v=b=_=0,h=!1,l=u,a++;a<t.length;a++){if(f=n(a),!f){if(C)continue;break}if(m=[f[0]-s[0],f[1]-s[1]],x=m[0]*d[1]-m[1]*d[0],b=Math.min(b,x),_=Math.max(_,x),_-b>o(f))break;l=f,g=m[0]*d[0]+m[1]*d[1],g>y?(y=g,u=f,h=!1):g<v&&(v=g,c=f,h=!0)}if(h?(O[D++]=u,l!==c&&(O[D++]=c)):(c!==s&&(O[D++]=c),l!==u&&(O[D++]=u)),O[D++]=l,a>=t.length||!f)break;O[D++]=f,s=f}}else O[D++]=u}P.push(O.slice(0,D))}return P}},{"../../plots/cartesian/axes":662}],842:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=n("line.shape");"spline"===r&&n("line.smoothing")}},{}],843:[function(t,e,n){"use strict";e.exports=function(t,e,n){for(var r,o,i=null,a=0;a<n.length;++a)r=n[a],o=r[0].trace,o.visible===!0?(o._nexttrace=null,["tonextx","tonexty","tonext"].indexOf(o.fill)!==-1&&(o._prevtrace=i,i&&(i._nexttrace=o)),i=o):o._prevtrace=o._nexttrace=null}},{}],844:[function(t,e,n){"use strict";var r=t("fast-isnumeric");e.exports=function(t){var e=t.marker,n=e.sizeref||1,o=e.sizemin||0,i="area"===e.sizemode?function(t){return Math.sqrt(t/n)}:function(t){return t/n};return function(t){var e=i(t/2);return r(e)&&e>0?Math.max(e,o):0}}},{"fast-isnumeric":129}],845:[function(t,e,n){"use strict";var r=t("../../components/color"),o=t("../../components/colorscale/has_colorscale"),i=t("../../components/colorscale/defaults"),a=t("./subtypes");e.exports=function(t,e,n,s,l){var u,c=a.isBubble(t),f=(t.line||{}).color;f&&(n=f),l("marker.symbol"),l("marker.opacity",c?.7:1),l("marker.size"),l("marker.color",n),o(t,"marker")&&i(t,e,s,l,{prefix:"marker.",cLetter:"c"}),u=f&&!Array.isArray(f)&&e.marker.color!==f?f:c?r.background:r.defaultLine,l("marker.line.color",u),o(t,"marker.line")&&i(t,e,s,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width",c?1:0),c&&(l("marker.sizeref"),l("marker.sizemin"),l("marker.sizemode"))}},{"../../components/color":540,"../../components/colorscale/defaults":550,"../../components/colorscale/has_colorscale":553,"./subtypes":849}],846:[function(t,e,n){"use strict";function r(t,e){var n;e.selectAll("g.trace").each(function(t){var e=a.select(this);if(n=t[0].trace,n._nexttrace){if(n._nextFill=e.select(".js-fill.js-tonext"),!n._nextFill.size()){var r=":first-child";e.select(".js-fill.js-tozero").size()&&(r+=" + *"),n._nextFill=e.insert("path",r).attr("class","js-fill js-tonext")}}else e.selectAll(".js-fill.js-tonext").remove(),n._nextFill=null;n.fill&&("tozero"===n.fill.substr(0,6)||"toself"===n.fill||"to"===n.fill.substr(0,2)&&!n._prevtrace)?(n._ownFill=e.select(".js-fill.js-tozero"),n._ownFill.size()||(n._ownFill=e.insert("path",":first-child").attr("class","js-fill js-tozero"))):(e.selectAll(".js-fill.js-tozero").remove(),n._ownFill=null)})}function o(t,e,n,r,o,h,m){function y(t){return E?t.transition():t}function v(t){return t.filter(function(t){return t.vis})}function g(t){return t.id}function b(t){if(t.ids)return g}function _(){return!1}function x(t){var e,n,r=t[0].trace,o=a.select(this),i=c.hasMarkers(r),u=c.hasText(r),f=b(r),p=_,h=_;i&&(p=r.marker.maxdisplayed?v:s.identity),u&&(h=r.marker.maxdisplayed?v:s.identity),n=o.selectAll("path.point"),e=n.data(p,f);var d=e.enter().append("path").classed("point",!0);d.call(l.pointStyle,r).call(l.translatePoints,C,k,r),E&&d.style("opacity",0).transition().style("opacity",1),e.each(function(t){var e=y(a.select(this));l.translatePoint(t,e,C,k),l.singlePointStyle(t,e,r)}),E?e.exit().transition().style("opacity",0).remove():e.exit().remove(),n=o.selectAll("g"),e=n.data(h,f),e.enter().append("g").append("text"),e.each(function(t){var e=a.select(this).select("text");l.translatePoint(t,e,C,k)}),e.exit().remove()}var w,T;i(t,e,n,r,o);var E=!!m&&m.duration>0,C=n.x(),k=n.y(),S=r[0].trace,P=S.line,M=a.select(h);if(M.call(u.plot,n,m),S.visible===!0){var A,O,D=S.fill.charAt(S.fill.length-1);"x"!==D&&"y"!==D&&(D=""),r[0].node3=M,f(r);var L="",I=[],j=S._prevtrace;j&&(L=j._prevRevpath||"",O=j._nextFill,I=j._polygons);var F,R,N,z,B,U,W,q,V,H="",G="",Y=[],Z=[],X=s.noop;if(A=S._ownFill,c.hasLines(S)||"none"!==S.fill){for(O&&O.datum(r),["hv","vh","hvh","vhv"].indexOf(P.shape)!==-1?(N=l.steps(P.shape),z=l.steps(P.shape.split("").reverse().join(""))):N=z="spline"===P.shape?function(t){var e=t[t.length-1];return t[0][0]===e[0]&&t[0][1]===e[1]?l.smoothclosed(t.slice(1),P.smoothing):l.smoothopen(t,P.smoothing)}:function(t){return"M"+t.join("L")},B=function(t){return z(t.reverse())},Y=p(r,{xaxis:C,yaxis:k,connectGaps:S.connectgaps,baseTolerance:Math.max(P.width||1,3)/4,linear:"linear"===P.shape,simplify:P.simplify}),V=S._polygons=new Array(Y.length),T=0;T<Y.length;T++)S._polygons[T]=d(Y[T]);Y.length&&(U=Y[0][0],W=Y[Y.length-1],q=W[W.length-1]),Z=Y.filter(function(t){return t.length>1}),X=function(t){return function(e){if(F=N(e),R=B(e),H?D?(H+="L"+F.substr(1),G=R+("L"+G.substr(1))):(H+="Z"+F,G=R+"Z"+G):(H=F,G=R),c.hasLines(S)&&e.length>1){var n=a.select(this);if(n.datum(r),t)y(n.style("opacity",0).attr("d",F).call(l.lineGroupStyle)).style("opacity",1);else{var o=y(n);o.attr("d",F),l.singleLineStyle(r,o)}}}}}var K=M.selectAll(".js-line").data(Z);y(K.exit()).style("opacity",0).remove(),K.each(X(!1)),K.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(l.lineGroupStyle).each(X(!0)),Y.length&&(A?U&&q&&(D?("y"===D?U[1]=q[1]=k.c2p(0,!0):"x"===D&&(U[0]=q[0]=C.c2p(0,!0)),y(A).attr("d","M"+q+"L"+U+"L"+H.substr(1))):y(A).attr("d",H+"Z")):"tonext"===S.fill.substr(0,6)&&H&&L&&("tonext"===S.fill?y(O).attr("d",H+"Z"+L+"Z"):y(O).attr("d",H+"L"+L.substr(1)+"Z"),S._polygons=S._polygons.concat(I)),S._prevRevpath=G,S._prevPolygons=V);var Q=M.selectAll(".points");w=Q.data([r]),Q.each(x),w.enter().append("g").classed("points",!0).each(x),w.exit().remove()}}function i(t,e,n,r,o){var i=n.x(),s=n.y(),l=a.extent(i.range.map(i.l2c)),u=a.extent(s.range.map(s.l2c)),f=r[0].trace;if(c.hasMarkers(f)){var p=f.marker.maxdisplayed;if(0!==p){var h=r.filter(function(t){return t.x>=l[0]&&t.x<=l[1]&&t.y>=u[0]&&t.y<=u[1]}),d=Math.ceil(h.length/p),m=0;o.forEach(function(t,n){var r=t[0].trace;c.hasMarkers(r)&&r.marker.maxdisplayed>0&&n<e&&m++});var y=Math.round(m*d/3+Math.floor(m/3)*d/7.1);r.forEach(function(t){delete t.vis}),h.forEach(function(t,e){0===Math.round((e+y)%d)&&(t.vis=!0)})}}}var a=t("d3"),s=t("../../lib"),l=t("../../components/drawing"),u=t("../../components/errorbars"),c=t("./subtypes"),f=t("./arrays_to_calcdata"),p=t("./line_points"),h=t("./link_traces"),d=t("../../lib/polygon").tester;e.exports=function(t,e,n,i,s){var l,u,c,f,p,d=e.plot.select("g.scatterlayer"),m=!i,y=!!i&&i.duration>0;for(c=d.selectAll("g.trace"),f=c.data(n,function(t){return t[0].trace.uid}),f.enter().append("g").attr("class",function(t){return"trace scatter trace"+t[0].trace.uid}).style("stroke-miterlimit",2),h(t,e,n),r(t,d),l=0,u=[];l<n.length;l++)u[l]=n[l][0].trace.uid;if(d.selectAll("g.trace").sort(function(t,e){var n=u.indexOf(t[0].trace.uid),r=u.indexOf(e[0].trace.uid);return n>r?1:-1}),y){s&&(p=s());var v=a.transition().duration(i.duration).ease(i.easing).each("end",function(){p&&p()}).each("interrupt",function(){p&&p()});v.each(function(){d.selectAll("g.trace").each(function(r,a){o(t,a,e,r,n,this,i)})})}else d.selectAll("g.trace").each(function(r,a){o(t,a,e,r,n,this,i)});m&&f.exit().remove(),d.selectAll("path:not([d])").remove()}},{"../../components/drawing":563,"../../components/errorbars":569,"../../lib":633,"../../lib/polygon":640,"./arrays_to_calcdata":828,"./line_points":841,"./link_traces":843,"./subtypes":849,d3:125}],847:[function(t,e,n){"use strict";var r=t("./subtypes"),o=.2;e.exports=function(t,e){var n,i,a,s,l=t.cd,u=t.xaxis,c=t.yaxis,f=[],p=l[0].trace,h=p.index,d=p.marker,m=!r.hasMarkers(p)&&!r.hasText(p);if(p.visible===!0&&!m){var y=Array.isArray(d.opacity)?1:d.opacity;if(e===!1)for(n=0;n<l.length;n++)l[n].dim=0;else for(n=0;n<l.length;n++)i=l[n],a=u.c2p(i.x),s=c.c2p(i.y),e.contains([a,s])?(f.push({curveNumber:h,pointNumber:n,x:i.x,y:i.y,id:i.id}),i.dim=0):i.dim=1;return l[0].node3.selectAll("path.point").style("opacity",function(t){return((t.mo+1||y+1)-1)*(t.dim?o:1)}),l[0].node3.selectAll("text").style("opacity",function(t){return t.dim?o:1}),f}}},{"./subtypes":849}],848:[function(t,e,n){"use strict";var r=t("d3"),o=t("../../components/drawing"),i=t("../../components/errorbars");e.exports=function(t){var e=r.select(t).selectAll("g.trace.scatter");e.style("opacity",function(t){return t[0].trace.opacity}),e.selectAll("g.points").each(function(t){r.select(this).selectAll("path.point").call(o.pointStyle,t.trace||t[0].trace),r.select(this).selectAll("text").call(o.textPointStyle,t.trace||t[0].trace)}),e.selectAll("g.trace path.js-line").call(o.lineGroupStyle),e.selectAll("g.trace path.js-fill").call(o.fillGroupStyle),e.call(i.style)}},{"../../components/drawing":563,"../../components/errorbars":569,d3:125}],849:[function(t,e,n){"use strict";var r=t("../../lib");e.exports={hasLines:function(t){return t.visible&&t.mode&&t.mode.indexOf("lines")!==-1},hasMarkers:function(t){return t.visible&&t.mode&&t.mode.indexOf("markers")!==-1},hasText:function(t){return t.visible&&t.mode&&t.mode.indexOf("text")!==-1},isBubble:function(t){return r.isPlainObject(t.marker)&&Array.isArray(t.marker.size)}}},{"../../lib":633}],850:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t,e,n,o){o("textposition"),r.coerceFont(o,"textfont",n.font)}},{"../../lib":633}],851:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r,o=n("x"),i=n("y");if(o)i?(r=Math.min(o.length,i.length),r<o.length&&(e.x=o.slice(0,r)),r<i.length&&(e.y=i.slice(0,r))):(r=o.length,n("y0"),n("dy"));else{if(!i)return 0;r=e.y.length,n("x0"),n("dx")}return r}},{}],852:[function(t,e,n){"use strict";function r(t){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}}var o=t("../scatter/attributes"),i=t("../../components/colorscale/color_attributes"),a=t("../../constants/gl_markers"),s=t("../../lib/extend").extendFlat,l=o.line,u=o.marker,c=u.line;e.exports={x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},text:s({},o.text,{}),mode:s({},o.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:r("x"),y:r("y"),z:r("z")},connectgaps:o.connectgaps,line:s({},{width:l.width,dash:l.dash,showscale:{valType:"boolean",dflt:!1}},i("line")),marker:s({},{symbol:{valType:"enumerated",values:Object.keys(a),dflt:"circle",arrayOk:!0},size:s({},u.size,{dflt:8}),sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:s({},u.opacity,{arrayOk:!1}),showscale:u.showscale,line:s({},{width:s({},c.width,{arrayOk:!1})},i("marker.line"))},i("marker")),textposition:s({},o.textposition,{dflt:"top center"}),textfont:o.textfont,_nestedModules:{error_x:"ErrorBars",error_y:"ErrorBars",error_z:"ErrorBars","marker.colorbar":"Colorbar"}}},{"../../components/colorscale/color_attributes":548,"../../constants/gl_markers":618,"../../lib/extend":627,"../scatter/attributes":829}],853:[function(t,e,n){"use strict";var r=t("../scatter/arrays_to_calcdata"),o=t("../scatter/colorscale_calc");e.exports=function(t,e){var n=[{x:!1,y:!1,trace:e,t:{}}];return r(n),o(e),n}},{"../scatter/arrays_to_calcdata":828,"../scatter/colorscale_calc":833}],854:[function(t,e,n){"use strict";function r(t,e,n){if(!e||!e.visible)return null;for(var r=a(e),o=new Array(t.length),i=0;i<t.length;i++){var s=r(+t[i],i);o[i]=[-s[0]*n,s[1]*n]}return o}function o(t){for(var e=0;e<t.length;e++)if(t[e])return t[e].length;return 0}function i(t,e){var n=[r(t.x,t.error_x,e[0]),r(t.y,t.error_y,e[1]),r(t.z,t.error_z,e[2])],i=o(n);if(0===i)return null;for(var a=new Array(i),s=0;s<i;s++){for(var l=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(n[u])for(var c=0;c<2;c++)l[c][u]=n[u][s][c];a[s]=l}return a}var a=t("../../components/errorbars/compute_error");e.exports=i},{"../../components/errorbars/compute_error":567}],855:[function(t,e,n){"use strict";function r(t,e){this.scene=t,this.uid=e,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}function o(t,e,n){var r,o=(n+1)%3,i=(n+2)%3,a=[],s=[];for(r=0;r<t.length;++r){var l=t[r];!isNaN(l[o])&&isFinite(l[o])&&!isNaN(l[i])&&isFinite(l[i])&&(a.push([l[o],l[i]]),s.push(r))}var u=v(a);for(r=0;r<u.length;++r)for(var c=u[r],f=0;f<c.length;++f)c[f]=s[c[f]];return{positions:t,cells:u,meshColor:e}}function i(t){for(var e=[0,0,0],n=[[0,0,0],[0,0,0],[0,0,0]],r=[0,0,0],o=0;o<3;o++){var i=t[o];i&&i.copy_zstyle!==!1&&(i=t[2]),i&&(e[o]=i.width/2,n[o]=b(i.color),r=i.thickness)}return{capSize:e,color:n,lineWidth:r}}function a(t){var e=[0,0];return Array.isArray(t)?[0,-1]:(t.indexOf("bottom")>=0&&(e[1]+=1),t.indexOf("top")>=0&&(e[1]-=1),t.indexOf("left")>=0&&(e[0]-=1),t.indexOf("right")>=0&&(e[0]+=1),e)}function s(t,e){return e(4*t)}function l(t){return T[t]}function u(t,e,n,r,o){var i=null;if(Array.isArray(t)){i=[];for(var a=0;a<e;a++)void 0===t[a]?i[a]=r:i[a]=n(t[a],o)}else i=n(t,g.identity);return i}function c(t,e){var n,r,o,c,f,p,h=[],d=t.fullSceneLayout,m=t.dataScale,y=d.xaxis,v=d.yaxis,w=d.zaxis,T=e.marker,C=e.line,k=e.x||[],S=e.y||[],P=e.z||[],M=k.length;for(r=0;r<M;r++)o=y.d2l(k[r])*m[0],c=v.d2l(S[r])*m[1],f=w.d2l(P[r])*m[2],h[r]=[o,c,f];if(Array.isArray(e.text))p=e.text;else if(void 0!==e.text)for(p=new Array(M),r=0;r<M;r++)p[r]=e.text;if(n={position:h,mode:e.mode,text:p},"line"in e&&(n.lineColor=_(C,1,M),n.lineWidth=C.width,n.lineDashes=C.dash),"marker"in e){var A=x(e);n.scatterColor=_(T,1,M),n.scatterSize=u(T.size,M,s,20,A),n.scatterMarker=u(T.symbol,M,l,""),n.scatterLineWidth=T.line.width,n.scatterLineColor=_(T.line,1,M),n.scatterAngle=0}"textposition"in e&&(n.textOffset=a(e.textposition),n.textColor=_(e.textfont,1,M),n.textSize=u(e.textfont.size,M,g.identity,12),n.textFont=e.textfont.family,n.textAngle=0);var O=["x","y","z"];for(n.project=[!1,!1,!1],n.projectScale=[1,1,1],n.projectOpacity=[1,1,1],r=0;r<3;++r){var D=e.projection[O[r]];(n.project[r]=D.show)&&(n.projectOpacity[r]=D.opacity,n.projectScale[r]=D.scale)}n.errorBounds=E(e,m);var L=i([e.error_x,e.error_y,e.error_z]);return n.errorColor=L.color,n.errorLineWidth=L.lineWidth,n.errorCapSize=L.capSize,n.delaunayAxis=e.surfaceaxis,n.delaunayColor=b(e.surfacecolor),n}function f(t){if(Array.isArray(t)){var e=t[0];return Array.isArray(e)&&(t=e),"rgb("+t.slice(0,3).map(function(t){return Math.round(255*t)})+")"}return null}function p(t,e){var n=new r(t,e.uid);return n.update(e),n}var h=t("gl-line3d"),d=t("gl-scatter3d"),m=t("gl-error3d"),y=t("gl-mesh3d"),v=t("delaunay-triangulate"),g=t("../../lib"),b=t("../../lib/str2rgbarray"),_=t("../../lib/gl_format_color"),x=t("../scatter/make_bubble_size_func"),w=t("../../constants/gl3d_dashes"),T=t("../../constants/gl_markers"),E=t("./calc_errors"),C=r.prototype;C.handlePick=function(t){if(t.object&&(t.object===this.linePlot||t.object===this.delaunayMesh||t.object===this.textMarkers||t.object===this.scatterPlot)){t.object.highlight&&t.object.highlight(null),this.scatterPlot&&(t.object=this.scatterPlot,this.scatterPlot.highlight(t.data)),this.textLabels&&void 0!==this.textLabels[t.data.index]?t.textLabel=this.textLabels[t.data.index]:t.textLabel="";var e=t.data.index;return t.traceCoordinate=[this.data.x[e],this.data.y[e],this.data.z[e]],!0}},C.update=function(t){var e,n,r,i,a=this.scene.glplot.gl,s=w.solid;this.data=t;var l=c(this.scene,t);"mode"in l&&(this.mode=l.mode),"lineDashes"in l&&l.lineDashes in w&&(s=w[l.lineDashes]),this.color=f(l.scatterColor)||f(l.lineColor),this.dataPoints=l.position,e={gl:a,position:l.position,color:l.lineColor,lineWidth:l.lineWidth||1,dashes:s[0],dashScale:s[1],opacity:t.opacity,connectGaps:t.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(e):(this.linePlot=h(e),this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var u=t.opacity;if(t.marker&&t.marker.opacity&&(u*=t.marker.opacity),n={gl:a,position:l.position,color:l.scatterColor,size:l.scatterSize,glyph:l.scatterMarker,opacity:u,orthographic:!0,lineWidth:l.scatterLineWidth,lineColor:l.scatterLineColor,project:l.project,projectScale:l.projectScale,projectOpacity:l.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(n):(this.scatterPlot=d(n),this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),i={gl:a,position:l.position,glyph:l.text,color:l.textColor,size:l.textSize,angle:l.textAngle,alignment:l.textOffset,font:l.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:t.opacity},this.textLabels=l.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(i):(this.textMarkers=d(i),this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),r={gl:a,position:l.position,color:l.errorColor,error:l.errorBounds,lineWidth:l.errorLineWidth,capSize:l.errorCapSize,opacity:t.opacity},this.errorBars?l.errorBounds?this.errorBars.update(r):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):l.errorBounds&&(this.errorBars=m(r),this.scene.glplot.add(this.errorBars)),l.delaunayAxis>=0){var p=o(l.position,l.delaunayColor,l.delaunayAxis);p.opacity=t.opacity,this.delaunayMesh?this.delaunayMesh.update(p):(p.gl=a,this.delaunayMesh=y(p),this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},C.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},e.exports=p},{"../../constants/gl3d_dashes":617,"../../constants/gl_markers":618,"../../lib":633,"../../lib/gl_format_color":631,"../../lib/str2rgbarray":646,"../scatter/make_bubble_size_func":844,"./calc_errors":854,"delaunay-triangulate":126,"gl-error3d":133,"gl-line3d":139,"gl-mesh3d":162,"gl-scatter3d":233}],856:[function(t,e,n){"use strict";function r(t,e,n){var r=0,o=n("x"),i=n("y"),a=n("z");return o&&i&&a&&(r=Math.min(o.length,i.length,a.length),r<o.length&&(e.x=o.slice(0,r)),r<i.length&&(e.y=i.slice(0,r)),r<a.length&&(e.z=a.slice(0,r))),r}var o=t("../../lib"),i=t("../scatter/subtypes"),a=t("../scatter/marker_defaults"),s=t("../scatter/line_defaults"),l=t("../scatter/text_defaults"),u=t("../../components/errorbars/defaults"),c=t("./attributes");e.exports=function(t,e,n,f){function p(n,r){return o.coerce(t,e,c,n,r)}var h=r(t,e,p);if(!h)return void(e.visible=!1);p("text"),p("mode"),i.hasLines(e)&&(p("connectgaps"),s(t,e,n,f,p)),i.hasMarkers(e)&&a(t,e,n,f,p),i.hasText(e)&&l(t,e,f,p);var d=(e.line||{}).color,m=(e.marker||{}).color;p("surfaceaxis")>=0&&p("surfacecolor",d||m);for(var y=["x","y","z"],v=0;v<3;++v){var g="projection."+y[v];p(g+".show")&&(p(g+".opacity"),p(g+".scale"))}u(t,e,n,{axis:"z"}),u(t,e,n,{axis:"y",inherit:"z"}),u(t,e,n,{axis:"x",inherit:"z"})}},{"../../components/errorbars/defaults":568,"../../lib":633,"../scatter/line_defaults":840,"../scatter/marker_defaults":845,"../scatter/subtypes":849,"../scatter/text_defaults":850,"./attributes":852}],857:[function(t,e,n){"use strict";var r={};r.plot=t("./convert"),r.attributes=t("./attributes"),r.markerSymbols=t("../../constants/gl_markers"),r.supplyDefaults=t("./defaults"),r.colorbar=t("../scatter/colorbar"),r.calc=t("./calc"),r.moduleType="trace",r.name="scatter3d",r.basePlotModule=t("../../plots/gl3d"),r.categories=["gl3d","symbols","markerColorscale","showLegend"],r.meta={},e.exports=r},{"../../constants/gl_markers":618,"../../plots/gl3d":700,"../scatter/colorbar":832,"./attributes":852,"./calc":853,"./convert":855,"./defaults":856}],858:[function(t,e,n){"use strict";var r=t("../scatter/attributes"),o=t("../../plots/attributes"),i=t("../../components/colorscale/color_attributes"),a=t("../../lib/extend").extendFlat,s=r.marker,l=r.line,u=s.line;e.exports={lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names"],dflt:"ISO-3"},mode:a({},r.mode,{dflt:"markers"}),text:a({},r.text,{}),line:{color:l.color,width:l.width,dash:l.dash},marker:a({},{symbol:s.symbol,opacity:s.opacity,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,showscale:s.showscale,line:a({},{width:u.width},i("marker.line"))},i("marker")),textfont:r.textfont,textposition:r.textposition,hoverinfo:a({},o.hoverinfo,{flags:["lon","lat","location","text","name"]}),_nestedModules:{"marker.colorbar":"Colorbar"}}},{"../../components/colorscale/color_attributes":548,"../../lib/extend":627,"../../plots/attributes":660,"../scatter/attributes":829}],859:[function(t,e,n){"use strict";var r=t("../scatter/colorscale_calc");e.exports=function(t,e){var n=[{x:!1,y:!1,trace:e,t:{}}];return r(e),n}},{"../scatter/colorscale_calc":833}],860:[function(t,e,n){"use strict";function r(t,e,n){var r,o,i=0,a=n("locations");return a?(n("locationmode"),i=a.length):(r=n("lon")||[],o=n("lat")||[],i=Math.min(r.length,o.length),i<r.length&&(e.lon=r.slice(0,i)),i<o.length&&(e.lat=o.slice(0,i)),i)}var o=t("../../lib"),i=t("../scatter/subtypes"),a=t("../scatter/marker_defaults"),s=t("../scatter/line_defaults"),l=t("../scatter/text_defaults"),u=t("./attributes");e.exports=function(t,e,n,c){function f(n,r){return o.coerce(t,e,u,n,r)}var p=r(t,e,f);return p?(f("text"),f("mode"),i.hasLines(e)&&s(t,e,n,c,f),i.hasMarkers(e)&&a(t,e,n,c,f),i.hasText(e)&&l(t,e,c,f),void f("hoverinfo",1===c._dataLength?"lon+lat+location+text":void 0)):void(e.visible=!1)}},{"../../lib":633,"../scatter/line_defaults":840,"../scatter/marker_defaults":845,"../scatter/subtypes":849,"../scatter/text_defaults":850,"./attributes":858}],861:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.colorbar=t("../scatter/colorbar"),r.calc=t("./calc"),r.plot=t("./plot").plot,r.moduleType="trace",r.name="scattergeo",r.basePlotModule=t("../../plots/geo"),r.categories=["geo","symbols","markerColorscale","showLegend"],r.meta={},e.exports=r},{"../../plots/geo":685,"../scatter/colorbar":832,"./attributes":858,"./calc":859,"./defaults":860,"./plot":862}],862:[function(t,e,n){"use strict";function r(t,e,n){function r(t,r){p(t,e,r,n)}var o=t.marker;if(r(t.text,"tx"),r(t.textposition,"tp"),t.textfont&&(r(t.textfont.size,"ts"),r(t.textfont.color,"tc"),r(t.textfont.family,"tf")),o&&o.line){var i=o.line;r(o.opacity,"mo"),r(o.symbol,"mx"),r(o.color,"mc"),r(o.size,"ms"),r(i.color,"mlc"),r(i.width,"mlw")}}function o(t){for(var e=t.lon.length,n=new Array(e),r=0;r<e;r++)n[r]=[t.lon[r],t.lat[r]];return{type:"LineString",coordinates:n,trace:t}}function i(t,e){function n(e){var n=t.mockAxis;return u.tickText(n,n.c2l(e),"hover").text+""}var r=e.hoverinfo;if("none"===r)return function(t){delete t.textLabel};var o="all"===r?y.hoverinfo.flags:r.split("+"),i=o.indexOf("location")!==-1&&Array.isArray(e.locations),a=o.indexOf("lon")!==-1,s=o.indexOf("lat")!==-1,l=o.indexOf("text")!==-1;return function(t){var r=[];i?r.push(t.location):a&&s?r.push("("+n(t.lon)+", "+n(t.lat)+")"):a?r.push("lon: "+n(t.lon)):s&&r.push("lat: "+n(t.lat)),l&&r.push(t.tx||e.text),t.textLabel=r.join("<br>")}}function a(t){var e=Array.isArray(t.locations);return function(n,r){return{points:[{data:t._input,fullData:t,curveNumber:t.index,
pointNumber:r,lon:n.lon,lat:n.lat,location:e?n.location:null}]}}}var s=t("d3"),l=t("../../plots/cartesian/graph_interact"),u=t("../../plots/cartesian/axes"),c=t("../../lib/topojson_utils").getTopojsonFeatures,f=t("../../lib/geo_location_utils").locationToFeature,p=t("../../lib/array_to_calc_item"),h=t("../../components/color"),d=t("../../components/drawing"),m=t("../scatter/subtypes"),y=t("./attributes"),v=e.exports={};v.calcGeoJSON=function(t,e){var n,o,i,a,s=[],l=Array.isArray(t.locations);l?(a=t.locations,n=a.length,o=c(t,e),i=function(t,e){var n=f(t.locationmode,a[e],o);return void 0!==n?n.properties.ct:void 0}):(n=t.lon.length,i=function(t,e){return[t.lon[e],t.lat[e]]});for(var u=0;u<n;u++){var p=i(t,u);if(p){var h={lon:p[0],lat:p[1],location:l?t.locations[u]:null};r(t,h,u),s.push(h)}}return s.length>0&&(s[0].trace=t),s},v.plot=function(t,e){var n=t.framework.select(".scattergeolayer").selectAll("g.trace.scattergeo").data(e,function(t){return t.uid});n.enter().append("g").attr("class","trace scattergeo"),n.exit().remove(),n.selectAll("*").remove(),n.each(function(t){var e=s.select(this);m.hasLines(t)&&e.selectAll("path.js-line").data([o(t)]).enter().append("path").classed("js-line",!0)}),n.each(function(e){function n(n,r){if(t.showHover){var o=t.projection([n.lon,n.lat]);p(n),l.loneHover({x:o[0],y:o[1],name:y?e.name:void 0,text:n.textLabel,color:n.mc||(e.marker||{}).color},{container:t.hoverContainer.node()}),g=h(n,r),t.graphDiv.emit("plotly_hover",g)}}function r(e,n){t.graphDiv.emit("plotly_click",h(e,n))}var o=s.select(this),u=m.hasMarkers(e),c=m.hasText(e);if(u||c){var f=v.calcGeoJSON(e,t.topojson),p=i(t,e),h=a(e),d=e.hoverinfo,y="all"===d||d.indexOf("name")!==-1,g=null;u&&o.selectAll("path.point").data(f).enter().append("path").classed("point",!0).on("mouseover",n).on("click",r).on("mouseout",function(){l.loneUnhover(t.hoverContainer),t.graphDiv.emit("plotly_unhover",g)}).on("mousedown",function(){l.loneUnhover(t.hoverContainer)}).on("mouseup",n),c&&o.selectAll("g").data(f).enter().append("g").append("text")}}),v.style(t)},v.style=function(t){var e=t.framework.selectAll("g.trace.scattergeo");e.style("opacity",function(t){return t.opacity}),e.each(function(t){s.select(this).selectAll("path.point").call(d.pointStyle,t),s.select(this).selectAll("text").call(d.textPointStyle,t)}),e.selectAll("path.js-line").style("fill","none").each(function(t){var e=t.trace,n=e.line||{};s.select(this).call(h.stroke,n.color).call(d.dashLine,n.dash||"",n.width||0)})}},{"../../components/color":540,"../../components/drawing":563,"../../lib/array_to_calc_item":623,"../../lib/geo_location_utils":630,"../../lib/topojson_utils":648,"../../plots/cartesian/axes":662,"../../plots/cartesian/graph_interact":669,"../scatter/subtypes":849,"./attributes":858,d3:125}],863:[function(t,e,n){"use strict";var r=t("../scatter/attributes"),o=t("../../components/colorscale/color_attributes"),i=t("../../constants/gl2d_dashes"),a=t("../../constants/gl_markers"),s=t("../../lib/extend").extendFlat,l=t("../../lib/extend").extendDeep,u=r.line,c=r.marker,f=c.line;e.exports={x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,text:s({},r.text,{}),mode:{valType:"flaglist",flags:["lines","markers"],extras:["none"]},line:{color:u.color,width:u.width,dash:{valType:"enumerated",values:Object.keys(i),dflt:"solid"}},marker:l({},o("marker"),{symbol:{valType:"enumerated",values:Object.keys(a),dflt:"circle",arrayOk:!0},size:c.size,sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,opacity:c.opacity,showscale:c.showscale,line:l({},o("marker.line"),{width:f.width})}),connectgaps:r.connectgaps,fill:s({},r.fill,{values:["none","tozeroy","tozerox"]}),fillcolor:r.fillcolor,_nestedModules:{error_x:"ErrorBars",error_y:"ErrorBars","marker.colorbar":"Colorbar"}}},{"../../components/colorscale/color_attributes":548,"../../constants/gl2d_dashes":616,"../../constants/gl_markers":618,"../../lib/extend":627,"../scatter/attributes":829}],864:[function(t,e,n){"use strict";function r(t,e){this.scene=t,this.uid=e,this.type="scattergl",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.connectgaps=!0,this.idToIndex=[],this.bounds=[0,0,0,0],this.hasLines=!1,this.lineOptions={positions:new Float32Array(0),color:[0,0,0,1],width:1,fill:[!1,!1,!1,!1],fillColor:[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],dashes:[1]},this.line=p(t.glplot,this.lineOptions),this.line._trace=this,this.hasErrorX=!1,this.errorXOptions={positions:new Float32Array(0),errors:new Float32Array(0),lineWidth:1,capSize:0,color:[0,0,0,1]},this.errorX=h(t.glplot,this.errorXOptions),this.errorX._trace=this,this.hasErrorY=!1,this.errorYOptions={positions:new Float32Array(0),errors:new Float32Array(0),lineWidth:1,capSize:0,color:[0,0,0,1]},this.errorY=h(t.glplot,this.errorYOptions),this.errorY._trace=this,this.hasMarkers=!1,this.scatterOptions={positions:new Float32Array(0),sizes:[],colors:[],glyphs:[],borderWidths:[],borderColors:[],size:12,color:[0,0,0,1],borderSize:1,borderColor:[0,0,0,1]},this.scatter=c(t.glplot,this.scatterOptions),this.scatter._trace=this,this.fancyScatter=f(t.glplot,this.scatterOptions),this.fancyScatter._trace=this}function o(t,e,n){return Array.isArray(e)||(e=[e]),i(t,e,n)}function i(t,e,n){for(var r=new Array(n),o=e[0],i=0;i<n;++i)r[i]=t(i>=e.length?o:e[i]);return r}function a(t,e,n){return l(M(t,n),P(e,n),n)}function s(t,e,n,r){var o=_(t,e,r);return o=Array.isArray(o[0])?o:i(m.identity,[o],r),l(o,P(n,r),r)}function l(t,e,n){for(var r=new Array(4*n),o=0;o<n;++o){for(var i=0;i<3;++i)r[4*o+i]=t[o][i];r[4*o+3]=t[o][3]*e[o]}return r}function u(t,e){var n=new r(t,e.uid);return n.update(e),n}var c=t("gl-scatter2d"),f=t("gl-scatter2d-fancy"),p=t("gl-line2d"),h=t("gl-error2d"),d=t("fast-isnumeric"),m=t("../../lib"),y=t("../../plots/cartesian/axes"),v=t("../../components/errorbars"),g=t("../../lib/str2rgbarray"),b=t("../../lib/float32_truncate"),_=t("../../lib/gl_format_color"),x=t("../scatter/subtypes"),w=t("../scatter/make_bubble_size_func"),T=t("../scatter/get_trace_color"),E=t("../../constants/gl_markers"),C=t("../../constants/gl2d_dashes"),k=["xaxis","yaxis"],S=r.prototype;S.handlePick=function(t){var e=t.pointId;return(t.object!==this.line||this.connectgaps)&&(e=this.idToIndex[t.pointId]),{trace:this,dataCoord:t.dataCoord,traceCoord:[this.pickXData[e],this.pickYData[e]],textLabel:Array.isArray(this.textLabels)?this.textLabels[e]:this.textLabels,color:Array.isArray(this.color)?this.color[e]:this.color,name:this.name,hoverinfo:this.hoverinfo}},S.isFancy=function(t){if("linear"!==this.scene.xaxis.type)return!0;if("linear"!==this.scene.yaxis.type)return!0;if(!t.x||!t.y)return!0;if(this.hasMarkers){var e=t.marker||{};if(Array.isArray(e.symbol)||"circle"!==e.symbol||Array.isArray(e.size)||Array.isArray(e.color)||Array.isArray(e.line.width)||Array.isArray(e.line.color)||Array.isArray(e.opacity))return!0}return!(!this.hasLines||this.connectgaps)||(!!this.hasErrorX||!!this.hasErrorY)};var P=o.bind(null,function(t){return+t}),M=o.bind(null,g),A=o.bind(null,function(t){return E[t]||""});S.update=function(t){t.visible!==!0?(this.hasLines=!1,this.hasErrorX=!1,this.hasErrorY=!1,this.hasMarkers=!1):(this.hasLines=x.hasLines(t),this.hasErrorX=t.error_x.visible===!0,this.hasErrorY=t.error_y.visible===!0,this.hasMarkers=x.hasMarkers(t)),this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.connectgaps=!!t.connectgaps,this.isFancy(t)?this.updateFancy(t):this.updateFast(t),this.color=T(t,{})},S.updateFast=function(t){for(var e,n,r=this.xData=this.pickXData=t.x,o=this.yData=this.pickYData=t.y,i=r.length,a=new Array(i),s=new Float32Array(2*i),l=this.bounds,u=0,c=0,f=0;f<i;++f)e=r[f],n=o[f],d(e)&&d(n)&&(a[u++]=f,s[c++]=e,s[c++]=n,l[0]=Math.min(l[0],e),l[1]=Math.min(l[1],n),l[2]=Math.max(l[2],e),l[3]=Math.max(l[3],n));s=b(s,c),this.idToIndex=a,this.updateLines(t,s),this.updateError("X",t),this.updateError("Y",t);var p;if(this.hasMarkers){this.scatterOptions.positions=s;var h=g(t.marker.color),m=g(t.marker.line.color),y=t.opacity*t.marker.opacity;h[3]*=y,this.scatterOptions.color=h,m[3]*=y,this.scatterOptions.borderColor=m,p=t.marker.size,this.scatterOptions.size=p,this.scatterOptions.borderSize=t.marker.line.width,this.scatter.update(this.scatterOptions)}else this.scatterOptions.positions=new Float32Array(0),this.scatterOptions.glyphs=[],this.scatter.update(this.scatterOptions);this.scatterOptions.positions=new Float32Array(0),this.scatterOptions.glyphs=[],this.fancyScatter.update(this.scatterOptions),this.expandAxesFast(l,p)},S.updateFancy=function(t){var e=this.scene,n=e.xaxis,r=e.yaxis,i=this.bounds,a=this.pickXData=n.makeCalcdata(t,"x").slice(),l=this.pickYData=r.makeCalcdata(t,"y").slice();this.xData=a.slice(),this.yData=l.slice();var u,c,f,p,h,d,m,y,g=v.calcFromTrace(t,e.fullLayout),_=a.length,x=new Array(_),T=new Float32Array(2*_),E=new Float32Array(4*_),C=new Float32Array(4*_),k=0,S=0,M=0,O=0,D="log"===n.type?function(t){return n.d2l(t)}:function(t){return t},L="log"===r.type?function(t){return r.d2l(t)}:function(t){return t};for(u=0;u<_;++u)this.xData[u]=f=D(a[u]),this.yData[u]=p=L(l[u]),isNaN(f)||isNaN(p)||(x[k++]=u,T[S++]=f,T[S++]=p,h=E[M++]=f-g[u].xs||0,d=E[M++]=g[u].xh-f||0,E[M++]=0,E[M++]=0,C[O++]=0,C[O++]=0,m=C[O++]=p-g[u].ys||0,y=C[O++]=g[u].yh-p||0,i[0]=Math.min(i[0],f-h),i[1]=Math.min(i[1],p-m),i[2]=Math.max(i[2],f+d),i[3]=Math.max(i[3],p+y));T=b(T,S),this.idToIndex=x,this.updateLines(t,T),this.updateError("X",t,T,E),this.updateError("Y",t,T,C);var I;if(this.hasMarkers){this.scatterOptions.positions=T,this.scatterOptions.sizes=new Array(k),this.scatterOptions.glyphs=new Array(k),this.scatterOptions.borderWidths=new Array(k),this.scatterOptions.colors=new Array(4*k),this.scatterOptions.borderColors=new Array(4*k);var j,F=w(t),R=t.marker,N=R.opacity,z=t.opacity,B=s(R,N,z,_),U=A(R.symbol,_),W=P(R.line.width,_),q=s(R.line,N,z,_);for(I=o(F,R.size,_),u=0;u<k;++u)for(j=x[u],this.scatterOptions.sizes[u]=4*I[j],this.scatterOptions.glyphs[u]=U[j],this.scatterOptions.borderWidths[u]=.5*W[j],c=0;c<4;++c)this.scatterOptions.colors[4*u+c]=B[4*j+c],this.scatterOptions.borderColors[4*u+c]=q[4*j+c];this.fancyScatter.update(this.scatterOptions)}else this.scatterOptions.positions=new Float32Array(0),this.scatterOptions.glyphs=[],this.fancyScatter.update(this.scatterOptions);this.scatterOptions.positions=new Float32Array(0),this.scatterOptions.glyphs=[],this.scatter.update(this.scatterOptions),this.expandAxesFancy(a,l,I)},S.updateLines=function(t,e){var n;if(this.hasLines){var r=e;if(!t.connectgaps){var o=0,i=this.xData,s=this.yData;for(r=new Float32Array(2*i.length),n=0;n<i.length;++n)r[o++]=i[n],r[o++]=s[n]}this.lineOptions.positions=r;var l=a(t.line.color,t.opacity,1),u=Math.round(.5*this.lineOptions.width),c=(C[t.line.dash]||[1]).slice();for(n=0;n<c.length;++n)c[n]*=u;switch(t.fill){case"tozeroy":this.lineOptions.fill=[!1,!0,!1,!1];break;case"tozerox":this.lineOptions.fill=[!0,!1,!1,!1];break;default:this.lineOptions.fill=[!1,!1,!1,!1]}var f=g(t.fillcolor);this.lineOptions.color=l,this.lineOptions.width=2*t.line.width,this.lineOptions.dashes=c,this.lineOptions.fillColor=[f,f,f,f]}else this.lineOptions.positions=new Float32Array(0);this.line.update(this.lineOptions)},S.updateError=function(t,e,n,r){var o=this["error"+t],i=e["error_"+t.toLowerCase()],s=this["error"+t+"Options"];"x"===t.toLowerCase()&&i.copy_ystyle&&(i=e.error_y),this["hasError"+t]?(s.positions=n,s.errors=r,s.capSize=i.width,s.lineWidth=i.thickness/2,s.color=a(i.color,1,1)):s.positions=new Float32Array(0),o.update(s)},S.expandAxesFast=function(t,e){for(var n,r,o,i=e||10,a=0;a<2;a++)n=this.scene[k[a]],r=n._min,r||(r=[]),r.push({val:t[a],pad:i}),o=n._max,o||(o=[]),o.push({val:t[a+2],pad:i})},S.expandAxesFancy=function(t,e,n){var r=this.scene,o={padded:!0,ppad:n};y.expand(r.xaxis,t,o),y.expand(r.yaxis,e,o)},S.dispose=function(){this.line.dispose(),this.errorX.dispose(),this.errorY.dispose(),this.scatter.dispose(),this.fancyScatter.dispose()},e.exports=u},{"../../components/errorbars":569,"../../constants/gl2d_dashes":616,"../../constants/gl_markers":618,"../../lib":633,"../../lib/float32_truncate":629,"../../lib/gl_format_color":631,"../../lib/str2rgbarray":646,"../../plots/cartesian/axes":662,"../scatter/get_trace_color":837,"../scatter/make_bubble_size_func":844,"../scatter/subtypes":849,"fast-isnumeric":129,"gl-error2d":131,"gl-line2d":137,"gl-scatter2d":230,"gl-scatter2d-fancy":225}],865:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("../scatter/constants"),i=t("../scatter/subtypes"),a=t("../scatter/xy_defaults"),s=t("../scatter/marker_defaults"),l=t("../scatter/line_defaults"),u=t("../scatter/fillcolor_defaults"),c=t("../../components/errorbars/defaults"),f=t("./attributes");e.exports=function(t,e,n,p){function h(n,o){return r.coerce(t,e,f,n,o)}var d=a(t,e,h);return d?(h("text"),h("mode",d<o.PTS_LINESONLY?"lines+markers":"lines"),i.hasLines(e)&&(h("connectgaps"),l(t,e,n,p,h)),i.hasMarkers(e)&&s(t,e,n,p,h),h("fill"),"none"!==e.fill&&u(t,e,n,h),c(t,e,n,{axis:"y"}),void c(t,e,n,{axis:"x",inherit:"y"})):void(e.visible=!1)}},{"../../components/errorbars/defaults":568,"../../lib":633,"../scatter/constants":834,"../scatter/fillcolor_defaults":836,"../scatter/line_defaults":840,"../scatter/marker_defaults":845,"../scatter/subtypes":849,"../scatter/xy_defaults":851,"./attributes":863}],866:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.colorbar=t("../scatter/colorbar"),r.calc=t("../scatter3d/calc"),r.plot=t("./convert"),r.moduleType="trace",r.name="scattergl",r.basePlotModule=t("../../plots/gl2d"),r.categories=["gl2d","symbols","errorBarsOK","markerColorscale","showLegend"],r.meta={},e.exports=r},{"../../plots/gl2d":697,"../scatter/colorbar":832,"../scatter3d/calc":853,"./attributes":863,"./convert":864,"./defaults":865}],867:[function(t,e,n){"use strict";var r=t("../scattergeo/attributes"),o=t("../scatter/attributes"),i=t("../../plots/mapbox/layout_attributes"),a=t("../../plots/attributes"),s=t("../../lib/extend").extendFlat,l=r.line,u=r.marker;e.exports={lon:r.lon,lat:r.lat,mode:{valType:"flaglist",flags:["lines","markers","text"],dflt:"markers",extras:["none"]},text:s({},o.text,{}),line:{color:l.color,width:l.width,dash:l.dash},connectgaps:o.connectgaps,marker:{symbol:{valType:"string",dflt:"circle",arrayOk:!0},opacity:s({},u.opacity,{arrayOk:!1}),size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,color:u.color,colorscale:u.colorscale,cauto:u.cauto,cmax:u.cmax,cmin:u.cmin,autocolorscale:u.autocolorscale,reversescale:u.reversescale,showscale:u.showscale},fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:o.fillcolor,textfont:i.layers.symbol.textfont,textposition:i.layers.symbol.textposition,hoverinfo:s({},a.hoverinfo,{flags:["lon","lat","text","name"]}),_nestedModules:{"marker.colorbar":"Colorbar"}}},{"../../lib/extend":627,"../../plots/attributes":660,"../../plots/mapbox/layout_attributes":717,"../scatter/attributes":829,"../scattergeo/attributes":858}],868:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),o=t("../../lib"),i=t("../../components/colorscale/has_colorscale"),a=t("../../components/colorscale/make_scale_function"),s=t("../scatter/subtypes"),l=t("../scatter/colorscale_calc"),u=t("../scatter/make_bubble_size_func");e.exports=function(t,e){var n=e.lon.length,c=e.marker,f=s.hasMarkers(e),p=f&&Array.isArray(c.color),h=f&&Array.isArray(c.size),d=f&&Array.isArray(c.symbol),m=Array.isArray(e.text);l(e);for(var y=i(e,"marker")?a(c.colorscale,c.cmin,c.cmax):o.identity,v=s.isBubble(e)?u(e):o.identity,g=[],b=0,_=0;_<n;_++){var x=e.lon[_],w=e.lat[_];if(r(x)&&r(w)){var T={};if(b++,T.lonlat=[+x,+w],f){if(p){var E=c.color[_];T.mc=E,T.mcc=y(E)}if(h){var C=c.size[_];T.ms=C,T.mrc=v(C)}if(d){var k=c.symbol[_];T.mx="string"==typeof k?k:"circle"}}if(m){var S=e.text[_];T.tx="string"==typeof S?S:""}g.push(T)}else b>0&&(g[b-1].gapAfter=!0)}return g}},{"../../components/colorscale/has_colorscale":553,"../../components/colorscale/make_scale_function":557,"../../lib":633,"../scatter/colorscale_calc":833,"../scatter/make_bubble_size_func":844,"../scatter/subtypes":849,"fast-isnumeric":129}],869:[function(t,e,n){"use strict";function r(){return{geojson:o(),layout:{visibility:"none"},paint:{}}}function o(){return{type:"Point",coordinates:[]}}function i(t,e){if(1===e.length)return{type:"Polygon",coordinates:e};for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=[e[r]];return{type:"MultiPolygon",coordinates:n}}function a(t,e){return{type:"MultiLineString",coordinates:e}}function s(t,e){function n(t,n,r,o){void 0===e[n][r]&&(e[n][r]=o),t[n]=e[n][r]}for(var r=t[0].trace,o=r.marker,i=Array.isArray(o.color),a=Array.isArray(o.size),s=[],l=0;l<t.length;l++){var u=t[l],c={};i&&n(c,v,u.mcc,l),a&&n(c,g,u.mrc,l),s.push({type:"Feature",geometry:{type:"Point",coordinates:u.lonlat},properties:c})}return{type:"FeatureCollection",features:s}}function l(t){for(var e=t[0].trace,n=e.marker||{},r=n.symbol,o=e.text,i="circle"!==r?p(r):h,a=m.hasText(e)?p(o):h,s=[],l=0;l<t.length;l++){var u=t[l];s.push({type:"Feature",geometry:{type:"Point",coordinates:u.lonlat},properties:{symbol:i(u.mx),text:a(u.tx)}})}return{type:"FeatureCollection",features:s}}function u(t,e){var n,r=t.marker;if(Array.isArray(r.color)){for(var o=Object.keys(e[v]),i=[],a=0;a<o.length;a++){var s=o[a];i.push([e[v][s],s])}n={property:v,stops:i}}else n=r.color;return n}function c(t,e){var n,r=t.marker;if(Array.isArray(r.size)){for(var o=Object.keys(e[g]),i=[],a=0;a<o.length;a++){var s=o[a];i.push([e[g][s],+s])}i.sort(function(t,e){return t[0]-e[0]}),n={property:g,stops:i}}else n=r.size/2;return n}function f(t){for(var e=t[0].trace,n=e.connectgaps,r=[],o=[],i=0;i<t.length;i++){var a=t[i];o.push(a.lonlat),!n&&a.gapAfter&&o.length>0&&(r.push(o),o=[])}return r.push(o),r}function p(t){return Array.isArray(t)?function(t){return t}:t?function(){return t}:h}function h(){return""}var d=t("../../lib"),m=t("../scatter/subtypes"),y=t("../../plots/mapbox/convert_text_opts"),v="circle-color",g="circle-radius";e.exports=function(t){var e=t[0].trace,n=e.visible===!0,o="none"!==e.fill,p=m.hasLines(e),h=m.hasMarkers(e),b=m.hasText(e),_=h&&"circle"===e.marker.symbol,x=h&&"circle"!==e.marker.symbol,w=r(),T=r(),E=r(),C=r(),k={fill:w,line:T,circle:E,symbol:C};if(!n)return k;var S;if((o||p)&&(S=f(t)),o&&(w.geojson=i(t,S),w.layout.visibility="visible",d.extendFlat(w.paint,{"fill-color":e.fillcolor})),p&&(T.geojson=a(t,S),T.layout.visibility="visible",d.extendFlat(T.paint,{"line-width":e.line.width,"line-color":e.line.color,"line-opacity":e.opacity})),_){var P={};P[v]={},P[g]={},E.geojson=s(t,P),E.layout.visibility="visible",d.extendFlat(E.paint,{"circle-opacity":e.opacity*e.marker.opacity,"circle-color":u(e,P),"circle-radius":c(e,P)})}if((x||b)&&(C.geojson=l(t),d.extendFlat(C.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),x&&(d.extendFlat(C.layout,{"icon-size":e.marker.size/10}),d.extendFlat(C.paint,{"icon-opacity":e.opacity*e.marker.opacity,"icon-color":e.marker.color})),b)){var M=(e.marker||{}).size,A=y(e.textposition,M);d.extendFlat(C.layout,{"text-size":e.textfont.size,"text-anchor":A.anchor,"text-offset":A.offset}),d.extendFlat(C.paint,{"text-color":e.textfont.color,"text-opacity":e.opacity})}return k}},{"../../lib":633,"../../plots/mapbox/convert_text_opts":714,"../scatter/subtypes":849}],870:[function(t,e,n){"use strict";function r(t,e,n){var r=n("lon")||[],o=n("lat")||[],i=Math.min(r.length,o.length);return i<r.length&&(e.lon=r.slice(0,i)),i<o.length&&(e.lat=o.slice(0,i)),i}var o=t("../../lib"),i=t("../scatter/subtypes"),a=t("../scatter/marker_defaults"),s=t("../scatter/line_defaults"),l=t("../scatter/text_defaults"),u=t("../scatter/fillcolor_defaults"),c=t("./attributes"),f=t("../scatter/attributes");e.exports=function(t,e,n,p){function h(n,r){return o.coerce(t,e,c,n,r)}function d(n,r){var i=n.indexOf(".line")===-1?c:f;return o.coerce(t,e,i,n,r)}var m=r(t,e,h);if(!m)return void(e.visible=!1);if(h("text"),h("mode"),i.hasLines(e)&&(s(t,e,n,p,h),h("connectgaps")),i.hasMarkers(e)){a(t,e,n,p,d);var y=e.marker;"circle"!==y.symbol&&(Array.isArray(y.size)&&(y.size=y.size[0]),Array.isArray(y.color)&&(y.color=y.color[0]))}i.hasText(e)&&l(t,e,p,h),h("fill"),"none"!==e.fill&&u(t,e,n,h),h("hoverinfo",1===p._dataLength?"lon+lat+text":void 0)}},{"../../lib":633,"../scatter/attributes":829,"../scatter/fillcolor_defaults":836,"../scatter/line_defaults":840,"../scatter/marker_defaults":845,"../scatter/subtypes":849,"../scatter/text_defaults":850,"./attributes":867}],871:[function(t,e,n){"use strict";function r(t,e){function n(t){return t+""}var r=t.hoverinfo.split("+"),o=r.indexOf("all")!==-1,i=r.indexOf("lon")!==-1,a=r.indexOf("lat")!==-1,s=e.lonlat,l=[];return o||i&&a?l.push("("+n(s[0])+", "+n(s[1])+")"):i?l.push("lon: "+n(s[0])):a&&l.push("lat: "+n(s[1])),(o||r.indexOf("text")!==-1)&&l.push(e.tx||t.text),l.join("<br>")}var o=t("../../plots/cartesian/graph_interact"),i=t("../scatter/get_trace_color");e.exports=function(t,e,n){function a(t){var e=t.lonlat,r=Math.abs(u.c2p(e)-u.c2p([h,e[1]])),o=Math.abs(c.c2p(e)-c.c2p([e[0],n])),i=Math.max(3,t.mrc||0);return Math.max(Math.sqrt(r*r+o*o)-i,1-3/i)}var s=t.cd,l=s[0].trace,u=t.xa,c=t.ya,f=e>=0?Math.floor((e+180)/360):Math.ceil((e-180)/360),p=360*f,h=e-p;if(o.getClosest(s,a,t),t.index!==!1){var d=s[t.index],m=d.lonlat,y=[m[0]+p,m[1]],v=u.c2p(y),g=c.c2p(y),b=d.mrc||1;return t.x0=v-b,t.x1=v+b,t.y0=g-b,t.y1=g+b,t.color=i(l,d),t.extraText=r(l,d),[t]}}},{"../../plots/cartesian/graph_interact":669,"../scatter/get_trace_color":837}],872:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.colorbar=t("../scatter/colorbar"),r.calc=t("./calc"),r.hoverPoints=t("./hover"),r.plot=t("./plot"),r.moduleType="trace",r.name="scattermapbox",r.basePlotModule=t("../../plots/mapbox"),r.categories=["mapbox","gl","symbols","markerColorscale","showLegend"],r.meta={},e.exports=r},{"../../plots/mapbox":715,"../scatter/colorbar":832,"./attributes":867,"./calc":868,"./defaults":870,"./hover":871,"./plot":873}],873:[function(t,e,n){"use strict";function r(t,e){this.mapbox=t,this.map=t.map,this.uid=e,this.idSourceFill=e+"-source-fill",this.idSourceLine=e+"-source-line",this.idSourceCircle=e+"-source-circle",this.idSourceSymbol=e+"-source-symbol",this.idLayerFill=e+"-layer-fill",this.idLayerLine=e+"-layer-line",this.idLayerCircle=e+"-layer-circle",this.idLayerSymbol=e+"-layer-symbol",this.mapbox.initSource(this.idSourceFill),this.mapbox.initSource(this.idSourceLine),this.mapbox.initSource(this.idSourceCircle),this.mapbox.initSource(this.idSourceSymbol),this.map.addLayer({id:this.idLayerFill,source:this.idSourceFill,type:"fill"}),this.map.addLayer({id:this.idLayerLine,source:this.idSourceLine,type:"line"}),this.map.addLayer({id:this.idLayerCircle,source:this.idSourceCircle,type:"circle"}),this.map.addLayer({id:this.idLayerSymbol,source:this.idSourceSymbol,type:"symbol"})}function o(t){return"visible"===t.layout.visibility}var i=t("./convert"),a=r.prototype;a.update=function(t){var e=this.mapbox,n=i(t);e.setOptions(this.idLayerFill,"setLayoutProperty",n.fill.layout),e.setOptions(this.idLayerLine,"setLayoutProperty",n.line.layout),e.setOptions(this.idLayerCircle,"setLayoutProperty",n.circle.layout),e.setOptions(this.idLayerSymbol,"setLayoutProperty",n.symbol.layout),o(n.fill)&&(e.setSourceData(this.idSourceFill,n.fill.geojson),e.setOptions(this.idLayerFill,"setPaintProperty",n.fill.paint)),o(n.line)&&(e.setSourceData(this.idSourceLine,n.line.geojson),e.setOptions(this.idLayerLine,"setPaintProperty",n.line.paint)),o(n.circle)&&(e.setSourceData(this.idSourceCircle,n.circle.geojson),e.setOptions(this.idLayerCircle,"setPaintProperty",n.circle.paint)),o(n.symbol)&&(e.setSourceData(this.idSourceSymbol,n.symbol.geojson),e.setOptions(this.idLayerSymbol,"setPaintProperty",n.symbol.paint))},a.dispose=function(){var t=this.map;t.removeLayer(this.idLayerFill),t.removeLayer(this.idLayerLine),t.removeLayer(this.idLayerCircle),t.removeLayer(this.idLayerSymbol),t.removeSource(this.idSourceFill),t.removeSource(this.idSourceLine),t.removeSource(this.idSourceCircle),t.removeSource(this.idSourceSymbol)},e.exports=function(t,e){var n=e[0].trace,o=new r(t,n.uid);return o.update(e),o}},{"./convert":869}],874:[function(t,e,n){"use strict";var r=t("../scatter/attributes"),o=t("../../plots/attributes"),i=t("../../components/colorscale/color_attributes"),a=t("../../lib/extend").extendFlat,s=r.marker,l=r.line,u=s.line;e.exports={a:{valType:"data_array"},b:{valType:"data_array"},c:{valType:"data_array"},sum:{valType:"number",dflt:0,min:0},mode:a({},r.mode,{dflt:"markers"}),text:a({},r.text,{}),line:{color:l.color,width:l.width,dash:l.dash,shape:a({},l.shape,{values:["linear","spline"]}),smoothing:l.smoothing},connectgaps:r.connectgaps,fill:a({},r.fill,{values:["none","toself","tonext"]}),fillcolor:r.fillcolor,marker:a({},{symbol:s.symbol,opacity:s.opacity,maxdisplayed:s.maxdisplayed,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,showscale:s.showscale,line:a({},{width:u.width},i("marker".line))},i("marker")),textfont:r.textfont,textposition:r.textposition,hoverinfo:a({},o.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:r.hoveron,_nestedModules:{"marker.colorbar":"Colorbar"}}},{"../../components/colorscale/color_attributes":548,"../../lib/extend":627,"../../plots/attributes":660,"../scatter/attributes":829}],875:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),o=t("../../plots/cartesian/axes"),i=t("../../lib"),a=t("../scatter/subtypes"),s=t("../scatter/colorscale_calc"),l=["a","b","c"],u={a:["b","c"],b:["a","c"],c:["a","b"]};e.exports=function(t,e){var n,c,f,p,h,d,m=t._fullLayout[e.subplot],y=m.sum,v=e.sum||y;for(n=0;n<l.length;n++)if(f=l[n],!e[f]){for(h=e[u[f][0]],d=e[u[f][1]],p=new Array(h.length),c=0;c<h.length;c++)p[c]=v-h[c]-d[c];e[f]=p}var g,b,_,x,w,T,E=e.a.length,C=new Array(E);for(n=0;n<E;n++)g=e.a[n],b=e.b[n],_=e.c[n],r(g)&&r(b)&&r(_)?(g=+g,b=+b,_=+_,x=y/(g+b+_),1!==x&&(g*=x,b*=x,_*=x),T=g,w=_-b,C[n]={x:w,y:T,a:g,b:b,c:_}):C[n]={x:!1,y:!1};var k,S;if(a.hasMarkers(e)&&(k=e.marker,S=k.size,Array.isArray(S))){var P={type:"linear"};o.setConvert(P),S=P.makeCalcdata(e.marker,"size"),S.length>E&&S.splice(E,S.length-E)}return s(e),"undefined"!=typeof S&&i.mergeArray(S,C,"ms"),C}},{"../../lib":633,"../../plots/cartesian/axes":662,"../scatter/colorscale_calc":833,"../scatter/subtypes":849,"fast-isnumeric":129}],876:[function(t,e,n){"use strict";var r=t("../../lib"),o=t("../scatter/constants"),i=t("../scatter/subtypes"),a=t("../scatter/marker_defaults"),s=t("../scatter/line_defaults"),l=t("../scatter/line_shape_defaults"),u=t("../scatter/text_defaults"),c=t("../scatter/fillcolor_defaults"),f=t("./attributes");e.exports=function(t,e,n,p){function h(n,o){return r.coerce(t,e,f,n,o)}var d,m=h("a"),y=h("b"),v=h("c");if(m?(d=m.length,y?(d=Math.min(d,y.length),v&&(d=Math.min(d,v.length))):d=v?Math.min(d,v.length):0):y&&v&&(d=Math.min(y.length,v.length)),!d)return void(e.visible=!1);m&&d<m.length&&(e.a=m.slice(0,d)),y&&d<y.length&&(e.b=y.slice(0,d)),v&&d<v.length&&(e.c=v.slice(0,d)),h("sum"),h("text");var g=d<o.PTS_LINESONLY?"lines+markers":"lines";h("mode",g),i.hasLines(e)&&(s(t,e,n,p,h),l(t,e,h),h("connectgaps")),i.hasMarkers(e)&&a(t,e,n,p,h),i.hasText(e)&&u(t,e,p,h);var b=[];(i.hasMarkers(e)||i.hasText(e))&&(h("marker.maxdisplayed"),b.push("points")),h("fill"),"none"!==e.fill&&(c(t,e,n,h),i.hasLines(e)||l(t,e,h)),h("hoverinfo",1===p._dataLength?"a+b+c+text":void 0),"tonext"!==e.fill&&"toself"!==e.fill||b.push("fills"),h("hoveron",b.join("+")||"points")}},{"../../lib":633,"../scatter/constants":834,"../scatter/fillcolor_defaults":836,"../scatter/line_defaults":840,"../scatter/line_shape_defaults":842,"../scatter/marker_defaults":845,"../scatter/subtypes":849,"../scatter/text_defaults":850,"./attributes":874}],877:[function(t,e,n){"use strict";var r=t("../scatter/hover"),o=t("../../plots/cartesian/axes");e.exports=function(t,e,n,i){function a(t,e){v.push(t._hovertitle+": "+o.tickText(t,e,"hover").text)}var s=r(t,e,n,i);if(s&&s[0].index!==!1){var l=s[0];if(void 0===l.index){var u=1-l.y0/t.ya._length,c=t.xa._length,f=c*u/2,p=c-f;return l.x0=Math.max(Math.min(l.x0,p),f),l.x1=Math.max(Math.min(l.x1,p),f),s}var h=l.cd[l.index];l.a=h.a,l.b=h.b,l.c=h.c,l.xLabelVal=void 0,l.yLabelVal=void 0;var d=l.trace,m=d._ternary,y=d.hoverinfo.split("+"),v=[];return y.indexOf("all")!==-1&&(y=["a","b","c"]),y.indexOf("a")!==-1&&a(m.aaxis,h.a),y.indexOf("b")!==-1&&a(m.baxis,h.b),y.indexOf("c")!==-1&&a(m.caxis,h.c),l.extraText=v.join("<br>"),s}}},{"../../plots/cartesian/axes":662,"../scatter/hover":838}],878:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.colorbar=t("../scatter/colorbar"),r.calc=t("./calc"),r.plot=t("./plot"),r.style=t("./style"),r.hoverPoints=t("./hover"),r.selectPoints=t("./select"),r.moduleType="trace",r.name="scatterternary",r.basePlotModule=t("../../plots/ternary"),r.categories=["ternary","symbols","markerColorscale","showLegend"],r.meta={},e.exports=r},{"../../plots/ternary":728,"../scatter/colorbar":832,"./attributes":874,"./calc":875,"./defaults":876,"./hover":877,"./plot":879,"./select":880,"./style":881}],879:[function(t,e,n){"use strict";var r=t("../scatter/plot");e.exports=function(t,e){var n=t.plotContainer;n.select(".scatterlayer").selectAll("*").remove();for(var o={x:function(){return t.xaxis},y:function(){return t.yaxis},plot:n},i=new Array(e.length),a=t.graphDiv.calcdata,s=0;s<a.length;s++){var l=e.indexOf(a[s][0].trace);l!==-1&&(i[l]=a[s],e[l]._ternary=t)}r(t.graphDiv,o,i)}},{"../scatter/plot":846}],880:[function(t,e,n){"use strict";var r=t("../scatter/select");e.exports=function(t,e){var n=r(t,e);if(n){var o,i,a,s=t.cd;for(a=0;a<n.length;a++)o=n[a],i=s[o.pointNumber],o.a=i.a,o.b=i.b,o.c=i.c,delete o.x,delete o.y;return n}}},{"../scatter/select":847}],881:[function(t,e,n){"use strict";var r=t("../scatter/style");e.exports=function(t){for(var e=t._fullLayout._modules,n=0;n<e.length;n++)if("scatter"===e[n].name)return;r(t)}},{"../scatter/style":848}],882:[function(t,e,n){"use strict";function r(t){return{valType:"boolean",dflt:!1}}function o(t){return{show:{valType:"boolean",dflt:!1},project:{x:r("x"),y:r("y"),z:r("z")},color:{valType:"color",dflt:i.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:i.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var i=t("../../components/color"),a=t("../../components/colorscale/attributes"),s=t("../../lib/extend").extendFlat;e.exports={z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"data_array"},surfacecolor:{valType:"data_array"},cauto:a.zauto,cmin:a.zmin,cmax:a.zmax,colorscale:a.colorscale,autocolorscale:s({},a.autocolorscale,{dflt:!1}),reversescale:a.reversescale,showscale:a.showscale,contours:{x:o("x"),y:o("y"),z:o("z")},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},_nestedModules:{colorbar:"Colorbar"},_deprecated:{zauto:s({},a.zauto,{}),zmin:s({},a.zmin,{}),zmax:s({},a.zmax,{})}}},{"../../components/color":540,"../../components/colorscale/attributes":546,"../../lib/extend":627}],883:[function(t,e,n){"use strict";var r=t("../../components/colorscale/calc");e.exports=function(t,e){
e.surfacecolor?r(e,e.surfacecolor,"","c"):r(e,e.z,"","c")}},{"../../components/colorscale/calc":547}],884:[function(t,e,n){"use strict";var r=t("d3"),o=t("fast-isnumeric"),i=t("../../lib"),a=t("../../plots/plots"),s=t("../../components/colorscale/get_scale"),l=t("../../components/colorbar/draw");e.exports=function(t,e){var n=e[0].trace,u="cb"+n.uid,c=s(n.colorscale),f=n.cmin,p=n.cmax,h=n.surfacecolor||n.z;if(o(f)||(f=i.aggNums(Math.min,null,h)),o(p)||(p=i.aggNums(Math.max,null,h)),t._fullLayout._infolayer.selectAll("."+u).remove(),!n.showscale)return void a.autoMargin(t,u);var d=e[0].t.cb=l(t,u);d.fillcolor(r.scale.linear().domain(c.map(function(t){return f+t[0]*(p-f)})).range(c.map(function(t){return t[1]}))).filllevels({start:f,end:p,size:(p-f)/254}).options(n.colorbar)()}},{"../../components/colorbar/draw":543,"../../components/colorscale/get_scale":552,"../../lib":633,"../../plots/plots":720,d3:125,"fast-isnumeric":129}],885:[function(t,e,n){"use strict";function r(t,e,n){this.scene=t,this.uid=n,this.surface=e,this.data=null,this.showContour=[!1,!1,!1],this.dataScale=1}function o(t,e){return void 0===e&&(e=1),t.map(function(t){var n=t[0],r=d(t[1]),o=r.toRgb();return{index:n,rgb:[o.r,o.g,o.b,e]}})}function i(t){var e=t[0].rgb,n=t[t.length-1].rgb;return e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2]&&e[3]===n[3]}function a(t){var e=t.shape,n=[e[0]+2,e[1]+2],r=c(new Float32Array(n[0]*n[1]),n);return h.assign(r.lo(1,1).hi(e[0],e[1]),t),h.assign(r.lo(1).hi(e[0],1),t.hi(e[0],1)),h.assign(r.lo(1,n[1]-1).hi(e[0],1),t.lo(0,e[1]-1).hi(e[0],1)),h.assign(r.lo(0,1).hi(1,e[1]),t.hi(1)),h.assign(r.lo(n[0]-1,1).hi(1,e[1]),t.lo(e[0]-1)),r.set(0,0,t.get(0,0)),r.set(0,n[1]-1,t.get(0,e[1]-1)),r.set(n[0]-1,0,t.get(e[0]-1,0)),r.set(n[0]-1,n[1]-1,t.get(e[0]-1,e[1]-1)),r}function s(t){var e=Math.max(t[0].shape[0],t[0].shape[1]);if(e<y){for(var n=y/e,r=[0|Math.floor(t[0].shape[0]*n+1),0|Math.floor(t[0].shape[1]*n+1)],o=r[0]*r[1],i=0;i<t.length;++i){var s=a(t[i]),l=c(new Float32Array(o),r);f(l,s,[n,0,0,0,n,0,0,0,1]),t[i]=l}return n}return 1}function l(t,e){var n=t.glplot.gl,o=u({gl:n}),i=new r(t,o,e.uid);return i.update(e),t.glplot.add(o),i}var u=t("gl-surface3d"),c=t("ndarray"),f=t("ndarray-homography"),p=t("ndarray-fill"),h=t("ndarray-ops"),d=t("tinycolor2"),m=t("../../lib/str2rgbarray"),y=128,v=r.prototype;v.handlePick=function(t){if(t.object===this.surface){var e=[Math.min(0|Math.round(t.data.index[0]/this.dataScale-1),this.data.z[0].length-1),Math.min(0|Math.round(t.data.index[1]/this.dataScale-1),this.data.z.length-1)],n=[0,0,0];Array.isArray(this.data.x[0])?n[0]=this.data.x[e[1]][e[0]]:n[0]=this.data.x[e[0]],Array.isArray(this.data.y[0])?n[1]=this.data.y[e[1]][e[0]]:n[1]=this.data.y[e[1]],n[2]=this.data.z[e[1]][e[0]],t.traceCoordinate=n;var r=this.scene.fullSceneLayout;t.dataCoordinate=[r.xaxis.d2l(n[0])*this.scene.dataScale[0],r.yaxis.d2l(n[1])*this.scene.dataScale[1],r.zaxis.d2l(n[2])*this.scene.dataScale[2]];var o=this.data.text;return o&&o[e[1]]&&void 0!==o[e[1]][e[0]]?t.textLabel=o[e[1]][e[0]]:t.textLabel="",t.data.dataCoordinate=t.dataCoordinate.slice(),this.surface.highlight(t.data),this.scene.glplot.spikes.position=t.dataCoordinate,!0}},v.setContourLevels=function(){for(var t=[[],[],[]],e=!1,n=0;n<3;++n)this.showContour[n]&&(e=!0,t[n]=this.scene.contourLevels[n]);e&&this.surface.update({levels:t})},v.update=function(t){var e,n=this.scene,r=n.fullSceneLayout,a=this.surface,l=t.opacity,u=o(t.colorscale,l),f=t.z,h=t.x,d=t.y,y=r.xaxis,v=r.yaxis,g=r.zaxis,b=n.dataScale,_=f[0].length,x=f.length,w=[c(new Float32Array(_*x),[_,x]),c(new Float32Array(_*x),[_,x]),c(new Float32Array(_*x),[_,x])],T=w[0],E=w[1],C=n.contourLevels;this.data=t,p(w[2],function(t,e){return g.d2l(f[e][t])*b[2]}),Array.isArray(h[0])?p(T,function(t,e){return y.d2l(h[e][t])*b[0]}):p(T,function(t){return y.d2l(h[t])*b[0]}),Array.isArray(d[0])?p(E,function(t,e){return v.d2l(d[e][t])*b[1]}):p(E,function(t,e){return v.d2l(d[e])*b[1]});var k={colormap:u,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!t.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacity:1};if(k.intensityBounds=[t.cmin,t.cmax],t.surfacecolor){var S=c(new Float32Array(_*x),[_,x]);p(S,function(e,n){return t.surfacecolor[n][e]}),w.push(S)}else k.intensityBounds[0]*=b[2],k.intensityBounds[1]*=b[2];this.dataScale=s(w),t.surfacecolor&&(k.intensity=w.pop()),"opacity"in t&&t.opacity<1&&(k.opacity=.25*t.opacity);var P=[!0,!0,!0],M=["x","y","z"];for(e=0;e<3;++e){var A=t.contours[M[e]];P[e]=A.highlight,k.showContour[e]=A.show||A.highlight,k.showContour[e]&&(k.contourProject[e]=[A.project.x,A.project.y,A.project.z],A.show?(this.showContour[e]=!0,k.levels[e]=C[e],a.highlightColor[e]=k.contourColor[e]=m(A.color),A.usecolormap?a.highlightTint[e]=k.contourTint[e]=0:a.highlightTint[e]=k.contourTint[e]=1,k.contourWidth[e]=A.width):this.showContour[e]=!1,A.highlight&&(k.dynamicColor[e]=m(A.highlightcolor),k.dynamicWidth[e]=A.highlightwidth))}i(u)&&(k.vertexColor=!0),k.coords=w,a.update(k),a.visible=t.visible,a.enableDynamic=P,a.snapToData=!0,"lighting"in t&&(a.ambientLight=t.lighting.ambient,a.diffuseLight=t.lighting.diffuse,a.specularLight=t.lighting.specular,a.roughness=t.lighting.roughness,a.fresnel=t.lighting.fresnel),"lightposition"in t&&(a.lightPosition=[t.lightposition.x,t.lightposition.y,t.lightposition.z]),l&&l<1&&(a.supportsTransparency=!0)},v.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},e.exports=l},{"../../lib/str2rgbarray":646,"gl-surface3d":261,ndarray:485,"ndarray-fill":478,"ndarray-homography":483,"ndarray-ops":484,tinycolor2:506}],886:[function(t,e,n){"use strict";function r(t,e,n){e in t&&!(n in t)&&(t[n]=t[e])}var o=t("../../lib"),i=t("../../components/colorscale/defaults"),a=t("./attributes");e.exports=function(t,e,n,s){function l(n,r){return o.coerce(t,e,a,n,r)}var u,c,f=l("z");if(!f)return void(e.visible=!1);var p=f[0].length,h=f.length;if(l("x"),l("y"),!Array.isArray(e.x))for(e.x=[],u=0;u<p;++u)e.x[u]=u;if(l("text"),!Array.isArray(e.y))for(e.y=[],u=0;u<h;++u)e.y[u]=u;["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","opacity"].forEach(function(t){l(t)});var d=l("surfacecolor");l("colorscale");var m=["x","y","z"];for(u=0;u<3;++u){var y="contours."+m[u],v=l(y+".show"),g=l(y+".highlight");if(v||g)for(c=0;c<3;++c)l(y+".project."+m[c]);v&&(l(y+".color"),l(y+".width"),l(y+".usecolormap")),g&&(l(y+".highlightcolor"),l(y+".highlightwidth"))}d||(r(t,"zmin","cmin"),r(t,"zmax","cmax"),r(t,"zauto","cauto")),i(t,e,s,l,{prefix:"",cLetter:"c"})}},{"../../components/colorscale/defaults":550,"../../lib":633,"./attributes":882}],887:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.colorbar=t("./colorbar"),r.calc=t("./calc"),r.plot=t("./convert"),r.moduleType="trace",r.name="surface",r.basePlotModule=t("../../plots/gl3d"),r.categories=["gl3d","noOpacity"],r.meta={},e.exports=r},{"../../plots/gl3d":700,"./attributes":882,"./calc":883,"./colorbar":884,"./convert":885,"./defaults":886}]},{},[12])(12)})},function(t,e,n){(function(t,n){function r(t,e){return t.set(e[0],e[1]),t}function o(t,e){return t.add(e),t}function i(t,e){for(var n=-1,r=t?t.length:0;++n<r&&e(t[n],n,t)!==!1;);return t}function a(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function s(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function l(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function u(t,e){return null==t?void 0:t[e]}function c(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function f(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function p(t,e){return function(n){return t(e(n))}}function h(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function d(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function m(){this.__data__=ze?ze(null):{}}function y(t){return this.has(t)&&delete this.__data__[t]}function v(t){var e=this.__data__;if(ze){var n=e[t];return n===Mt?void 0:n}return xe.call(e,t)?e[t]:void 0}function g(t){var e=this.__data__;return ze?void 0!==e[t]:xe.call(e,t)}function b(t,e){var n=this.__data__;return n[t]=ze&&void 0===e?Mt:e,this}function _(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function x(){this.__data__=[]}function w(t){var e=this.__data__,n=B(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Ae.call(e,n,1),!0}function T(t){var e=this.__data__,n=B(e,t);return n<0?void 0:e[n][1]}function E(t){return B(this.__data__,t)>-1}function C(t,e){var n=this.__data__,r=B(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function k(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function S(){this.__data__={hash:new d,map:new(je||_),string:new d}}function P(t){return at(this,t)["delete"](t)}function M(t){return at(this,t).get(t)}function A(t){return at(this,t).has(t)}function O(t,e){return at(this,t).set(t,e),this}function D(t){this.__data__=new _(t)}function L(){this.__data__=new _}function I(t){return this.__data__["delete"](t)}function j(t){return this.__data__.get(t)}function F(t){return this.__data__.has(t)}function R(t,e){var n=this.__data__;if(n instanceof _){var r=n.__data__;if(!je||r.length<Pt-1)return r.push([t,e]),this;n=this.__data__=new k(r)}return n.set(t,e),this}function N(t,e){var n=Xe(t)||gt(t)?l(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!xe.call(t,i)||o&&("length"==i||ft(i,r))||n.push(i);return n}function z(t,e,n){var r=t[e];xe.call(t,e)&&vt(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function B(t,e){for(var n=t.length;n--;)if(vt(t[n][0],e))return n;return-1}function U(t,e){return t&&rt(e,Ct(e),t)}function W(t,e,n,r,o,a,s){var l;if(r&&(l=a?r(t,o,a,s):r(t)),void 0!==l)return l;if(!Tt(t))return t;var u=Xe(t);if(u){if(l=lt(t),!e)return nt(t,l)}else{var f=Ze(t),p=f==Ft||f==Rt;if(Ke(t))return Z(t,e);if(f==Bt||f==Ot||p&&!a){if(c(t))return a?t:{};if(l=ut(p?{}:t),!e)return ot(t,U(l,t))}else{if(!le[f])return a?t:{};l=ct(t,f,W,e)}}s||(s=new D);var h=s.get(t);if(h)return h;if(s.set(t,l),!u)var d=n?it(t):Ct(t);return i(d||t,function(o,i){d&&(i=o,o=t[i]),z(l,i,W(o,e,n,r,i,t,s))}),l}function q(t){return Tt(t)?Pe(t):{}}function V(t,e,n){var r=e(t);return Xe(t)?r:a(r,n(t))}function H(t){return we.call(t)}function G(t){if(!Tt(t)||ht(t))return!1;var e=xt(t)||c(t)?Te:ae;return e.test(mt(t))}function Y(t){if(!dt(t))return Le(t);var e=[];for(var n in Object(t))xe.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Z(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function X(t){var e=new t.constructor(t.byteLength);return new ke(e).set(new ke(t)),e}function K(t,e){var n=e?X(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Q(t,e,n){var o=e?n(f(t),!0):f(t);return s(o,r,new t.constructor)}function J(t){var e=new t.constructor(t.source,ie.exec(t));return e.lastIndex=t.lastIndex,e}function $(t,e,n){var r=e?n(h(t),!0):h(t);return s(r,o,new t.constructor)}function tt(t){return Ge?Object(Ge.call(t)):{}}function et(t,e){var n=e?X(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function nt(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function rt(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var a=e[o],s=r?r(n[a],t[a],a,n,t):void 0;z(n,a,void 0===s?t[a]:s)}return n}function ot(t,e){return rt(t,Ye(t),e)}function it(t){return V(t,Ct,Ye)}function at(t,e){var n=t.__data__;return pt(e)?n["string"==typeof e?"string":"hash"]:n.map}function st(t,e){var n=u(t,e);return G(n)?n:void 0}function lt(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&xe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function ut(t){return"function"!=typeof t.constructor||dt(t)?{}:q(Se(t))}function ct(t,e,n,r){var o=t.constructor;switch(e){case Yt:return X(t);case Lt:case It:return new o((+t));case Zt:return K(t,r);case Xt:case Kt:case Qt:case Jt:case $t:case te:case ee:case ne:case re:return et(t,r);case Nt:return Q(t,r,n);case zt:case Vt:return new o(t);case Wt:return J(t);case qt:return $(t,r,n);case Ht:return tt(t)}}function ft(t,e){return e=null==e?At:e,!!e&&("number"==typeof t||se.test(t))&&t>-1&&t%1==0&&t<e}function pt(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function ht(t){return!!be&&be in t}function dt(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||ve;return t===n}function mt(t){if(null!=t){try{return _e.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function yt(t){return W(t,!0,!0)}function vt(t,e){return t===e||t!==t&&e!==e}function gt(t){return _t(t)&&xe.call(t,"callee")&&(!Me.call(t,"callee")||we.call(t)==Ot)}function bt(t){return null!=t&&wt(t.length)&&!xt(t)}function _t(t){return Et(t)&&bt(t)}function xt(t){var e=Tt(t)?we.call(t):"";return e==Ft||e==Rt}function wt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=At}function Tt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Et(t){return!!t&&"object"==typeof t}function Ct(t){return bt(t)?N(t):Y(t)}function kt(){return[]}function St(){return!1}var Pt=200,Mt="__lodash_hash_undefined__",At=9007199254740991,Ot="[object Arguments]",Dt="[object Array]",Lt="[object Boolean]",It="[object Date]",jt="[object Error]",Ft="[object Function]",Rt="[object GeneratorFunction]",Nt="[object Map]",zt="[object Number]",Bt="[object Object]",Ut="[object Promise]",Wt="[object RegExp]",qt="[object Set]",Vt="[object String]",Ht="[object Symbol]",Gt="[object WeakMap]",Yt="[object ArrayBuffer]",Zt="[object DataView]",Xt="[object Float32Array]",Kt="[object Float64Array]",Qt="[object Int8Array]",Jt="[object Int16Array]",$t="[object Int32Array]",te="[object Uint8Array]",ee="[object Uint8ClampedArray]",ne="[object Uint16Array]",re="[object Uint32Array]",oe=/[\\^$.*+?()[\]{}|]/g,ie=/\w*$/,ae=/^\[object .+?Constructor\]$/,se=/^(?:0|[1-9]\d*)$/,le={};le[Ot]=le[Dt]=le[Yt]=le[Zt]=le[Lt]=le[It]=le[Xt]=le[Kt]=le[Qt]=le[Jt]=le[$t]=le[Nt]=le[zt]=le[Bt]=le[Wt]=le[qt]=le[Vt]=le[Ht]=le[te]=le[ee]=le[ne]=le[re]=!0,le[jt]=le[Ft]=le[Gt]=!1;var ue="object"==typeof t&&t&&t.Object===Object&&t,ce="object"==typeof self&&self&&self.Object===Object&&self,fe=ue||ce||Function("return this")(),pe="object"==typeof e&&e&&!e.nodeType&&e,he=pe&&"object"==typeof n&&n&&!n.nodeType&&n,de=he&&he.exports===pe,me=Array.prototype,ye=Function.prototype,ve=Object.prototype,ge=fe["__core-js_shared__"],be=function(){var t=/[^.]+$/.exec(ge&&ge.keys&&ge.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),_e=ye.toString,xe=ve.hasOwnProperty,we=ve.toString,Te=RegExp("^"+_e.call(xe).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ee=de?fe.Buffer:void 0,Ce=fe.Symbol,ke=fe.Uint8Array,Se=p(Object.getPrototypeOf,Object),Pe=Object.create,Me=ve.propertyIsEnumerable,Ae=me.splice,Oe=Object.getOwnPropertySymbols,De=Ee?Ee.isBuffer:void 0,Le=p(Object.keys,Object),Ie=st(fe,"DataView"),je=st(fe,"Map"),Fe=st(fe,"Promise"),Re=st(fe,"Set"),Ne=st(fe,"WeakMap"),ze=st(Object,"create"),Be=mt(Ie),Ue=mt(je),We=mt(Fe),qe=mt(Re),Ve=mt(Ne),He=Ce?Ce.prototype:void 0,Ge=He?He.valueOf:void 0;d.prototype.clear=m,d.prototype["delete"]=y,d.prototype.get=v,d.prototype.has=g,d.prototype.set=b,_.prototype.clear=x,_.prototype["delete"]=w,_.prototype.get=T,_.prototype.has=E,_.prototype.set=C,k.prototype.clear=S,k.prototype["delete"]=P,k.prototype.get=M,k.prototype.has=A,k.prototype.set=O,D.prototype.clear=L,D.prototype["delete"]=I,D.prototype.get=j,D.prototype.has=F,D.prototype.set=R;var Ye=Oe?p(Oe,Object):kt,Ze=H;(Ie&&Ze(new Ie(new ArrayBuffer(1)))!=Zt||je&&Ze(new je)!=Nt||Fe&&Ze(Fe.resolve())!=Ut||Re&&Ze(new Re)!=qt||Ne&&Ze(new Ne)!=Gt)&&(Ze=function(t){var e=we.call(t),n=e==Bt?t.constructor:void 0,r=n?mt(n):void 0;if(r)switch(r){case Be:return Zt;case Ue:return Nt;case We:return Ut;case qe:return qt;case Ve:return Gt}return e});var Xe=Array.isArray,Ke=De||St;n.exports=yt}).call(e,function(){return this}(),n(720)(t))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.allDimensions=e.plotTypes=void 0;var o=n(1223),i=r(o),a=n(1190),s=r(a),l=e.plotTypes={bar:{displayName:"Bar",dimensions:["horizontal","vertical"],plotlyTraces:function(t){return[{x:t.horizontal,y:t.vertical,type:"bar"}]}},histogram:{displayName:"Histogram",dimensions:["horizontal"],plotlyTraces:function(t){return[{x:t.horizontal,type:"histogram"}]}},twoDimensonalHistogram:{displayName:"2D Histogram",dimensions:["horizontal","vertical"],plotlyTraces:function(t){return[{x:t.horizontal,y:t.vertical,type:"histogram2d"}]}},box:{displayName:"Box and Whisker",dimensions:["horizontal","vertical"],plotlyTraces:function(t){return[{x:t.horizontal,y:t.vertical,type:"box"}]}},scatter:{displayName:"Scatter",dimensions:["horizontal","vertical","colour"],plotlyTraces:function(t){return[{x:t.horizontal,y:t.vertical,marker:{color:t.colour},type:"scatter",mode:"markers"}]}}};e.allDimensions=(0,s["default"])((0,i["default"])(l,function(t,e){return t.concat(e.dimensions)},[]))},function(t,e,n){var r=n(1423);"string"==typeof r&&(r=[[t.id,r,""]]);n(782)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(781)(),e.push([t.id,".plot,.plot-container{height:100%;width:100%}.plot-container{position:absolute}.plot-sidebar{width:280px}.plot-controls{-ms-flex-align:start;align-items:flex-start}.plot-controls .dropdown-option{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.dropdown-option .icon,.plot-controls .dropdown-option a .icon{color:#757575;padding-right:7px}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(941),l=r(s),u=n(584),c=r(u),f=n(582),p=r(f),h=n(583),d=r(h),m=n(922),y=r(m),v=n(933),g=r(v),b=n(1251),_=r(b),x=n(950),w=r(x),T=n(927),E=r(T),C=n(1241),k=r(C),S=a["default"].createClass({displayName:"PropertyGroupWidget",mixins:[c["default"],p["default"],d["default"],(0,y["default"])("table","primKey")],propTypes:{title:a["default"].PropTypes.string,table:a["default"].PropTypes.string,primKey:a["default"].PropTypes.string,propertyGroupId:a["default"].PropTypes.string,className:a["default"].PropTypes.string},getInitialState:function(){return{loadStatus:"loaded"}},fetchData:function(t,e){var n=this,r=t.table,i=t.primKey;this.setState({loadStatus:"loading"});var a={database:this.config.dataset,table:r,primKeyField:this.config.tablesById[r].primKey,primKeyValue:i};e.request(function(t){return E["default"].get("fetchSingleRecord"+JSON.stringify(a),function(t){return g["default"].fetchSingleRecord(o({cancellation:t},a))},t)}).then(function(t){n.setState({loadStatus:"loaded",data:t})})["catch"](g["default"].filterAborted)["catch"](E["default"].filterCancelled)["catch"](function(r){(0,w["default"])(n.getFlux(),r.message,function(){return n.fetchData(t,e)}),n.setState({loadStatus:"error"})})},title:function(){return this.props.title},render:function(){var t=this.props,e=t.table,n=t.propertyGroupId,r=t.className,o=this.state,i=o.data,s=o.loadStatus;if(!i)return null;if(!n)return null;for(var u=[],c=(0,l["default"])(this.config.tablesById[e].properties),f=0;f<c.length;f++)c[f].groupId===n&&(c[f].value=i[c[f].id],u.push(c[f]));return a["default"].createElement("div",null,a["default"].createElement(_["default"],{propertiesData:u,className:r}),a["default"].createElement(k["default"],{status:s}))}});t.exports=S},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(1426),s=r(a),l=n(584),u=r(l),c=n(582),f=r(c),p=n(583),h=r(p);n(1511);var d=i["default"].createClass({displayName:"TemplateWidget",mixins:[u["default"],f["default"],h["default"]],propTypes:{title:i["default"].PropTypes.string,content:i["default"].PropTypes.string,table:i["default"].PropTypes.string,primKey:i["default"].PropTypes.string},title:function(){return this.props.title},render:function(){var t=this.props,e=t.content,n=t.table,r=t.primKey;return i["default"].createElement(s["default"],{className:"template-container",table:n,primKey:r},e)}});t.exports=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(1427),l=r(s),u=n(584),c=r(u),f=n(582),p=r(f),h=n(583),d=r(h),m=n(922),y=r(m),v=n(927),g=r(v),b=n(940),_=r(b),x=n(1428),w=r(x),T=n(933),E=r(T),C=n(950),k=r(C),S=n(1429),P=r(S),M=n(1241),A=r(M);n(1511);var O=a["default"].createClass({displayName:"ItemTemplate",mixins:[c["default"],p["default"],d["default"],(0,y["default"])("table","primKey")],propTypes:{className:a["default"].PropTypes.string,children:a["default"].PropTypes.string.isRequired,table:a["default"].PropTypes.string.isRequired,primKey:a["default"].PropTypes.string.isRequired,data:a["default"].PropTypes.any},getInitialState:function(){return{loadStatus:"loaded"}},fetchData:function(t,e){var n=this,r=t.table,i=t.primKey,a=t.children,s=t.data;if(!s){this.setState({loadStatus:"loading"});var l=this.config.tablesById[r].relationsParentOf,u=[],c={};l.forEach(function(t){u.push(t.childtableid),c[t.childtableid]=t.childid});for(var f=(0,w["default"])(a,u),p={},h=0,d=f.length;h<d;h++){var m=f[h];p[m]={};for(var y in this.config.tablesById[m].propertiesById)"StoredSelection"!==y&&(p[m][y]=this.config.tablesById[m].propertiesById[y].defaultDisplayEncoding)}e.request(function(t){var e=f.map(function(e){var r={database:n.config.dataset,table:e,query:_["default"].WhereClause.encode(_["default"].WhereClause.CompareFixed(c[e],"=",i)),columns:p[e]};return g["default"].get("pageQuery"+JSON.stringify(r),function(t){return E["default"].pageQuery(o({cancellation:t},r))},t)}),a={database:n.config.dataset,table:r,primKeyField:n.config.tablesById[r].primKey,primKeyValue:i};return e.push(g["default"].get("fetchSingleRecord"+JSON.stringify(a),function(t){return E["default"].fetchSingleRecord(o({cancellation:t},a))},t)),Promise.all(e)}).then(function(t){var e=t.pop();f.map(function(n,r){return e[n]=t[r]}),n.setState({loadStatus:"loaded",data:e})})["catch"](E["default"].filterAborted)["catch"](g["default"].filterCancelled)["catch"](function(e){(0,k["default"])(n.getFlux(),e.message,function(){return n.fetchData(t)}),n.setState({loadStatus:"error"})})}},render:function(){var t=this.props.children,e=this.state.loadStatus,n=this.props.data||this.state.data,r=l["default"].compile(t);return a["default"].createElement("span",{className:this.props.className},n?a["default"].createElement(P["default"],{className:"item-template"},r(n)):null,a["default"].createElement(A["default"],{status:e}))}});t.exports=O},function(t,e,n){/*!
	
	 handlebars v4.0.5
	
	Copyright (C) 2011-2015 by Yehuda Katz
	
	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:
	
	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.
	
	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	THE SOFTWARE.
	
	@license
	*/
!function(e,n){t.exports=n()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(){var t=v();return t.compile=function(e,n){return c.compile(e,n,t)},t.precompile=function(e,n){return c.precompile(e,n,t)},t.AST=l["default"],t.Compiler=c.Compiler,t.JavaScriptCompiler=p["default"],t.Parser=u.parser,t.parse=u.parse,t}var o=n(1)["default"];e.__esModule=!0;var i=n(2),a=o(i),s=n(21),l=o(s),u=n(22),c=n(27),f=n(28),p=o(f),h=n(25),d=o(h),m=n(20),y=o(m),v=a["default"].create,g=r();g.create=r,y["default"](g),g.Visitor=d["default"],g["default"]=g,e["default"]=g,t.exports=e["default"]},function(t,e){"use strict";e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0},function(t,e,n){"use strict";function r(){var t=new s.HandlebarsEnvironment;return h.extend(t,s),t.SafeString=u["default"],t.Exception=f["default"],t.Utils=h,t.escapeExpression=h.escapeExpression,t.VM=m,t.template=function(e){return m.template(e,t)},t}var o=n(3)["default"],i=n(1)["default"];e.__esModule=!0;var a=n(4),s=o(a),l=n(18),u=i(l),c=n(6),f=i(c),p=n(5),h=o(p),d=n(19),m=o(d),y=n(20),v=i(y),g=r();g.create=r,v["default"](g),g["default"]=g,e["default"]=g,t.exports=e["default"]},function(t,e){"use strict";e["default"]=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e},e.__esModule=!0},function(t,e,n){"use strict";function r(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},l.registerDefaultHelpers(this),u.registerDefaultDecorators(this)}var o=n(1)["default"];e.__esModule=!0,e.HandlebarsEnvironment=r;var i=n(5),a=n(6),s=o(a),l=n(7),u=n(15),c=n(17),f=o(c),p="4.0.5";e.VERSION=p;var h=7;e.COMPILER_REVISION=h;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=d;var m="[object Object]";r.prototype={constructor:r,logger:f["default"],log:f["default"].log,registerHelper:function(t,e){if(i.toString.call(t)===m){if(e)throw new s["default"]("Arg not supported with multiple helpers");i.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(i.toString.call(t)===m)i.extend(this.partials,t);else{if("undefined"==typeof e)throw new s["default"]('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(i.toString.call(t)===m){if(e)throw new s["default"]("Arg not supported with multiple decorators");i.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var y=f["default"].log;e.log=y,e.createFrame=i.createFrame,e.logger=f["default"]},function(t,e){"use strict";function n(t){return c[t]}function r(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function o(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function i(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return p.test(t)?t.replace(f,n):t}function a(t){return!t&&0!==t||!(!m(t)||0!==t.length)}function s(t){var e=r({},t);return e._parent=t,e}function l(t,e){return t.path=e,t}function u(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=r,e.indexOf=o,e.escapeExpression=i,e.isEmpty=a,e.createFrame=s,e.blockParams=l,e.appendContextPath=u;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},f=/[&<>"'`=]/g,p=/[&<>"'`=]/,h=Object.prototype.toString;e.toString=h;var d=function(t){return"function"==typeof t};d(/x/)&&(e.isFunction=d=function(t){return"function"==typeof t&&"[object Function]"===h.call(t)}),e.isFunction=d;var m=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===h.call(t)};e.isArray=m},function(t,e){"use strict";function n(t,e){var o=e&&e.loc,i=void 0,a=void 0;o&&(i=o.start.line,a=o.start.column,t+=" - "+i+":"+a);for(var s=Error.prototype.constructor.call(this,t),l=0;l<r.length;l++)this[r[l]]=s[r[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n),o&&(this.lineNumber=i,this.column=a)}e.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){a["default"](t),l["default"](t),c["default"](t),p["default"](t),d["default"](t),y["default"](t),g["default"](t)}var o=n(1)["default"];e.__esModule=!0,e.registerDefaultHelpers=r;var i=n(8),a=o(i),s=n(9),l=o(s),u=n(10),c=o(u),f=n(11),p=o(f),h=n(12),d=o(h),m=n(13),y=o(m),v=n(14),g=o(v)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(5);e["default"]=function(t){t.registerHelper("blockHelperMissing",function(e,n){var o=n.inverse,i=n.fn;if(e===!0)return i(this);if(e===!1||null==e)return o(this);if(r.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):o(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return i(e,n)})},t.exports=e["default"]},function(t,e,n){"use strict";var r=n(1)["default"];e.__esModule=!0;var o=n(5),i=n(6),a=r(i);e["default"]=function(t){t.registerHelper("each",function(t,e){function n(e,n,i){u&&(u.key=e,u.index=n,u.first=0===n,u.last=!!i,c&&(u.contextPath=c+e)),l+=r(t[e],{data:u,blockParams:o.blockParams([t[e],e],[c+e,null])})}if(!e)throw new a["default"]("Must pass iterator to #each");var r=e.fn,i=e.inverse,s=0,l="",u=void 0,c=void 0;if(e.data&&e.ids&&(c=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),o.isFunction(t)&&(t=t.call(this)),e.data&&(u=o.createFrame(e.data)),t&&"object"==typeof t)if(o.isArray(t))for(var f=t.length;s<f;s++)s in t&&n(s,s,s===t.length-1);else{var p=void 0;for(var h in t)t.hasOwnProperty(h)&&(void 0!==p&&n(p,s-1),p=h,s++);void 0!==p&&n(p,s-1,!0)}return 0===s&&(l=i(this)),l})},t.exports=e["default"]},function(t,e,n){"use strict";var r=n(1)["default"];e.__esModule=!0;var o=n(6),i=r(o);e["default"]=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new i["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var r=n(5);e["default"]=function(t){t.registerHelper("if",function(t,e){return r.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||r.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("log",function(){for(var e=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)e.push(arguments[r]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),e[0]=o,t.log.apply(t,e)})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var r=n(5);e["default"]=function(t){t.registerHelper("with",function(t,e){r.isFunction(t)&&(t=t.call(this));var n=e.fn;if(r.isEmpty(t))return e.inverse(this);var o=e.data;return e.data&&e.ids&&(o=r.createFrame(e.data),o.contextPath=r.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:o,blockParams:r.blockParams([t],[o&&o.contextPath])})})},t.exports=e["default"]},function(t,e,n){"use strict";function r(t){a["default"](t)}var o=n(1)["default"];e.__esModule=!0,e.registerDefaultDecorators=r;var i=n(16),a=o(i)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(5);e["default"]=function(t){t.registerDecorator("inline",function(t,e,n,o){var i=t;return e.partials||(e.partials={},i=function(o,i){var a=n.partials;n.partials=r.extend({},a,e.partials);var s=t(o,i);return n.partials=a,s}),e.partials[o.args[0]]=o.fn,i})},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var r=n(5),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=r.indexOf(o.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=o.lookupLevel(t),"undefined"!=typeof console&&o.lookupLevel(o.level)<=t){var e=o.methodMap[t];console[e]||(e="log");for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];console[e].apply(console,r)}}};e["default"]=o,t.exports=e["default"]},function(t,e){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){var e=t&&t[0]||1,n=v.COMPILER_REVISION;if(e!==n){if(e<n){var r=v.REVISION_CHANGES[n],o=v.REVISION_CHANGES[e];throw new y["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+o+").")}throw new y["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function o(t,e){function n(n,r,o){o.hash&&(r=d.extend({},r,o.hash),o.ids&&(o.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,r,o);var i=e.VM.invokePartial.call(this,n,r,o);if(null==i&&e.compile&&(o.partials[o.name]=e.compile(n,t.compilerOptions,e),i=o.partials[o.name](r,o)),null!=i){if(o.indent){for(var a=i.split("\n"),s=0,l=a.length;s<l&&(a[s]||s+1!==l);s++)a[s]=o.indent+a[s];i=a.join("\n")}return i}throw new y["default"]("The partial "+o.name+" could not be compiled when running in runtime-only mode")}function r(e){function n(e){return""+t.main(o,e,o.helpers,o.partials,a,l,s)}var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=i.data;r._setup(i),!i.partial&&t.useData&&(a=u(e,a));var s=void 0,l=t.useBlockParams?[]:void 0;return t.useDepths&&(s=i.depths?e!==i.depths[0]?[e].concat(i.depths):i.depths:[e]),(n=c(t.main,n,o,i.depths||[],a,l))(e,i)}if(!e)throw new y["default"]("No environment passed to template");if(!t||!t.main)throw new y["default"]("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var o={strict:function(t,e){if(!(e in t))throw new y["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r]&&null!=t[r][e])return t[r][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:d.escapeExpression,invokePartial:n,fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,o){var a=this.programs[t],s=this.fn(t);return e||o||r||n?a=i(this,t,s,e,n,r,o):a||(a=this.programs[t]=i(this,t,s)),a},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=d.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler};return r.isTop=!0,r._setup=function(n){n.partial?(o.helpers=n.helpers,o.partials=n.partials,o.decorators=n.decorators):(o.helpers=o.merge(n.helpers,e.helpers),t.usePartial&&(o.partials=o.merge(n.partials,e.partials)),(t.usePartial||t.useDecorators)&&(o.decorators=o.merge(n.decorators,e.decorators)))},r._child=function(e,n,r,a){if(t.useBlockParams&&!r)throw new y["default"]("must pass block params");if(t.useDepths&&!a)throw new y["default"]("must pass parent depths");return i(o,e,t[e],n,0,r,a)},r}function i(t,e,n,r,o,i,a){function s(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return a&&e!==a[0]&&(s=[e].concat(a)),n(t,e,t.helpers,t.partials,o.data||r,i&&[o.blockParams].concat(i),s)}return s=c(n,s,t,a,r,i),s.program=e,s.depth=a?a.length:0,s.blockParams=o||0,s}function a(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],t}function s(t,e,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var r=void 0;if(n.fn&&n.fn!==l&&(n.data=v.createFrame(n.data),r=n.data["partial-block"]=n.fn,r.partials&&(n.partials=d.extend({},n.partials,r.partials))),void 0===t&&r&&(t=r),void 0===t)throw new y["default"]("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)}function l(){return""}function u(t,e){return e&&"root"in e||(e=e?v.createFrame(e):{},e.root=t),e}function c(t,e,n,r,o,i){if(t.decorator){var a={};e=t.decorator(e,a,n,r&&r[0],o,i,r),d.extend(e,a)}return e}var f=n(3)["default"],p=n(1)["default"];e.__esModule=!0,e.checkRevision=r,e.template=o,e.wrapProgram=i,e.resolvePartial=a,e.invokePartial=s,e.noop=l;var h=n(5),d=f(h),m=n(6),y=p(m),v=n(4)},function(t,e){(function(n){"use strict";e.__esModule=!0,e["default"]=function(t){var e="undefined"!=typeof n?n:window,r=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=r),t}},t.exports=e["default"]}).call(e,function(){return this}())},function(t,e){"use strict";e.__esModule=!0;var n={helpers:{helperExpression:function(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!n.helpers.scopedId(t)&&!t.depth}}};e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function r(t,e){if("Program"===t.type)return t;s["default"].yy=h,h.locInfo=function(t){return new h.SourceLocation(e&&e.srcName,t)};var n=new u["default"](e);return n.accept(s["default"].parse(t))}var o=n(1)["default"],i=n(3)["default"];e.__esModule=!0,e.parse=r;var a=n(23),s=o(a),l=n(24),u=o(l),c=n(26),f=i(c),p=n(5);e.parser=s["default"];var h={};p.extend(h,f)},function(t,e){"use strict";var n=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,e,n,r,o,i,a){var s=i.length-1;switch(o){case 1:return i[s-1];case 2:this.$=r.prepareProgram(i[s]);break;case 3:this.$=i[s];break;case 4:this.$=i[s];break;case 5:this.$=i[s];break;case 6:this.$=i[s];break;case 7:this.$=i[s];break;case 8:this.$=i[s];break;case 9:this.$={type:"CommentStatement",value:r.stripComment(i[s]),strip:r.stripFlags(i[s],i[s]),loc:r.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:i[s],value:i[s],loc:r.locInfo(this._$)};break;case 11:this.$=r.prepareRawBlock(i[s-2],i[s-1],i[s],this._$);break;case 12:this.$={path:i[s-3],params:i[s-2],hash:i[s-1]};break;case 13:this.$=r.prepareBlock(i[s-3],i[s-2],i[s-1],i[s],!1,this._$);break;case 14:this.$=r.prepareBlock(i[s-3],i[s-2],i[s-1],i[s],!0,this._$);break;case 15:this.$={open:i[s-5],path:i[s-4],params:i[s-3],hash:i[s-2],blockParams:i[s-1],strip:r.stripFlags(i[s-5],i[s])};break;case 16:this.$={path:i[s-4],params:i[s-3],hash:i[s-2],blockParams:i[s-1],strip:r.stripFlags(i[s-5],i[s])};break;case 17:this.$={path:i[s-4],params:i[s-3],hash:i[s-2],blockParams:i[s-1],strip:r.stripFlags(i[s-5],i[s])};break;case 18:this.$={strip:r.stripFlags(i[s-1],i[s-1]),program:i[s]};break;case 19:var l=r.prepareBlock(i[s-2],i[s-1],i[s],i[s],!1,this._$),u=r.prepareProgram([l],i[s-1].loc);u.chained=!0,this.$={strip:i[s-2].strip,program:u,chain:!0};break;case 20:this.$=i[s];break;case 21:this.$={path:i[s-1],strip:r.stripFlags(i[s-2],i[s])};break;case 22:this.$=r.prepareMustache(i[s-3],i[s-2],i[s-1],i[s-4],r.stripFlags(i[s-4],i[s]),this._$);break;case 23:this.$=r.prepareMustache(i[s-3],i[s-2],i[s-1],i[s-4],r.stripFlags(i[s-4],i[s]),this._$);break;case 24:this.$={type:"PartialStatement",name:i[s-3],params:i[s-2],hash:i[s-1],indent:"",strip:r.stripFlags(i[s-4],i[s]),loc:r.locInfo(this._$)};break;case 25:this.$=r.preparePartialBlock(i[s-2],i[s-1],i[s],this._$);break;case 26:this.$={path:i[s-3],params:i[s-2],hash:i[s-1],strip:r.stripFlags(i[s-4],i[s])};break;case 27:this.$=i[s];break;case 28:this.$=i[s];break;case 29:this.$={type:"SubExpression",path:i[s-3],params:i[s-2],hash:i[s-1],loc:r.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:i[s],loc:r.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:r.id(i[s-2]),value:i[s],loc:r.locInfo(this._$)};break;case 32:this.$=r.id(i[s-1]);break;case 33:this.$=i[s];break;case 34:this.$=i[s];break;case 35:this.$={type:"StringLiteral",value:i[s],original:i[s],loc:r.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(i[s]),original:Number(i[s]),loc:r.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===i[s],original:"true"===i[s],loc:r.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:r.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:r.locInfo(this._$)};break;case 40:this.$=i[s];break;case 41:this.$=i[s];break;case 42:this.$=r.preparePath(!0,i[s],this._$);break;case 43:this.$=r.preparePath(!1,i[s],this._$);break;case 44:i[s-2].push({part:r.id(i[s]),original:i[s],separator:i[s-1]}),this.$=i[s-2];break;case 45:this.$=[{part:r.id(i[s]),original:i[s]}];break;case 46:this.$=[];break;case 47:i[s-1].push(i[s]);break;case 48:this.$=[i[s]];break;case 49:i[s-1].push(i[s]);break;case 50:this.$=[];break;case 51:i[s-1].push(i[s]);break;case 58:this.$=[];break;case 59:i[s-1].push(i[s]);break;case 64:this.$=[];break;case 65:i[s-1].push(i[s]);break;case 70:this.$=[];break;case 71:i[s-1].push(i[s]);break;case 78:this.$=[];break;case 79:i[s-1].push(i[s]);break;case 82:this.$=[];break;case 83:i[s-1].push(i[s]);break;case 86:this.$=[];break;case 87:i[s-1].push(i[s]);break;case 90:this.$=[];break;case 91:i[s-1].push(i[s]);break;case 94:this.$=[];break;case 95:i[s-1].push(i[s]);break;case 98:this.$=[i[s]];break;case 99:i[s-1].push(i[s]);break;case 100:this.$=[i[s]];break;case 101:i[s-1].push(i[s])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],
47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(t,e){throw new Error(t)},parse:function(t){function e(){var t;return t=n.lexer.lex()||1,"number"!=typeof t&&(t=n.symbols_[t]||t),t}var n=this,r=[0],o=[null],i=[],a=this.table,s="",l=0,u=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var f=this.lexer.yylloc;i.push(f);var p=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var h,d,m,y,v,g,b,_,x,w={};;){if(m=r[r.length-1],this.defaultActions[m]?y=this.defaultActions[m]:(null!==h&&"undefined"!=typeof h||(h=e()),y=a[m]&&a[m][h]),"undefined"==typeof y||!y.length||!y[0]){var T="";if(!c){x=[];for(g in a[m])this.terminals_[g]&&g>2&&x.push("'"+this.terminals_[g]+"'");T=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[h]||h)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==h?"end of input":"'"+(this.terminals_[h]||h)+"'"),this.parseError(T,{text:this.lexer.match,token:this.terminals_[h]||h,line:this.lexer.yylineno,loc:f,expected:x})}}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+h);switch(y[0]){case 1:r.push(h),o.push(this.lexer.yytext),i.push(this.lexer.yylloc),r.push(y[1]),h=null,d?(h=d,d=null):(u=this.lexer.yyleng,s=this.lexer.yytext,l=this.lexer.yylineno,f=this.lexer.yylloc,c>0&&c--);break;case 2:if(b=this.productions_[y[1]][1],w.$=o[o.length-b],w._$={first_line:i[i.length-(b||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(b||1)].first_column,last_column:i[i.length-1].last_column},p&&(w._$.range=[i[i.length-(b||1)].range[0],i[i.length-1].range[1]]),v=this.performAction.call(w,s,u,l,this.yy,y[1],o,i),"undefined"!=typeof v)return v;b&&(r=r.slice(0,-1*b*2),o=o.slice(0,-1*b),i=i.slice(0,-1*b)),r.push(this.productions_[y[1]][0]),o.push(w.$),i.push(w._$),_=a[r[r.length-2]][r[r.length-1]],r.push(_);break;case 3:return!0}}return!0}},n=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,r,o;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length&&(n=this._input.match(this.rules[i[a]]),!n||e&&!(n[0].length>e[0].length)||(e=n,r=a,this.options.flex));a++);return e?(o=e[0].match(/(?:\r\n?|\n).*/g),o&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,i[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,n,r){function o(t,n){return e.yytext=e.yytext.substr(t,e.yyleng-n)}switch(n){case 0:if("\\\\"===e.yytext.slice(-2)?(o(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(o(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(e.yytext=e.yytext.substr(5,e.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(e.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return e.yytext=o(1,2).replace(/\\"/g,'"'),80;case 32:return e.yytext=o(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return e.yytext=e.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},t}();return e.lexer=n,t.prototype=e,e.Parser=t,new t}();e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";function r(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}function o(t,e,n){void 0===e&&(e=t.length);var r=t[e-1],o=t[e-2];return r?"ContentStatement"===r.type?(o||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(r.original):void 0:n}function i(t,e,n){void 0===e&&(e=-1);var r=t[e+1],o=t[e+2];return r?"ContentStatement"===r.type?(o||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(r.original):void 0:n}function a(t,e,n){var r=t[null==e?0:e+1];if(r&&"ContentStatement"===r.type&&(n||!r.rightStripped)){var o=r.value;r.value=r.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),r.rightStripped=r.value!==o}}function s(t,e,n){var r=t[null==e?t.length-1:e-1];if(r&&"ContentStatement"===r.type&&(n||!r.leftStripped)){var o=r.value;return r.value=r.value.replace(n?/\s+$/:/[ \t]+$/,""),r.leftStripped=r.value!==o,r.leftStripped}}var l=n(1)["default"];e.__esModule=!0;var u=n(25),c=l(u);r.prototype=new c["default"],r.prototype.Program=function(t){var e=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var r=t.body,l=0,u=r.length;l<u;l++){var c=r[l],f=this.accept(c);if(f){var p=o(r,l,n),h=i(r,l,n),d=f.openStandalone&&p,m=f.closeStandalone&&h,y=f.inlineStandalone&&p&&h;f.close&&a(r,l,!0),f.open&&s(r,l,!0),e&&y&&(a(r,l),s(r,l)&&"PartialStatement"===c.type&&(c.indent=/([ \t]+$)/.exec(r[l-1].original)[1])),e&&d&&(a((c.program||c.inverse).body),s(r,l)),e&&m&&(a(r,l),s((c.inverse||c.program).body))}}return t},r.prototype.BlockStatement=r.prototype.DecoratorBlock=r.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,n=t.program&&t.inverse,r=n,l=n;if(n&&n.chained)for(r=n.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var u={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:i(e.body),closeStandalone:o((r||e).body)};if(t.openStrip.close&&a(e.body,null,!0),n){var c=t.inverseStrip;c.open&&s(e.body,null,!0),c.close&&a(r.body,null,!0),t.closeStrip.open&&s(l.body,null,!0),!this.options.ignoreStandalone&&o(e.body)&&i(r.body)&&(s(e.body),a(r.body))}else t.closeStrip.open&&s(e.body,null,!0);return u},r.prototype.Decorator=r.prototype.MustacheStatement=function(t){return t.strip},r.prototype.PartialStatement=r.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e["default"]=r,t.exports=e["default"]},function(t,e,n){"use strict";function r(){this.parents=[]}function o(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function i(t){o.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function a(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}var s=n(1)["default"];e.__esModule=!0;var l=n(6),u=s(l);r.prototype={constructor:r,mutating:!1,acceptKey:function(t,e){var n=this.accept(t[e]);if(this.mutating){if(n&&!r.prototype[n.type])throw new u["default"]('Unexpected node type "'+n.type+'" found when accepting '+e+" on "+t.type);t[e]=n}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new u["default"](t.type+" requires "+e)},acceptArray:function(t){for(var e=0,n=t.length;e<n;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,n--)},accept:function(t){if(t){if(!this[t.type])throw new u["default"]("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:e!==!1?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:o,Decorator:o,BlockStatement:i,DecoratorBlock:i,PartialStatement:a,PartialBlockStatement:function(t){a.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:o,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e["default"]=r,t.exports=e["default"]},function(t,e,n){"use strict";function r(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var n={loc:t.path.loc};throw new y["default"](t.path.original+" doesn't match "+e,n)}}function o(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function i(t){return/^\[.*\]$/.test(t)?t.substr(1,t.length-2):t}function a(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}}function s(t){return t.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function l(t,e,n){n=this.locInfo(n);for(var r=t?"@":"",o=[],i=0,a="",s=0,l=e.length;s<l;s++){var u=e[s].part,c=e[s].original!==u;if(r+=(e[s].separator||"")+u,c||".."!==u&&"."!==u&&"this"!==u)o.push(u);else{if(o.length>0)throw new y["default"]("Invalid path: "+r,{loc:n});".."===u&&(i++,a+="../")}}return{type:"PathExpression",data:t,depth:i,parts:o,original:r,loc:n}}function u(t,e,n,r,o,i){var a=r.charAt(3)||r.charAt(2),s="{"!==a&&"&"!==a,l=/\*/.test(r);return{type:l?"Decorator":"MustacheStatement",path:t,params:e,hash:n,escaped:s,strip:o,loc:this.locInfo(i)}}function c(t,e,n,o){r(t,n),o=this.locInfo(o);var i={type:"Program",body:e,strip:{},loc:o};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:i,openStrip:{},inverseStrip:{},closeStrip:{},loc:o}}function f(t,e,n,o,i,a){o&&o.path&&r(t,o);var s=/\*/.test(t.open);e.blockParams=t.blockParams;var l=void 0,u=void 0;if(n){if(s)throw new y["default"]("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=o.strip),u=n.strip,l=n.program}return i&&(i=l,l=e,e=i),{type:s?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:l,openStrip:t.strip,inverseStrip:u,closeStrip:o&&o.strip,loc:this.locInfo(a)}}function p(t,e){if(!e&&t.length){var n=t[0].loc,r=t[t.length-1].loc;n&&r&&(e={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:r.end.line,column:r.end.column}})}return{type:"Program",body:t,strip:{},loc:e}}function h(t,e,n,o){return r(t,n),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:n&&n.strip,loc:this.locInfo(o)}}var d=n(1)["default"];e.__esModule=!0,e.SourceLocation=o,e.id=i,e.stripFlags=a,e.stripComment=s,e.preparePath=l,e.prepareMustache=u,e.prepareRawBlock=c,e.prepareBlock=f,e.prepareProgram=p,e.preparePartialBlock=h;var m=n(6),y=d(m)},function(t,e,n){"use strict";function r(){}function o(t,e,n){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var r=n.parse(t,e),o=(new n.Compiler).compile(r,e);return(new n.JavaScriptCompiler).compile(o,e)}function i(t,e,n){function r(){var r=n.parse(t,e),o=(new n.Compiler).compile(r,e),i=(new n.JavaScriptCompiler).compile(o,e,void 0,!0);return n.template(i)}function o(t,e){return i||(i=r()),i.call(this,t,e)}if(void 0===e&&(e={}),null==t||"string"!=typeof t&&"Program"!==t.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var i=void 0;return o._setup=function(t){return i||(i=r()),i._setup(t)},o._child=function(t,e,n,o){return i||(i=r()),i._child(t,e,n,o)},o}function a(t,e){if(t===e)return!0;if(f.isArray(t)&&f.isArray(e)&&t.length===e.length){for(var n=0;n<t.length;n++)if(!a(t[n],e[n]))return!1;return!0}}function s(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var l=n(1)["default"];e.__esModule=!0,e.Compiler=r,e.precompile=o,e.compile=i;var u=n(6),c=l(u),f=n(5),p=n(21),h=l(p),d=[].slice;r.prototype={compiler:r,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var n=0;n<e;n++){var r=this.opcodes[n],o=t.opcodes[n];if(r.opcode!==o.opcode||!a(r.args,o.args))return!1}e=this.children.length;for(var n=0;n<e;n++)if(!this.children[n].equals(t.children[n]))return!1;return!0},guid:0,compile:function(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var n=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},n)for(var r in n)r in n&&(e.knownHelpers[r]=n[r]);return this.accept(t)},compileProgram:function(t){var e=new this.compiler,n=e.compile(t,this.options),r=this.guid++;return this.usePartial=this.usePartial||n.usePartial,this.children[r]=n,this.useDepths=this.useDepths||n.useDepths,r},accept:function(t){if(!this[t.type])throw new c["default"]("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,n=e.length,r=0;r<n;r++)this.accept(e[r]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){s(t);var e=t.program,n=t.inverse;e=e&&this.compileProgram(e),n=n&&this.compileProgram(n);var r=this.classifySexpr(t);"helper"===r?this.helperSexpr(t,e,n):"simple"===r?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,n),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var e=t.program&&this.compileProgram(t.program),n=this.setupFullMustacheParams(t,e,void 0),r=t.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,r.original)},PartialStatement:function(t){this.usePartial=!0;var e=t.program;e&&(e=this.compileProgram(t.program));var n=t.params;if(n.length>1)throw new c["default"]("Unsupported number of partial arguments: "+n.length,t);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var r=t.name.original,o="SubExpression"===t.name.type;o&&this.accept(t.name),this.setupFullMustacheParams(t,e,void 0,!0);var i=t.indent||"";this.options.preventIndent&&i&&(this.opcode("appendContent",i),i=""),this.opcode("invokePartial",o,r,i),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){s(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,n){var r=t.path,o=r.parts[0],i=null!=e||null!=n;this.opcode("getContext",r.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",n),r.strict=!0,this.accept(r),this.opcode("invokeAmbiguous",o,i)},simpleSexpr:function(t){var e=t.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,n){var r=this.setupFullMustacheParams(t,e,n),o=t.path,i=o.parts[0];if(this.options.knownHelpers[i])this.opcode("invokeKnownHelper",r.length,i);else{if(this.options.knownHelpersOnly)throw new c["default"]("You specified knownHelpersOnly, but used the unknown helper "+i,t);o.strict=!0,o.falsy=!0,this.accept(o),this.opcode("invokeHelper",r.length,o.original,h["default"].helpers.simpleId(o))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],n=h["default"].helpers.scopedId(t),r=!t.depth&&!n&&this.blockParamIndex(e);r?this.opcode("lookupBlockParam",r,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,n):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,n=0,r=e.length;for(this.opcode("pushHash");n<r;n++)this.pushParam(e[n].value);for(;n--;)this.opcode("assignToHash",e[n].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:d.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=h["default"].helpers.simpleId(t.path),n=e&&!!this.blockParamIndex(t.path.parts[0]),r=!n&&h["default"].helpers.helperExpression(t),o=!n&&(r||e);if(o&&!r){var i=t.path.parts[0],a=this.options;a.knownHelpers[i]?r=!0:a.knownHelpersOnly&&(o=!1)}return r?"helper":o?"ambiguous":"simple"},pushParams:function(t){for(var e=0,n=t.length;e<n;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var n=void 0;if(!t.parts||h["default"].helpers.scopedId(t)||t.depth||(n=this.blockParamIndex(t.parts[0])),n){var r=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,r)}else e=t.original||e,e.replace&&(e=e.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,n,r){var o=t.params;return this.pushParams(o),this.opcode("pushProgram",e),this.opcode("pushProgram",n),t.hash?this.accept(t.hash):this.opcode("emptyHash",r),o},blockParamIndex:function(t){for(var e=0,n=this.options.blockParams.length;e<n;e++){var r=this.options.blockParams[e],o=r&&f.indexOf(r,t);if(r&&o>=0)return[e,o]}}}},function(t,e,n){"use strict";function r(t){this.value=t}function o(){}function i(t,e,n,r){var o=e.popStack(),i=0,a=n.length;for(t&&a--;i<a;i++)o=e.nameLookup(o,n[i],r);return t?[e.aliasable("container.strict"),"(",o,", ",e.quotedString(n[i]),")"]:o}var a=n(1)["default"];e.__esModule=!0;var s=n(4),l=n(6),u=a(l),c=n(5),f=n(29),p=a(f);o.prototype={nameLookup:function(t,e){return o.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"[",JSON.stringify(e),"]"]},depthedLookup:function(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=s.COMPILER_REVISION,e=s.REVISION_CHANGES[t];return[t,e]},appendToBuffer:function(t,e,n){return c.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:n?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},compile:function(t,e,n,r){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!r,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var o=t.opcodes,i=void 0,a=void 0,s=void 0,l=void 0;for(s=0,l=o.length;s<l;s++)i=o[s],this.source.currentLocation=i.loc,a=a||i.loc,this[i.opcode].apply(this,i.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new u["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),r?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var c=this.createFunctionContext(r);if(this.isChild)return c;var f={compiler:this.compilerInfo(),main:c};this.decorators&&(f.main_d=this.decorators,f.useDecorators=!0);var p=this.context,h=p.programs,d=p.decorators;for(s=0,l=h.length;s<l;s++)h[s]&&(f[s]=h[s],d[s]&&(f[s+"_d"]=d[s],f.useDecorators=!0));return this.environment.usePartial&&(f.usePartial=!0),this.options.data&&(f.useData=!0),this.useDepths&&(f.useDepths=!0),this.useBlockParams&&(f.useBlockParams=!0),this.options.compat&&(f.compat=!0),r?f.compilerOptions=this.options:(f.compiler=JSON.stringify(f.compiler),this.source.currentLocation={start:{line:1,column:0}},f=this.objectLiteral(f),e.srcName?(f=f.toStringWithSourceMap({file:e.destName}),f.map=f.map&&f.map.toString()):f=f.toString()),f},preamble:function(){this.lastContext=0,this.source=new p["default"](this.options.srcName),this.decorators=new p["default"](this.options.srcName)},createFunctionContext:function(t){var e="",n=this.stackVars.concat(this.registers.list);n.length>0&&(e+=", "+n.join(", "));var r=0;for(var o in this.aliases){var i=this.aliases[o];this.aliases.hasOwnProperty(o)&&i.children&&i.referenceCount>1&&(e+=", alias"+ ++r+"="+o,i.children[0]="alias"+r)}var a=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var s=this.mergeSource(e);return t?(a.push(s),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",s,"}"])},mergeSource:function(t){var e=this.environment.isSimple,n=!this.forceBuffer,r=void 0,o=void 0,i=void 0,a=void 0;return this.source.each(function(t){t.appendToBuffer?(i?t.prepend("  + "):i=t,a=t):(i&&(o?i.prepend("buffer += "):r=!0,a.add(";"),i=a=void 0),o=!0,e||(n=!1))}),n?i?(i.prepend("return "),a.add(";")):o||this.source.push('return "";'):(t+=", buffer = "+(r?"":this.initializeBuffer()),i?(i.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(r?"":";\n")),this.source.merge()},blockValue:function(t){var e=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(t,0,n);var r=this.popStack();n.splice(1,0,r),this.push(this.source.functionCall(e,"call",n))},ambiguousBlockValue:function(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var n=this.topStack();e.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,n,r){var o=0;r||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[o++])),this.resolvePath("context",t,o,e,n)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e,n){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,n)},resolvePath:function(t,e,n,r,o){var a=this;if(this.options.strict||this.options.assumeObjects)return void this.push(i(this.options.strict&&o,this,e,t));for(var s=e.length;n<s;n++)this.replaceStack(function(o){var i=a.nameLookup(o,e[n],t);return r?[" && ",i]:[" != null ? ",i," : ",o]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,e){var n=this.nameLookup("decorators",e,"decorator"),r=this.setupHelperArgs(e,t);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",r])," || fn;"])},invokeHelper:function(t,e,n){var r=this.popStack(),o=this.setupHelper(t,e),i=n?[o.name," || "]:"",a=["("].concat(i,r);this.options.strict||a.push(" || ",this.aliasable("helpers.helperMissing")),a.push(")"),this.push(this.source.functionCall(a,"call",o.callParams))},invokeKnownHelper:function(t,e){var n=this.setupHelper(t,e);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var n=this.popStack();this.emptyHash();var r=this.setupHelper(0,t,e),o=this.lastHelper=this.nameLookup("helpers",t,"helper"),i=["(","(helper = ",o," || ",n,")"];this.options.strict||(i[0]="(helper = ",i.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",i,r.paramsInit?["),(",r.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",r.callParams)," : helper))"])},invokePartial:function(t,e,n){var r=[],o=this.setupParams(e,1,r);t&&(e=this.popStack(),delete o.name),n&&(o.indent=JSON.stringify(n)),o.helpers="helpers",o.partials="partials",o.decorators="container.decorators",t?r.unshift(e):r.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(o.depths="depths"),o=this.objectLiteral(o),r.push(o),this.push(this.source.functionCall("container.invokePartial","",r))},assignToHash:function(t){var e=this.popStack(),n=void 0,r=void 0,o=void 0;this.trackIds&&(o=this.popStack()),
this.stringParams&&(r=this.popStack(),n=this.popStack());var i=this.hash;n&&(i.contexts[t]=n),r&&(i.types[t]=r),o&&(i.ids[t]=o),i.values[t]=e},pushId:function(t,e,n){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:o,compileChildren:function(t,e){for(var n=t.children,r=void 0,o=void 0,i=0,a=n.length;i<a;i++){r=n[i],o=new this.compiler;var s=this.matchExistingProgram(r);null==s?(this.context.programs.push(""),s=this.context.programs.length,r.index=s,r.name="program"+s,this.context.programs[s]=o.compile(r,e,this.context,!this.precompile),this.context.decorators[s]=o.decorators,this.context.environments[s]=r,this.useDepths=this.useDepths||o.useDepths,this.useBlockParams=this.useBlockParams||o.useBlockParams):(r.index=s,r.name="program"+s,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams)}},matchExistingProgram:function(t){for(var e=0,n=this.context.environments.length;e<n;e++){var r=this.context.environments[e];if(r&&r.equals(t))return e}},programExpression:function(t){var e=this.environment.children[t],n=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof r||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new r(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],n=void 0,o=void 0,i=void 0;if(!this.isInline())throw new u["default"]("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof r)n=[a.value],e=["(",n],i=!0;else{o=!0;var s=this.incrStack();e=["((",this.push(s)," = ",a,")"],n=this.topStack()}var l=t.call(this,n);i||this.popStack(),o&&this.stackSlot--,this.push(e.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,n=t.length;e<n;e++){var o=t[e];if(o instanceof r)this.compileStack.push(o);else{var i=this.incrStack();this.pushSource([i," = ",o,";"]),this.compileStack.push(i)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),n=(e?this.inlineStack:this.compileStack).pop();if(!t&&n instanceof r)return n.value;if(!e){if(!this.stackSlot)throw new u["default"]("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof r?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):(e=this.aliases[t]=this.source.wrap(t),e.aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,n){var r=[],o=this.setupHelperArgs(e,t,r,n),i=this.nameLookup("helpers",e,"helper"),a=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}");return{params:r,paramsInit:o,name:i,callParams:[a].concat(r)}},setupParams:function(t,e,n){var r={},o=[],i=[],a=[],s=!n,l=void 0;s&&(n=[]),r.name=this.quotedString(t),r.hash=this.popStack(),this.trackIds&&(r.hashIds=this.popStack()),this.stringParams&&(r.hashTypes=this.popStack(),r.hashContexts=this.popStack());var u=this.popStack(),c=this.popStack();(c||u)&&(r.fn=c||"container.noop",r.inverse=u||"container.noop");for(var f=e;f--;)l=this.popStack(),n[f]=l,this.trackIds&&(a[f]=this.popStack()),this.stringParams&&(i[f]=this.popStack(),o[f]=this.popStack());return s&&(r.args=this.source.generateArray(n)),this.trackIds&&(r.ids=this.source.generateArray(a)),this.stringParams&&(r.types=this.source.generateArray(i),r.contexts=this.source.generateArray(o)),this.options.data&&(r.data="data"),this.useBlockParams&&(r.blockParams="blockParams"),r},setupHelperArgs:function(t,e,n,r){var o=this.setupParams(t,e,n);return o=this.objectLiteral(o),r?(this.useRegister("options"),n.push("options"),["options=",o]):n?(n.push(o),""):o}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=o.RESERVED_WORDS={},n=0,r=t.length;n<r;n++)e[t[n]]=!0}(),o.isValidJavaScriptVariableName=function(t){return!o.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e["default"]=o,t.exports=e["default"]},function(t,e,n){"use strict";function r(t,e,n){if(i.isArray(t)){for(var r=[],o=0,a=t.length;o<a;o++)r.push(e.wrap(t[o],n));return r}return"boolean"==typeof t||"number"==typeof t?t+"":t}function o(t){this.srcFile=t,this.source=[]}e.__esModule=!0;var i=n(5),a=void 0;try{}catch(s){}a||(a=function(t,e,n,r){this.src="",r&&this.add(r)},a.prototype={add:function(t){i.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){i.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),o.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function(t){for(var e=0,n=this.source.length;e<n;e++)t(this.source[e])},empty:function(){var t=this.currentLocation||{start:{}};return new a(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof a?t:(t=r(t,this,e),new a(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,n){return n=this.generateList(n),this.wrap([t,e?"."+e+"(":"(",n,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var o=r(t[n],this);"undefined"!==o&&e.push([this.quotedString(n),":",o])}var i=this.generateList(e);return i.prepend("{"),i.add("}"),i},generateList:function(t){for(var e=this.empty(),n=0,o=t.length;n<o;n++)n&&e.add(","),e.add(r(t[n],this));return e},generateArray:function(t){var e=this.generateList(t);return e.prepend("["),e.add("]"),e}},e["default"]=o,t.exports=e["default"]}])})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){var n=this,r=i["default"].create();r.registerHelper("if",function(t,e){t&&t(),e.fn(n),e.inverse(n)}),r.registerHelper("with",function(t,e){t&&t()}),r.registerHelper("each",function(t,e){t&&t()});var o={},a=[];e.forEach(function(t){o[t]=function(){a.push(t)}});var l=r.compile(t);return l(o),(0,s["default"])(a)};var o=n(1427),i=r(o),a=n(1190),s=r(a)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(!t)return{};for(var e=t.split(";"),n=void 0,r=void 0,o=void 0,i={},a=0;a<e.length;a++)n=e[a].split(":"),r=(0,m["default"])(n[0]),o=n[1],r.length>0&&o.length>0&&(i[r]=o);return i}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(316),s=r(a),l=n(1430),u=r(l),c=n(914),f=r(c),p=n(721),h=r(p),d=n(1494),m=r(d),y=s["default"].createClass({displayName:"HTMLWithComponents",propTypes:{className:s["default"].PropTypes.string,children:s["default"].PropTypes.string},componentWillMount:function(){var t=new u["default"].Parser(s["default"],{lowerCaseAttributeNames:!1,lowerCaseTags:!1,recognizeSelfClosing:!0}),e=[{shouldProcessNode:function(t){return!!(0,f["default"])(t.name)},processNode:function(t,e,n){var r=(0,f["default"])(t.name),a={key:n};return(0,h["default"])(t.attribs,function(e,n){switch(n||""){case"style":a.style=o(t.attribs.style);break;case"class":a.className=e;break;default:switch(r.propTypes[n]){case s["default"].PropTypes.bool:case s["default"].PropTypes.bool.isRequired:e=!0;break;case s["default"].PropTypes.number:case s["default"].PropTypes.number.isRequired:e=Number(e);break;case s["default"].PropTypes.array:case s["default"].PropTypes.array.isRequired:case s["default"].PropTypes.object:case s["default"].PropTypes.object.isRequired:try{e=JSON.parse(e)}catch(i){throw Error("Can't parse "+n+" attribute for "+t.name+":"+e)}}a[n]=e}}),s["default"].createElement(r,i({children:e},a))}},{shouldProcessNode:function(t){return!0},processNode:new u["default"].ProcessNodeDefinitions(s["default"]).processDefaultNode}],n=function(){return!0};this.htmlToReact=function(r){return t.parseWithInstructions(r,n,e)}},render:function(){return this.htmlToReact('<div class="'+this.props.className+'">'+this.props.children+"</div>")}});t.exports=y},function(t,e,n){"use strict";var r=n(1431),o=n(1481),i=n(1493),a=n(1483);t.exports={Parser:r,ProcessingInstructions:o,IsValidNodeDefinitions:i,ProcessNodeDefinitions:a}},function(t,e,n){"use strict";var r=n(1432),o=n(1433),i=n(1434),a=n(1435),s=n(1481),l=n(1493),u=function(t,e){var n=function(t){var n=new a.DomHandler,r=new a.Parser(n,e);return r.parseComplete(t),n.dom},u=function(t,e,n,a){if(e(t)){var s=o(n||[],function(e){return e.shouldProcessNode(t)});if(null!=s){var l=r(i(t.children,function(t,r){return u(t,e,n,r)}));return s.processNode(t,l,a)}return!1}return!1},c=function(t,e,r){var o=n(t);if(o&&1!==o.length)throw new Error("html-to-react currently only supports HTML with one single root element. The HTML provided contains "+o.length+" root elements. You can fix that by simply wrapping your HTML in a <div> element.");return u(o[0],e,r,0)},f=function(e){var n=new s(t);return c(e,l.alwaysValid,n.defaultProcessingInstructions)};return{parse:f,parseWithInstructions:c}};t.exports=u},function(t,e){function n(t){for(var e=-1,n=t?t.length:0,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o}t.exports=n},function(t,e,n){(function(t,n){function r(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function o(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function i(t){return function(e){return null==e?void 0:e[t]}}function a(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function s(t){return function(e){return t(e)}}function l(t,e){return null==t?void 0:t[e]}function u(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function c(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function f(t,e){return function(n){return t(e(n))}}function p(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function h(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function d(){this.__data__=pn?pn(null):{}}function m(t){return this.has(t)&&delete this.__data__[t]}function y(t){var e=this.__data__;if(pn){var n=e[t];return n===Wt?void 0:n}return Qe.call(e,t)?e[t]:void 0}function v(t){var e=this.__data__;return pn?void 0!==e[t]:Qe.call(e,t)}function g(t,e){var n=this.__data__;return n[t]=pn&&void 0===e?Wt:e,this}function b(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _(){this.__data__=[]}function x(t){var e=this.__data__,n=U(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():rn.call(e,n,1),!0}function w(t){var e=this.__data__,n=U(e,t);return n<0?void 0:e[n][1]}function T(t){return U(this.__data__,t)>-1}function E(t,e){var n=this.__data__,r=U(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function C(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function k(){this.__data__={hash:new h,map:new(ln||b),string:new h}}function S(t){return st(this,t)["delete"](t)}function P(t){return st(this,t).get(t)}function M(t){return st(this,t).has(t)}function A(t,e){return st(this,t).set(t,e),this}function O(t){var e=-1,n=t?t.length:0;for(this.__data__=new C;++e<n;)this.add(t[e])}function D(t){return this.__data__.set(t,Wt),this}function L(t){return this.__data__.has(t)}function I(t){this.__data__=new b(t)}function j(){this.__data__=new b}function F(t){return this.__data__["delete"](t)}function R(t){return this.__data__.get(t)}function N(t){return this.__data__.has(t)}function z(t,e){var n=this.__data__;if(n instanceof b){var r=n.__data__;if(!ln||r.length<Bt-1)return r.push([t,e]),this;n=this.__data__=new C(r)}return n.set(t,e),this}function B(t,e){var n=En(t)||Tt(t)?a(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!Qe.call(t,i)||o&&("length"==i||ft(i,r))||n.push(i);return n}function U(t,e){for(var n=t.length;n--;)if(wt(t[n][0],e))return n;return-1}function W(t,e){e=pt(e,t)?[e]:nt(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[gt(e[n++])];return n&&n==r?t:void 0}function q(t){return Je.call(t)}function V(t,e){return null!=t&&e in Object(t)}function H(t,e,n,r,o){return t===e||(null==t||null==e||!Pt(t)&&!Mt(e)?t!==t&&e!==e:G(t,e,H,n,r,o))}function G(t,e,n,r,o,i){var a=En(t),s=En(e),l=Kt,c=Kt;a||(l=xn(t),l=l==Xt?oe:l),s||(c=xn(e),c=c==Xt?oe:c);var f=l==oe&&!u(t),p=c==oe&&!u(e),h=l==c;if(h&&!f)return i||(i=new I),a||Cn(t)?ot(t,e,n,r,o,i):it(t,e,l,n,r,o,i);if(!(o&Vt)){var d=f&&Qe.call(t,"__wrapped__"),m=p&&Qe.call(e,"__wrapped__");if(d||m){var y=d?t.value():t,v=m?e.value():e;return i||(i=new I),n(y,v,r,o,i)}}return!!h&&(i||(i=new I),at(t,e,n,r,o,i))}function Y(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;for(t=Object(t);o--;){var s=n[o];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){s=n[o];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in t))return!1}else{var f=new I;if(r)var p=r(u,c,l,t,e,f);if(!(void 0===p?H(c,u,r,qt|Vt,f):p))return!1}}return!0}function Z(t){if(!Pt(t)||dt(t))return!1;var e=kt(t)||u(t)?$e:Oe;return e.test(bt(t))}function X(t){return Mt(t)&&St(t.length)&&!!Ie[Je.call(t)]}function K(t){return"function"==typeof t?t:null==t?Nt:"object"==typeof t?En(t)?$(t[0],t[1]):J(t):zt(t)}function Q(t){if(!mt(t))return on(t);var e=[];for(var n in Object(t))Qe.call(t,n)&&"constructor"!=n&&e.push(n);return e}function J(t){var e=lt(t);return 1==e.length&&e[0][2]?vt(e[0][0],e[0][1]):function(n){return n===t||Y(n,t,e)}}function $(t,e){return pt(t)&&yt(e)?vt(gt(t),e):function(n){var r=jt(n,t);return void 0===r&&r===e?Ft(n,t):H(e,r,void 0,qt|Vt)}}function tt(t){return function(e){return W(e,t)}}function et(t){if("string"==typeof t)return t;if(At(t))return _n?_n.call(t):"";var e=t+"";return"0"==e&&1/t==-Ht?"-0":e}function nt(t){return En(t)?t:wn(t)}function rt(t){return function(e,n,r){var o=Object(e);if(!Et(e)){var i=K(n,3);e=Rt(e),n=function(t){return i(o[t],t,o)}}var a=t(e,n,r);return a>-1?o[i?e[a]:a]:void 0}}function ot(t,e,n,o,i,a){var s=i&Vt,l=t.length,u=e.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(t);if(c&&a.get(e))return c==e;var f=-1,p=!0,h=i&qt?new O:void 0;for(a.set(t,e),a.set(e,t);++f<l;){var d=t[f],m=e[f];if(o)var y=s?o(m,d,f,e,t,a):o(d,m,f,t,e,a);if(void 0!==y){if(y)continue;p=!1;break}if(h){if(!r(e,function(t,e){if(!h.has(e)&&(d===t||n(d,t,o,i,a)))return h.add(e)})){p=!1;break}}else if(d!==m&&!n(d,m,o,i,a)){p=!1;break}}return a["delete"](t),a["delete"](e),p}function it(t,e,n,r,o,i,a){switch(n){case pe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case fe:return!(t.byteLength!=e.byteLength||!r(new en(t),new en(e)));case Qt:case Jt:case re:return wt(+t,+e);case $t:return t.name==e.name&&t.message==e.message;case ae:case le:return t==e+"";case ne:var s=c;case se:var l=i&Vt;if(s||(s=p),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;i|=qt,a.set(t,e);var f=ot(s(t),s(e),r,o,i,a);return a["delete"](t),f;case ue:if(bn)return bn.call(t)==bn.call(e)}return!1}function at(t,e,n,r,o,i){var a=o&Vt,s=Rt(t),l=s.length,u=Rt(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var p=s[f];if(!(a?p in e:Qe.call(e,p)))return!1}var h=i.get(t);if(h&&i.get(e))return h==e;var d=!0;i.set(t,e),i.set(e,t);for(var m=a;++f<l;){p=s[f];var y=t[p],v=e[p];if(r)var g=a?r(v,y,p,e,t,i):r(y,v,p,t,e,i);if(!(void 0===g?y===v||n(y,v,r,o,i):g)){d=!1;break}m||(m="constructor"==p)}if(d&&!m){var b=t.constructor,_=e.constructor;b!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(d=!1)}return i["delete"](t),i["delete"](e),d}function st(t,e){var n=t.__data__;return ht(e)?n["string"==typeof e?"string":"hash"]:n.map}function lt(t){for(var e=Rt(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,yt(o)]}return e}function ut(t,e){var n=l(t,e);return Z(n)?n:void 0}function ct(t,e,n){e=pt(e,t)?[e]:nt(e);for(var r,o=-1,i=e.length;++o<i;){var a=gt(e[o]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}if(r)return r;var i=t?t.length:0;return!!i&&St(i)&&ft(a,i)&&(En(t)||Tt(t))}function ft(t,e){return e=null==e?Gt:e,!!e&&("number"==typeof t||Le.test(t))&&t>-1&&t%1==0&&t<e}function pt(t,e){if(En(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!At(t))||(Te.test(t)||!we.test(t)||null!=e&&t in Object(e))}function ht(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function dt(t){return!!Xe&&Xe in t}function mt(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Ye;return t===n}function yt(t){return t===t&&!Pt(t)}function vt(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function gt(t){if("string"==typeof t||At(t))return t;var e=t+"";return"0"==e&&1/t==-Ht?"-0":e}function bt(t){if(null!=t){try{return Ke.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function _t(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=null==n?0:Dt(n);return i<0&&(i=an(r+i,0)),o(t,K(e,3),i)}function xt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(Ut);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(xt.Cache||C),n}function wt(t,e){return t===e||t!==t&&e!==e}function Tt(t){return Ct(t)&&Qe.call(t,"callee")&&(!nn.call(t,"callee")||Je.call(t)==Xt)}function Et(t){return null!=t&&St(t.length)&&!kt(t)}function Ct(t){return Mt(t)&&Et(t)}function kt(t){var e=Pt(t)?Je.call(t):"";return e==te||e==ee}function St(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Gt}function Pt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Mt(t){return!!t&&"object"==typeof t}function At(t){return"symbol"==typeof t||Mt(t)&&Je.call(t)==ue}function Ot(t){if(!t)return 0===t?t:0;if(t=Lt(t),t===Ht||t===-Ht){var e=t<0?-1:1;return e*Yt}return t===t?t:0}function Dt(t){var e=Ot(t),n=e%1;return e===e?n?e-n:e:0}function Lt(t){if("number"==typeof t)return t;if(At(t))return Zt;if(Pt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Pt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Se,"");var n=Ae.test(t);return n||De.test(t)?je(t.slice(2),n?2:8):Me.test(t)?Zt:+t}function It(t){return null==t?"":et(t)}function jt(t,e,n){var r=null==t?void 0:W(t,e);return void 0===r?n:r}function Ft(t,e){return null!=t&&ct(t,e,V)}function Rt(t){return Et(t)?B(t):Q(t)}function Nt(t){return t}function zt(t){return pt(t)?i(gt(t)):tt(t)}var Bt=200,Ut="Expected a function",Wt="__lodash_hash_undefined__",qt=1,Vt=2,Ht=1/0,Gt=9007199254740991,Yt=1.7976931348623157e308,Zt=NaN,Xt="[object Arguments]",Kt="[object Array]",Qt="[object Boolean]",Jt="[object Date]",$t="[object Error]",te="[object Function]",ee="[object GeneratorFunction]",ne="[object Map]",re="[object Number]",oe="[object Object]",ie="[object Promise]",ae="[object RegExp]",se="[object Set]",le="[object String]",ue="[object Symbol]",ce="[object WeakMap]",fe="[object ArrayBuffer]",pe="[object DataView]",he="[object Float32Array]",de="[object Float64Array]",me="[object Int8Array]",ye="[object Int16Array]",ve="[object Int32Array]",ge="[object Uint8Array]",be="[object Uint8ClampedArray]",_e="[object Uint16Array]",xe="[object Uint32Array]",we=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Te=/^\w*$/,Ee=/^\./,Ce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ke=/[\\^$.*+?()[\]{}|]/g,Se=/^\s+|\s+$/g,Pe=/\\(\\)?/g,Me=/^[-+]0x[0-9a-f]+$/i,Ae=/^0b[01]+$/i,Oe=/^\[object .+?Constructor\]$/,De=/^0o[0-7]+$/i,Le=/^(?:0|[1-9]\d*)$/,Ie={};Ie[he]=Ie[de]=Ie[me]=Ie[ye]=Ie[ve]=Ie[ge]=Ie[be]=Ie[_e]=Ie[xe]=!0,Ie[Xt]=Ie[Kt]=Ie[fe]=Ie[Qt]=Ie[pe]=Ie[Jt]=Ie[$t]=Ie[te]=Ie[ne]=Ie[re]=Ie[oe]=Ie[ae]=Ie[se]=Ie[le]=Ie[ce]=!1;var je=parseInt,Fe="object"==typeof t&&t&&t.Object===Object&&t,Re="object"==typeof self&&self&&self.Object===Object&&self,Ne=Fe||Re||Function("return this")(),ze="object"==typeof e&&e&&!e.nodeType&&e,Be=ze&&"object"==typeof n&&n&&!n.nodeType&&n,Ue=Be&&Be.exports===ze,We=Ue&&Fe.process,qe=function(){try{return We&&We.binding("util")}catch(t){}}(),Ve=qe&&qe.isTypedArray,He=Array.prototype,Ge=Function.prototype,Ye=Object.prototype,Ze=Ne["__core-js_shared__"],Xe=function(){var t=/[^.]+$/.exec(Ze&&Ze.keys&&Ze.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ke=Ge.toString,Qe=Ye.hasOwnProperty,Je=Ye.toString,$e=RegExp("^"+Ke.call(Qe).replace(ke,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tn=Ne.Symbol,en=Ne.Uint8Array,nn=Ye.propertyIsEnumerable,rn=He.splice,on=f(Object.keys,Object),an=Math.max,sn=ut(Ne,"DataView"),ln=ut(Ne,"Map"),un=ut(Ne,"Promise"),cn=ut(Ne,"Set"),fn=ut(Ne,"WeakMap"),pn=ut(Object,"create"),hn=bt(sn),dn=bt(ln),mn=bt(un),yn=bt(cn),vn=bt(fn),gn=tn?tn.prototype:void 0,bn=gn?gn.valueOf:void 0,_n=gn?gn.toString:void 0;h.prototype.clear=d,h.prototype["delete"]=m,h.prototype.get=y,h.prototype.has=v,h.prototype.set=g,b.prototype.clear=_,b.prototype["delete"]=x,b.prototype.get=w,b.prototype.has=T,b.prototype.set=E,C.prototype.clear=k,C.prototype["delete"]=S,C.prototype.get=P,C.prototype.has=M,C.prototype.set=A,O.prototype.add=O.prototype.push=D,O.prototype.has=L,I.prototype.clear=j,I.prototype["delete"]=F,I.prototype.get=R,I.prototype.has=N,I.prototype.set=z;var xn=q;(sn&&xn(new sn(new ArrayBuffer(1)))!=pe||ln&&xn(new ln)!=ne||un&&xn(un.resolve())!=ie||cn&&xn(new cn)!=se||fn&&xn(new fn)!=ce)&&(xn=function(t){var e=Je.call(t),n=e==oe?t.constructor:void 0,r=n?bt(n):void 0;if(r)switch(r){case hn:return pe;case dn:return ne;case mn:return ie;case yn:return se;case vn:return ce}return e});var wn=xt(function(t){t=It(t);var e=[];return Ee.test(t)&&e.push(""),t.replace(Ce,function(t,n,r,o){e.push(r?o.replace(Pe,"$1"):n||t)}),e}),Tn=rt(_t);xt.Cache=C;var En=Array.isArray,Cn=Ve?s(Ve):X;n.exports=Tn}).call(e,function(){return this}(),n(720)(t))},function(t,e,n){(function(t,n){function r(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function o(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function i(t){return function(e){return null==e?void 0:e[t]}}function a(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function s(t){return function(e){return t(e)}}function l(t,e){return null==t?void 0:t[e]}function u(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function c(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function f(t,e){return function(n){return t(e(n))}}function p(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function h(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function d(){this.__data__=rn?rn(null):{}}function m(t){return this.has(t)&&delete this.__data__[t]}function y(t){var e=this.__data__;if(rn){var n=e[t];return n===Wt?void 0:n}return Ve.call(e,t)?e[t]:void 0}function v(t){var e=this.__data__;return rn?void 0!==e[t]:Ve.call(e,t)}function g(t,e){var n=this.__data__;return n[t]=rn&&void 0===e?Wt:e,this}function b(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _(){this.__data__=[]}function x(t){var e=this.__data__,n=U(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Ke.call(e,n,1),!0}function w(t){var e=this.__data__,n=U(e,t);return n<0?void 0:e[n][1]}function T(t){return U(this.__data__,t)>-1}function E(t,e){var n=this.__data__,r=U(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function C(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function k(){this.__data__={hash:new h,map:new($e||b),string:new h}}function S(t){return ct(this,t)["delete"](t)}function P(t){return ct(this,t).get(t)}function M(t){return ct(this,t).has(t)}function A(t,e){return ct(this,t).set(t,e),this}function O(t){var e=-1,n=t?t.length:0;for(this.__data__=new C;++e<n;)this.add(t[e])}function D(t){return this.__data__.set(t,Wt),this}function L(t){return this.__data__.has(t)}function I(t){this.__data__=new b(t)}function j(){this.__data__=new b}function F(t){return this.__data__["delete"](t)}function R(t){return this.__data__.get(t)}function N(t){return this.__data__.has(t)}function z(t,e){var n=this.__data__;if(n instanceof b){var r=n.__data__;if(!$e||r.length<Bt-1)return r.push([t,e]),this;n=this.__data__=new C(r)}return n.set(t,e),this}function B(t,e){var n=vn(t)||kt(t)?a(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!Ve.call(t,i)||o&&("length"==i||dt(i,r))||n.push(i);return n}function U(t,e){for(var n=t.length;n--;)if(Ct(t[n][0],e))return n;return-1}function W(t,e){return t&&dn(t,e,Rt)}function q(t,e){e=mt(e,t)?[e]:ot(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[xt(e[n++])];return n&&n==r?t:void 0}function V(t){return He.call(t)}function H(t,e){return null!=t&&e in Object(t)}function G(t,e,n,r,o){return t===e||(null==t||null==e||!Ot(t)&&!Dt(e)?t!==t&&e!==e:Y(t,e,G,n,r,o))}function Y(t,e,n,r,o,i){var a=vn(t),s=vn(e),l=Zt,c=Zt;a||(l=mn(t),l=l==Yt?ne:l),s||(c=mn(e),c=c==Yt?ne:c);var f=l==ne&&!u(t),p=c==ne&&!u(e),h=l==c;if(h&&!f)return i||(i=new I),a||gn(t)?st(t,e,n,r,o,i):lt(t,e,l,n,r,o,i);if(!(o&Vt)){var d=f&&Ve.call(t,"__wrapped__"),m=p&&Ve.call(e,"__wrapped__");if(d||m){var y=d?t.value():t,v=m?e.value():e;return i||(i=new I),n(y,v,r,o,i)}}return!!h&&(i||(i=new I),ut(t,e,n,r,o,i))}function Z(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;for(t=Object(t);o--;){var s=n[o];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){s=n[o];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in t))return!1}else{var f=new I;if(r)var p=r(u,c,l,t,e,f);if(!(void 0===p?G(c,u,r,qt|Vt,f):p))return!1}}return!0}function X(t){if(!Ot(t)||vt(t))return!1;var e=Mt(t)||u(t)?Ge:ke;return e.test(wt(t))}function K(t){return Dt(t)&&At(t.length)&&!!Pe[He.call(t)]}function Q(t){return"function"==typeof t?t:null==t?Nt:"object"==typeof t?vn(t)?et(t[0],t[1]):tt(t):zt(t)}function J(t){if(!gt(t))return Qe(t);var e=[];for(var n in Object(t))Ve.call(t,n)&&"constructor"!=n&&e.push(n);return e}function $(t,e){var n=-1,r=St(t)?Array(t.length):[];return hn(t,function(t,o,i){r[++n]=e(t,o,i)}),r}function tt(t){var e=ft(t);return 1==e.length&&e[0][2]?_t(e[0][0],e[0][1]):function(n){return n===t||Z(n,t,e)}}function et(t,e){return mt(t)&&bt(e)?_t(xt(t),e):function(n){var r=jt(n,t);return void 0===r&&r===e?Ft(n,t):G(e,r,void 0,qt|Vt)}}function nt(t){return function(e){return q(e,t)}}function rt(t){if("string"==typeof t)return t;if(Lt(t))return pn?pn.call(t):"";var e=t+"";return"0"==e&&1/t==-Ht?"-0":e}function ot(t){return vn(t)?t:yn(t)}function it(t,e){return function(n,r){if(null==n)return n;if(!St(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Object(n);(e?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}function at(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++o];if(n(i[l],l,i)===!1)break}return e}}function st(t,e,n,r,i,a){var s=i&Vt,l=t.length,u=e.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(t);if(c&&a.get(e))return c==e;var f=-1,p=!0,h=i&qt?new O:void 0;for(a.set(t,e),a.set(e,t);++f<l;){var d=t[f],m=e[f];if(r)var y=s?r(m,d,f,e,t,a):r(d,m,f,t,e,a);if(void 0!==y){if(y)continue;p=!1;break}if(h){if(!o(e,function(t,e){if(!h.has(e)&&(d===t||n(d,t,r,i,a)))return h.add(e)})){p=!1;break}}else if(d!==m&&!n(d,m,r,i,a)){p=!1;break}}return a["delete"](t),a["delete"](e),p}function lt(t,e,n,r,o,i,a){switch(n){case ce:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ue:return!(t.byteLength!=e.byteLength||!r(new Ze(t),new Ze(e)));case Xt:case Kt:case ee:return Ct(+t,+e);case Qt:return t.name==e.name&&t.message==e.message;case oe:case ae:return t==e+"";case te:var s=c;case ie:var l=i&Vt;if(s||(s=p),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;i|=qt,a.set(t,e);var f=st(s(t),s(e),r,o,i,a);return a["delete"](t),f;case se:if(fn)return fn.call(t)==fn.call(e)}return!1}function ut(t,e,n,r,o,i){var a=o&Vt,s=Rt(t),l=s.length,u=Rt(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var p=s[f];if(!(a?p in e:Ve.call(e,p)))return!1}var h=i.get(t);if(h&&i.get(e))return h==e;var d=!0;i.set(t,e),i.set(e,t);for(var m=a;++f<l;){p=s[f];var y=t[p],v=e[p];if(r)var g=a?r(v,y,p,e,t,i):r(y,v,p,t,e,i);if(!(void 0===g?y===v||n(y,v,r,o,i):g)){d=!1;break}m||(m="constructor"==p)}if(d&&!m){var b=t.constructor,_=e.constructor;b!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(d=!1)}return i["delete"](t),i["delete"](e),d}function ct(t,e){var n=t.__data__;return yt(e)?n["string"==typeof e?"string":"hash"]:n.map}function ft(t){for(var e=Rt(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,bt(o)]}return e}function pt(t,e){var n=l(t,e);return X(n)?n:void 0}function ht(t,e,n){e=mt(e,t)?[e]:ot(e);for(var r,o=-1,i=e.length;++o<i;){var a=xt(e[o]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}if(r)return r;var i=t?t.length:0;return!!i&&At(i)&&dt(a,i)&&(vn(t)||kt(t))}function dt(t,e){return e=null==e?Gt:e,!!e&&("number"==typeof t||Se.test(t))&&t>-1&&t%1==0&&t<e}function mt(t,e){if(vn(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Lt(t))||(xe.test(t)||!_e.test(t)||null!=e&&t in Object(e))}function yt(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function vt(t){return!!We&&We in t}function gt(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Be;return t===n}function bt(t){return t===t&&!Ot(t)}function _t(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function xt(t){if("string"==typeof t||Lt(t))return t;var e=t+"";return"0"==e&&1/t==-Ht?"-0":e}function wt(t){if(null!=t){try{return qe.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Tt(t,e){var n=vn(t)?r:$;return n(t,Q(e,3))}function Et(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(Ut);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(Et.Cache||C),n}function Ct(t,e){return t===e||t!==t&&e!==e}function kt(t){return Pt(t)&&Ve.call(t,"callee")&&(!Xe.call(t,"callee")||He.call(t)==Yt)}function St(t){return null!=t&&At(t.length)&&!Mt(t)}function Pt(t){
return Dt(t)&&St(t)}function Mt(t){var e=Ot(t)?He.call(t):"";return e==Jt||e==$t}function At(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Gt}function Ot(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Dt(t){return!!t&&"object"==typeof t}function Lt(t){return"symbol"==typeof t||Dt(t)&&He.call(t)==se}function It(t){return null==t?"":rt(t)}function jt(t,e,n){var r=null==t?void 0:q(t,e);return void 0===r?n:r}function Ft(t,e){return null!=t&&ht(t,e,H)}function Rt(t){return St(t)?B(t):J(t)}function Nt(t){return t}function zt(t){return mt(t)?i(xt(t)):nt(t)}var Bt=200,Ut="Expected a function",Wt="__lodash_hash_undefined__",qt=1,Vt=2,Ht=1/0,Gt=9007199254740991,Yt="[object Arguments]",Zt="[object Array]",Xt="[object Boolean]",Kt="[object Date]",Qt="[object Error]",Jt="[object Function]",$t="[object GeneratorFunction]",te="[object Map]",ee="[object Number]",ne="[object Object]",re="[object Promise]",oe="[object RegExp]",ie="[object Set]",ae="[object String]",se="[object Symbol]",le="[object WeakMap]",ue="[object ArrayBuffer]",ce="[object DataView]",fe="[object Float32Array]",pe="[object Float64Array]",he="[object Int8Array]",de="[object Int16Array]",me="[object Int32Array]",ye="[object Uint8Array]",ve="[object Uint8ClampedArray]",ge="[object Uint16Array]",be="[object Uint32Array]",_e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xe=/^\w*$/,we=/^\./,Te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ee=/[\\^$.*+?()[\]{}|]/g,Ce=/\\(\\)?/g,ke=/^\[object .+?Constructor\]$/,Se=/^(?:0|[1-9]\d*)$/,Pe={};Pe[fe]=Pe[pe]=Pe[he]=Pe[de]=Pe[me]=Pe[ye]=Pe[ve]=Pe[ge]=Pe[be]=!0,Pe[Yt]=Pe[Zt]=Pe[ue]=Pe[Xt]=Pe[ce]=Pe[Kt]=Pe[Qt]=Pe[Jt]=Pe[te]=Pe[ee]=Pe[ne]=Pe[oe]=Pe[ie]=Pe[ae]=Pe[le]=!1;var Me="object"==typeof t&&t&&t.Object===Object&&t,Ae="object"==typeof self&&self&&self.Object===Object&&self,Oe=Me||Ae||Function("return this")(),De="object"==typeof e&&e&&!e.nodeType&&e,Le=De&&"object"==typeof n&&n&&!n.nodeType&&n,Ie=Le&&Le.exports===De,je=Ie&&Me.process,Fe=function(){try{return je&&je.binding("util")}catch(t){}}(),Re=Fe&&Fe.isTypedArray,Ne=Array.prototype,ze=Function.prototype,Be=Object.prototype,Ue=Oe["__core-js_shared__"],We=function(){var t=/[^.]+$/.exec(Ue&&Ue.keys&&Ue.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),qe=ze.toString,Ve=Be.hasOwnProperty,He=Be.toString,Ge=RegExp("^"+qe.call(Ve).replace(Ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ye=Oe.Symbol,Ze=Oe.Uint8Array,Xe=Be.propertyIsEnumerable,Ke=Ne.splice,Qe=f(Object.keys,Object),Je=pt(Oe,"DataView"),$e=pt(Oe,"Map"),tn=pt(Oe,"Promise"),en=pt(Oe,"Set"),nn=pt(Oe,"WeakMap"),rn=pt(Object,"create"),on=wt(Je),an=wt($e),sn=wt(tn),ln=wt(en),un=wt(nn),cn=Ye?Ye.prototype:void 0,fn=cn?cn.valueOf:void 0,pn=cn?cn.toString:void 0;h.prototype.clear=d,h.prototype["delete"]=m,h.prototype.get=y,h.prototype.has=v,h.prototype.set=g,b.prototype.clear=_,b.prototype["delete"]=x,b.prototype.get=w,b.prototype.has=T,b.prototype.set=E,C.prototype.clear=k,C.prototype["delete"]=S,C.prototype.get=P,C.prototype.has=M,C.prototype.set=A,O.prototype.add=O.prototype.push=D,O.prototype.has=L,I.prototype.clear=j,I.prototype["delete"]=F,I.prototype.get=R,I.prototype.has=N,I.prototype.set=z;var hn=it(W),dn=at(),mn=V;(Je&&mn(new Je(new ArrayBuffer(1)))!=ce||$e&&mn(new $e)!=te||tn&&mn(tn.resolve())!=re||en&&mn(new en)!=ie||nn&&mn(new nn)!=le)&&(mn=function(t){var e=He.call(t),n=e==ne?t.constructor:void 0,r=n?wt(n):void 0;if(r)switch(r){case on:return ce;case an:return te;case sn:return re;case ln:return ie;case un:return le}return e});var yn=Et(function(t){t=It(t);var e=[];return we.test(t)&&e.push(""),t.replace(Te,function(t,n,r,o){e.push(r?o.replace(Ce,"$1"):n||t)}),e});Et.Cache=C;var vn=Array.isArray,gn=Re?s(Re):K;n.exports=Tt}).call(e,function(){return this}(),n(720)(t))},function(t,e,n){function r(e,n){return delete t.exports[e],t.exports[e]=n,n}var o=n(1436),i=n(1445);t.exports={Parser:o,Tokenizer:n(1437),ElementType:n(1446),DomHandler:i,get FeedHandler(){return r("FeedHandler",n(1449))},get Stream(){return r("Stream",n(1450))},get WritableStream(){return r("WritableStream",n(1451))},get ProxyHandler(){return r("ProxyHandler",n(1467))},get DomUtils(){return r("DomUtils",n(1468))},get CollectingHandler(){return r("CollectingHandler",n(1480))},DefaultHandler:i,get RssHandler(){return r("RssHandler",this.FeedHandler)},parseDOM:function(t,e){var n=new i(e);return new o(n,e).end(t),n.dom},parseFeed:function(e,n){var r=new t.exports.FeedHandler(n);return new o(r,n).end(e),r.dom},createDomStream:function(t,e,n){var r=new i(t,e,n);return new o(r,e)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(t,e,n){function r(t,e){this._options=e||{},this._cbs=t||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(o=this._options.Tokenizer),this._tokenizer=new o(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}var o=n(1437),i={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},a={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:i,input:i,output:i,button:i,datalist:i,textarea:i,option:{option:!0},optgroup:{optgroup:!0}},s={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygon:!0},l=/\s|\//;n(1443)(r,n(1444).EventEmitter),r.prototype._updatePosition=function(t){null===this.endIndex?this._tokenizer._sectionStart<=t?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-t:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},r.prototype.ontext=function(t){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(t)},r.prototype.onopentagname=function(t){if(this._lowerCaseTagNames&&(t=t.toLowerCase()),this._tagname=t,!this._options.xmlMode&&t in a)for(var e;(e=this._stack[this._stack.length-1])in a[t];this.onclosetag(e));!this._options.xmlMode&&t in s||this._stack.push(t),this._cbs.onopentagname&&this._cbs.onopentagname(t),this._cbs.onopentag&&(this._attribs={})},r.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in s&&this._cbs.onclosetag(this._tagname),this._tagname=""},r.prototype.onclosetag=function(t){if(this._updatePosition(1),this._lowerCaseTagNames&&(t=t.toLowerCase()),!this._stack.length||t in s&&!this._options.xmlMode)this._options.xmlMode||"br"!==t&&"p"!==t||(this.onopentagname(t),this._closeCurrentTag());else{var e=this._stack.lastIndexOf(t);if(e!==-1)if(this._cbs.onclosetag)for(e=this._stack.length-e;e--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=e;else"p"!==t||this._options.xmlMode||(this.onopentagname(t),this._closeCurrentTag())}},r.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing?this._closeCurrentTag():this.onopentagend()},r.prototype._closeCurrentTag=function(){var t=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===t&&(this._cbs.onclosetag&&this._cbs.onclosetag(t),this._stack.pop())},r.prototype.onattribname=function(t){this._lowerCaseAttributeNames&&(t=t.toLowerCase()),this._attribname=t},r.prototype.onattribdata=function(t){this._attribvalue+=t},r.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},r.prototype._getInstructionName=function(t){var e=t.search(l),n=e<0?t:t.substr(0,e);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},r.prototype.ondeclaration=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("!"+e,"!"+t)}},r.prototype.onprocessinginstruction=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("?"+e,"?"+t)}},r.prototype.oncomment=function(t){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(t),this._cbs.oncommentend&&this._cbs.oncommentend()},r.prototype.oncdata=function(t){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(t),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+t+"]]")},r.prototype.onerror=function(t){this._cbs.onerror&&this._cbs.onerror(t)},r.prototype.onend=function(){if(this._cbs.onclosetag)for(var t=this._stack.length;t>0;this._cbs.onclosetag(this._stack[--t]));this._cbs.onend&&this._cbs.onend()},r.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},r.prototype.parseComplete=function(t){this.reset(),this.end(t)},r.prototype.write=function(t){this._tokenizer.write(t)},r.prototype.end=function(t){this._tokenizer.end(t)},r.prototype.pause=function(){this._tokenizer.pause()},r.prototype.resume=function(){this._tokenizer.resume()},r.prototype.parseChunk=r.prototype.write,r.prototype.done=r.prototype.end,t.exports=r},function(t,e,n){function r(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function o(t,e){return function(n){n===t&&(this._state=e)}}function i(t,e,n){var r=t.toLowerCase();return t===r?function(t){t===r?this._state=e:(this._state=n,this._index--)}:function(o){o===r||o===t?this._state=e:(this._state=n,this._index--)}}function a(t,e){var n=t.toLowerCase();return function(r){r===n||r===t?this._state=e:(this._state=m,this._index--)}}function s(t,e){this._state=h,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=h,this._special=mt,this._cbs=e,this._running=!0,this._ended=!1,this._xmlMode=!(!t||!t.xmlMode),this._decodeEntities=!(!t||!t.decodeEntities)}t.exports=s;var l=n(1438),u=n(1440),c=n(1441),f=n(1442),p=0,h=p++,d=p++,m=p++,y=p++,v=p++,g=p++,b=p++,_=p++,x=p++,w=p++,T=p++,E=p++,C=p++,k=p++,S=p++,P=p++,M=p++,A=p++,O=p++,D=p++,L=p++,I=p++,j=p++,F=p++,R=p++,N=p++,z=p++,B=p++,U=p++,W=p++,q=p++,V=p++,H=p++,G=p++,Y=p++,Z=p++,X=p++,K=p++,Q=p++,J=p++,$=p++,tt=p++,et=p++,nt=p++,rt=p++,ot=p++,it=p++,at=p++,st=p++,lt=p++,ut=p++,ct=p++,ft=p++,pt=p++,ht=p++,dt=0,mt=dt++,yt=dt++,vt=dt++;s.prototype._stateText=function(t){"<"===t?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=d,this._sectionStart=this._index):this._decodeEntities&&this._special===mt&&"&"===t&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=h,this._state=ut,this._sectionStart=this._index)},s.prototype._stateBeforeTagName=function(t){"/"===t?this._state=v:"<"===t?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===t||this._special!==mt||r(t)?this._state=h:"!"===t?(this._state=S,this._sectionStart=this._index+1):"?"===t?(this._state=M,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==t&&"S"!==t?m:q,this._sectionStart=this._index)},s.prototype._stateInTagName=function(t){("/"===t||">"===t||r(t))&&(this._emitToken("onopentagname"),this._state=_,this._index--)},s.prototype._stateBeforeCloseingTagName=function(t){r(t)||(">"===t?this._state=h:this._special!==mt?"s"===t||"S"===t?this._state=V:(this._state=h,this._index--):(this._state=g,this._sectionStart=this._index))},s.prototype._stateInCloseingTagName=function(t){(">"===t||r(t))&&(this._emitToken("onclosetag"),this._state=b,this._index--)},s.prototype._stateAfterCloseingTagName=function(t){">"===t&&(this._state=h,this._sectionStart=this._index+1)},s.prototype._stateBeforeAttributeName=function(t){">"===t?(this._cbs.onopentagend(),this._state=h,this._sectionStart=this._index+1):"/"===t?this._state=y:r(t)||(this._state=x,this._sectionStart=this._index)},s.prototype._stateInSelfClosingTag=function(t){">"===t?(this._cbs.onselfclosingtag(),this._state=h,this._sectionStart=this._index+1):r(t)||(this._state=_,this._index--)},s.prototype._stateInAttributeName=function(t){("="===t||"/"===t||">"===t||r(t))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=w,this._index--)},s.prototype._stateAfterAttributeName=function(t){"="===t?this._state=T:"/"===t||">"===t?(this._cbs.onattribend(),this._state=_,this._index--):r(t)||(this._cbs.onattribend(),this._state=x,this._sectionStart=this._index)},s.prototype._stateBeforeAttributeValue=function(t){'"'===t?(this._state=E,this._sectionStart=this._index+1):"'"===t?(this._state=C,this._sectionStart=this._index+1):r(t)||(this._state=k,this._sectionStart=this._index,this._index--)},s.prototype._stateInAttributeValueDoubleQuotes=function(t){'"'===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=_):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ut,this._sectionStart=this._index)},s.prototype._stateInAttributeValueSingleQuotes=function(t){"'"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=_):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ut,this._sectionStart=this._index)},s.prototype._stateInAttributeValueNoQuotes=function(t){r(t)||">"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=_,this._index--):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ut,this._sectionStart=this._index)},s.prototype._stateBeforeDeclaration=function(t){this._state="["===t?I:"-"===t?A:P},s.prototype._stateInDeclaration=function(t){">"===t&&(this._cbs.ondeclaration(this._getSection()),this._state=h,this._sectionStart=this._index+1)},s.prototype._stateInProcessingInstruction=function(t){">"===t&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=h,this._sectionStart=this._index+1)},s.prototype._stateBeforeComment=function(t){"-"===t?(this._state=O,this._sectionStart=this._index+1):this._state=P},s.prototype._stateInComment=function(t){"-"===t&&(this._state=D)},s.prototype._stateAfterComment1=function(t){"-"===t?this._state=L:this._state=O},s.prototype._stateAfterComment2=function(t){">"===t?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=h,this._sectionStart=this._index+1):"-"!==t&&(this._state=O)},s.prototype._stateBeforeCdata1=i("C",j,P),s.prototype._stateBeforeCdata2=i("D",F,P),s.prototype._stateBeforeCdata3=i("A",R,P),s.prototype._stateBeforeCdata4=i("T",N,P),s.prototype._stateBeforeCdata5=i("A",z,P),s.prototype._stateBeforeCdata6=function(t){"["===t?(this._state=B,this._sectionStart=this._index+1):(this._state=P,this._index--)},s.prototype._stateInCdata=function(t){"]"===t&&(this._state=U)},s.prototype._stateAfterCdata1=o("]",W),s.prototype._stateAfterCdata2=function(t){">"===t?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=h,this._sectionStart=this._index+1):"]"!==t&&(this._state=B)},s.prototype._stateBeforeSpecial=function(t){"c"===t||"C"===t?this._state=H:"t"===t||"T"===t?this._state=et:(this._state=m,this._index--)},s.prototype._stateBeforeSpecialEnd=function(t){this._special!==yt||"c"!==t&&"C"!==t?this._special!==vt||"t"!==t&&"T"!==t?this._state=h:this._state=it:this._state=K},s.prototype._stateBeforeScript1=a("R",G),s.prototype._stateBeforeScript2=a("I",Y),s.prototype._stateBeforeScript3=a("P",Z),s.prototype._stateBeforeScript4=a("T",X),s.prototype._stateBeforeScript5=function(t){("/"===t||">"===t||r(t))&&(this._special=yt),this._state=m,this._index--},s.prototype._stateAfterScript1=i("R",Q,h),s.prototype._stateAfterScript2=i("I",J,h),s.prototype._stateAfterScript3=i("P",$,h),s.prototype._stateAfterScript4=i("T",tt,h),s.prototype._stateAfterScript5=function(t){">"===t||r(t)?(this._special=mt,this._state=g,this._sectionStart=this._index-6,this._index--):this._state=h},s.prototype._stateBeforeStyle1=a("Y",nt),s.prototype._stateBeforeStyle2=a("L",rt),s.prototype._stateBeforeStyle3=a("E",ot),s.prototype._stateBeforeStyle4=function(t){("/"===t||">"===t||r(t))&&(this._special=vt),this._state=m,this._index--},s.prototype._stateAfterStyle1=i("Y",at,h),s.prototype._stateAfterStyle2=i("L",st,h),s.prototype._stateAfterStyle3=i("E",lt,h),s.prototype._stateAfterStyle4=function(t){">"===t||r(t)?(this._special=mt,this._state=g,this._sectionStart=this._index-5,this._index--):this._state=h},s.prototype._stateBeforeEntity=i("#",ct,ft),s.prototype._stateBeforeNumericEntity=i("X",ht,pt),s.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var t=this._buffer.substring(this._sectionStart+1,this._index),e=this._xmlMode?f:u;e.hasOwnProperty(t)&&(this._emitPartial(e[t]),this._sectionStart=this._index+1)}},s.prototype._parseLegacyEntity=function(){var t=this._sectionStart+1,e=this._index-t;for(e>6&&(e=6);e>=2;){var n=this._buffer.substr(t,e);if(c.hasOwnProperty(n))return this._emitPartial(c[n]),void(this._sectionStart+=e+1);e--}},s.prototype._stateInNamedEntity=function(t){";"===t?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(t<"a"||t>"z")&&(t<"A"||t>"Z")&&(t<"0"||t>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==h?"="!==t&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},s.prototype._decodeNumericEntity=function(t,e){var n=this._sectionStart+t;if(n!==this._index){var r=this._buffer.substring(n,this._index),o=parseInt(r,e);this._emitPartial(l(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},s.prototype._stateInNumericEntity=function(t){";"===t?(this._decodeNumericEntity(2,10),this._sectionStart++):(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},s.prototype._stateInHexEntity=function(t){";"===t?(this._decodeNumericEntity(3,16),this._sectionStart++):(t<"a"||t>"f")&&(t<"A"||t>"F")&&(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},s.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._index=0,this._bufferOffset+=this._index):this._running&&(this._state===h?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},s.prototype.write=function(t){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=t,this._parse()},s.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var t=this._buffer.charAt(this._index);this._state===h?this._stateText(t):this._state===d?this._stateBeforeTagName(t):this._state===m?this._stateInTagName(t):this._state===v?this._stateBeforeCloseingTagName(t):this._state===g?this._stateInCloseingTagName(t):this._state===b?this._stateAfterCloseingTagName(t):this._state===y?this._stateInSelfClosingTag(t):this._state===_?this._stateBeforeAttributeName(t):this._state===x?this._stateInAttributeName(t):this._state===w?this._stateAfterAttributeName(t):this._state===T?this._stateBeforeAttributeValue(t):this._state===E?this._stateInAttributeValueDoubleQuotes(t):this._state===C?this._stateInAttributeValueSingleQuotes(t):this._state===k?this._stateInAttributeValueNoQuotes(t):this._state===S?this._stateBeforeDeclaration(t):this._state===P?this._stateInDeclaration(t):this._state===M?this._stateInProcessingInstruction(t):this._state===A?this._stateBeforeComment(t):this._state===O?this._stateInComment(t):this._state===D?this._stateAfterComment1(t):this._state===L?this._stateAfterComment2(t):this._state===I?this._stateBeforeCdata1(t):this._state===j?this._stateBeforeCdata2(t):this._state===F?this._stateBeforeCdata3(t):this._state===R?this._stateBeforeCdata4(t):this._state===N?this._stateBeforeCdata5(t):this._state===z?this._stateBeforeCdata6(t):this._state===B?this._stateInCdata(t):this._state===U?this._stateAfterCdata1(t):this._state===W?this._stateAfterCdata2(t):this._state===q?this._stateBeforeSpecial(t):this._state===V?this._stateBeforeSpecialEnd(t):this._state===H?this._stateBeforeScript1(t):this._state===G?this._stateBeforeScript2(t):this._state===Y?this._stateBeforeScript3(t):this._state===Z?this._stateBeforeScript4(t):this._state===X?this._stateBeforeScript5(t):this._state===K?this._stateAfterScript1(t):this._state===Q?this._stateAfterScript2(t):this._state===J?this._stateAfterScript3(t):this._state===$?this._stateAfterScript4(t):this._state===tt?this._stateAfterScript5(t):this._state===et?this._stateBeforeStyle1(t):this._state===nt?this._stateBeforeStyle2(t):this._state===rt?this._stateBeforeStyle3(t):this._state===ot?this._stateBeforeStyle4(t):this._state===it?this._stateAfterStyle1(t):this._state===at?this._stateAfterStyle2(t):this._state===st?this._stateAfterStyle3(t):this._state===lt?this._stateAfterStyle4(t):this._state===ut?this._stateBeforeEntity(t):this._state===ct?this._stateBeforeNumericEntity(t):this._state===ft?this._stateInNamedEntity(t):this._state===pt?this._stateInNumericEntity(t):this._state===ht?this._stateInHexEntity(t):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},s.prototype.pause=function(){this._running=!1},s.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},s.prototype.end=function(t){this._ended&&this._cbs.onerror(Error(".end() after done!")),t&&this.write(t),this._ended=!0,this._running&&this._finish()},s.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},s.prototype._handleTrailingData=function(){var t=this._buffer.substr(this._sectionStart);this._state===B||this._state===U||this._state===W?this._cbs.oncdata(t):this._state===O||this._state===D||this._state===L?this._cbs.oncomment(t):this._state!==ft||this._xmlMode?this._state!==pt||this._xmlMode?this._state!==ht||this._xmlMode?this._state!==m&&this._state!==_&&this._state!==T&&this._state!==w&&this._state!==x&&this._state!==C&&this._state!==E&&this._state!==k&&this._state!==g&&this._cbs.ontext(t):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},s.prototype.reset=function(){s.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},s.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},s.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},s.prototype._emitToken=function(t){this._cbs[t](this._getSection()),this._sectionStart=-1},s.prototype._emitPartial=function(t){this._baseState!==h?this._cbs.onattribdata(t):this._cbs.ontext(t)}},function(t,e,n){function r(t){if(t>=55296&&t<=57343||t>1114111)return"";t in o&&(t=o[t]);var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t)}var o=n(1439);t.exports=r},function(t,e,n){t.exports=n.p+"d910d99bf12370e4fafecfec9fffe6ed.json"},function(t,e,n){t.exports=n.p+"f538a60960fcdc4a4f5ceb05a8190b1d.json"},function(t,e,n){t.exports=n.p+"109da3ab610328154d3119eec563adb2.json"},function(t,e,n){t.exports=n.p+"bcc034acc51c5c8f92c257a28ec9a1d6.json"},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function o(t){return"number"==typeof t}function i(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,o,s,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(n=this._events[t],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),u=n.slice(),o=u.length,l=0;l<o;l++)u[l].apply(this,s);return!0},n.prototype.addListener=function(t,e){var o;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),o||(o=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var o=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,o,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],a=n.length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){function r(t,e,n){"object"==typeof t?(n=e,e=t,t=null):"function"==typeof e&&(n=e,e=l),this._callback=t,this._options=e||l,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var o=n(1446),i=/\s+/g,a=n(1447),s=n(1448),l={normalizeWhitespace:!1,withStartIndices:!1};r.prototype.onparserinit=function(t){this._parser=t},r.prototype.onreset=function(){r.call(this,this._callback,this._options,this._elementCB)},r.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},r.prototype._handleCallback=r.prototype.onerror=function(t){if("function"==typeof this._callback)this._callback(t,this.dom);else if(t)throw t},r.prototype.onclosetag=function(){var t=this._tagStack.pop();this._elementCB&&this._elementCB(t)},r.prototype._addDomElement=function(t){var e=this._tagStack[this._tagStack.length-1],n=e?e.children:this.dom,r=n[n.length-1];t.next=null,this._options.withStartIndices&&(t.startIndex=this._parser.startIndex),this._options.withDomLvl1&&(t.__proto__="tag"===t.type?s:a),r?(t.prev=r,r.next=t):t.prev=null,n.push(t),t.parent=e||null},r.prototype.onopentag=function(t,e){var n={type:"script"===t?o.Script:"style"===t?o.Style:o.Tag,name:t,attribs:e,children:[]};this._addDomElement(n),this._tagStack.push(n)},r.prototype.ontext=function(t){var e,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;!this._tagStack.length&&this.dom.length&&(e=this.dom[this.dom.length-1]).type===o.Text?n?e.data=(e.data+t).replace(i," "):e.data+=t:this._tagStack.length&&(e=this._tagStack[this._tagStack.length-1])&&(e=e.children[e.children.length-1])&&e.type===o.Text?n?e.data=(e.data+t).replace(i," "):e.data+=t:(n&&(t=t.replace(i," ")),this._addDomElement({data:t,type:o.Text}))},r.prototype.oncomment=function(t){var e=this._tagStack[this._tagStack.length-1];if(e&&e.type===o.Comment)return void(e.data+=t);var n={data:t,type:o.Comment};this._addDomElement(n),this._tagStack.push(n)},r.prototype.oncdatastart=function(){var t={children:[{data:"",type:o.Text}],type:o.CDATA};this._addDomElement(t),this._tagStack.push(t)},r.prototype.oncommentend=r.prototype.oncdataend=function(){this._tagStack.pop()},r.prototype.onprocessinginstruction=function(t,e){this._addDomElement({name:t,data:e,type:o.Directive})},t.exports=r},function(t,e){t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(t){return"tag"===t.type||"script"===t.type||"style"===t.type}}},function(t,e){var n=t.exports={get firstChild(){var t=this.children;return t&&t[0]||null},get lastChild(){var t=this.children;return t&&t[t.length-1]||null},get nodeType(){return o[this.type]||o.element}},r={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},o={element:1,text:3,cdata:4,comment:8};Object.keys(r).forEach(function(t){var e=r[t];Object.defineProperty(n,t,{get:function(){return this[e]||null},set:function(t){return this[e]=t,t}})})},function(t,e,n){var r=n(1447),o=t.exports=Object.create(r),i={tagName:"name"};Object.keys(i).forEach(function(t){var e=i[t];Object.defineProperty(o,t,{get:function(){return this[e]||null},set:function(t){return this[e]=t,t}})})},function(t,e,n){function r(t,e){this.init(t,e)}function o(t,e){return c.getElementsByTagName(t,e,!0)}function i(t,e){return c.getElementsByTagName(t,e,!0,1)[0];
}function a(t,e,n){return c.getText(c.getElementsByTagName(t,e,n,1)).trim()}function s(t,e,n,r,o){var i=a(n,r,o);i&&(t[e]=i)}var l=n(1435),u=l.DomHandler,c=l.DomUtils;n(1443)(r,u),r.prototype.init=u;var f=function(t){return"rss"===t||"feed"===t||"rdf:RDF"===t};r.prototype.onend=function(){var t,e,n={},r=i(f,this.dom);r&&("feed"===r.name?(e=r.children,n.type="atom",s(n,"id","id",e),s(n,"title","title",e),(t=i("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),s(n,"description","subtitle",e),(t=a("updated",e))&&(n.updated=new Date(t)),s(n,"author","email",e,!0),n.items=o("entry",e).map(function(t){var e,n={};return t=t.children,s(n,"id","id",t),s(n,"title","title",t),(e=i("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),(e=a("summary",t)||a("content",t))&&(n.description=e),(e=a("updated",t))&&(n.pubDate=new Date(e)),n})):(e=i("channel",r.children).children,n.type=r.name.substr(0,3),n.id="",s(n,"title","title",e),s(n,"link","link",e),s(n,"description","description",e),(t=a("lastBuildDate",e))&&(n.updated=new Date(t)),s(n,"author","managingEditor",e,!0),n.items=o("item",r.children).map(function(t){var e,n={};return t=t.children,s(n,"id","guid",t),s(n,"title","title",t),s(n,"link","link",t),s(n,"description","description",t),(e=a("pubDate",t))&&(n.pubDate=new Date(e)),n}))),this.dom=n,u.prototype._handleCallback.call(this,r?null:Error("couldn't find root of feed"))},t.exports=r},function(t,e,n){function r(t){i.call(this,new o(this),t)}function o(t){this.scope=t}t.exports=r;var i=n(1451);n(1443)(r,i),r.prototype.readable=!0;var a=n(1435).EVENTS;Object.keys(a).forEach(function(t){if(0===a[t])o.prototype["on"+t]=function(){this.scope.emit(t)};else if(1===a[t])o.prototype["on"+t]=function(e){this.scope.emit(t,e)};else{if(2!==a[t])throw Error("wrong number of arguments!");o.prototype["on"+t]=function(e,n){this.scope.emit(t,e,n)}}})},function(t,e,n){function r(t,e){var n=this._parser=new o(t,e),r=this._decoder=new a;i.call(this,{decodeStrings:!1}),this.once("finish",function(){n.end(r.end())})}t.exports=r;var o=n(1436),i=n(1452).Writable||n(1466).Writable,a=n(1459).StringDecoder,s=n(999).Buffer;n(1443)(r,i),i.prototype._write=function(t,e,n){t instanceof s&&(t=this._decoder.write(t)),this._parser.write(t),n()}},function(t,e,n){function r(){o.call(this)}t.exports=r;var o=n(1444).EventEmitter,i=n(1443);i(r,o),r.Readable=n(1453),r.Writable=n(1462),r.Duplex=n(1463),r.Transform=n(1464),r.PassThrough=n(1465),r.Stream=r,r.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&u.pause&&u.pause()}function r(){u.readable&&u.resume&&u.resume()}function i(){c||(c=!0,t.end())}function a(){c||(c=!0,"function"==typeof t.destroy&&t.destroy())}function s(t){if(l(),0===o.listenerCount(this,"error"))throw t}function l(){u.removeListener("data",n),t.removeListener("drain",r),u.removeListener("end",i),u.removeListener("close",a),u.removeListener("error",s),t.removeListener("error",s),u.removeListener("end",l),u.removeListener("close",l),t.removeListener("close",l)}var u=this;u.on("data",n),t.on("drain",r),t._isStdio||e&&e.end===!1||(u.on("end",i),u.on("close",a));var c=!1;return u.on("error",s),t.on("error",s),u.on("end",l),u.on("close",l),t.on("close",l),t.emit("pipe",u),t}},function(t,e,n){(function(r){e=t.exports=n(1454),e.Stream=n(1452),e.Readable=e,e.Writable=n(1458),e.Duplex=n(1457),e.Transform=n(1460),e.PassThrough=n(1461),r.browser||"disable"!=={NODE_ENV:"production"}.READABLE_STREAM||(t.exports=n(1452))}).call(e,n(294))},function(t,e,n){(function(e){function r(t,e){var r=n(1457);t=t||{};var o=t.highWaterMark,i=t.objectMode?16:16384;this.highWaterMark=o||0===o?o:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,e instanceof r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(P||(P=n(1459).StringDecoder),this.decoder=new P(t.encoding),this.encoding=t.encoding)}function o(t){n(1457);return this instanceof o?(this._readableState=new r(t,this),this.readable=!0,void k.call(this)):new o(t)}function i(t,e,n,r,o){var i=u(e,n);if(i)t.emit("error",i);else if(S.isNullOrUndefined(n))e.reading=!1,e.ended||c(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!o){var s=new Error("stream.push() after EOF");t.emit("error",s)}else if(e.endEmitted&&o){var s=new Error("stream.unshift() after end event");t.emit("error",s)}else!e.decoder||o||r||(n=e.decoder.write(n)),o||(e.reading=!1),e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,o?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&f(t)),h(t,e);else o||(e.reading=!1);return a(e)}function a(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function s(t){if(t>=A)t=A;else{t--;for(var e=1;e<32;e<<=1)t|=t>>e;t++}return t}function l(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:isNaN(t)||S.isNull(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=s(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function u(t,e){var n=null;return S.isBuffer(e)||S.isString(e)||S.isNullOrUndefined(e)||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function c(t,e){if(e.decoder&&!e.ended){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,f(t)}function f(t){var n=t._readableState;n.needReadable=!1,n.emittedReadable||(M("emitReadable",n.flowing),n.emittedReadable=!0,n.sync?e.nextTick(function(){p(t)}):p(t))}function p(t){M("emit readable"),t.emit("readable"),g(t)}function h(t,n){n.readingMore||(n.readingMore=!0,e.nextTick(function(){d(t,n)}))}function d(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(M("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function m(t){return function(){var e=t._readableState;M("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&C.listenerCount(t,"data")&&(e.flowing=!0,g(t))}}function y(t,n){n.resumeScheduled||(n.resumeScheduled=!0,e.nextTick(function(){v(t,n)}))}function v(t,e){e.resumeScheduled=!1,t.emit("resume"),g(t),e.flowing&&!e.reading&&t.read(0)}function g(t){var e=t._readableState;if(M("flow",e.flowing),e.flowing)do var n=t.read();while(null!==n&&e.flowing)}function b(t,e){var n,r=e.buffer,o=e.length,i=!!e.decoder,a=!!e.objectMode;if(0===r.length)return null;if(0===o)n=null;else if(a)n=r.shift();else if(!t||t>=o)n=i?r.join(""):E.concat(r,o),r.length=0;else if(t<r[0].length){var s=r[0];n=s.slice(0,t),r[0]=s.slice(t)}else if(t===r[0].length)n=r.shift();else{n=i?"":new E(t);for(var l=0,u=0,c=r.length;u<c&&l<t;u++){var s=r[0],f=Math.min(t-l,s.length);i?n+=s.slice(0,f):s.copy(n,l,0,f),f<s.length?r[0]=s.slice(f):r.shift(),l+=f}}return n}function _(t){var n=t._readableState;if(n.length>0)throw new Error("endReadable called on non-empty stream");n.endEmitted||(n.ended=!0,e.nextTick(function(){n.endEmitted||0!==n.length||(n.endEmitted=!0,t.readable=!1,t.emit("end"))}))}function x(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}function w(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}t.exports=o;var T=n(1002),E=n(999).Buffer;o.ReadableState=r;var C=n(1444).EventEmitter;C.listenerCount||(C.listenerCount=function(t,e){return t.listeners(e).length});var k=n(1452),S=n(1455);S.inherits=n(1443);var P,M=n(1456);M=M&&M.debuglog?M.debuglog("stream"):function(){},S.inherits(o,k),o.prototype.push=function(t,e){var n=this._readableState;return S.isString(t)&&!n.objectMode&&(e=e||n.defaultEncoding,e!==n.encoding&&(t=new E(t,e),e="")),i(this,n,t,e,!1)},o.prototype.unshift=function(t){var e=this._readableState;return i(this,e,t,"",!0)},o.prototype.setEncoding=function(t){return P||(P=n(1459).StringDecoder),this._readableState.decoder=new P(t),this._readableState.encoding=t,this};var A=8388608;o.prototype.read=function(t){M("read",t);var e=this._readableState,n=t;if((!S.isNumber(t)||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return M("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?_(this):f(this),null;if(t=l(t,e),0===t&&e.ended)return 0===e.length&&_(this),null;var r=e.needReadable;M("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&(r=!0,M("length less than watermark",r)),(e.ended||e.reading)&&(r=!1,M("reading or ended",r)),r&&(M("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),r&&!e.reading&&(t=l(n,e));var o;return o=t>0?b(t,e):null,S.isNull(o)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),n!==t&&e.ended&&0===e.length&&_(this),S.isNull(o)||this.emit("data",o),o},o.prototype._read=function(t){this.emit("error",new Error("not implemented"))},o.prototype.pipe=function(t,n){function r(t){M("onunpipe"),t===f&&i()}function o(){M("onend"),t.end()}function i(){M("cleanup"),t.removeListener("close",l),t.removeListener("finish",u),t.removeListener("drain",y),t.removeListener("error",s),t.removeListener("unpipe",r),f.removeListener("end",o),f.removeListener("end",i),f.removeListener("data",a),!p.awaitDrain||t._writableState&&!t._writableState.needDrain||y()}function a(e){M("ondata");var n=t.write(e);!1===n&&(M("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,f.pause())}function s(e){M("onerror",e),c(),t.removeListener("error",s),0===C.listenerCount(t,"error")&&t.emit("error",e)}function l(){t.removeListener("finish",u),c()}function u(){M("onfinish"),t.removeListener("close",l),c()}function c(){M("unpipe"),f.unpipe(t)}var f=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=t;break;case 1:p.pipes=[p.pipes,t];break;default:p.pipes.push(t)}p.pipesCount+=1,M("pipe count=%d opts=%j",p.pipesCount,n);var h=(!n||n.end!==!1)&&t!==e.stdout&&t!==e.stderr,d=h?o:i;p.endEmitted?e.nextTick(d):f.once("end",d),t.on("unpipe",r);var y=m(f);return t.on("drain",y),f.on("data",a),t._events&&t._events.error?T(t._events.error)?t._events.error.unshift(s):t._events.error=[s,t._events.error]:t.on("error",s),t.once("close",l),t.once("finish",u),t.emit("pipe",f),p.flowing||(M("pipe resume"),f.resume()),t},o.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<r;o++)n[o].emit("unpipe",this);return this}var o=w(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},o.prototype.on=function(t,n){var r=k.prototype.on.call(this,t,n);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&this.readable){var o=this._readableState;if(!o.readableListening)if(o.readableListening=!0,o.emittedReadable=!1,o.needReadable=!0,o.reading)o.length&&f(this,o);else{var i=this;e.nextTick(function(){M("readable nexttick read 0"),i.read(0)})}}return r},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){var t=this._readableState;return t.flowing||(M("resume"),t.flowing=!0,t.reading||(M("resume read 0"),this.read(0)),y(this,t)),this},o.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(M("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(o){if(M("wrapped data"),e.decoder&&(o=e.decoder.write(o)),o&&(e.objectMode||o.length)){var i=r.push(o);i||(n=!0,t.pause())}});for(var o in t)S.isFunction(t[o])&&S.isUndefined(this[o])&&(this[o]=function(e){return function(){return t[e].apply(t,arguments)}}(o));var i=["error","close","destroy","pause","resume"];return x(i,function(e){t.on(e,r.emit.bind(r,e))}),r._read=function(e){M("wrapped _read",e),n&&(n=!1,t.resume())},r},o._fromList=b}).call(e,n(294))},function(t,e,n){(function(t){function n(t){return Array.isArray?Array.isArray(t):"[object Array]"===y(t)}function r(t){return"boolean"==typeof t}function o(t){return null===t}function i(t){return null==t}function a(t){return"number"==typeof t}function s(t){return"string"==typeof t}function l(t){return"symbol"==typeof t}function u(t){return void 0===t}function c(t){return"[object RegExp]"===y(t)}function f(t){return"object"==typeof t&&null!==t}function p(t){return"[object Date]"===y(t)}function h(t){return"[object Error]"===y(t)||t instanceof Error}function d(t){return"function"==typeof t}function m(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function y(t){return Object.prototype.toString.call(t)}e.isArray=n,e.isBoolean=r,e.isNull=o,e.isNullOrUndefined=i,e.isNumber=a,e.isString=s,e.isSymbol=l,e.isUndefined=u,e.isRegExp=c,e.isObject=f,e.isDate=p,e.isError=h,e.isFunction=d,e.isPrimitive=m,e.isBuffer=t.isBuffer}).call(e,n(999).Buffer)},function(t,e){},function(t,e,n){(function(e){function r(t){return this instanceof r?(l.call(this,t),u.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",o)):new r(t)}function o(){this.allowHalfOpen||this._writableState.ended||e.nextTick(this.end.bind(this))}function i(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}t.exports=r;var a=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},s=n(1455);s.inherits=n(1443);var l=n(1454),u=n(1458);s.inherits(r,l),i(a(u.prototype),function(t){r.prototype[t]||(r.prototype[t]=u.prototype[t])})}).call(e,n(294))},function(t,e,n){(function(e){function r(t,e,n){this.chunk=t,this.encoding=e,this.callback=n}function o(t,e){var r=n(1457);t=t||{};var o=t.highWaterMark,i=t.objectMode?16:16384;this.highWaterMark=o||0===o?o:i,this.objectMode=!!t.objectMode,e instanceof r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=t.decodeStrings===!1;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){h(e,t)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function i(t){var e=n(1457);return this instanceof i||this instanceof e?(this._writableState=new o(t,this),this.writable=!0,void T.call(this)):new i(t)}function a(t,n,r){var o=new Error("write after end");t.emit("error",o),e.nextTick(function(){r(o)})}function s(t,n,r,o){var i=!0;if(!(w.isBuffer(r)||w.isString(r)||w.isNullOrUndefined(r)||n.objectMode)){var a=new TypeError("Invalid non-string/buffer chunk");t.emit("error",a),e.nextTick(function(){o(a)}),i=!1}return i}function l(t,e,n){return!t.objectMode&&t.decodeStrings!==!1&&w.isString(e)&&(e=new x(e,n)),e}function u(t,e,n,o,i){n=l(e,n,o),w.isBuffer(n)&&(o="buffer");var a=e.objectMode?1:n.length;e.length+=a;var s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing||e.corked?e.buffer.push(new r(n,o,i)):c(t,e,!1,a,n,o,i),s}function c(t,e,n,r,o,i,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(o,e.onwrite):t._write(o,i,e.onwrite),e.sync=!1}function f(t,n,r,o,i){r?e.nextTick(function(){n.pendingcb--,i(o)}):(n.pendingcb--,i(o)),t._writableState.errorEmitted=!0,t.emit("error",o)}function p(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function h(t,n){var r=t._writableState,o=r.sync,i=r.writecb;if(p(r),n)f(t,r,o,n,i);else{var a=v(t,r);a||r.corked||r.bufferProcessing||!r.buffer.length||y(t,r),o?e.nextTick(function(){d(t,r,a,i)}):d(t,r,a,i)}}function d(t,e,n,r){n||m(t,e),e.pendingcb--,r(),b(t,e)}function m(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function y(t,e){if(e.bufferProcessing=!0,t._writev&&e.buffer.length>1){for(var n=[],r=0;r<e.buffer.length;r++)n.push(e.buffer[r].callback);e.pendingcb++,c(t,e,!0,e.length,e.buffer,"",function(t){for(var r=0;r<n.length;r++)e.pendingcb--,n[r](t)}),e.buffer=[]}else{for(var r=0;r<e.buffer.length;r++){var o=e.buffer[r],i=o.chunk,a=o.encoding,s=o.callback,l=e.objectMode?1:i.length;if(c(t,e,!1,l,i,a,s),e.writing){r++;break}}r<e.buffer.length?e.buffer=e.buffer.slice(r):e.buffer.length=0}e.bufferProcessing=!1}function v(t,e){return e.ending&&0===e.length&&!e.finished&&!e.writing}function g(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function b(t,e){var n=v(t,e);return n&&(0===e.pendingcb?(g(t,e),e.finished=!0,t.emit("finish")):g(t,e)),n}function _(t,n,r){n.ending=!0,b(t,n),r&&(n.finished?e.nextTick(r):t.once("finish",r)),n.ended=!0}t.exports=i;var x=n(999).Buffer;i.WritableState=o;var w=n(1455);w.inherits=n(1443);var T=n(1452);w.inherits(i,T),i.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},i.prototype.write=function(t,e,n){var r=this._writableState,o=!1;return w.isFunction(e)&&(n=e,e=null),w.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),w.isFunction(n)||(n=function(){}),r.ended?a(this,r,n):s(this,r,t,n)&&(r.pendingcb++,o=u(this,r,t,e,n)),o},i.prototype.cork=function(){var t=this._writableState;t.corked++},i.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.buffer.length||y(this,t))},i.prototype._write=function(t,e,n){n(new Error("not implemented"))},i.prototype._writev=null,i.prototype.end=function(t,e,n){var r=this._writableState;w.isFunction(t)?(n=t,t=null,e=null):w.isFunction(e)&&(n=e,e=null),w.isNullOrUndefined(t)||this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||_(this,r,n)}}).call(e,n(294))},function(t,e,n){function r(t){if(t&&!l(t))throw new Error("Unknown encoding: "+t)}function o(t){return t.toString(this.encoding)}function i(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function a(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var s=n(999).Buffer,l=s.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},u=e.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),r(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=i;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=o)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";t=t.slice(n,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=e.charCodeAt(e.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var o=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,o),o-=this.charReceived),e+=t.toString(this.encoding,0,o);var o=e.length-1,r=e.charCodeAt(o);if(r>=55296&&r<=56319){var i=this.surrogateSize;return this.charLength+=i,this.charReceived+=i,this.charBuffer.copy(this.charBuffer,i,0,i),t.copy(this.charBuffer,0,0,i),e.substring(0,o)}return e},u.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},u.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,o=this.encoding;e+=r.slice(0,n).toString(o)}return e}},function(t,e,n){function r(t,e){this.afterTransform=function(t,n){return o(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function o(t,e,n){var r=t._transformState;r.transforming=!1;var o=r.writecb;if(!o)return t.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,l.isNullOrUndefined(n)||t.push(n),o&&o(e);var i=t._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&t._read(i.highWaterMark)}function i(t){if(!(this instanceof i))return new i(t);s.call(this,t),this._transformState=new r(t,this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){l.isFunction(this._flush)?this._flush(function(t){a(e,t)}):a(e)})}function a(t,e){if(e)return t.emit("error",e);var n=t._writableState,r=t._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}t.exports=i;var s=n(1457),l=n(1455);l.inherits=n(1443),l.inherits(i,s),i.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},i.prototype._transform=function(t,e,n){throw new Error("not implemented")},i.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},i.prototype._read=function(t){var e=this._transformState;l.isNull(e.writechunk)||!e.writecb||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))}},function(t,e,n){function r(t){return this instanceof r?void o.call(this,t):new r(t)}t.exports=r;var o=n(1460),i=n(1455);i.inherits=n(1443),i.inherits(r,o),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(1458)},function(t,e,n){t.exports=n(1457)},function(t,e,n){t.exports=n(1460)},function(t,e,n){t.exports=n(1461)},1456,function(t,e,n){function r(t){this._cbs=t||{}}t.exports=r;var o=n(1435).EVENTS;Object.keys(o).forEach(function(t){if(0===o[t])t="on"+t,r.prototype[t]=function(){this._cbs[t]&&this._cbs[t]()};else if(1===o[t])t="on"+t,r.prototype[t]=function(e){this._cbs[t]&&this._cbs[t](e)};else{if(2!==o[t])throw Error("wrong number of arguments");t="on"+t,r.prototype[t]=function(e,n){this._cbs[t]&&this._cbs[t](e,n)}}})},function(t,e,n){var r=t.exports;[n(1469),n(1475),n(1476),n(1477),n(1478),n(1479)].forEach(function(t){Object.keys(t).forEach(function(e){r[e]=t[e].bind(r)})})},function(t,e,n){function r(t,e){return t.children?t.children.map(function(t){return a(t,e)}).join(""):""}function o(t){return Array.isArray(t)?t.map(o).join(""):s(t)||t.type===i.CDATA?o(t.children):t.type===i.Text?t.data:""}var i=n(1446),a=n(1470),s=i.isTag;t.exports={getInnerHTML:r,getOuterHTML:a,getText:o}},function(t,e,n){function r(t,e){if(t){var n,r="";for(var o in t)n=t[o],r&&(r+=" "),r+=!n&&f[o]?o:o+'="'+(e.decodeEntities?c.encodeXML(n):n)+'"';return r}}function o(t,e){"svg"===t.name&&(e={decodeEntities:e.decodeEntities,xmlMode:!0});var n="<"+t.name,o=r(t.attribs,e);return o&&(n+=" "+o),!e.xmlMode||t.children&&0!==t.children.length?(n+=">",t.children&&(n+=d(t.children,e)),h[t.name]&&!e.xmlMode||(n+="</"+t.name+">")):n+="/>",n}function i(t){return"<"+t.data+">"}function a(t,e){var n=t.data||"";return!e.decodeEntities||t.parent&&t.parent.name in p||(n=c.encodeXML(n)),n}function s(t){return"<![CDATA["+t.children[0].data+"]]>"}function l(t){return"<!--"+t.data+"-->"}var u=n(1471),c=n(1472),f={__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,"default":!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},p={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},h={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},d=t.exports=function(t,e){Array.isArray(t)||t.cheerio||(t=[t]),e=e||{};for(var n="",r=0;r<t.length;r++){var c=t[r];n+="root"===c.type?d(c.children,e):u.isTag(c)?o(c,e):c.type===u.Directive?i(c):c.type===u.Comment?l(c):c.type===u.CDATA?s(c):a(c,e)}return n}},function(t,e){t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",isTag:function(t){return"tag"===t.type||"script"===t.type||"style"===t.type}}},function(t,e,n){var r=n(1473),o=n(1474);e.decode=function(t,e){return(!e||e<=0?o.XML:o.HTML)(t)},e.decodeStrict=function(t,e){return(!e||e<=0?o.XML:o.HTMLStrict)(t)},e.encode=function(t,e){return(!e||e<=0?r.XML:r.HTML)(t)},e.encodeXML=r.XML,e.encodeHTML4=e.encodeHTML5=e.encodeHTML=r.HTML,e.decodeXML=e.decodeXMLStrict=o.XML,e.decodeHTML4=e.decodeHTML5=e.decodeHTML=o.HTML,e.decodeHTML4Strict=e.decodeHTML5Strict=e.decodeHTMLStrict=o.HTMLStrict,e.escape=r.escape},function(t,e,n){function r(t){return Object.keys(t).sort().reduce(function(e,n){return e[t[n]]="&"+n+";",e},{})}function o(t){var e=[],n=[];return Object.keys(t).forEach(function(t){1===t.length?e.push("\\"+t):n.push(t)}),n.unshift("["+e.join("")+"]"),new RegExp(n.join("|"),"g")}function i(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"}function a(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),r=1024*(e-55296)+n-56320+65536;return"&#x"+r.toString(16).toUpperCase()+";"}function s(t,e){function n(e){return t[e]}return function(t){return t.replace(e,n).replace(d,a).replace(h,i)}}function l(t){return t.replace(m,i).replace(d,a).replace(h,i)}var u=r(n(1442)),c=o(u);e.XML=s(u,c);var f=r(n(1440)),p=o(f);e.HTML=s(f,p);var h=/[^\0-\x7F]/g,d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=o(u);e.escape=l},function(t,e,n){function r(t){var e=Object.keys(t).join("|"),n=i(t);e+="|#[xX][\\da-fA-F]+|#\\d+";var r=new RegExp("&(?:"+e+");","g");return function(t){return String(t).replace(r,n)}}function o(t,e){return t<e?1:-1}function i(t){return function(e){return"#"===e.charAt(1)?u("X"===e.charAt(2)||"x"===e.charAt(2)?parseInt(e.substr(3),16):parseInt(e.substr(2),10)):t[e.slice(1,-1)]}}var a=n(1440),s=n(1441),l=n(1442),u=n(1438),c=r(l),f=r(a),p=function(){function t(t){return";"!==t.substr(-1)&&(t+=";"),c(t)}for(var e=Object.keys(s).sort(o),n=Object.keys(a).sort(o),r=0,l=0;r<n.length;r++)e[l]===n[r]?(n[r]+=";?",l++):n[r]+=";";var u=new RegExp("&(?:"+n.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),c=i(a);return function(e){return String(e).replace(u,t)}}();t.exports={XML:c,HTML:p,HTMLStrict:f}},function(t,e){var n=e.getChildren=function(t){return t.children},r=e.getParent=function(t){return t.parent};e.getSiblings=function(t){var e=r(t);return e?n(e):[t]},e.getAttributeValue=function(t,e){return t.attribs&&t.attribs[e]},e.hasAttrib=function(t,e){return!!t.attribs&&hasOwnProperty.call(t.attribs,e)},e.getName=function(t){return t.name}},function(t,e){e.removeElement=function(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children;e.splice(e.lastIndexOf(t),1)}},e.replaceElement=function(t,e){var n=e.prev=t.prev;n&&(n.next=e);var r=e.next=t.next;r&&(r.prev=e);var o=e.parent=t.parent;if(o){var i=o.children;i[i.lastIndexOf(t)]=e}},e.appendChild=function(t,e){if(e.parent=t,1!==t.children.push(e)){var n=t.children[t.children.length-2];n.next=e,e.prev=n,e.next=null}},e.append=function(t,e){var n=t.parent,r=t.next;if(e.next=r,e.prev=t,t.next=e,e.parent=n,r){if(r.prev=e,n){var o=n.children;o.splice(o.lastIndexOf(r),0,e)}}else n&&n.children.push(e)},e.prepend=function(t,e){var n=t.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=n,e.prev=t.prev,e.next=t,t.prev=e}},function(t,e,n){function r(t,e,n,r){return Array.isArray(e)||(e=[e]),"number"==typeof r&&isFinite(r)||(r=1/0),o(t,e,n!==!1,r)}function o(t,e,n,r){for(var i,a=[],s=0,l=e.length;s<l&&!(t(e[s])&&(a.push(e[s]),--r<=0))&&(i=e[s].children,!(n&&i&&i.length>0&&(i=o(t,i,n,r),a=a.concat(i),r-=i.length,r<=0)));s++);return a}function i(t,e){for(var n=0,r=e.length;n<r;n++)if(t(e[n]))return e[n];return null}function a(t,e){for(var n=null,r=0,o=e.length;r<o&&!n;r++)u(e[r])&&(t(e[r])?n=e[r]:e[r].children.length>0&&(n=a(t,e[r].children)));return n}function s(t,e){for(var n=0,r=e.length;n<r;n++)if(u(e[n])&&(t(e[n])||e[n].children.length>0&&s(t,e[n].children)))return!0;return!1}function l(t,e){for(var n=[],r=0,o=e.length;r<o;r++)u(e[r])&&(t(e[r])&&n.push(e[r]),e[r].children.length>0&&(n=n.concat(l(t,e[r].children))));return n}var u=n(1446).isTag;t.exports={filter:r,find:o,findOneChild:i,findOne:a,existsOne:s,findAll:l}},function(t,e,n){function r(t,e){return"function"==typeof e?function(n){return n.attribs&&e(n.attribs[t])}:function(n){return n.attribs&&n.attribs[t]===e}}function o(t,e){return function(n){return t(n)||e(n)}}var i=n(1446),a=e.isTag=i.isTag;e.testElement=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){if("tag_name"===n){if(!a(e)||!t.tag_name(e.name))return!1}else if("tag_type"===n){if(!t.tag_type(e.type))return!1}else if("tag_contains"===n){if(a(e)||!t.tag_contains(e.data))return!1}else if(!e.attribs||!t[n](e.attribs[n]))return!1}else;return!0};var s={tag_name:function(t){return"function"==typeof t?function(e){return a(e)&&t(e.name)}:"*"===t?a:function(e){return a(e)&&e.name===t}},tag_type:function(t){return"function"==typeof t?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return"function"==typeof t?function(e){return!a(e)&&t(e.data)}:function(e){return!a(e)&&e.data===t}}};e.getElements=function(t,e,n,i){var a=Object.keys(t).map(function(e){var n=t[e];return e in s?s[e](n):r(e,n)});return 0===a.length?[]:this.filter(a.reduce(o),e,n,i)},e.getElementById=function(t,e,n){return Array.isArray(e)||(e=[e]),this.findOne(r("id",t),e,n!==!1)},e.getElementsByTagName=function(t,e,n,r){return this.filter(s.tag_name(t),e,n,r)},e.getElementsByTagType=function(t,e,n,r){return this.filter(s.tag_type(t),e,n,r)}},function(t,e){e.removeSubsets=function(t){for(var e,n,r,o=t.length;--o>-1;){for(e=n=t[o],t[o]=null,r=!0;n;){if(t.indexOf(n)>-1){r=!1,t.splice(o,1);break}n=n.parent}r&&(t[o]=e)}return t};var n={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},r=e.compareDocumentPosition=function(t,e){var r,o,i,a,s,l,u=[],c=[];if(t===e)return 0;for(r=t;r;)u.unshift(r),r=r.parent;for(r=e;r;)c.unshift(r),r=r.parent;for(l=0;u[l]===c[l];)l++;return 0===l?n.DISCONNECTED:(o=u[l-1],i=o.children,a=u[l],s=c[l],i.indexOf(a)>i.indexOf(s)?o===e?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:o===t?n.PRECEDING|n.CONTAINS:n.PRECEDING)};e.uniqueSort=function(t){var e,o,i=t.length;for(t=t.slice();--i>-1;)e=t[i],o=t.indexOf(e),o>-1&&o<i&&t.splice(i,1);return t.sort(function(t,e){var o=r(t,e);return o&n.PRECEDING?-1:o&n.FOLLOWING?1:0}),t}},function(t,e,n){function r(t){this._cbs=t||{},this.events=[]}t.exports=r;var o=n(1435).EVENTS;Object.keys(o).forEach(function(t){if(0===o[t])t="on"+t,r.prototype[t]=function(){this.events.push([t]),this._cbs[t]&&this._cbs[t]()};else if(1===o[t])t="on"+t,r.prototype[t]=function(e){this.events.push([t,e]),this._cbs[t]&&this._cbs[t](e)};else{if(2!==o[t])throw Error("wrong number of arguments");
t="on"+t,r.prototype[t]=function(e,n){this.events.push([t,e,n]),this._cbs[t]&&this._cbs[t](e,n)}}}),r.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},r.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var t=0,e=this.events.length;t<e;t++)if(this._cbs[this.events[t][0]]){var n=this.events[t].length;1===n?this._cbs[this.events[t][0]]():2===n?this._cbs[this.events[t][0]](this.events[t][1]):this._cbs[this.events[t][0]](this.events[t][1],this.events[t][2])}}},function(t,e,n){"use strict";var r=n(1482),o=n(1483),i=function(t){var e=new o(t);return{defaultProcessingInstructions:[{shouldProcessNode:r.shouldProcessEveryNode,processNode:e.processDefaultNode}]}};t.exports=i},function(t,e){"use strict";function n(t){return!0}t.exports={shouldProcessEveryNode:n}},function(t,e,n){"use strict";function r(t){if(!t)return{};for(var e,n,r,i=t.split(";"),a={},s=0;s<i.length;s++)e=i[s].split(":"),n=o(e[0]),r=e[1],n.length>0&&r.length>0&&(a[n]=r);return a}var o=n(1484),i=n(1485),a=n(1486),s=n(1487),l=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","textarea"],u=function(t){function e(e,n,o){if("text"===e.type)return s.decode(e.data);if("comment"===e.type)return!1;var u={key:o};return e.attribs&&i(e.attribs,function(t,n){switch(n||""){case"style":u.style=r(e.attribs.style);break;case"class":u.className=t;break;default:u[n]=t}}),a(l,e.name)?t.createElement(e.name,u):void 0!==e.data?t.createElement(e.name,u,e.data,n):t.createElement(e.name,u,n)}return{processDefaultNode:e}};t.exports=u},function(t,e){(function(e){function n(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function r(t){return t.split("")}function o(t){return t.match(E)||[]}function i(t){return function(e){return null==t?void 0:t[e]}}function a(t){return ht.test(t)}function s(t){return dt.test(t)}function l(t){return a(t)?u(t):r(t)}function u(t){return t.match(ft)||[]}function c(t){return t.match(pt)||[]}function f(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}function p(t){if("string"==typeof t)return t;if(v(t))return Et?Et.call(t):"";var e=t+"";return"0"==e&&1/t==-w?"-0":e}function h(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:f(t,e,n)}function d(t){return function(e){e=g(e);var n=a(e)?l(e):void 0,r=n?n[0]:e.charAt(0),o=n?h(n,1).join(""):e.slice(1);return r[t]()+o}}function m(t){return function(e){return n(x(_(e).replace(ut,"")),t,"")}}function y(t){return!!t&&"object"==typeof t}function v(t){return"symbol"==typeof t||y(t)&&xt.call(t)==T}function g(t){return null==t?"":p(t)}function b(t){return kt(g(t).toLowerCase())}function _(t){return t=g(t),t&&t.replace(C,bt).replace(ct,"")}function x(t,e,n){return t=g(t),e=n?void 0:e,void 0===e?s(t)?c(t):o(t):t.match(e)||[]}var w=1/0,T="[object Symbol]",E=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,C=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,k="\\ud800-\\udfff",S="\\u0300-\\u036f\\ufe20-\\ufe23",P="\\u20d0-\\u20f0",M="\\u2700-\\u27bf",A="a-z\\xdf-\\xf6\\xf8-\\xff",O="\\xac\\xb1\\xd7\\xf7",D="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",L="\\u2000-\\u206f",I=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",j="A-Z\\xc0-\\xd6\\xd8-\\xde",F="\\ufe0e\\ufe0f",R=O+D+L+I,N="[']",z="["+k+"]",B="["+R+"]",U="["+S+P+"]",W="\\d+",q="["+M+"]",V="["+A+"]",H="[^"+k+R+W+M+A+j+"]",G="\\ud83c[\\udffb-\\udfff]",Y="(?:"+U+"|"+G+")",Z="[^"+k+"]",X="(?:\\ud83c[\\udde6-\\uddff]){2}",K="[\\ud800-\\udbff][\\udc00-\\udfff]",Q="["+j+"]",J="\\u200d",$="(?:"+V+"|"+H+")",tt="(?:"+Q+"|"+H+")",et="(?:"+N+"(?:d|ll|m|re|s|t|ve))?",nt="(?:"+N+"(?:D|LL|M|RE|S|T|VE))?",rt=Y+"?",ot="["+F+"]?",it="(?:"+J+"(?:"+[Z,X,K].join("|")+")"+ot+rt+")*",at=ot+rt+it,st="(?:"+[q,X,K].join("|")+")"+at,lt="(?:"+[Z+U+"?",U,X,K,z].join("|")+")",ut=RegExp(N,"g"),ct=RegExp(U,"g"),ft=RegExp(G+"(?="+G+")|"+lt+at,"g"),pt=RegExp([Q+"?"+V+"+"+et+"(?="+[B,Q,"$"].join("|")+")",tt+"+"+nt+"(?="+[B,Q+$,"$"].join("|")+")",Q+"?"+$+"+"+et,Q+"+"+nt,W,st].join("|"),"g"),ht=RegExp("["+J+k+S+P+F+"]"),dt=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mt={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"ss"},yt="object"==typeof e&&e&&e.Object===Object&&e,vt="object"==typeof self&&self&&self.Object===Object&&self,gt=yt||vt||Function("return this")(),bt=i(mt),_t=Object.prototype,xt=_t.toString,wt=gt.Symbol,Tt=wt?wt.prototype:void 0,Et=Tt?Tt.toString:void 0,Ct=m(function(t,e,n){return e=e.toLowerCase(),t+(n?b(e):e)}),kt=d("toUpperCase");t.exports=Ct}).call(e,function(){return this}())},function(t,e){function n(t,e){for(var n=-1,r=t?t.length:0;++n<r&&e(t[n],n,t)!==!1;);return t}function r(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function o(t,e){return function(n){return t(e(n))}}function i(t,e){var n=I(t)||h(t)?r(t.length,String):[],o=n.length,i=!!o;for(var a in t)!e&&!P.call(t,a)||i&&("length"==a||c(a,o))||n.push(a);return n}function a(t,e){return t&&L(t,e,_)}function s(t){if(!f(t))return O(t);var e=[];for(var n in Object(t))P.call(t,n)&&"constructor"!=n&&e.push(n);return e}function l(t,e){return function(n,r){if(null==n)return n;if(!d(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Object(n);(e?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}function u(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++o];if(n(i[l],l,i)===!1)break}return e}}function c(t,e){return e=null==e?w:e,!!e&&("number"==typeof t||k.test(t))&&t>-1&&t%1==0&&t<e}function f(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||S;return t===n}function p(t,e){var r=I(t)?n:D;return r(t,"function"==typeof e?e:x)}function h(t){return m(t)&&P.call(t,"callee")&&(!A.call(t,"callee")||M.call(t)==T)}function d(t){return null!=t&&v(t.length)&&!y(t)}function m(t){return b(t)&&d(t)}function y(t){var e=g(t)?M.call(t):"";return e==E||e==C}function v(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=w}function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function b(t){return!!t&&"object"==typeof t}function _(t){return d(t)?i(t):s(t)}function x(t){return t}var w=9007199254740991,T="[object Arguments]",E="[object Function]",C="[object GeneratorFunction]",k=/^(?:0|[1-9]\d*)$/,S=Object.prototype,P=S.hasOwnProperty,M=S.toString,A=S.propertyIsEnumerable,O=o(Object.keys,Object),D=l(a),L=u(),I=Array.isArray;t.exports=p},function(t,e){function n(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function r(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function o(t,e,n){if(e!==e)return r(t,i,n);for(var o=n-1,a=t.length;++o<a;)if(t[o]===e)return o;return-1}function i(t){return t!==t}function a(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function s(t,e){return n(e,function(e){return t[e]})}function l(t,e){return function(n){return t(e(n))}}function u(t,e){var n=X(t)||d(t)?a(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!V.call(t,i)||o&&("length"==i||f(i,r))||n.push(i);return n}function c(t){if(!p(t))return Y(t);var e=[];for(var n in Object(t))V.call(t,n)&&"constructor"!=n&&e.push(n);return e}function f(t,e){return e=null==e?M:e,!!e&&("number"==typeof t||U.test(t))&&t>-1&&t%1==0&&t<e}function p(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||q;return t===n}function h(t,e,n,r){t=m(t)?t:S(t),n=n&&!r?E(n):0;var i=t.length;return n<0&&(n=Z(i+n,0)),x(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&o(t,e,n)>-1}function d(t){return y(t)&&V.call(t,"callee")&&(!G.call(t,"callee")||H.call(t)==D)}function m(t){return null!=t&&g(t.length)&&!v(t)}function y(t){return _(t)&&m(t)}function v(t){var e=b(t)?H.call(t):"";return e==L||e==I}function g(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=M}function b(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function _(t){return!!t&&"object"==typeof t}function x(t){return"string"==typeof t||!X(t)&&_(t)&&H.call(t)==j}function w(t){return"symbol"==typeof t||_(t)&&H.call(t)==F}function T(t){if(!t)return 0===t?t:0;if(t=C(t),t===P||t===-P){var e=t<0?-1:1;return e*A}return t===t?t:0}function E(t){var e=T(t),n=e%1;return e===e?n?e-n:e:0}function C(t){if("number"==typeof t)return t;if(w(t))return O;if(b(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=b(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(R,"");var n=z.test(t);return n||B.test(t)?W(t.slice(2),n?2:8):N.test(t)?O:+t}function k(t){return m(t)?u(t):c(t)}function S(t){return t?s(t,k(t)):[]}var P=1/0,M=9007199254740991,A=1.7976931348623157e308,O=NaN,D="[object Arguments]",L="[object Function]",I="[object GeneratorFunction]",j="[object String]",F="[object Symbol]",R=/^\s+|\s+$/g,N=/^[-+]0x[0-9a-f]+$/i,z=/^0b[01]+$/i,B=/^0o[0-7]+$/i,U=/^(?:0|[1-9]\d*)$/,W=parseInt,q=Object.prototype,V=q.hasOwnProperty,H=q.toString,G=q.propertyIsEnumerable,Y=l(Object.keys,Object),Z=Math.max,X=Array.isArray;t.exports=h},function(t,e,n){e.encode=n(1488),e.decode=n(1491)},function(t,e,n){function r(t,e){if("string"!=typeof t)throw new TypeError("Expected a String");e||(e={});var n=!0;e.named&&(n=!1),void 0!==e.numeric&&(n=e.numeric);for(var r=e.special||{'"':!0,"'":!0,"<":!0,">":!0,"&":!0},a=o.ucs2.decode(t),s=[],l=0;l<a.length;l++){var u=a[l],c=o.ucs2.encode([u]),f=i[u];f&&(u>=127||r[c])&&!n?s.push("&"+(/;$/.test(f)?f:f+";")):u<32||u>=127||r[c]?s.push("&#"+u+";"):s.push(c)}return s.join("")}var o=n(1489),i=n(1490);t.exports=r},function(t,e,n){var r;(function(t,o){!function(i){function a(t){throw new RangeError(D[t])}function s(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function l(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(O,".");var o=t.split("."),i=s(o,e).join(".");return r+i}function u(t){for(var e,n,r=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function c(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=j(t>>>10&1023|55296),t=56320|1023&t),e+=j(t)}).join("")}function f(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:x}function p(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function h(t,e,n){var r=0;for(t=n?I(t/C):t>>1,t+=I(t/e);t>L*T>>1;r+=x)t=I(t/L);return I(r+(L+1)*t/(t+E))}function d(t){var e,n,r,o,i,s,l,u,p,d,m=[],y=t.length,v=0,g=S,b=k;for(n=t.lastIndexOf(P),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&a("not-basic"),m.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<y;){for(i=v,s=1,l=x;o>=y&&a("invalid-input"),u=f(t.charCodeAt(o++)),(u>=x||u>I((_-v)/s))&&a("overflow"),v+=u*s,p=l<=b?w:l>=b+T?T:l-b,!(u<p);l+=x)d=x-p,s>I(_/d)&&a("overflow"),s*=d;e=m.length+1,b=h(v-i,e,0==i),I(v/e)>_-g&&a("overflow"),g+=I(v/e),v%=e,m.splice(v++,0,g)}return c(m)}function m(t){var e,n,r,o,i,s,l,c,f,d,m,y,v,g,b,E=[];for(t=u(t),y=t.length,e=S,n=0,i=k,s=0;s<y;++s)m=t[s],m<128&&E.push(j(m));for(r=o=E.length,o&&E.push(P);r<y;){for(l=_,s=0;s<y;++s)m=t[s],m>=e&&m<l&&(l=m);for(v=r+1,l-e>I((_-n)/v)&&a("overflow"),n+=(l-e)*v,e=l,s=0;s<y;++s)if(m=t[s],m<e&&++n>_&&a("overflow"),m==e){for(c=n,f=x;d=f<=i?w:f>=i+T?T:f-i,!(c<d);f+=x)b=c-d,g=x-d,E.push(j(p(d+b%g,0))),c=I(b/g);E.push(j(p(c,0))),i=h(n,v,r==o),n=0,++r}++n,++e}return E.join("")}function y(t){return l(t,function(t){return M.test(t)?d(t.slice(4).toLowerCase()):t})}function v(t){return l(t,function(t){return A.test(t)?"xn--"+m(t):t})}var g=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof o&&o);g.global!==g&&g.window!==g&&g.self!==g||(i=g);var b,_=2147483647,x=36,w=1,T=26,E=38,C=700,k=72,S=128,P="-",M=/^xn--/,A=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=x-w,I=Math.floor,j=String.fromCharCode;b={version:"1.4.1",ucs2:{decode:u,encode:c},decode:d,encode:m,toASCII:v,toUnicode:y},r=function(){return b}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(720)(t),function(){return this}())},function(t,e,n){t.exports=n.p+"0e8627b4f61088c11717365add73616c.json"},function(t,e,n){function r(t){if("string"!=typeof t)throw new TypeError("Expected a String");return t.replace(/&(#?[^;\W]+;?)/g,function(t,e){var n;if(n=/^#(\d+);?$/.exec(e))return o.ucs2.encode([parseInt(n[1],10)]);if(n=/^#[Xx]([A-Fa-f0-9]+);?/.exec(e))return o.ucs2.encode([parseInt(n[1],16)]);var r=/;$/.test(e),a=r?e.replace(/;$/,""):e,s=i[a]||r&&i[e];return"number"==typeof s?o.ucs2.encode([s]):"string"==typeof s?s:"&"+e})}var o=n(1489),i=n(1492);t.exports=r},function(t,e,n){t.exports=n.p+"f7871860056163bb835882b4f4e990ca.json"},function(t,e){"use strict";function n(){return!0}t.exports={alwaysValid:n}},function(t,e,n){var r=n(1495),o=n(1503),i=o(function(t,e,n){return e=e.toLowerCase(),t+(n?r(e):e)});t.exports=i},function(t,e,n){function r(t){return i(o(t).toLowerCase())}var o=n(740),i=n(1496);t.exports=r},function(t,e,n){var r=n(1497),o=r("toUpperCase");t.exports=o},function(t,e,n){function r(t){return function(e){e=s(e);var n=i(e)?a(e):void 0,r=n?n[0]:e.charAt(0),l=n?o(n,1).join(""):e.slice(1);return r[t]()+l}}var o=n(1498),i=n(1499),a=n(1500),s=n(740);t.exports=r},function(t,e,n){function r(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:o(t,e,n)}var o=n(1212);t.exports=r},function(t,e){function n(t){return l.test(t)}var r="\\ud800-\\udfff",o="\\u0300-\\u036f\\ufe20-\\ufe23",i="\\u20d0-\\u20f0",a="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+r+o+i+a+"]");t.exports=n},function(t,e,n){function r(t){return i(t)?a(t):o(t)}var o=n(1501),i=n(1499),a=n(1502);t.exports=r},function(t,e){function n(t){return t.split("")}t.exports=n},function(t,e){function n(t){return t.match(_)||[]}var r="\\ud800-\\udfff",o="\\u0300-\\u036f\\ufe20-\\ufe23",i="\\u20d0-\\u20f0",a="\\ufe0e\\ufe0f",s="["+r+"]",l="["+o+i+"]",u="\\ud83c[\\udffb-\\udfff]",c="(?:"+l+"|"+u+")",f="[^"+r+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",d="\\u200d",m=c+"?",y="["+a+"]?",v="(?:"+d+"(?:"+[f,p,h].join("|")+")"+y+m+")*",g=y+m+v,b="(?:"+[f+l+"?",l,p,h,s].join("|")+")",_=RegExp(u+"(?="+u+")|"+b+g,"g");t.exports=n},function(t,e,n){function r(t){return function(e){return o(a(i(e).replace(l,"")),t,"")}}var o=n(844),i=n(1504),a=n(1507),s="[']",l=RegExp(s,"g");t.exports=r},function(t,e,n){function r(t){return t=i(t),t&&t.replace(a,o).replace(c,"")}var o=n(1505),i=n(740),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s="\\u0300-\\u036f\\ufe20-\\ufe23",l="\\u20d0-\\u20f0",u="["+s+l+"]",c=RegExp(u,"g");t.exports=r},function(t,e,n){var r=n(1506),o={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},i=r(o);t.exports=i},function(t,e){function n(t){return function(e){return null==t?void 0:t[e]}}t.exports=n},function(t,e,n){function r(t,e,n){return t=a(t),e=n?void 0:e,void 0===e?i(t)?s(t):o(t):t.match(e)||[]}var o=n(1508),i=n(1509),a=n(740),s=n(1510);t.exports=r},function(t,e){function n(t){return t.match(r)||[]}var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;t.exports=n},function(t,e){function n(t){return r.test(t)}var r=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;t.exports=n},function(t,e){function n(t){return t.match(N)||[]}var r="\\ud800-\\udfff",o="\\u0300-\\u036f\\ufe20-\\ufe23",i="\\u20d0-\\u20f0",a="\\u2700-\\u27bf",s="a-z\\xdf-\\xf6\\xf8-\\xff",l="\\xac\\xb1\\xd7\\xf7",u="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",c="\\u2000-\\u206f",f=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="A-Z\\xc0-\\xd6\\xd8-\\xde",h="\\ufe0e\\ufe0f",d=l+u+c+f,m="[']",y="["+d+"]",v="["+o+i+"]",g="\\d+",b="["+a+"]",_="["+s+"]",x="[^"+r+d+g+a+s+p+"]",w="\\ud83c[\\udffb-\\udfff]",T="(?:"+v+"|"+w+")",E="[^"+r+"]",C="(?:\\ud83c[\\udde6-\\uddff]){2}",k="[\\ud800-\\udbff][\\udc00-\\udfff]",S="["+p+"]",P="\\u200d",M="(?:"+_+"|"+x+")",A="(?:"+S+"|"+x+")",O="(?:"+m+"(?:d|ll|m|re|s|t|ve))?",D="(?:"+m+"(?:D|LL|M|RE|S|T|VE))?",L=T+"?",I="["+h+"]?",j="(?:"+P+"(?:"+[E,C,k].join("|")+")"+I+L+")*",F=I+L+j,R="(?:"+[b,C,k].join("|")+")"+F,N=RegExp([S+"?"+_+"+"+O+"(?="+[y,S,"$"].join("|")+")",A+"+"+D+"(?="+[y,S+M,"$"].join("|")+")",S+"?"+M+"+"+O,S+"+"+D,g,R].join("|"),"g");t.exports=n},function(t,e,n){var r=n(1512);"string"==typeof r&&(r=[[t.id,r,""]]);n(782)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(781)(),e.push([t.id,".item-template{display:inline-block}.template-container{padding:10px}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(316),a=r(i),s=n(955),l=r(s),u=n(971),c=r(u),f=n(1357),p=r(f),h=n(768),d=r(h),m=n(952),y=r(m),v=n(721),g=r(v),b=n(582),_=r(b),x=n(583),w=r(x),T=n(584),E=r(T),C=n(1103),k=r(C),S=n(945),P=r(S),M=n(1021),A=r(M),O=n(957),D=r(O),L=n(750),I=r(L),j=n(1514),F=r(j),R=n(1387),N=r(R),z=n(940),B=r(z),U=n(1567),W=r(U),q=n(1429),V=r(q),H=n(1065),G=r(H),Y=n(1568),Z=r(Y),X=1e5,K=a["default"].createClass({displayName:"DataTableWithActions",mixins:[E["default"],_["default"],w["default"]],propTypes:{setProps:a["default"].PropTypes.func,title:a["default"].PropTypes.string,table:a["default"].PropTypes.string.isRequired,query:a["default"].PropTypes.string,order:a["default"].PropTypes.string,ascending:a["default"].PropTypes.bool,columns:a["default"].PropTypes.array,columnWidths:a["default"].PropTypes.object,initialStartRowIndex:a["default"].PropTypes.number,sidebar:a["default"].PropTypes.bool,initialSearchFocus:a["default"].PropTypes.bool,searchText:a["default"].PropTypes.string},getDefaultProps:function(){return{table:null,query:B["default"].nullQuery,order:null,ascending:!0,columnWidths:{},initialStartRowIndex:0,sidebar:!0,initialSearchFocus:!1,searchText:""}},getInitialState:function(){return{fetchedRowsCount:0,startRowIndex:this.props.initialStartRowIndex,showableRowsCount:0,searchOpen:this.props.initialSearchFocus||""!==this.props.searchText,totalTruncatedRowsCount:0}},componentWillMount:function(){var t=this;this.propertyGroups={},(0,g["default"])(this.tableConfig().propertyGroups,function(e,n){var r=(0,d["default"])(e.properties,{showInTable:!0});r.length>0&&(t.propertyGroups[n]=(0,p["default"])(e),t.propertyGroups[n].properties=r)})},componentDidUpdate:function(t,e){this.state.searchOpen&&""===this.props.searchText&&this.refs.searchField.focus()},icon:function(){return this.tableConfig().icon},title:function(){return this.props.title||this.tableConfig().capNamePlural},handleQueryPick:function(t){this.props.setProps({query:t})},handleColumnChange:function(t){this.getFlux().actions.session.modalClose(),this.props.setProps(function(e){return e.set("columns",t)})},handleColumnResize:function(t,e){this.props.setProps({columnWidths:o({},t,e)})},handleOrderChange:function(t,e){this.props.setProps({order:t,ascending:e})},handleFetchedRowsCountChange:function(t){this.setState({fetchedRowsCount:t})},handleShowableRowsCountChange:function(t){this.setState({showableRowsCount:t})},handleTotalTruncatedRowsCountChange:function(t){this.setState({totalTruncatedRowsCount:t})},handleNextPage:function(){this.setState({startRowIndex:this.state.startRowIndex+this.state.showableRowsCount})},handlePreviousPage:function(){var t=this.state.startRowIndex-this.state.showableRowsCount;t<0&&(t=0),this.setState({startRowIndex:t})},handleFirstPage:function(){this.setState({startRowIndex:0})},handleLastPage:function(){this.setState({startRowIndex:this.state.totalTruncatedRowsCount-this.state.showableRowsCount})},handleDownload:function(){W["default"].downloadTableData({dataset:this.config.dataset,table:this.props.table,tableConfig:this.tableConfig(),truncatedRowsCount:this.state.totalTruncatedRowsCount,onLimitBreach:this.handleDownloadLimitBreach,query:this.props.query,columns:this.props.columns,ascending:this.props.ascending})},handleDownloadLimitBreach:function(t){var e=t.totalDataPoints,n=t.maxDataPoints,r="You have asked to download "+e+" data points, which is more than our current limit of "+n+". Please use a stricter filter or fewer columns, or contact us directly.";this.getFlux().actions.session.modalOpen("ui/Alert",{title:"Warning",message:r})},handleSearchOpen:function(){this.setState({searchOpen:!0})},handleSearchChange:function(t){this.props.setProps({searchText:t.target.value})},handleSearchBlur:function(t){""===t.target.value&&this.setState({searchOpen:!1})},createDataTableQuery:function(){var t=this.props,e=t.query,n=t.searchText,r=e;if(""!==n){for(var o=null,i=0,a=this.tableConfig().quickFindFields.length;i<a;i++){var s=this.tableConfig().quickFindFields[i],l=B["default"].WhereClause.CompareFixed(this.tableConfig().propertiesById[s].id,"CONTAINS",n);if(0===i)o=l;else if(1===i){var u=B["default"].WhereClause.Compound("OR"),c=(0,p["default"])(o);u.addComponent(c),u.addComponent(l),Object.assign(o,u)}else o.addComponent(l)}var f=B["default"].WhereClause.decode(e);if(f.isTrivial)r=B["default"].WhereClause.encode(o);else{var h=B["default"].WhereClause.Compound("AND"),d=(0,p["default"])(f);h.addComponent(d),h.addComponent(o),r=B["default"].WhereClause.encode(h)}}return r},render:function(){var t=this,e=this.getFlux().actions,n=this.props,r=n.table,o=n.query,i=n.columns,s=n.columnWidths,u=n.order,f=n.ascending,p=n.sidebar,h=n.setProps,m=n.searchText,v=this.state,g=v.fetchedRowsCount,b=v.startRowIndex,_=v.showableRowsCount,x=v.searchOpen,w=v.totalTruncatedRowsCount;i||(i=(0,d["default"])(this.tableConfig().properties,function(t){return t.showByDefault&&t.showInTable}),i=(0,y["default"])(i,function(t){return t.id}));for(var T=this.tableConfig(),E=T.description,C="",S=0,M=this.tableConfig().quickFindFields.length;S<M;S++){var O=this.tableConfig().quickFindFields[S];0==S&&(C+="Columns: "),0!=S&&(C+=", "),C+=this.tableConfig().propertiesById[O].name}var L=a["default"].createElement(k["default"],{label:"Find text",disabled:0===i.size,primary:!0,onClick:this.handleSearchOpen,icon:a["default"].createElement(I["default"],{fixedWidth:!0,name:"search"})});x&&(L=a["default"].createElement("div",null,a["default"].createElement(P["default"],{label:"Find text",disabled:0===i.size,primary:!0,icon:a["default"].createElement(I["default"],{fixedWidth:!0,name:"search",inverse:!0})}),a["default"].createElement(A["default"],{ref:"searchField",fullWidth:!0,floatingLabelText:"Search",value:m,onChange:this.handleSearchChange,onBlur:this.handleSearchBlur}),a["default"].createElement("div",null,C)));var j=this.createDataTableQuery(),R=a["default"].createElement(V["default"],null,E),z=a["default"].createElement("div",{className:"sidebar"},a["default"].createElement(D["default"],{icon:this.icon(),description:R}),a["default"].createElement(G["default"],{table:r,query:o,onPick:this.handleQueryPick}),a["default"].createElement(k["default"],{label:"Add/Remove Columns",primary:!0,onClick:function(){return e.session.modalOpen("containers/GroupedItemPicker",{groups:t.propertyGroups,initialPick:i,title:"Pick columns for "+t.tableConfig().capNamePlural+" table",onPick:t.handleColumnChange})},icon:a["default"].createElement(I["default"],{fixedWidth:!0,name:"columns"})}),a["default"].createElement(k["default"],{label:"Download data",disabled:0===i.size,primary:!0,onClick:function(){return t.handleDownload()},icon:a["default"].createElement(I["default"],{fixedWidth:!0,name:"download"})}),L,a["default"].createElement(k["default"],{label:"Pivot Table",primary:!0,onClick:function(){return t.flux.actions.session.tabOpen(a["default"].createElement(Z["default"],{table:r}),!0)},icon:a["default"].createElement(I["default"],{fixedWidth:!0,name:"table"})})),B=null;B=0!=b?a["default"].createElement("span",null,a["default"].createElement(I["default"],{className:"pointer icon",name:"fast-backward",title:"First "+_+" rows",onClick:this.handleFirstPage}),a["default"].createElement(I["default"],{className:"pointer icon",name:"step-backward",title:"Previous "+_+" rows",onClick:this.handlePreviousPage})):a["default"].createElement("span",null,a["default"].createElement(I["default"],{className:"pointer icon disabled",name:"fast-backward",title:"Showing first "+g+" rows"}),a["default"].createElement(I["default"],{className:"pointer icon disabled",name:"step-backward",title:"Showing first "+g+" rows"}));var U=null;0==g&&0==b?U=a["default"].createElement("span",{className:"text"},"No rows to show"):0==g&&0!=b?U=a["default"].createElement("span",{className:"text"},"Gone past the last row"):0!=g&&g<_?U=a["default"].createElement("span",{className:"text"},"Showing rows ",b+1,"",b+g," of ",b+g):0!=g&&g==_&&(w>=X?(w>X&&console.error("totalTruncatedRowsCount > MAX_ROWS_COUNT, i.e. "+w+" > "+X),U=a["default"].createElement("span",{className:"text"},"Showing rows ",b+1,"",b+g," of at least ",w)):U=a["default"].createElement("span",{className:"text"},"Showing rows ",b+1,"",b+g," of ",w));var W=null;return W=0!=g&&g==_&&b+_<w?a["default"].createElement("span",null,a["default"].createElement(I["default"],{className:"pointer icon",name:"step-forward",title:"Next "+_+" rows",onClick:this.handleNextPage}),a["default"].createElement(I["default"],{className:"pointer icon",name:"fast-forward",title:"Last "+_+" rows",onClick:this.handleLastPage})):a["default"].createElement("span",null,a["default"].createElement(I["default"],{className:"pointer icon disabled",name:"step-forward",title:"Showing last "+g+" rows"}),a["default"].createElement(I["default"],{className:"pointer icon disabled",name:"fast-forward",title:"Showing last "+_+" rows"})),a["default"].createElement(l["default"],{styles:{sidebar:{paddingRight:(0,c["default"])()+"px"}},docked:p,sidebar:z},a["default"].createElement("div",{className:"vertical stack"},a["default"].createElement("div",{className:"top-bar"},a["default"].createElement(I["default"],{className:"pointer icon",name:p?"arrows-h":"bars",onClick:function(){return h({sidebar:!p})},title:p?"Expand":"Sidebar"}),a["default"].createElement("span",{className:"block text"},a["default"].createElement(N["default"],{prepend:"Filter:",table:r,query:o})),a["default"].createElement("span",{className:"block text"},"Search: ",""!==m?m:"None"),a["default"].createElement("span",{className:"block text"},"Sort: ",u?this.tableConfig().propertiesById[u].name:"None"," ",u?f?"ascending":"descending":null),a["default"].createElement("span",{className:"block text"},i.size," of ",this.tableConfig().properties.length," columns shown"),a["default"].createElement("span",{className:"block text"},B,U,W)),a["default"].createElement("div",{className:"grow"},a["default"].createElement(F["default"],{table:r,query:j,order:u,ascending:f,columns:i,columnWidths:s,onColumnResize:this.handleColumnResize,onOrderChange:this.handleOrderChange,startRowIndex:b,onShowableRowsCountChange:this.handleShowableRowsCountChange,onFetchedRowsCountChange:this.handleFetchedRowsCountChange,onTotalTruncatedRowsCountChange:this.handleTotalTruncatedRowsCountChange,maxRowsCount:X}))))}});t.exports=K},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(316),s=r(a),l=n(654),u=r(l),c=n(997),f=r(c),p=n(1050),h=r(p),d=n(941),m=r(d),y=n(584),v=r(y),g=n(582),b=r(g),_=n(583),x=r(_),w=n(922),T=r(w),E=n(1515);n(1565);var C=n(933),k=r(C),S=n(927),P=r(S),M=n(950),A=r(M),O=n(940),D=r(O),L=n(1334),I=r(L),j=n(1253),F=r(j),R=n(1241),N=r(R),z=n(750),B=r(z),U=n(899),W=r(U),q=(0,f["default"])("#44aafb"),V=30,H=50,G=15,Y=s["default"].createClass({displayName:"DataTableView",mixins:[v["default"],b["default"],x["default"],(0,T["default"])("table","query","columns","order","ascending","startRowIndex")],propTypes:{table:s["default"].PropTypes.string.isRequired,query:s["default"].PropTypes.string.isRequired,order:s["default"].PropTypes.string,ascending:s["default"].PropTypes.bool,startRowIndex:s["default"].PropTypes.number,columns:s["default"].PropTypes.array,columnWidths:s["default"].PropTypes.object,maxRowsCount:s["default"].PropTypes.number,onColumnResize:s["default"].PropTypes.func,onOrderChange:s["default"].PropTypes.func,onShowableRowsCountChange:s["default"].PropTypes.func,onFetchedRowsCountChange:s["default"].PropTypes.func,onTotalTruncatedRowsCountChange:s["default"].PropTypes.func,className:s["default"].PropTypes.string
},getDefaultProps:function(){return{table:null,query:D["default"].nullQuery,order:null,ascending:!0,startRowIndex:0,columns:[],columnWidths:{}}},getInitialState:function(){return{rows:[],loadStatus:"loaded",width:0,height:0,showableRowsCount:0,totalTruncatedRowsCount:0}},componentDidMount:function(){this.setShowableRows=(0,h["default"])(this.setShowableRows,500)},fetchData:function(t,e){var n=this,r=t.table,a=t.query,s=t.columns,l=t.order,u=t.ascending,c=t.startRowIndex,f=t.maxRowsCount,p=this.state.showableRowsCount,h=this.config.tablesById[r],d={};s.forEach(function(t){return d[t]=h.propertiesById[t].defaultDisplayEncoding}),s.length>0&&p>0?!function(){n.setState({loadStatus:"loading"});var t=c+p-1,r={database:n.config.dataset,table:h.fetchTableName,columns:d,order:l,ascending:u,query:a,start:c,stop:t},s={database:n.config.dataset,table:h.fetchTableName,query:a,maxRowsCount:f};e.request(function(t){return Promise.all([P["default"].get("pageQuery"+JSON.stringify(r),function(t){return k["default"].pageQuery(i({cancellation:t},r))},t),P["default"].get("truncatedRowsCount"+JSON.stringify(s),function(t){return k["default"].truncatedRowsCount(i({cancellation:t},s))},t)])}).then(function(t){var e=o(t,2),r=e[0],i=e[1];n.setState({loadStatus:"loaded",rows:r,totalTruncatedRowsCount:i})})["catch"](k["default"].filterAborted)["catch"](P["default"].filterCancelled)["catch"](function(t){(0,A["default"])(n.getFlux(),k["default"].errorMessage(t),function(){return n.fetchData(n.props)}),n.setState({loadStatus:"error"})})}():this.setState({rows:[]})},handleColumnResize:function(t,e){this.props.onColumnResize&&this.props.onColumnResize(e,t),this.forceUpdate()},handleOrderChange:function(t){var e=!0;this.props.order==t&&(this.props.ascending?e=!1:t=null),this.props.onOrderChange&&this.props.onOrderChange(t,e)},defaultWidth:function(t){return"Boolean"==t.dispDataType?75:t.defaultWidth?t.defaultWidth:t.isDate?110:t.decimDigits?Math.max(15+15*t.decimDigits,110):110},handleResize:function(t){this.setState(t),this.setShowableRows(t)},setShowableRows:function(t){this.setState({showableRowsCount:t.height?Math.floor((t.height-H-G)/V):0})},componentDidUpdate:function(t,e){this.props.onShowableRowsCountChange&&e.showableRowsCount!==this.state.showableRowsCount&&(this.forceFetch(),this.props.onShowableRowsCountChange(this.state.showableRowsCount)),this.props.onFetchedRowsCountChange&&e.rows.length!==this.state.rows.length&&this.props.onFetchedRowsCountChange(this.state.rows.length),this.props.onTotalTruncatedRowsCountChange&&e.totalTruncatedRowsCount!==this.state.totalTruncatedRowsCount&&this.props.onTotalTruncatedRowsCountChange(this.state.totalTruncatedRowsCount)},render:function(){var t=this,e=this.props,n=e.className,r=e.columns,o=e.columnWidths,i=e.order,a=e.ascending,l=this.state,c=l.loadStatus,p=l.rows,h=l.width,d=l.height,y=this.config.tablesById[this.props.table];return y?r.length>0?s["default"].createElement(W["default"],{onResize:this.handleResize},s["default"].createElement("div",{className:(0,u["default"])("datatable",n)},s["default"].createElement(E.Table,{rowHeight:V,rowsCount:p.length,width:h,height:d,headerHeight:H,onColumnResizeEndCallback:this.handleColumnResize,isColumnResizing:!1},r.map(function(e){if(!y.propertiesById[e])return void console.error("Column "+e+" doesn't exist on "+t.props.table+".");var n=y.propertiesById[e],r=n.id,l=n.isPrimKey,c=n.description,h=n.name,d=i==e&&a,v=i==e&&!a,g=o[e]||t.defaultWidth(n);return s["default"].createElement(E.Column,{width:g,key:r,fixed:l,allowCellsRecycling:!0,isResizable:!0,minWidth:50,header:s["default"].createElement(F["default"],{className:(0,u["default"])({pointer:!0,"table-row-header":!0,"sort-column-ascending":d,"sort-column-descending":v}),style:{width:g},onClick:function(){return t.handleOrderChange(r)},prefix:d||v?s["default"].createElement(B["default"],{className:"sort",name:d?"sort-amount-asc":"sort-amount-desc"}):null,name:h,description:c,tooltipPlacement:"bottom",tooltipTrigger:["click"]}),cell:function(t){var e=t.rowIndex,o="inherit",i=n.maxVal,a=n.minVal,l=n.categoryColors,u=n.showBar,c=n.alignment,h=p[e][r];if(u&&null!==h&&void 0!==i&&void 0!==a){h=parseFloat(h);var d=100*(h-a)/(i-a);o="linear-gradient(to right, "+(e%2?"rgb(115, 190, 252)":"rgb(150, 207, 253)")+" "+d+"%, rgba(0,0,0,0) "+d+"%"}else if(null!==h&&void 0!==i&&void 0!==a){var y=Math.min(Math.max(parseFloat(h),a),i);o=(0,m["default"])(q).lighten(.58*(1-(y-a)/(i-a))).rgbString()}if(l){var v=l[h]||l._other_;v&&(v=(0,f["default"])(v).lighten(.3),e%2&&v.darken(.1),o=v.rgbString())}return s["default"].createElement("div",{className:"table-row-cell",style:{textAlign:c,width:g,height:V+"px",background:o}},s["default"].createElement(I["default"],{prop:n,value:h}))}})})),s["default"].createElement(N["default"],{status:c}))):s["default"].createElement("div",{className:(0,u["default"])("datatable",n)},s["default"].createElement(N["default"],{status:"custom"},"No columns selected")):(console.error("Table "+this.props.table+" doesn't exist'"),null)}});t.exports=Y},function(t,e,n){t.exports=n(1516)},function(t,e,n){"use strict";var r=n(1517),o=n(1554),i=n(1552),a=n(1551),s={Cell:o,Column:i,ColumnGroup:a,Table:r};s.version="0.6.3",t.exports=s},function(t,e,n){"use strict";function r(t,e){}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(1518),a=i.Children,s=i.PropTypes,l=n(1519),u=n(1562),c=n(1563),f=n(1564),p={},h=i.createClass({displayName:"TransitionTable",propTypes:{width:s.number.isRequired,height:s.number,maxHeight:s.number,ownerHeight:s.number,overflowX:s.oneOf(["hidden","auto"]),overflowY:s.oneOf(["hidden","auto"]),rowsCount:s.number.isRequired,rowHeight:s.number.isRequired,rowHeightGetter:s.func,rowGetter:s.func,rowClassNameGetter:s.func,groupHeaderHeight:s.number,headerHeight:s.number.isRequired,headerDataGetter:s.func,footerHeight:s.number,footerData:s.oneOfType([s.object,s.array]),footerDataGetter:s.func,scrollLeft:s.number,scrollToColumn:s.number,scrollTop:s.number,scrollToRow:s.number,onScrollStart:s.func,onScrollEnd:s.func,onContentHeightChange:s.func,onRowClick:s.func,onRowDoubleClick:s.func,onRowMouseDown:s.func,onRowMouseEnter:s.func,onRowMouseLeave:s.func,onColumnResizeEndCallback:s.func,isColumnResizing:s.bool},getInitialState:function(){var t={};return t.needsMigration=this._checkDeprecations(),t},_checkDeprecations:function(){var t=!1;return this.props.rowGetter&&(r("rowGetter","Please use the cell API in Column to fetch data for your cells."),t=!0),this.props.headerDataGetter&&r("headerDataGetter","Please use the header API in Column to fetch data for your header cells."),this.props.footerData&&r("footerData","Please use the footer API in Column to fetch data for your footer cells."),this.props.footerDataGetter&&r("footerDataGetter","Please use the footer API in Column to fetch data for your footer cells."),a.forEach(this.props.children,function(t){if(t&&t.props){var e=t.props;e.label&&r("label","Please use `header` instead."),e.dataKey&&r("dataKey","Please use the `cell` API to pass in a dataKey"),e.cellRenderer&&r("cellRenderer","Please use the `cell` API to pass in a React Element instead."),e.headerRenderer&&r("headerRenderer","Please use the `header` API to pass in a React Element instead."),e.columnData&&r("columnData","Please pass data in through props to your header, cell or footer."),e.groupHeaderRenderer&&r("groupHeaderRenderer","Please use the `header` API in ColumnGroup to pass in a React Element instead of a function that creates one."),e.groupHeaderData&&r("groupHeaderData","Please pass in any data through props to your header.")}}),t},_onRowAction:function(t,e){if(e)return function(n,r){e(n,r,t.rowGetter&&t.rowGetter(r)||p)}},_transformColumn:function(t,e,n){var r=t.props;if(t.type.__TableColumn__)return i.createElement(u,o({key:"column_"+n},r,{header:i.createElement(f,{isHeaderCell:!0,label:r.label,width:r.width,dataKey:r.dataKey,className:r.headerClassName,columnData:r.columnData||p,cellRenderer:r.headerRenderer,headerDataGetter:e.headerDataGetter}),columnKey:r.dataKey,cell:i.createElement(f,{dataKey:r.dataKey,className:r.cellClassName,rowGetter:e.rowGetter,width:r.width,columnData:r.columnData||p,cellDataGetter:r.cellDataGetter,cellRenderer:r.cellRenderer}),footer:i.createElement(f,{isFooterCell:!0,className:r.footerClassName,dataKey:r.dataKey,cellRenderer:r.footerRenderer,footerDataGetter:e.footerDataGetter,footerData:e.footerData||p})}))},_transformColumnGroup:function(t,e,n,r){var s=this,l=t.props,u=0,h=a.map(l.children,function(t){return u++,s._transformColumn(t,e,n+"_"+u)});return i.createElement(c,o({},l,{key:"group_"+n,header:i.createElement(f,{isHeaderCell:!0,label:t.props.label,dataKey:n,groupHeaderRenderer:l.groupHeaderRenderer,groupHeaderLabels:r,groupHeaderData:l.columnGroupData||p})}),h)},_convertedColumns:function(t){var e=this;if(!t)return a.map(this.props.children,function(t){return t?t.type.__TableColumn__?i.createElement(u,t.props):t.type.__TableColumnGroup__?i.createElement(c,t.props):void 0:null});var n=this.props,r=0;return a.map(this.props.children,function(t){if(!t)return null;if(t.type.__TableColumn__&&(t=e._transformColumn(t,n,r)),t.type.__TableColumnGroup__){var o=[];a.forEach(e.props.children,function(t){o.push(t.props.label)}),t=e._transformColumnGroup(t,n,r,o)}return r++,t})},render:function(){var t=this.props;return i.createElement(l,o({},t,{onRowMouseDown:this._onRowAction(t,t.onRowMouseDown),onRowClick:this._onRowAction(t,t.onRowClick),onRowDoubleClick:this._onRowAction(t,t.onRowDoubleClick),onRowMouseEnter:this._onRowAction(t,t.onRowMouseEnter),onRowMouseLeave:this._onRowAction(t,t.onRowMouseLeave)}),this._convertedColumns(this.state.needsMigration))}});t.exports=h},function(t,e,n){"use strict";t.exports=n(316)},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(1518),i=n(1520),a=n(1521),s=n(1529),l=n(1542),u=n(1556),c=n(1547),f=n(1557),p=n(1559),h=n(1536),d=n(1560),m=n(1522),y=n(1541),v=n(1555),g=n(1561),b=n(1537),_=o.PropTypes,x=o.Children,w={},T=1,E="header",C="footer",k="cell",S=o.createClass({displayName:"FixedDataTable",propTypes:{width:_.number.isRequired,height:_.number,maxHeight:_.number,ownerHeight:_.number,overflowX:_.oneOf(["hidden","auto"]),overflowY:_.oneOf(["hidden","auto"]),rowsCount:_.number.isRequired,rowHeight:_.number.isRequired,rowHeightGetter:_.func,rowClassNameGetter:_.func,groupHeaderHeight:_.number,headerHeight:_.number.isRequired,footerHeight:_.number,scrollLeft:_.number,scrollToColumn:_.number,scrollTop:_.number,scrollToRow:_.number,onScrollStart:_.func,onScrollEnd:_.func,onContentHeightChange:_.func,onRowClick:_.func,onRowDoubleClick:_.func,onRowMouseDown:_.func,onRowMouseEnter:_.func,onRowMouseLeave:_.func,onColumnResizeEndCallback:_.func,isColumnResizing:_.bool},getDefaultProps:function(){return{footerHeight:0,groupHeaderHeight:0,headerHeight:0,scrollLeft:0,scrollTop:0}},getInitialState:function(){var t=this.props,e=(void 0===t.height?t.maxHeight:t.height)-(t.headerHeight||0)-(t.footerHeight||0)-(t.groupHeaderHeight||0);return this._scrollHelper=new f(t.rowsCount,t.rowHeight,e,t.rowHeightGetter),t.scrollTop&&this._scrollHelper.scrollTo(t.scrollTop),this._didScrollStop=d(this._didScrollStop,200,this),this._calculateState(this.props)},componentWillMount:function(){var t=this.props.scrollToRow;void 0!==t&&null!==t&&(this._rowToScrollTo=t);var e=this.props.scrollToColumn;void 0!==e&&null!==e&&(this._columnToScrollTo=e),this._wheelHandler=new a(this._onWheel,this._shouldHandleWheelX,this._shouldHandleWheelY)},_shouldHandleWheelX:function(t){return"hidden"!==this.props.overflowX&&(t=Math.round(t),0!==t&&(t<0&&this.state.scrollX>0||t>=0&&this.state.scrollX<this.state.maxScrollX))},_shouldHandleWheelY:function(t){return"hidden"!==this.props.overflowY&&0!==t&&(t=Math.round(t),0!==t&&(t<0&&this.state.scrollY>0||t>=0&&this.state.scrollY<this.state.maxScrollY))},_reportContentHeight:function(){var t,e=this.state.scrollContentHeight,n=this.state.reservedHeight,r=e+n,o=void 0===this.props.height;t=o&&this.props.maxHeight>r?r:this.state.height>r&&this.props.ownerHeight?Math.max(r,this.props.ownerHeight):this.state.height+this.state.maxScrollY,t!==this._contentHeight&&this.props.onContentHeightChange&&this.props.onContentHeightChange(t),this._contentHeight=t},componentDidMount:function(){this._reportContentHeight()},componentWillReceiveProps:function(t){var e=t.scrollToRow;void 0!==e&&null!==e&&(this._rowToScrollTo=e);var n=t.scrollToColumn;void 0!==n&&null!==n&&(this._columnToScrollTo=n);var r=t.overflowX,o=t.overflowY;r===this.props.overflowX&&o===this.props.overflowY||(this._wheelHandler=new a(this._onWheel,"hidden"!==r,"hidden"!==o)),this.props.ownerHeight===t.ownerHeight&&this.props.scrollTop===t.scrollTop||this._didScrollStart(),this._didScrollStop(),this.setState(this._calculateState(t,this.state))},componentDidUpdate:function(){this._reportContentHeight()},render:function(){var t,e=this.state,n=this.props;e.useGroupHeader&&(t=o.createElement(c,{key:"group_header",isScrolling:this._isScrolling,className:v(h("fixedDataTableLayout/header"),h("public/fixedDataTable/header")),width:e.width,height:e.groupHeaderHeight,index:0,zIndex:1,offsetTop:0,scrollLeft:e.scrollX,fixedColumns:e.groupHeaderFixedColumns,scrollableColumns:e.groupHeaderScrollableColumns,onColumnResize:this._onColumnResize}));var r=this.state.maxScrollY,i=e.maxScrollX>0&&"hidden"!==e.overflowX,a=r>0&&"hidden"!==e.overflowY,l=i?s.SIZE:0,f=e.height-l-2*T-e.footerHeight,p=e.useGroupHeader?e.groupHeaderHeight:0,d=p+e.headerHeight;f-=d;var m=0,y=null!=n.maxHeight?d+e.bodyHeight:d+f,g=y+e.footerHeight;void 0!==n.ownerHeight&&n.ownerHeight<e.height&&(m=n.ownerHeight-e.height,y=Math.min(y,n.ownerHeight-e.footerHeight-l),f=Math.max(0,y-d));var b;a&&(b=o.createElement(s,{size:f,contentSize:f+r,onScroll:this._onVerticalScroll,verticalTop:d,position:e.scrollY}));var _;if(i){var x=e.width;_=o.createElement(P,{contentSize:x+e.maxScrollX,offset:m,onScroll:this._onHorizontalScroll,position:e.scrollX,size:x})}var w=o.createElement(u,{height:e.height,initialWidth:e.columnResizingData.width||0,minWidth:e.columnResizingData.minWidth||0,maxWidth:e.columnResizingData.maxWidth||Number.MAX_VALUE,visible:!!e.isColumnResizing,leftOffset:e.columnResizingData.left||0,knobHeight:e.headerHeight,initialEvent:e.columnResizingData.initialEvent,onColumnResizeEnd:n.onColumnResizeEndCallback,columnKey:e.columnResizingData.key}),E=null;e.footerHeight&&(E=o.createElement(c,{key:"footer",isScrolling:this._isScrolling,className:v(h("fixedDataTableLayout/footer"),h("public/fixedDataTable/footer")),width:e.width,height:e.footerHeight,index:-1,zIndex:1,offsetTop:y,fixedColumns:e.footFixedColumns,scrollableColumns:e.footScrollableColumns,scrollLeft:e.scrollX}));var C,k,S=this._renderRows(d),M=o.createElement(c,{key:"header",isScrolling:this._isScrolling,className:v(h("fixedDataTableLayout/header"),h("public/fixedDataTable/header")),width:e.width,height:e.headerHeight,index:-1,zIndex:1,offsetTop:p,scrollLeft:e.scrollX,fixedColumns:e.headFixedColumns,scrollableColumns:e.headScrollableColumns,onColumnResize:this._onColumnResize});return e.scrollY&&(C=o.createElement("div",{className:v(h("fixedDataTableLayout/topShadow"),h("public/fixedDataTable/topShadow")),style:{top:d}})),(null!=e.ownerHeight&&e.ownerHeight<e.height&&e.scrollContentHeight+e.reservedHeight>e.ownerHeight||e.scrollY<r)&&(k=o.createElement("div",{className:v(h("fixedDataTableLayout/bottomShadow"),h("public/fixedDataTable/bottomShadow")),style:{top:y}})),o.createElement("div",{className:v(h("fixedDataTableLayout/main"),h("public/fixedDataTable/main")),onWheel:this._wheelHandler.onWheel,style:{height:e.height,width:e.width}},o.createElement("div",{className:h("fixedDataTableLayout/rowsContainer"),style:{height:g,width:e.width}},w,t,M,S,E,C,k),b,_)},_renderRows:function(t){var e=this.state;return o.createElement(l,{isScrolling:this._isScrolling,defaultRowHeight:e.rowHeight,firstRowIndex:e.firstRowIndex,firstRowOffset:e.firstRowOffset,fixedColumns:e.bodyFixedColumns,height:e.bodyHeight,offsetTop:t,onRowClick:e.onRowClick,onRowDoubleClick:e.onRowDoubleClick,onRowMouseDown:e.onRowMouseDown,onRowMouseEnter:e.onRowMouseEnter,onRowMouseLeave:e.onRowMouseLeave,rowClassNameGetter:e.rowClassNameGetter,rowsCount:e.rowsCount,rowGetter:e.rowGetter,rowHeightGetter:e.rowHeightGetter,scrollLeft:e.scrollX,scrollableColumns:e.bodyScrollableColumns,showLastRowBorder:!0,width:e.width,rowPositionGetter:this._scrollHelper.getRowPosition})},_onColumnResize:function(t,e,n,r,o,i,a){this.setState({isColumnResizing:!0,columnResizingData:{left:e+t-n,width:n,minWidth:r,maxWidth:o,initialEvent:{clientX:a.clientX,clientY:a.clientY,preventDefault:m},key:i}})},_areColumnSettingsIdentical:function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!g(t[n].props,e[n].props))return!1;return!0},_populateColumnsAndColumnData:function(t,e,n){var r=!1,o=!1;n&&n.columns&&(r=this._areColumnSettingsIdentical(t,n.columns)),n&&n.columnGroups&&e&&(o=this._areColumnSettingsIdentical(e,n.columnGroups));var i={};if(r)i.bodyFixedColumns=n.bodyFixedColumns,i.bodyScrollableColumns=n.bodyScrollableColumns,i.headFixedColumns=n.headFixedColumns,i.headScrollableColumns=n.headScrollableColumns,i.footFixedColumns=n.footFixedColumns,i.footScrollableColumns=n.footScrollableColumns;else{var a=this._splitColumnTypes(t);i.bodyFixedColumns=a.fixed,i.bodyScrollableColumns=a.scrollable;var s=this._splitColumnTypes(this._selectColumnElement(E,t));i.headFixedColumns=s.fixed,i.headScrollableColumns=s.scrollable;var l=this._splitColumnTypes(this._selectColumnElement(C,t));i.footFixedColumns=l.fixed,i.footScrollableColumns=l.scrollable}if(o)i.groupHeaderFixedColumns=n.groupHeaderFixedColumns,i.groupHeaderScrollableColumns=n.groupHeaderScrollableColumns;else if(e){var u=this._splitColumnTypes(this._selectColumnElement(E,e));i.groupHeaderFixedColumns=u.fixed,i.groupHeaderScrollableColumns=u.scrollable}return i},_calculateState:function(t,e){y(void 0!==t.height||void 0!==t.maxHeight,"You must set either a height or a maxHeight");var n=[];x.forEach(t.children,function(t,e){null!=t&&(y(t.type.__TableColumnGroup__||t.type.__TableColumn__,"child type should be <FixedDataTableColumn /> or <FixedDataTableColumnGroup />"),n.push(t))});var o=!1;n.length&&n[0].type.__TableColumnGroup__&&(o=!0);var i,a,l=e&&e.firstRowIndex||0,u=e&&e.firstRowOffset||0;i=e&&"hidden"!==t.overflowX?e.scrollX:t.scrollLeft,e&&"hidden"!==t.overflowY?a=e.scrollY:(d=this._scrollHelper.scrollTo(t.scrollTop),l=d.index,u=d.offset,a=d.position),void 0!==this._rowToScrollTo&&(d=this._scrollHelper.scrollRowIntoView(this._rowToScrollTo),l=d.index,u=d.offset,a=d.position,delete this._rowToScrollTo);var c=o?t.groupHeaderHeight:0;if(e&&t.rowsCount!==e.rowsCount){var h=(void 0===t.height?t.maxHeight:t.height)-(t.headerHeight||0)-(t.footerHeight||0)-(t.groupHeaderHeight||0);this._scrollHelper=new f(t.rowsCount,t.rowHeight,h,t.rowHeightGetter);var d=this._scrollHelper.scrollToRow(l,u);l=d.index,u=d.offset,a=d.position}else e&&t.rowHeightGetter!==e.rowHeightGetter&&this._scrollHelper.setRowHeightGetter(t.rowHeightGetter);var m;m=t.isColumnResizing?e&&e.columnResizingData:w;var v,g;if(o){var b=p.adjustColumnGroupWidths(n,t.width);v=b.columns,g=b.columnGroups}else v=p.adjustColumnWidths(n,t.width);var _=this._populateColumnsAndColumnData(v,g,e);if(void 0!==this._columnToScrollTo){var E=_.bodyFixedColumns.length;if(this._columnToScrollTo>=E){var C,k,S=0;for(C=0;C<_.bodyFixedColumns.length;++C)k=_.bodyFixedColumns[C],S+=k.props.width;var P=Math.min(this._columnToScrollTo-E,_.bodyScrollableColumns.length-1),M=0;for(C=0;C<P;++C)k=_.bodyScrollableColumns[C],M+=k.props.width;var A=t.width-S,O=_.bodyScrollableColumns[P].props.width,D=M+O-A;i<D&&(i=D),i>M&&(i=M)}delete this._columnToScrollTo}var L=void 0===t.height,I=Math.round(L?t.maxHeight:t.height),j=t.footerHeight+t.headerHeight+c+2*T,F=I-j,R=this._scrollHelper.getContentHeight(),N=R+j,z=p.getTotalWidth(v),B=z>t.width&&"hidden"!==t.overflowX;B&&(F-=s.SIZE,N+=s.SIZE,j+=s.SIZE);var U=Math.max(0,z-t.width),W=Math.max(0,R-F);i=Math.min(i,U),a=Math.min(a,W),W||(L&&(I=N),F=N-j),this._scrollHelper.setViewportHeight(F);var q=r({isColumnResizing:e&&e.isColumnResizing},_,t,{columns:v,columnGroups:g,columnResizingData:m,firstRowIndex:l,firstRowOffset:u,horizontalScrollbarVisible:B,maxScrollX:U,maxScrollY:W,reservedHeight:j,scrollContentHeight:R,scrollX:i,scrollY:a,bodyHeight:F,height:I,groupHeaderHeight:c,useGroupHeader:o});return q},_selectColumnElement:function(t,e){for(var n=[],r=0;r<e.length;++r){var i=e[r];n.push(o.cloneElement(i,{cell:t?i.props[t]:i.props[k]}))}return n},_splitColumnTypes:function(t){for(var e=[],n=[],r=0;r<t.length;++r)t[r].props.fixed?e.push(t[r]):n.push(t[r]);return{fixed:e,scrollable:n}},_onWheel:function(t,e){if(this.isMounted()){this._isScrolling||this._didScrollStart();var n=this.state.scrollX;if(Math.abs(e)>Math.abs(t)&&"hidden"!==this.props.overflowY){var r=this._scrollHelper.scrollBy(Math.round(e)),o=Math.max(0,r.contentHeight-this.state.bodyHeight);this.setState({firstRowIndex:r.index,firstRowOffset:r.offset,scrollY:r.position,scrollContentHeight:r.contentHeight,maxScrollY:o})}else t&&"hidden"!==this.props.overflowX&&(n+=t,n=n<0?0:n,n=n>this.state.maxScrollX?this.state.maxScrollX:n,this.setState({scrollX:n}));this._didScrollStop()}},_onHorizontalScroll:function(t){this.isMounted()&&t!==this.state.scrollX&&(this._isScrolling||this._didScrollStart(),this.setState({scrollX:t}),this._didScrollStop())},_onVerticalScroll:function(t){if(this.isMounted()&&t!==this.state.scrollY){this._isScrolling||this._didScrollStart();var e=this._scrollHelper.scrollTo(Math.round(t));this.setState({firstRowIndex:e.index,firstRowOffset:e.offset,scrollY:e.position,scrollContentHeight:e.contentHeight}),this._didScrollStop()}},_didScrollStart:function(){this.isMounted()&&!this._isScrolling&&(this._isScrolling=!0,this.props.onScrollStart&&this.props.onScrollStart(this.state.scrollX,this.state.scrollY))},_didScrollStop:function(){this.isMounted()&&this._isScrolling&&(this._isScrolling=!1,this.setState({redraw:!0}),this.props.onScrollEnd&&this.props.onScrollEnd(this.state.scrollX,this.state.scrollY))}}),P=o.createClass({displayName:"HorizontalScrollbar",mixins:[i],propTypes:{contentSize:_.number.isRequired,offset:_.number.isRequired,onScroll:_.func.isRequired,position:_.number.isRequired,size:_.number.isRequired},render:function(){var t={height:s.SIZE,width:this.props.size},e={height:s.SIZE,position:"absolute",overflow:"hidden",width:this.props.size};return b(e,0,this.props.offset),o.createElement("div",{className:v(h("fixedDataTableLayout/horizontalScrollbar"),h("public/fixedDataTable/horizontalScrollbar")),style:t},o.createElement("div",{style:e},o.createElement(s,r({},this.props,{isOpaque:!0,orientation:"horizontal",offset:void 0}))))}});t.exports=S},function(t,e){"use strict";function n(t,e){if(t===e)return!0;var n;for(n in t)if(t.hasOwnProperty(n)&&(!e.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0}var r={shouldComponentUpdate:function(t,e){return!n(this.props,t)||!n(this.state,e)}};t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1522),a=n(1523),s=n(1527),l=function(){function t(e,n,o,a){r(this,t),this._animationFrameID=null,this._deltaX=0,this._deltaY=0,this._didWheel=this._didWheel.bind(this),"function"!=typeof n&&(n=n?i.thatReturnsTrue:i.thatReturnsFalse),"function"!=typeof o&&(o=o?i.thatReturnsTrue:i.thatReturnsFalse),"function"!=typeof a&&(a=a?i.thatReturnsTrue:i.thatReturnsFalse),this._handleScrollX=n,this._handleScrollY=o,this._stopPropagation=a,this._onWheelCallback=e,this.onWheel=this.onWheel.bind(this)}return o(t,[{key:"onWheel",value:function(t){var e=a(t),n=this._deltaX+e.pixelX,r=this._deltaY+e.pixelY,o=this._handleScrollX(n,r),i=this._handleScrollY(r,n);if(o||i){this._deltaX+=o?e.pixelX:0,this._deltaY+=i?e.pixelY:0,t.preventDefault();var l;0===this._deltaX&&0===this._deltaY||(this._stopPropagation()&&t.stopPropagation(),l=!0),l===!0&&null===this._animationFrameID&&(this._animationFrameID=s(this._didWheel))}}},{key:"_didWheel",value:function(){this._animationFrameID=null,this._onWheelCallback(this._deltaX,this._deltaY),this._deltaX=0,this._deltaY=0}}]),t}();t.exports=l},function(t,e){"use strict";function n(t){return function(){return t}}function r(){}r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e,n){"use strict";function r(t){var e=0,n=0,r=0,o=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*a,o=n*a,"deltaY"in t&&(o=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||o)&&t.deltaMode&&(1==t.deltaMode?(r*=s,o*=s):(r*=l,o*=l)),r&&!e&&(e=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:o}}var o=n(1524),i=n(1525),a=10,s=40,l=800;r.getEventType=function(){return o.firefox()?"DOMMouseScroll":i("wheel")?"wheel":"mousewheel"},t.exports=r},function(t,e){"use strict";function n(){if(!g){g=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(d=/\b(iPhone|iP[ao]d)/.exec(t),m=/\b(iP[ao]d)/.exec(t),p=/Android/i.exec(t),y=/FBAN\/\w+;/i.exec(t),v=/Mobile/i.exec(t),h=!!/Win64/.exec(t),e){r=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,r&&document&&document.documentMode&&(r=document.documentMode);var b=/(?:Trident\/(\d+.\d+))/.exec(t);l=b?parseFloat(b[1])+4:r,o=e[2]?parseFloat(e[2]):NaN,i=e[3]?parseFloat(e[3]):NaN,a=e[4]?parseFloat(e[4]):NaN,a?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),s=e&&e[1]?parseFloat(e[1]):NaN):s=NaN}else r=o=i=s=a=NaN;if(n){if(n[1]){var _=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);u=!_||parseFloat(_[1].replace("_","."))}else u=!1;c=!!n[2],f=!!n[3]}else u=c=f=!1}}var r,o,i,a,s,l,u,c,f,p,h,d,m,y,v,g=!1,b={ie:function(){return n()||r},ieCompatibilityMode:function(){return n()||l>r},ie64:function(){return b.ie()&&h},firefox:function(){return n()||o},opera:function(){return n()||i},webkit:function(){return n()||a},safari:function(){return b.webkit()},chrome:function(){return n()||s},windows:function(){return n()||c},osx:function(){return n()||u},linux:function(){return n()||f},iphone:function(){return n()||d},mobile:function(){return n()||d||m||p||v},nativeApp:function(){return n()||y},android:function(){return n()||p},ipad:function(){return n()||m}};t.exports=b},function(t,e,n){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function r(t,e){if(!i.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&o&&"wheel"===t&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=n(1526);i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=r},function(t,e){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=r},function(t,e,n){(function(e){"use strict";var r=n(1522),o=n(1528),i=0,a=o||function(t){var n=Date.now(),r=Math.max(0,16-(n-i));return i=n+r,e.setTimeout(function(){t(Date.now())},r)};a(r),t.exports=a}).call(e,function(){return this}())},function(t,e){(function(e){"use strict";var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame;t.exports=n}).call(e,function(){return this}())},function(t,e,n){"use strict";var r=n(1530),o=n(1533),i=n(1518),a=n(1534),s=n(1520),l=n(1521),u=n(1535),c=n(1536),f=n(1522),p=n(1537),h=i.PropTypes,d={position:0,scrollable:!1},m=parseInt(u("scrollbar-face-margin"),10),y=2*m,v=30,g=40,b=null,_=i.createClass({displayName:"Scrollbar",mixins:[s],propTypes:{contentSize:h.number.isRequired,defaultPosition:h.number,isOpaque:h.bool,orientation:h.oneOf(["vertical","horizontal"]),onScroll:h.func,position:h.number,size:h.number.isRequired,trackColor:h.oneOf(["gray"]),zIndex:h.number,verticalTop:h.number},getInitialState:function(){var t=this.props;return this._calculateState(t.position||t.defaultPosition||0,t.size,t.contentSize,t.orientation)},componentWillReceiveProps:function(t){var e=t.position;void 0===e?this._setNextState(this._calculateState(this.state.position,t.size,t.contentSize,t.orientation)):this._setNextState(this._calculateState(e,t.size,t.contentSize,t.orientation),t)},getDefaultProps:function(){return{defaultPosition:0,isOpaque:!1,onScroll:f,orientation:"vertical",zIndex:99}},render:function(){if(!this.state.scrollable)return null;var t,e,n=this.props.size,r=this.state.isHorizontal,o=!r,a=this.state.focused||this.state.isDragging,s=this.state.faceSize,l=this.props.isOpaque,f=this.props.verticalTop||0,h=c({"ScrollbarLayout/main":!0,"ScrollbarLayout/mainVertical":o,"ScrollbarLayout/mainHorizontal":r,"public/Scrollbar/main":!0,"public/Scrollbar/mainOpaque":l,"public/Scrollbar/mainActive":a}),d=c({"ScrollbarLayout/face":!0,"ScrollbarLayout/faceHorizontal":r,"ScrollbarLayout/faceVertical":o,"public/Scrollbar/faceActive":a,"public/Scrollbar/face":!0}),v=this.state.position*this.state.scale+m;return r?(t={width:n},e={width:s-y},p(e,v,0)):(t={top:f,height:n},e={height:s-y},p(e,0,v)),t.zIndex=this.props.zIndex,"gray"===this.props.trackColor&&(t.backgroundColor=u("fbui-desktop-background-light")),i.createElement("div",{onFocus:this._onFocus,onBlur:this._onBlur,onKeyDown:this._onKeyDown,onMouseDown:this._onMouseDown,onWheel:this._wheelHandler.onWheel,className:h,style:t,tabIndex:0},i.createElement("div",{ref:"face",className:d,style:e}))},componentWillMount:function(){var t="horizontal"===this.props.orientation,e=t?this._onWheelX:this._onWheelY;this._wheelHandler=new l(e,this._shouldHandleX,this._shouldHandleY)},componentDidMount:function(){this._mouseMoveTracker=new r(this._onMouseMove,this._onMouseMoveEnd,document.documentElement),void 0!==this.props.position&&this.state.position!==this.props.position&&this._didScroll()},componentWillUnmount:function(){this._nextState=null,this._mouseMoveTracker.releaseMouseMoves(),b===this&&(b=null),delete this._mouseMoveTracker},scrollBy:function(t){this._onWheel(t)},_shouldHandleX:function(t){return"horizontal"===this.props.orientation&&this._shouldHandleChange(t)},_shouldHandleY:function(t){return"horizontal"!==this.props.orientation&&this._shouldHandleChange(t)},_shouldHandleChange:function(t){var e=this._calculateState(this.state.position+t,this.props.size,this.props.contentSize,this.props.orientation);return e.position!==this.state.position},_calculateState:function(t,e,n,r){if(e<1||n<=e)return d;var o=t+"_"+e+"_"+n+"_"+r;if(this._stateKey===o)return this._stateForKey;var i="horizontal"===r,a=e/n,s=e*a;s<v&&(a=(e-v)/(n-e),s=v);var l=!0,u=n-e;t<0?t=0:t>u&&(t=u);var c=!!this._mouseMoveTracker&&this._mouseMoveTracker.isDragging(),f={faceSize:s,isDragging:c,isHorizontal:i,position:t,scale:a,scrollable:l};return this._stateKey=o,this._stateForKey=f,f},_onWheelY:function(t,e){this._onWheel(e)},_onWheelX:function(t,e){this._onWheel(t)},_onWheel:function(t){var e=this.props;this._setNextState(this._calculateState(this.state.position+t,e.size,e.contentSize,e.orientation))},_onMouseDown:function(t){var e;if(t.target!==a.findDOMNode(this.refs.face)){var n=t.nativeEvent,r=this.state.isHorizontal?n.offsetX||n.layerX:n.offsetY||n.layerY,o=this.props;r/=this.state.scale,e=this._calculateState(r-.5*this.state.faceSize/this.state.scale,o.size,o.contentSize,o.orientation)}else e={};e.focused=!0,this._setNextState(e),this._mouseMoveTracker.captureMouseMoves(t),a.findDOMNode(this).focus()},_onMouseMove:function(t,e){var n=this.props,r=this.state.isHorizontal?t:e;r/=this.state.scale,this._setNextState(this._calculateState(this.state.position+r,n.size,n.contentSize,n.orientation))},_onMouseMoveEnd:function(){this._nextState=null,this._mouseMoveTracker.releaseMouseMoves(),this.setState({isDragging:!1})},_onKeyDown:function(t){var e=t.keyCode;if(e!==o.TAB){var n=g,r=0;if(this.state.isHorizontal)switch(e){case o.HOME:r=-1,n=this.props.contentSize;break;case o.LEFT:r=-1;break;case o.RIGHT:r=1;break;default:return}if(!this.state.isHorizontal)switch(e){case o.SPACE:r=t.shiftKey?-1:1;break;case o.HOME:r=-1,n=this.props.contentSize;break;case o.UP:r=-1;break;case o.DOWN:r=1;break;case o.PAGE_UP:r=-1,n=this.props.size;break;case o.PAGE_DOWN:r=1,n=this.props.size;break;default:return}t.preventDefault();var i=this.props;this._setNextState(this._calculateState(this.state.position+n*r,i.size,i.contentSize,i.orientation))}},_onFocus:function(){this.setState({focused:!0})},_onBlur:function(){this.setState({focused:!1})},_blur:function(){if(this.isMounted())try{this._onBlur(),a.findDOMNode(this).blur()}catch(t){}},_setNextState:function(t,e){e=e||this.props;var n=e.position,r=this.state.position!==t.position;if(void 0===n){var o=r?this._didScroll:void 0;this.setState(t,o)}else{if(n!==t.position)return void(void 0!==t.position&&t.position!==this.state.position&&this.props.onScroll(t.position));this.setState(t)}r&&b!==this&&(b&&b._blur(),b=this)},_didScroll:function(){this.props.onScroll(this.state.position)}});_.KEYBOARD_SCROLL_AMOUNT=g,_.SIZE=parseInt(u("scrollbar-size"),10),t.exports=_},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1531),a=n(1532),s=n(1527),l=function(){function t(e,n,o){r(this,t),this._isDragging=!1,this._animationFrameID=null,this._domNode=o,this._onMove=e,this._onMoveEnd=n,this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._didMouseMove=this._didMouseMove.bind(this)}return o(t,[{key:"captureMouseMoves",value:function(t){this._eventMoveToken||this._eventUpToken||(this._eventMoveToken=i.listen(this._domNode,"mousemove",this._onMouseMove),this._eventUpToken=i.listen(this._domNode,"mouseup",this._onMouseUp)),this._isDragging||(this._deltaX=0,this._deltaY=0,this._isDragging=!0,this._x=t.clientX,this._y=t.clientY),t.preventDefault()}},{key:"releaseMouseMoves",value:function(){this._eventMoveToken&&this._eventUpToken&&(this._eventMoveToken.remove(),this._eventMoveToken=null,this._eventUpToken.remove(),this._eventUpToken=null),null!==this._animationFrameID&&(a(this._animationFrameID),this._animationFrameID=null),this._isDragging&&(this._isDragging=!1,this._x=null,this._y=null)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"_onMouseMove",value:function(t){var e=t.clientX,n=t.clientY;this._deltaX+=e-this._x,this._deltaY+=n-this._y,null===this._animationFrameID&&(this._animationFrameID=s(this._didMouseMove)),this._x=e,this._y=n,t.preventDefault()}},{key:"_didMouseMove",value:function(){this._animationFrameID=null,this._onMove(this._deltaX,this._deltaY),this._deltaX=0,this._deltaY=0}},{key:"_onMouseUp",value:function(){this._animationFrameID&&this._didMouseMove(),this._onMoveEnd()}}]),t}();t.exports=l},function(t,e,n){"use strict";var r=n(1522),o={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=o},function(t,e){(function(e){"use strict";var n=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame||e.clearTimeout;t.exports=n}).call(e,function(){return this}())},function(t,e){"use strict";t.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},function(t,e,n){"use strict";t.exports=n(345)},function(t,e){"use strict";function n(t){if(r.hasOwnProperty(t))return r[t];throw new Error('cssVar("'+t+'"): Unexpected class transformation.')}var r={"scrollbar-face-active-color":"#7d7d7d","scrollbar-face-color":"#c2c2c2","scrollbar-face-margin":"4px","scrollbar-face-radius":"6px","scrollbar-size":"15px","scrollbar-size-large":"17px","scrollbar-track-color":"rgba(255, 255, 255, 0.8)","fbui-white":"#fff","fbui-desktop-background-light":"#f6f7f8"};n.CSS_VARS=r,t.exports=n},function(t,e){"use strict";function n(t){return i[t]?i[t]:(i[t]=t.replace(o,"_"),i[t])}function r(t){var e;return e="object"==typeof t?Object.keys(t).filter(function(e){return t[e]}):Array.prototype.slice.call(arguments),e.map(n).join(" ")}var o=/\//g,i={};t.exports=r},function(t,e,n){(function(e){"use strict";var r=n(1538),o=n(1539),i=o("transform"),a=o("backfaceVisibility"),s=function(){if(r.hasCSSTransforms()){var t=e.window?e.window.navigator.userAgent:"UNKNOWN",n=/Safari\//.test(t)&&!/Chrome\//.test(t);return!n&&r.hasCSS3DTransforms()?function(t,e,n){t[i]="translate3d("+e+"px,"+n+"px,0)",t[a]="hidden"}:function(t,e,n){t[i]="translate("+e+"px,"+n+"px)"}}return function(t,e,n){t.left=e+"px",t.top=n+"px"}}();t.exports=s}).call(e,function(){return this}())},function(t,e,n){"use strict";var r=n(1539),o={hasCSSAnimations:function(){return!!r("animationName")},hasCSSTransforms:function(){return!!r("transform")},hasCSS3DTransforms:function(){return!!r("perspective")},hasCSSTransitions:function(){return!!r("transition")}};t.exports=o},function(t,e,n){"use strict";function r(t){for(var e=0;e<u.length;e++){var n=u[e]+t;if(n in f)return n}return null}function o(t){var e=a(t);if(void 0===l[e]){var n=e.charAt(0).toUpperCase()+e.slice(1);c.test(n)&&s(!1,"getVendorPrefixedName must only be called with unprefixedCSS property names. It was called with %s",t),l[e]=e in f?e:r(n)}return l[e]}var i=n(1526),a=n(1540),s=n(1541),l={},u=["Webkit","ms","Moz","O"],c=new RegExp("^("+u.join("|")+")"),f=i.canUseDOM?document.createElement("div").style:{};t.exports=o},function(t,e){"use strict";function n(t){return t.replace(r,function(t,e){return e.toUpperCase()})}var r=/-(.)/g;t.exports=n},function(t,e,n){"use strict";var r=function(t,e,n,r,o,i,a,s){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;l=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return u[c++]}))}throw l.framesToPop=1,l}};t.exports=r},function(t,e,n){"use strict";var r=n(1518),o=n(1543),i=n(1547),a=n(1536),s=n(1522),l=n(1555),u=n(1537),c=r.PropTypes,f=r.createClass({displayName:"FixedDataTableBufferedRows",propTypes:{isScrolling:c.bool,defaultRowHeight:c.number.isRequired,firstRowIndex:c.number.isRequired,firstRowOffset:c.number.isRequired,fixedColumns:c.array.isRequired,height:c.number.isRequired,offsetTop:c.number.isRequired,onRowClick:c.func,onRowDoubleClick:c.func,onRowMouseDown:c.func,onRowMouseEnter:c.func,onRowMouseLeave:c.func,rowClassNameGetter:c.func,rowsCount:c.number.isRequired,rowHeightGetter:c.func,rowPositionGetter:c.func.isRequired,scrollLeft:c.number.isRequired,scrollableColumns:c.array.isRequired,showLastRowBorder:c.bool,width:c.number.isRequired},getInitialState:function(){return this._rowBuffer=new o(this.props.rowsCount,this.props.defaultRowHeight,this.props.height,this._getRowHeight),{rowsToRender:this._rowBuffer.getRows(this.props.firstRowIndex,this.props.firstRowOffset)}},componentWillMount:function(){this._staticRowArray=[]},componentDidMount:function(){setTimeout(this._updateBuffer,1e3)},componentWillReceiveProps:function(t){t.rowsCount===this.props.rowsCount&&t.defaultRowHeight===this.props.defaultRowHeight&&t.height===this.props.height||(this._rowBuffer=new o(t.rowsCount,t.defaultRowHeight,t.height,this._getRowHeight)),this.props.isScrolling&&!t.isScrolling?this._updateBuffer():this.setState({rowsToRender:this._rowBuffer.getRows(t.firstRowIndex,t.firstRowOffset)})},_updateBuffer:function(){this.isMounted()&&this.setState({rowsToRender:this._rowBuffer.getRowsWithUpdatedBuffer()})},shouldComponentUpdate:function(){return!0},componentWillUnmount:function(){this._staticRowArray.length=0},render:function(){var t=this.props,e=t.rowClassNameGetter||s,n=t.rowPositionGetter,o=this.state.rowsToRender;this._staticRowArray.length=o.length;for(var c=0;c<o.length;++c){var f=o[c],p=this._getRowHeight(f),h=n(f),d=f===t.rowsCount-1&&t.showLastRowBorder;this._staticRowArray[c]=r.createElement(i,{key:c,isScrolling:t.isScrolling,index:f,width:t.width,height:p,scrollLeft:Math.round(t.scrollLeft),offsetTop:Math.round(h),fixedColumns:t.fixedColumns,scrollableColumns:t.scrollableColumns,onClick:t.onRowClick,onDoubleClick:t.onRowDoubleClick,onMouseDown:t.onRowMouseDown,onMouseEnter:t.onRowMouseEnter,onMouseLeave:t.onRowMouseLeave,className:l(e(f),a("public/fixedDataTable/bodyRow"),a({"fixedDataTableLayout/hasBottomBorder":d,"public/fixedDataTable/hasBottomBorder":d}))})}var m=t.rowPositionGetter(t.firstRowIndex),y={position:"absolute",pointerEvents:t.isScrolling?"none":"auto"};return u(y,0,t.firstRowOffset-m+t.offsetTop),r.createElement("div",{style:y},this._staticRowArray)},_getRowHeight:function(t){return this.props.rowHeightGetter?this.props.rowHeightGetter(t):this.props.defaultRowHeight}});t.exports=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1544),a=n(1546),s=n(1541),l=3,u=6,c=function(){function t(e,n,o,c){r(this,t),s(0!==n,"defaultRowHeight musn't be equal 0 in FixedDataTableRowBuffer"),this._bufferSet=new i,this._defaultRowHeight=n,this._viewportRowsBegin=0,this._viewportRowsEnd=0,this._maxVisibleRowCount=Math.ceil(o/n)+1,this._bufferRowsCount=a(Math.floor(this._maxVisibleRowCount/2),l,u),this._rowsCount=e,this._rowHeightGetter=c,this._rows=[],this._viewportHeight=o,this.getRows=this.getRows.bind(this),this.getRowsWithUpdatedBuffer=this.getRowsWithUpdatedBuffer.bind(this)}return o(t,[{key:"getRowsWithUpdatedBuffer",value:function(){for(var t=2*this._bufferRowsCount,e=Math.max(this._viewportRowsBegin-this._bufferRowsCount,0);e<this._viewportRowsBegin;)this._addRowToBuffer(e,this._viewportRowsBegin,this._viewportRowsEnd-1),e++,t--;for(e=this._viewportRowsEnd;e<this._rowsCount&&t>0;)this._addRowToBuffer(e,this._viewportRowsBegin,this._viewportRowsEnd-1),e++,t--;return this._rows}},{key:"getRows",value:function(t,e){var n=e,r=n,o=t,i=Math.min(t+this._maxVisibleRowCount,this._rowsCount);for(this._viewportRowsBegin=t;o<i||r<this._viewportHeight&&o<this._rowsCount;)this._addRowToBuffer(o,t,i-1),r+=this._rowHeightGetter(o),++o,this._viewportRowsEnd=o;return this._rows}},{key:"_addRowToBuffer",value:function(t,e,n){var r=this._bufferSet.getValuePosition(t),o=n-e+1,i=o+2*this._bufferRowsCount;null===r&&this._bufferSet.getSize()>=i&&(r=this._bufferSet.replaceFurthestValuePosition(e,n,t)),null===r?(r=this._bufferSet.getNewPositionForValue(t),this._rows[r]=t):this._rows[r]=t}}]),t}();t.exports=c},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1545),a=n(1541),s=function(){function t(){r(this,t),this._valueToPositionMap={},this._size=0,this._smallValues=new i([],this._smallerComparator),this._largeValues=new i([],this._greaterComparator),this.getNewPositionForValue=this.getNewPositionForValue.bind(this),this.getValuePosition=this.getValuePosition.bind(this),this.getSize=this.getSize.bind(this),this.replaceFurthestValuePosition=this.replaceFurthestValuePosition.bind(this)}return o(t,[{key:"getSize",value:function(){return this._size}},{key:"getValuePosition",value:function(t){return void 0===this._valueToPositionMap[t]?null:this._valueToPositionMap[t]}},{key:"getNewPositionForValue",value:function(t){a(void 0===this._valueToPositionMap[t],"Shouldn't try to find new position for value already stored in BufferSet");var e=this._size;return this._size++,this._pushToHeaps(e,t),this._valueToPositionMap[t]=e,e}},{key:"replaceFurthestValuePosition",value:function(t,e,n){if(a(void 0===this._valueToPositionMap[n],"Shouldn't try to replace values with value already stored value in BufferSet"),this._cleanHeaps(),this._smallValues.empty()||this._largeValues.empty())return null;var r=this._smallValues.peek().value,o=this._largeValues.peek().value;if(r>=t&&o<=e)return null;var i;t-r>o-e?(i=r,this._smallValues.pop()):(i=o,this._largeValues.pop());var s=this._valueToPositionMap[i];return delete this._valueToPositionMap[i],this._valueToPositionMap[n]=s,this._pushToHeaps(s,n),s}},{key:"_pushToHeaps",value:function(t,e){var n={position:t,value:e};this._smallValues.push(n),this._largeValues.push(n)}},{key:"_cleanHeaps",value:function(){this._cleanHeap(this._smallValues),this._cleanHeap(this._largeValues);var t=Math.min(this._smallValues.size(),this._largeValues.size()),e=Math.max(this._smallValues.size(),this._largeValues.size());e>10*t&&this._recreateHeaps()}},{key:"_recreateHeaps",value:function(){for(var t=this._smallValues.size()<this._largeValues.size()?this._smallValues:this._largeValues,e=new i([],this._smallerComparator),n=new i([],this._greaterComparator);!t.empty();){var r=t.pop();void 0!==this._valueToPositionMap[r.value]&&(e.push(r),n.push(r))}this._smallValues=e,this._largeValues=n}},{key:"_cleanHeap",value:function(t){for(;!t.empty()&&void 0===this._valueToPositionMap[t.peek().value];)t.pop()}},{key:"_smallerComparator",value:function(t,e){return t.value<e.value}},{key:"_greaterComparator",value:function(t,e){return t.value>e.value}}]),t}();t.exports=s},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){return t<e}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e,o){n(this,t),this._items=e||[],this._size=this._items.length,this._comparator=o||r,this._heapify()}return o(t,[{key:"empty",value:function(){return 0===this._size}},{key:"pop",value:function(){if(0!==this._size){var t=this._items[0],e=this._items.pop();return this._size--,this._size>0&&(this._items[0]=e,this._sinkDown(0)),t}}},{key:"push",value:function(t){this._items[this._size++]=t,this._bubbleUp(this._size-1)}},{key:"size",value:function(){return this._size}},{key:"peek",value:function(){if(0!==this._size)return this._items[0]}},{key:"_heapify",value:function(){for(var t=Math.floor((this._size+1)/2);t>=0;t--)this._sinkDown(t)}},{key:"_bubbleUp",value:function(t){for(var e=this._items[t];t>0;){var n=Math.floor((t+1)/2)-1,r=this._items[n];if(this._comparator(r,e))return;this._items[n]=e,this._items[t]=r,t=n}}},{key:"_sinkDown",value:function(t){for(var e=this._items[t];;){var n=2*(t+1)-1,r=2*(t+1),o=-1;if(n<this._size){var i=this._items[n];this._comparator(i,e)&&(o=n)}if(r<this._size){var a=this._items[r];this._comparator(a,e)&&(o===-1||this._comparator(a,this._items[o]))&&(o=r)}if(o===-1)return;this._items[t]=this._items[o],this._items[o]=e,t=o}}}]),t}();t.exports=i},function(t,e){"use strict";function n(t,e,n){return t<e?e:t>n?n:t}t.exports=n},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(1518),i=n(1548),a=n(1536),s=n(1555),l=n(1537),u=o.PropTypes,c=o.createClass({displayName:"FixedDataTableRowImpl",propTypes:{isScrolling:u.bool,fixedColumns:u.array.isRequired,height:u.number.isRequired,index:u.number.isRequired,scrollableColumns:u.array.isRequired,scrollLeft:u.number.isRequired,width:u.number.isRequired,onClick:u.func,onDoubleClick:u.func,onColumnResize:u.func},render:function(){var t={width:this.props.width,height:this.props.height},e=a({"fixedDataTableRowLayout/main":!0,"public/fixedDataTableRow/main":!0,"public/fixedDataTableRow/highlighted":this.props.index%2===1,"public/fixedDataTableRow/odd":this.props.index%2===1,"public/fixedDataTableRow/even":this.props.index%2===0}),n=this._getColumnsWidth(this.props.fixedColumns),r=o.createElement(i,{key:"fixed_cells",isScrolling:this.props.isScrolling,height:this.props.height,left:0,width:n,zIndex:2,columns:this.props.fixedColumns,onColumnResize:this.props.onColumnResize,rowHeight:this.props.height,rowIndex:this.props.index}),l=this._renderColumnsShadow(n),u=o.createElement(i,{key:"scrollable_cells",isScrolling:this.props.isScrolling,height:this.props.height,left:this.props.scrollLeft,offsetLeft:n,width:this.props.width-n,zIndex:0,columns:this.props.scrollableColumns,onColumnResize:this.props.onColumnResize,rowHeight:this.props.height,rowIndex:this.props.index});return o.createElement("div",{className:s(e,this.props.className),onClick:this.props.onClick?this._onClick:null,onDoubleClick:this.props.onDoubleClick?this._onDoubleClick:null,onMouseDown:this.props.onMouseDown?this._onMouseDown:null,onMouseEnter:this.props.onMouseEnter?this._onMouseEnter:null,onMouseLeave:this.props.onMouseLeave?this._onMouseLeave:null,style:t},o.createElement("div",{className:a("fixedDataTableRowLayout/body")},r,u,l))},_getColumnsWidth:function(t){for(var e=0,n=0;n<t.length;++n)e+=t[n].props.width;return e},_renderColumnsShadow:function(t){if(t>0){var e=a({"fixedDataTableRowLayout/fixedColumnsDivider":!0,"fixedDataTableRowLayout/columnsShadow":this.props.scrollLeft>0,"public/fixedDataTableRow/fixedColumnsDivider":!0,"public/fixedDataTableRow/columnsShadow":this.props.scrollLeft>0}),n={left:t,height:this.props.height};return o.createElement("div",{className:e,style:n})}},_onClick:function(t){this.props.onClick(t,this.props.index)},_onDoubleClick:function(t){this.props.onDoubleClick(t,this.props.index)},_onMouseDown:function(t){this.props.onMouseDown(t,this.props.index)},_onMouseEnter:function(t){this.props.onMouseEnter(t,this.props.index)},_onMouseLeave:function(t){this.props.onMouseLeave(t,this.props.index)}}),f=o.createClass({displayName:"FixedDataTableRow",propTypes:{isScrolling:u.bool,height:u.number.isRequired,zIndex:u.number,offsetTop:u.number.isRequired,width:u.number.isRequired},render:function(){var t={width:this.props.width,height:this.props.height,zIndex:this.props.zIndex?this.props.zIndex:0};return l(t,0,this.props.offsetTop),o.createElement("div",{style:t,className:a("fixedDataTableRowLayout/rowWrapper")},o.createElement(c,r({},this.props,{offsetTop:void 0,zIndex:void 0})))}});t.exports=f},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(1549),a=n(1518),s=n(1553),l=n(1536),u=n(1537),c=a.PropTypes,f=i.DIR_SIGN,p=a.createClass({displayName:"FixedDataTableCellGroupImpl",propTypes_DISABLED_FOR_PERFORMANCE:{columns:c.array.isRequired,isScrolling:c.bool,left:c.number,onColumnResize:c.func,rowHeight:c.number.isRequired,rowIndex:c.number.isRequired,width:c.number.isRequired,zIndex:c.number.isRequired},render:function(){for(var t=this.props,e=t.columns,n=new Array(e.length),r=0,o=0,i=e.length;o<i;o++){var s=e[o].props;if(!s.allowCellsRecycling||r-t.left<=t.width&&r-t.left+s.width>=0){var c="cell_"+o;n[o]=this._renderCell(t.rowIndex,t.rowHeight,s,r,c)}r+=s.width}var p=this._getColumnsWidth(e),h={height:t.height,position:"absolute",width:p,zIndex:t.zIndex};return u(h,-1*f*t.left,0),a.createElement("div",{className:l("fixedDataTableCellGroupLayout/cellGroup"),style:h},n)},_renderCell:function(t,e,n,r,o){var i=n.isResizable&&this.props.onColumnResize,l=i?this.props.onColumnResize:null,u=n.cellClassName;return a.createElement(s,{isScrolling:this.props.isScrolling,align:n.align,className:u,height:e,key:o,maxWidth:n.maxWidth,minWidth:n.minWidth,onColumnResize:l,rowIndex:t,columnKey:n.columnKey,width:n.width,left:r,cell:n.cell})},_getColumnsWidth:function(t){for(var e=0,n=0;n<t.length;++n)e+=t[n].props.width;return e}}),h=a.createClass({displayName:"FixedDataTableCellGroup",propTypes_DISABLED_FOR_PERFORMANCE:{isScrolling:c.bool,height:c.number.isRequired,offsetLeft:c.number,left:c.number,zIndex:c.number.isRequired},shouldComponentUpdate:function(t){return!t.isScrolling||this.props.rowIndex!==t.rowIndex||this.props.left!==t.left},getDefaultProps:function(){return{offsetLeft:0}},render:function(){var t=this.props,e=t.offsetLeft,n=r(t,["offsetLeft"]),i={height:n.height};1===f?i.left=e:i.right=e;var s=n.onColumnResize?this._onColumnResize:null;return a.createElement("div",{style:i,className:l("fixedDataTableCellGroupLayout/cellGroupWrapper")},a.createElement(p,o({},n,{onColumnResize:s})))},_onColumnResize:function(t,e,n,r,o,i){this.props.onColumnResize&&this.props.onColumnResize(this.props.offsetLeft,t-this.props.left+e,e,n,r,o,i)}});t.exports=h},function(t,e,n){"use strict";function r(t){return null===t||void 0===t?"":String(t)}function o(t,e){s.Children.forEach(t,function(t){t.type===l?o(t.props.children,e):t.type===u&&e(t)})}function i(t,e){var n=[];return s.Children.forEach(t,function(t){var r=t;if(t.type===l){var i=!1,a=[];o(t.props.children,function(t){var n=e(t);n!==t&&(i=!0),a.push(n)}),i&&(r=s.cloneElement(t,{children:a}))}else t.type===u&&(r=e(t));n.push(r)}),n}var a=n(1550),s=n(1518),l=n(1551),u=n(1552),c=a.isRTL()?-1:1,f=5,p={DIR_SIGN:c,CELL_VISIBILITY_TOLERANCE:f,renderToString:r,forEachColumn:o,mapColumns:i};t.exports=p},function(t,e){"use strict";var n={isRTL:function(){return!1},getDirection:function(){return"LTR"}};t.exports=n},function(t,e,n){"use strict";var r=n(1518),o=r.createClass({displayName:"TransitionColumnGroup",statics:{__TableColumnGroup__:!0},render:function(){return null}});t.exports=o},function(t,e,n){"use strict";var r=n(1518),o=r.createClass({displayName:"TransitionColumn",statics:{__TableColumn__:!0},render:function(){return null}});t.exports=o},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var o=n(1554),i=n(1549),a=n(1518),s=n(1536),l=n(1555),u=i.DIR_SIGN,c=a.PropTypes,f={align:"left",highlighted:!1},p=a.createClass({displayName:"FixedDataTableCell",propTypes_DISABLED_FOR_PERFORMANCE:{isScrolling:c.bool,align:c.oneOf(["left","center","right"]),className:c.string,highlighted:c.bool,width:c.number.isRequired,minWidth:c.number,maxWidth:c.number,height:c.number.isRequired,cell:c.oneOfType([c.string,c.element,c.func]),columnKey:c.oneOfType([c.string,c.number]),rowIndex:c.number.isRequired,onColumnResize:c.func,left:c.number},shouldComponentUpdate:function(t){return!t.isScrolling||this.props.rowIndex!==t.rowIndex},getDefaultProps:function(){return f},render:function(){var t=this.props,e=t.height,n=t.width,i=t.columnKey,c=r(t,["height","width","columnKey"]),f={height:e,width:n};1===u?f.left=c.left:f.right=c.left;var p,h=l(s({"fixedDataTableCellLayout/main":!0,"fixedDataTableCellLayout/lastChild":c.lastChild,"fixedDataTableCellLayout/alignRight":"right"===c.align,"fixedDataTableCellLayout/alignCenter":"center"===c.align,"public/fixedDataTableCell/alignRight":"right"===c.align,"public/fixedDataTableCell/highlighted":c.highlighted,"public/fixedDataTableCell/main":!0}),c.className);if(c.onColumnResize){var d={height:e};p=a.createElement("div",{className:s("fixedDataTableCellLayout/columnResizerContainer"),style:d,onMouseDown:this._onColumnResizerMouseDown},a.createElement("div",{className:l(s("fixedDataTableCellLayout/columnResizerKnob"),s("public/fixedDataTableCell/columnResizerKnob")),style:d}))}var m={columnKey:i,height:e,width:n};c.rowIndex>=0&&(m.rowIndex=c.rowIndex);var y;return y=a.isValidElement(c.cell)?a.cloneElement(c.cell,m):"function"==typeof c.cell?c.cell(m):a.createElement(o,m,c.cell),a.createElement("div",{className:h,style:f},p,y)},_onColumnResizerMouseDown:function(t){this.props.onColumnResize(this.props.left,this.props.width,this.props.minWidth,this.props.maxWidth,this.props.columnKey,t)}});t.exports=p},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(1518),a=n(1536),s=n(1555),l=i.PropTypes,u=i.createClass({displayName:"FixedDataTableCellDefault",propTypes:{height:l.number,width:l.number,columnKey:l.oneOfType([l.string,l.number])},render:function(){var t=this.props,e=t.height,n=t.width,l=t.style,u=t.className,c=t.children,f=(t.columnKey,t.rowIndex,r(t,["height","width","style","className","children","columnKey","rowIndex"])),p=o({height:e,width:n},l);return i.createElement("div",o({},f,{className:s(a("fixedDataTableCellLayout/wrap1"),a("public/fixedDataTableCell/wrap1"),u),style:p}),i.createElement("div",{className:s(a("fixedDataTableCellLayout/wrap2"),a("public/fixedDataTableCell/wrap2"))},i.createElement("div",{className:s(a("fixedDataTableCellLayout/wrap3"),a("public/fixedDataTableCell/wrap3"))},i.createElement("div",{className:a("public/fixedDataTableCell/cellContent")},c))))}});t.exports=u},function(t,e){"use strict";function n(t){t||(t="");var e,n=arguments.length;if(n>1)for(var r=1;r<n;r++)e=arguments[r],e&&(t=(t?t+" ":"")+e);return t}t.exports=n},function(t,e,n){
"use strict";var r=n(1530),o=n(1550),i=n(1518),a=n(1520),s=n(1546),l=n(1536),u=i.PropTypes,c=i.createClass({displayName:"FixedDataTableColumnResizeHandle",mixins:[a],propTypes:{visible:u.bool.isRequired,height:u.number.isRequired,leftOffset:u.number.isRequired,knobHeight:u.number.isRequired,initialWidth:u.number,minWidth:u.number,maxWidth:u.number,initialEvent:u.object,onColumnResizeEnd:u.func,columnKey:u.oneOfType([u.string,u.number])},getInitialState:function(){return{width:0,cursorDelta:0}},componentWillReceiveProps:function(t){t.initialEvent&&!this._mouseMoveTracker.isDragging()&&(this._mouseMoveTracker.captureMouseMoves(t.initialEvent),this.setState({width:t.initialWidth,cursorDelta:t.initialWidth}))},componentDidMount:function(){this._mouseMoveTracker=new r(this._onMove,this._onColumnResizeEnd,document.body)},componentWillUnmount:function(){this._mouseMoveTracker.releaseMouseMoves(),this._mouseMoveTracker=null},render:function(){var t={width:this.state.width,height:this.props.height};return o.isRTL()?t.right=this.props.leftOffset:t.left=this.props.leftOffset,i.createElement("div",{className:l({"fixedDataTableColumnResizerLineLayout/main":!0,"fixedDataTableColumnResizerLineLayout/hiddenElem":!this.props.visible,"public/fixedDataTableColumnResizerLine/main":!0}),style:t},i.createElement("div",{className:l("fixedDataTableColumnResizerLineLayout/mouseArea"),style:{height:this.props.height}}))},_onMove:function(t){o.isRTL()&&(t=-t);var e=this.state.cursorDelta+t,n=s(e,this.props.minWidth,this.props.maxWidth);this.setState({width:n,cursorDelta:e})},_onColumnResizeEnd:function(){this._mouseMoveTracker.releaseMouseMoves(),this.props.onColumnResizeEnd(this.state.width,this.props.columnKey)}});t.exports=c},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1558),a=n(1546),s=5,l={index:0,offset:0,position:0,contentHeight:0},u=function(){function t(e,n,o,a){r(this,t),this._rowOffsets=i.uniform(e,n),this._storedHeights=new Array(e);for(var s=0;s<e;++s)this._storedHeights[s]=n;this._rowCount=e,this._position=0,this._contentHeight=e*n,this._defaultRowHeight=n,this._rowHeightGetter=a?a:function(){return n},this._viewportHeight=o,this.scrollRowIntoView=this.scrollRowIntoView.bind(this),this.setViewportHeight=this.setViewportHeight.bind(this),this.scrollBy=this.scrollBy.bind(this),this.scrollTo=this.scrollTo.bind(this),this.scrollToRow=this.scrollToRow.bind(this),this.setRowHeightGetter=this.setRowHeightGetter.bind(this),this.getContentHeight=this.getContentHeight.bind(this),this.getRowPosition=this.getRowPosition.bind(this),this._updateHeightsInViewport(0,0)}return o(t,[{key:"setRowHeightGetter",value:function(t){this._rowHeightGetter=t}},{key:"setViewportHeight",value:function(t){this._viewportHeight=t}},{key:"getContentHeight",value:function(){return this._contentHeight}},{key:"_updateHeightsInViewport",value:function(t,e){for(var n=e,r=t;n<=this._viewportHeight&&r<this._rowCount;)this._updateRowHeight(r),n+=this._storedHeights[r],r++}},{key:"_updateHeightsAboveViewport",value:function(t){for(var e=t-1;e>=0&&e>=t-s;){var n=this._updateRowHeight(e);this._position+=n,e--}}},{key:"_updateRowHeight",value:function(t){if(t<0||t>=this._rowCount)return 0;var e=this._rowHeightGetter(t);if(e!==this._storedHeights[t]){var n=e-this._storedHeights[t];return this._rowOffsets.set(t,e),this._storedHeights[t]=e,this._contentHeight+=n,n}return 0}},{key:"getRowPosition",value:function(t){return this._updateRowHeight(t),this._rowOffsets.sumUntil(t)}},{key:"scrollBy",value:function(t){if(0===this._rowCount)return l;var e=this._rowOffsets.greatestLowerBound(this._position);e=a(e,0,Math.max(this._rowCount-1,0));var n=this._rowOffsets.sumUntil(e),r=e,o=this._position,i=this._updateRowHeight(r);0!==n&&(o+=i);var s=this._storedHeights[r]-(o-n);if(t>=0)for(;t>0&&r<this._rowCount;)t<s?(o+=t,t=0):(t-=s,o+=s,r++),r<this._rowCount&&(this._updateRowHeight(r),s=this._storedHeights[r]);else if(t<0){t=-t;for(var u=this._storedHeights[r]-s;t>0&&r>=0;)if(t<u?(o-=t,t=0):(o-=u,t-=u,r--),r>=0){var c=this._updateRowHeight(r);u=this._storedHeights[r],o+=c}}var f=this._contentHeight-this._viewportHeight;o=a(o,0,f),this._position=o;var p=this._rowOffsets.greatestLowerBound(o);p=a(p,0,Math.max(this._rowCount-1,0)),n=this._rowOffsets.sumUntil(p);var h=n-o;return this._updateHeightsInViewport(p,h),this._updateHeightsAboveViewport(p),{index:p,offset:h,position:this._position,contentHeight:this._contentHeight}}},{key:"_getRowAtEndPosition",value:function(t){this._updateRowHeight(t);for(var e=t,n=this._storedHeights[e];n<this._viewportHeight&&e>=0;)e--,e>=0&&(this._updateRowHeight(e),n+=this._storedHeights[e]);var r=this._rowOffsets.sumTo(t)-this._viewportHeight;return r<0&&(r=0),r}},{key:"scrollTo",value:function(t){if(0===this._rowCount)return l;if(t<=0)return this._position=0,this._updateHeightsInViewport(0,0),{index:0,offset:0,position:this._position,contentHeight:this._contentHeight};if(t>=this._contentHeight-this._viewportHeight){var e=this._rowCount-1;t=this._getRowAtEndPosition(e)}this._position=t;var n=this._rowOffsets.greatestLowerBound(t);n=a(n,0,Math.max(this._rowCount-1,0));var r=this._rowOffsets.sumUntil(n),o=r-t;return this._updateHeightsInViewport(n,o),this._updateHeightsAboveViewport(n),{index:n,offset:o,position:this._position,contentHeight:this._contentHeight}}},{key:"scrollToRow",value:function(t,e){t=a(t,0,Math.max(this._rowCount-1,0)),e=a(e,-this._storedHeights[t],0);var n=this._rowOffsets.sumUntil(t);return this.scrollTo(n-e)}},{key:"scrollRowIntoView",value:function(t){t=a(t,0,Math.max(this._rowCount-1,0));var e=this._rowOffsets.sumUntil(t),n=e+this._storedHeights[t];if(e<this._position)return this.scrollTo(e);if(this._position+this._viewportHeight<n){var r=this._getRowAtEndPosition(t);return this.scrollTo(r)}return this.scrollTo(this._position)}}]),t}();t.exports=u},function(t,e,n){(function(e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){for(var e=1;e<t;)e*=2;return e}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1541),s=function(t){return Math.floor(t/2)},l=e.Int32Array||function(t){for(var e=[],n=t-1;n>=0;--n)e[n]=0;return e},u=function(){function t(e){r(this,t),this._size=e.length,this._half=o(this._size),this._heap=new l(2*this._half);var n;for(n=0;n<this._size;++n)this._heap[this._half+n]=e[n];for(n=this._half-1;n>0;--n)this._heap[n]=this._heap[2*n]+this._heap[2*n+1]}return i(t,[{key:"set",value:function(t,e){a(0<=t&&t<this._size,"Index out of range %s",t);var n=this._half+t;for(this._heap[n]=e,n=s(n);0!==n;n=s(n))this._heap[n]=this._heap[2*n]+this._heap[2*n+1]}},{key:"get",value:function(t){a(0<=t&&t<this._size,"Index out of range %s",t);var e=this._half+t;return this._heap[e]}},{key:"getSize",value:function(){return this._size}},{key:"sumUntil",value:function(t){if(a(0<=t&&t<this._size+1,"Index out of range %s",t),0===t)return 0;for(var e=this._half+t-1,n=this._heap[e];1!==e;e=s(e))e%2===1&&(n+=this._heap[e-1]);return n}},{key:"sumTo",value:function(t){return a(0<=t&&t<this._size,"Index out of range %s",t),this.sumUntil(t+1)}},{key:"sum",value:function(t,e){return a(t<=e,"Begin must precede end"),this.sumUntil(e)-this.sumUntil(t)}},{key:"greatestLowerBound",value:function(t){if(t<0)return-1;var e=1;if(this._heap[e]<=t)return this._size;for(;e<this._half;){var n=this._heap[2*e];t<n?e=2*e:(e=2*e+1,t-=n)}return e-this._half}},{key:"greatestStrictLowerBound",value:function(t){if(t<=0)return-1;var e=1;if(this._heap[e]<t)return this._size;for(;e<this._half;){var n=this._heap[2*e];t<=n?e=2*e:(e=2*e+1,t-=n)}return e-this._half}},{key:"leastUpperBound",value:function(t){return this.greatestStrictLowerBound(t)+1}},{key:"leastStrictUpperBound",value:function(t){return this.greatestLowerBound(t)+1}}],[{key:"uniform",value:function(e,n){for(var r=[],o=e-1;o>=0;--o)r[o]=n;return new t(r)}},{key:"empty",value:function(e){return t.uniform(e,0)}}]),t}();t.exports=u}).call(e,function(){return this}())},function(t,e,n){"use strict";function r(t){for(var e=0,n=0;n<t.length;++n)e+=t[n].props.width;return e}function o(t){for(var e=0,n=0;n<t.length;++n)e+=t[n].props.flexGrow||0;return e}function i(t,e){if(e<=0)return{columns:t,width:r(t)};for(var n=o(t),i=e,a=[],s=0,u=0;u<t.length;++u){var c=t[u];if(c.props.flexGrow){var f=Math.floor(c.props.flexGrow/n*i),p=Math.floor(c.props.width+f);s+=p,n-=c.props.flexGrow,i-=f,a.push(l.cloneElement(c,{width:p}))}else s+=c.props.width,a.push(c)}return{columns:a,width:s}}function a(t,e){var n,a=[];for(n=0;n<t.length;++n)l.Children.forEach(t[n].props.children,function(t){a.push(t)});var s=r(a),u=o(a),c=Math.max(e-s,0),f=[],p=[];for(n=0;n<t.length;++n){var h=t[n],d=[];l.Children.forEach(h.props.children,function(t){d.push(t)});var m=o(d),y=Math.floor(m/u*c),v=i(d,y);u-=m,c-=y;for(var g=0;g<v.columns.length;++g)f.push(v.columns[g]);p.push(l.cloneElement(h,{width:v.width}))}return{columns:f,columnGroups:p}}function s(t,e){var n=r(t);return n<e?i(t,e-n).columns:t}var l=n(1518),u={getTotalWidth:r,getTotalFlexGrow:o,distributeFlexWidth:i,adjustColumnWidths:s,adjustColumnGroupWidths:a};t.exports=u},function(t,e){"use strict";function n(t,e,n,r,o){function i(){for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];i.reset();var u=function(){t.apply(n,s)};u.__SMmeta=t.__SMmeta,a=r(u,e)}r=r||setTimeout,o=o||clearTimeout;var a;return i.reset=function(){o(a)},i}t.exports=n},function(t,e){"use strict";function n(t,e){if(t===e)return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(var i=r.bind(e),a=0;a<n.length;a++)if(!i(n[a])||t[n[a]]!==e[n[a]])return!1;return!0}var r=Object.prototype.hasOwnProperty;t.exports=n},function(t,e,n){"use strict";var r=n(1518),o=r.PropTypes,i=r.createClass({displayName:"FixedDataTableColumn",statics:{__TableColumn__:!0},propTypes:{align:o.oneOf(["left","center","right"]),fixed:o.bool,header:o.oneOfType([o.node,o.func]),cell:o.oneOfType([o.node,o.func]),footer:o.oneOfType([o.node,o.func]),columnKey:o.oneOfType([o.string,o.number]),width:o.number.isRequired,minWidth:o.number,maxWidth:o.number,flexGrow:o.number,isResizable:o.bool,allowCellsRecycling:o.bool},getDefaultProps:function(){return{allowCellsRecycling:!1,fixed:!1}},render:function(){return null}});t.exports=i},function(t,e,n){"use strict";var r=n(1518),o=r.PropTypes,i=r.createClass({displayName:"FixedDataTableColumnGroup",statics:{__TableColumnGroup__:!0},propTypes:{align:o.oneOf(["left","center","right"]),fixed:o.bool,header:o.oneOfType([o.node,o.func])},getDefaultProps:function(){return{fixed:!1}},render:function(){return null}});t.exports=i},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(1518),i=o.PropTypes,a=n(1536),s=n(1555),l=n(1561),u=n(1554),c=o.createClass({displayName:"TransitionCell",propTypes:{label:i.string,className:i.string,rowIndex:i.number,rowGetter:i.func,dataKey:i.oneOfType([i.string,i.number]),cellRenderer:i.func,cellDataGetter:i.func,footerDataGetter:i.func,footerData:i.any,columnData:i.any,width:i.number,height:i.number,isHeaderCell:i.bool,isFooterCell:i.bool},shouldComponentUpdate:function(t){var e,n=!1;t.rowGetter&&(e=t.rowGetter(t.rowIndex),this._rowData!==e&&(n=!0));var r;return null!=t.dataKey&&(t.cellDataGetter&&(r=t.cellDataGetter(t.dataKey,e)),!r&&e&&(r=e[t.dataKey])),this._cellData!==r&&(n=!0),this._rowData=e,this._cellData=r,n||!l(t,this.props)},_getCellData:function(t){var e=t.dataKey;if(null==e)return null;var n;return t.rowGetter&&(n=t.rowGetter(t.rowIndex)),t.cellDataGetter?t.cellDataGetter(e,n):n?n[e]:t.footerDataGetter?t.footerDataGetter()[e]:t.footerData?t.footerData[e]:t.headerDataGetter?t.headerDataGetter[e]:void 0},_getRowData:function(t){return t.rowGetter?t.rowGetter(t.rowIndex)||{}:t.footerDataGetter?t.footerDataGetter()||{}:t.footerData?t.footerData||{}:{}},render:function(){var t=this.props,e=this._getCellData(t),n=e,i=this._getRowData(t),l=!(!t.cellRenderer&&!t.groupHeaderRenderer);(t.isHeaderCell||t.isFooterCell)&&(n=n||t.label),t.cellRenderer&&(n=t.isHeaderCell||t.isFooterCell?t.cellRenderer(t.label,t.dataKey,t.columnData,i,t.width)||t.label:t.cellRenderer(e,t.dataKey,i,t.rowIndex,t.columnData,t.width)),t.groupHeaderRenderer&&(n=t.groupHeaderRenderer(t.label,t.dataKey,t.groupHeaderData,t.groupHeaderLabels,t.width)||n);var c=a("public/fixedDataTableCell/cellContent");if(!o.isValidElement(n)||!l)return o.createElement(u,t,n);n=o.cloneElement(n,{className:s(n.props.className,c)});var f=r({height:t.height,width:t.width},t.style);return o.createElement("div",r({},this.props,{className:s(a("fixedDataTableCellLayout/wrap1"),a("public/fixedDataTableCell/wrap1"),this.props.className),style:f}),o.createElement("div",{className:s(a("fixedDataTableCellLayout/wrap2"),a("public/fixedDataTableCell/wrap2"))},o.createElement("div",{className:s(a("fixedDataTableCellLayout/wrap3"),a("public/fixedDataTableCell/wrap3"))},n)))}});t.exports=c},function(t,e,n){var r=n(1566);"string"==typeof r&&(r=[[t.id,r,""]]);n(782)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(781)(),e.push([t.id,".fixedDataTableCellGroupLayout_cellGroup{-webkit-backface-visibility:hidden;backface-visibility:hidden;left:0;overflow:hidden;position:absolute;top:0;white-space:nowrap}.fixedDataTableCellGroupLayout_cellGroup>.public_fixedDataTableCell_main{display:inline-block;vertical-align:top;white-space:normal}.fixedDataTableCellGroupLayout_cellGroupWrapper{position:absolute;top:0}.fixedDataTableCellLayout_main{border-right-style:solid;border-right-width:1px;border-width:0 1px 0 0;box-sizing:border-box;display:block;overflow:hidden;position:absolute;white-space:normal}.fixedDataTableCellLayout_lastChild{border-width:0 1px 1px 0}.fixedDataTableCellLayout_alignRight{text-align:right}.fixedDataTableCellLayout_alignCenter{text-align:center}.fixedDataTableCellLayout_wrap1{display:table}.fixedDataTableCellLayout_wrap2{display:table-row}.fixedDataTableCellLayout_wrap3{display:table-cell;vertical-align:middle}.fixedDataTableCellLayout_columnResizerContainer{position:absolute;right:0;width:6px;z-index:1}.fixedDataTableCellLayout_columnResizerContainer:hover{cursor:ew-resize}.fixedDataTableCellLayout_columnResizerContainer:hover .fixedDataTableCellLayout_columnResizerKnob{visibility:visible}.fixedDataTableCellLayout_columnResizerKnob{position:absolute;right:0;visibility:hidden;width:4px}.fixedDataTableColumnResizerLineLayout_mouseArea{cursor:ew-resize;position:absolute;right:-5px;width:12px}.fixedDataTableColumnResizerLineLayout_main{border-right-style:solid;border-right-width:1px;box-sizing:border-box;position:absolute;z-index:10}.fixedDataTableColumnResizerLineLayout_hiddenElem,body[dir=rtl] .fixedDataTableColumnResizerLineLayout_main{display:none!important}.fixedDataTableLayout_main{border-style:solid;border-width:1px;box-sizing:border-box;overflow:hidden;position:relative}.fixedDataTableLayout_hasBottomBorder,.fixedDataTableLayout_header{border-bottom-style:solid;border-bottom-width:1px}.fixedDataTableLayout_footer .public_fixedDataTableCell_main{border-top-style:solid;border-top-width:1px}.fixedDataTableLayout_bottomShadow,.fixedDataTableLayout_topShadow{height:4px;left:0;position:absolute;right:0;z-index:1}.fixedDataTableLayout_bottomShadow{margin-top:-4px}.fixedDataTableLayout_rowsContainer{overflow:hidden;position:relative}.fixedDataTableLayout_horizontalScrollbar{bottom:0;position:absolute}.fixedDataTableRowLayout_main{box-sizing:border-box;overflow:hidden;position:absolute;top:0}.fixedDataTableRowLayout_body{left:0;position:absolute;top:0}.fixedDataTableRowLayout_fixedColumnsDivider{-webkit-backface-visibility:hidden;backface-visibility:hidden;border-left-style:solid;border-left-width:1px;left:0;position:absolute;top:0;width:0}.fixedDataTableRowLayout_columnsShadow{width:4px}.fixedDataTableRowLayout_rowWrapper{position:absolute;top:0}.ScrollbarLayout_main{box-sizing:border-box;outline:none;overflow:hidden;position:absolute;transition-duration:.25s;transition-timing-function:ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ScrollbarLayout_mainVertical{bottom:0;right:0;top:0;transition-property:background-color width;width:15px}.ScrollbarLayout_mainVertical.public_Scrollbar_mainActive,.ScrollbarLayout_mainVertical:hover{width:17px}.ScrollbarLayout_mainHorizontal{bottom:0;height:15px;left:0;transition-property:background-color height}.ScrollbarLayout_mainHorizontal.public_Scrollbar_mainActive,.ScrollbarLayout_mainHorizontal:hover{height:17px}.ScrollbarLayout_face{left:0;overflow:hidden;position:absolute;z-index:1}.ScrollbarLayout_face:after{border-radius:6px;content:'';display:block;position:absolute;transition:background-color .25s ease}.ScrollbarLayout_faceHorizontal{bottom:0;left:0;top:0}.ScrollbarLayout_faceHorizontal:after{bottom:4px;left:0;top:4px;width:100%}.ScrollbarLayout_faceVertical{left:0;right:0;top:0}.ScrollbarLayout_faceVertical:after{height:100%;left:4px;right:4px;top:0}.public_fixedDataTable_hasBottomBorder,.public_fixedDataTable_header,.public_fixedDataTable_main{border-color:#d3d3d3}.public_fixedDataTable_header .public_fixedDataTableCell_main{font-weight:700}.public_fixedDataTable_header,.public_fixedDataTable_header .public_fixedDataTableCell_main{background-color:#f6f7f8;background-image:linear-gradient(#fff,#efefef)}.public_fixedDataTable_footer .public_fixedDataTableCell_main{background-color:#f6f7f8;border-color:#d3d3d3}.public_fixedDataTable_topShadow{background:0 0 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAECAYAAABP2FU6AAAAF0lEQVR4AWPUkNeSBhHCjJoK2twgFisAFagCCp3pJlAAAAAASUVORK5CYII=) repeat-x}.public_fixedDataTable_bottomShadow{background:0 0 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAECAYAAABP2FU6AAAAHElEQVQI12MwNjZmZdAT1+Nm0JDWEGZQk1GTBgAWkwIeAEp52AAAAABJRU5ErkJggg==) repeat-x}.public_fixedDataTable_horizontalScrollbar .public_Scrollbar_mainHorizontal{background-color:#fff}.public_fixedDataTableCell_main{background-color:#fff;border-color:#d3d3d3}.public_fixedDataTableCell_highlighted{background-color:#f4f4f4}.public_fixedDataTableCell_cellContent{padding:8px}.public_fixedDataTableCell_columnResizerKnob{background-color:#0284ff}.public_fixedDataTableColumnResizerLine_main{border-color:#0284ff}.public_fixedDataTableRow_main{background-color:#fff}.public_fixedDataTableRow_highlighted,.public_fixedDataTableRow_highlighted .public_fixedDataTableCell_main{background-color:#f6f7f8}.public_fixedDataTableRow_fixedColumnsDivider{border-color:#d3d3d3}.public_fixedDataTableRow_columnsShadow{background:0 0 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAYAAAD5PA/NAAAAFklEQVQIHWPSkNeSBmJhTQVtbiDNCgASagIIuJX8OgAAAABJRU5ErkJggg==) repeat-y}.public_Scrollbar_main.public_Scrollbar_mainActive,.public_Scrollbar_main:hover{background-color:hsla(0,0%,100%,.8)}.public_Scrollbar_mainOpaque,.public_Scrollbar_mainOpaque.public_Scrollbar_mainActive,.public_Scrollbar_mainOpaque:hover{background-color:#fff}.public_Scrollbar_face:after{background-color:#c2c2c2}.public_Scrollbar_faceActive:after,.public_Scrollbar_main:hover .public_Scrollbar_face:after,.public_Scrollbar_mainActive .public_Scrollbar_face:after{background-color:#7d7d7d}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e={query:h["default"].nullQuery,ascending:!0},n=i({},e,t),r=n.dataset,o=n.table,a=n.query,l=n.columns,c=n.tableConfig,p=n.ascending,m=n.rowsCount,y=n.onLimitBreach;l||(l=s["default"].List(c.properties).filter(function(t){return t.showByDefault&&t.showInTable}).map(function(t){return t.id}));var v=m*l.size;if(v>d)return y({totalDataPoints:v,maxDataPoints:d}),null;var g="";if(l.map(function(t){if("StoredSelection"!==t){var e=c.propertiesById[t].defaultFetchEncoding;0!==g.length&&(g+="~"),g+=e+t}}),!g)return console.error("!columnList"),null;var b=f["default"].serverURL;b+="?datatype=downloadtable",b+="&database="+r,b+="&qry="+f["default"].encodeQuery(a),b+="&tbname="+o,b+="&collist="+u["default"].compressToEncodedURIComponent(g),c.position?(b+="&posfield="+c.position,b+="&order="+c.position):b+="&order="+c.primKey,b+="&sortreverse="+(p?"0":"1"),window.location.href=b}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(574),s=r(a),l=n(938),u=r(l),c=n(933),f=r(c),p=n(940),h=r(p),d=1e5;t.exports={downloadTableData:o}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(971),s=r(a),l=n(955),u=r(l),c=n(584),f=r(c),p=n(583),h=r(p),d=n(582),m=r(d),y=n(957),v=r(y),g=n(750),b=r(g),_=n(1569),x=r(_),w=n(1016),T=r(w),E=n(1065),C=r(E),k=n(940),S=r(k),P=n(1387),M=r(P),A=i["default"].createClass({displayName:"PivotTableWithActions",mixins:[f["default"],m["default"],h["default"]],propTypes:{setProps:i["default"].PropTypes.func.isRequired,title:i["default"].PropTypes.string,sidebar:i["default"].PropTypes.bool,table:i["default"].PropTypes.string,query:i["default"].PropTypes.string,columnProperty:i["default"].PropTypes.string,rowProperty:i["default"].PropTypes.string},getDefaultProps:function(){return{query:S["default"].nullQuery,setProps:null,sidebar:!0}},icon:function(){return"table"},title:function(){return this.props.title||"Pivot "+this.tableConfig().namePlural},render:function(){var t=this,e=this.props,n=e.sidebar,r=e.table,o=e.query,a=e.columnProperty,l=e.rowProperty,c=e.setProps,f=i["default"].createElement("div",{className:"sidebar pivot-sidebar"},i["default"].createElement(v["default"],{icon:this.icon(),description:"Summary and aggregates of the "+this.tableConfig().namePlural+" table"}),i["default"].createElement("div",{className:"pivot-controls vertical stack"},i["default"].createElement(C["default"],{table:r,query:o,onPick:function(e){return t.props.setProps({query:e})}}),i["default"].createElement(T["default"],{table:r,key:"columnProperty",value:this.config.tablesById[r].propertiesById[a]?a:null,label:"Column",allowNull:!0,filter:function(t){return t.isCategorical||t.isBoolean||t.isText},onSelect:function(t){return c({columnProperty:t})}}),i["default"].createElement(T["default"],{table:r,key:"rowProperty",value:this.config.tablesById[r].propertiesById[l]?l:null,label:"Row",allowNull:!0,filter:function(t){return t.isCategorical||t.isBoolean||t.isText},onSelect:function(t){return c({rowProperty:t})}})));return i["default"].createElement(u["default"],{docked:n,styles:{sidebar:{paddingRight:(0,s["default"])()+"px"}},sidebar:f},i["default"].createElement("div",{className:"vertical stack"},i["default"].createElement("div",{className:"top-bar"},i["default"].createElement(b["default"],{className:"pointer icon",name:n?"arrows-h":"bars",title:n?"Expand":"Sidebar",onClick:function(){return c({sidebar:!n})}}),i["default"].createElement("span",{className:"text"},i["default"].createElement(M["default"],{prepend:"Filter:",table:r,query:o}))),i["default"].createElement("div",{className:"grow"},i["default"].createElement(x["default"],this.props))))}});t.exports=A},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(654),l=r(s),u=n(1190),c=r(u),f=n(584),p=r(f),h=n(582),d=r(h),m=n(583),y=r(m),v=n(922),g=r(v),b=n(1515);n(1565);var _=n(933),x=r(_),w=n(927),T=r(w),E=n(950),C=r(E),k=n(940),S=r(k),P=n(1334),M=r(P),A=n(1241),O=r(A),D=n(899),L=r(D),I=30,j=50,F=100,R=a["default"].createClass({displayName:"PivotTableView",mixins:[p["default"],d["default"],y["default"],(0,g["default"])("table","query","columnProperty","rowProperty")],propTypes:{table:a["default"].PropTypes.string.isRequired,query:a["default"].PropTypes.string,columnProperty:a["default"].PropTypes.string,rowProperty:a["default"].PropTypes.string,className:a["default"].PropTypes.string},getDefaultProps:function(){return{query:S["default"].nullQuery}},getInitialState:function(){return{uniqueColumns:[],uniqueRows:[],loadStatus:"loaded",width:0,height:0}},fetchData:function(t,e){var n=this,r=t.table,i=t.query,a=t.columnProperty,s=t.rowProperty,l=this.config.tablesById[r],u=[{expr:["count",["*"]],as:"count"}],f=[];a&&(u.push(a),f.push(a)),s&&(u.push(s),f.push(s)),u=(0,c["default"])(u),f=(0,c["default"])(f),this.setState({loadStatus:"loading",dataByColumnRow:null,uniqueColumns:[],uniqueRows:[]});var p={database:this.config.dataset,table:l.fetchTableName,columns:u,query:i,groupBy:f,start:0,stop:1e3,transpose:!1};e.request(function(t){return T["default"].get("query"+JSON.stringify(p),function(t){return x["default"].query(o({cancellation:t},p))},t)}).then(function(t){var e=t[a],r=t[s],o=t.count,i=["_all_"].concat(e?(0,c["default"])(e.array):[]),l=["_all_"].concat(r?(0,c["default"])(r.array):[]),u={};i.forEach(function(t){return u[t]={_all_:0}}),u._all_={},l.forEach(function(t){return u._all_[t]=0});for(var f=0;f<o.shape[0];++f)u._all_._all_+=o.array[f],a&&(u[e.array[f]]._all_+=o.array[f]),s&&(u._all_[r.array[f]]+=o.array[f]),a&&s&&(u[e.array[f]][r.array[f]]=o.array[f]);n.setState({loadStatus:"loaded",uniqueRows:l,uniqueColumns:i,dataByColumnRow:u})})["catch"](x["default"].filterAborted)["catch"](T["default"].filterCancelled)["catch"](function(t){(0,C["default"])(n.getFlux(),x["default"].errorMessage(t),function(){return n.fetchData(n.props)}),n.setState({loadStatus:"error"})}).done()},handleResize:function(t){this.setState(t)},render:function(){var t=this.props,e=t.className,n=t.columnProperty,r=t.rowProperty,o=this.state,i=o.loadStatus,s=o.uniqueRows,u=o.uniqueColumns,c=o.dataByColumnRow,f=o.width,p=o.height,h=this.tableConfig();return h?a["default"].createElement(L["default"],{onResize:this.handleResize},a["default"].createElement("div",{className:(0,l["default"])("datatable",e)},a["default"].createElement(b.Table,{rowHeight:I,rowsCount:s.length,width:f,height:p,headerHeight:j,isColumnResizing:!1},a["default"].createElement(b.Column,{width:F,allowCellsRecycling:!0,isFixed:!0,isResizable:!1,minWidth:50,header:"",cell:function(t){var e=t.rowIndex;return a["default"].createElement("div",{className:"table-row-cell",style:{textAlign:"_all_"==s[e]?"center":h.propertiesById[r].alignment,width:F,height:I+"px"}},"_all_"==s[e]?"All":a["default"].createElement(M["default"],{prop:h.propertiesById[r],value:s[e]}))}}),u.map(function(t){return a["default"].createElement(b.Column,{width:F,key:t,allowCellsRecycling:!0,isResizable:!1,minWidth:50,header:a["default"].createElement("div",{className:"table-row-cell",style:{textAlign:"_all_"==t?"center":h.propertiesById[n].alignment,width:F,height:j+"px"}},"_all_"==t?"All":a["default"].createElement(M["default"],{prop:h.propertiesById[n],value:t})),cell:function(e){var n=e.rowIndex;return a["default"].createElement("div",{className:"table-row-cell",style:{textAlign:"right",width:F,height:I+"px"}},(c[t][s[n]]||"").toLocaleString())}})})),a["default"].createElement(O["default"],{status:i}))):(console.error("Table "+this.props.table+" doesn't exist'"),null)}});t.exports=R},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(582),u=r(l),c=n(1571),f=r(c),p=n(1574),h=r(p),d=i["default"].createClass({displayName:"EmptyTab",mixins:[s["default"],u["default"]],propTypes:{replaceSelf:i["default"].PropTypes.func},icon:function(){return"folder-o"},title:function(){return"New tab"},handleClick:function(t){var e=t.component,n=t.middleClick;n?this.flux.actions.session.tabOpen(e,!1):this.props.replaceSelf(e)},render:function(){return i["default"].createElement("div",{className:"horizontal stack start-align wrap"},i["default"].createElement(f["default"],{style:{width:"500px"},onClick:this.handleClick}),i["default"].createElement(h["default"],{style:{width:"500px"},onClick:this.handleClick}))}});t.exports=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(1011),s=r(a),l=n(768),u=r(l),c=n(584),f=r(c),p=n(582),h=r(p),d=n(583),m=r(d),y=n(1131),v=n(1043),g=r(v),b=n(750),_=r(b),x=n(951),w=r(x),T=n(1572),E=r(T),C=n(1573),k=r(C),S=n(1248),P=r(S),M=n(1415),A=r(M),O=n(1336),D=r(O),L=n(1227),I=r(L),j=i["default"].createClass({displayName:"ViewList",mixins:[f["default"],h["default"],m["default"]],propTypes:{style:i["default"].PropTypes.object,onClick:i["default"].PropTypes.func.isRequired},handleOpen:function(t,e){var n=1==t.button||t.metaKey||t.ctrlKey;this.props.onClick({component:e,middleClick:n})},render:function(){var t=this,e=(0,s["default"])(this.config.visibleTables);(0,s["default"])((0,u["default"])(this.config.tablesById,{hasGeoCoord:!0}));return i["default"].createElement(y.List,{style:this.props.style},i["default"].createElement(g["default"],null,"Open a view:"),this.config.user.isManager?i["default"].createElement(y.ListItem,{primaryText:"Dataset Manager",secondaryText:"Import and configure datasets",leftIcon:i["default"].createElement("div",null,i["default"].createElement(_["default"],{fixedWidth:!0,name:"database"})),onClick:function(e){return t.handleOpen(e,i["default"].createElement(P["default"],null))}}):null,e?i["default"].createElement(y.ListItem,{primaryText:"Genome Browser",secondaryText:"View table data and sequence data on the genome",leftIcon:i["default"].createElement("div",null,i["default"].createElement(_["default"],{fixedWidth:!0,name:"bitmap:genomebrowser.png"})),onClick:function(e){return t.handleOpen(e,i["default"].createElement(w["default"],null,i["default"].createElement(E["default"],{fixed:!0}),i["default"].createElement(k["default"],{fixed:!0})))}}):null,e?i["default"].createElement(y.ListItem,{primaryText:"Table Plotter",secondaryText:"View table data graphically",leftIcon:i["default"].createElement("div",null,i["default"].createElement(_["default"],{fixedWidth:!0,name:"area-chart"})),onClick:function(e){return t.handleOpen(e,i["default"].createElement(A["default"],null))}}):null,i["default"].createElement(y.ListItem,{primaryText:"Map Composer",style:{opacity:1},secondaryText:"View data geographically",leftIcon:i["default"].createElement("div",null,i["default"].createElement(_["default"],{fixedWidth:!0,name:"globe"})),onClick:function(e){return t.handleOpen(e,i["default"].createElement(D["default"],null))}}),e?i["default"].createElement(y.ListItem,{primaryText:"Tree",secondaryText:"View a tree",leftIcon:i["default"].createElement("div",null,i["default"].createElement(_["default"],{fixedWidth:!0,name:"tree"})),onClick:function(e){return t.handleOpen(e,i["default"].createElement(I["default"],null))}}):null)}});t.exports=j},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(316),a=r(i),s=n(584),l=r(s),u=n(583),c=r(u),f=n(922),p=r(f),h=n(582),d=r(h),m=n(927),y=r(m),v=n(933),g=r(v),b=n(940),_=r(b),x=n(950),w=r(x),T=n(1061),E=r(T),C=n(1064),k=r(C),S=n(1010),P=26,M=a["default"].createClass({
displayName:"ReferenceSequence",mixins:[l["default"],d["default"],c["default"],(0,p["default"])("chromosome","start","end","width","sideWidth")],propTypes:{chromosome:a["default"].PropTypes.string,start:a["default"].PropTypes.number,end:a["default"].PropTypes.number,width:a["default"].PropTypes.number,sideWidth:a["default"].PropTypes.number,onChangeLoadStatus:a["default"].PropTypes.func},componentWillMount:function(){this.blocks=[]},componentDidUpdate:function(){this.draw(this.props,this.blocks)},fetchData:function(t,e){var n=this,r=t.chromosome,o=t.start,i=t.end,a=t.width,s=t.sideWidth;if(this.props.chromosome!==r&&this.applyData(t,[]),!(a-s<1)){var l=(0,S.findBlock)({start:o,end:i,width:a}),u=l.blockLevel,c=l.blockIndex,f=l.needNext,p=l.summaryWindow;this.props.chromosome===r&&this.blockLevel===u&&this.blockIndex===c&&this.needNext===f&&this.requestSummaryWindow===p||!function(){n.blockLevel=u,n.blockIndex=c,n.needNext=f,n.requestSummaryWindow=p,n.props.onChangeLoadStatus&&n.props.onChangeLoadStatus("LOADING");var a=[{expr:["/",["pos",p]],as:"window"},{expr:["count",["*"]],as:"count"},"base"],s=_["default"].WhereClause.CompareFixed("chrom","=",r),l={database:n.config.dataset,table:"_sequence_",columns:a,query:_["default"].WhereClause.encode(s),groupBy:["base","window"],orderBy:[["asc","window"],["desc","count"]],transpose:!1},h={method:"query",regionField:"pos",queryField:"query",start:o,end:i,useWiderBlocksIfInCache:!1,isBlockTooBig:function(){return!1},postProcessBlock:n.cacheDraw};e.request(function(r){return(0,S.regionCacheGet)(l,h,r).then(function(t){n.props.onChangeLoadStatus&&n.props.onChangeLoadStatus("DONE"),n.applyData(n.props,t,p)})["catch"](function(t){throw n.props.onChangeLoadStatus&&n.props.onChangeLoadStatus("DONE"),t})["catch"](g["default"].filterAborted)["catch"](y["default"].filterCancelled)["catch"](function(r){throw n.applyData(n.props,[]),(0,w["default"])(n.getFlux(),r.message,function(){return n.fetchData(t,e)}),r})})}(),this.draw(t)}},cacheDraw:function(t){for(var e=t.base.array,n=t.window.array,r=[],o=null,i=0,a=e.length;i<a;++i)n[i]!==o&&(r.push(e[i]),o=n[i]);var s=document.createElement("canvas");if(s.width=r.length,s.height=1,!(r.length<1)){for(var l=s.getContext("2d",{alpha:!1}),u=l.getImageData(0,0,s.width,s.height),c=u.data,f=0,p=r.length;f<p;++f)switch(c[4*f+3]=255,r[f]){case 97:c[4*f]=255,c[4*f+1]=50,c[4*f+2]=50;break;case 116:c[4*f]=255,c[4*f+1]=170,c[4*f+2]=0;break;case 99:c[4*f]=0,c[4*f+1]=128,c[4*f+2]=192;break;case 103:c[4*f]=0,c[4*f+1]=192,c[4*f+2]=120;break;default:c[4*f]=0,c[4*f+1]=0,c[4*f+2]=0}return l.putImageData(u,0,0),t.cache=s,t}},applyData:function(t,e,n){this.blocks=e,this.summaryWindow=n,this.draw(t)},draw:function(t){var e=this,n=t.start,r=t.end,o=t.width,i=t.sideWidth;if(this.refs.canvas){var a=(o-i)/(r-n),s=this.summaryWindow*a,l=this.refs.canvas,u=l.getContext("2d",{alpha:!1});if(u.fillStyle="white",u.fillRect(0,0,l.width,l.height),this.summaryWindow&&this.blocks&&!(this.blocks.length<1)){var c=s<1;u.mozImageSmoothingEnabled=c,u.webkitImageSmoothingEnabled=c,u.msImageSmoothingEnabled=c,u.oImageSmoothingEnabled=c,u.imageSmoothingEnabled=c,u.textAlign="center",u.textBaseline="middle",u.font="14px Roboto,sans-serif";var f={97:"A",116:"T",99:"C",103:"G"},p=l.width+15;this.blocks.forEach(function(t){if(t.cache){var r=t.cache;if(u.drawImage(r,0,0,r.width,r.height,a*(t._blockStart+.5-n),0,r.width*s,P),s>=15&&1===e.summaryWindow)for(var o=t.base.array,i=0,l=o.length;i<l;++i){var c=a*(t._blockStart-n)+(i+1)*s;c>0&&c<p&&u.fillText(f[o[i]]||"",c,P/2)}}})}}},render:function(){var t=this.props,e=t.width,n=t.sideWidth;return a["default"].createElement(k["default"],{height:P,width:e,sideWidth:n,sideComponent:a["default"].createElement("div",{className:"side-name"},"Ref. Seq."),legendComponent:a["default"].createElement(A,null)},a["default"].createElement("canvas",{ref:"canvas",width:e-n,height:P}))}}),A=function(){return a["default"].createElement("div",{className:"legend"},[["A","rgb(255, 50, 50)"],["T","rgb(255, 170, 0)"],["C","rgb(0, 128, 192)"],["G","rgb(0, 192, 120)"],["N","rgb(0,0,0)"]].map(function(t){var e=o(t,2),n=e[0],r=e[1];return a["default"].createElement(E["default"],{key:n,name:n,colour:r})}),a["default"].createElement("div",{style:{paddingLeft:"10px"}},"(Majority base over window)"))};A.shouldComponentUpdate=function(){return!1},t.exports=M},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(316),s=r(a),l=n(583),u=r(l),c=n(960),f=r(c),p=n(582),h=r(p),d=n(922),m=r(d),y=n(933),v=r(y),g=n(927),b=r(g),_=n(950),x=r(_),w=n(1226),T=r(w),E=n(1064),C=r(E),k=s["default"].createClass({displayName:"AnnotationChannel",mixins:[(0,f["default"])({redirect:[],check:["chromosome","width","sideWidth","name"]}),h["default"],u["default"],(0,m["default"])("chromosome","start","end","table","width","sideWidth")],propTypes:{chromosome:s["default"].PropTypes.string,start:s["default"].PropTypes.number,end:s["default"].PropTypes.number,width:s["default"].PropTypes.number,sideWidth:s["default"].PropTypes.number,name:s["default"].PropTypes.string,onChangeLoadStatus:s["default"].PropTypes.func,onClose:s["default"].PropTypes.func},getInitialState:function(){return{height:50}},componentWillMount:function(){this.data=null},componentDidUpdate:function(){this.draw()},fetchData:function(t,e){var n=this,r=t.chromosome,a=t.start,s=t.end,l=t.width,u=t.sideWidth,c=t.onChangeLoadStatus;if(this.props.chromosome!==r&&this.applyData(t,null),!(l-u<1)){var f=(0,T["default"])(a,s),p=i(f,2),h=i(p[0],2),d=h[0],m=h[1],y=i(p[1],2),g=y[0],_=y[1];this.props.chromosome===r&&(this.blockEnd===m&&this.blockStart===d||this.blockEnd===_&&this.blockStart===g)||!function(){n.blockStart=d,n.blockEnd=m,c&&c("LOADING");var i={database:n.config.dataset,chrom:r,start:n.blockStart,end:n.blockEnd};e.request(function(t){return b["default"].get("annotationData"+JSON.stringify(i),function(t){return v["default"].annotationData(o({cancellation:t},i))},t)}).then(function(t){c&&c("DONE"),n.applyData(n.props,t)})["catch"](function(t){throw c&&c("DONE"),t})["catch"](v["default"].filterAborted)["catch"](b["default"].filterCancelled)["catch"](function(r){n.applyData(n.props,null),(0,x["default"])(n.getFlux(),r.message,function(){return n.fetchData(t,e)})})}(),this.draw(t)}},applyData:function(t,e){if(!e)return void(this.data=null);for(var n=e.ids,r=e.parents,i=e.sizes,a=e.starts,s=e.types,l=new Array(n.length),u=[],c=0,f=n.length;c<f;++c)if("gene"===s[c]){for(var p=0;u[p]&&u[p]>a[c]+i[c];)p+=1;u[p]=a[c]+i[c],l[c]=p}for(var h={},d=0,m=n.length;d<m;++d)"gene"===s[d]&&(h[n[d]]=d);for(var y=0,v=n.length;y<v;++y)"CDS"===s[y]&&(l[y]=l[h[r[y]]]);this.data=o({},e,{rows:l}),this.draw(t)},draw:function(t){var e=t||this.props,n=e.width,r=e.sideWidth,o=e.start,i=e.end,a=this.state.height,s=this.refs.canvas;if(s){var l=s.getContext("2d");if(l.clearRect(0,0,s.width,s.height),this.data&&this.data.starts){var u=this.data,c=u.names,f=u.sizes,p=u.starts,h=u.types,d=u.rows;l.strokeStyle="#000",l.fillStyle="#000",l.font="10px monospace";for(var m=24,y=0,v=(n-r)/(i-o),g=[],b=0,_=p.length;b<_;++b)if("gene"===h[b]){var x=v*(p[b]-o),w=v*(p[b]+f[b]-o);if(w>-60&&x<n+4){if(l.fillRect(x,d[b]*m+20,Math.max(1,w-x),2),c[b]&&(g[d[b]]+30<x||"undefined"==typeof g[d[b]])){g[d[b]]=x;var T=l.createLinearGradient(x-12,0,x,0);T.addColorStop(0,"rgba(255, 255, 255, 0)"),T.addColorStop(1,"rgba(255, 255, 255, 1.000)"),l.fillStyle=T,l.fillRect(x-12,d[b]*m+4,12+6*c[b].length,10),l.fillStyle="#000",l.fillText(c[b],x,d[b]*m+14)}d[b]>y&&(y=d[b])}}l.fillStyle="#3d8bd5";for(var E=0,C=p.length;E<C;++E)if("CDS"===h[E]){var k=v*(p[E]-o),S=v*(p[E]+f[E]-o);S>-4&&k<n+4&&S-k>.25&&l.fillRect(k,d[E]*m+16,S-k,10)}var P=Math.max((y+1)*m+10,40);P!==a&&this.setState({height:P})}}},render:function(){var t=this.props,e=t.width,n=t.sideWidth,r=t.name,o=this.state.height;return s["default"].createElement(C["default"],{width:e,sideWidth:n,height:o,sideComponent:s["default"].createElement("div",{className:"side-name"},s["default"].createElement("span",null,r||"Genes")),configComponent:null,legendComponent:s["default"].createElement(S,null),onClose:null},s["default"].createElement("canvas",{ref:"canvas",width:e,height:o}))}}),S=function(){return s["default"].createElement("div",{className:"legend"},s["default"].createElement("div",{className:"legend-element"},s["default"].createElement("svg",{width:"50",height:"26"},s["default"].createElement("rect",{x:"0",y:"12",width:"50",height:"2",style:{fill:"#000"}})),s["default"].createElement("div",{className:"label"},"Gene")),s["default"].createElement("div",{className:"legend-element"},s["default"].createElement("svg",{width:"50",height:"26"},s["default"].createElement("rect",{x:"0",y:"8",width:"50",height:"10",style:{fill:"#3d8bd5"}})),s["default"].createElement("div",{className:"label"},"Coding Sequence")))};S.shouldComponentUpdate=function(){return!1},t.exports=k},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(952),s=r(a),l=n(584),u=r(l),c=n(583),f=r(c),p=n(1131),h=n(1043),d=r(h),m=n(750),y=r(m),v=n(1575),g=r(v),b=n(582),_=r(b),x=n(1576),w=r(x),T=n(1513),E=r(T),C=i["default"].createClass({displayName:"TableList",mixins:[u["default"],_["default"],f["default"]],propTypes:{style:i["default"].PropTypes.object,onClick:i["default"].PropTypes.func.isRequired},handleOpen:function(t,e){var n=1==t.button||t.metaKey||t.ctrlKey;this.props.onClick({component:e,middleClick:n})},handleTableClick:function(t,e){this.config.tablesById[e.id].listView?this.handleOpen(t,i["default"].createElement(w["default"],{table:e.id})):this.handleOpen(t,i["default"].createElement(E["default"],{table:e.id}))},render:function(){var t=this,e=this.config.tables;return i["default"].createElement(p.List,{style:this.props.style},i["default"].createElement(d["default"],null,"Open a table:"),(0,s["default"])(e,function(e){return t.config.tablesById[e.id].isHidden?null:i["default"].createElement(p.ListItem,{key:e.id,primaryText:e.capNamePlural,secondaryText:(0,g["default"])(e.description),leftIcon:i["default"].createElement("div",null,i["default"].createElement(y["default"],{fixedWidth:!0,name:e.icon})),onClick:function(n){return t.handleTableClick(n,e)}})}))}});t.exports=C},function(t,e,n){var r,o,i;!function(n,a){o=[],r=a,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i))}(this,function(){function t(t,s){function l(t){h==n?m+=t:s&&h==r&&(y+=t)}function u(){var t,e,n,r="",o=!1;t:for(t=0,e=y.length;t<e;t++)switch(n=y[t].toLowerCase()){case"<":break;case">":break t;case"/":o=!0;break;default:if(n.match(a)){if(o)break t}else o=!0,r+=n}s.indexOf(r)!==-1&&(m+=y),y=""}var c,f,p,t=t||"",h=n,d=0,m="",y="",v=!1;for("string"==typeof s?s=e(s):Array.isArray(s)||(s=null),c=0,f=t.length;c<f;c++)switch(p=t[c]){case"<":if(v)break;if(" "==t[c+1]){l(p);break}if(h==n){h=r,l(p);break}if(h==r){d++;break}l(p);break;case">":if(d){d--;break}if(v)break;if(h==r){v=h=0,s&&(y+=">",u());break}if(h==o){v=h=0,y="";break}if(h==i&&"-"==t[c-1]&&"-"==t[c-2]){v=h=0,y="";break}l(p);break;case'"':case"'":h==r&&(v==p?v=!1:v||(v=p)),l(p);break;case"!":if(h==r&&"<"==t[c-1]){h=o;break}l(p);break;case"-":if(h==o&&"-"==t[c-1]&&"!"==t[c-2]){h=i;break}l(p);break;case"E":case"e":if(h==o&&"doctype"==t.substr(c-6,7).toLowerCase()){h=r;break}l(p);break;default:l(p)}return m}function e(t){for(var e,n=[];null!==(e=s.exec(t));)n.push(e[1]);return 0!==n.length?n:null}var n=0,r=1,o=2,i=3,a=/\s/,s=/<(\w*)>/g;return t})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(971),l=r(s),u=n(955),c=r(u),f=n(584),p=r(f),h=n(582),d=r(h),m=n(583),y=r(m),v=n(1021),g=r(v),b=n(1103),_=r(b),x=n(957),w=r(x),T=n(750),E=r(T),C=n(1577),k=r(C),S=n(1426),P=r(S),M=n(1245),A=r(M),O=n(1567),D=r(O),L=n(1429),I=r(L),j=n(1586),F=r(j),R=1e4,N=a["default"].createClass({displayName:"ListWithActions",mixins:[p["default"],d["default"],y["default"]],propTypes:{setProps:a["default"].PropTypes.func,title:a["default"].PropTypes.string,table:a["default"].PropTypes.string.isRequired,selectedPrimKey:a["default"].PropTypes.string,sidebar:a["default"].PropTypes.bool,initialSearchFocus:a["default"].PropTypes.bool},getDefaultProps:function(){return{table:null,sidebar:!0,initialSearchFocus:!1}},getInitialState:function(){return{search:""}},componentDidUpdate:function(t,e){this.props.initialSearchFocus&&this.refs.search.focus()},icon:function(){return this.tableConfig().icon},title:function(){return this.props.title||this.tableConfig().capNamePlural},handleSelect:function(t){this.props.setProps({selectedPrimKey:t})},handleSearchChange:function(t){this.setState({search:t.target.value})},handleTruncatedRowsCountChange:function(t){this.setState({truncatedRowsCount:t})},handleDownload:function(){D["default"].downloadTableData({dataset:this.config.dataset,table:this.props.table,tableConfig:this.tableConfig(),truncatedRowsCount:this.state.truncatedRowsCount,onLimitBreach:this.handleDownloadLimitBreach})},handleDownloadLimitBreach:function(t){var e=t.totalDataPoints,n=t.maxDataPoints,r="You have asked to download "+e+" data points, which is more than our current limit of "+n+". Please use a stricter filter or fewer columns, or contact us directly.";this.getFlux().actions.session.modalOpen("ui/Alert",{title:"Warning",message:r})},render:function(){var t=this,e=this.props,n=e.table,r=e.sidebar,i=e.setProps,s=e.selectedPrimKey,u=this.tableConfig(),f=u.description,p=this.state.search,h=a["default"].createElement(I["default"],null,f),d=a["default"].createElement("div",{className:"sidebar"},a["default"].createElement("div",{className:"item-picker"},a["default"].createElement(w["default"],{icon:this.icon(),description:h}),a["default"].createElement(_["default"],{label:"Download data",primary:!0,onClick:function(){return t.handleDownload()},icon:a["default"].createElement(E["default"],{fixedWidth:!0,name:"download"})}),a["default"].createElement("div",{className:"search"},a["default"].createElement(g["default"],{ref:"search",fullWidth:!0,floatingLabelText:"Search",value:p,onChange:this.handleSearchChange})),a["default"].createElement(k["default"],{search:p,table:n,selectedPrimKey:s,onSelect:this.handleSelect,icon:this.icon(),autoSelectIfNoneSelected:!0,onTruncatedRowsCountChange:this.handleTruncatedRowsCountChange,maxRowsCount:R}))),m=F["default"].getViews(this.tableConfig().dataItemViews,this.tableConfig().hasGeoCoord),y="";return s&&(y=a["default"].createElement(A["default"],o({views:m,primKey:s},this.props))),a["default"].createElement(c["default"],{styles:{sidebar:{paddingRight:(0,l["default"])()+"px"}},docked:r,sidebar:d},a["default"].createElement("div",{className:"vertical stack"},a["default"].createElement("div",{className:"top-bar"},a["default"].createElement(E["default"],{className:"pointer icon",name:r?"arrows-h":"bars",onClick:function(){return i({sidebar:!r})},title:r?"Expand":"Sidebar"}),s?a["default"].createElement(P["default"],{className:"text",table:n,primKey:s},this.tableConfig().itemTitle||"{{"+this.tableConfig().primKey+"}}"):null),a["default"].createElement("div",null,y)))}});t.exports=N},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(316),l=r(s),u=n(1578),c=r(u),f=n(1582),p=r(f),h=n(1190),d=r(h),m=n(700),y=r(m),v=n(1575),g=r(v),b=n(584),_=r(b),x=n(582),w=r(x),T=n(583),E=r(T),C=n(922),k=r(C),S=n(933),P=r(S),M=n(950),A=r(M),O=n(1426),D=r(O),L=n(927),I=r(L),j=n(1428),F=r(j),R=n(1131),N=n(1241),z=r(N),B=n(750),U=r(B),W=l["default"].createClass({displayName:"ListView",mixins:[_["default"],w["default"],E["default"],(0,k["default"])("table")],propTypes:{icon:l["default"].PropTypes.string,table:l["default"].PropTypes.string.isRequired,selectedPrimKey:l["default"].PropTypes.string,onSelect:l["default"].PropTypes.func.isRequired,search:l["default"].PropTypes.string,autoSelectIfNoneSelected:l["default"].PropTypes.bool,onTruncatedRowsCountChange:l["default"].PropTypes.func},getDefaultProps:function(){return{table:null,initialSelectedIndex:0,search:""}},getInitialState:function(){return{rows:[],loadStatus:"loaded",truncatedRowsCount:0}},fetchData:function(t,e){var n=this,r=t.table,o=t.autoSelectIfNoneSelected,s=t.onSelect,l=t.selectedPrimKey,u=this.config.tablesById[r],c=u.itemTitle||"{{"+u.primKey+"}}",f=(0,F["default"])(c,(0,y["default"])(u.propertiesById));f.push(this.config.tablesById[r].primKey),f=(0,d["default"])(f);var p={};f.map(function(t){return p[t]=u.propertiesById[t].defaultDisplayEncoding}),this.setState({loadStatus:"loading"});var h={database:this.config.dataset,table:u.fetchTableName,columns:p,start:0},m={database:this.config.dataset,table:u.fetchTableName};e.request(function(t){return Promise.all([I["default"].get("pageQuery"+JSON.stringify(h),function(t){return P["default"].pageQuery(a({cancellation:t},h))},t),I["default"].get("truncatedRowsCount"+JSON.stringify(m),function(t){return P["default"].truncatedRowsCount(a({cancellation:t},m))},t)])}).then(function(t){var e=i(t,2),r=e[0],a=e[1];o&&!l&&s(r[0][u.primKey]),n.setState({loadStatus:"loaded",rows:r,truncatedRowsCount:a})})["catch"](P["default"].filterAborted)["catch"](I["default"].filterCancelled)["catch"](function(t){throw(0,A["default"])(n.getFlux(),P["default"].errorMessage(t),function(){return n.fetchData(n.props)}),n.setState({loadStatus:"error"}),t})},handleSelect:function(t,e){this.props.onSelect(t)},componentDidUpdate:function(t,e){this.props.onTruncatedRowsCountChange&&e.truncatedRowsCount!==this.state.truncatedRowsCount&&this.props.onTruncatedRowsCountChange(this.state.truncatedRowsCount)},render:function(){var t=this,e=this.props,n=e.icon,r=e.table,i=e.search,a=e.selectedPrimKey,s=this.state,u=s.loadStatus,f=s.rows,h=this.config.tablesById[r],d=h.itemTitle||"{{"+h.primKey+"}}";if(!h)return console.error("Error: table "+r+" has no associated config."),null;if(!(f.length>0))return l["default"].createElement("div",null,l["default"].createElement(z["default"],{status:"custom"},"No rows"));var m=function(){var e=[];return f.map(function(o){var s=o[h.primKey],u=a!==s?"picked":"",f=i?(0,g["default"])(c["default"].renderToStaticMarkup(l["default"].createElement(D["default"],{config:t.config,table:r,primKey:s,data:o},d))).toLowerCase():"";(i&&f.indexOf(i)!==-1||!i)&&e.push(l["default"].createElement(R.ListItem,{className:u,key:s,primaryText:l["default"].createElement(p["default"],{search:i},l["default"].createElement(D["default"],{table:r,primKey:s,data:o},d)),onClick:function(){return t.handleSelect(s)},leftIcon:l["default"].createElement("div",null,l["default"].createElement(U["default"],{fixedWidth:!0,name:n}))}))}),{v:l["default"].createElement("div",null,l["default"].createElement(R.List,null,e),l["default"].createElement(z["default"],{status:u}))}}();return"object"===("undefined"==typeof m?"undefined":o(m))?m.v:void 0}});t.exports=W},function(t,e,n){"use strict";t.exports=n(1579)},function(t,e,n){"use strict";var r=n(350),o=n(1580),i=n(343);r.inject();var a={renderToString:o.renderToString,renderToStaticMarkup:o.renderToStaticMarkup,version:i};t.exports=a},function(t,e,n){"use strict";function r(t,e){var n;try{return d.injection.injectBatchingStrategy(p),n=h.getPooled(e),v++,n.perform(function(){var r=y(t,!0),o=f.mountComponent(r,n,null,s(),m,0);return e||(o=c.addChecksumToMarkup(o)),o},null)}finally{v--,h.release(n),v||d.injection.injectBatchingStrategy(l)}}function o(t){return u.isValidElement(t)?void 0:a("46"),r(t,!1)}function i(t){return u.isValidElement(t)?void 0:a("47"),r(t,!0)}var a=n(321),s=n(470),l=n(443),u=n(323),c=(n(373),n(472)),f=n(370),p=n(1581),h=n(436),d=n(367),m=n(333),y=n(426),v=(n(322),0);t.exports={renderToString:o,renderToStaticMarkup:i}},function(t,e){"use strict";var n={isBatchingUpdates:!1,batchedUpdates:function(t){}};t.exports=n},function(t,e,n){var r=n(316),o=n(1583),i=n(1584),a=n(1585),s=r.createClass({displayName:"Highlighter",count:0,propTypes:{search:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.number,r.PropTypes.bool,o]).isRequired,caseSensitive:r.PropTypes.bool,matchElement:r.PropTypes.string,matchClass:r.PropTypes.string,matchStyle:r.PropTypes.object},getDefaultProps:function(){return{caseSensitive:!1,matchElement:"strong",matchClass:"highlight",matchStyle:{}}},render:function(){var t=a(this.props,"search","caseSensitive","matchElement","matchClass","matchStyle");return r.createElement("span",t,this.renderElement(this.props.children))},renderElement:function(t){if(this.isScalar()&&this.hasSearch()){var e=this.getSearch();return this.highlightChildren(t,e)}return this.props.children},isScalar:function(){return/string|number|boolean/.test(typeof this.props.children)},hasSearch:function(){return"undefined"!=typeof this.props.search&&this.props.search},getSearch:function(){if(this.props.search instanceof RegExp)return this.props.search;var t="";this.props.caseSensitive||(t+="i");var e=this.props.search;return"string"==typeof this.props.search&&(e=i(e)),new RegExp(e,t)},getMatchBoundaries:function(t,e){var n=e.exec(t);if(n)return{first:n.index,last:n.index+n[0].length}},highlightChildren:function(t,e){for(var n=[],r=this.props.matchElement,o=t;o;){if(!e.test(o))return n.push(this.renderPlain(o)),n;var i=this.getMatchBoundaries(o,e),a=o.slice(0,i.first);a&&n.push(this.renderPlain(a));var s=o.slice(i.first,i.last);s&&n.push(this.renderHighlight(s,r)),o=o.slice(i.last)}return n},renderPlain:function(t){return this.count++,r.DOM.span({key:this.count},t)},renderHighlight:function(t){return this.count++,r.DOM[this.props.matchElement]({key:this.count,className:this.props.matchClass,style:this.props.matchStyle},t)}});t.exports=s},function(t,e){var n=function(t,e,n,r){if(!(t[e]instanceof RegExp)){var o=typeof t[e];return new Error("Invalid "+r+" `"+e+"` of type `"+o+"` "+("supplied to `"+n+"`, expected `RegExp`."))}};t.exports=n},function(t,e){"use strict";var n=/[|\\{}()[\]^$+*?.]/g;t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(n,"\\$&")}},function(t,e){t.exports=function(t){var e={},n=arguments[1];if("string"==typeof n){n={};for(var r=1;r<arguments.length;r++)n[arguments[r]]=!0}for(var o in t)n[o]||(e[o]=t[o]);return e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={Overview:function(t,e){return a["default"].createElement(l["default"],{title:"Overview",key:e})},PieChartMap:function(t,e){return a["default"].createElement(p["default"],{initCenter:[t.mapCenter.latitude,t.mapCenter.longitude],componentColumns:t.componentColumns,locationDataTable:t.locationDataTable,locationNameProperty:t.locationNameProperty,locationSizeProperty:t.locationSizeProperty,title:t.name,residualFractionName:t.residualFractionName,key:e})},ItemMap:function(t,e){return a["default"].createElement(c["default"],{title:t.name,key:e})},TableMap:function(t,e){return a["default"].createElement(c["default"],{title:t.name,key:e})},FieldList:function(t,e){return a["default"].createElement(d["default"],{title:t.name,fields:t.fields,key:e})},PropertyGroup:function(t,e){return a["default"].createElement(y["default"],{title:t.name||t.groupId,propertyGroupId:t.groupId,key:e})},Template:function(t,e){return a["default"].createElement(g["default"],{title:t.name,content:t.content,key:e})}},r=[];return void 0===t||null===t?(r.push(a["default"].createElement(l["default"],{title:"Overview"})),e&&r.push(a["default"].createElement(c["default"],{title:"Location"}))):t.forEach(function(t,e){n[t.type]&&r.push(n[t.type](t,e))}),r}var i=n(316),a=r(i),s=n(1414),l=r(s),u=n(1388),c=r(u),f=n(1400),p=r(f),h=n(1250),d=r(h),m=n(1424),y=r(m),v=n(1425),g=r(v);t.exports={getViews:o}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(582),u=r(l),c=i["default"].createClass({displayName:"ErrorTab",mixins:[s["default"],u["default"]],propTypes:{err:i["default"].PropTypes.string},icon:function(){return"warning"},title:function(){return"Error"},render:function(){return i["default"].createElement("div",{className:"centering-container"},i["default"].createElement("div",{className:"error"}," Error: ",this.props.err," "))}});t.exports=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(582),u=r(l),c=n(583),f=r(c),p=n(652),h=r(p),d=n(771),m=r(d),y=n(1589),v=r(y),g=n(1591),b=r(g),_=n(1594),x=r(_),w=n(1593),T=r(w),E=i["default"].createClass({displayName:"FindGene",mixins:[s["default"],u["default"],f["default"]],propTypes:{setProps:i["default"].PropTypes.func,replaceSelf:i["default"].PropTypes.func,activeTab:i["default"].PropTypes.string,search:i["default"].PropTypes.string,chromosome:i["default"].PropTypes.string,startPosition:i["default"].PropTypes.number,endPosition:i["default"].PropTypes.number,chromosomeLength:i["default"].PropTypes.number},getDefaultProps:function(){return{activeTab:"tab_0",startPosition:0}},icon:function(){return"bitmap:genomebrowser.png"},title:function(){return"Find gene"},handleSelectGene:function(t,e){this.getFlux().actions.session.geneFound(e);var n=i["default"].createElement(T["default"],{geneId:e}),r=1==t.button||t.metaKey||t.ctrlKey;r?this.flux.actions.session.popupOpen(n,!1):this.props.replaceSelf(n)},render:function(){var t=this.props,e=t.setProps,n=t.activeTab,r=t.search,o=t.chromosome,a=t.startPosition,s=t.endPosition,l=t.chromosomeLength,u=o,c=s,f=l,p=Object.keys(this.config.chromosomes)[0];if((null===u||void 0===u)&&null!==p){var d=parseInt(this.config.chromosomes[p].len);f=d,u=p,null!==c&&void 0!==c||(c=d)}return i["default"].createElement(h["default"],{activeTab:n,onSwitch:function(t){return e({activeTab:t})}},i["default"].createElement(m["default"],{compId:"tab_0",key:"tab_0"},i["default"].createElement(v["default"],{setProps:e,onSelect:this.handleSelectGene,title:"Find gene by name / description",search:r})),i["default"].createElement(m["default"],{compId:"tab_1",key:"tab_1"},i["default"].createElement(b["default"],{setProps:e,onSelect:this.handleSelectGene,title:"Find gene by region",chromosome:u,startPosition:a,endPosition:c,chromosomeLength:f})),i["default"].createElement(m["default"],{compId:"tab_2",key:"tab_2"},i["default"].createElement(x["default"],{onSelect:this.handleSelectGene,title:"Recently found genes"})))}});t.exports=E},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(1590),u=r(l),c=n(1021),f=r(c),p=i["default"].createClass({displayName:"FindGeneByNameDesc",mixins:[s["default"]],propTypes:{setProps:i["default"].PropTypes.func,title:i["default"].PropTypes.string,search:i["default"].PropTypes.string,onSelect:i["default"].PropTypes.func},getDefaultProps:function(){return{search:""}},title:function(){return this.props.title},handleSearchChange:function(t){this.props.setProps({search:t.target.value})},render:function(){var t=this.props,e=t.search,n=t.onSelect,r=null;return r=e.length<=2?i["default"].createElement("p",null,"Enter more than 2 characters."):i["default"].createElement(u["default"],{search:e,onSelectGene:n,icon:"bitmap:genomebrowser.png"}),i["default"].createElement("div",{style:{padding:"10px"}},i["default"].createElement("div",{className:"search"},i["default"].createElement(f["default"],{fullWidth:!0,floatingLabelText:"Search",value:e,onChange:this.handleSearchChange})),i["default"].createElement("div",{style:{position:"relative",width:"100%",height:"200px"}},r))}});t.exports=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(1582),l=r(s),u=n(584),c=r(u),f=n(582),p=r(f),h=n(583),d=r(h),m=n(922),y=r(m),v=n(933),g=r(v),b=n(950),_=r(b),x=n(927),w=r(x),T=n(1131),E=n(1043),C=r(E),k=n(1241),S=r(k),P=n(750),M=r(P),A=a["default"].createClass({displayName:"GeneSearchResultsList",mixins:[c["default"],p["default"],d["default"],(0,y["default"])("search")],propTypes:{search:a["default"].PropTypes.string.isRequired,onSelectGene:a["default"].PropTypes.func.isRequired,maxMatches:a["default"].PropTypes.number,icon:a["default"].PropTypes.string},getDefaultProps:function(){return{search:"",maxMatches:51}},getInitialState:function(){return{matchData:[],loadStatus:"loaded"}},handleSelectGene:function(t,e){this.props.onSelectGene(t,e)},fetchData:function(t,e){var n=this,r=t.search,i=t.maxMatches;this.setState({loadStatus:"loading"});var a={database:this.config.dataset,search:r,maxMatches:i};e.request(function(t){return w["default"].get("findGene"+JSON.stringify(a),function(t){return g["default"].findGene(o({cancellation:t},a))},t)}).then(function(t){n.setState({loadStatus:"loaded",matchData:t})})["catch"](g["default"].filterAborted)["catch"](w["default"].filterCancelled)["catch"](function(t){(0,_["default"])(n.getFlux(),g["default"].errorMessage(t),function(){return n.fetchData(n.props)}),n.setState({loadStatus:"error"})})},render:function(){var t=this,e=this.props,n=e.icon,r=e.search,o=e.maxMatches,i=this.state,s=i.loadStatus,u=i.matchData;if("loaded"!==s)return a["default"].createElement("div",null,a["default"].createElement(S["default"],{status:s}));var c=a["default"].createElement("span",null,"No match."),f=o-1;u.ids.length===o?c=a["default"].createElement("span",null,"Found over ",f," matching genes:"):u.ids.length>0&&(c=a["default"].createElement("span",null,"Found ",u.ids.length," matching genes:"));for(var p=[],h=function(e,o){p.push(a["default"].createElement(T.ListItem,{key:u.ids[e],primaryText:a["default"].createElement("div",null,a["default"].createElement(l["default"],{search:r},a["default"].createElement("span",null,u.ids[e]),a["default"].createElement("span",null," on "),a["default"].createElement("span",null,u.chromosomes[e]))),secondaryText:a["default"].createElement("div",null,a["default"].createElement(l["default"],{search:r},u.descriptions[e].split(",").join(", ").split(";").join("; "))),secondaryTextLines:2,onClick:function(n){return t.handleSelectGene(n,u.ids[e])},leftIcon:a["default"].createElement("div",null,a["default"].createElement(M["default"],{fixedWidth:!0,name:n}))}))},d=0,m=u.ids.length;d<m;d++)h(d,m);return a["default"].createElement("div",null,a["default"].createElement(T.List,null,a["default"].createElement(C["default"],null,c),p),a["default"].createElement(S["default"],{
status:s}))}});t.exports=A},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(582),u=r(l),c=n(583),f=r(c),p=n(952),h=r(p),d=n(1592),m=r(d),y=n(1593),v=(r(y),n(750)),g=r(v),b=n(945),_=r(b),x=i["default"].createClass({displayName:"FindGeneByRegion",mixins:[s["default"],u["default"],f["default"]],propTypes:{setProps:i["default"].PropTypes.func,activeTab:i["default"].PropTypes.string,search:i["default"].PropTypes.string,chromosome:i["default"].PropTypes.string,startPosition:i["default"].PropTypes.number,endPosition:i["default"].PropTypes.number,chromosomeLength:i["default"].PropTypes.number,onSelect:i["default"].PropTypes.func},getDefaultProps:function(){return{chromosome:null,chromosomeLength:null,startPosition:0,endPosition:null,findChromosome:null,findStartPosition:null,findEndPosition:null}},getInitialState:function(){return{findChromosome:null,findStartPosition:null,findEndPosition:null}},componentWillMount:function(){this.props.setProps({endPosition:parseInt(this.config.chromosomes[this.props.chromosome].len)})},handleChromChange:function(t){this.props.setProps({chromosome:t.target.value,chromosomeLength:parseInt(this.config.chromosomes[t.target.value].len),startPosition:0,endPosition:parseInt(this.config.chromosomes[t.target.value].len)})},handleStartPosChange:function(t){t.target&&this.props.setProps({startPosition:t.target.value})},handleEndPosChange:function(t){t.target&&this.props.setProps({endPosition:t.target.value})},handleFind:function(){this.setState({findChromosome:this.props.chromosome,findStartPosition:this.props.startPosition,findEndPosition:this.props.endPosition})},render:function(){var t=this.props,e=t.chromosome,n=t.chromosomeLength,r=t.startPosition,o=t.endPosition,a=t.onSelect,s=this.state,l=s.findChromosome,u=s.findStartPosition,c=s.findEndPosition,f=null;return f=null===l||null===u||null===c||""===u||""===c?i["default"].createElement("div",{style:{padding:"10px"}},i["default"].createElement("p",null,"Select the relevant chromosome and enter the start and end positions.")):i["default"].createElement(m["default"],{chromosome:l,startPosition:parseInt(u),endPosition:parseInt(c),onSelectGene:a,icon:"bitmap:genomebrowser.png"}),i["default"].createElement("div",null,i["default"].createElement("table",{className:"table-col"},i["default"].createElement("tbody",null,i["default"].createElement("tr",null,i["default"].createElement("th",{className:"table-col-header"},"Chromosome:"),i["default"].createElement("td",{className:"table-col-cell"},i["default"].createElement("select",{value:e,onChange:this.handleChromChange},(0,h["default"])(this.config.chromosomes,function(t,e){return i["default"].createElement("option",{key:e,value:e},e)})))),i["default"].createElement("tr",null,i["default"].createElement("th",{className:"table-col-header"},"Start:"),i["default"].createElement("td",{className:"table-col-cell"},i["default"].createElement("input",{ref:"startPosition",value:r,onChange:this.handleStartPosChange,min:0,max:o?o:n,type:"number"})),i["default"].createElement("td",{className:"table-col-cell"},"bp")),i["default"].createElement("tr",null,i["default"].createElement("th",{className:"table-col-header"},"End:"),i["default"].createElement("td",{className:"table-col-cell"},i["default"].createElement("input",{ref:"endPosition",value:o,onChange:this.handleEndPosChange,min:r?r:0,max:n,type:"number"})),i["default"].createElement("td",{className:"table-col-cell"},"bp")),i["default"].createElement("tr",null,i["default"].createElement("th",{className:"table-col-header"}),i["default"].createElement("td",{className:"table-col-cell"},i["default"].createElement(_["default"],{label:"Find",disabled:r<0||o>n,primary:!0,icon:i["default"].createElement(g["default"],{fixedWidth:!0,name:"search",inverse:!0}),onClick:this.handleFind})),i["default"].createElement("td",{className:"table-col-cell"})))),i["default"].createElement("div",{style:{position:"relative",width:"100%",height:"200px"}},f))}});t.exports=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(584),l=r(s),u=n(582),c=r(u),f=n(583),p=r(f),h=n(922),d=r(h),m=n(933),y=r(m),v=n(950),g=r(v),b=n(927),_=r(b),x=n(1131),w=n(1043),T=r(w),E=n(1241),C=r(E),k=n(750),S=r(k),P=a["default"].createClass({displayName:"RegionGenesList",mixins:[l["default"],c["default"],p["default"],(0,d["default"])("chromosome","startPosition","endPosition")],propTypes:{chromosome:a["default"].PropTypes.string.isRequired,onSelectGene:a["default"].PropTypes.func.isRequired,startPosition:a["default"].PropTypes.number.isRequired,endPosition:a["default"].PropTypes.number.isRequired,icon:a["default"].PropTypes.string},getDefaultProps:function(){return{chromosome:null,startPosition:0,endPosition:1e5}},getInitialState:function(){return{regionGenesData:[],loadStatus:"loaded"}},fetchData:function(t,e){var n=this,r=t.chromosome,i=t.startPosition,a=t.endPosition;this.setState({loadStatus:"loading"});var s={database:this.config.dataset,chromosome:r,startPosition:i,endPosition:a};e.request(function(t){return _["default"].get("findGenesInRegion"+JSON.stringify(s),function(t){return y["default"].findGenesInRegion(o({cancellation:t},s))},t)}).then(function(t){n.setState({loadStatus:"loaded",regionGenesData:t})})["catch"](y["default"].filterAborted)["catch"](_["default"].filterCancelled)["catch"](function(t){(0,g["default"])(n.getFlux(),y["default"].errorMessage(t),function(){return n.fetchData(n.props)}),n.setState({loadStatus:"error"})})},handleSelectGene:function(t,e){this.props.onSelectGene(t,e)},render:function(){var t=this,e=this.props,n=e.icon,r=e.chromosome,o=e.startPosition,i=e.endPosition,s=this.state,l=s.loadStatus,u=s.regionGenesData;if("loaded"!==l)return a["default"].createElement("div",null,a["default"].createElement(C["default"],{status:l}));var c=a["default"].createElement("span",null,"No genes found.");u.length>0&&(c=a["default"].createElement("span",null,"Found ",u.length," genes on chromosome ",r," between positions ",o," and ",i,":"));for(var f=[],p=function(e,r){f.push(a["default"].createElement(x.ListItem,{key:u[e].fid,primaryText:a["default"].createElement("div",null,a["default"].createElement("span",null,u[e].fname),a["default"].createElement("span",null," between "),a["default"].createElement("span",null,u[e].fstart," and ",u[e].fstop)),secondaryText:a["default"].createElement("div",null,u[e].descr.split(";").join("; ")),secondaryTextLines:2,onClick:function(n){return t.handleSelectGene(n,u[e].fid)},leftIcon:a["default"].createElement("div",null,a["default"].createElement(S["default"],{fixedWidth:!0,name:n}))}))},h=0,d=u.length;h<d;h++)p(h,d);return a["default"].createElement("div",null,a["default"].createElement(x.List,null,a["default"].createElement(T["default"],null,c),f),a["default"].createElement(C["default"],{status:l}))}});t.exports=P},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(584),l=r(s),u=n(582),c=r(u),f=n(583),p=r(f),h=n(922),d=r(h),m=n(933),y=r(m),v=n(927),g=r(v),b=n(950),_=r(b),x=n(940),w=r(x),T=n(944),E=r(T),C=n(949),k=r(C),S=n(1572),P=r(S),M=n(988),A=r(M),O=n(1573),D=r(O),L=n(899),I=r(L),j=n(1576),F=r(j),R=n(1513),N=r(R),z=n(951),B=r(z),U=n(1241),W=r(U),q=n(721),V=r(q);n(994);var H=a["default"].createClass({displayName:"Gene",mixins:[l["default"],c["default"],p["default"],(0,d["default"])("geneId")],propTypes:{icon:a["default"].PropTypes.string,setProps:a["default"].PropTypes.func,geneId:a["default"].PropTypes.string.isRequired},getDefaultProps:function(){return{title:"Gene",icon:"bitmap:genomebrowser.png",initialPane:null}},getInitialState:function(){return{geneData:null,loadStatus:"loaded",width:300,height:0}},icon:function(){return this.props.icon},title:function(){return"Gene "+this.props.geneId},fetchData:function(t,e){var n=this,r=t.geneId;null!==r?!function(){n.setState({loadStatus:"loading"});var i={database:n.config.dataset,geneId:r};e.request(function(t){return g["default"].get("fetchGene"+JSON.stringify(i),function(t){return y["default"].fetchGene(o({cancellation:t},i))},t)}).then(function(t){n.setState({loadStatus:"loaded",geneData:t})})["catch"](y["default"].filterAborted)["catch"](g["default"].filterCancelled)["catch"](function(r){(0,_["default"])(n.getFlux(),y["default"].errorMessage(r),function(){return n.fetchData(t,e)}),n.setState({loadStatus:"error"})})}():this.setState({geneData:null})},render:function(){var t=this,e=this.props.setProps,n=this.state,r=n.geneData,i=n.loadStatus,s=this.config.genome.annotation;if(!r)return null;var l=[];(0,V["default"])(this.config.visibleTables,function(t){if(t.hasGenomePositions||t.isRegionOnGenome){var n=null;t.hasGenomePositions?n=w["default"].WhereClause.encode(w["default"].WhereClause.AND([w["default"].WhereClause.CompareFixed(t.chromosome,"=",r.chromid),w["default"].WhereClause.CompareFixed(t.position,">=",parseInt(r.fstart)),w["default"].WhereClause.CompareFixed(t.position,"<=",parseInt(r.fstop))])):t.isRegionOnGenome&&(n=w["default"].WhereClause.encode(w["default"].WhereClause.AND([w["default"].WhereClause.CompareFixed(t.chromosome,"=",r.chromid),w["default"].WhereClause.CompareFixed(t.regionStart,"<=",parseInt(r.fstop)),w["default"].WhereClause.CompareFixed(t.regionStop,">=",parseInt(r.fstart))])));var o=(t.listView?F["default"]:N["default"],a["default"].createElement(E["default"],{key:t.id,label:"Show "+t.namePlural+" in "+r.fname,icon:t.icon},a["default"].createElement("component",{setProps:e,table:t.id,query:n})));l.push(o)}});for(var u=this.config.genome.externalGeneLinks,c=[],f=0,p=u.length;f<p;f++){var h=a["default"].createElement(k["default"],{key:"externalGeneLinkButton_"+f,label:u[f].name,urls:[u[f].url.replace("{Id}",r.fid)]});c.push(h)}var d={width:this.state.width,sideWidth:150,chromosome:r.chromid,start:parseInt(r.fstart),end:parseInt(r.fstop)};return a["default"].createElement(I["default"],{onResize:function(e){return t.setState(e)}},a["default"].createElement("div",null,a["default"].createElement("div",{className:"vertical stack"},a["default"].createElement(A["default"],d),a["default"].createElement(P["default"],d),s?a["default"].createElement(D["default"],o({name:"Structure"},d)):null,a["default"].createElement("div",{className:"grow"},a["default"].createElement("table",{className:"table-col"},a["default"].createElement("tbody",null,a["default"].createElement("tr",null,a["default"].createElement("th",{className:"table-col-header"},"Name: "),a["default"].createElement("td",{className:"table-col-cell"},r.fname)),a["default"].createElement("tr",null,a["default"].createElement("th",{className:"table-col-header"},"Alternatives: "),a["default"].createElement("td",{className:"table-col-cell"},r.fnames.split(",").join(", "))),a["default"].createElement("tr",null,a["default"].createElement("th",{className:"table-col-header"},"Description: "),a["default"].createElement("td",{className:"table-col-cell"},r.descr)),a["default"].createElement("tr",null,a["default"].createElement("th",{className:"table-col-header"},"Position: "),a["default"].createElement("td",{className:"table-col-cell"},r.chromid,":",r.fstart,"-",r.fstop))))),a["default"].createElement("div",{className:"horizontal stack wrap"},a["default"].createElement(E["default"],{label:"Show in Genome Browser",icon:"bitmap:genomebrowser.png"},a["default"].createElement(B["default"],{chromosome:r.chromid,start:parseInt(r.fstart),end:parseInt(r.fstop)},a["default"].createElement(P["default"],null),s?a["default"].createElement(D["default"],null):null)),l,c)),a["default"].createElement(W["default"],{status:i})))}});t.exports=H},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(582),u=r(l),c=n(590),f=r(c),p=n(1131),h=n(1043),d=r(h),m=n(750),y=r(m),v=i["default"].createClass({displayName:"RecentlyFoundGenes",mixins:[s["default"],u["default"],(0,f["default"])("SessionStore")],propTypes:{onSelect:i["default"].PropTypes.func},getStateFromFlux:function(){return{foundGenes:this.getFlux().store("SessionStore").getState().get("foundGenes")}},getInitialState:function(){return null},render:function(){var t=this.state,e=t.foundGenes,n=t.onSelect,r=null;return e.size>0?!function(){var t=[];e.map(function(e){var r=i["default"].createElement(p.ListItem,{key:e,primaryText:e,leftIcon:i["default"].createElement("div",null,i["default"].createElement(y["default"],{fixedWidth:!0,name:"bitmap:genomebrowser.png"})),onClick:function(t){return n(t,e)}});t.push(r)}),r=i["default"].createElement(p.List,null,t)}():r=i["default"].createElement(p.List,null,i["default"].createElement(d["default"],null,"No recently found genes.")),r}});t.exports=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(582),u=r(l),c=n(583),f=r(c),p=n(1131),h=n(750),d=r(h),m=n(721),y=r(m),v=n(1513),g=r(v),b=n(1576),_=r(b),x=n(1588),w=r(x),T=i["default"].createClass({displayName:"Finder",mixins:[s["default"],u["default"],f["default"]],propTypes:{icon:i["default"].PropTypes.string,title:i["default"].PropTypes.string},getDefaultProps:function(){return{title:"Find",icon:"search"}},icon:function(){return this.props.icon},title:function(){return this.props.title},handleSwitchModal:function(t,e){this.getFlux().actions.session.modalClose(),this.getFlux().actions.session.modalOpen(t,e)},handleOpenTableTab:function(t,e){var n=1==t.button||t.metaKey||t.ctrlKey;n||this.getFlux().actions.session.modalClose();var r=g["default"];this.config.tablesById[e.id].listView&&(r=_["default"]);var o=!n;this.getFlux().actions.session.tabOpen(i["default"].createElement("container",{table:e.id,initialSearchFocus:!0}),o)},handleOpenPopup:function(t,e){var n=1==t.button||t.metaKey||t.ctrlKey;n||this.getFlux().actions.session.modalClose();var r=!n;this.getFlux().actions.session.popupOpen(e,r)},render:function(){var t=this,e=[];if(this.config.genome.annotation){var n="Name, Description, Genomic region",r=i["default"].createElement(p.ListItem,{key:"findGeneListItem",primaryText:"Gene",secondaryText:n,leftIcon:i["default"].createElement("div",null,i["default"].createElement(d["default"],{fixedWidth:!0,name:"bitmap:genomebrowser.png"})),onClick:function(e){return t.handleOpenPopup(e,i["default"].createElement(w["default"],null))}});e.push(r)}(0,y["default"])(this.config.visibleTables,function(n){for(var r="",o=0,a=n.quickFindFields.length;o<a;o++){var s=n.quickFindFields[o];0!=o&&(r+=", "),r+=n.propertiesById[s].name}var l=i["default"].createElement(p.ListItem,{key:n.id,primaryText:n.capNameSingle,secondaryText:r,leftIcon:i["default"].createElement("div",null,i["default"].createElement(d["default"],{fixedWidth:!0,name:n.icon})),onClick:function(e){return t.handleOpenTableTab(e,n.id)}});e.push(l)});var o=null;return o=e.length>0?i["default"].createElement(p.List,{className:"tall-modal",style:{overflow:"auto"}},e):i["default"].createElement("div",{className:"centering-container"},"No search wizards available.")}});t.exports=T},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(574),u=r(l),c=n(774),f=r(c),p=n(654),h=r(p),d=n(1582),m=r(d),y=n(1021),v=r(y),g=n(945),b=r(g),_=n(1131),x=n(952),w=r(x),T=n(750),E=r(T),C=i["default"].createClass({displayName:"GroupedItemPicker",mixins:[s["default"]],propTypes:{groups:f["default"].mapOf(f["default"].map),initialPick:f["default"].listOf(i["default"].PropTypes.string),onPick:i["default"].PropTypes.func,title:i["default"].PropTypes.string},getDefaultProps:function(){return{groups:u["default"].Map(),initialPick:u["default"].List(),title:"Pick items"}},getInitialState:function(){return{picked:this.props.initialPick.toSet(),search:""}},componentWillMount:function(){},icon:function(){return"check-square-o"},title:function(){return this.props.title},handleEnter:function(){this.handlePick()},handleAdd:function(t){this.state.picked.has(t)?this.setState({picked:this.state.picked["delete"](t)}):this.setState({picked:this.state.picked.add(t)})},handleAddAll:function(t){var e=this.props.groups.getIn([t,"properties"]).map(function(t){return t.get("id")});this.setState({picked:this.state.picked.union(e)})},handleRemove:function(t){this.setState({picked:this.state.picked["delete"](t)})},handleRemoveAll:function(t){var e=this.props.groups.getIn([t,"properties"]).map(function(t){return t.get("id")});this.setState({picked:this.state.picked.subtract(e)})},handleSearchChange:function(t){this.setState({search:t.target.value})},handlePick:function(){var t=this,e=u["default"].List();this.props.groups.forEach(function(n){n.get("properties").forEach(function(n){t.state.picked.has(n.get("id"))&&(e=e.push(n.get("id")))})}),this.props.onPick(e)},render:function(){var t=this,e=this.state,n=e.picked,r=e.search,o=this.props.groups,a=o.map(function(t){return t.get("properties").size}).reduce(function(t,e){return t+e},0);return i["default"].createElement("div",{className:"large-modal item-picker"},i["default"].createElement("div",{className:"horizontal stack"},i["default"].createElement("div",{className:"grow scroll-within"},i["default"].createElement("div",{className:"header"},a," Column",1!=a?"s":null," Available"),i["default"].createElement("div",{className:"search"},i["default"].createElement(v["default"],{floatingLabelText:"Search",value:r,onChange:this.handleSearchChange})),i["default"].createElement(_.List,null,(0,w["default"])(o.toJS(),function(e){var o=e.id,a=e.name,s=e.properties,l=s.map(function(e){var o=e.name,a=e.description,s=e.id,l=e.icon;return(o+"#"+(a||"")).toLowerCase().indexOf(r.toLowerCase())>-1?i["default"].createElement(_.ListItem,{className:(0,h["default"])({picked:!n.includes(s)}),key:s,primaryText:i["default"].createElement("div",null,i["default"].createElement(m["default"],{search:r},o)),secondaryText:i["default"].createElement("div",null,i["default"].createElement(m["default"],{search:r},a)),leftIcon:i["default"].createElement("div",null,i["default"].createElement(E["default"],{fixedWidth:!0,name:l})),onClick:function(){return t.handleAdd(s)}}):null});return l.filter(function(t){return t}).length>0?i["default"].createElement(_.ListItem,{primaryText:a,key:o,initiallyOpen:!0,onClick:function(){return t.handleAddAll(o)},nestedItems:l}):null}))),i["default"].createElement("div",{className:"grow stack vertical"},i["default"].createElement("div",{className:"grow scroll-within"},i["default"].createElement("div",{className:"header"},n.size?n.size:"No"," Column",1!=n.size?"s":null," Selected"),i["default"].createElement(_.List,null,(0,w["default"])(o.toJS(),function(e){var r=e.id,o=e.name,a=e.properties;return n.intersect(a.map(function(t){return t.id})).size>0?i["default"].createElement(_.ListItem,{primaryText:o,key:r,initiallyOpen:!0,onClick:function(){return t.handleRemoveAll(r)},nestedItems:a.map(function(e){var r=e.name,o=e.description,a=e.id,s=e.icon;return n.includes(a)?i["default"].createElement(_.ListItem,{key:a,secondaryText:o,primaryText:r,leftIcon:i["default"].createElement("div",null,i["default"].createElement(E["default"],{fixedWidth:!0,name:s})),onClick:function(){return t.handleRemove(a)}}):null})}):null}))),i["default"].createElement("div",{className:"centering-container"},i["default"].createElement(b["default"],{label:"Use",primary:!0,onClick:this.handlePick})))))}});t.exports=C},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(774),u=r(l),c=n(574),f=r(c),p=n(1582),h=r(p),d=n(1598),m=r(d),y=n(1021),v=r(y),g=n(945),b=r(g),_=n(1103),x=r(_),w=n(1131),T=n(750),E=r(T),C=i["default"].createClass({displayName:"ItemPicker",mixins:[s["default"]],propTypes:{itemName:i["default"].PropTypes.string,itemVerb:i["default"].PropTypes.string,initialSelection:u["default"].listOf(u["default"].contains({groupId:i["default"].PropTypes.string.isRequired,itemId:i["default"].PropTypes.string.isRequired,payload:i["default"].PropTypes.any})),groups:u["default"].mapOf(u["default"].contains({name:i["default"].PropTypes.string.isRequired,icon:i["default"].PropTypes.string,items:u["default"].listOf(u["default"].contains({name:i["default"].PropTypes.string.isRequired,icon:i["default"].PropTypes.string,description:i["default"].PropTypes.string,payload:i["default"].PropTypes.any}))})),onPick:i["default"].PropTypes.func.isRequired,icon:i["default"].PropTypes.string,title:i["default"].PropTypes.string},getDefaultProps:function(){return{title:"Pick items",icon:"check-square-o",itemName:"Item",itemVerb:"Select",initialSelection:f["default"].List()}},getInitialState:function(){return{picked:this.props.initialSelection,search:""}},componentWillMount:function(){},icon:function(){return this.props.icon},title:function(){return this.props.title},handleEnter:function(){this.handlePick()},handleAdd:function(t){var e=t.groupId,n=t.itemId,r=t.payload;this.setState({picked:this.state.picked.push(f["default"].Map({groupId:e,itemId:n,payload:r}))})},handleAddAll:function(t){var e=this.props.groups.getIn([t,"items"]).map(function(e,n){return f["default"].Map({groupId:t,itemId:n,payload:e.get("payload")})}).toList();this.setState({picked:this.state.picked.concat(e)})},handleRemove:function(t){this.setState({picked:this.state.picked["delete"](t)})},handleRemoveAll:function(t){this.setState({picked:f["default"].List()})},handlePick:function(){this.props.onPick(this.state.picked.map(function(t){return t.get("payload")}))},handleSearchChange:function(t){this.setState({search:t.target.value})},render:function(){var t=this,e=this.state,n=e.picked,r=e.search,o=this.props,a=o.itemName,s=o.itemVerb,l=o.groups,u=l.map(function(t){return t.get("items").size}).reduce(function(t,e){return t+e},0);return i["default"].createElement("div",{className:"large-modal item-picker"},i["default"].createElement("div",{className:"horizontal stack"},i["default"].createElement("div",{className:"grow scroll-within"},i["default"].createElement("div",{className:"header"},u," ",i["default"].createElement(m["default"],{text:a,ord:u})," available"),i["default"].createElement("div",{className:"search"},i["default"].createElement(v["default"],{floatingLabelText:"Search",value:r,onChange:this.handleSearchChange})),i["default"].createElement(w.List,null,l.map(function(e,n){var o=e.toObject(),s=o.name,l=o.icon,u=o.items,c=u.map(function(e,o){var a=e.toObject(),s=a.name,l=a.description,u=a.icon,c=a.payload;return(s+"#"+(l||"")).toLowerCase().indexOf(r.toLowerCase())>-1?i["default"].createElement(w.ListItem,{key:o,primaryText:i["default"].createElement("div",null,i["default"].createElement(h["default"],{search:r},s)),secondaryText:i["default"].createElement("div",null,i["default"].createElement(h["default"],{search:r},l)),leftIcon:i["default"].createElement("div",null,i["default"].createElement(E["default"],{fixedWidth:!0,name:u})),onClick:function(){return t.handleAdd({groupId:n,itemId:o,payload:c})}}):null}),f=c.filter(function(t){return t}).size;return f>0?i["default"].createElement(w.ListItem,{primaryText:i["default"].createElement("div",null," ",s," (",f," ",i["default"].createElement(m["default"],{text:a,ord:f}),")"),key:n+!!r,initiallyOpen:!!r,leftIcon:i["default"].createElement(E["default"],{fixedWidth:!0,name:l}),primaryTogglesNestedList:!0,nestedItems:c.toArray()}):null}).toArray())),i["default"].createElement("div",{className:"grow stack vertical"},i["default"].createElement("div",{className:"grow scroll-within"},i["default"].createElement("div",{className:"header"},n.size?n.size:"No"," ",i["default"].createElement(m["default"],{text:a,ord:n.size})," to ",s),i["default"].createElement(w.List,null,n.map(function(e,n){var r=e.toObject(),o=r.groupId,a=r.itemId,s=l.getIn([o,"name"]),u=l.getIn([o,"items",a]).toObject(),c=u.description,f=u.name,p=u.icon;return i["default"].createElement(w.ListItem,{key:n,secondaryText:c,primaryText:s+" - "+f,leftIcon:i["default"].createElement("div",null,i["default"].createElement(E["default"],{fixedWidth:!0,name:p})),onClick:function(){return t.handleRemove(n)}})}).toArray())),i["default"].createElement("div",{className:"centering-container"},i["default"].createElement("div",{style:{paddingRight:"10px"}},i["default"].createElement(x["default"],{label:"Clear",onClick:this.handleRemoveAll})),i["default"].createElement(b["default"],{label:i["default"].createElement("span",null,s+" "+n.size," ",i["default"].createElement(m["default"],{text:a,ord:n.size})),primary:!0,onClick:this.handlePick})))))}});t.exports=C},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(316),i=r(o),a=function(t){var e=t.text,n=t.ord;return i["default"].createElement("span",null,e,1!=n?"s":null)};a.propTypes={text:i["default"].PropTypes.string.isRequired,ord:i["default"].PropTypes.number.isRequired},a.displayName="Pluralise",e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(955),s=r(a),l=n(784),u=n(971),c=r(u),f=n(584),p=r(f),h=n(582),d=r(h),m=n(583),y=r(m),v=n(945),g=r(v),b=n(1017),_=r(b),x=n(1021),w=r(x),T=n(957),E=r(T),C=n(750),k=r(C),S=n(1387),P=r(S),M=n(1600),A=r(M),O=n(940),D=r(O),L=n(1606),I=r(L),j=n(1607),F=r(j),R=i["default"].createClass({displayName:"QueryPicker",mixins:[p["default"],d["default"],y["default"]],propTypes:{table:i["default"].PropTypes.string.isRequired,onPick:i["default"].PropTypes.func.isRequired,initialQuery:i["default"].PropTypes.string,initialStoredFilterNameFocus:i["default"].PropTypes.bool},getDefaultProps:function(){return{initialStoredFilterNameFocus:!1}},getInitialState:function(){return{query:this.props.initialQuery||this.state.defaultTableQuery||D["default"].nullQuery,storedFilterNameOpen:this.props.initialStoredFilterNameFocus,hasSidebar:!0,storedFilterName:""}},componentDidUpdate:function(t,e){this.state.storedFilterNameOpen&&this.storedFilterNameField&&this.storedFilterNameField.focus()},icon:function(){return"filter"},title:function(){return"Pick filter for "+this.tableConfig().namePlural},handleEnter:function(){this.handlePick()},handlePick:function(){this.props.onPick(this.state.query),this.getFlux().actions.session.tableQueryUsed(this.props.table,this.state.query)},handleQueryChange:function(t){this.setState({query:t})},handleStoredFilterNameOpen:function(){return this.config.user.isManager?void this.setState({storedFilterNameOpen:!0}):(console.error("handleStoredFilterNameOpen requires user.isManager"),null)},handleStoredFilterNameChange:function(t){this.setState({storedFilterName:t.target.value})},handleStoredFilterNameBlur:function(t){""===this.state.storedFilterName&&this.setState({storedFilterNameOpen:!1})},handleStore:function(){return this.config.user.isManager?""===this.state.storedFilterName?null:(this.getFlux().actions.api.modifyConfig({dataset:this.config.dataset,path:"tablesById."+this.props.table+".storedQueries",action:"merge",content:[{query:this.state.query,name:this.state.storedFilterName}]}),void this.setState({storedFilterNameOpen:!1})):(console.error("handleStore requires user.isManager"),null)},handleToggleSidebar:function(){this.setState({hasSidebar:!this.state.hasSidebar})},render:function(){var t=this,e=this.state,n=e.query,r=e.storedFilterNameOpen,o=e.hasSidebar,a=e.storedFilterName,u=this.props.table,f={storeFilter:["enter"]},p={storeFilter:function(e){t.handleStore()}};return i["default"].createElement("div",{className:"large-modal query-picker"},i["default"].createElement(s["default"],{styles:{sidebar:{paddingRight:(0,c["default"])()+"px"}},docked:o,transitions:!1,touch:!1,sidebar:i["default"].createElement("div",{className:"sidebar",style:{width:"35vw"}},i["default"].createElement(E["default"],{icon:this.icon(),description:"Filters can be used to show only the rows that meet specific criteria."}),i["default"].createElement(F["default"],{table:u,onClick:this.handleQueryChange,onDoubleClick:this.handlePick}),i["default"].createElement(_["default"],null),i["default"].createElement(I["default"],{table:u,onClick:this.handleQueryChange,onDoubleClick:this.handlePick}))},i["default"].createElement("div",{className:"vertical stack"},i["default"].createElement("div",{className:"top-bar"},i["default"].createElement(k["default"],{className:"pointer icon",name:o?"arrows-h":"bars",onClick:this.handleToggleSidebar,title:o?"Expand":"Sidebar"}),i["default"].createElement("span",{className:"block text"},"Filter editor")),i["default"].createElement("div",{className:"grow scroll-within query-editor-container"},i["default"].createElement(A["default"],{table:u,query:n,onChange:this.handleQueryChange})),i["default"].createElement("div",{className:"centering-container"},i["default"].createElement(P["default"],{className:"text",prepend:"",table:u,query:n})),i["default"].createElement("div",{className:"centering-container"},this.config.user.isManager&&r?i["default"].createElement("div",null,i["default"].createElement(l.HotKeys,{keyMap:f,handlers:p},i["default"].createElement(w["default"],{ref:function(e){return t.storedFilterNameField=e},hintText:"Stored filter name",value:a,onChange:this.handleStoredFilterNameChange,onBlur:this.handleStoredFilterNameBlur,style:{width:"10em",marginRight:"10px"}}),i["default"].createElement(g["default"],{style:{marginRight:"10px"},label:"Store",primary:!1,onClick:this.handleStore,icon:i["default"].createElement(k["default"],{fixedWidth:!0,name:"database",inverse:!1})}))):null,this.config.user.isManager&&!r?i["default"].createElement("div",null,i["default"].createElement(g["default"],{style:{marginRight:"10px"},label:"Store as...",primary:!1,onClick:this.handleStoredFilterNameOpen,icon:i["default"].createElement(k["default"],{fixedWidth:!0,name:"database",inverse:!1})})):null,i["default"].createElement(g["default"],{label:"Use",primary:!0,onClick:this.handlePick,icon:i["default"].createElement(k["default"],{fixedWidth:!0,name:"check",inverse:!0})})))))}});t.exports=R},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(1357),l=r(s),u=n(1601),c=r(u),f=n(952),p=r(f),h=n(316),d=r(h),m=n(654),y=r(m),v=n(584),g=r(v),b=n(583),_=r(b),x=n(582),w=r(x),T=n(590),E=r(T),C=n(940),k=r(C),S=n(1219),P=r(S),M=n(1604),A=r(M),O=n(945),D=r(O),L=n(947),I=r(L),j=n(750),F=r(j),R=d["default"].createClass({displayName:"Component",propTypes:{component:d["default"].PropTypes.object.isRequired},render:function(){var t=this.props.component;return"AND"===t.type?d["default"].createElement(N,this.props):"OR"===t.type?d["default"].createElement(z,this.props):d["default"].createElement(B,this.props)}}),N=d["default"].createClass({displayName:"And",propTypes:{component:d["default"].PropTypes.object.isRequired},render:function(){var t=this.props,e=t.component,n=i(t,["component"]);return d["default"].createElement("div",{className:"and"},e.components.map(function(t,e){return d["default"].createElement(R,a({},n,{key:e,component:t}))}))}}),z=d["default"].createClass({displayName:"Or",propTypes:{component:d["default"].PropTypes.object.isRequired},render:function(){var t=this.props,e=t.component,n=i(t,["component"]);return d["default"].createElement("div",{
className:"or"},d["default"].createElement("div",{className:"startline"},"OR"),d["default"].createElement("div",{className:"components"},e.components.map(function(t,e){return d["default"].createElement("div",{key:e,className:"or-criteria-wrapper"},d["default"].createElement(R,a({},n,{component:t})))})),d["default"].createElement("div",{className:"endline"}))}}),B=d["default"].createClass({displayName:"Criterion",mixins:[w["default"],_["default"],g["default"],(0,E["default"])("PanoptesStore")],propTypes:{component:d["default"].PropTypes.object.isRequired,onChange:d["default"].PropTypes.func.isRequired,table:d["default"].PropTypes.string.isRequired},getStateFromFlux:function(){return{subsets:this.getFlux().store("PanoptesStore").getStoredSubsetsFor(this.props.table)}},handleReplaceTrivial:function(){var t=this,e=this.props,n=e.component,r=e.onChange,i=this.tableConfig().propertiesById[this.tableConfig().primKey],a=k["default"].WhereClause.getCompatibleFieldComparisonOperators(i.encodingType),s=(0,c["default"])(k["default"].WhereClause._fieldComparisonOperators,{ID:a[0].ID}).Create();s.ColName=this.tableConfig().primKey,s.isTrivial=!1,["CompValue","CompValueMin","CompValueMax","Offset","Factor"].forEach(function(e){t.setState(o({},e,""))}),Object.assign(n,s),r()},handleRemove:function(){var t=this.props,e=t.component,n=t.onChange;e.isRoot?Object.assign(e,k["default"].WhereClause.Trivial()):e.parent.removeChild(e),n()},newComponent:function(){return k["default"].WhereClause.CompareFixed(this.tableConfig().primKey,"=","")},handleAddOr:function(){var t=this.props,e=t.component,n=t.onChange;if(e.isRoot||"AND"==e.parent.type){var r=k["default"].WhereClause.Compound("OR"),o=(0,l["default"])(e);o.isRoot=!1,r.addComponent(o),r.addComponent(this.newComponent()),r.parent=e.parent,r.isRoot=e.isRoot,Object.assign(e,r)}else e.parent.addComponent(this.newComponent());n()},handleAddAnd:function(){var t=this.props,e=t.component,n=t.onChange;if(e.isRoot||"OR"==e.parent.type){var r=k["default"].WhereClause.Compound("AND"),o=(0,l["default"])(e);o.isRoot=!1,r.addComponent(o),r.addComponent(this.newComponent()),r.parent=e.parent,r.isRoot=e.isRoot,Object.assign(e,r)}else e.parent.addComponent(this.newComponent());n()},validateOperatorAndValues:function(){var t=this,e=this.props.component,n=(0,c["default"])(k["default"].WhereClause._fieldComparisonOperators,{ID:e.type}).Create();["ColName","ColName2"].forEach(function(t){void 0!==e[t]&&(n[t]=e[t])});var r=this.tableConfig().propertiesById[n.ColName];["CompValue","CompValueMin","CompValueMax"].forEach(function(o){void 0!==e[o]?n[o]=(0,A["default"])(r,(0,P["default"])(r,e[o])):void 0!==t.state[o]&&(n[o]=(0,A["default"])(r,t.state[o]))}),(e.Offset||this.state.Offset)&&(n.Offset=e.Offset||this.state.Offset),(e.Factor||this.state.Factor)&&(n.Factor=e.Factor||this.state.Factor),(e.Subset||this.state.subsets[0])&&(n.Subset=e.Subset||this.state.subsets[0]),Object.assign(e,n)},handlePropertyChange:function(){var t=this.props,e=t.component,n=t.onChange;e.ColName=this.refs.property.value;var r=this.tableConfig().propertiesById[e.ColName],o=k["default"].WhereClause.getCompatibleFieldComparisonOperators(r.encodingType),i=o.filter(function(t){return t.ID===e.type})[0];if(i||(e.type=o[0].ID),!i)throw Error("SQL criterion operator not valid");e.CompValue=void 0,e.CompValue2=void 0,e.CompValueMin=void 0,e.CompValueMax=void 0,e.Factor=void 0,e.Offset=void 0,e.subset=void 0,"value"===i.fieldType&&(r.propCategories?e.CompValue=r.propCategories[0]:r.isBoolean&&(e.CompValue=!0)),this.validateOperatorAndValues(),n()},handleOperatorChange:function(){var t=this.props,e=t.component,n=t.onChange;e.type=this.refs.operator.value,this.validateOperatorAndValues(),n()},handleValueChange:function(){var t=this.props,e=t.component,n=t.onChange,r=this.tableConfig().propertiesById[e.ColName],o=k["default"].WhereClause.getCompatibleFieldComparisonOperators(r.encodingType),i=o.filter(function(t){return t.ID===e.type})[0];if(!i)throw Error("SQL criterion operator not valid");"value"===i.fieldType?(e.CompValue=(0,A["default"])(r,this.refs.value.value),this.setState({CompValue:this.refs.value.value})):"minMax"===i.fieldType?(e.CompValueMin=(0,A["default"])(r,this.refs.min.value),e.CompValueMax=(0,A["default"])(r,this.refs.max.value),this.setState({CompValueMin:this.refs.min.value,CompValueMax:this.refs.max.value})):"otherColumn"===i.fieldType?e.ColName2=this.refs.otherColumn.value:"otherColumnWithScaleAndOffset"===i.fieldType?(e.ColName2=this.refs.otherColumn.value,e.Factor=this.refs.scale.value,e.Offset=this.refs.offset.value,this.setState({Factor:this.refs.min.value,Offset:this.refs.max.value})):"subset"===i.fieldType&&(e.Subset=this.refs.subset.value),n()},render:function(){var t=this,e=this.props.component;if(e.isTrivial)return d["default"].createElement("div",{className:"criterion"},d["default"].createElement(D["default"],{label:"Add Criterion",onClick:this.handleReplaceTrivial}));var n=(0,l["default"])(this.tableConfig().propertyGroups);n.other={id:"other",name:"Other",properties:[{id:"_subset_",name:"In subset",disabled:0===this.state.subsets.size}]};var r=d["default"].createElement("select",{ref:"property",value:e.ColName,onChange:this.handlePropertyChange},(0,p["default"])(n,function(t){return d["default"].createElement("optgroup",{key:t.id,label:t.name},t.properties.map(function(t){var e=t.id,n=t.disabled,r=t.name;return d["default"].createElement("option",{key:e,value:e,disabled:n},r)}))})),o=this.tableConfig().propertiesById[e.ColName],i=k["default"].WhereClause.getCompatibleFieldComparisonOperators(o.encodingType),a=null;a=1==i.length?d["default"].createElement("div",{className:"operator"},i[0].name):d["default"].createElement("select",{ref:"operator",value:e.type,onChange:this.handleOperatorChange},i.map(function(t){var e=t.ID,n=t.name;return d["default"].createElement("option",{key:e,value:e},n)}));var s=function(){return d["default"].createElement("select",{className:"field",ref:"otherColumn",value:e.ColName2,onChange:t.handleValueChange},n.map(function(t){return"other"===t.id?null:d["default"].createElement("optgroup",{key:t.id,label:t.name},t.properties.map(function(t){var e=t.id,n=t.disabled,r=t.name;return d["default"].createElement("option",{key:e,value:e,disabled:n},r)}))}))},u=null,c=i.filter(function(t){return t.ID===e.type})[0];if(!c)throw Error("SQL criterion operator not valid");return"value"===c.fieldType?u=o.propCategories?d["default"].createElement("div",{className:"fields"},d["default"].createElement("select",{className:"field",ref:"value",value:e.CompValue,onChange:this.handleValueChange},o.propCategories.map(function(t){return d["default"].createElement("option",{key:t,value:t},t)}))):o.isBoolean?d["default"].createElement("div",{className:"fields"},d["default"].createElement("select",{className:"field",ref:"value",value:e.CompValue,onChange:this.handleValueChange},d["default"].createElement("option",{key:"true",value:!0},"True"),d["default"].createElement("option",{key:"false",value:!1},"False"))):d["default"].createElement("div",{className:"fields"},d["default"].createElement("input",{className:"field",ref:"value",value:e.CompValue?(0,P["default"])(o,e.CompValue):this.state.CompValue,onChange:this.handleValueChange})):"minMax"===c.fieldType?u=d["default"].createElement("div",{className:"fields"},d["default"].createElement("input",{className:"field",ref:"min",value:e.CompValueMin?(0,P["default"])(o,e.CompValueMin):this.state.CompValueMin,onChange:this.handleValueChange}),d["default"].createElement("div",null,"and"),d["default"].createElement("input",{className:"field",ref:"max",value:e.CompValueMax?(0,P["default"])(o,e.CompValueMax):this.state.CompValueMax,onChange:this.handleValueChange})):"otherColumn"===c.fieldType?u=d["default"].createElement("div",{className:"fields"},s()):"otherColumnWithScaleAndOffset"===c.fieldType?u=d["default"].createElement("div",{className:"fields"},s(),d["default"].createElement("div",null,"x"),d["default"].createElement("input",{className:"field",ref:"scale",value:e.Factor||this.state.Factor,onChange:this.handleValueChange}),d["default"].createElement("div",null,"+"),d["default"].createElement("input",{className:"field",ref:"offset",value:e.Offset||this.state.Offset,onChange:this.handleValueChange})):"subset"===c.fieldType&&(u=d["default"].createElement("div",{className:"fields"},d["default"].createElement("select",{className:"field",ref:"subset",value:e.subset,onChange:this.handleValueChange},this.state.subsets.toArray().map(function(t){var e=t.id,n=t.name;return d["default"].createElement("option",{key:e,value:e},n)})))),d["default"].createElement(I["default"],{zDepth:1,className:"criterion"},d["default"].createElement("div",{className:"inputs"},r,a,u),d["default"].createElement("div",{className:"actions"},d["default"].createElement("div",null,d["default"].createElement(F["default"],{className:"pointer close",name:"close",onClick:this.handleRemove})),d["default"].createElement("div",{className:"action",onClick:this.handleAddOr},"OR"),d["default"].createElement("div",{className:"action",onClick:this.handleAddAnd},"AND")))}}),U=d["default"].createClass({displayName:"QueryEditor",propTypes:{table:d["default"].PropTypes.string.isRequired,query:d["default"].PropTypes.string.isRequired,onChange:d["default"].PropTypes.func,className:d["default"].PropTypes.string},handleChange:function(t){this.props.onChange&&(t=k["default"].WhereClause.encode(t),this.props.onChange(t))},render:function(){var t=this.props,e=t.query,n=t.table,r=t.className;return e=k["default"].WhereClause.decode(e),d["default"].createElement("div",{className:(0,y["default"])("query-editor",r)},d["default"].createElement("div",{className:"endpoint"},"Full data set"),d["default"].createElement("br",null),d["default"].createElement("div",{className:"criteria"},d["default"].createElement(R,{component:e,table:n,onChange:this.handleChange.bind(this,e)})),d["default"].createElement("br",null),d["default"].createElement("div",{className:"endpoint"},"Filtered data set"))}});t.exports=U},function(t,e,n){var r=n(1602),o=n(1603),i=r(o);t.exports=i},function(t,e,n){function r(t){return function(e,n,r){var s=Object(e);if(!i(e)){var l=o(n,3);e=a(e),n=function(t){return l(s[t],t,s)}}var u=t(e,n,r);return u>-1?s[l?e[u]:u]:void 0}}var o=n(727),i=n(705),a=n(700);t.exports=r},function(t,e,n){function r(t,e,n){var r=t?t.length:0;if(!r)return-1;var l=null==n?0:a(n);return l<0&&(l=s(r+l,0)),o(t,i(e,3),l)}var o=n(641),i=n(727),a=n(650),s=Math.max;t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(1605),i=r(o),a=function(t){return t.getTime()/864e5+2440587.5};t.exports=function(t,e){if(t.isBoolean)return(0,i["default"])(["Yes","yes","1","true","True"],e)!==-1;if(t.isDate){var n=parseInt(e.substring(0,4)),r=parseInt(e.substring(5,7)),o=parseInt(e.substring(8,10));return isNaN(n)&&(n=2e3),isNaN(r)&&(r=1),isNaN(o)&&(o=1),a(new Date(n,r-1,o,6,0,0))}if(t.isFloat){if(""==e)return"";var s=parseFloat(e);return isNaN(s)?"":s.toFixed(t.decimDigits)}if(t.isInt){if(""==e)return"";var l=parseInt(e);return isNaN(l)?"":l}return e}},function(t,e,n){function r(t,e,n){var r=t?t.length:0;if(!r)return-1;var s=null==n?0:i(n);return s<0&&(s=a(r+s,0)),o(t,e,s)}var o=n(640),i=n(650),a=Math.max;t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(582),u=r(l),c=n(590),f=r(c),p=n(1131),h=n(1043),d=r(h),m=n(750),y=r(m),v=n(1387),g=r(v),b=i["default"].createClass({displayName:"RecentlyUsedTableQueries",mixins:[s["default"],u["default"],(0,f["default"])("SessionStore")],propTypes:{table:i["default"].PropTypes.string,onClick:i["default"].PropTypes.func,onDoubleClick:i["default"].PropTypes.func},getStateFromFlux:function(){return{usedTableQueries:this.getFlux().store("SessionStore").getState().get("usedTableQueries")}},getInitialState:function(){return null},handleClick:function(t,e){this.props.onClick(e)},handleDoubleClick:function(t,e){this.props.onDoubleClick(e)},render:function(){var t=this,e=this.props.table,n=this.state.usedTableQueries,r=null;if(n.size>0){for(var o=[],a=function(r,a){var s=n.get(r);if(s.get("table")===e){var l=i["default"].createElement(p.ListItem,{key:"usedTableQueriesListItem"+r,primaryText:i["default"].createElement("span",{className:"list-string"},i["default"].createElement(g["default"],{className:"text",prepend:"",table:e,query:s.get("query")})),onClick:function(e){return t.handleClick(e,s.get("query"))},onDoubleClick:function(e){return t.handleDoubleClick(e,s.get("query"))},leftIcon:i["default"].createElement(y["default"],{fixedWidth:!0,name:"filter"})});o.push(l)}},s=0,l=n.size;s<l;s++)a(s,l);r=i["default"].createElement(p.List,null,i["default"].createElement(d["default"],null,"Recently used filters:"),o)}else r=i["default"].createElement(p.List,null,i["default"].createElement(d["default"],null,"No recently used filters."));return r}});t.exports=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(582),u=r(l),c=n(583),f=r(c),p=n(1131),h=n(1043),d=r(h),m=n(796),y=r(m),v=n(750),g=r(v),b=n(1387),_=r(b),x=n(940),w=r(x),T=i["default"].createClass({displayName:"StoredTableQueries",mixins:[s["default"],u["default"],f["default"]],propTypes:{table:i["default"].PropTypes.string,onClick:i["default"].PropTypes.func,onDoubleClick:i["default"].PropTypes.func},getInitialState:function(){return null},handleClick:function(t,e){this.props.onClick(e)},handleDoubleClick:function(t,e){this.props.onDoubleClick(e)},handleOverwriteDefault:function(t,e){return this.config.user.isManager?void this.getFlux().actions.api.modifyConfig({dataset:this.config.dataset,path:"tablesById."+this.props.table+".defaultQuery",action:"replace",content:e}):(console.error("handleOverwriteDefault requires user.isManager"),null)},handleDelete:function(t,e){return this.config.user.isManager?void this.getFlux().actions.api.modifyConfig({dataset:this.config.dataset,path:"tablesById."+this.props.table+".storedQueries."+e,action:"delete"}):(console.error("handleDelete requires user.isManager"),null)},render:function(){var t=this,e=this.props.table,n=this.tableConfig().defaultQuery||w["default"].nullQuery,r=this.tableConfig().storedQueries||[],o=r.map(function(n,r){var o=n.name,a=n.query,s=null;return t.config.user.isManager&&(s=i["default"].createElement("div",null,i["default"].createElement(y["default"],{tooltip:"Set as default",tooltipPosition:"top-left",onClick:function(e){return t.handleOverwriteDefault(e,a)}},i["default"].createElement(g["default"],{name:"thumb-tack",inverse:!1})),i["default"].createElement(y["default"],{tooltip:"Delete",tooltipPosition:"top-left",onClick:function(e){return t.handleDelete(e,r)}},i["default"].createElement(g["default"],{name:"trash-o",inverse:!1})))),i["default"].createElement(p.ListItem,{key:r,primaryText:o,secondaryText:i["default"].createElement("p",{className:"list-string"},i["default"].createElement(_["default"],{className:"text",prepend:"",table:e,query:a})),secondaryTextLines:2,onClick:function(e){return t.handleClick(e,a)},onDoubleClick:function(e){return t.handleDoubleClick(e,a)},leftIcon:i["default"].createElement("div",null,i["default"].createElement("span",{className:"fa-stack"},i["default"].createElement(g["default"],{style:{position:"absolute",fontSize:"2em"},name:"circle-thin",stack:"2x"}),i["default"].createElement(g["default"],{style:{position:"absolute"},name:"filter",stack:"1x"}))),rightIconButton:s})});return i["default"].createElement(p.List,null,i["default"].createElement(d["default"],null,"Stored filters:"),i["default"].createElement(p.ListItem,{primaryText:"No filter",onClick:function(e){return t.handleClick(e,w["default"].nullQuery)},onDoubleClick:function(e){return t.handleDoubleClick(e,w["default"].nullQuery)},leftIcon:i["default"].createElement("div",null,i["default"].createElement("span",{className:"fa-stack"},i["default"].createElement(g["default"],{style:{position:"absolute"},name:"filter",stack:"1x"}),i["default"].createElement(g["default"],{style:{position:"absolute",fontSize:"2em",color:"#2196f3"},name:"ban",stack:"2x"})))}),i["default"].createElement(p.ListItem,{primaryText:"Default filter",secondaryText:i["default"].createElement("p",{className:"list-string"},i["default"].createElement(_["default"],{className:"text",prepend:"",table:e,query:n})),secondaryTextLines:2,onClick:function(e){return t.handleClick(e,n)},onDoubleClick:function(e){return t.handleDoubleClick(e,n)},leftIcon:i["default"].createElement("div",null,i["default"].createElement("span",{className:"fa-stack"},i["default"].createElement(g["default"],{style:{position:"absolute",fontSize:"2em"},name:"circle",stack:"2x"}),i["default"].createElement(g["default"],{style:{position:"absolute"},name:"filter",stack:"1x",inverse:!0})))}),o)}});t.exports=T},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(582),u=r(l),c=n(583),f=r(c),p=n(1571),h=r(p),d=n(1574),m=r(d),y=n(1429),v=r(y),g=i["default"].createClass({displayName:"StartTab",mixins:[s["default"],u["default"],f["default"]],propTypes:{setProps:i["default"].PropTypes.func.isRequired},icon:function(){return"home"},title:function(){return"Start"},handleClick:function(t){var e=t.component,n=t.middleClick;n?this.flux.actions.session.tabOpen(e,!1):this.flux.actions.session.tabOpen(e,!0)},render:function(){return i["default"].createElement("div",{className:"horizontal stack start-align"},i["default"].createElement(v["default"],{className:"grow description"},this.config.settings.description),i["default"].createElement("div",{className:""},i["default"].createElement(h["default"],{style:{width:"410px"},onClick:this.handleClick}),i["default"].createElement(m["default"],{style:{width:"410px"},onClick:this.handleClick})))}});t.exports=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(316),a=r(i),s=n(574),l=r(s),u=n(602),c=r(u),f=a["default"].createClass({displayName:"ComponentWrapper",propTypes:{children:a["default"].PropTypes.element.isRequired},componentWillMount:function(){var t=a["default"].Children.only(this.props.children);this.setState({childProps:l["default"].fromJS(t.props)})},componentWillReceiveProps:function(t){console.warn("Component wrapper does not pass on changing props")},render:function(){var t=this,e=a["default"].Children.only(this.props.children),n=this.state.childProps;return a["default"].cloneElement(e,o({},n.toObject(),{setProps:function(e){(0,c["default"])(e)?t.setState({childProps:n.update(e)}):t.setState({childProps:n.merge(e)})}}))}});t.exports=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(582),u=r(l);n(1611);var c=i["default"].createClass({displayName:"GeoMarker",mixins:[s["default"],u["default"]],propTypes:{title:i["default"].PropTypes.string,radius:i["default"].PropTypes.number,onClick:i["default"].PropTypes.func,isHighlighted:i["default"].PropTypes.bool},getDefaultProps:function(){return{radius:10}},render:function(){var t=this.props,e=t.title,n=t.radius,r=t.onClick,o=t.isHighlighted,a="geo-marker";return o&&(a+=" geo-marker-highlighted"),i["default"].createElement("svg",{style:{overflow:"visible"},width:"50",height:"50"},i["default"].createElement("g",{className:a,onClick:r,transform:"translate(0, 0)"},i["default"].createElement("title",null,e),i["default"].createElement("circle",{cx:"0",cy:"0",r:n})))}});t.exports=c},function(t,e,n){var r=n(1612);"string"==typeof r&&(r=[[t.id,r,""]]);n(782)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(781)(),e.push([t.id,".geo-marker{fill:pink;stroke:#000;stroke-width:.7;fill-opacity:.9;stroke-opacity:.9;cursor:pointer}.geo-marker-highlighted{fill:green}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(582),u=r(l),c=n(750),f=r(c),p=n(945),h=r(p),d=i["default"].createClass({displayName:"Alert",mixins:[s["default"],u["default"]],propTypes:{message:i["default"].PropTypes.string.isRequired,title:i["default"].PropTypes.string,OKButtonLabel:i["default"].PropTypes.string,onOK:i["default"].PropTypes.func},getDefaultProps:function(){return{message:"",OKButtonLabel:"OK",onOK:function(){}}},title:function(){return this.props.title},icon:function(){return"exclamation-triangle"},handleOK:function(){this.props.onOK(),this.getFlux().actions.session.modalClose()},render:function(){var t=this.props,e=t.message,n=t.OKButtonLabel;return i["default"].createElement("div",{style:{padding:"10px",maxWidth:"80vw"}},i["default"].createElement("div",{style:{padding:"10px"}},e),i["default"].createElement("div",{style:{padding:"5px 0 0 0",textAlign:"center"}},i["default"].createElement(h["default"],{style:{marginRight:"10px"},label:n,primary:!0,icon:i["default"].createElement(f["default"],{name:"check",inverse:!0}),onClick:this.handleOK})))}});t.exports=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(584),s=r(a),l=n(582),u=r(l),c=n(750),f=r(c),p=n(945),h=r(p),d=n(1103),m=r(d),y=i["default"].createClass({displayName:"Confirm",mixins:[s["default"],u["default"]],propTypes:{message:i["default"].PropTypes.string.isRequired,title:i["default"].PropTypes.string,onCancel:i["default"].PropTypes.func,onConfirm:i["default"].PropTypes.func,cancelButtonLabel:i["default"].PropTypes.string,confirmButtonLabel:i["default"].PropTypes.string},getDefaultProps:function(){return{message:"Are you sure?",cancelButtonLabel:"Cancel",confirmButtonLabel:"Confirm",onCancel:function(){},onConfirm:function(){}}},title:function(){return this.props.title},icon:function(){return"exclamation-triangle"},handleCancel:function(){this.props.onCancel(),this.getFlux().actions.session.modalClose()},handleConfirm:function(){this.props.onConfirm(),this.getFlux().actions.session.modalClose()},render:function(){var t=this.props,e=t.message,n=t.cancelButtonLabel,r=t.confirmButtonLabel;return i["default"].createElement("div",{style:{padding:"10px",maxWidth:"80vw"}},i["default"].createElement("div",{style:{padding:"10px"}},e),i["default"].createElement("div",{style:{padding:"5px 0 0 0",textAlign:"center"}},i["default"].createElement(h["default"],{style:{marginRight:"10px"},label:r,primary:!0,icon:i["default"].createElement(f["default"],{name:"check",inverse:!0}),onClick:this.handleConfirm}),i["default"].createElement(m["default"],{label:n,primary:!1,icon:i["default"].createElement(f["default"],{name:"close",inverse:!1}),onClick:this.handleCancel})))}});t.exports=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var i=n(316),a=r(i),s=n(584),l=r(s),u=a["default"].createClass({displayName:"HelloWorld",mixins:[l["default"]],propTypes:{msg:a["default"].PropTypes.string.isRequired},render:function(){var t=this.props,e=t.msg,n=o(t,["msg"]);return a["default"].createElement("div",n,"Hello World! ",e)}});t.exports=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(477),s=r(a),l=n(574),u=r(l),c=n(1617),f=r(c),p=n(1618),h=r(p),d=n(602),m=r(d),y=n(655),v=r(y),g=h["default"].SESSION,b="containers/EmptyTab",_="containers/StartTab",x=200,w=150,T=s["default"].createStore({initialize:function(t){this.state=u["default"].fromJS(t),this.bindActions(g.COMPONENT_SET_PROPS,this.emitIfNeeded(this.componentSetProps),g.COMPONENT_REPLACE,this.emitIfNeeded(this.componentReplace),g.MODAL_CLOSE,this.emitIfNeeded(this.modalClose),g.MODAL_OPEN,this.emitIfNeeded(this.modalOpen),g.NOTIFY,this.emitIfNeeded(this.notify,"notify"),g.POPUP_CLOSE,this.emitIfNeeded(this.popupClose),g.POPUP_FOCUS,this.emitIfNeeded(this.popupFocus),g.POPUP_MOVE,this.emitIfNeeded(this.popupMove),g.POPUP_OPEN,this.emitIfNeeded(this.popupOpen),g.POPUP_RESIZE,this.emitIfNeeded(this.popupResize),g.POPUP_TO_TAB,this.emitIfNeeded(this.popupToTab),g.TAB_CLOSE,this.emitIfNeeded(this.tabClose),g.TAB_OPEN,this.emitIfNeeded(this.tabOpen),g.TAB_POP_OUT,this.emitIfNeeded(this.tabPopOut),g.TAB_SWITCH,this.emitIfNeeded(this.tabSwitch),g.GENE_FOUND,this.emitIfNeeded(this.geneFound),g.TABLE_QUERY_USED,this.emitIfNeeded(this.tableQueryUsed),g.APP_RESIZE,this.emitIfNeeded(this.appResize))},emitIfNeeded:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"change";return function(r){var o=e.state;t(r),o.equals(e.state)&&"notify"!==n||e.emit(n)}},componentSetProps:function(t){var e=t.componentPath,n=t.updater;(0,m["default"])(n)?this.state=this.state.updateIn(["components"].concat(o(e),["props"]),n):this.state=this.state.mergeDeepIn(["components"].concat(o(e),["props"]),n)},componentReplace:function(t){var e=t.componentPath,n=t.newComponent;n=u["default"].fromJS(n),this.state=this.state.setIn(["components"].concat(o(e)),n)},modalClose:function(){this.state=this.state.set("modal",u["default"].Map())},modalOpen:function(t){this.state=this.state.set("modal",u["default"].fromJS(t))},notify:function(t){this.lastNotification=t},popupClose:function(t){var e=t.compId,n=this.state.getIn(["popups","components"]).filter(function(t){return t!==e});this.state=this.state.setIn(["popups","components"],n)},popupFocus:function(t){var e=t.compId;this.state=this.state.updateIn(["popups","components"],function(t){return t.filter(function(t){return t!==e}).push(e)})},popupMove:function(t){var e=t.compId,n=t.pos;this.state=this.state.mergeIn(["popups","state",e,"position"],n)},popupOpen:function(t){var e=this,n=t.component,r=t.compId,o=t.switchTo;r?this.state=this.state.updateIn(["popups","components"],function(t){return t.filter(function(t){return t!==r}).push(r)}):!function(){n=u["default"].fromJS(n);var t=(0,f["default"])(10);e.state=e.state.setIn(["components",t],n),e.state=e.state.updateIn(["popups","components"],function(e){return e.push(t)}),o&&e.popupFocus({compId:t})}()},popupResize:function(t){var e=t.compId,n=t.size;this.state=this.state.mergeIn(["popups","state",e,"size"],n)},popupToTab:function(t){this.tabOpen(i({switchTo:!0},t)),this.popupClose(t)},tabClose:function(t,e){var n=t.compId;if(e||this.state.getIn(["components",n,"component"])!==_){var r=this.state.getIn(["tabs","components"]).indexOf(n);if(r===-1)throw Error("Closed non-existant tab");var o=this.state.getIn(["tabs","components"])["delete"](r);this.state=this.state.setIn(["tabs","components"],o),0==o.size?this.tabOpen({component:{component:b},switchTo:!0}):n===this.state.getIn(["tabs","selectedTab"])&&(r<o.size?this.state=this.state.setIn(["tabs","selectedTab"],o.get(r)):this.state=this.state.setIn(["tabs","selectedTab"],o.last()))}},tabOpen:function(t){var e=t.component,n=t.switchTo,r=t.compId;r?this.state=this.state.updateIn(["tabs","components"],function(t){return t.filter(function(t){return t!==r}).push(r)}):(e=u["default"].fromJS(e),r=(0,f["default"])(10),this.state=this.state.setIn(["components",r],e),this.state=this.state.updateIn(["tabs","components"],function(t){return t.push(r)})),n&&(this.state=this.state.setIn(["tabs","selectedTab"],r))},tabPopOut:function(t){var e=t.compId,n=t.pos;this.state=this.state.updateIn(["popups","components"],function(t){return t.filter(function(t){return t!==e}).push(e)}),n&&(this.state=this.state.mergeIn(["popups","state",e,"position"],n)),this.tabClose({compId:e,pos:n},!0)},tabSwitch:function(t){var e=t.compId;this.state=this.state.setIn(["tabs","selectedTab"],e)},getState:function(){return this.state},getLastNotification:function(){return this.lastNotification},geneFound:function(t){var e=t.geneId;this.state=this.state.updateIn(["foundGenes"],function(t){return t.filter(function(t){return t!==e}).push(e)})},tableQueryUsed:function(t){var e=t.table,n=t.query;this.state=this.state.updateIn(["usedTableQueries"],function(t){return t.filter(function(t){return!(t.get("table")===e&&t.get("query")===n)}).unshift(u["default"].fromJS({table:e,query:n}))})},appResize:function(){var t=this,e=this.state.getIn(["popups","components"]);e.map(function(e){var n=t.state.getIn(["popups","state",e,"position"]),r=t.state.getIn(["popups","state",e,"size"]);if(void 0!==n&&void 0!==r){var o=n.get("x"),i=n.get("y"),a=r.get("width"),s=r.get("height");o+a>=window.innerWidth&&(a=window.innerWidth-o-1,a<x&&(a=x)),i+s>=window.innerHeight&&(s=window.innerHeight-i-1,s<w&&(s=w));var l=u["default"].Map({width:a,height:s});(0,v["default"])(r,l)||(t.state=t.state.mergeIn(["popups","state",e,"size"],l))}})}});t.exports=T},function(t,e){function n(t){return t=t||7,Math.random().toString(35).substr(2,t)}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};return(0,l["default"])(e,function(e,r){return n[e]=t+"_"+r}),n}var i=n(1619),a=r(i),s=n(1620),l=r(s),u=(0,a["default"])({COMPONENT_SET_PROPS:null,COMPONENT_REPLACE:null,MODAL_CLOSE:null,MODAL_OPEN:null,NOTIFY:null,POPUP_CLOSE:null,POPUP_MOVE:null,POPUP_OPEN:null,POPUP_FOCUS:null,POPUP_RESIZE:null,POPUP_TO_TAB:null,TAB_CLOSE:null,TAB_OPEN:null,TAB_POP_OUT:null,TAB_SWITCH:null,GENE_FOUND:null,TABLE_QUERY_USED:null,APP_RESIZE:null}),c=(0,a["default"])({}),f=(0,a["default"])({FETCH_USER:null,FETCH_USER_FAIL:null,FETCH_USER_SUCCESS:null,MODIFY_CONFIG:null,MODIFY_CONFIG_SUCCESS:null,MODIFY_CONFIG_FAIL:null});t.exports={SESSION:o("SESSION",u),PANOPTES:o("PANOPTES",c),API:o("API",f)}},function(t,e){"use strict";var n=function(t){var e,n={};if(!(t instanceof Object)||Array.isArray(t))throw new Error("keyMirror(...): Argument must be an object.");for(e in t)t.hasOwnProperty(e)&&(n[e]=e);return n};t.exports=n},function(t,e,n){function r(t,e){return t&&o(t,i(e,3))}var o=n(723),i=n(727);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(477),i=r(o),a=n(574),s=r(a),l=n(1618),u=r(l),c=u["default"].API,f=i["default"].createStore({initialize:function(t){this.state=s["default"].fromJS(t),this.bindActions(c.FETCH_USER_SUCCESS,this.fetchUserSuccess,c.FETCH_USER_FAIL,this.fetchUserFail)},fetchUserSuccess:function(t){this.state=this.state.set("user",t),this.emit("change")},fetchUserFail:function(t){console.error("fetchUserFail: %o",t)},getState:function(){return this.state},getStoredSubsetsFor:function(t){return this.state.getIn(["storedSubsets",t])||[]}});t.exports=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(477),a=r(i),s=n(1618),l=r(s),u=n(721),c=r(u),f=n(940),p=r(f),h=n(765),d=r(h),m=n(1015),y=r(m),v=n(768),g=r(v),b=n(941),_=r(b),x=l["default"].API,w=a["default"].createStore({initialize:function(t){this.state=this.addDerivedConfig(t),this.bindActions(x.MODIFY_CONFIG_SUCCESS,this.modifyConfigSuccess)},modifyConfigSuccess:function(t){var e=t.newConfig;this.state=o({},this.state,this.addDerivedConfig(e)),this.emit("change")},getState:function(){return this.state},columnSpec:function(t){var e={};return t.forEach(function(t){return e[t]="ST"}),e},addDerivedConfig:function(t){return t=(0,_["default"])(t),this.addTableConfig(t),this.addRelationConfig(t),this.add2DConfig(t),t},add2DConfig:function(t){t.twoDTables=[],(0,y["default"])(t.twoDTablesById,function(e,n){
e.id=n,t.twoDTables.push(e),e.propertiesById={},(0,y["default"])(e.properties,function(t){return e.propertiesById[t.id]=t})})},addRelationConfig:function(t){return t.tables.forEach(function(t){t.relationsChildOf=[],t.relationsParentOf=[]}),t.tables.forEach(function(e){e.properties.forEach(function(n){var r=n.relation;r&&(r.childTable=e,r.parentTable=t.tablesById[r.tableId],r.childPropId=n.id,r.childTable.relationsChildOf.push(r),r.parentTable.relationsParentOf.push(r))})}),t},addTableConfig:function(t){var e=this;t.tables=(0,d["default"])(t.tablesById),t.visibleTables=(0,g["default"])(t.tables,function(t){return!t.isHidden}),(0,c["default"])(t.tablesById,function(t,e){return t.id=e}),t.settings.dataTables&&(t.tables=[],t.settings.dataTables.forEach(function(e){t.tables.push(t.tablesById[e])}));var n=function(t){"AutoKey"===t.primKey&&t.properties.unshift({id:"AutoKey",name:"AutoKey",dataType:"Int32"}),t.hasGenomePositions="1"==t.isPositionOnGenome,t.nameSingle=t.nameSingle||t.name,t.namePlural=t.namePlural||t.name,t.capNameSingle=t.nameSingle.charAt(0).toUpperCase()+t.nameSingle.slice(1),t.capNamePlural=t.namePlural.charAt(0).toUpperCase()+t.namePlural.slice(1),t.quickFindFields=t.quickFindFields?t.quickFindFields.split(","):[t.primKey],t.icon?t.icon=t.icon.substring(3):t.icon="table",t.fetchTableName=t.id,t.fetchSubsamplingTableName=t.id,t.propertyGroupsById={},t.propertyGroups.forEach(function(e){t.propertyGroupsById[e.id]=e,e.properties=[]}),t.tableBasedSummaryValuesById={},t.tableBasedSummaryValues.forEach(function(e,n){t.tableBasedSummaryValuesById[e.id]=e,e.index=n}),""===t.defaultQuery&&(t.defaultQuery=p["default"].nullQuery),t.trees=t.trees||[],e.addPropertyConfig(t)};return t.tables.forEach(n),t.genome&&t.genome.summaryValues&&(0,c["default"])(t.genome.summaryValues,function(e,r){e.id=r,n(e),t.tablesById["__reference__"+r]=e}),t},addPropertyConfig:function(t){t.properties=t.properties||[],t.propertiesById={},t.properties.forEach(function(e){t.propertiesById[e.id]=e,e.tableId=t.id,"Text"==e.dataType&&(e.isText=!0),"Float"!=e.dataType&&"Double"!=e.dataType&&"GeoLongitude"!=e.dataType&&"GeoLatitude"!=e.dataType||(e.isFloat=!0,e.decimDigits=e.decimDigits||2),"Int8"!=e.dataType&&"Int16"!=e.dataType&&"Int32"!=e.dataType||(e.isInt=!0),"Boolean"==e.dataType&&(e.isBoolean=!0),"Date"==e.dataType&&(e.isDate=!0),e.isNumerical=e.isFloat||e.isInt||e.isDate,e.name||(e.name=e.id),e.isNumerical&&(e.minVal=e.minVal||0,e.maxVal=e.maxVal||1),"GeoLongitude"==e.dataType&&(e.minVal=e.minVal||0,e.maxVal=e.maxVal||360,e.decimDigits=e.decimDigits||5,t.longitude=e.id),"GeoLatitude"==e.dataType&&(e.minVal=e.minVal||-90,e.maxVal=e.maxVal||90,e.decimDigits=e.decimDigits||5,t.latitude=e.id),e.id==t.primKey&&(e.isPrimKey=!0),e.hasValueRange=!!e.maxVal,e.dispDataType="Text",e.icon="font",e.isCategorical&&(e.dispDataType="Categorical",e.icon="bar-chart"),(e.isFloat||e.isInt)&&(e.dispDataType="Value",e.icon="line-chart"),e.isBoolean&&(e.dispDataType="Boolean",e.icon="check-square-o"),e.isDate&&(e.dispDataType="Date",e.icon="calendar"),"GeoLongitude"==e.dataType&&(e.dispDataType="Longitude",e.icon="globe"),"GeoLatitude"==e.dataType&&(e.dispDataType="Latitude",e.icon="globe"),e.groupId&&t.propertyGroupsById[e.groupId]&&t.propertyGroupsById[e.groupId].properties.push(e),e.groupId||(t.propertyGroupsById._UNGROUPED_||(t.propertyGroupsById._UNGROUPED_={id:"_UNGROUPED_",name:"Properties",properties:[]},t.propertyGroups.push(t.propertyGroupsById._UNGROUPED_)),t.propertyGroupsById._UNGROUPED_.properties.push(e)),e.isFloat&&0==e.decimDigits&&(e.isInt=!0),e.isDate&&(t.hasDate=!0),e.encoding={Text:"String",Float:"FloatH",Double:"FloatH",Int8:"Int",Int16:"Int",Int32:"Int",Boolean:"String",GeoLatitude:"FloatH",GeoLongitude:"FloatH",Date:"FloatH"}[e.dataType];var n={Generic:"String",String:"String",Float2:"Float",Float3:"Float",Float4:"Float",FloatH:"Float",Int:"Integer",IntB64:"Integer",IntDiff:"Integer"};e.encodingType=n[e.encoding];var r={Generic:"GN",String:"ST",Float2:"F2",Float3:"F3",Float4:"F4",FloatH:"FH",Int:"IN",IntB64:"IB",IntDiff:"ID"},o={Generic:"GN",String:"ST",Float2:"FH",Float3:"FH",Float4:"FH",FloatH:"FH",Int:"IN",IntB64:"IB",IntDiff:"ID"};e.defaultFetchEncoding=r[e.encoding],e.defaultDisplayEncoding=o[e.encoding],e.alignment={Text:"left",Float:"right",Double:"right",Int8:"right",Int16:"right",Int32:"right",Boolean:"center",GeoLatitude:"right",GeoLongitude:"right",Date:"center"}[e.dataType],e.description=e.description||"",e.showBar=e.ShowBar||e.barWidth>0,e.showByDefault="tableDefaultVisible"in e?e.tableDefaultVisible:e.isPrimKey||e.id==t.chromosome||e.id==t.position||!1}),t.hasGeoCoord=!(!t.longitude||!t.latitude)}});t.exports=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(1618),s=r(a),l=n(954),u=r(l),c=n(1570),f=r(c),p=s["default"].SESSION,h={componentSetProps:function(t,e){this.dispatch(p.COMPONENT_SET_PROPS,{componentPath:t,updater:e})},componentReplace:function(t,e){this.dispatch(p.COMPONENT_REPLACE,{componentPath:t,newComponent:(0,u["default"])(e)})},modalClose:function(){this.dispatch(p.MODAL_CLOSE)},modalOpen:function(t,e){this.dispatch(p.MODAL_OPEN,{component:t,props:e})},notify:function(t){this.dispatch(p.NOTIFY,t)},popupClose:function(t){this.dispatch(p.POPUP_CLOSE,{compId:t})},popupOpen:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.dispatch(p.POPUP_OPEN,{component:(0,u["default"])(t),switchTo:e})},popupFocus:function(t){this.dispatch(p.POPUP_FOCUS,{compId:t})},popupMove:function(t,e){this.dispatch(p.POPUP_MOVE,{compId:t,pos:e})},popupResize:function(t,e){this.dispatch(p.POPUP_RESIZE,{compId:t,size:e})},popupToTab:function(t){this.dispatch(p.POPUP_TO_TAB,{compId:t})},tabClose:function(t){this.dispatch(p.TAB_CLOSE,{compId:t})},tabOpen:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t||(t=i["default"].createElement(f["default"],null)),this.dispatch(p.TAB_OPEN,{component:(0,u["default"])(t),switchTo:e})},tabPopOut:function(t,e){this.dispatch(p.TAB_POP_OUT,{compId:t,pos:e})},tabSwitch:function(t){this.dispatch(p.TAB_SWITCH,{compId:t})},geneFound:function(t){this.dispatch(p.GENE_FOUND,{geneId:t})},tableQueryUsed:function(t,e){this.dispatch(p.TABLE_QUERY_USED,{table:t,query:e})},appResize:function(){this.dispatch(p.APP_RESIZE,{})}};t.exports=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(316),i=r(o),a=n(1618),s=r(a),l=n(1586),u=r(l),c=n(1245),f=r(c),p=n(954),h=r(p),d=s["default"].SESSION,m=function(t){return{dataItemPopup:function(e){var n=e.table,r=e.primKey,o=e.switchTo,a=void 0===o||o,s=t.tablesById[n].dataItemViews,l=u["default"].getViews(s,t.tablesById[n].hasGeoCoord);this.dispatch(d.POPUP_OPEN,{component:(0,h["default"])(i["default"].createElement(f["default"],{table:n,primKey:r},l)),switchTo:a})}}};t.exports=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(1618),a=r(i),s=n(933),l=r(s),u=n(950),c=r(u),f=n(939),p=a["default"].API,h={fetchUser:function(t){var e=this,n=null;this.dispatch(p.FETCH_USER),l["default"].requestJSON({params:{datatype:"serverstatus"}}).then(function(t){if("issue"in t)throw Error(t.issue);n=t.userid}).then(l["default"].requestJSON({params:{datatype:"datasetinfo",database:t}}).then(function(t){var r={title:"Schema Outdated",level:"error",autoDismiss:0,action:{label:"Open admin",callback:function(){window.open("admin.html","_blank")}}};t.needfullreload&&(r.message="A full reload is needed",e.flux.actions.session.notify(r)),t.needconfigreload&&(r.message="A config update is needed",e.flux.actions.session.notify(r)),e.dispatch(p.FETCH_USER_SUCCESS,{id:n,isManager:t.manager})})["catch"](function(n){e.dispatch(p.FETCH_USER_FAIL),(0,c["default"])(e.flux,n.message,function(){return e.flux.actions.api.fetchUser(t)})}))["catch"](function(n){e.dispatch(p.FETCH_USER_FAIL),(0,c["default"])(e.flux,n.message,function(){return e.flux.actions.api.fetchUser(t)})})},modifyConfig:function(t){var e=this;(0,f.assertRequired)(t,["dataset","path"]);var n={action:"replace",content:null},r=o({},n,t),i=r.dataset,a=r.path,s=r.action,u=r.content;this.dispatch(p.MODIFY_CONFIG),l["default"].modifyConfig({dataset:i,path:a,action:s,content:u}).then(function(t){e.dispatch(p.MODIFY_CONFIG_SUCCESS,{newConfig:t})})["catch"](function(n){e.dispatch(p.MODIFY_CONFIG_FAIL),(0,c["default"])(e.flux,n.message,function(){return e.flux.actions.api.modifyConfig(t)})})}};t.exports=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(933),a=r(i),s=function(t){var e=!1;return a["default"].requestJSON({params:{datatype:"datasetinfo",database:t}}).then(function(t){t.needfullreload&&console.log("Schema full reload"),t.needconfigreload&&console.log("Schema config reload"),e=t.manager}).then(function(){return a["default"].requestJSON({params:{datatype:"getconfig",dataset:t}})}).then(function(n){return o({dataset:t,user:{isManager:e}},n.config)})};t.exports=s},function(t,e,n){var r=(n(322),n(1628)),o=!1;t.exports=function(t){t=t||{};var e=t.shouldRejectClick||r;o=!0,n(354).injection.injectEventPluginsByName({TapEventPlugin:n(1629)(e)})}},function(t,e){t.exports=function(t,e){if(t&&e-t<750)return!0}},function(t,e,n){"use strict";function r(t,e){var n=c.extractSingleTouch(e);return n?n[t.page]:t.page in e?e[t.page]:e[t.client]+f[t.envScroll]}function o(t,e){var n=r(x.x,e),o=r(x.y,e);return Math.pow(Math.pow(n-t.x,2)+Math.pow(o-t.y,2),.5)}function i(t){return{tapMoveThreshold:v,ignoreMouseThreshold:g,eventTypes:E,extractEvents:function(e,n,i,a){if(y(e))_=C();else if(t(_,C()))return null;if(!d(e)&&!m(e))return null;var s=null,c=o(b,i);return m(e)&&c<v&&(s=u.getPooled(E.touchTap,n,i,a)),d(e)?(b.x=r(x.x,i),b.y=r(x.y,i)):m(e)&&(b.x=0,b.y=0),l.accumulateTwoPhaseDispatches(s),s}}}var a=n(352),s=n(356),l=n(353),u=n(381),c=n(1630),f=n(382),p=n(339),h=a.topLevelTypes,d=s.isStartish,m=s.isEndish,y=function(t){var e=[h.topTouchCancel,h.topTouchEnd,h.topTouchStart,h.topTouchMove];return e.indexOf(t)>=0},v=10,g=750,b={x:null,y:null},_=null,x={x:{page:"pageX",client:"clientX",envScroll:"currentPageScrollLeft"},y:{page:"pageY",client:"clientY",envScroll:"currentPageScrollTop"}},w=[h.topTouchStart,h.topTouchCancel,h.topTouchEnd,h.topTouchMove],T=[h.topMouseDown,h.topMouseMove,h.topMouseUp].concat(w),E={touchTap:{phasedRegistrationNames:{bubbled:p({onTouchTap:null}),captured:p({onTouchTapCapture:null})},dependencies:T}},C=function(){return Date.now?Date.now:function(){return+new Date}}();t.exports=i},function(t,e){var n={extractSingleTouch:function(t){var e=t.touches,n=t.changedTouches,r=e&&e.length>0,o=n&&n.length>0;return!r&&o?n[0]:r?e[0]:t}};t.exports=n},function(t,e,n){t.exports=n(1632)},function(t,e,n){"use strict";function r(){g||(g=!0,"undefined"!=typeof console&&console.error("ReactPerf is not supported in the production builds of React. To collect measurements, please use the development build of React instead."))}function o(){return r(),[]}function i(){arguments.length<=0||void 0===arguments[0]?o():arguments[0];return r(),[]}function a(){arguments.length<=0||void 0===arguments[0]?o():arguments[0];return r(),[]}function s(){arguments.length<=0||void 0===arguments[0]?o():arguments[0];return r(),[]}function l(){arguments.length<=0||void 0===arguments[0]?o():arguments[0];return r(),[]}function u(t){return void r()}function c(t){return void r()}function f(t){return void r()}function p(t){return void r()}function h(t){return b=!0,p(t)}function d(t){return _=!0,s(t)}function m(){return void r()}function y(){return void r()}function v(){return r(),!1}var g=(n(318),n(1633),n(325),!1),b=!1,_=!1,x={getLastMeasurements:o,getExclusive:i,getInclusive:a,getWasted:s,getOperations:l,printExclusive:u,printInclusive:c,printWasted:f,printOperations:p,start:m,stop:y,isRunning:v,printDOM:h,getMeasurementsSummaryMap:d};t.exports=x},function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s){try{e.call(n,r,o,i,a,s)}catch(l){_[t]=!0}}function o(t,e,n,o,i,a){for(var s=0;s<b.length;s++){var l=b[s],u=l[t];u&&r(t,u,l,e,n,o,i,a)}}function i(){m.purgeUnmountedComponents(),d.clearHistory()}function a(t){return t.reduce(function(t,e){var n=m.getOwnerID(e),r=m.getParentID(e);return t[e]={displayName:m.getDisplayName(e),text:m.getText(e),updateCount:m.getUpdateCount(e),childIDs:m.getChildIDs(e),ownerID:n||m.getOwnerID(r),parentID:r},t},{})}function s(){var t=k,e=C||[],n=d.getHistory();if(0===E)return k=null,C=null,void i();if(e.length||n.length){var r=m.getRegisteredIDs();w.push({duration:g()-t,measurements:e||[],operations:n||[],treeSnapshot:a(r)})}i(),k=g(),C=[]}function l(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1]}function u(t,e){0!==E&&(A&&!O&&(O=!0),P=g(),M=0,S=t,A=e)}function c(t,e){0!==E&&(A===e||O||(O=!0),x&&C.push({timerType:e,instanceID:t,duration:g()-P-M}),P=null,M=null,S=null,A=null)}function f(){var t={startTime:P,nestedFlushStartTime:g(),debugID:S,timerType:A};T.push(t),P=null,M=null,S=null,A=null}function p(){var t=T.pop(),e=t.startTime,n=t.nestedFlushStartTime,r=t.debugID,o=t.timerType,i=g()-n;P=e,M+=i,S=r,A=o}var h=n(1634),d=n(1635),m=n(430),y=n(1636),v=n(360),g=n(1637),b=(n(325),[]),_={},x=!1,w=[],T=[],E=0,C=null,k=null,S=null,P=null,M=null,A=null,O=!1,D={addHook:function(t){b.push(t)},removeHook:function(t){for(var e=0;e<b.length;e++)b[e]===t&&(b.splice(e,1),e--)},isProfiling:function(){return x},beginProfiling:function(){x||(x=!0,w.length=0,s(),D.addHook(d))},endProfiling:function(){x&&(x=!1,s(),D.removeHook(d))},getFlushHistory:function(){return w},onBeginFlush:function(){E++,s(),f(),o("onBeginFlush")},onEndFlush:function(){s(),E--,p(),o("onEndFlush")},onBeginLifeCycleTimer:function(t,e){l(t),o("onBeginLifeCycleTimer",t,e),u(t,e)},onEndLifeCycleTimer:function(t,e){l(t),c(t,e),o("onEndLifeCycleTimer",t,e)},onBeginProcessingChildContext:function(){o("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){o("onEndProcessingChildContext")},onHostOperation:function(t,e,n){l(t),o("onHostOperation",t,e,n)},onSetState:function(){o("onSetState")},onSetChildren:function(t,e){l(t),e.forEach(l),o("onSetChildren",t,e)},onBeforeMountComponent:function(t,e,n){l(t),l(n,!0),o("onBeforeMountComponent",t,e,n)},onMountComponent:function(t){l(t),o("onMountComponent",t)},onBeforeUpdateComponent:function(t,e){l(t),o("onBeforeUpdateComponent",t,e)},onUpdateComponent:function(t){l(t),o("onUpdateComponent",t)},onBeforeUnmountComponent:function(t){l(t),o("onBeforeUnmountComponent",t)},onUnmountComponent:function(t){l(t),o("onUnmountComponent",t)},onTestEvent:function(){o("onTestEvent")}};D.addDevtool=D.addHook,D.removeDevtool=D.removeHook,D.addHook(h),D.addHook(m),D.addHook(y);var L=v.canUseDOM&&window.location.href||"";/[?&]react_perf\b/.test(L)&&D.beginProfiling(),t.exports=D},function(t,e,n){"use strict";var r,o,i=(n(325),{onBeginProcessingChildContext:function(){r=!0},onEndProcessingChildContext:function(){r=!1},onSetState:function(){o()}});t.exports=i},function(t,e){"use strict";var n=[],r={onHostOperation:function(t,e,r){n.push({instanceID:t,type:e,payload:r})},clearHistory:function(){r._preventClearing||(n=[])},getHistory:function(){return n}};t.exports=r},function(t,e,n){"use strict";function r(t,e){if(null!=e&&void 0!==e._shadowChildren&&e._shadowChildren!==e.props.children){var n=!1;if(Array.isArray(e._shadowChildren))if(e._shadowChildren.length===e.props.children.length)for(var r=0;r<e._shadowChildren.length;r++)e._shadowChildren[r]!==e.props.children[r]&&(n=!0);else n=!0;!Array.isArray(e._shadowChildren)||n}}var o=n(430),i=(n(325),{onMountComponent:function(t){r(t,o.getElement(t))},onUpdateComponent:function(t){r(t,o.getElement(t))}});t.exports=i},function(t,e,n){"use strict";var r,o=n(1638);r=o.now?function(){return o.now()}:function(){return Date.now()},t.exports=r},function(t,e,n){"use strict";var r,o=n(360);o.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),t.exports=r||{}},function(t,e){!function(t){"use strict";t.console||(t.console={});for(var e,n,r=t.console,o=function(){},i=["memory"],a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=i.pop();)r[e]||(r[e]={});for(;n=a.pop();)"function"!=typeof r[n]&&(r[n]=o)}("undefined"==typeof window?this:window)},function(t,e,n){var r=n(1641);"string"==typeof r&&(r=[[t.id,r,""]]);n(782)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(781)(),e.push([t.id,"/*! normalize.css v3.0.2 | MIT License | git.io/normalize */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}",""])}]));